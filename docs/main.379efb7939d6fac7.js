"use strict";(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{835:()=>{function xe(n){return"function"==typeof n}function au(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Yl=au(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function mo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof Yl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{W0(s)}catch(o){e=e??[],o instanceof Yl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Yl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)W0(e);else{if(e instanceof bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&mo(t,e)}remove(e){const{_finalizers:t}=this;t&&mo(t,e),e instanceof bn&&e._removeParent(this)}}bn.EMPTY=(()=>{const n=new bn;return n.closed=!0,n})();const z0=bn.EMPTY;function q0(n){return n instanceof bn||n&&"closed"in n&&xe(n.remove)&&xe(n.add)&&xe(n.unsubscribe)}function W0(n){xe(n)?n():n.unsubscribe()}const _s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Jl={setTimeout(n,e,...t){const{delegate:r}=Jl;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Jl;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function K0(n){Jl.setTimeout(()=>{const{onUnhandledError:e}=_s;if(!e)throw n;e(n)})}function hg(){}const lU=fg("C",void 0,void 0);function fg(n,e,t){return{kind:n,value:e,error:t}}let vs=null;function Xl(n){if(_s.useDeprecatedSynchronousErrorHandling){const e=!vs;if(e&&(vs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=vs;if(vs=null,t)throw r}}else n()}class pg extends bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,q0(e)&&e.add(this)):this.destination=yU}static create(e,t,r){return new uu(e,t,r)}next(e){this.isStopped?mg(function hU(n){return fg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?mg(function dU(n){return fg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mg(lU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pU=Function.prototype.bind;function gg(n,e){return pU.call(n,e)}class gU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Zl(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Zl(r)}else Zl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Zl(t)}}}class uu extends pg{constructor(e,t,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&_s.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gg(e.next,s),error:e.error&&gg(e.error,s),complete:e.complete&&gg(e.complete,s)}):i=e}this.destination=new gU(i)}}function Zl(n){_s.useDeprecatedSynchronousErrorHandling?function fU(n){_s.useDeprecatedSynchronousErrorHandling&&vs&&(vs.errorThrown=!0,vs.error=n)}(n):K0(n)}function mg(n,e){const{onStoppedNotification:t}=_s;t&&Jl.setTimeout(()=>t(n,e))}const yU={closed:!0,next:hg,error:function mU(n){throw n},complete:hg},yg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ws(n){return n}function Q0(n){return 0===n.length?ws:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ze=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function wU(n){return n&&n instanceof pg||function vU(n){return n&&xe(n.next)&&xe(n.error)&&xe(n.complete)}(n)&&q0(n)}(t)?t:new uu(t,r,i);return Xl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Y0(r))((i,s)=>{const o=new uu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[yg](){return this}pipe(...t){return Q0(t)(this)}toPromise(t){return new(t=Y0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Y0(n){var e;return null!==(e=n??_s.Promise)&&void 0!==e?e:Promise}const IU=au(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qr=(()=>{class n extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new J0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new IU}next(t){Xl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Xl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Xl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?z0:(this.currentObservers=null,s.push(t),new bn(()=>{this.currentObservers=null,mo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ze;return t.source=this,t}}return n.create=(e,t)=>new J0(e,t),n})();class J0 extends qr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:z0}}function X0(n){return xe(n?.lift)}function mt(n){return e=>{if(X0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(n,e,t,r,i){return new CU(n,e,t,r,i)}class CU extends pg{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(n,e){return mt((t,r)=>{let i=0;t.subscribe(ut(r,s=>{r.next(n.call(e,s,i++))}))})}function wg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Mi(n){return this instanceof Mi?(this.v=n,this):new Mi(n)}function nb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Cg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const rb=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ib(n){return xe(n?.then)}function sb(n){return xe(n[yg])}function ob(n){return Symbol.asyncIterator&&xe(n?.[Symbol.asyncIterator])}function ab(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ub=function GU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cb(n){return xe(n?.[ub])}function lb(n){return function tb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Mi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Mi(t.read());if(i)return yield Mi(void 0);yield yield Mi(r)}}finally{t.releaseLock()}})}function db(n){return xe(n?.getReader)}function Tn(n){if(n instanceof Ze)return n;if(null!=n){if(sb(n))return function HU(n){return new Ze(e=>{const t=n[yg]();if(xe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(rb(n))return function zU(n){return new Ze(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ib(n))return function qU(n){return new Ze(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,K0)})}(n);if(ob(n))return hb(n);if(cb(n))return function WU(n){return new Ze(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(db(n))return function KU(n){return hb(lb(n))}(n)}throw ab(n)}function hb(n){return new Ze(e=>{(function QU(n,e){var t,r,i,s;return function Z0(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=nb(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Wr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Dt(n,e,t=1/0){return xe(e)?Dt((r,i)=>le((s,o)=>e(r,s,i,o))(Tn(n(r,i))),t):("number"==typeof e&&(t=e),mt((r,i)=>function YU(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;Tn(t(g,l++)).subscribe(ut(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Wr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return n.subscribe(ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function yo(n=1/0){return Dt(ws,n)}const mr=new Ze(n=>n.complete());function fb(n){return n&&xe(n.schedule)}function Eg(n){return n[n.length-1]}function pb(n){return xe(Eg(n))?n.pop():void 0}function cu(n){return fb(Eg(n))?n.pop():void 0}function gb(n,e=0){return mt((t,r)=>{t.subscribe(ut(r,i=>Wr(r,n,()=>r.next(i),e),()=>Wr(r,n,()=>r.complete(),e),i=>Wr(r,n,()=>r.error(i),e)))})}function mb(n,e=0){return mt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function yb(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ze(t=>{Wr(t,e,()=>{const r=n[Symbol.asyncIterator]();Wr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ct(n,e){return e?function iB(n,e){if(null!=n){if(sb(n))return function ZU(n,e){return Tn(n).pipe(mb(e),gb(e))}(n,e);if(rb(n))return function tB(n,e){return new Ze(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ib(n))return function eB(n,e){return Tn(n).pipe(mb(e),gb(e))}(n,e);if(ob(n))return yb(n,e);if(cb(n))return function nB(n,e){return new Ze(t=>{let r;return Wr(t,e,()=>{r=n[ub](),Wr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(n,e);if(db(n))return function rB(n,e){return yb(lb(n),e)}(n,e)}throw ab(n)}(n,e):Tn(n)}function Dg(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new uu({next:()=>{r.unsubscribe(),n()}});return Tn(e(...t)).subscribe(r)}function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function bg(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Tg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const aB=Ae({__forward_ref__:Ae});function Ne(n){return n.__forward_ref__=Ne,n.toString=function(){return Me(this())},n}function z(n){return Sg(n)?n():n}function Sg(n){return"function"==typeof n&&n.hasOwnProperty(aB)&&n.__forward_ref__===Ne}function Ag(n){return n&&!!n.\u0275providers}const _b="https://g.co/ng/security#xss";class S extends Error{constructor(e,t){super(ed(e,t)),this.code=e}}function ed(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function Z(n){return"string"==typeof n?n:null==n?"":String(n)}function td(n,e){throw new S(-201,!1)}function Vn(n,e){null==n&&function Ie(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jn(n){return{providers:n.providers||[],imports:n.imports||[]}}function nd(n){return vb(n,rd)||vb(n,Ib)}function vb(n,e){return n.hasOwnProperty(e)?n[e]:null}function wb(n){return n&&(n.hasOwnProperty(xg)||n.hasOwnProperty(gB))?n[xg]:null}const rd=Ae({\u0275prov:Ae}),xg=Ae({\u0275inj:Ae}),Ib=Ae({ngInjectableDef:Ae}),gB=Ae({ngInjectorDef:Ae});var W=(()=>((W=W||{})[W.Default=0]="Default",W[W.Host=1]="Host",W[W.Self=2]="Self",W[W.SkipSelf=4]="SkipSelf",W[W.Optional=8]="Optional",W))();let Mg;function Un(n){const e=Mg;return Mg=n,e}function Cb(n,e,t){const r=nd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&W.Optional?null:void 0!==e?e:void td(Me(n))}const Fe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lu={},Ng="__NG_DI_FLAG__",id="ngTempTokenPath",yB="ngTokenPath",_B=/\n/gm,vB="\u0275",Eb="__source";let du;function _o(n){const e=du;return du=n,e}function wB(n,e=W.Default){if(void 0===du)throw new S(-203,!1);return null===du?Cb(n,void 0,e):du.get(n,e&W.Optional?null:void 0,e)}function K(n,e=W.Default){return(function mB(){return Mg}()||wB)(z(n),e)}function de(n,e=W.Default){return K(n,sd(e))}function sd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Rg(n){const e=[];for(let t=0;t<n.length;t++){const r=z(n[t]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=W.Default;for(let o=0;o<r.length;o++){const a=r[o],u=IB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(K(i,s))}else e.push(K(r))}return e}function hu(n,e){return n[Ng]=e,n.prototype[Ng]=e,n}function IB(n){return n[Ng]}function Kr(n){return{toString:n}.toString()}var yr=(()=>((yr=yr||{})[yr.OnPush=0]="OnPush",yr[yr.Default=1]="Default",yr))(),_r=(()=>{return(n=_r||(_r={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",_r;var n})();const Qr={},ve=[],od=Ae({\u0275cmp:Ae}),kg=Ae({\u0275dir:Ae}),Pg=Ae({\u0275pipe:Ae}),bb=Ae({\u0275mod:Ae}),Yr=Ae({\u0275fac:Ae}),fu=Ae({__NG_ELEMENT_ID__:Ae});let DB=0;function Bn(n){return Kr(()=>{const e=Sb(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||_r.Emulated,id:"c"+DB++,styles:n.styles||ve,_:null,schemas:n.schemas||null,tView:null};Ab(t);const r=n.dependencies;return t.directiveDefs=ad(r,!1),t.pipeDefs=ad(r,!0),t})}function TB(n){return Ce(n)||Gt(n)}function SB(n){return null!==n}function vr(n){return Kr(()=>({type:n.type,bootstrap:n.bootstrap||ve,declarations:n.declarations||ve,imports:n.imports||ve,exports:n.exports||ve,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Tb(n,e){if(null==n)return Qr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function Y(n){return Kr(()=>{const e=Sb(n);return Ab(e),e})}function Ce(n){return n[od]||null}function Gt(n){return n[kg]||null}function pn(n){return n[Pg]||null}function An(n,e){const t=n[bb]||null;if(!t&&!0===e)throw new Error(`Type ${Me(n)} does not have '\u0275mod' property.`);return t}function Sb(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||ve,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tb(n.inputs,e),outputs:Tb(n.outputs)}}function Ab(n){n.features?.forEach(e=>e(n))}function ad(n,e){if(!n)return null;const t=e?pn:TB;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(SB)}const Jr=0,P=1,ie=2,Ke=3,Xn=4,Is=5,Ht=6,wo=7,et=8,ud=9,cd=10,oe=11,Og=12,pu=13,xb=14,Io=15,zt=16,gu=17,Co=18,wr=19,mu=20,Mb=21,Le=22,Fg=1,Nb=2,ld=7,dd=8,Eo=9,nn=10;function xn(n){return Array.isArray(n)&&"object"==typeof n[Fg]}function Zn(n){return Array.isArray(n)&&!0===n[Fg]}function Lg(n){return 0!=(4&n.flags)}function yu(n){return n.componentOffset>-1}function hd(n){return 1==(1&n.flags)}function er(n){return!!n.template}function xB(n){return 0!=(256&n[ie])}function Cs(n,e){return n.hasOwnProperty(Yr)?n[Yr]:null}class RB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function jn(){return Pb}function Pb(n){return n.type.prototype.ngOnChanges&&(n.setInput=PB),kB}function kB(){const n=Fb(this),e=n?.current;if(e){const t=n.previous;if(t===Qr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function PB(n,e,t,r){const i=this.declaredInputs[t],s=Fb(n)||function OB(n,e){return n[Ob]=e}(n,{previous:Qr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new RB(u&&u.currentValue,e,a===Qr),n[r]=e}jn.ngInherit=!0;const Ob="__ngSimpleChanges__";function Fb(n){return n[Ob]||null}const $n=function(n,e,t){};function Pt(n){for(;Array.isArray(n);)n=n[Jr];return n}function fd(n,e){return Pt(e[n])}function Mn(n,e){return Pt(e[n.index])}function Ub(n,e){return n.data[e]}function gn(n,e){const t=e[n];return xn(t)?t:t[Jr]}function pd(n){return 64==(64&n[ie])}function Ri(n,e){return null==e?null:n[e]}function Bb(n){n[Co]=0}function Ug(n,e){n[Is]+=e;let t=n,r=n[Ke];for(;null!==r&&(1===e&&1===t[Is]||-1===e&&0===t[Is]);)r[Is]+=e,t=r,r=r[Ke]}const ee={lFrame:Yb(null),bindingsEnabled:!0};function $b(){return ee.bindingsEnabled}function E(){return ee.lFrame.lView}function pe(){return ee.lFrame.tView}function yt(n){return ee.lFrame.contextLView=n,n[et]}function _t(n){return ee.lFrame.contextLView=null,n}function Ot(){let n=Gb();for(;null!==n&&64===n.type;)n=n.parent;return n}function Gb(){return ee.lFrame.currentTNode}function Ir(n,e){const t=ee.lFrame;t.currentTNode=n,t.isParent=e}function Bg(){return ee.lFrame.isParent}function bo(){return ee.lFrame.bindingIndex++}function KB(n,e){const t=ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,$g(e)}function $g(n){ee.lFrame.currentDirectiveIndex=n}function Hg(n){ee.lFrame.currentQueryIndex=n}function YB(n){const e=n[P];return 2===e.type?e.declTNode:1===e.type?n[Ht]:null}function Kb(n,e,t){if(t&W.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&W.Host||(i=YB(s),null===i||(s=s[Io],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ee.lFrame=Qb();return r.currentTNode=e,r.lView=n,!0}function zg(n){const e=Qb(),t=n[P];ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Qb(){const n=ee.lFrame,e=null===n?null:n.child;return null===e?Yb(n):e}function Yb(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Jb(){const n=ee.lFrame;return ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Xb=Jb;function qg(){const n=Jb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function sn(){return ee.lFrame.selectedIndex}function Es(n){ee.lFrame.selectedIndex=n}function He(){const n=ee.lFrame;return Ub(n.tView,n.selectedIndex)}function gd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks??(n.destroyHooks=[])).push(t,l)}}function md(n,e,t){Zb(n,e,3,t)}function yd(n,e,t,r){(3&n[ie])===t&&Zb(n,e,t,r)}function Wg(n,e){let t=n[ie];(3&t)===e&&(t&=2047,t+=1,n[ie]=t)}function Zb(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[Co]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[Co]+=65536),(a<s||-1==s)&&(sj(n,t,e,u),n[Co]=(4294901760&n[Co])+u+2),u++}function sj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[ie]>>11<n[Co]>>16&&(3&n[ie])===e){n[ie]+=2048,$n(4,a,s);try{s.call(a)}finally{$n(5,a,s)}}}else{$n(4,a,s);try{s.call(a)}finally{$n(5,a,s)}}}const To=-1;class vu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Qg(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];tT(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function eT(n){return 3===n||4===n||6===n}function tT(n){return 64===n.charCodeAt(0)}function wu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||nT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function nT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function rT(n){return n!==To}function _d(n){return 32767&n}function vd(n,e){let t=function cj(n){return n>>16}(n),r=e;for(;t>0;)r=r[Io],t--;return r}let Yg=!0;function wd(n){const e=Yg;return Yg=n,e}const iT=255,sT=5;let lj=0;const Cr={};function Id(n,e){const t=oT(n,e);if(-1!==t)return t;const r=e[P];r.firstCreatePass&&(n.injectorIndex=e.length,Jg(r.data,n),Jg(e,null),Jg(r.blueprint,null));const i=Xg(n,e),s=n.injectorIndex;if(rT(i)){const o=_d(i),a=vd(i,e),u=a[P].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Jg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function oT(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Xg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=fT(i),null===r)return To;if(t++,i=i[Io],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return To}function Zg(n,e,t){!function dj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(fu)&&(r=t[fu]),null==r&&(r=t[fu]=lj++);const i=r&iT;e.data[n+(i>>sT)]|=1<<i}(n,e,t)}function aT(n,e,t){if(t&W.Optional||void 0!==n)return n;td()}function uT(n,e,t,r){if(t&W.Optional&&void 0===r&&(r=null),!(t&(W.Self|W.Host))){const i=n[ud],s=Un(void 0);try{return i?i.get(e,r,t&W.Optional):Cb(e,r,t&W.Optional)}finally{Un(s)}}return aT(r,0,t)}function cT(n,e,t,r=W.Default,i){if(null!==n){if(1024&e[ie]){const o=function mj(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[ie]&&!(256&o[ie]);){const a=lT(s,o,t,r|W.Self,Cr);if(a!==Cr)return a;let u=s.parent;if(!u){const c=o[Mb];if(c){const l=c.get(t,Cr,r);if(l!==Cr)return l}u=fT(o),o=o[Io]}s=u}return i}(n,e,t,r,Cr);if(o!==Cr)return o}const s=lT(n,e,t,r,Cr);if(s!==Cr)return s}return uT(e,t,r,i)}function lT(n,e,t,r,i){const s=function pj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(fu)?n[fu]:void 0;return"number"==typeof e?e>=0?e&iT:gj:e}(t);if("function"==typeof s){if(!Kb(e,n,r))return r&W.Host?aT(i,0,r):uT(e,t,r,i);try{const o=s(r);if(null!=o||r&W.Optional)return o;td()}finally{Xb()}}else if("number"==typeof s){let o=null,a=oT(n,e),u=To,c=r&W.Host?e[zt][Ht]:null;for((-1===a||r&W.SkipSelf)&&(u=-1===a?Xg(n,e):e[a+8],u!==To&&hT(r,!1)?(o=e[P],a=_d(u),e=vd(u,e)):a=-1);-1!==a;){const l=e[P];if(dT(s,a,l.data)){const d=fj(a,e,t,o,r,c);if(d!==Cr)return d}u=e[a+8],u!==To&&hT(r,e[P].data[a+8]===c)&&dT(s,a,e)?(o=l,a=_d(u),e=vd(u,e)):a=-1}}return i}function fj(n,e,t,r,i,s){const o=e[P],a=o.data[n+8],l=function Cd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&er(f)&&f.type===t)return u}return null}(a,o,t,null==r?yu(a)&&Yg:r!=o&&0!=(3&a.type),i&W.Host&&s===a);return null!==l?Ds(e,o,l,a):Cr}function Ds(n,e,t,r){let i=n[t];const s=e.data;if(function oj(n){return n instanceof vu}(i)){const o=i;o.resolving&&function uB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${t}`)}(function we(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Z(n)}(s[t]));const a=wd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Un(o.injectImpl):null;Kb(n,r,W.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function ij(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Pb(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Un(u),wd(a),o.resolving=!1,Xb()}}return i}function dT(n,e,t){return!!(t[e+(n>>sT)]&1<<n)}function hT(n,e){return!(n&W.Self||n&W.Host&&e)}class So{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return cT(this._tNode,this._lView,e,sd(r),t)}}function gj(){return new So(Ot(),E())}function Ft(n){return Kr(()=>{const e=n.prototype.constructor,t=e[Yr]||em(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Yr]||em(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function em(n){return Sg(n)?()=>{const e=em(z(n));return e&&e()}:Cs(n)}function fT(n){const e=n[P],t=e.type;return 2===t?e.declTNode:1===t?n[Ht]:null}const xo="__parameters__";function No(n,e,t){return Kr(()=>{const r=function tm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(xo)?u[xo]:Object.defineProperty(u,xo,{value:[]})[xo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class B{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bs(n,e){n.forEach(t=>Array.isArray(t)?bs(t,e):e(t))}function gT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Dd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Nn(n,e,t){let r=Ro(n,e);return r>=0?n[1|r]=t:(r=~r,function wj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function rm(n,e){const t=Ro(n,e);if(t>=0)return n[1|t]}function Ro(n,e){return function mT(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Du=hu(No("Optional"),8),bu=hu(No("SkipSelf"),4);var mn=(()=>((mn=mn||{})[mn.Important=1]="Important",mn[mn.DashCase=2]="DashCase",mn))();const cm=new Map;let $j=0;const dm="__ngContext__";function qt(n,e){xn(e)?(n[dm]=e[mu],function Hj(n){cm.set(n[mu],n)}(e)):n[dm]=e}let hm;function fm(n,e){return hm(n,e)}function xu(n){const e=n[Ke];return Zn(e)?e[Ke]:e}function pm(n){return FT(n[pu])}function gm(n){return FT(n[Xn])}function FT(n){for(;null!==n&&!Zn(n);)n=n[Xn];return n}function Po(n,e,t,r,i){if(null!=r){let s,o=!1;Zn(r)?s=r:xn(r)&&(o=!0,r=r[Jr]);const a=Pt(r);0===n&&null!==t?null==i?$T(e,t,a):Ts(e,t,a,i||null,!0):1===n&&null!==t?Ts(e,t,a,i||null,!0):2===n?function Cm(n,e,t){const r=Ad(n,e);r&&function l$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function f$(n,e,t,r,i){const s=t[ld];s!==Pt(t)&&Po(e,n,r,s,i);for(let a=nn;a<t.length;a++){const u=t[a];Mu(u[P],u,n,e,r,s)}}(e,n,s,t,i)}}function ym(n,e,t){return n.createElement(e,t)}function VT(n,e){const t=n[Eo],r=t.indexOf(e),i=e[Ke];512&e[ie]&&(e[ie]&=-513,Ug(i,-1)),t.splice(r,1)}function _m(n,e){if(n.length<=nn)return;const t=nn+e,r=n[t];if(r){const i=r[gu];null!==i&&i!==n&&VT(i,r),e>0&&(n[t-1][Xn]=r[Xn]);const s=Dd(n,nn+e);!function n$(n,e){Mu(n,e,e[oe],2,null,null),e[Jr]=null,e[Ht]=null}(r[P],r);const o=s[wr];null!==o&&o.detachView(s[P]),r[Ke]=null,r[Xn]=null,r[ie]&=-65}return r}function UT(n,e){if(!(128&e[ie])){const t=e[oe];t.destroyNode&&Mu(n,e,t,3,null,null),function s$(n){let e=n[pu];if(!e)return vm(n[P],n);for(;e;){let t=null;if(xn(e))t=e[pu];else{const r=e[nn];r&&(t=r)}if(!t){for(;e&&!e[Xn]&&e!==n;)xn(e)&&vm(e[P],e),e=e[Ke];null===e&&(e=n),xn(e)&&vm(e[P],e),t=e&&e[Xn]}e=t}}(e)}}function vm(n,e){if(!(128&e[ie])){e[ie]&=-65,e[ie]|=128,function c$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof vu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];$n(4,a,u);try{u.call(a)}finally{$n(5,a,u)}}else{$n(4,i,s);try{s.call(i)}finally{$n(5,i,s)}}}}}(n,e),function u$(n,e){const t=n.cleanup,r=e[wo];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[wo]=null}}(n,e),1===e[P].type&&e[oe].destroy();const t=e[gu];if(null!==t&&Zn(e[Ke])){t!==e[Ke]&&VT(t,e);const r=e[wr];null!==r&&r.detachView(n)}!function zj(n){cm.delete(n[mu])}(e)}}function BT(n,e,t){return function jT(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Jr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===_r.None||s===_r.Emulated)return null}return Mn(r,t)}}(n,e.parent,t)}function Ts(n,e,t,r,i){n.insertBefore(e,t,r,i)}function $T(n,e,t){n.appendChild(e,t)}function GT(n,e,t,r,i){null!==r?Ts(n,e,t,r,i):$T(n,e,t)}function Ad(n,e){return n.parentNode(e)}let wm,bm,Rd,qT=function zT(n,e,t){return 40&n.type?Mn(n,t):null};function xd(n,e,t,r){const i=BT(n,r,e),s=e[oe],a=function HT(n,e,t){return qT(n,e,t)}(r.parent||e[Ht],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)GT(s,i,t[u],a,!1);else GT(s,i,t,a,!1);void 0!==wm&&wm(s,r,e,t,i)}function Md(n,e){if(null!==e){const t=e.type;if(3&t)return Mn(e,n);if(4&t)return Im(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Md(n,r);{const i=n[e.index];return Zn(i)?Im(-1,i):Pt(i)}}if(32&t)return fm(e,n)()||Pt(n[e.index]);{const r=KT(n,e);return null!==r?Array.isArray(r)?r[0]:Md(xu(n[zt]),r):Md(n,e.next)}}return null}function KT(n,e){return null!==e?n[zt][Ht].projection[e.projection]:null}function Im(n,e){const t=nn+n+1;if(t<e.length){const r=e[t],i=r[P].firstChild;if(null!==i)return Md(r,i)}return e[ld]}function Em(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&qt(Pt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Em(n,e,t.child,r,i,s,!1),Po(e,n,i,a,s);else if(32&u){const c=fm(t,r);let l;for(;l=c();)Po(e,n,i,l,s);Po(e,n,i,a,s)}else 16&u?QT(n,e,r,t,i,s):Po(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Mu(n,e,t,r,i,s){Em(t,r,n.firstChild,e,i,s,!1)}function QT(n,e,t,r,i,s){const o=t[zt],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Po(e,n,i,u[c],s);else Em(n,e,u,o[Ke],i,s,!0)}function YT(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function JT(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Qg(n,e,r),null!==i&&YT(n,e,i),null!==s&&function g$(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function tS(n){return function Tm(){if(void 0===Rd&&(Rd=null,Fe.trustedTypes))try{Rd=Fe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Rd}()?.createScriptURL(n)||n}class nS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_b})`}}function ki(n){return n instanceof nS?n.changingThisBreaksApplicationSecurity:n}function Nu(n,e){const t=function b$(n){return n instanceof nS&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${_b})`)}return t===e}const x$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var lt=(()=>((lt=lt||{})[lt.NONE=0]="NONE",lt[lt.HTML=1]="HTML",lt[lt.STYLE=2]="STYLE",lt[lt.SCRIPT=3]="SCRIPT",lt[lt.URL=4]="URL",lt[lt.RESOURCE_URL=5]="RESOURCE_URL",lt))();function cS(n){const e=ku();return e?e.sanitize(lt.URL,n)||"":Nu(n,"URL")?ki(n):function Sm(n){return(n=String(n)).match(x$)?n:"unsafe:"+n}(Z(n))}function lS(n){const e=ku();if(e)return tS(e.sanitize(lt.RESOURCE_URL,n)||"");if(Nu(n,"ResourceURL"))return tS(ki(n));throw new S(904,!1)}function ku(){const n=E();return n&&n[Og]}const Pd=new B("ENVIRONMENT_INITIALIZER"),hS=new B("INJECTOR",-1),fS=new B("INJECTOR_DEF_TYPES");class pS{get(e,t=lu){if(t===lu){const r=new Error(`NullInjectorError: No provider for ${Me(e)}!`);throw r.name="NullInjectorError",r}return t}}function $$(...n){return{\u0275providers:gS(0,n),\u0275fromNgModule:!0}}function gS(n,...e){const t=[],r=new Set;let i;return bs(e,s=>{const o=s;Nm(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&mS(i,t),t}function mS(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Rm(i,s=>{e.push(s)})}}function Nm(n,e,t,r){if(!(n=z(n)))return!1;let i=null,s=wb(n);const o=!s&&Ce(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=wb(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Nm(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{bs(s.imports,l=>{Nm(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&mS(c,e)}if(!a){const c=Cs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ve},{provide:fS,useValue:i,multi:!0},{provide:Pd,useValue:()=>K(i),multi:!0})}const u=s.providers;null==u||a||Rm(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function Rm(n,e){for(let t of n)Ag(t)&&(t=t.\u0275providers),Array.isArray(t)?Rm(t,e):e(t)}const G$=Ae({provide:String,useValue:Ae});function km(n){return null!==n&&"object"==typeof n&&G$ in n}function Ss(n){return"function"==typeof n}const Pm=new B("Set Injector scope."),Od={},z$={};let Om;function Fd(){return void 0===Om&&(Om=new pS),Om}class ti{}class vS extends ti{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lm(e,o=>this.processProvider(o)),this.records.set(hS,Fo(void 0,this)),i.has("environment")&&this.records.set(ti,Fo(void 0,this));const s=this.records.get(Pm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fS.multi,ve,W.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=_o(this),r=Un(void 0);try{return e()}finally{_o(t),Un(r)}}get(e,t=lu,r=W.Default){this.assertNotDestroyed(),r=sd(r);const i=_o(this),s=Un(void 0);try{if(!(r&W.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Y$(n){return"function"==typeof n||"object"==typeof n&&n instanceof B}(e)&&nd(e);a=u&&this.injectableDefInScope(u)?Fo(Fm(e),Od):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&W.Self?Fd():this.parent).get(e,t=r&W.Optional&&t===lu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[id]=o[id]||[]).unshift(Me(e)),i)throw o;return function CB(n,e,t,r){const i=n[id];throw e[Eb]&&i.unshift(e[Eb]),n.message=function EB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==vB?n.slice(2):n;let i=Me(e);if(Array.isArray(e))i=e.map(Me).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(_B,"\n  ")}`}("\n"+n.message,i,t,r),n[yB]=i,n[id]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Un(s),_o(i)}}resolveInjectorInitializers(){const e=_o(this),t=Un(void 0);try{const r=this.get(Pd.multi,ve,W.Self);for(const i of r)i()}finally{_o(e),Un(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Me(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let t=Ss(e=z(e))?e:z(e&&e.provide);const r=function W$(n){return km(n)?Fo(void 0,n.useValue):Fo(wS(n),Od)}(e);if(Ss(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Fo(void 0,Od,!0),i.factory=()=>Rg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Od&&(t.value=z$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Q$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=z(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Fm(n){const e=nd(n),t=null!==e?e.factory:Cs(n);if(null!==t)return t;if(n instanceof B)throw new S(204,!1);if(n instanceof Function)return function q$(n){const e=n.length;if(e>0)throw function Eu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new S(204,!1);const t=function pB(n){return n&&(n[rd]||n[Ib])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new S(204,!1)}function wS(n,e,t){let r;if(Ss(n)){const i=z(n);return Cs(i)||Fm(i)}if(km(n))r=()=>z(n.useValue);else if(function _S(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Rg(n.deps||[]));else if(function yS(n){return!(!n||!n.useExisting)}(n))r=()=>K(z(n.useExisting));else{const i=z(n&&(n.useClass||n.provide));if(!function K$(n){return!!n.deps}(n))return Cs(i)||Fm(i);r=()=>new i(...Rg(n.deps))}return r}function Fo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Lm(n,e){for(const t of n)Array.isArray(t)?Lm(t,e):t&&Ag(t)?Lm(t.\u0275providers,e):e(t)}class J${}class IS{}class Z${resolveComponentFactory(e){throw function X$(n){const e=Error(`No component factory found for ${Me(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Pu=(()=>{class n{}return n.NULL=new Z$,n})();function eG(){return Lo(Ot(),E())}function Lo(n,e){return new Rn(Mn(n,e))}let Rn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=eG,n})();class ES{}let ni=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function nG(){const n=E(),t=gn(Ot().index,n);return(xn(t)?t:n)[oe]}(),n})(),rG=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>null}),n})();class Ou{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iG=new Ou("15.2.9"),Vm={},Um="ngOriginalError";function Bm(n){return n[Um]}class Vo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Bm(e);for(;t&&Bm(t);)t=Bm(t);return t||null}}function ri(n){return n instanceof Function?n():n}function bS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const TS="ng-template";function gG(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==bS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function SS(n){return 4===n.type&&n.value!==TS}function mG(n,e,t){return e===(4!==n.type||t?n.value:TS)}function yG(n,e,t){let r=4;const i=n.attrs||[],s=function wG(n){for(let e=0;e<n.length;e++)if(eT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!mG(n,u,t)||""===u&&1===e.length){if(tr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!gG(n.attrs,c,t)){if(tr(r))return!1;o=!0}continue}const d=_G(8&r?"class":u,i,SS(n),t);if(-1===d){if(tr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==bS(f,c,0)||2&r&&c!==h){if(tr(r))return!1;o=!0}}}}else{if(!o&&!tr(r)&&!tr(u))return!1;if(o&&tr(u))continue;o=!1,r=u|1&r}}return tr(r)||o}function tr(n){return 0==(1&n)}function _G(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function IG(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function AS(n,e,t=!1){for(let r=0;r<e.length;r++)if(yG(n,e[r],t))return!0;return!1}function xS(n,e){return n?":not("+e.trim()+")":e}function EG(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!tr(o)&&(e+=xS(s,i),i=""),r=o,s=s||!tr(r);t++}return""!==i&&(e+=xS(s,i)),e}const te={};function Ee(n){MS(pe(),E(),sn()+n,!1)}function MS(n,e,t,r){if(!r)if(3==(3&e[ie])){const s=n.preOrderCheckHooks;null!==s&&md(e,s,t)}else{const s=n.preOrderHooks;null!==s&&yd(e,s,0,t)}Es(t)}function PS(n,e=null,t=null,r){const i=OS(n,e,t,r);return i.resolveInjectorInitializers(),i}function OS(n,e=null,t=null,r,i=new Set){const s=[t||ve,$$(n)];return r=r||("object"==typeof n?void 0:Me(n)),new vS(s,e||Fd(),r||null,i)}let Er=(()=>{class n{static create(t,r){if(Array.isArray(t))return PS({name:""},r,t,"");{const i=t.name??"";return PS({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=lu,n.NULL=new pS,n.\u0275prov=q({token:n,providedIn:"any",factory:()=>K(hS)}),n.__NG_ELEMENT_ID__=-1,n})();function b(n,e=W.Default){const t=E();return null===t?K(n,e):cT(Ot(),t,z(n),e)}function GS(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Hg(t[r]),o.contentQueries(2,e[s],s)}}}function Vd(n,e,t,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Jr]=i,d[ie]=76|r,(null!==l||n&&1024&n[ie])&&(d[ie]|=1024),Bb(d),d[Ke]=d[Io]=n,d[et]=t,d[cd]=o||n&&n[cd],d[oe]=a||n&&n[oe],d[Og]=u||n&&n[Og]||null,d[ud]=c||n&&n[ud]||null,d[Ht]=s,d[mu]=function Gj(){return $j++}(),d[Mb]=l,d[zt]=2==e.type?n[zt]:d,d}function jo(n,e,t,r,i){let s=n.data[e];if(null===s)s=function zm(n,e,t,r,i){const s=Gb(),o=Bg(),u=n.data[e]=function QG(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function WB(){return ee.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function _u(){const n=ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ir(s,!0),s}function Fu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function qm(n,e,t){zg(e);try{const r=n.viewQuery;null!==r&&ty(1,r,t);const i=n.template;null!==i&&HS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&GS(n,e),n.staticViewQueries&&ty(2,n.viewQuery,t);const s=n.components;null!==s&&function qG(n,e){for(let t=0;t<e.length;t++)g4(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ie]&=-5,qg()}}function Ud(n,e,t,r){const i=e[ie];if(128!=(128&i)){zg(e);try{Bb(e),function zb(n){return ee.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&HS(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&md(e,c,null)}else{const c=n.preOrderHooks;null!==c&&yd(e,c,0,null),Wg(e,0)}if(function f4(n){for(let e=pm(n);null!==e;e=gm(e)){if(!e[Nb])continue;const t=e[Eo];for(let r=0;r<t.length;r++){const i=t[r];512&i[ie]||Ug(i[Ke],1),i[ie]|=512}}}(e),function h4(n){for(let e=pm(n);null!==e;e=gm(e))for(let t=nn;t<e.length;t++){const r=e[t],i=r[P];pd(r)&&Ud(i,r,i.template,r[et])}}(e),null!==n.contentQueries&&GS(n,e),o){const c=n.contentCheckHooks;null!==c&&md(e,c)}else{const c=n.contentHooks;null!==c&&yd(e,c,1),Wg(e,1)}!function HG(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Es(~i);else{const s=i,o=t[++r],a=t[++r];KB(o,s),a(2,e[s])}}}finally{Es(-1)}}(n,e);const a=n.components;null!==a&&function zG(n,e){for(let t=0;t<e.length;t++)p4(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&ty(2,u,r),o){const c=n.viewCheckHooks;null!==c&&md(e,c)}else{const c=n.viewHooks;null!==c&&yd(e,c,2),Wg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ie]&=-41,512&e[ie]&&(e[ie]&=-513,Ug(e[Ke],-1))}finally{qg()}}}function HS(n,e,t,r,i){const s=sn(),o=2&r;try{Es(-1),o&&e.length>Le&&MS(n,e,Le,!1),$n(o?2:0,i),t(r,i)}finally{Es(s),$n(o?3:1,i)}}function Wm(n,e,t){if(Lg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Km(n,e,t){$b()&&(function n4(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;yu(t)&&function c4(n,e,t){const r=Mn(e,n),i=zS(t),s=n[cd],o=Bd(n,Vd(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Id(t,e),qt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=Ds(e,n,a,t);qt(c,e),null!==o&&l4(0,a-i,c,u,0,o),er(u)&&(gn(t.index,e)[et]=Ds(e,n,a,t))}}(n,e,t,Mn(t,e)),64==(64&t.flags)&&YS(n,e,t))}function Qm(n,e,t=Mn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function zS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Ym(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Ym(n,e,t,r,i,s,o,a,u,c){const l=Le+r,d=l+i,h=function WG(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:te);return t}(l,d),f="function"==typeof c?c():c;return h[P]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function WS(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?KS(t,e,i,s):r.hasOwnProperty(i)&&KS(t,e,r[i],s)}return t}function KS(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Jm(n,e,t,r){if($b()){const i=null===r?null:{"":-1},s=function i4(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(AS(e,o.selectors,!1))if(r||(r=[]),er(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Xm(n,e,a.length)}else r.unshift(o),Xm(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&QS(n,e,t,o,i,a),i&&function s4(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=wu(t.mergedAttrs,t.attrs)}function QS(n,e,t,r,i,s){for(let c=0;c<r.length;c++)Zg(Id(t,e),n,r[c].type);!function a4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Fu(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=wu(t.mergedAttrs,l.hostAttrs),u4(n,t,e,u,l),o4(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function YG(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=t?t.get(d):null,p=h?h.outputs:null;u=WS(d.inputs,l,u,h?h.inputs:null),c=WS(d.outputs,l,c,p);const g=null===u||null===o||SS(e)?null:d4(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function YS(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function QB(){return ee.lFrame.currentDirectiveIndex}();try{Es(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];$g(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&r4(u,c)}}finally{Es(-1),$g(o)}}function r4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Xm(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function o4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;er(e)&&(t[""]=n)}}function u4(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Cs(i.type)),o=new vu(s,er(i),b);n.blueprint[r]=o,t[r]=o,function e4(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function t4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Fu(n,t,i.hostVars,te),i)}function Dr(n,e,t,r,i,s){const o=Mn(n,e);!function Zm(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Z(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[oe],o,s,n.value,t,r,i)}function l4(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function d4(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function JS(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function p4(n,e){const t=gn(e,n);if(pd(t)){const r=t[P];48&t[ie]?Ud(r,t,r.template,t[et]):t[Is]>0&&ey(t)}}function ey(n){for(let r=pm(n);null!==r;r=gm(r))for(let i=nn;i<r.length;i++){const s=r[i];if(pd(s))if(512&s[ie]){const o=s[P];Ud(o,s,o.template,s[et])}else s[Is]>0&&ey(s)}const t=n[P].components;if(null!==t)for(let r=0;r<t.length;r++){const i=gn(t[r],n);pd(i)&&i[Is]>0&&ey(i)}}function g4(n,e){const t=gn(e,n),r=t[P];(function m4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),qm(r,t,t[et])}function Bd(n,e){return n[pu]?n[xb][Xn]=e:n[pu]=e,n[xb]=e,e}function jd(n){for(;n;){n[ie]|=32;const e=xu(n);if(xB(n)&&!e)return n;n=e}return null}function $d(n,e,t,r=!0){const i=e[cd];i.begin&&i.begin();try{Ud(n,e,n.template,t)}catch(o){throw r&&tA(e,o),o}finally{i.end&&i.end()}}function ty(n,e,t){Hg(0),e(n,t)}function XS(n){return n[wo]||(n[wo]=[])}function ZS(n){return n.cleanup||(n.cleanup=[])}function tA(n,e){const t=n[ud],r=t?t.get(Vo,null):null;r&&r.handleError(e)}function ny(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Gd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Tg(i,a):2==s&&(r=Tg(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Hd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Pt(s)),Zn(s))for(let a=nn;a<s.length;a++){const u=s[a],c=u[P].firstChild;null!==c&&Hd(u[P],u,c,r)}const o=t.type;if(8&o)Hd(n,e,t.child,r);else if(32&o){const a=fm(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=KT(e,t);if(Array.isArray(a))r.push(...a);else{const u=xu(e[zt]);Hd(u[P],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Lu{get rootNodes(){const e=this._lView,t=e[P];return Hd(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[et]}set context(e){this._lView[et]=e}get destroyed(){return 128==(128&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ke];if(Zn(e)){const t=e[dd],r=t?t.indexOf(this):-1;r>-1&&(_m(e,r),Dd(t,r))}this._attachedToViewContainer=!1}UT(this._lView[P],this._lView)}onDestroy(e){!function qS(n,e,t,r){const i=XS(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&ZS(n).push(r,i.length-1))}(this._lView[P],this._lView,null,e)}markForCheck(){jd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-65}reattach(){this._lView[ie]|=64}detectChanges(){$d(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function i$(n,e){Mu(n,e,e[oe],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class y4 extends Lu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;$d(e[P],e,e[et],!1)}checkNoChanges(){}get context(){return null}}class nA extends Pu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ce(e);return new Vu(t,this.ngModule)}}function rA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class v4{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=sd(r);const i=this.injector.get(e,Vm,r);return i!==Vm||t===Vm?i:this.parentInjector.get(e,t,r)}}class Vu extends IS{get inputs(){return rA(this.componentDef.inputs)}get outputs(){return rA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function DG(n){return n.map(EG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof ti?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new v4(e,s):e,a=o.get(ES,null);if(null===a)throw new S(407,!1);const u=o.get(rG,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function KG(n,e,t){return n.selectRootElement(e,t===_r.ShadowDom)}(c,r,this.componentDef.encapsulation):ym(c,l,function _4(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Ym(0,null,null,1,0,null,null,null,null,null),p=Vd(null,f,null,h,null,null,a,c,u,o,null);let g,y;zg(p);try{const I=this.componentDef;let C,v=null;I.findHostDirectiveDefs?(C=[],v=new Map,I.findHostDirectiveDefs(I,C,v),C.push(I)):C=[I];const N=function I4(n,e){const t=n[P],r=Le;return n[r]=e,jo(t,r,2,"#host",null)}(p,d),j=function C4(n,e,t,r,i,s,o,a){const u=i[P];!function E4(n,e,t,r){for(const i of n)e.mergedAttrs=wu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Gd(e,e.mergedAttrs,!0),null!==t&&JT(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),l=Vd(i,zS(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&Xm(u,n,r.length-1),Bd(i,l),i[n.index]=l}(N,d,I,C,p,a,c);y=Ub(f,Le),d&&function b4(n,e,t,r){if(r)Qg(n,t,["ng-version",iG.full]);else{const{attrs:i,classes:s}=function bG(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!tr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Qg(n,t,i),s&&s.length>0&&YT(n,t,s.join(" "))}}(c,I,d,r),void 0!==t&&function T4(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,t),g=function D4(n,e,t,r,i,s){const o=Ot(),a=i[P],u=Mn(o,i);QS(a,i,o,t,null,r);for(let l=0;l<t.length;l++)qt(Ds(i,a,o.directiveStart+l,o),i);YS(a,i,o),u&&qt(u,i);const c=Ds(i,a,o.directiveStart+o.componentOffset,o);if(n[et]=i[et]=c,null!==s)for(const l of s)l(c,e);return Wm(a,o,n),c}(j,I,C,v,p,[S4]),qm(f,p,null)}finally{qg()}return new w4(this.componentType,g,Lo(y,p),p,y)}}class w4 extends J${constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new y4(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;ny(s[P],s,i,e,t),jd(gn(this._tNode.index,s))}}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function S4(){const n=Ot();gd(E()[P],n)}function De(n){let e=function iA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(er(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=ry(n.inputs),o.declaredInputs=ry(n.declaredInputs),o.outputs=ry(n.outputs);const a=i.hostBindings;a&&N4(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&x4(n,u),c&&M4(n,c),bg(n.inputs,i.inputs),bg(n.declaredInputs,i.declaredInputs),bg(n.outputs,i.outputs),er(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===De&&(t=!1)}}e=Object.getPrototypeOf(e)}!function A4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wu(i.hostAttrs,t=wu(t,i.hostAttrs))}}(r)}function ry(n){return n===Qr?{}:n===ve?[]:n}function x4(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function M4(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function N4(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function zd(n){return!!iy(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function iy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Wt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Tr(n,e,t,r){const i=E();return Wt(i,bo(),e)&&(pe(),Dr(He(),i,n,e,t,r)),Tr}function _n(n,e,t,r,i,s,o,a){const u=E(),c=pe(),l=n+Le,d=c.firstCreatePass?function j4(n,e,t,r,i,s,o,a,u){const c=e.consts,l=jo(e,n,4,o||null,Ri(c,a));Jm(e,t,l,Ri(c,u)),gd(e,l);const d=l.tView=Ym(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];Ir(d,!1);const h=u[oe].createComment("");xd(c,u,h,d),qt(h,u),Bd(u,u[l]=JS(h,u,h,d)),hd(d)&&Km(c,u,d),null!=o&&Qm(u,d,a)}function Re(n,e,t){const r=E();return Wt(r,bo(),e)&&function kn(n,e,t,r,i,s,o,a){const u=Mn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(ny(n,t,l,r,i),yu(e)&&function XG(n,e){const t=gn(e,n);16&t[ie]||(t[ie]|=32)}(t,e.index)):3&e.type&&(r=function JG(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(pe(),He(),r,n,e,r[oe],t,!1),Re}function sy(n,e,t,r,i){const o=i?"class":"style";ny(n,t,e.inputs[o],o,r)}function F(n,e,t,r){const i=E(),s=pe(),o=Le+n,a=i[oe],u=s.firstCreatePass?function H4(n,e,t,r,i,s){const o=e.consts,u=jo(e,n,2,r,Ri(o,i));return Jm(e,t,u,Ri(o,s)),null!==u.attrs&&Gd(u,u.attrs,!1),null!==u.mergedAttrs&&Gd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],c=i[o]=ym(a,e,function rj(){return ee.lFrame.currentNamespace}()),l=hd(u);return Ir(u,!0),JT(a,c,u),32!=(32&u.flags)&&xd(s,i,c,u),0===function jB(){return ee.lFrame.elementDepthCount}()&&qt(c,i),function $B(){ee.lFrame.elementDepthCount++}(),l&&(Km(s,i,u),Wm(s,u,i)),null!==r&&Qm(i,u),F}function U(){let n=Ot();Bg()?function jg(){ee.lFrame.isParent=!1}():(n=n.parent,Ir(n,!1));const e=n;!function GB(){ee.lFrame.elementDepthCount--}();const t=pe();return t.firstCreatePass&&(gd(t,n),Lg(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function aj(n){return 0!=(8&n.flags)}(e)&&sy(t,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function uj(n){return 0!=(16&n.flags)}(e)&&sy(t,e,E(),e.stylesWithoutHost,!1),U}function si(n,e,t,r){return F(n,e,t,r),U(),si}function nr(){return E()}function Bu(n){return!!n&&"function"==typeof n.then}const uy=function _A(n){return!!n&&"function"==typeof n.subscribe};function ge(n,e,t,r){const i=E(),s=pe(),o=Ot();return function wA(n,e,t,r,i,s,o){const a=hd(r),c=n.firstCreatePass&&ZS(n),l=e[et],d=XS(e);let h=!0;if(3&r.type||o){const g=Mn(r,e),y=o?o(g):g,I=d.length,C=o?N=>o(Pt(N[r.index])):r.index;let v=null;if(!o&&a&&(v=function q4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[wo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=CA(r,e,l,s,!1);const N=t.listen(y,i,s);d.push(s,N),c&&c.push(i,C,I,I+1)}}else s=CA(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const j=e[p[y]][p[y+1]].subscribe(s),H=d.length;d.push(s,j),c&&c.push(i,r.index,H,-(H+1))}}}(s,i,i[oe],o,n,e,r),ge}function IA(n,e,t,r){try{return $n(6,e,t),!1!==t(r)}catch(i){return tA(n,i),!1}finally{$n(7,e,t)}}function CA(n,e,t,r,i){return function s(o){if(o===Function)return r;jd(n.componentOffset>-1?gn(n.index,e):e);let u=IA(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)u=IA(e,t,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Se(n=1){return function JB(n){return(ee.lFrame.contextLView=function XB(n,e){for(;n>0;)e=e[Io],n--;return e}(n,ee.lFrame.contextLView))[et]}(n)}function Wd(n,e){return n<<17|e<<2}function Pi(n){return n>>17&32767}function ly(n){return 2|n}function xs(n){return(131068&n)>>2}function dy(n,e){return-131069&n|e<<2}function hy(n){return 1|n}function RA(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Pi(s):xs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];tH(n[a],e)&&(u=!0,n[a+1]=r?hy(l):ly(l)),a=r?Pi(l):xs(l)}u&&(n[t+1]=r?ly(s):hy(s))}function tH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ro(n,e)>=0}function Kd(n,e){return function rr(n,e,t,r){const i=E(),s=pe(),o=function Zr(n){const e=ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function jA(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[sn()],o=function BA(n,e){return e>=n.expandoStartIndex}(n,t);(function zA(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function lH(n,e,t,r){const i=function Gg(n){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ju(t=fy(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=fy(i,n,e,t,r),null===s){let u=function dH(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==xs(r))return n[Pi(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=fy(null,n,e,u[1],r),u=ju(u,e.attrs,r),function hH(n,e,t,r){n[Pi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function fH(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ju(r,n[s].hostAttrs,t);return ju(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function Z4(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Pi(o),u=xs(o);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||Ro(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=Pi(n[a+1]);n[r+1]=Wd(h,a),0!==h&&(n[h+1]=dy(n[h+1],r)),n[a+1]=function J4(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Wd(a,0),0!==a&&(n[a+1]=dy(n[a+1],r)),a=r;else n[r+1]=Wd(u,0),0===a?a=r:n[u+1]=dy(n[u+1],r),u=r;c&&(n[r+1]=ly(n[r+1])),RA(n,l,r,!0),RA(n,l,r,!1),function eH(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ro(s,e)>=0&&(t[r+1]=hy(t[r+1]))}(e,l,n,r,s),o=Wd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==te&&Wt(i,o,e)&&function GA(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function X4(n){return 1==(1&n)}(c)?HA(u,e,t,i,xs(c),o):void 0;Qd(l)||(Qd(s)||function Y4(n){return 2==(2&n)}(c)&&(s=HA(u,null,t,i,a,o)),function p$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:mn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=mn.Important),n.setStyle(t,r,i,s))}}(r,o,fd(sn(),t),i,s))}(s,s.data[sn()],i,i[oe],n,i[o+1]=function yH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Me(ki(n)))),n}(e,t),r,o)}(n,e,null,!0),Kd}function fy(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ju(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ju(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Nn(n,o,!!t||e[++s]))}return void 0===n?null:n}function HA(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===te&&(h=d?ve:void 0);let f=d?rm(h,r):l===r?h:void 0;if(c&&!Qd(f)&&(f=rm(u,r)),Qd(f)&&(a=f,o))return a;const p=n[i+1];i=o?Pi(p):xs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=rm(u,r))}return a}function Qd(n){return void 0!==n}function ae(n,e=""){const t=E(),r=pe(),i=n+Le,s=r.firstCreatePass?jo(r,i,1,e,null):r.data[i],o=t[i]=function mm(n,e){return n.createText(e)}(t[oe],e);xd(r,t,o,s),Ir(s,!1)}function oi(n){return Yd("",n,""),oi}function Yd(n,e,t){const r=E(),i=function Go(n,e,t,r){return Wt(n,bo(),t)?e+Z(t)+r:te}(r,n,e,t);return i!==te&&function ii(n,e,t){const r=fd(e,n);!function LT(n,e,t){n.setValue(e,t)}(n[oe],r,t)}(r,sn(),i),Yd}const Zo="en-US";let fx=Zo;function my(n,e,t,r,i){if(n=z(n),Array.isArray(n))for(let s=0;s<n.length;s++)my(n[s],e,t,r,i);else{const s=pe(),o=E();let a=Ss(n)?n:z(n.provide),u=wS(n);const c=Ot(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ss(n)||!n.multi){const f=new vu(u,i,b),p=_y(a,e,i?l:l+h,d);-1===p?(Zg(Id(c,o),s,a),yy(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=_y(a,e,l+h,d),p=_y(a,e,l,l+h),y=p>=0&&t[p];if(i&&!y||!i&&!(f>=0&&t[f])){Zg(Id(c,o),s,a);const I=function O3(n,e,t,r,i){const s=new vu(n,t,b);return s.multi=[],s.index=e,s.componentProviders=0,Vx(s,i,r&&!t),s}(i?P3:k3,t.length,i,r,u);!i&&y&&(t[p].providerFactory=I),yy(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),o.push(I)}else yy(s,n,f>-1?f:p,Vx(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function yy(n,e,t,r){const i=Ss(e),s=function H$(n){return!!n.useClass}(e);if(i||s){const u=(s?z(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function Vx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function _y(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function k3(n,e,t,r){return vy(this.multi,[])}function P3(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ds(t,t[P],this.providerFactory.index,r);s=a.slice(0,o),vy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],vy(i,s);return s}function vy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function $e(n,e=[]){return t=>{t.providersResolver=(r,i)=>function R3(n,e,t){const r=pe();if(r.firstCreatePass){const i=er(n);my(t,r.data,r.blueprint,i,!0),my(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ea{}class Ux{}class Bx extends ea{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nA(this);const r=An(e);this._bootstrapComponents=ri(r.bootstrap),this._r3Injector=OS(e,t,[{provide:ea,useValue:this},{provide:Pu,useValue:this.componentFactoryResolver}],Me(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class wy extends Ux{constructor(e){super(),this.moduleType=e}create(e){return new Bx(this.moduleType,e)}}class L3 extends ea{constructor(e,t,r){super(),this.componentFactoryResolver=new nA(this),this.instance=null;const i=new vS([...e,{provide:ea,useValue:this},{provide:Pu,useValue:this.componentFactoryResolver}],t||Fd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function th(n,e,t=null){return new L3(n,e,t).injector}let V3=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=gS(0,t.type),i=r.length>0?th([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(K(ti))}),n})();function jx(n){n.getStandaloneInjector=e=>e.get(V3).getOrCreateStandaloneInjector(n)}function Cy(n,e,t,r){return function Kx(n,e,t,r,i,s){const o=e+t;return Wt(n,o,i)?function br(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function Wu(n,e){const t=n[e];return t===te?void 0:t}(n,o+1)}(E(),function rn(){const n=ee.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function Ey(n){return e=>{setTimeout(n,void 0,e)}}const ke=class cz extends qr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Ey(s),i&&(i=Ey(i)),o&&(o=Ey(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof bn&&e.add(a),a}};let ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=fz,n})();const dz=ai,hz=class extends dz{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=Vd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[gu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[wr];return null!==o&&(i[wr]=o.createEmbeddedView(r)),qm(r,i,e),new Lu(i)}};function fz(){return function nh(n,e){return 4&n.type?new hz(e,n,Lo(n,e)):null}(Ot(),E())}let sr=(()=>{class n{}return n.__NG_ELEMENT_ID__=pz,n})();function pz(){return function tM(n,e){let t;const r=e[n.index];if(Zn(r))t=r;else{let i;if(8&n.type)i=Pt(r);else{const s=e[oe];i=s.createComment("");const o=Mn(n,e);Ts(s,Ad(s,o),i,function d$(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=JS(r,e,i,n),Bd(e,t)}return new Zx(t,n,e)}(Ot(),E())}const gz=sr,Zx=class extends gz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Lo(this._hostTNode,this._hostLView)}get injector(){return new So(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xg(this._hostTNode,this._hostLView);if(rT(e)){const t=vd(e,this._hostLView),r=_d(e);return new So(t[P].data[r+8],t)}return new So(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=eM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Cu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Vu(Ce(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(ti,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[P];if(function BB(n){return Zn(n[Ke])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Ke],h=new Zx(d,d[Ht],d[Ke]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function o$(n,e,t,r){const i=nn+r,s=t.length;r>0&&(t[i-1][Xn]=e),r<s-nn?(e[Xn]=t[i],gT(t,nn+r,e)):(t.push(e),e[Xn]=null),e[Ke]=t;const o=e[gu];null!==o&&t!==o&&function a$(n,e){const t=n[Eo];e[zt]!==e[Ke][Ke][zt]&&(n[Nb]=!0),null===t?n[Eo]=[e]:t.push(e)}(o,e);const a=e[wr];null!==a&&a.insertView(n),e[ie]|=64}(i,r,o,s);const a=Im(s,o),u=r[oe],c=Ad(u,o[ld]);return null!==c&&function r$(n,e,t,r,i,s){r[Jr]=i,r[Ht]=e,Mu(n,r,t,1,i,s)}(i,o[Ht],u,r,c,a),e.attachToViewContainerRef(),gT(by(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=eM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=_m(this._lContainer,t);r&&(Dd(by(this._lContainer),t),UT(r[P],r))}detach(e){const t=this._adjustIndex(e,-1),r=_m(this._lContainer,t);return r&&null!=Dd(by(this._lContainer),t)?new Lu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function eM(n){return n[dd]}function by(n){return n[dd]||(n[dd]=[])}function ih(...n){}const sh=new B("Application Initializer");let oh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=ih,this.reject=ih,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Bu(s))t.push(s);else if(uy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(K(sh,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yu=new B("AppId",{providedIn:"root",factory:function SM(){return`${Fy()}${Fy()}${Fy()}`}});function Fy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AM=new B("Platform Initializer"),xM=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Gz=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ui=new B("LocaleId",{providedIn:"root",factory:()=>de(ui,W.Optional|W.SkipSelf)||function Hz(){return typeof $localize<"u"&&$localize.locale||Zo}()});class qz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let MM=(()=>{class n{compileModuleSync(t){return new wy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ri(An(t).declarations).reduce((o,a)=>{const u=Ce(a);return u&&o.push(new Vu(u)),o},[]);return new qz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qz=(()=>Promise.resolve(0))();function Ly(n){typeof Zone>"u"?Qz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Yz(){let n=Fe.requestAnimationFrame,e=Fe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Zz(n){const e=()=>{!function Xz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Fe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Uy(n),n.isCheckStableRunning=!0,Vy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Uy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return kM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),PM(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return kM(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),PM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Uy(n),Vy(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tt.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(tt.isInAngularZone())throw new S(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Jz,ih,ih);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Jz={};function Vy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Uy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PM(n){n._nesting--,Vy(n)}class eq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const OM=new B(""),ah=new B("");let $y,By=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$y||(function tq(n){$y=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tt.assertNotInAngularZone(),Ly(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ly(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(K(tt),K(jy),K(ah))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),jy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return $y?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ci=!1;let Oi=null;const FM=new B("AllowMultipleToken"),Gy=new B("PlatformDestroyListeners"),LM=new B("appBootstrapListener");class VM{constructor(e,t){this.name=e,this.token=t}}function BM(n,e,t=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=Hy();if(!o||o.injector.get(FM,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function iq(n){if(Oi&&!Oi.get(FM,!1))throw new S(400,!1);Oi=n;const e=n.get($M);(function UM(n){const e=n.get(AM,null);e&&e.forEach(t=>t())})(n)}(function jM(n=[],e){return Er.create({name:e,providers:[{provide:Pm,useValue:"platform"},{provide:Gy,useValue:new Set([()=>Oi=null])},...n]})}(a,r))}return function oq(n){const e=Hy();if(!e)throw new S(401,!1);return e}()}}function Hy(){return Oi?.get($M)??null}let $M=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function HM(n,e){let t;return t="noop"===n?new eq:("zone.js"===n?void 0:n)||new tt(e),t}(r?.ngZone,function GM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:tt,useValue:i}];return i.run(()=>{const o=Er.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(Vo,null);if(!u)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{ch(this._modules,a),c.unsubscribe()})}),function zM(n,e,t){try{const r=t();return Bu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(oh);return c.runInitializers(),c.donePromise.then(()=>(function px(n){Vn(n,"Expected localeId to be defined"),"string"==typeof n&&(fx=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ui,Zo)||Zo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=qM({},r);return function nq(n,e,t){const r=new wy(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(uh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new S(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Gy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(K(Er))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function qM(n,e){return Array.isArray(e)?e.reduce(qM,n):{...n,...e}}let uh=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ze(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),Ly(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function sB(...n){const e=cu(n),t=function XU(n,e){return"number"==typeof Eg(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Tn(r[0]):yo(t)(ct(r,e)):mr}(s,o.pipe(function oB(n={}){const{connector:e=(()=>new qr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return mt((g,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Dg(p,i))}),I.subscribe(y),!o&&c>0&&(o=new uu({next:C=>I.next(C),error:C=>{d=!0,h(),a=Dg(f,t,C),I.error(C)},complete:()=>{l=!0,h(),a=Dg(f,r),I.complete()}}),Tn(g).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof IS;if(!this._injector.get(oh).done){!i&&function vo(n){const e=Ce(n)||Gt(n)||pn(n);return null!==e&&e.standalone}(t);throw new S(405,ci)}let o;o=i?t:this._injector.get(Pu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function rq(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ea),c=o.create(Er.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(OM,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),ch(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;ch(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(LM,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ch(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(K(tt),K(ti),K(Vo))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ch(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let lh=(()=>{class n{}return n.__NG_ELEMENT_ID__=uq,n})();function uq(n){return function cq(n,e,t){if(yu(n)&&!t){const r=gn(n.index,e);return new Lu(r,r)}return 47&n.type?new Lu(e[zt],e):null}(Ot(),E(),16==(16&n))}class JM{constructor(){}supports(e){return zd(e)}create(e){return new gq(e)}}const pq=(n,e)=>e;class gq{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||pq}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<ZM(r,i,s)?t:r,a=ZM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!zd(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function V4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new mq(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new XM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class mq{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yq{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class XM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new yq,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class e1{constructor(){}supports(e){return e instanceof Map||iy(e)}create(){return new _q}}class _q{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||iy(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new vq(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class vq{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function t1(){return new fh([new JM])}let fh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||t1()),deps:[[n,new bu,new Du]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new S(901,!1)}}return n.\u0275prov=q({token:n,providedIn:"root",factory:t1}),n})();function n1(){return new Ju([new e1])}let Ju=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||n1()),deps:[[n,new bu,new Du]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new S(901,!1)}}return n.\u0275prov=q({token:n,providedIn:"root",factory:n1}),n})();const Cq=BM(null,"core",[]);let Eq=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(K(uh))},n.\u0275mod=vr({type:n}),n.\u0275inj=Jn({}),n})();function ra(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Qy=null;function li(){return Qy}class Tq{}const vn=new B("DocumentToken");let Yy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return function Sq(){return K(r1)}()},providedIn:"platform"}),n})();const Aq=new B("Location Initialized");let r1=(()=>{class n extends Yy{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return li().getBaseHref(this._doc)}onPopState(t){const r=li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){i1()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){i1()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(K(vn))},n.\u0275prov=q({token:n,factory:function(){return function xq(){return new r1(K(vn))}()},providedIn:"platform"}),n})();function i1(){return!!window.history.pushState}function Jy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function s1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function di(n){return n&&"?"!==n[0]?"?"+n:n}let Rs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return de(a1)},providedIn:"root"}),n})();const o1=new B("appBaseHref");let a1=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??de(vn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(K(Yy),K(o1,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mq=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Jy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(K(Yy),K(o1,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Xy=(()=>{class n{constructor(t){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function kq(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(s1(u1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+di(r))}normalize(t){return n.stripTrailingSlash(function Rq(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,u1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=di,n.joinWithSlash=Jy,n.stripTrailingSlash=s1,n.\u0275fac=function(t){return new(t||n)(K(Rs))},n.\u0275prov=q({token:n,factory:function(){return function Nq(){return new Xy(K(Rs))}()},providedIn:"root"}),n})();function u1(n){return n.replace(/\/index.html$/,"")}const u_=/\s+/,y1=[];let c_=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=y1,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(u_):y1}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(u_):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(u_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(b(fh),b(Ju),b(Rn),b(ni))},n.\u0275dir=Y({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class _5{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ec=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new _5(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),w1(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{w1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(sr),b(ai),b(fh))},n.\u0275dir=Y({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function w1(n,e){n.context.$implicit=e.item}let tc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new w5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){I1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){I1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(sr),b(ai))},n.\u0275dir=Y({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class w5{constructor(){this.$implicit=null,this.ngIf=null}}function I1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Me(e)}'.`)}let z5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vr({type:n}),n.\u0275inj=Jn({}),n})();let b1=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>new Q5(K(vn),window)}),n})();class Q5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Y5(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=T1(this.window.history)||T1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function T1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class D9 extends Tq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class m_ extends D9{static makeCurrent(){!function bq(n){Qy||(Qy=n)}(new m_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function b9(){return rc=rc||document.querySelector("base"),rc?rc.getAttribute("href"):null}();return null==t?null:function T9(n){bh=bh||document.createElement("a"),bh.setAttribute("href",n);const e=bh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function m5(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let bh,rc=null;const N1=new B("TRANSITION_ID"),A9=[{provide:sh,useFactory:function S9(n,e,t){return()=>{t.get(oh).donePromise.then(()=>{const r=li(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[N1,vn,Er],multi:!0}];let M9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const Th=new B("EventManagerPlugins");let Sh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(K(Th),K(tt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class R1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=li().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let k1=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),ic=(()=>{class n extends k1{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(K(vn))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const y_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},__=/%COMP%/g,F1=new B("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function L1(n,e){return e.flat(100).map(t=>t.replace(__,n))}function V1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let v_=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new w_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof j1?i.applyToHost(t):i instanceof I_&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case _r.Emulated:s=new j1(o,a,r,this.appId,u);break;case _r.ShadowDom:return new L9(o,a,t,r);default:s=new I_(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(K(Sh),K(ic),K(Yu),K(F1))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class w_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(y_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(B1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(B1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=y_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=y_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(mn.DashCase|mn.Important)?e.style.setProperty(t,r,i&mn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,V1(r)):this.eventManager.addEventListener(e,t,V1(r))}}function B1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class L9 extends w_{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=L1(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class I_ extends w_{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=L1(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class j1 extends I_{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function P9(n){return"_ngcontent-%COMP%".replace(__,n)}(o),this.hostAttr=function O9(n){return"_nghost-%COMP%".replace(__,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let V9=(()=>{class n extends R1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(K(vn))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const $1=["alt","control","meta","shift"],U9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let j9=(()=>{class n extends R1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>li().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),$1.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=U9[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$1.forEach(o=>{o!==i&&(0,B9[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(K(vn))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const H1=[{provide:xM,useValue:"browser"},{provide:AM,useValue:function $9(){m_.makeCurrent()},multi:!0},{provide:vn,useFactory:function H9(){return function v$(n){bm=n}(document),document},deps:[]}],z9=BM(Cq,"browser",H1),z1=new B(""),q1=[{provide:ah,useClass:class x9{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements(),Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(r=>{const i=Fe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?li().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:OM,useClass:By,deps:[tt,jy,ah]},{provide:By,useClass:By,deps:[tt,jy,ah]}],W1=[{provide:Pm,useValue:"root"},{provide:Vo,useFactory:function G9(){return new Vo},deps:[]},{provide:Th,useClass:V9,multi:!0,deps:[vn,tt,xM]},{provide:Th,useClass:j9,multi:!0,deps:[vn]},{provide:v_,useClass:v_,deps:[Sh,ic,Yu,F1]},{provide:ES,useExisting:v_},{provide:k1,useExisting:ic},{provide:ic,useClass:ic,deps:[vn]},{provide:Sh,useClass:Sh,deps:[Th,tt]},{provide:class J5{},useClass:M9,deps:[]},[]];let q9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Yu,useValue:t.appId},{provide:N1,useExisting:Yu},A9]}}}return n.\u0275fac=function(t){return new(t||n)(K(z1,12))},n.\u0275mod=vr({type:n}),n.\u0275inj=Jn({providers:[...W1,...q1],imports:[z5,Eq]}),n})(),K1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(K(vn))},n.\u0275prov=q({token:n,factory:function(t){let r=null;return r=t?new t:function K9(){return new K1(K(vn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:e6}=Array,{getPrototypeOf:t6,prototype:n6,keys:r6}=Object;function J1(n){if(1===n.length){const e=n[0];if(e6(e))return{args:e,keys:null};if(function i6(n){return n&&"object"==typeof n&&t6(n)===n6}(e)){const t=r6(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:s6}=Array;function X1(n){return le(e=>function o6(n,e){return s6(e)?n(...e):n(e)}(n,e))}function Z1(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let eN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b(ni),b(Rn))},n.\u0275dir=Y({type:n}),n})(),ks=(()=>{class n extends eN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(n)))(r||n)}}(),n.\u0275dir=Y({type:n,features:[De]}),n})();const xr=new B("NgValueAccessor"),c6={provide:xr,useExisting:Ne(()=>sc),multi:!0},d6=new B("CompositionEventMode");let sc=(()=>{class n extends eN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function l6(){const n=li()?li().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b(ni),b(Rn),b(d6,8))},n.\u0275dir=Y({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ge("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$e([c6]),De]}),n})();const h6=!1,Kt=new B("NgValidators"),Vi=new B("NgAsyncValidators");function dN(n){return null!=n}function hN(n){const e=Bu(n)?ct(n):n;if(h6&&!uy(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new S(-1101,t)}return e}function fN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function pN(n,e){return e.map(t=>t(n))}function gN(n){return n.map(e=>function p6(n){return!n.validate}(e)?e:t=>e.validate(t))}function D_(n){return null!=n?function mN(n){if(!n)return null;const e=n.filter(dN);return 0==e.length?null:function(t){return fN(pN(t,e))}}(gN(n)):null}function b_(n){return null!=n?function yN(n){if(!n)return null;const e=n.filter(dN);return 0==e.length?null:function(t){return function a6(...n){const e=pb(n),{args:t,keys:r}=J1(n),i=new Ze(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Tn(t[l]).subscribe(ut(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?Z1(r,a):a),s.complete())}))}});return e?i.pipe(X1(e)):i}(pN(t,e).map(hN)).pipe(le(fN))}}(gN(n)):null}function _N(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function T_(n){return n?Array.isArray(n)?n:[n]:[]}function xh(n,e){return Array.isArray(n)?n.includes(e):n===e}function IN(n,e){const t=T_(e);return T_(n).forEach(i=>{xh(t,i)||t.push(i)}),t}function CN(n,e){return T_(e).filter(t=>!xh(n,t))}class EN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=D_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=b_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class un extends EN{get formDirective(){return null}get path(){return null}}class Ui extends EN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class DN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let S_=(()=>{class n extends DN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Ui,2))},n.\u0275dir=Y({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Kd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[De]}),n})();const oc="VALID",Nh="INVALID",ia="PENDING",ac="DISABLED";function Rh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class AN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===oc}get invalid(){return this.status===Nh}get pending(){return this.status==ia}get disabled(){return this.status===ac}get enabled(){return this.status!==ac}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(IN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CN(e,this._rawAsyncValidators))}hasValidator(e){return xh(this._rawValidators,e)}hasAsyncValidator(e){return xh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ia,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ac,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=oc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oc||this.status===ia)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ac:oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ia,this._hasOwnPendingAsyncValidator=!0;const t=hN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?ac:this.errors?Nh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ia)?ia:this._anyControlsHaveStatus(Nh)?Nh:oc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function C6(n){return Array.isArray(n)?D_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function E6(n){return Array.isArray(n)?b_(n):n||null}(this._rawAsyncValidators)}}const sa=new B("CallSetDisabledState",{providedIn:"root",factory:()=>kh}),kh="always";function uc(n,e,t=kh){(function P_(n,e){const t=function vN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(_N(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function wN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(_N(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Fh(e._rawValidators,i),Fh(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function T6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xN(n,e)})}(n,e),function A6(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function S6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function b6(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Fh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function RN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function kN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const PN=class extends AN{constructor(e=null,t,r){super(function N_(n){return(Rh(n)?n.validators:n)||null}(t),function R_(n,e){return(Rh(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=kN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){kN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},F6={provide:Ui,useExisting:Ne(()=>Vh)},LN=(()=>Promise.resolve())();let Vh=(()=>{class n extends Ui{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new PN,this._registered=!1,this.update=new ke,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function L_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===sc?t=s:function N6(n){return Object.getPrototypeOf(n.constructor)===ks}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function F_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){uc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){LN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&ra(r);LN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Ph(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(b(un,9),b(Kt,10),b(Vi,10),b(xr,10),b(lh,8),b(sa,8))},n.\u0275dir=Y({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([F6]),De,jn]}),n})(),UN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vr({type:n}),n.\u0275inj=Jn({}),n})();const W6={provide:xr,useExisting:Ne(()=>Uh),multi:!0};function qN(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Uh=(()=>{class n extends ks{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=qN(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function K6(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(n)))(r||n)}}(),n.\u0275dir=Y({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&ge("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$e([W6]),De]}),n})(),WN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(qN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(b(Rn),b(ni),b(Uh,9))},n.\u0275dir=Y({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Q6={provide:xr,useExisting:Ne(()=>$_),multi:!0};function KN(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let $_=(()=>{class n extends ks{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Y6(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(n)))(r||n)}}(),n.\u0275dir=Y({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&ge("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$e([Q6]),De]}),n})(),QN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(KN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(KN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(b(Rn),b(ni),b($_,9))},n.\u0275dir=Y({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),s8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vr({type:n}),n.\u0275inj=Jn({imports:[UN]}),n})(),a8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sa,useValue:t.callSetDisabledState??kh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vr({type:n}),n.\u0275inj=Jn({imports:[s8]}),n})();function G(...n){return ct(n,cu(n))}class cr extends qr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Bh=au(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sR(...n){const e=cu(n),t=pb(n),{args:r,keys:i}=J1(n);if(0===r.length)return ct([],e);const s=new Ze(function u8(n,e,t=ws){return r=>{oR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)oR(e,()=>{const c=ct(n[u],e);let l=!1;c.subscribe(ut(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Z1(i,o):ws));return t?s.pipe(X1(t)):s}function oR(n,e,t){n?Wr(t,n,e):e()}function jh(...n){return function c8(){return yo(1)}()(ct(n,cu(n)))}function aR(n){return new Ze(e=>{Tn(n()).subscribe(e)})}function lc(n,e){const t=xe(n)?n:()=>n,r=i=>i.error(t());return new Ze(e?i=>e.schedule(r,0,i):r)}function H_(){return mt((n,e)=>{let t=null;n._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class uR extends Ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,X0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bn;const t=this.getSubject();e.add(this.source.subscribe(ut(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bn.EMPTY)}return e}refCount(){return H_()(this)}}function Mr(n,e){return mt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ut(r,u=>{i?.unsubscribe();let c=0;const l=s++;Tn(n(u,l)).subscribe(i=ut(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Bi(n){return n<=0?()=>mr:mt((e,t)=>{let r=0;e.subscribe(ut(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fi(n,e){return mt((t,r)=>{let i=0;t.subscribe(ut(r,s=>n.call(e,s,i++)&&r.next(s)))})}function $h(n){return mt((e,t)=>{let r=!1;e.subscribe(ut(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function cR(n=d8){return mt((e,t)=>{let r=!1;e.subscribe(ut(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function d8(){return new Bh}function ji(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,s)=>n(i,s,r)):ws,Bi(1),t?$h(e):cR(()=>new Bh))}function Os(n,e){return xe(e)?Dt(n,e,1):Dt(n,1)}function Qt(n,e,t){const r=xe(n)||e||t?{next:n,error:e,complete:t}:n;return r?mt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ut(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ws}function $i(n){return mt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ut(t,void 0,void 0,o=>{s=Tn(n(o,$i(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function lR(n,e){return mt(function h8(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(ut(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function z_(n){return n<=0?()=>mr:mt((e,t)=>{let r=[];e.subscribe(ut(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function dR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,s)=>n(i,s,r)):ws,z_(1),t?$h(e):cR(()=>new Bh))}function hR(n){return le(()=>n)}function q_(n){return mt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ne="primary",dc=Symbol("RouteTitle");class p8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function oa(n){return new p8(n)}function g8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Nr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!fR(n[i],e[i]))return!1;return!0}function fR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function pR(n){return Array.prototype.concat.apply([],n)}function gR(n){return n.length>0?n[n.length-1]:null}function Lt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Gi(n){return uy(n)?n:Bu(n)?ct(Promise.resolve(n)):G(n)}const Gh=!1,y8={exact:function _R(n,e,t){if(!Fs(n.segments,e.segments)||!Hh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!_R(n.children[r],e.children[r],t))return!1;return!0},subset:vR},mR={exact:function _8(n,e){return Nr(n,e)},subset:function v8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fR(n[t],e[t]))},ignored:()=>!0};function yR(n,e,t){return y8[t.paths](n.root,e.root,t.matrixParams)&&mR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function vR(n,e,t){return wR(n,e,e.segments,t)}function wR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Fs(i,t)||e.hasChildren()||!Hh(i,t,r))}if(n.segments.length===t.length){if(!Fs(n.segments,t)||!Hh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!vR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Fs(n.segments,i)&&Hh(n.segments,i,r)&&n.children[ne])&&wR(n.children[ne],e,s,r)}}function Hh(n,e,t){return e.every((r,i)=>mR[t](n[i].parameters,r.parameters))}class Hi{constructor(e=new ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oa(this.queryParams)),this._queryParamMap}toString(){return C8.serialize(this)}}class ue{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Lt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zh(this)}}class hc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=oa(this.parameters)),this._parameterMap}toString(){return ER(this)}}function Fs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let fc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return new W_},providedIn:"root"}),n})();class W_{parse(e){const t=new N8(e);return new Hi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${pc(e.root,!0)}`,r=function b8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${qh(t)}=${qh(i)}`).join("&"):`${qh(t)}=${qh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function E8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const C8=new W_;function zh(n){return n.segments.map(e=>ER(e)).join("/")}function pc(n,e){if(!n.hasChildren())return zh(n);if(e){const t=n.children[ne]?pc(n.children[ne],!1):"",r=[];return Lt(n.children,(i,s)=>{s!==ne&&r.push(`${s}:${pc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function I8(n,e){let t=[];return Lt(n.children,(r,i)=>{i===ne&&(t=t.concat(e(r,i)))}),Lt(n.children,(r,i)=>{i!==ne&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ne?[pc(n.children[ne],!1)]:[`${i}:${pc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ne]?`${zh(n)}/${t[0]}`:`${zh(n)}/(${t.join("//")})`}}function IR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qh(n){return IR(n).replace(/%3B/gi,";")}function K_(n){return IR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wh(n){return decodeURIComponent(n)}function CR(n){return Wh(n.replace(/\+/g,"%20"))}function ER(n){return`${K_(n.path)}${function D8(n){return Object.keys(n).map(e=>`;${K_(e)}=${K_(n[e])}`).join("")}(n.parameters)}`}const T8=/^[^\/()?;=#]+/;function Kh(n){const e=n.match(T8);return e?e[0]:""}const S8=/^[^=?&#]+/,x8=/^[^&#]+/;class N8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new ue(e,t)),r}parseSegment(){const e=Kh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,Gh);return this.capture(e),new hc(Wh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Kh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Kh(this.remaining);i&&(r=i,this.capture(r))}e[Wh(t)]=Wh(r)}parseQueryParam(e){const t=function A8(n){const e=n.match(S8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function M8(n){const e=n.match(x8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=CR(t),s=CR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Kh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,Gh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ne]:new ue([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,Gh)}}function Q_(n){return n.segments.length>0?new ue([],{[ne]:n}):n}function Qh(n){const e={};for(const r of Object.keys(n.children)){const s=Qh(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function R8(n){if(1===n.numberOfChildren&&n.children[ne]){const e=n.children[ne];return new ue(n.segments.concat(e.segments),e.children)}return n}(new ue(n.segments,e))}function Ls(n){return n instanceof Hi}const Y_=!1;function k8(n,e,t,r,i){if(0===t.length)return aa(e.root,e.root,e.root,r,i);const s=function AR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new SR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Lt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new SR(t,e,r)}(t);return s.toRoot()?aa(e.root,e.root,new ue([],{}),r,i):function o(u){const c=function O8(n,e,t,r){if(n.isAbsolute)return new ua(e.root,!0,0);if(-1===r)return new ua(t,t===e.root,0);return function xR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,Y_&&"Invalid number of '../'");i=r.segments.length}return new ua(r,!1,i-s)}(t,r+(gc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),l=c.processChildren?ca(c.segmentGroup,c.index,s.commands):J_(c.segmentGroup,c.index,s.commands);return aa(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function gc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function mc(n){return"object"==typeof n&&null!=n&&n.outlets}function aa(n,e,t,r,i){let o,s={};r&&Lt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=n===e?t:TR(n,e,t);const a=Q_(Qh(o));return new Hi(a,s,i)}function TR(n,e,t){const r={};return Lt(n.children,(i,s)=>{r[s]=i===e?t:TR(i,e,t)}),new ue(n.segments,r)}class SR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gc(r[0]))throw new S(4003,Y_&&"Root segment cannot have matrix parameters");const i=r.find(mc);if(i&&i!==gR(r))throw new S(4004,Y_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ua{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function J_(n,e,t){if(n||(n=new ue([],{})),0===n.segments.length&&n.hasChildren())return ca(n,e,t);const r=function L8(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(mc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!NR(u,c,o))return s;r+=2}else{if(!NR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ue(n.segments.slice(0,r.pathIndex),{});return s.children[ne]=new ue(n.segments.slice(r.pathIndex),n.children),ca(s,0,i)}return r.match&&0===i.length?new ue(n.segments,{}):r.match&&!n.hasChildren()?X_(n,e,t):r.match?ca(n,0,i):X_(n,e,t)}function ca(n,e,t){if(0===t.length)return new ue(n.segments,{});{const r=function F8(n){return mc(n[0])?n[0].outlets:{[ne]:n}}(t),i={};if(!r[ne]&&n.children[ne]&&1===n.numberOfChildren&&0===n.children[ne].segments.length){const s=ca(n.children[ne],e,t);return new ue(n.segments,s.children)}return Lt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=J_(n.children[o],e,s))}),Lt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ue(n.segments,i)}}function X_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(mc(s)){const u=V8(s.outlets);return new ue(r,u)}if(0===i&&gc(t[0])){r.push(new hc(n.segments[e].path,MR(t[0]))),i++;continue}const o=mc(s)?s.outlets[ne]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&gc(a)?(r.push(new hc(o,MR(a))),i+=2):(r.push(new hc(o,{})),i++)}return new ue(r,{})}function V8(n){const e={};return Lt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=X_(new ue([],{}),0,t))}),e}function MR(n){const e={};return Lt(n,(t,r)=>e[r]=`${t}`),e}function NR(n,e,t){return n==t.path&&Nr(e,t.parameters)}const yc="imperative";class Rr{constructor(e,t){this.id=e,this.url=t}}class Z_ extends Rr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends Rr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yh extends Rr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jh extends Rr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ev extends Rr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class U8 extends Rr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B8 extends Rr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j8 extends Rr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $8 extends Rr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G8 extends Rr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class z8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class q8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q8{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let X8=(()=>{class n{createUrlTree(t,r,i,s,o,a){return k8(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),e7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(e){return X8.\u0275fac(e)},providedIn:"root"}),n})();class RR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=nv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=rv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return rv(e,this._root).map(t=>t.value)}}function nv(n,e){if(n===e.value)return e;for(const t of e.children){const r=nv(n,t);if(r)return r}return null}function rv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=rv(n,t);if(r.length)return r.unshift(e),r}return[]}class pi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function la(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class kR extends RR{constructor(e,t){super(e),this.snapshot=t,iv(this,e)}toString(){return this.snapshot.toString()}}function PR(n,e){const t=function t7(n,e){const o=new Xh([],{},{},"",{},ne,e,null,n.root,-1,{});return new FR("",new pi(o,[]))}(n,e),r=new cr([new hc("",{})]),i=new cr({}),s=new cr({}),o=new cr({}),a=new cr(""),u=new da(r,i,o,a,s,ne,e,t.root);return u.snapshot=t.root,new kR(new pi(u,[]),t)}class da{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(le(c=>c[dc]))??G(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(e=>oa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(e=>oa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function n7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Xh{get title(){return this.data?.[dc]}constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FR extends RR{constructor(e,t){super(t),this.url=e,iv(this,t)}toString(){return LR(this._root)}}function iv(n,e){e.value._routerState=n,e.children.forEach(t=>iv(n,t))}function LR(n){const e=n.children.length>0?` { ${n.children.map(LR).join(", ")} } `:"";return`${n.value}${e}`}function sv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Nr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Nr(e.params,t.params)||n.params.next(t.params),function m8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Nr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Nr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ov(n,e){const t=Nr(n.params,e.params)&&function w8(n,e){return Fs(n,e)&&n.every((t,r)=>Nr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ov(n.parent,e.parent))}function _c(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function i7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _c(n,r,i);return _c(n,r)})}(n,e,t);return new pi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>_c(n,a)),o}}const r=function s7(n){return new da(new cr(n.url),new cr(n.params),new cr(n.queryParams),new cr(n.fragment),new cr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>_c(n,s));return new pi(r,i)}}const av="ngNavigationCancelingError";function VR(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ls(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=UR(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function UR(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[av]=!0,r.cancellationCode=e,t&&(r.url=t),r}function BR(n){return jR(n)&&Ls(n.url)}function jR(n){return n&&n[av]}class o7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vc,this.attachRef=null}}let vc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new o7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zh=!1;let uv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=de(vc),this.location=de(sr),this.changeDetector=de(lh),this.environmentInjector=de(ti)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,Zh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,Zh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,Zh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new S(4013,Zh);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new a7(t,a,i.injector);if(r&&function u7(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Y({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jn]}),n})();class a7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===da?this.route:e===vc?this.childContexts:this.parent.get(e,t)}}let cv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Bn({type:n,selectors:[["ng-component"]],standalone:!0,features:[jx],decls:1,vars:0,template:function(t,r){1&t&&si(0,"router-outlet")},dependencies:[uv],encapsulation:2}),n})();function $R(n,e){return n.providers&&!n._injector&&(n._injector=th(n.providers,e,`Route: ${n.path}`)),n._injector??e}function dv(n){const e=n.children&&n.children.map(dv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=cv),t}function Wn(n){return n.outlet||ne}function GR(n,e){const t=n.filter(r=>Wn(r)===e);return t.push(...n.filter(r=>Wn(r)!==e)),t}function wc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class f7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),sv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=la(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Lt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=la(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=la(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=la(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Q8(s.value.snapshot))}),e.children.length&&this.forwardEvent(new W8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(sv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=wc(i.snapshot),u=a?.get(Pu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class HR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ef{constructor(e,t){this.component=e,this.route=t}}function p7(n,e,t){const r=n._root;return Ic(r,e?e._root:null,t,[r.value])}function ha(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function fB(n){return null!==nd(n)}(n)?e.get(n):n:r}function Ic(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=la(e);return n.children.forEach(o=>{(function m7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function y7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fs(n.url,e.url)||!Nr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ov(n,e)||!Nr(n.queryParams,e.queryParams);default:return!ov(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new HR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ic(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ef(a.outlet.component,o))}else o&&Cc(e,a,i),i.canActivateChecks.push(new HR(r)),Ic(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Lt(s,(o,a)=>Cc(o,t.getContext(a),i)),i}function Cc(n,e,t){const r=la(n),i=n.value;Lt(r,(s,o)=>{Cc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new ef(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ec(n){return"function"==typeof n}function hv(n){return n instanceof Bh||"EmptyError"===n?.name}const tf=Symbol("INITIAL_VALUE");function fa(){return Mr(n=>sR(n.map(e=>e.pipe(Bi(1),function l8(...n){const e=cu(n);return mt((t,r)=>{(e?jh(n,t,e):jh(n,t)).subscribe(r)})}(tf)))).pipe(le(e=>{for(const t of e)if(!0!==t){if(t===tf)return tf;if(!1===t||t instanceof Hi)return t}return!0}),fi(e=>e!==tf),Bi(1)))}function zR(n){return function _U(...n){return Q0(n)}(Qt(e=>{if(Ls(e))throw VR(0,e)}),le(e=>!0===e))}const fv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qR(n,e,t,r,i){const s=pv(n,e,t);return s.matched?function P7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=ha(o,n);return Gi(function E7(n){return n&&Ec(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(fa(),zR()):G(!0)}(r=$R(e,r),e,t).pipe(le(o=>!0===o?s:{...fv})):G(s)}function pv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...fv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||g8)(t,n,e);if(!i)return{...fv};const s={};Lt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function nf(n,e,t,r){if(t.length>0&&function L7(n,e,t){return t.some(r=>rf(n,e,r)&&Wn(r)!==ne)}(n,t,r)){const s=new ue(e,function F7(n,e,t,r){const i={};i[ne]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Wn(s)!==ne){const o=new ue([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Wn(s)]=o}return i}(n,e,r,new ue(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function V7(n,e,t){return t.some(r=>rf(n,e,r))}(n,t,r)){const s=new ue(n.segments,function O7(n,e,t,r,i){const s={};for(const o of r)if(rf(n,t,o)&&!i[Wn(o)]){const a=new ue([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Wn(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new ue(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function rf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function WR(n,e,t,r){return!!(Wn(n)===r||r!==ne&&rf(e,t,n))&&("**"===n.path||pv(e,n,t).matched)}function KR(n,e,t){return 0===e.length&&!n.children[t]}const sf=!1;class af{constructor(e){this.segmentGroup=e||null}}class QR{constructor(e){this.urlTree=e}}function Dc(n){return lc(new af(n))}function YR(n){return lc(new QR(n))}class $7{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=nf(this.urlTree.root,[],[],this.config).segmentGroup,t=new ue(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ne).pipe(le(s=>this.createUrlTree(Qh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe($i(s=>{if(s instanceof QR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof af?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ne).pipe(le(i=>this.createUrlTree(Qh(i),e.queryParams,e.fragment))).pipe($i(i=>{throw i instanceof af?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,sf)}createUrlTree(e,t,r){const i=Q_(e);return new Hi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(le(s=>new ue([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ct(i).pipe(Os(s=>{const o=r.children[s],a=GR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(le(u=>({segment:u,outlet:s})))}),lR((s,o)=>(s[o.outlet]=o.segment,s),{}),dR())}expandSegment(e,t,r,i,s,o){return ct(r).pipe(Os(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe($i(c=>{if(c instanceof af)return G(null);throw c}))),ji(a=>!!a),$i((a,u)=>{if(hv(a))return KR(t,i,s)?G(new ue([],{})):Dc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return WR(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Dc(t):Dc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?YR(s):this.lineralizeSegments(r,s).pipe(Dt(o=>{const a=new ue(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=pv(t,i,s);if(!a)return Dc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?YR(d):this.lineralizeSegments(i,d).pipe(Dt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=$R(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(le(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ue(i,{})))):G(new ue(i,{}))):qR(t,r,i,e).pipe(Mr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Dt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=nf(t,a,u,h),g=new ue(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(le(v=>new ue(a,v)));if(0===h.length&&0===p.length)return G(new ue(a,{}));const y=Wn(r)===s;return this.expandSegment(d,g,h,p,y?ne:s,!0).pipe(le(C=>new ue(a.concat(C.segments),C.children)))})):Dc(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?G({routes:t._loadedRoutes,injector:t._loadedInjector}):function k7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=ha(o,n);return Gi(function v7(n){return n&&Ec(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(fa(),zR())}(e,t,r).pipe(Dt(i=>i?this.configLoader.loadChildren(e,t).pipe(Qt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function B7(n){return lc(UR(sf,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[ne])return e.redirectTo,lc(new S(4e3,sf));i=i.children[ne]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Hi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Lt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Lt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ue(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new S(4001,sf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class H7{}class W7{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=nf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(le(t=>{if(null===t)return null;const r=new Xh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new pi(r,t),s=new FR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=OR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ct(Object.keys(r.children)).pipe(Os(i=>{const s=r.children[i],o=GR(t,i);return this.processSegmentGroup(e,o,s,i)}),lR((i,s)=>i&&s?(i.push(...s),i):null),function f8(n,e=!1){return mt((t,r)=>{let i=0;t.subscribe(ut(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),$h(null),dR(),le(i=>{if(null===i)return null;const s=XR(i);return function K7(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return ct(t).pipe(Os(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),ji(o=>!!o),$i(o=>{if(hv(o))return KR(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!WR(t,r,i,s))return G(null);let o;if("**"===t.path){const a=i.length>0?gR(i).parameters:{},u=ek(r)+i.length;o=G({snapshot:new Xh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tk(t),Wn(t),t.component??t._loadedComponent??null,t,ZR(r),u,nk(t)),consumedSegments:[],remainingSegments:[]})}else o=qR(r,t,i,e).pipe(le(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=ek(r)+u.length;return{snapshot:new Xh(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tk(t),Wn(t),t.component??t._loadedComponent??null,t,ZR(r),d,nk(t)),consumedSegments:u,remainingSegments:c}}));return o.pipe(Mr(a=>{if(null===a)return G(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function Q7(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=nf(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(le(y=>null===y?null:[new pi(u,y)]));if(0===h.length&&0===p.length)return G([new pi(u,[])]);const g=Wn(t)===s;return this.processSegment(d,h,f,p,g?ne:s).pipe(le(y=>null===y?null:[new pi(u,y)]))}))}}function Y7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function XR(n){const e=[],t=new Set;for(const r of n){if(!Y7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=XR(r.children);e.push(new pi(r.value,i))}return e.filter(r=>!t.has(r))}function ZR(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ek(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function tk(n){return n.data||{}}function nk(n){return n.resolve||{}}function rk(n){return"string"==typeof n.title||null===n.title}function gv(n){return Mr(e=>{const t=n(e);return t?ct(t).pipe(le(()=>e)):G(e)})}const pa=new B("ROUTES");let mv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=de(MM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Gi(t.loadComponent()).pipe(le(sk),Qt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),q_(()=>{this.componentLoaders.delete(t)})),i=new uR(r,()=>new qr).pipe(H_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(le(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=pR(u.get(pa,[],W.Self|W.Optional)));return{routes:c.map(dv),injector:u}}),q_(()=>{this.childrenLoaders.delete(r)})),o=new uR(s,()=>new qr).pipe(H_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Gi(t()).pipe(le(sk),Dt(r=>r instanceof Ux||Array.isArray(r)?G(r):ct(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sk(n){return function iW(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new qr,this.configLoader=de(mv),this.environmentInjector=de(ti),this.urlSerializer=de(fc),this.rootContexts=de(vc),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new z8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new H8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new cr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(r=>0!==r.id),le(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Mr(r=>{let i=!1,s=!1;return G(r).pipe(Qt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mr(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new Jh(o.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),mr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ok(o.source)&&(t.browserUrlTree=o.extractedUrl),G(o).pipe(Mr(l=>{const d=this.transitions?.getValue();return this.events.next(new Z_(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?mr:Promise.resolve(l)}),function G7(n,e,t,r){return Mr(i=>function j7(n,e,t,r,i){return new $7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(le(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Qt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function X7(n,e,t,r,i){return Dt(s=>function q7(n,e,t,r,i,s,o="emptyOnly"){return new W7(n,e,t,r,i,o,s).recognize().pipe(Mr(a=>null===a?function z7(n){return new Ze(e=>e.error(n))}(new H7):G(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(le(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Qt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new U8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new Z_(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=PR(d,this.rootComponentType).snapshot;return G(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Jh(o.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),mr}}),Qt(o=>{const a=new B8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),le(o=>r={...o,guards:p7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function b7(n,e){return Dt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?G({...t,guardsResult:!0}):function T7(n,e,t,r){return ct(n).pipe(Dt(i=>function R7(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=wc(e)??i,c=ha(a,u);return Gi(function C7(n){return n&&Ec(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(ji())})).pipe(fa()):G(!0)}(i.component,i.route,t,e,r)),ji(i=>!0!==i,!0))}(o,r,i,n).pipe(Dt(a=>a&&function _7(n){return"boolean"==typeof n}(a)?function S7(n,e,t,r){return ct(e).pipe(Os(i=>jh(function x7(n,e){return null!==n&&e&&e(new q8(n)),G(!0)}(i.route.parent,r),function A7(n,e){return null!==n&&e&&e(new K8(n)),G(!0)}(i.route,r),function N7(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function g7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>aR(()=>G(o.guards.map(u=>{const c=wc(o.node)??t,l=ha(u,c);return Gi(function I7(n){return n&&Ec(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(ji())})).pipe(fa())));return G(s).pipe(fa())}(n,i.path,t),function M7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>aR(()=>{const o=wc(e)??t,a=ha(s,o);return Gi(function w7(n){return n&&Ec(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(ji())}));return G(i).pipe(fa())}(n,i.route,t))),ji(i=>!0!==i,!0))}(r,s,n,e):G(a)),le(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Qt(o=>{if(r.guardsResult=o.guardsResult,Ls(o.guardsResult))throw VR(0,o.guardsResult);const a=new j8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),fi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),gv(o=>{if(o.guards.canActivateChecks.length)return G(o).pipe(Qt(a=>{const u=new $8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Mr(a=>{let u=!1;return G(a).pipe(function Z7(n,e){return Dt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let s=0;return ct(i).pipe(Os(o=>function eW(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!rk(i)&&(s[dc]=i.title),function tW(n,e,t,r){const i=function nW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return G({});const s={};return ct(i).pipe(Dt(o=>function rW(n,e,t,r){const i=wc(e)??r,s=ha(n,i);return Gi(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(ji(),Qt(a=>{s[o]=a}))),z_(1),hR(s),$i(o=>hv(o)?mr:lc(o)))}(s,n,e,r).pipe(le(o=>(n._resolvedData=o,n.data=OR(n,t).resolve,i&&rk(i)&&(n.data[dc]=i.title),null)))}(o.route,r,n,e)),Qt(()=>s++),z_(1),Dt(o=>s===i.length?G(t):mr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Qt({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Qt(a=>{const u=new G8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),gv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Qt(l=>{u.component=l}),le(()=>{})));for(const l of u.children)c.push(...a(l));return c};return sR(a(o.targetSnapshot.root)).pipe($h(),Bi(1))}),gv(()=>this.afterPreactivation()),le(o=>{const a=function r7(n,e,t){const r=_c(n,e._root,t?t._root:void 0);return new kR(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Qt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>le(r=>(new f7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Bi(1),Qt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new zi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),q_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),$i(o=>{if(s=!0,jR(o)){BR(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Yh(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),BR(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ok(r.source)};t.scheduleNavigation(u,yc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new ev(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return mr}))}))}cancelNavigationTransition(t,r,i){const s=new Yh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ok(n){return n!==yc}let ak=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(t){return t.data[dc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return de(sW)},providedIn:"root"}),n})(),sW=(()=>{class n extends ak{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(K(K1))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return de(uW)},providedIn:"root"}),n})();class aW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let uW=(()=>{class n extends aW{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(n)))(r||n)}}(),n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lf=new B("",{providedIn:"root",factory:()=>({})});let lW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return de(dW)},providedIn:"root"}),n})(),dW=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hW(n){throw n}function fW(n,e,t){return e.parse("/")}const pW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=de(Gz),this.isNgZoneEnabled=!1,this.options=de(lf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||hW,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||fW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=de(lW),this.routeReuseStrategy=de(oW),this.urlCreationStrategy=de(e7),this.titleStrategy=de(ak),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=pR(de(pa,{optional:!0})??[]),this.navigationTransitions=de(cf),this.urlSerializer=de(fc),this.location=de(Xy),this.isNgZoneEnabled=de(tt)instanceof tt&&tt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=PR(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(dv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ls(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,yc,null,r)}navigate(t,r={skipLocationChange:!1}){return function mW(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new S(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...pW}:!1===r?{...gW}:r,Ls(t))return yR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return yR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bc=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new qr;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof zi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=ra(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=ra(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=ra(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function dS(n,e,t){return function j$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?lS:cS}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(b(cn),b(da),function Ed(n){return function hj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(eT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Ot(),n)}("tabindex"),b(ni),b(Rn),b(Rs))},n.\u0275dir=Y({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&ge("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Tr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[jn]}),n})();class uk{}let vW=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(fi(t=>t instanceof zi),Os(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=th(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ct(i).pipe(yo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):G(null);const s=i.pipe(Dt(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ct([s,this.loader.loadComponent(r)]).pipe(yo()):s})}}return n.\u0275fac=function(t){return new(t||n)(K(cn),K(MM),K(ti),K(uk),K(mv))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _v=new B("");let ck=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Z_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof tv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function $S(){throw new Error("invalid")}()},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();var Pn=(()=>((Pn=Pn||{})[Pn.COMPLETE=0]="COMPLETE",Pn[Pn.FAILED=1]="FAILED",Pn[Pn.REDIRECTING=2]="REDIRECTING",Pn))();const ga=!1;function qi(n,e){return{\u0275kind:n,\u0275providers:e}}const vv=new B("",{providedIn:"root",factory:()=>!1});function dk(){const n=de(Er);return e=>{const t=n.get(uh);if(e!==t.components[0])return;const r=n.get(cn),i=n.get(hk);1===n.get(wv)&&r.initialNavigation(),n.get(fk,null,W.Optional)?.setUpPreloading(),n.get(_v,null,W.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const hk=new B(ga?"bootstrap done indicator":"",{factory:()=>new qr}),wv=new B(ga?"initial navigation":"",{providedIn:"root",factory:()=>1});function DW(){let n=[];return n=ga?[{provide:Pd,multi:!0,useFactory:()=>{const e=de(cn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Y8(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],qi(1,n)}const fk=new B(ga?"router preloader":"");function bW(n){return qi(0,[{provide:fk,useExisting:vW},{provide:uk,useExisting:n}])}const Tc=!1,pk=new B(Tc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),TW=[Xy,{provide:fc,useClass:W_},cn,vc,{provide:da,useFactory:function lk(n){return n.routerState.root},deps:[cn]},mv,Tc?{provide:vv,useValue:!0}:[]];function SW(){return new VM("Router",cn)}let gk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[TW,Tc&&r?.enableTracing?DW().\u0275providers:[],{provide:pa,multi:!0,useValue:t},{provide:pk,useFactory:NW,deps:[[cn,new Du,new bu]]},{provide:lf,useValue:r||{}},r?.useHash?{provide:Rs,useClass:Mq}:{provide:Rs,useClass:a1},{provide:_v,useFactory:()=>{const n=de(b1),e=de(tt),t=de(lf),r=de(cf),i=de(fc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ck(i,r,n,e,t)}},r?.preloadingStrategy?bW(r.preloadingStrategy).\u0275providers:[],{provide:VM,multi:!0,useFactory:SW},r?.initialNavigation?RW(r):[],[{provide:mk,useFactory:dk},{provide:LM,multi:!0,useExisting:mk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:pa,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(K(pk,8))},n.\u0275mod=vr({type:n}),n.\u0275inj=Jn({imports:[cv]}),n})();function NW(n){if(Tc&&n)throw new S(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function RW(n){return["disabled"===n.initialNavigation?qi(3,[{provide:sh,multi:!0,useFactory:()=>{const e=de(cn);return()=>{e.setUpLocationChangeListener()}}},{provide:wv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qi(2,[{provide:wv,useValue:0},{provide:sh,multi:!0,deps:[Er],useFactory:e=>{const t=e.get(Aq,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(cn),s=e.get(hk);(function wW(n,e){n.events.pipe(fi(t=>t instanceof zi||t instanceof Yh||t instanceof ev||t instanceof Jh),le(t=>t instanceof zi||t instanceof Jh?Pn.COMPLETE:t instanceof Yh&&(0===t.code||1===t.code)?Pn.REDIRECTING:Pn.FAILED),fi(t=>t!==Pn.REDIRECTING),Bi(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(cf).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const mk=new B(Tc?"Router Initializer":"");let OW=(()=>{var n;class e{constructor(){this.isMobile=function(){let n=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(n=!0),n;var e}(),this.menu=!this.isMobile}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-home"]],decls:0,vars:0,template:function(r,i){},styles:[".a[_ngcontent-%COMP%]{height:70px;background-color:#6495ed}.a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:35px;font-weight:700;margin:10px;color:#fff}"]}),e})(),FW=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(si(0,"div",0),F(1,"div",1)(2,"div",2),si(3,"img",3),F(4,"span",4)(5,"i",5),ae(6,"edit"),U()(),F(7,"div",6)(8,"div",7),ae(9,"V.V.S.K Chaitanya"),U(),F(10,"div",8),ae(11,"Software Engineer"),U()()()(),F(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),ae(16,"menu_book"),U(),F(17,"span"),ae(18,"Courses"),U()(),F(19,"div",12)(20,"i",5),ae(21,"assignment"),U(),F(22,"span"),ae(23,"Assessments"),U()(),F(24,"div",13)(25,"i",5),ae(26,"notifications"),U(),F(27,"span"),ae(28,"Notifications"),U()(),F(29,"div",14)(30,"i",5),ae(31,"person"),U(),F(32,"span"),ae(33,"Update Profile"),U()(),F(34,"div",15)(35,"i",5),ae(36,"logout"),U(),F(37,"span"),ae(38,"Logout"),U()()()())},dependencies:[bc],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})(),LW=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&si(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})();function yk(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){yk(s,r,i,o,a,"next",u)}function a(u){yk(s,r,i,o,a,"throw",u)}o(void 0)})}}const _k=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},vk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_k(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new jW;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const df=function(n){return function(n){const e=_k(n);return vk.encodeByteArray(e,!0)}(n).replace(/\./g,"")},hf=function(n){try{return vk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ff=()=>{try{return function HW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&hf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},Ik=n=>{var e,t;return null===(t=null===(e=ff())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},Ck=()=>{var n;return null===(n=ff())||void 0===n?void 0:n.config},Ek=n=>{var e;return null===(e=ff())||void 0===e?void 0:e[`_${n}`]};class Dk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function bt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bk(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Tk(){try{return"object"==typeof indexedDB}catch{return!1}}function Sk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}class lr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vs.prototype.create)}}class Vs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function nK(n,e){return n.replace(rK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new lr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const rK=/\{\$([^}]+)}/g;function Sc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(xk(s)&&xk(o)){if(!Sc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function xk(n){return null!==n&&"object"==typeof n}function gf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class oK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function aK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Cv),void 0===i.error&&(i.error=Cv),void 0===i.complete&&(i.complete=Cv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cv(){}const uK=1e3,cK=2,lK=144e5,dK=.5;function Mk(n,e=uK,t=cK){const r=e*Math.pow(t,n),i=Math.round(dK*r*(Math.random()-.5)*2);return Math.min(lK,r+i)}function In(n){return n&&n._delegate?n._delegate:n}class dr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Us="[DEFAULT]";class fK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Dk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function gK(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Us?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Dv=[];var me=(()=>{return(n=me||(me={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",me;var n})();const Nk={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},yK=me.INFO,_K={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},vK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=_K[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class mf{constructor(e){this.name=e,this._logLevel=yK,this._logHandler=vK,this._userLogHandler=null,Dv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Nk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const wK=(n,e)=>e.some(t=>n instanceof t);let Rk,kk;const Pk=new WeakMap,bv=new WeakMap,Ok=new WeakMap,Tv=new WeakMap,Sv=new WeakMap;let Av={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return bv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Ok.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function SK(n){return"function"==typeof n?function TK(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function CK(){return kk||(kk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(xv(this),e),Wi(Pk.get(this))}:function(...e){return Wi(n.apply(xv(this),e))}:function(e,...t){const r=n.call(xv(this),e,...t);return Ok.set(r,e.sort?e.sort():[e]),Wi(r)}}(n):(n instanceof IDBTransaction&&function DK(n){if(bv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});bv.set(n,e)}(n),wK(n,function IK(){return Rk||(Rk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Av):n)}function Wi(n){if(n instanceof IDBRequest)return function EK(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Wi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Pk.set(t,n)}).catch(()=>{}),Sv.set(e,n),e}(n);if(Tv.has(n))return Tv.get(n);const e=SK(n);return e!==n&&(Tv.set(n,e),Sv.set(e,n)),e}const xv=n=>Sv.get(n),xK=["get","getKey","getAll","getAllKeys","count"],MK=["put","add","delete","clear"],Mv=new Map;function Fk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Mv.get(e))return Mv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=MK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xK.includes(t))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Mv.set(e,s),s}!function bK(n){Av=n(Av)}(n=>({...n,get:(e,t,r)=>Fk(e,t)||n.get(e,t,r),has:(e,t)=>!!Fk(e,t)||n.has(e,t)}));class NK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function RK(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Nv="@firebase/app",Bs=new mf("@firebase/app"),yf="[DEFAULT]",iQ={[Nv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},js=new Map,_f=new Map;function sQ(n,e){try{n.container.addComponent(e)}catch(t){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function kr(n){const e=n.name;if(_f.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;_f.set(e,n);for(const t of js.values())sQ(t,n);return!0}function Ki(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const gi=new Vs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class aQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const ma="9.23.0";function Vk(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:yf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw gi.create("bad-app-name",{appName:String(i)});if(t||(t=Ck()),!t)throw gi.create("no-options");const s=js.get(i);if(s){if(Sc(t,s.options)&&Sc(r,s.config))return s;throw gi.create("duplicate-app",{appName:i})}const o=new mK(i);for(const u of _f.values())o.addComponent(u);const a=new aQ(t,r,o);return js.set(i,a),a}function Rv(n=yf){const e=js.get(n);if(!e&&n===yf&&Ck())return Vk();if(!e)throw gi.create("no-app",{appName:n});return e}function Kn(n,e,t){var r;let i=null!==(r=iQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Bs.warn(a.join(" "))}kr(new dr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const uQ="firebase-heartbeat-database",cQ=1,Ac="firebase-heartbeat-store";let Pv=null;function Uk(){return Pv||(Pv=function AK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Wi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wi(o.result),u.oldVersion,u.newVersion,Wi(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(uQ,cQ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ac)}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),Pv}function Ov(){return(Ov=m(function*(n){try{return yield(yield Uk()).transaction(Ac).objectStore(Ac).get(jk(n))}catch(e){if(e instanceof lr)Bs.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e?.message});Bs.warn(t.message)}}})).apply(this,arguments)}function Bk(n,e){return Fv.apply(this,arguments)}function Fv(){return(Fv=m(function*(n,e){try{const r=(yield Uk()).transaction(Ac,"readwrite");yield r.objectStore(Ac).put(e,jk(n)),yield r.done}catch(t){if(t instanceof lr)Bs.warn(t.message);else{const r=gi.create("idb-set",{originalErrorMessage:t?.message});Bs.warn(r.message)}}})).apply(this,arguments)}function jk(n){return`${n.name}!${n.options.appId}`}class fQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gQ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$k();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=$k(),{heartbeatsToSend:r,unsentEntries:i}=function pQ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Gk(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Gk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=df(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function $k(){return(new Date).toISOString().substring(0,10)}class gQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Tk()&&Sk().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function lQ(n){return Ov.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Bk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Bk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Gk(n){return df(JSON.stringify({version:2,heartbeats:n})).length}!function mQ(n){kr(new dr("platform-logger",e=>new NK(e),"PRIVATE")),kr(new dr("heartbeat",e=>new fQ(e),"PRIVATE")),Kn(Nv,"0.9.13",n),Kn(Nv,"0.9.13","esm2017"),Kn("fire-js","")}(""),Kn("firebase","9.23.0","app");const vQ=(n,e)=>e.some(t=>n instanceof t);let Hk,zk;const qk=new WeakMap,Lv=new WeakMap,Wk=new WeakMap,Vv=new WeakMap,Uv=new WeakMap;let Bv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Lv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Wk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function TQ(n){return"function"==typeof n?function bQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function IQ(){return zk||(zk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(jv(this),e),Qi(qk.get(this))}:function(...e){return Qi(n.apply(jv(this),e))}:function(e,...t){const r=n.call(jv(this),e,...t);return Wk.set(r,e.sort?e.sort():[e]),Qi(r)}}(n):(n instanceof IDBTransaction&&function EQ(n){if(Lv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Lv.set(n,e)}(n),vQ(n,function wQ(){return Hk||(Hk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Bv):n)}function Qi(n){if(n instanceof IDBRequest)return function CQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Qi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&qk.set(t,n)}).catch(()=>{}),Uv.set(e,n),e}(n);if(Vv.has(n))return Vv.get(n);const e=TQ(n);return e!==n&&(Vv.set(n,e),Uv.set(e,n)),e}const jv=n=>Uv.get(n),AQ=["get","getKey","getAll","getAllKeys","count"],xQ=["put","add","delete","clear"],$v=new Map;function Kk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if($v.get(e))return $v.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=xQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!AQ.includes(t))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return $v.set(e,s),s}!function DQ(n){Bv=n(Bv)}(n=>({...n,get:(e,t,r)=>Kk(e,t)||n.get(e,t,r),has:(e,t)=>!!Kk(e,t)||n.has(e,t)}));const Qk="@firebase/installations",Gv="0.6.4",Yk=1e4,Jk=`w:${Gv}`,Xk="FIS_v2",MQ="https://firebaseinstallations.googleapis.com/v1",NQ=36e5,mi=new Vs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Zk(n){return n instanceof lr&&n.code.includes("request-failed")}function Hv({projectId:n}){return`${MQ}/projects/${n}/installations`}function eP(n){return{token:n.token,requestStatus:2,expiresIn:OQ(n.expiresIn),creationTime:Date.now()}}function zv(n,e){return qv.apply(this,arguments)}function qv(){return(qv=m(function*(n,e){const r=(yield e.json()).error;return mi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function tP({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Wv(n){return Kv.apply(this,arguments)}function Kv(){return(Kv=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function OQ(n){return Number(n.replace("s","000"))}function Qv(){return(Qv=m(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Hv(n),i=tP(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:Xk,appId:n.appId,sdkVersion:Jk})},u=yield Wv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:eP(c.authToken)}}throw yield zv("Create Installation",u)})).apply(this,arguments)}function rP(n){return new Promise(e=>{setTimeout(e,n)})}const UQ=/^[cdef][\w-]{21}$/,Yv="";function BQ(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function jQ(n){return function VQ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return UQ.test(t)?t:Yv}catch{return Yv}}function ya(n){return`${n.appName}!${n.appId}`}const _a=new Map;function iP(n,e){const t=ya(n);sP(t,e),function HQ(n,e){const t=function oP(){return!$s&&"BroadcastChannel"in self&&($s=new BroadcastChannel("[Firebase] FID Change"),$s.onmessage=n=>{sP(n.data.key,n.data.fid)}),$s}();t&&t.postMessage({key:n,fid:e}),function aP(){0===_a.size&&$s&&($s.close(),$s=null)}()}(t,e)}function sP(n,e){const t=_a.get(n);if(t)for(const r of t)r(e)}let $s=null;const zQ="firebase-installations-database",qQ=1,Gs="firebase-installations-store";let Jv=null;function Xv(){return Jv||(Jv=function SQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Qi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Qi(o.result),u.oldVersion,u.newVersion,Qi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(zQ,qQ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Gs)}})),Jv}function vf(n,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=m(function*(n,e){const t=ya(n),i=(yield Xv()).transaction(Gs,"readwrite"),s=i.objectStore(Gs),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&iP(n,e.fid),e})).apply(this,arguments)}function ew(n){return tw.apply(this,arguments)}function tw(){return(tw=m(function*(n){const e=ya(n),r=(yield Xv()).transaction(Gs,"readwrite");yield r.objectStore(Gs).delete(e),yield r.done})).apply(this,arguments)}function xc(n,e){return nw.apply(this,arguments)}function nw(){return(nw=m(function*(n,e){const t=ya(n),i=(yield Xv()).transaction(Gs,"readwrite"),s=i.objectStore(Gs),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&iP(n,a.fid),a})).apply(this,arguments)}function rw(n){return iw.apply(this,arguments)}function iw(){return iw=m(function*(n){let e;const t=yield xc(n.appConfig,r=>{const i=function WQ(n){return cP(n||{fid:BQ(),registrationStatus:0})}(r),s=function KQ(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(mi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function QQ(n,e){return sw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:YQ(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===Yv?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),iw.apply(this,arguments)}function sw(){return sw=m(function*(n,e){try{const t=yield function LQ(n,e){return Qv.apply(this,arguments)}(n,e);return vf(n.appConfig,t)}catch(t){throw Zk(t)&&409===t.customData.serverCode?yield ew(n.appConfig):yield vf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),sw.apply(this,arguments)}function YQ(n){return ow.apply(this,arguments)}function ow(){return(ow=m(function*(n){let e=yield uP(n.appConfig);for(;1===e.registrationStatus;)yield rP(100),e=yield uP(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield rw(n);return r||t}return e})).apply(this,arguments)}function uP(n){return xc(n,e=>{if(!e)throw mi.create("installation-not-found");return cP(e)})}function cP(n){return function JQ(n){return 1===n.registrationStatus&&n.registrationTime+Yk<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function aw(){return(aw=m(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function ZQ(n,{fid:e}){return`${Hv(n)}/${e}/authTokens:generate`}(n,t),i=function nP(n,{refreshToken:e}){const t=tP(n);return t.append("Authorization",function FQ(n){return`${Xk} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Jk,appId:n.appId}})},u=yield Wv(()=>fetch(r,a));if(u.ok)return eP(yield u.json());throw yield zv("Generate Auth Token",u)})).apply(this,arguments)}function uw(n){return cw.apply(this,arguments)}function cw(){return cw=m(function*(n,e=!1){let t;const r=yield xc(n.appConfig,s=>{if(!dP(s))throw mi.create("not-registered");const o=s.authToken;if(!e&&function nY(n){return 2===n.requestStatus&&!function rY(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+NQ}(n)}(o))return s;if(1===o.requestStatus)return t=function eY(n,e){return lw.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw mi.create("app-offline");const a=function iY(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function tY(n,e){return dw.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),cw.apply(this,arguments)}function lw(){return(lw=m(function*(n,e){let t=yield lP(n.appConfig);for(;1===t.authToken.requestStatus;)yield rP(100),t=yield lP(n.appConfig);const r=t.authToken;return 0===r.requestStatus?uw(n,e):r})).apply(this,arguments)}function lP(n){return xc(n,e=>{if(!dP(e))throw mi.create("not-registered");return function sY(n){return 1===n.requestStatus&&n.requestTime+Yk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function dw(){return dw=m(function*(n,e){try{const t=yield function XQ(n,e){return aw.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield vf(n.appConfig,r),t}catch(t){if(!Zk(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield vf(n.appConfig,r)}else yield ew(n.appConfig);throw t}}),dw.apply(this,arguments)}function dP(n){return void 0!==n&&2===n.registrationStatus}function hw(){return(hw=m(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield rw(e);return r?r.catch(console.error):uw(e).catch(console.error),t.fid})).apply(this,arguments)}function fw(){return fw=m(function*(n,e=!1){const t=n;return yield function uY(n){return pw.apply(this,arguments)}(t),(yield uw(t,e)).token}),fw.apply(this,arguments)}function pw(){return(pw=m(function*(n){const{registrationPromise:e}=yield rw(n);e&&(yield e)})).apply(this,arguments)}function yw(n){return mi.create("missing-app-config-values",{valueName:n})}const hP="installations",fY=n=>{const e=n.getProvider("app").getImmediate(),t=function dY(n){if(!n||!n.options)throw yw("App Configuration");if(!n.name)throw yw("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw yw(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ki(e,"heartbeat"),_delete:()=>Promise.resolve()}},pY=n=>{const t=Ki(n.getProvider("app").getImmediate(),hP).getImmediate();return{getId:()=>function oY(n){return hw.apply(this,arguments)}(t),getToken:i=>function aY(n){return fw.apply(this,arguments)}(t,i)}};(function gY(){kr(new dr(hP,fY,"PUBLIC")),kr(new dr("installations-internal",pY,"PRIVATE"))})(),Kn(Qk,Gv),Kn(Qk,Gv,"esm2017");const wf="analytics",mY="firebase_id",yY="origin",_Y=6e4,vY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_w="https://www.googletagmanager.com/gtag/js",Tt=new mf("@firebase/analytics"),ln=new Vs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function IY(n){if(!n.startsWith(_w)){const e=ln.create("invalid-gtag-resource",{gtagURL:n});return Tt.warn(e.message),""}return n}function fP(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function vw(){return(vw=m(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield fP(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Tt.error(a)}n("config",i,s)})).apply(this,arguments)}function ww(){return(ww=m(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield fP(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Tt.error(s)}})).apply(this,arguments)}const MY=30,pP=new class RY{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function kY(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Iw(){return(Iw=m(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:kY(r)},s=vY.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw ln.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Cw(){return(Cw=m(function*(n,e=pP,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw ln.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ln.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new VY;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:_Y),gP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function gP(n,e,t){return Ew.apply(this,arguments)}function Ew(){return Ew=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=pP){var s;const{appId:o,measurementId:a}=n;try{yield function FY(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Tt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function PY(n){return Iw.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function LY(n){if(!(n instanceof lr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Tt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Mk(t,i.intervalMillis,MY):Mk(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),Tt.debug(`Calling attemptFetch again in ${l} millis`),gP(n,d,r,i)}}),Ew.apply(this,arguments)}class VY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Dw,Nw;function bw(){return(bw=m(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Rw(){return(Rw=m(function*(){if(!Tk())return Tt.warn(ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Sk()}catch(n){return Tt.warn(ln.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function kw(){return kw=m(function*(n,e,t,r,i,s,o){var a;const u=function OY(n){return Cw.apply(this,arguments)}(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Tt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Tt.error(f)),e.push(u);const c=function zY(){return Rw.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function xY(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(_w)&&t.src.includes(n))return t;return null})(s)||function EY(n,e){const t=function CY(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:IY}),r=document.createElement("script"),i=`${_w}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),Nw&&(i("consent","default",Nw),function mP(n){Nw=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[yY]="firebase",h.update=!0,null!=d&&(h[mY]=d),i("config",l.measurementId,h),Dw&&(i("set",Dw),function yP(n){Dw=n}(void 0)),l.measurementId}),kw.apply(this,arguments)}class WY{constructor(e){this.app=e}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},_P=[];const vP={};let IP,Or,If="dataLayer",wP="gtag",Pw=!1;function QY(n,e,t){!function KY(){const n=[];if(bk()&&n.push("This is a browser extension environment."),function eK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ln.create("invalid-analytics-context",{errorInfo:e});Tt.warn(t.message)}}();const r=n.options.appId;if(!r)throw ln.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ln.create("no-api-key");Tt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pr[r])throw ln.create("already-exists",{id:r});if(!Pw){!function DY(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(If);const{wrappedGtag:s,gtagCore:o}=function AY(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function SY(n,e,t,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function TY(n,e,t,r,i){return ww.apply(this,arguments)}(n,e,t,u,c)}else if("config"===o){const[u,c]=a;yield function bY(n,e,t,r,i,s){return vw.apply(this,arguments)}(n,e,t,r,u,c)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,c,l]=a;n("get",u,c,l)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){Tt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Pr,_P,vP,If,wP);Or=s,IP=o,Pw=!0}return Pr[r]=function qY(n,e,t,r,i,s,o){return kw.apply(this,arguments)}(n,_P,vP,e,IP,If,t),new WY(n)}function CP(n,e,t,r){n=In(n),function UY(n,e,t,r,i){return bw.apply(this,arguments)}(Or,Pr[n.app.options.appId],e,t,r).catch(i=>Tt.error(i))}const EP="@firebase/analytics";!function XY(){kr(new dr(wf,(e,{options:t})=>QY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),kr(new dr("analytics-internal",function n(e){try{const t=e.getProvider(wf).getImmediate();return{logEvent:(r,i,s)=>CP(t,r,i,s)}}catch(t){throw ln.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Kn(EP,"0.10.0"),Kn(EP,"0.10.0","esm2017")}();const ZY=function bP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},TP=new Vs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cf=new mf("@firebase/auth");function Ef(n,...e){Cf.logLevel<=me.ERROR&&Cf.error(`Auth (${ma}): ${n}`,...e)}function Cn(n,...e){throw Lw(n,...e)}function Fr(n,...e){return Lw(n,...e)}function Lw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return TP.create(n,...e)}function A(n,e,...t){if(!n)throw Lw(e,...t)}function Lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ef(e),new Error(e)}function Yi(n,e){n||Lr(e)}function Mc(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function AP(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yi(t>e,"Short delay should be less than long delay!"),this.isMobile=function YW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}()||function XW(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function tJ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Vw(){return"http:"===AP()||"https:"===AP()}()||bk()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Uw(n,e){Yi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class xP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},iJ=new Nc(3e4,6e4);function qe(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ye(n,e,t,r){return Bw.apply(this,arguments)}function Bw(){return(Bw=m(function*(n,e,t,r,i={}){return MP(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=gf(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),xP.fetch()(NP(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function MP(n,e,t){return jw.apply(this,arguments)}function jw(){return(jw=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},rJ),e);try{const i=new sJ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Rc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Rc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Rc(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Rc(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function SP(n,e,t){const r=Object.assign(Object.assign({},ZY()),{[e]:t});return new Vs("auth","Firebase",r).create(e,{appName:n.name})}(n,l,c);Cn(n,l)}}catch(i){if(i instanceof lr)throw i;Cn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function yi(n,e,t,r){return $w.apply(this,arguments)}function $w(){return($w=m(function*(n,e,t,r,i={}){const s=yield Ye(n,e,t,r,i);return"mfaPendingCredential"in s&&Cn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function NP(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Uw(n.config,i):`${n.config.apiScheme}://${i}`}class sJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),iJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Fr(n,e,r);return i.customData._tokenResponse=t,i}function Gw(){return(Gw=m(function*(n,e){return Ye(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function zw(){return(zw=m(function*(n,e){return Ye(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function kc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function qw(){return(qw=m(function*(n,e=!1){const t=In(n),r=yield t.getIdToken(e),i=Df(r);A(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:kc(Ww(i.auth_time)),issuedAtTime:kc(Ww(i.iat)),expirationTime:kc(Ww(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Ww(n){return 1e3*Number(n)}function Df(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Ef("JWT malformed, contained fewer than 3 sections"),null;try{const i=hf(t);return i?JSON.parse(i):(Ef("Failed to decode base64 JWT payload"),null)}catch(i){return Ef("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _i(n,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof lr&&function dJ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class hJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class RP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pc(n){return Qw.apply(this,arguments)}function Qw(){return Qw=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield _i(n,function uJ(n,e){return zw.apply(this,arguments)}(t,{idToken:r}));A(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function gJ(n){return n.map(e=>{var{providerId:t}=e,r=wg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function pJ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new RP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),Qw.apply(this,arguments)}function Yw(){return(Yw=m(function*(n){const e=In(n);yield Pc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Jw(){return(Jw=m(function*(n,e){const t=yield MP(n,{},m(function*(){const r=gf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=NP(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function lJ(n){const e=Df(n);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function mJ(n,e){return Jw.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Oc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oc,this.toJSON())}_performRefresh(){return Lr("not implemented")}}function Ji(n,e){A("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Hs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new RP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield _i(t,t.stsTokenManager.getToken(t.auth,e));return A(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function cJ(n){return qw.apply(this,arguments)}(this,e)}reload(){return function fJ(n){return Yw.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Pc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield _i(e,function oJ(n,e){return Gw.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:N,isAnonymous:j,providerData:H,stsTokenManager:kt}=t;A(v&&kt,e,"internal-error");const xi=Oc.fromJSON(this.name,kt);A("string"==typeof v,e,"internal-error"),Ji(d,e.name),Ji(h,e.name),A("boolean"==typeof N,e,"internal-error"),A("boolean"==typeof j,e,"internal-error"),Ji(f,e.name),Ji(p,e.name),Ji(g,e.name),Ji(y,e.name),Ji(I,e.name),Ji(C,e.name);const ou=new Hs({uid:v,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:j,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:xi,createdAt:I,lastLoginAt:C});return H&&Array.isArray(H)&&(ou.providerData=H.map(ise=>Object.assign({},ise))),y&&(ou._redirectEventId=y),ou}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new Oc;i.updateFromServerResponse(t);const s=new Hs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Pc(s),s})()}}const kP=new Map;function vi(n){Yi(n instanceof Function,"Expected a class definition");let e=kP.get(n);return e?(Yi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kP.set(n,e),e)}const PP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function bf(n,e,t){return`firebase:${n}:${e}:${t}`}class wa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bf(this.userKey,i.apiKey,s),this.fullPersistenceKey=bf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Hs._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new wa(vi(PP),e,r);const i=(yield Promise.all(t.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||vi(PP);const o=bf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=Hs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new wa(s,e,r)):new wa(s,e,r)})()}}function OP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BP(e))return"Blackberry";if(jP(e))return"Webos";if(Xw(e))return"Safari";if((e.includes("chrome/")||LP(e))&&!e.includes("edge/"))return"Chrome";if(UP(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function FP(n=bt()){return/firefox\//i.test(n)}function Xw(n=bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LP(n=bt()){return/crios\//i.test(n)}function VP(n=bt()){return/iemobile/i.test(n)}function UP(n=bt()){return/android/i.test(n)}function BP(n=bt()){return/blackberry/i.test(n)}function jP(n=bt()){return/webos/i.test(n)}function Tf(n=bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $P(n=bt()){return Tf(n)||UP(n)||jP(n)||BP(n)||/windows phone/i.test(n)||VP(n)}function GP(n,e=[]){let t;switch(n){case"Browser":t=OP(bt());break;case"Worker":t=`${OP(bt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${r}`}function HP(n,e){return eI.apply(this,arguments)}function eI(){return(eI=m(function*(n,e){return Ye(n,"GET","/v2/recaptchaConfig",qe(n,e))})).apply(this,arguments)}function qP(n){return void 0!==n&&void 0!==n.enterprise}class WP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function tI(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Fr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function IJ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function KP(n){return`__${n}${Math.floor(1e6*Math.random())}`}const DJ="NO_RECAPTCHA";class QP{constructor(e){this.type="recaptcha-enterprise",this.auth=St(e)}verify(e="verify",t=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){HP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new WP(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;qP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(DJ)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&qP(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));tI("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class bJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class TJ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YP(this),this.idTokenSubscription=new YP(this),this.beforeStateQueue=new bJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield wa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return A(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield Pc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function nJ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?In(e):null;return r&&A(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(vi(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const t=yield HP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new WP(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new QP(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&vi(e)||t._popupRedirectResolver;A(r,t,"argument-error"),t.redirectPersistenceManager=yield wa.create(t,[vi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function eJ(n,...e){Cf.logLevel<=me.WARN&&Cf.warn(`Auth (${ma}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function St(n){return In(n)}class YP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function sK(n,e){const t=new oK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function JP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function XP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class RJ{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}function wi(n,e){return _I.apply(this,arguments)}function _I(){return(_I=m(function*(n,e){return yi(n,"POST","/v1/accounts:signInWithIdp",qe(n,e))})).apply(this,arguments)}class Zi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qJ extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield Hs._fromIdTokenResponse(e,r,i),o=nO(r);return new Qn({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=nO(r);return new Qn({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function nO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Nf extends lr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Nf(e,t,r,i)}}function rO(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Nf._fromErrorAndOperation(n,s,e,r):s})}function SI(n,e){return AI.apply(this,arguments)}function AI(){return(AI=m(function*(n,e,t=!1){const r=yield _i(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Qn._forOperation(n,"link",r)})).apply(this,arguments)}function sO(n,e){return MI.apply(this,arguments)}function MI(){return(MI=m(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield _i(n,rO(r,i,e,n),t);A(s.idToken,r,"internal-error");const o=Df(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(n.uid===a,r,"user-mismatch"),Qn._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Cn(r,"user-mismatch"),s}})).apply(this,arguments)}function oO(n,e){return NI.apply(this,arguments)}function NI(){return(NI=m(function*(n,e,t=!1){const r="signIn",i=yield rO(n,r,e),s=yield Qn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const kf="__sak";class uO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gX=(()=>{class n extends uO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hX(){const n=bt();return Xw(n)||Tf(n)}()&&function vJ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$P(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function _J(){return function ZW(){const n=bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),cO=(()=>{class n extends uO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let yX=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function mX(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function aC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class _X{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=aC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ft(){return window}function uC(){return typeof ft().WorkerGlobalScope<"u"&&"function"==typeof ft().importScripts}function cC(){return(cC=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const lO="firebaseLocalStorageDb",EX=1,Pf="firebaseLocalStorage",dO="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Of(n,e){return n.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function lC(){const n=indexedDB.open(lO,EX);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Pf,{keyPath:dO})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(Pf)?e(r):(r.close(),yield function DX(){const n=indexedDB.deleteDatabase(lO);return new Uc(n).toPromise()}(),e(yield lC()))}))})}function hO(n,e,t){return dC.apply(this,arguments)}function dC(){return(dC=m(function*(n,e,t){const r=Of(n,!0).put({[dO]:e,value:t});return new Uc(r).toPromise()})).apply(this,arguments)}function hC(){return(hC=m(function*(n,e){const t=Of(n,!1).get(e),r=yield new Uc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function fO(n,e){const t=Of(n,!0).delete(e);return new Uc(t).toPromise()}const AX=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield lC()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return uC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=yX._getInstance(function CX(){return uC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function wX(){return cC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new _X(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function IX(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield lC();return yield hO(t,kf,"1"),yield fO(t,kf),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>hO(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function bX(n,e){return hC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>fO(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=Of(o,!1).getAll();return new Uc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();KP("rcb"),new Nc(3e4,6e4);class IC extends RJ{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HX(n){return oO(n.auth,new IC(n),n.bypassAuthState)}function zX(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),sO(t,new IC(n),n.bypassAuthState)}function qX(n){return CC.apply(this,arguments)}function CC(){return(CC=m(function*(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),SI(t,new IC(n),n.bypassAuthState)})).apply(this,arguments)}class WX{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HX;case"linkViaPopup":case"linkViaRedirect":return qX;case"reauthViaPopup":case"reauthViaRedirect":return zX;default:Cn(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Nc(2e3,1e4);const KX="pendingRedirect",Bc=new Map;class QX extends WX{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=Bc.get(t.auth._key());if(!r){try{const s=(yield function YX(n,e){return SC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Bc.set(t.auth._key(),r)}return t.bypassAuthState||Bc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function SC(){return(SC=m(function*(n,e){const t=function mO(n){return bf(KX,n.config.apiKey,n.name)}(e),r=function gO(n){return vi(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function JX(n,e){Bc.set(n._key(),e)}function yO(n,e){return PC.apply(this,arguments)}function PC(){return(PC=m(function*(n,e,t=!1){const r=St(n),i=function qs(n,e){return e?vi(e):(A(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new QX(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class nZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function rZ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wO(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!wO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vO(e))}saveEventToCache(e){this.cachedEventUids.add(vO(e)),this.lastProcessedEventTime=Date.now()}}function vO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wO({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function FC(){return(FC=m(function*(n,e={}){return Ye(n,"GET","/v1/projects",e)})).apply(this,arguments)}const sZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oZ=/^https?/;function LC(){return LC=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function iZ(n){return FC.apply(this,arguments)}(n);for(const t of e)try{if(uZ(t))return}catch{}Cn(n,"unauthorized-domain")}),LC.apply(this,arguments)}function uZ(n){const e=Mc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!oZ.test(t))return!1;if(sZ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const cZ=new Nc(3e4,6e4);function IO(){const n=ft().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Lf=null;const hZ=new Nc(5e3,15e3),fZ="__/auth/iframe",pZ="emulator/auth/iframe",gZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yZ(n){const e=n.config;A(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Uw(e,pZ):`https://${n.config.authDomain}/${fZ}`,r={apiKey:e.apiKey,appName:n.name,v:ma},i=mZ.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${gf(r).slice(1)}`}function VC(){return VC=m(function*(n){const e=yield function dZ(n){return Lf=Lf||function lZ(n){return new Promise((e,t)=>{var r,i,s;function o(){IO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IO(),t(Fr(n,"network-request-failed"))},timeout:cZ.get()})}if(null!==(i=null===(r=ft().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ft().gapi)||void 0===s||!s.load){const a=KP("iframefcb");return ft()[a]=()=>{gapi.load?o():t(Fr(n,"network-request-failed"))},tI(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Lf=null,e})}(n),Lf}(n),t=ft().gapi;return A(t,n,"internal-error"),e.open({where:document.body,url:yZ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gZ,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Fr(n,"network-request-failed"),u=ft().setTimeout(()=>{o(a)},hZ.get());function c(){ft().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),VC.apply(this,arguments)}const vZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wZ=500,IZ=600,CZ="_blank",EZ="http://localhost";class CO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const TZ="__/auth/handler",SZ="emulator/auth/handler",AZ=encodeURIComponent("fac");function EO(n,e,t,r,i,s){return UC.apply(this,arguments)}function UC(){return(UC=m(function*(n,e,t,r,i,s){A(n.config.authDomain,n,"auth-domain-config-required"),A(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ma,eventId:i};if(e instanceof Zi){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function iK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof qJ){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield n._getAppCheckToken(),c=u?`#${AZ}=${encodeURIComponent(u)}`:"";return`${function xZ({config:n}){return n.emulator?Uw(n,SZ):`https://${n.authDomain}/${TZ}`}(n)}?${gf(a).slice(1)}${c}`})).apply(this,arguments)}const BC="webStorageSupport",NZ=class MZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cO,this._completeRedirectFn=yO,this._overrideRedirectResult=JX}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;Yi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield EO(e,t,r,Mc(),i);return function DZ(n,e,t,r=wZ,i=IZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},vZ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=bt().toLowerCase();t&&(a=LP(c)?CZ:t),FP(c)&&(e=e||EZ,u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function yJ(n=bt()){var e;return Tf(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function bZ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new CO(null);const d=window.open(e||"",a,l);A(d,n,"popup-blocked");try{d.focus()}catch{}return new CO(d)}(e,a,aC())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function vX(n){ft().location.href=n}(yield EO(e,t,r,Mc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Yi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function _Z(n){return VC.apply(this,arguments)}(e),i=new nZ(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(BC,{type:BC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[BC];void 0!==o&&t(!!o),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function aZ(n){return LC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $P()||Xw()||Tf()}};var TO="@firebase/auth";class RZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const FZ=Ek("authIdTokenMaxAge")||300;let AO=null;const LZ=n=>function(){var e=m(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>FZ)return;const s=r?.token;AO!==s&&(AO=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function VZ(n=Rv()){const e=Ki(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function SJ(n,e){const t=Ki(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Sc(t.getOptions(),e??{}))return i;Cn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:NZ,persistence:[AX,gX,cO]}),r=Ek("authTokenSyncURL");if(r){const s=LZ(r);(function aX(n,e,t){In(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function oX(n,e,t,r){In(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=Ik("auth");return i&&function xJ(n,e,t){const r=St(n);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=JP(e),{host:o,port:a}=function MJ(n){const e=JP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:XP(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:XP(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function NJ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function PZ(n){kr(new dr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GP(n)},c=new TJ(r,i,s,u);return function AJ(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(vi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),kr(new dr("auth-internal",e=>{const t=St(e.getProvider("auth").getImmediate());return new RZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(TO,"0.23.2",function kZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Kn(TO,"0.23.2","esm2017")}("Browser");var R,UZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr={},$C=$C||{},X=UZ||self;function Uf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function jc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var GC="closure_uid_"+(1e9*Math.random()>>>0),jZ=0;function $Z(n,e,t){return n.call.apply(n.bind,arguments)}function GZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Yt(n,e,t){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$Z:GZ).apply(null,arguments)}function Bf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function At(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function es(){this.s=this.s,this.o=this.o}es.prototype.s=!1,es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function BZ(n){Object.prototype.hasOwnProperty.call(n,GC)&&n[GC]||(n[GC]=++jZ)}(this)},es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function HC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function MO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Uf(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Jt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var zZ=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{X.addEventListener("test",()=>{},e),X.removeEventListener("test",()=>{},e)}catch{}return n}();function $c(n){return/^[\s\xa0]*$/.test(n)}function jf(){var n=X.navigator;return n&&(n=n.userAgent)?n:""}function Vr(n){return-1!=jf().indexOf(n)}function zC(n){return zC[" "](n),n}zC[" "]=function(){};var WC,n,WZ=Vr("Opera"),Ca=Vr("Trident")||Vr("MSIE"),NO=Vr("Edge"),qC=NO||Ca,RO=Vr("Gecko")&&!(-1!=jf().toLowerCase().indexOf("webkit")&&!Vr("Edge"))&&!(Vr("Trident")||Vr("MSIE"))&&!Vr("Edge"),KZ=-1!=jf().toLowerCase().indexOf("webkit")&&!Vr("Edge");function kO(){var n=X.document;return n?n.documentMode:void 0}e:{var KC="",QC=(n=jf(),RO?/rv:([^\);]+)(\)|;)/.exec(n):NO?/Edge\/([\d\.]+)/.exec(n):Ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):KZ?/WebKit\/(\S+)/.exec(n):WZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(QC&&(KC=QC?QC[1]:""),Ca){var YC=kO();if(null!=YC&&YC>parseFloat(KC)){WC=String(YC);break e}}WC=KC}var QZ=X.document&&Ca&&(kO()||parseInt(WC,10))||void 0;function Gc(n,e){if(Jt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(RO){e:{try{zC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:YZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gc.$.h.call(this)}}At(Gc,Jt);var YZ={2:"touch",3:"pen",4:"mouse"};Gc.prototype.h=function(){Gc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hc="closure_listenable_"+(1e6*Math.random()|0),JZ=0;function XZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++JZ,this.fa=this.ia=!1}function $f(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function XC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function OO(n){const e={};for(const t in n)e[t]=n[t];return e}const FO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<FO.length;s++)t=FO[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Gf(n){this.src=n,this.g={},this.h=0}function ZC(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=xO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($f(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function eE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Gf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=eE(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new XZ(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var tE="closure_lm_"+(1e6*Math.random()|0),nE={};function VO(n,e,t,r,i){if(r&&r.once)return BO(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)VO(n,e[s],t,r,i);return null}return t=oE(t),n&&n[Hc]?n.O(e,t,jc(r)?!!r.capture:!!r,i):UO(n,e,t,!1,r,i)}function UO(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=jc(i)?!!i.capture:!!i,a=iE(n);if(a||(n[tE]=a=new Gf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function eee(){const e=tee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)zZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent($O(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function BO(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BO(n,e[s],t,r,i);return null}return t=oE(t),n&&n[Hc]?n.P(e,t,jc(r)?!!r.capture:!!r,i):UO(n,e,t,!0,r,i)}function jO(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jO(n,e[s],t,r,i);else r=jc(r)?!!r.capture:!!r,t=oE(t),n&&n[Hc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=eE(s=n.g[e],t,r,i))&&($f(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=iE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=eE(e,t,r,i)),(t=-1<n?e[n]:null)&&rE(t))}function rE(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Hc])ZC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent($O(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=iE(e))?(ZC(t,n),0==t.h&&(t.src=null,e[tE]=null)):$f(n)}}}function $O(n){return n in nE?nE[n]:nE[n]="on"+n}function tee(n,e){if(n.fa)n=!0;else{e=new Gc(e,this);var t=n.listener,r=n.la||n.src;n.ia&&rE(n),n=t.call(r,e)}return n}function iE(n){return(n=n[tE])instanceof Gf?n:null}var sE="__closure_events_fn_"+(1e9*Math.random()>>>0);function oE(n){return"function"==typeof n?n:(n[sE]||(n[sE]=function(e){return n.handleEvent(e)}),n[sE])}function xt(){es.call(this),this.i=new Gf(this),this.S=this,this.J=null}function Vt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;LO(e=new Jt(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Hf(o,r,!0,e)&&i}if(i=Hf(o=e.g=n,r,!0,e)&&i,i=Hf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Hf(o=e.g=t[s],r,!1,e)&&i}function Hf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&ZC(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}At(xt,es),xt.prototype[Hc]=!0,xt.prototype.removeEventListener=function(n,e,t,r){jO(this,n,e,t,r)},xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$f(t[r]);delete n.g[e],n.h--}}this.J=null},xt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},xt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var aE=X.JSON.stringify;function ree(){var n=uE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var GO=new class nee{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new see,n=>n.reset());class see{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oee(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function aee(n){X.setTimeout(()=>{throw n},0)}let zc,qc=!1,uE=new class iee{constructor(){this.h=this.g=null}add(e,t){const r=GO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},HO=()=>{const n=X.Promise.resolve(void 0);zc=()=>{n.then(uee)}};var uee=()=>{for(var n;n=ree();){try{n.h.call(n.g)}catch(t){aee(t)}var e=GO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qc=!1};function zf(n,e){xt.call(this),this.h=n||1,this.g=e||X,this.j=Yt(this.qb,this),this.l=Date.now()}function cE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function lE(n,e,t){if("function"==typeof n)t&&(n=Yt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yt(n.handleEvent,n)}return 2147483647<Number(e)?-1:X.setTimeout(n,e||0)}function zO(n){n.g=lE(()=>{n.g=null,n.i&&(n.i=!1,zO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}At(zf,xt),(R=zf.prototype).ga=!1,R.T=null,R.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(cE(this),this.start()))}},R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.N=function(){zf.$.N.call(this),cE(this),delete this.g};class cee extends es{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zO(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wc(n){es.call(this),this.h=n,this.g={}}At(Wc,es);var qO=[];function WO(n,e,t,r){Array.isArray(t)||(t&&(qO[0]=t.toString()),t=qO);for(var i=0;i<t.length;i++){var s=VO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function KO(n){XC(n.g,function(e,t){this.g.hasOwnProperty(t)&&rE(e)},n),n.g={}}function qf(){this.g=!0}function Ea(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return aE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Wc.prototype.N=function(){Wc.$.N.call(this),KO(this)},Wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qf.prototype.Ea=function(){this.g=!1},qf.prototype.info=function(){};var Ws={},QO=null;function Wf(){return QO=QO||new xt}function YO(n){Jt.call(this,Ws.Ta,n)}function Kc(n){const e=Wf();Vt(e,new YO(e))}function JO(n,e){Jt.call(this,Ws.STAT_EVENT,n),this.stat=e}function dn(n){const e=Wf();Vt(e,new JO(e,n))}function XO(n,e){Jt.call(this,Ws.Ua,n),this.size=e}function Qc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){n()},e)}Ws.Ta="serverreachability",At(YO,Jt),Ws.STAT_EVENT="statevent",At(JO,Jt),Ws.Ua="timingevent",At(XO,Jt);var Kf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ZO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dE(){}function tF(){}dE.prototype.h=null;var pE,Yc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hE(){Jt.call(this,"d")}function fE(){Jt.call(this,"c")}function Qf(){}function Jc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Wc(this),this.P=pee,this.V=new zf(n=qC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nF}function nF(){this.i=null,this.g="",this.h=!1}At(hE,Jt),At(fE,Jt),At(Qf,dE),Qf.prototype.g=function(){return new XMLHttpRequest},Qf.prototype.i=function(){return{}},pE=new Qf;var pee=45e3,gE={},Yf={};function mE(n,e,t){n.L=1,n.v=ep(Ii(e)),n.s=t,n.S=!0,rF(n,null)}function rF(n,e){n.G=Date.now(),Xc(n),n.A=Ii(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),fF(t.i,"t",r),n.C=0,t=n.l.J,n.h=new nF,n.g=LF(n.l,t?e:null,!n.s),0<n.O&&(n.M=new cee(Yt(n.Pa,n,n.g),n.O)),WO(n.U,n.g,"readystatechange",n.nb),e=n.I?OO(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Kc(),function lee(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function iF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function sF(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=gee(n,t),i==Yf){4==e&&(n.o=4,dn(14),r=!1),Ea(n.j,n.m,null,"[Incomplete Response]");break}if(i==gE){n.o=4,dn(15),Ea(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ea(n.j,n.m,i,null),yE(n,i)}iF(n)&&i!=Yf&&i!=gE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,dn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),DE(e),e.M=!0,dn(11))):(Ea(n.j,n.m,t,"[Invalid Chunked Response]"),Ks(n),Zc(n))}function gee(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Yf:(t=Number(e.substring(t,r)),isNaN(t)?gE:(r+=1)+t>e.length?Yf:(e=e.slice(r,r+t),n.C=r+t,e))}function Xc(n){n.Y=Date.now()+n.P,oF(n,n.P)}function oF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qc(Yt(n.lb,n),e)}function Jf(n){n.B&&(X.clearTimeout(n.B),n.B=null)}function Zc(n){0==n.l.H||n.J||kF(n.l,n)}function Ks(n){Jf(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,cE(n.V),KO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function yE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||_E(t.i,n)))if(!n.K&&_E(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;op(t),ip(t)}EE(t),dn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Qc(Yt(t.ib,t),6e3));if(1>=mF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ys(t,11)}else if((n.K||t.g==n)&&op(t),!$c(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(vE(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ve(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=FF(r,r.J?r.pa:null,r.Y),o.K){yF(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Jf(a),Xc(a)),r.g=o}else NF(r);0<t.j.length&&sp(t)}else"stop"!=c[0]&&"close"!=c[0]||Ys(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ys(t,7):CE(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Kc()}catch{}}function aF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Uf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function yee(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Uf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function mee(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Uf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(R=Jc.prototype).setTimeout=function(n){this.P=n},R.nb=function(n){n=n.target;const e=this.M;e&&3==Ur(n)?e.l():this.Pa(n)},R.Pa=function(n){try{if(n==this.g)e:{const l=Ur(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||qC||this.g&&(this.h.h||this.g.ja()||bF(this.g)))){this.J||4!=l||7==e||Kc(),Jf(this);var t=this.g.da();this.ca=t;t:if(iF(this)){var r=bF(this.g);n="";var i=r.length,s=4==Ur(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ks(this),Zc(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function dee(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$c(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,dn(12),Ks(this),Zc(this);break e}Ea(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yE(this,t)}this.S?(sF(this,l,o),qC&&this.i&&3==l&&(WO(this.U,this.V,"tick",this.mb),this.V.start())):(Ea(this.j,this.m,o,null),yE(this,o)),4==l&&Ks(this),this.i&&!this.J&&(4==l?kF(this.l,this):(this.i=!1,Xc(this)))}else(function Oee(n){const e={};n=(n.g&&2<=Ur(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if($c(n[r]))continue;var t=oee(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function ZZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,dn(12)):(this.o=0,dn(13)),Ks(this),Zc(this)}}}catch{}},R.mb=function(){if(this.g){var n=Ur(this.g),e=this.g.ja();this.C<e.length&&(Jf(this),sF(this,n,e),this.i&&4!=n&&Xc(this))}},R.cancel=function(){this.J=!0,Ks(this)},R.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Kc(),dn(17)),Ks(this),this.o=2,Zc(this)):oF(this,this.Y-n)};var uF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Qs){this.h=n.h,Xf(this,n.j),this.s=n.s,this.g=n.g,Zf(this,n.m),this.l=n.l;var e=n.i,t=new nl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),cF(this,t),this.o=n.o}else n&&(e=String(n).match(uF))?(this.h=!1,Xf(this,e[1]||"",!0),this.s=el(e[2]||""),this.g=el(e[3]||"",!0),Zf(this,e[4]),this.l=el(e[5]||"",!0),cF(this,e[6]||"",!0),this.o=el(e[7]||"")):(this.h=!1,this.i=new nl(null,this.h))}function Ii(n){return new Qs(n)}function Xf(n,e,t){n.j=t?el(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Zf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function cF(n,e,t){e instanceof nl?(n.i=e,function Dee(n,e){e&&!n.j&&(ts(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(dF(this,r),fF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=tl(e,Cee)),n.i=new nl(e,n.h))}function Ve(n,e,t){n.i.set(e,t)}function ep(n){return Ve(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function el(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(tl(e,lF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(tl(e,lF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(tl(t,"/"==t.charAt(0)?Iee:wee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",tl(t,Eee)),n.join("")};var lF=/[#\/\?@]/g,wee=/[#\?:]/g,Iee=/[#\?]/g,Cee=/[#\?@]/g,Eee=/#/g;function nl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ts(n){n.g||(n.g=new Map,n.h=0,n.i&&function _ee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function dF(n,e){ts(n),e=Da(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function hF(n,e){return ts(n),e=Da(n,e),n.g.has(e)}function fF(n,e,t){dF(n,e),0<t.length&&(n.i=null,n.g.set(Da(n,e),HC(t)),n.h+=t.length)}function Da(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function pF(n){this.l=n||Tee,n=X.PerformanceNavigationTiming?0<(n=X.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=nl.prototype).add=function(n,e){ts(this),this.i=null,n=Da(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},R.forEach=function(n,e){ts(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},R.ta=function(){ts(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},R.Z=function(n){ts(this);let e=[];if("string"==typeof n)hF(this,n)&&(e=e.concat(this.g.get(Da(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},R.set=function(n,e){return ts(this),this.i=null,hF(this,n=Da(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},R.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Tee=10;function gF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mF(n){return n.h?1:n.g?n.g.size:0}function _E(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function vE(n,e){n.g?n.g.add(e):n.h=e}function yF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _F(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return HC(n.i)}pF.prototype.cancel=function(){if(this.i=_F(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var See=class{stringify(n){return X.JSON.stringify(n,void 0)}parse(n){return X.JSON.parse(n,void 0)}};function Aee(){this.g=new See}function xee(n,e,t){const r=t||"";try{aF(n,function(i,s){let o=i;jc(i)&&(o=aE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function tp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function rl(n){this.l=n.fc||null,this.j=n.ob||!1}function np(n,e){xt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=wE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(rl,dE),rl.prototype.g=function(){return new np(this.l,this.j)},rl.prototype.i=function(n){return function(){return n}}({}),At(np,xt);var wE=0;function vF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function il(n){n.readyState=4,n.l=null,n.j=null,n.A=null,sl(n)}function sl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(R=np.prototype).open=function(n,e){if(this.readyState!=wE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,sl(this)},R.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,il(this)),this.readyState=wE},R.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sl(this)),this.g&&(this.readyState=3,sl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},R.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?il(this):sl(this),3==this.readyState&&vF(this)}},R.Za=function(n){this.g&&(this.response=this.responseText=n,il(this))},R.Ya=function(n){this.g&&(this.response=n,il(this))},R.ka=function(){this.g&&il(this)},R.setRequestHeader=function(n,e){this.v.append(n,e)},R.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(np.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Nee=X.JSON.parse;function Je(n){xt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wF,this.L=this.M=!1}At(Je,xt);var wF="",Ree=/^https?$/i,kee=["POST","PUT"];function IF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,CF(n),rp(n)}function CF(n){n.F||(n.F=!0,Vt(n,"complete"),Vt(n,"error"))}function EF(n){if(n.h&&typeof $C<"u"&&(!n.C[1]||4!=Ur(n)||2!=n.da()))if(n.v&&4==Ur(n))lE(n.La,0,n);else if(Vt(n,"readystatechange"),4==Ur(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(uF)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!Ree.test(i?i.toLowerCase():"")}t=r}if(t)Vt(n,"complete"),Vt(n,"success");else{n.m=6;try{var s=2<Ur(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",CF(n)}}finally{rp(n)}}}function rp(n,e){if(n.g){DF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Vt(n,"ready");try{t.onreadystatechange=r}catch{}}}function DF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(X.clearTimeout(n.A),n.A=null)}function Ur(n){return n.g?n.g.readyState:0}function bF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case wF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function TF(n){let e="";return XC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function IE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=TF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ve(n,e,t))}function ol(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function SF(n){this.Ga=0,this.j=[],this.l=new qf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ol("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ol("baseRetryDelayMs",5e3,n),this.hb=ol("retryDelaySeedMs",1e4,n),this.eb=ol("forwardChannelMaxRetries",2,n),this.xa=ol("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new pF(n&&n.concurrentRequestLimit),this.Ja=new Aee,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function CE(n){if(AF(n),3==n.H){var e=n.W++,t=Ii(n.I);if(Ve(t,"SID",n.K),Ve(t,"RID",e),Ve(t,"TYPE","terminate"),al(n,t),(e=new Jc(n,n.l,e)).L=2,e.v=ep(Ii(t)),t=!1,X.navigator&&X.navigator.sendBeacon)try{t=X.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&X.Image&&((new Image).src=e.v,t=!0),t||(e.g=LF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xc(e)}OF(n)}function ip(n){n.g&&(DE(n),n.g.cancel(),n.g=null)}function AF(n){ip(n),n.u&&(X.clearTimeout(n.u),n.u=null),op(n),n.i.cancel(),n.m&&("number"==typeof n.m&&X.clearTimeout(n.m),n.m=null)}function sp(n){if(!gF(n.i)&&!n.m){n.m=!0;var e=n.Na;zc||HO(),qc||(zc(),qc=!0),uE.add(e,n),n.C=0}}function xF(n,e){var t;t=e?e.m:n.W++;const r=Ii(n.I);Ve(r,"SID",n.K),Ve(r,"RID",t),Ve(r,"AID",n.V),al(n,r),n.o&&n.s&&IE(r,n.o,n.s),t=new Jc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=MF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),vE(n.i,t),mE(t,r,e)}function al(n,e){n.na&&XC(n.na,function(t,r){Ve(e,r,t)}),n.h&&aF({},function(t,r){Ve(e,r,t)})}function MF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Yt(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{xee(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function NF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;zc||HO(),qc||(zc(),qc=!0),uE.add(e,n),n.A=0}}function EE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Qc(Yt(n.Ma,n),PF(n,n.A)),n.A++,0))}function DE(n){null!=n.B&&(X.clearTimeout(n.B),n.B=null)}function RF(n){n.g=new Jc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ii(n.wa);Ve(e,"RID","rpc"),Ve(e,"SID",n.K),Ve(e,"AID",n.V),Ve(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ve(e,"TO",n.qa),Ve(e,"TYPE","xmlhttp"),al(n,e),n.o&&n.s&&IE(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=ep(Ii(e)),t.s=null,t.S=!0,rF(t,n)}function op(n){null!=n.v&&(X.clearTimeout(n.v),n.v=null)}function kF(n,e){var t=null;if(n.g==e){op(n),DE(n),n.g=null;var r=2}else{if(!_E(n.i,e))return;t=e.F,yF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Vt(r=Wf(),new XO(r,t)),sp(n)}else NF(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Fee(n,e){return!(mF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Qc(Yt(n.Na,n,e),PF(n,n.C)),n.C++,0)))}(n,e)||2==r&&EE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ys(n,5);break;case 4:Ys(n,10);break;case 3:Ys(n,6);break;default:Ys(n,2)}}function PF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ys(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Yt(n.pb,n);t||(t=new Qs("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||Xf(t,"https"),ep(t)),function Mee(n,e){const t=new qf;if(X.Image){const r=new Image;r.onload=Bf(tp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bf(tp,t,r,"TestLoadImage: error",!1,e),r.onabort=Bf(tp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bf(tp,t,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else dn(2);n.H=0,n.h&&n.h.za(e),OF(n),AF(n)}function OF(n){if(n.H=0,n.ma=[],n.h){const e=_F(n.i);(0!=e.length||0!=n.j.length)&&(MO(n.ma,e),MO(n.ma,n.j),n.i.i.length=0,HC(n.j),n.j.length=0),n.h.ya()}}function FF(n,e,t){var r=t instanceof Qs?Ii(t):new Qs(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Zf(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qs(null);r&&Xf(s,r),e&&(s.g=e),i&&Zf(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Ve(r,t,e),Ve(r,"VER",n.ra),al(n,r),r}function LF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(t&&n.Ha&&!n.va?new rl({ob:!0}):n.va)).Oa(n.J),e}function VF(){}function ap(){if(Ca&&!(10<=Number(QZ)))throw Error("Environmental error: no available transport.")}function On(n,e){xt.call(this),this.g=new SF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!$c(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$c(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ba(this)}function UF(n){hE.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function BF(){fE.call(this),this.status=1}function ba(n){this.g=n}function fr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function bE(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function be(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(R=Je.prototype).Oa=function(n){this.M=n},R.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pE.g(),this.C=function eF(n){return n.h||(n.h=n.i())}(this.u?this.u:pE),this.g.onreadystatechange=Yt(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void IF(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=X.FormData&&n instanceof X.FormData,!(0<=xO(kee,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{DF(this),0<this.B&&((this.L=function Pee(n){return Ca&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.ua,this)):this.A=lE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){IF(this,s)}},R.ua=function(){typeof $C<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))},R.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vt(this,"complete"),Vt(this,"abort"),rp(this))},R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rp(this,!0)),Je.$.N.call(this)},R.La=function(){this.s||(this.G||this.v||this.l?EF(this):this.kb())},R.kb=function(){EF(this)},R.isActive=function(){return!!this.g},R.da=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},R.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Nee(e)}},R.Ia=function(){return this.m},R.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=SF.prototype).ra=8,R.H=1,R.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Jc(this,this.l,n);let s=this.s;if(this.U&&(s?(s=OO(s),LO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=MF(this,i,e),Ve(t=Ii(this.I),"RID",n),Ve(t,"CVER",22),this.F&&Ve(t,"X-HTTP-Session-Id",this.F),al(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(TF(s)))+"&"+e:this.o&&IE(t,this.o,s)),vE(this.i,i),this.bb&&Ve(t,"TYPE","init"),this.P?(Ve(t,"$req",e),Ve(t,"SID","null"),i.aa=!0,mE(i,t,null)):mE(i,t,e),this.H=2}}else 3==this.H&&(n?xF(this,n):0==this.j.length||gF(this.i)||xF(this))},R.Ma=function(){if(this.u=null,RF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Qc(Yt(this.jb,this),n)}},R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dn(10),ip(this),RF(this))},R.ib=function(){null!=this.v&&(this.v=null,ip(this),EE(this),dn(19))},R.pb=function(n){n?(this.l.info("Successfully pinged google.com"),dn(2)):(this.l.info("Failed to ping google.com"),dn(1))},R.isActive=function(){return!!this.h&&this.h.isActive(this)},(R=VF.prototype).Ba=function(){},R.Aa=function(){},R.za=function(){},R.ya=function(){},R.isActive=function(){return!0},R.Va=function(){},ap.prototype.g=function(n,e){return new On(n,e)},At(On,xt),On.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;dn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=FF(n,null,n.Y),sp(n)},On.prototype.close=function(){CE(this.g)},On.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=aE(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&sp(e)},On.prototype.N=function(){this.g.h=null,delete this.j,CE(this.g),delete this.g,On.$.N.call(this)},At(UF,hE),At(BF,fE),At(ba,VF),ba.prototype.Ba=function(){Vt(this.g,"a")},ba.prototype.Aa=function(n){Vt(this.g,new UF(n))},ba.prototype.za=function(n){Vt(this.g,new BF)},ba.prototype.ya=function(){Vt(this.g,"b")},At(fr,function Lee(){this.blockSize=-1}),fr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)bE(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){bE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){bE(this,r),i=0;break}}this.h=i,this.i+=e},fr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Vee={};function TE(n){return-128<=n&&128>n?function qZ(n,e){var t=Vee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new be([0|e],0>e?-1:0)}):new be([0|n],0>n?-1:0)}function Br(n){if(isNaN(n)||!isFinite(n))return Ta;if(0>n)return Ut(Br(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=SE;return new be(e,0)}var SE=4294967296,Ta=TE(0),AE=TE(1),$F=TE(16777216);function Ci(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Yn(n){return-1==n.h}function Ut(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new be(t,~n.h).add(AE)}function up(n,e){return n.add(Ut(e))}function cp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ul(n,e){this.g=n,this.h=e}function lp(n,e){if(Ci(e))throw Error("division by zero");if(Ci(n))return new ul(Ta,Ta);if(Yn(n))return e=lp(Ut(n),e),new ul(Ut(e.g),Ut(e.h));if(Yn(e))return e=lp(n,Ut(e)),new ul(Ut(e.g),e.h);if(30<n.g.length){if(Yn(n)||Yn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=AE,r=e;0>=r.X(n);)t=GF(t),r=GF(r);var i=Sa(t,1),s=Sa(r,1);for(r=Sa(r,2),t=Sa(t,2);!Ci(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Sa(r,1),t=Sa(t,1)}return e=up(n,i.R(e)),new ul(i,e)}for(i=Ta;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Br(t)).R(e);Yn(o)||0<o.X(n);)o=(s=Br(t-=r)).R(e);Ci(s)&&(s=AE),i=i.add(s),n=up(n,o)}return new ul(i,n)}function GF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new be(t,n.h)}function Sa(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new be(i,n.h)}(R=be.prototype).ea=function(){if(Yn(this))return-Ut(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:SE+r)*e,e*=SE}return n},R.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ci(this))return"0";if(Yn(this))return"-"+Ut(this).toString(n);for(var e=Br(Math.pow(n,6)),t=this,r="";;){var i=lp(t,e).g,s=((0<(t=up(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ci(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},R.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},R.X=function(n){return Yn(n=up(this,n))?-1:Ci(n)?0:1},R.abs=function(){return Yn(this)?Ut(this):this},R.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new be(t,-2147483648&t[t.length-1]?-1:0)},R.R=function(n){if(Ci(this)||Ci(n))return Ta;if(Yn(this))return Yn(n)?Ut(this).R(Ut(n)):Ut(Ut(this).R(n));if(Yn(n))return Ut(this.R(Ut(n)));if(0>this.X($F)&&0>n.X($F))return Br(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,cp(t,2*r+2*i),t[2*r+2*i+1]+=s*u,cp(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,cp(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,cp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new be(t,0)},R.gb=function(n){return lp(this,n).h},R.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new be(t,this.h&n.h)},R.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new be(t,this.h|n.h)},R.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new be(t,this.h^n.h)},ap.prototype.createWebChannel=ap.prototype.g,On.prototype.send=On.prototype.u,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,Kf.NO_ERROR=0,Kf.TIMEOUT=8,Kf.HTTP_ERROR=6,ZO.COMPLETE="complete",tF.EventType=Yc,Yc.OPEN="a",Yc.CLOSE="b",Yc.ERROR="c",Yc.MESSAGE="d",xt.prototype.listen=xt.prototype.O,Je.prototype.listenOnce=Je.prototype.P,Je.prototype.getLastError=Je.prototype.Sa,Je.prototype.getLastErrorCode=Je.prototype.Ia,Je.prototype.getStatus=Je.prototype.da,Je.prototype.getResponseJson=Je.prototype.Wa,Je.prototype.getResponseText=Je.prototype.ja,Je.prototype.send=Je.prototype.ha,Je.prototype.setWithCredentials=Je.prototype.Oa,fr.prototype.digest=fr.prototype.l,fr.prototype.reset=fr.prototype.reset,fr.prototype.update=fr.prototype.j,be.prototype.add=be.prototype.add,be.prototype.multiply=be.prototype.R,be.prototype.modulo=be.prototype.gb,be.prototype.compare=be.prototype.X,be.prototype.toNumber=be.prototype.ea,be.prototype.toString=be.prototype.toString,be.prototype.getBits=be.prototype.D,be.fromNumber=Br,be.fromString=function jF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ut(jF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Br(Math.pow(e,8)),r=Ta,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Br(Math.pow(e,s)),r=r.R(s).add(Br(o))):r=(r=r.R(t)).add(Br(o))}return r};var Uee=hr.createWebChannelTransport=function(){return new ap},Bee=hr.getStatEventTarget=function(){return Wf()},xE=hr.ErrorCode=Kf,jee=hr.EventType=ZO,$ee=hr.Event=Ws,HF=hr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gee=hr.FetchXmlHttpFactory=rl,dp=hr.WebChannel=tF,Hee=hr.XhrIo=Je,zee=hr.Md5=fr,Aa=hr.Integer=be;const zF="@firebase/firestore";class Mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let xa="9.23.0";const ns=new mf("@firebase/firestore");function ME(){return ns.logLevel}function T(n,...e){if(ns.logLevel<=me.DEBUG){const t=e.map(NE);ns.debug(`Firestore (${xa}): ${n}`,...t)}}function it(n,...e){if(ns.logLevel<=me.ERROR){const t=e.map(NE);ns.error(`Firestore (${xa}): ${n}`,...t)}}function pr(n,...e){if(ns.logLevel<=me.WARN){const t=e.map(NE);ns.warn(`Firestore (${xa}): ${n}`,...t)}}function NE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function O(n="Unexpected state"){const e=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+n;throw it(e),new Error(e)}function L(n,e){n||O()}function M(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mt.UNAUTHENTICATED))}shutdown(){}}class Wee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Kee{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ct,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ct)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new qF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new Mt(e)}}class Qee{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yee{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Qee(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jee{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(L("string"==typeof t.token),this.T=t.token,new WF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xee(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class KF{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Xee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function J(n,e){return n<e?-1:n>e?1:0}function Ma(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class We{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new We(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new We(0,0))}static max(){return new V(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cl{constructor(e,t,r){void 0===t?t=0:t>e.length&&O(),void 0===r?r=e.length-t:r>e.length-t&&O(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===cl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ye extends cl{construct(e,t,r){return new ye(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ye(t)}static emptyPath(){return new ye([])}}const Zee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends cl{construct(e,t,r){return new st(e,t,r)}static isValidIdentifier(e){return Zee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(t)}static emptyPath(){return new st([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(ye.fromString(e))}static fromName(e){return new x(ye.fromString(e).popFirst(5))}static empty(){return new x(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new ye(e.slice()))}}function JF(n){return new Fn(n.readTime,n.key,-1)}class Fn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fn(V.min(),x.empty(),-1)}static max(){return new Fn(V.max(),x.empty(),-1)}}function kE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=x.comparator(n.documentKey,e.documentKey),0!==t?t:J(n.largestBatchId,e.largestBatchId))}const XF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function rs(n){return PE.apply(this,arguments)}function PE(){return PE=m(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==XF)throw n;T("LocalStore","Unexpectedly lost primary lease")}),PE.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _?t:_.resolve(t)}catch(t){return _.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_.reject(t)}static resolve(e){return new _((t,r)=>{t(e)})}static reject(e){return new _((t,r)=>{r(e)})}static waitFor(e){return new _((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=_.resolve(!1);for(const r of e)t=t.next(i=>i?_.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new _((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function is(n){return"IndexedDbTransactionError"===n.name}let Ln=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function hl(n){return null==n}function fl(n){return 0===n&&1/n==-1/0}function aL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ss(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Oe{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new Oe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mp(this.root,e,this.comparator,!1)}getReverseIterator(){return new mp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mp(this.root,e,this.comparator,!0)}}class mp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=s??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Bt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1,Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Bt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cL(this.data.getIterator())}getIteratorFrom(e){return new cL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ue(this.comparator);return t.data=e,t}}class cL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new En([])}unionWith(e){let t=new Ue(st.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new En(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class lL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lL("Invalid base64 string: "+i):i}}(e);return new Et(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Et(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const bte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(n){if(L(!!n),"string"==typeof n){let e=0;const t=bte.exec(n);if(L(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(n.seconds),nanos:Xe(n.nanos)}}function Xe(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ei(n){return"string"==typeof n?Et.fromBase64String(n):Et.fromUint8Array(n)}function yp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _p(n){const e=n.mapValue.fields.__previous_value__;return yp(e)?_p(e):e}function pl(n){const e=os(n.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}class Tte{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Zs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zs&&e.projectId===this.projectId&&e.database===this.database}}const as={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yp(n)?4:pL(n)?9007199254740991:10:O()}function $r(n,e){if(n===e)return!0;const t=us(n);if(t!==us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pl(n).isEqual(pl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=os(r.timestampValue),o=os(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ei(n.bytesValue).isEqual(Ei(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Xe(r.geoPointValue.latitude)===Xe(i.geoPointValue.latitude)&&Xe(r.geoPointValue.longitude)===Xe(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xe(r.integerValue)===Xe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Xe(r.doubleValue),o=Xe(i.doubleValue);return s===o?fl(s)===fl(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ma(n.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(aL(s)!==aL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!$r(s[a],o[a])))return!1;return!0}(n,e);default:return O()}var i}function gl(n,e){return void 0!==(n.values||[]).find(t=>$r(t,e))}function cs(n,e){if(n===e)return 0;const t=us(n),r=us(e);if(t!==r)return J(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return J(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Xe(i.integerValue||i.doubleValue),a=Xe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return dL(n.timestampValue,e.timestampValue);case 4:return dL(pl(n),pl(e));case 5:return J(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Ei(i),a=Ei(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=J(o[u],a[u]);if(0!==c)return c}return J(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=J(Xe(i.latitude),Xe(s.latitude));return 0!==o?o:J(Xe(i.longitude),Xe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=cs(o[u],a[u]);if(c)return c}return J(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===as.mapValue&&s===as.mapValue)return 0;if(i===as.mapValue)return 1;if(s===as.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=J(a[l],c[l]);if(0!==d)return d;const h=cs(o[a[l]],u[c[l]]);if(0!==h)return h}return J(a.length,c.length)}(n.mapValue,e.mapValue);default:throw O()}}function dL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return J(n,e);const t=os(n),r=os(e),i=J(t.seconds,r.seconds);return 0!==i?i:J(t.nanos,r.nanos)}function Ra(n){return LE(n)}function LE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=os(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ei(n.bytesValue).toBase64():"referenceValue"in n?x.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=LE(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${LE(r.fields[a])}`;return s+"}"}(n.mapValue):O();var e}function eo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function VE(n){return!!n&&"integerValue"in n}function ml(n){return!!n&&"arrayValue"in n}function hL(n){return!!n&&"nullValue"in n}function fL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ip(n){return!!n&&"mapValue"in n}function yl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ss(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ip(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(t)}setAll(e){let t=st.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=yl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Ip(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ip(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ss(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jt(yl(this.value))}}function yL(n){const e=[];return ss(n.fields,(t,r)=>{const i=new st([t]);if(Ip(r)){const s=yL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new En(e)}class Be{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Be(e,0,V.min(),V.min(),V.min(),jt.empty(),0)}static newFoundDocument(e,t,r,i){return new Be(e,1,t,V.min(),r,i,0)}static newNoDocument(e,t){return new Be(e,2,t,V.min(),V.min(),jt.empty(),0)}static newUnknownDocument(e,t){return new Be(e,3,t,V.min(),V.min(),jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(V.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Be&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ls{constructor(e,t){this.position=e,this.inclusive=t}}function _L(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),t.key):cs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function vL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$r(n.position[t],e.position[t]))return!1;return!0}class ka{constructor(e,t="asc"){this.field=e,this.dir=t}}function xte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class wL{}class he extends wL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Mte(e,t,r):"array-contains"===t?new kte(e,r):"in"===t?new TL(e,r):"not-in"===t?new Pte(e,r):"array-contains-any"===t?new Ote(e,r):new he(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Nte(e,r):new Rte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cs(t,this.value)):null!==t&&us(this.value)===us(t)&&this.matchesComparison(cs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Te extends wL{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Te(e,t)}matches(e){return Pa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Pa(n){return"and"===n.op}function BE(n){return function IL(n){for(const e of n.filters)if(e instanceof Te)return!1;return!0}(n)&&Pa(n)}function jE(n){if(n instanceof he)return n.field.canonicalString()+n.op.toString()+Ra(n.value);if(BE(n))return n.filters.map(e=>jE(e)).join(",");{const e=n.filters.map(t=>jE(t)).join(",");return`${n.op}(${e})`}}function CL(n,e){return n instanceof he?(t=n,(r=e)instanceof he&&t.op===r.op&&t.field.isEqual(r.field)&&$r(t.value,r.value)):n instanceof Te?function(t,r){return r instanceof Te&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&CL(s,r.filters[o]),!0)}(n,e):void O();var t,r}function DL(n){return n instanceof he?`${(e=n).field.canonicalString()} ${e.op} ${Ra(e.value)}`:n instanceof Te?function(e){return e.op.toString()+" {"+e.getFilters().map(DL).join(" ,")+"}"}(n):"Filter";var e}class Mte extends he{constructor(e,t,r){super(e,t,r),this.key=x.fromName(r.referenceValue)}matches(e){const t=x.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nte extends he{constructor(e,t){super(e,"in",t),this.keys=bL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Rte extends he{constructor(e,t){super(e,"not-in",t),this.keys=bL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>x.fromName(r.referenceValue))}class kte extends he{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ml(t)&&gl(t.arrayValue,this.value)}}class TL extends he{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gl(this.value.arrayValue,t)}}class Pte extends he{constructor(e,t){super(e,"not-in",t)}matches(e){if(gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gl(this.value.arrayValue,t)}}class Ote extends he{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ml(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gl(this.value.arrayValue,r))}}class Fte{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function $E(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Fte(n,e,t,r,i,s,o)}function to(n){const e=M(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),hl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ra(r)).join(",")),e.dt=t}return e.dt}function _l(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xte(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vL(n.startAt,e.startAt)&&vL(n.endAt,e.endAt)}function Cp(n){return x.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Di{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Oa(n){return new Di(n)}function ML(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function GE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Dp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function HE(n){return null!==n.collectionGroup}function no(n){const e=M(n);if(null===e.wt){e.wt=[];const t=Dp(e),r=GE(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new ka(t)),e.wt.push(new ka(st.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ka(st.keyField(),s))}}}return e.wt}function hn(n){const e=M(n);if(!e._t)if("F"===e.limitType)e._t=$E(e.path,e.collectionGroup,no(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of no(e))t.push(new ka(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ls(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ls(e.startAt.position,e.startAt.inclusive):null;e._t=$E(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function zE(n,e){e.getFirstInequalityField(),Dp(n);const t=n.filters.concat([e]);return new Di(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bp(n,e,t){return new Di(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vl(n,e){return _l(hn(n),hn(e))&&n.limitType===e.limitType}function NL(n){return`${to(hn(n))}|lt:${n.limitType}`}function qE(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>DL(r)).join(", ")}]`),hl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ra(r)).join(",")),`Target(${t})`}(hn(n))}; limitType=${n.limitType})`}function wl(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):x.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of no(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=_L(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,no(t),r)||t.endAt&&!function(i,s,o){const a=_L(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,no(t),r)));var t,r}function kL(n){return(e,t)=>{let r=!1;for(const i of no(n)){const s=Lte(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Lte(n,e,t){const r=n.field.isKeyField()?x.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?cs(a,u):O()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class bi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return uL(this.inner)}size(){return this.innerSize}}const Vte=new Oe(x.comparator);function Dn(){return Vte}const PL=new Oe(x.comparator);function Il(...n){let e=PL;for(const t of n)e=e.insert(t.key,t);return e}function OL(n){let e=PL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Gr(){return Cl()}function FL(){return Cl()}function Cl(){return new bi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ute=new Oe(x.comparator),Bte=new Ue(x.comparator);function re(...n){let e=Bte;for(const t of n)e=e.add(t);return e}const jte=new Ue(J);function LL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(e)?"-0":e}}function VL(n){return{integerValue:""+n}}function UL(n,e){return function eL(n){return"number"==typeof n&&Number.isInteger(n)&&!fl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?VL(e):LL(n,e)}class Tp{constructor(){this._=void 0}}function $te(n,e,t){return n instanceof Fa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&yp(i)&&(i=_p(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof ro?jL(n,e):n instanceof io?$L(n,e):function(r,i){const s=BL(r,i),o=GL(s)+GL(r.gt);return VE(s)&&VE(r.gt)?VL(o):LL(r.serializer,o)}(n,e)}function Gte(n,e,t){return n instanceof ro?jL(n,e):n instanceof io?$L(n,e):t}function BL(n,e){return n instanceof La?VE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Fa extends Tp{}class ro extends Tp{constructor(e){super(),this.elements=e}}function jL(n,e){const t=HL(e);for(const r of n.elements)t.some(i=>$r(i,r))||t.push(r);return{arrayValue:{values:t}}}class io extends Tp{constructor(e){super(),this.elements=e}}function $L(n,e){let t=HL(e);for(const r of n.elements)t=t.filter(i=>!$r(i,r));return{arrayValue:{values:t}}}class La extends Tp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function GL(n){return Xe(n.integerValue||n.doubleValue)}function HL(n){return ml(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class zte{constructor(e,t){this.version=e,this.transformResults=t}}class Ge{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ge}static exists(e){return new Ge(void 0,e)}static updateTime(e){return new Ge(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ap{}function zL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ua(n.key,Ge.none()):new Va(n.key,n.data,Ge.none());{const t=n.data,r=jt.empty();let i=new Ue(st.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ti(n.key,r,new En(i.toArray()),Ge.none())}}function qte(n,e,t){n instanceof Va?function(r,i,s){const o=r.value.clone(),a=KL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ti?function(r,i,s){if(!Sp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=KL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(WL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Dl(n,e,t,r){return n instanceof Va?function(i,s,o,a){if(!Sp(i.precondition,s))return o;const u=i.value.clone(),c=QL(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ti?function(i,s,o,a){if(!Sp(i.precondition,s))return o;const u=QL(i.fieldTransforms,a,s),c=s.data;return c.setAll(WL(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,Sp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Wte(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=BL(r.transform,i||null);null!=s&&(null===t&&(t=jt.empty()),t.set(r.field,s))}return t||null}function qL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ma(t,r,(i,s)=>function Hte(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ro&&r instanceof ro||t instanceof io&&r instanceof io?Ma(t.elements,r.elements,$r):t instanceof La&&r instanceof La?$r(t.gt,r.gt):t instanceof Fa&&r instanceof Fa);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Va extends Ap{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ti extends Ap{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function KL(n,e,t){const r=new Map;L(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Gte(o,a,t[i]))}return r}function QL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,$te(s,o,e))}return r}class Ua extends Ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KE extends Ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QE{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qte(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=zL(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),re())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,(t,r)=>qL(t,r))&&Ma(this.baseMutations,e.baseMutations,(t,r)=>qL(t,r))}}class YE{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){L(e.mutations.length===r.length);let i=Ute;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new YE(e,t,r,i)}}class JE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qte{constructor(e,t){this.count=e,this.unchangedNames=t}}var pt,_e;function JL(n){if(void 0===n)return it("GRPC error has no .code"),w.UNKNOWN;switch(n){case pt.OK:return w.OK;case pt.CANCELLED:return w.CANCELLED;case pt.UNKNOWN:return w.UNKNOWN;case pt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case pt.INTERNAL:return w.INTERNAL;case pt.UNAVAILABLE:return w.UNAVAILABLE;case pt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case pt.NOT_FOUND:return w.NOT_FOUND;case pt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case pt.ABORTED:return w.ABORTED;case pt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case pt.DATA_LOSS:return w.DATA_LOSS;default:return O()}}(_e=pt||(pt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";class XE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xp}static getOrCreateInstance(){return null===xp&&(xp=new XE),xp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let xp=null;const Yte=new Aa([4294967295,4294967295],0);function ZL(n){const e=function XL(){return new TextEncoder}().encode(n),t=new zee;return t.update(e),new Uint8Array(t.digest())}function e2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Aa([t,r],0),new Aa([i,s],0)]}class ZE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bl(`Invalid padding: ${t}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new bl(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new bl(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Aa.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Aa.fromNumber(r)));return 1===i.compare(Yte)&&(i=new Aa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ZL(e),[r,i]=e2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ZE(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=ZL(e),[r,i]=e2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tl{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Tl(V.min(),i,new Oe(J),Dn(),re())}}class Sl{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sl(r,t,re(),re(),re())}}class Mp{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class t2{constructor(e,t){this.targetId=e,this.Vt=t}}class n2{constructor(e,t,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class r2{constructor(){this.St=0,this.Dt=s2(),this.Ct=Et.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=re(),t=re(),r=re();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Sl(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=s2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Jte{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Dn(),this.zt=i2(),this.Wt=new Oe(J)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Cp(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Be.newNoDocument(a,V.min()))}else L(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=XE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,I;const C={localCacheCount:l,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(C.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(I=null===(y=v?.bits)||void 0===y?void 0:y.padding)&&void 0!==I?I:0}),C}(u,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Ei(s).toUint8Array()}catch(l){if(l instanceof lL)return pr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new ZE(u,o,a)}catch(l){return pr(l instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Cp(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Be.newNoDocument(u,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=re();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Tl(e,t,this.Wt,this.jt,r);return this.jt=Dn(),this.zt=i2(),this.Wt=new Oe(J),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new r2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ue(J),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new r2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function i2(){return new Oe(x.comparator)}function s2(){return new Oe(x.comparator)}const Xte={asc:"ASCENDING",desc:"DESCENDING"},Zte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ene={and:"AND",or:"OR"};class tne{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function eD(n,e){return n.useProto3Json||hl(e)?e:{value:e}}function Ba(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nne(n,e){return Ba(n,e.toTimestamp())}function ot(n){return L(!!n),V.fromTimestamp(function(e){const t=os(e);return new We(t.seconds,t.nanos)}(n))}function tD(n,e){return(t=n,new ye(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function a2(n){const e=ye.fromString(n);return L(m2(e)),e}function Al(n,e){return tD(n.databaseId,e.path)}function Hr(n,e){const t=a2(e);if(t.get(1)!==n.databaseId.projectId)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new x(c2(t))}function nD(n,e){return tD(n.databaseId,e)}function xl(n){return new ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function c2(n){return L(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function l2(n,e,t){return{name:Al(n,e),fields:t.value.mapValue.fields}}function h2(n,e){return{documents:[nD(n,e.path)]}}function iD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=nD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return g2(Te.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ds((l=c).field),direction:ane(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=eD(n,e.limit);var a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function f2(n){let e=function u2(n){const e=a2(n);return 4===e.length?ye.emptyPath():c2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){L(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(l){const d=p2(l);return d instanceof Te&&BE(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new ka(ja((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,hl(d)?null:d}(t.limit));let u=null;var l;t.startAt&&(u=new ls((l=t.startAt).values||[],!!l.before));let c=null;return t.endAt&&(c=function(l){return new ls(l.values||[],!l.before)}(t.endAt)),function xL(n,e,t,r,i,s,o,a){return new Di(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function p2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ja(e.unaryFilter.field);return he.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=ja(e.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ja(e.unaryFilter.field);return he.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ja(e.unaryFilter.field);return he.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(n):void 0!==n.fieldFilter?he.create(ja((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Te.create(e.compositeFilter.filters.map(t=>p2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(n):O();var e}function ane(n){return Xte[n]}function une(n){return Zte[n]}function cne(n){return ene[n]}function ds(n){return{fieldPath:n.canonicalString()}}function ja(n){return st.fromServerFormat(n.fieldPath)}function g2(n){return n instanceof he?function(e){if("=="===e.op){if(fL(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NAN"}};if(hL(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fL(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NOT_NAN"}};if(hL(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(e.field),op:une(e.op),value:e.value}}}(n):n instanceof Te?function(e){const t=e.getFilters().map(r=>g2(r));return 1===t.length?t[0]:{compositeFilter:{op:cne(e.op),filters:t}}}(n):O()}function lne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function m2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Si{constructor(e,t,r,i,s=V.min(),o=V.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y2{constructor(e){this.fe=e}}function sD(n){const e=f2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?bp(e,e.limit,"L"):e}class uo{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Xe(e.integerValue));else if("doubleValue"in e){const r=Xe(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),fl(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ei(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?pL(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):O()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),x.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}uo.Ve=new uo;class vne{constructor(){this.rn=new dD}addToCollectionParentIndex(e,t){return this.rn.add(t),_.resolve()}getCollectionParents(e,t){return _.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return _.resolve()}deleteFieldIndex(e,t){return _.resolve()}getDocumentsMatchingTarget(e,t){return _.resolve(null)}getIndexType(e,t){return _.resolve(0)}getFieldIndexes(e,t){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,t){return _.resolve(Fn.min())}getMinOffsetFromCollectionGroup(e,t){return _.resolve(Fn.min())}updateCollectionGroup(e,t,r){return _.resolve()}updateIndexEntries(e,t){return _.resolve()}}class dD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ue(ye.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ue(ye.comparator)).toArray()}}new Uint8Array(0);class Zt{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(41943040,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);class lo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new lo(0)}static Mn(){return new lo(-1)}}class bne{constructor(){this.changes=new bi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Be.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ane{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class G2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Dl(r.mutation,i,En.empty(),We.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,t,r=re()){const i=Gr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Il();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Gr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,re()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Dn();const o=Cl(),a=Cl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ti)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Dl(l.mutation,c,l.mutation.getFieldMask(),We.now())):o.set(c.key,En.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new Ane(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Cl();let i=new Oe((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||En.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||re()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=FL();l.forEach(h=>{if(!s.has(h)){const f=zL(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return x.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):HE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):_.resolve(Gr());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,re())).next(l=>({batchId:a,changes:OL(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new x(t)).next(r=>{let i=Il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Il();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=t,l=a.child(i),new Di(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Be.newInvalidDocument(c)))});let o=Il();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Dl(c.mutation,u,En.empty(),We.now()),wl(t,u)&&(o=o.insert(a,u))}),o})}}class xne{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return _.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:ot(r.createTime)}),_.resolve()}getNamedQuery(e,t){return _.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:sD(r.bundledQuery),readTime:ot(r.readTime)}),_.resolve();var r}}class Mne{constructor(){this.overlays=new Oe(x.comparator),this.ls=new Map}getOverlay(e,t){return _.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Gr();return _.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),_.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),_.resolve()}getOverlaysForCollection(e,t,r){const i=Gr(),s=t.length+1,o=new x(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Oe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Gr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Gr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JE(t,r));let s=this.ls.get(t);void 0===s&&(s=re(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class hD{constructor(){this.fs=new Ue(Rt.ds),this.ws=new Ue(Rt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Rt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new x(new ye([])),r=new Rt(t,e),i=new Rt(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new x(new ye([])),r=new Rt(t,e),i=new Rt(t,e+1);let s=re();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Rt(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return x.comparator(e.key,t.key)||J(e.As,t.As)}static _s(e,t){return J(e.As,t.As)||x.comparator(e.key,t.key)}}class Nne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ue(Rt.ds)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new QE(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,t){return _.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),i=new Rt(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ue(J);return t.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),_.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new x(s),0);let a=new Ue(J);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),_.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){L(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return _.forEach(t.mutations,i=>{const s=new Rt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Rt(t,0),i=this.Rs.firstAfterOrEqual(r);return _.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rne{constructor(e){this.Ds=e,this.docs=new Oe(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _.resolve(r?r.document.mutableCopy():Be.newInvalidDocument(t))}getEntries(e,t){let r=Dn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Be.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Dn();const o=t.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||kE(JF(l),r)<=0||(i.has(l.key)||wl(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,t,r,i){O()}Cs(e,t){return _.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kne(this)}getSize(e){return _.resolve(this.size)}}class kne extends bne{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),_.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Pne{constructor(e){this.persistence=e,this.xs=new bi(t=>to(t),_l),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hD,this.targetCount=0,this.Ms=lo.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),_.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new lo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,_.resolve()}updateTargetData(e,t){return this.Fn(t),_.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return _.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),_.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),_.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return _.resolve(r)}containsKey(e,t){return _.resolve(this.ks.containsKey(t))}}class fD{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ln(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Pne(this),this.indexManager=new vne,this.remoteDocumentCache=new Rne(r=>this.referenceDelegate.Ls(r)),this.serializer=new y2(t),this.qs=new xne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Nne(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){T("MemoryPersistence","Starting transaction:",e);const i=new One(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return _.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class One extends nte{constructor(e){super(),this.currentSequenceNumber=e}}class Up{constructor(e){this.persistence=e,this.Qs=new hD,this.js=null}static zs(e){return new Up(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),_.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),_.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,V.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return _.or([()=>_.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class yD{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=re(),i=re();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yD(e,t.fromCache,r,i)}}class z2{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(ML(t))return _.resolve(null);let r=hn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=bp(t,null,"F"),r=hn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(t,a);return this.zi(t,c,o,u.readTime)?this.Ki(e,bp(t,null,"F")):this.Wi(e,c,t,u)}))})))}Gi(e,t,r,i){return ML(t)||i.isEqual(V.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(ME()<=me.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qE(t)),this.Wi(e,o,t,function YF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new We(t+1,0):new We(t,r));return new Fn(i,x.empty(),e)}(i,-1)))})}ji(e,t){let r=new Ue(kL(e));return t.forEach((i,s)=>{wl(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return ME()<=me.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",qE(t)),this.Ui.getDocumentsMatchingQuery(e,t,Fn.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Lne{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Oe(J),this.Yi=new bi(s=>to(s),_l),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G2(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function W2(n,e){return _D.apply(this,arguments)}function _D(){return _D=m(function*(n,e){const t=M(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=re();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),_D.apply(this,arguments)}function K2(n){const e=M(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Bne(n,e){const t=M(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function za(n,e,t){return vD.apply(this,arguments)}function vD(){return vD=m(function*(n,e,t){const r=M(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!is(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),vD.apply(this,arguments)}function $p(n,e,t){const r=M(n);let i=V.min(),s=re();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.Yi.get(c);return void 0!==d?_.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:V.min(),t?s:re())).next(a=>(function X2(n,e,t){let r=n.Xi.get(e)||V.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function RL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class DD{constructor(){this.activeTargetIds=function WE(){return jte}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tV{constructor(){this.Hr=new DD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new DD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gne{Yr(e){}shutdown(){}}class nV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zp=null;function TD(){return null===zp?zp=268435456+Math.round(2147483648*Math.random()):zp++,"0x"+zp.toString(16)}const Hne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zne{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const en="WebChannelConnection";class qne extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=TD(),a=this.To(e,t);T("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(T("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw pr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Hne[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=TD();return new Promise((o,a)=>{const u=new Hee;u.setWithCredentials(!0),u.listenOnce(jee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xE.NO_ERROR:const l=u.getResponseJson();T(en,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case xE.TIMEOUT:T(en,`RPC '${e}' ${s} timed out`),a(new D(w.DEADLINE_EXCEEDED,"Request time out"));break;case xE.HTTP_ERROR:const d=u.getStatus();if(T(en,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(y)>=0?y:w.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(w.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{T(en,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);T(en,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=TD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uee(),a=Bee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Gee({})),this.Eo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=s.join("");T(en,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new zne({ro:y=>{f?T(en,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(T(en,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(en,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,I,C)=>{y.listen(I,v=>{try{C(v)}catch(N){setTimeout(()=>{throw N},0)}})};return g(d,dp.EventType.OPEN,()=>{f||T(en,`RPC '${e}' stream ${i} transport opened.`)}),g(d,dp.EventType.CLOSE,()=>{f||(f=!0,T(en,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,dp.EventType.ERROR,y=>{f||(f=!0,pr(en,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new D(w.UNAVAILABLE,"The operation could not be completed")))}),g(d,dp.EventType.MESSAGE,y=>{var I;if(!f){const C=y.data[0];L(!!C);const N=C.error||(null===(I=C[0])||void 0===I?void 0:I.error);if(N){T(en,`RPC '${e}' stream ${i} received error:`,N);const j=N.status;let H=function(xi){const ou=pt[xi];if(void 0!==ou)return JL(ou)}(j),kt=N.message;void 0===H&&(H=w.INTERNAL,kt="Unknown error status: "+j+" with message "+N.message),f=!0,p.wo(new D(H,kt)),d.close()}else T(en,`RPC '${e}' stream ${i} received:`,C),p._o(C)}}),g(a,$ee.STAT_EVENT,y=>{y.stat===HF.PROXY?T(en,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===HF.NOPROXY&&T(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function qp(){return typeof document<"u"?document:null}function Ul(n){return new tne(n,!0)}class SD{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class iV{constructor(e,t,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new SD(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(it(t.toString()),it("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new D(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wne extends iV{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function ine(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(L(void 0===c||"string"==typeof c),Et.fromBase64String(c||"")):(L(void 0===c||c instanceof Uint8Array),Et.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:JL(u.code);return new D(c,u.message||"")}(o);t=new n2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Hr(n,r.document.name),s=ot(r.document.updateTime),o=r.document.createTime?ot(r.document.createTime):V.min(),a=new jt({mapValue:{fields:r.document.fields}}),u=Be.newFoundDocument(i,s,o,a);t=new Mp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Hr(n,r.document),s=r.readTime?ot(r.readTime):V.min(),o=Be.newNoDocument(i,s);t=new Mp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Hr(n,r.document);t=new Mp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Qte(i,s);t=new t2(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?ot(s.readTime):V.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=xl(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=Cp(a)?{documents:h2(i,a)}:{query:iD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=o2(i,s.resumeToken);const u=eD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(V.min())>0){o.readTime=Ba(i,s.snapshotVersion.toTimestamp());const u=eD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function one(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=xl(this.serializer),t.removeTarget=e,this.Wo(t)}}class Kne extends iV{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function sne(n,e){return n&&n.length>0?(L(void 0!==e),n.map(t=>function(r,i){let s=ot(r.updateTime?r.updateTime:i);return s.isEqual(V.min())&&(s=ot(i)),new zte(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ot(e.commitTime);return this.listener.cu(r,t)}return L(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xl(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Ml(n,e){let t;if(e instanceof Va)t={update:l2(n,e.key,e.value)};else if(e instanceof Ua)t={delete:Al(n,e.key)};else if(e instanceof Ti)t={update:l2(n,e.key,e.data),updateMask:lne(e.fieldMask)};else{if(!(e instanceof KE))return O();t={verify:Al(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Fa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof io)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof La)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw O()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:nne(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),t;var i}(this.serializer,r))};this.Wo(t)}}class Qne extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(w.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(w.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Jne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(it(t),this.mu=!1):T("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Xne{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;gs(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=M(c);l.vu.add(4),yield qa(l),l.bu.set("Unknown"),l.vu.delete(4),yield Bl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Jne(r,i)}}function Bl(n){return xD.apply(this,arguments)}function xD(){return xD=m(function*(n){if(gs(n))for(const e of n.Ru)yield e(!0)}),xD.apply(this,arguments)}function qa(n){return MD.apply(this,arguments)}function MD(){return MD=m(function*(n){for(const e of n.Ru)yield e(!1)}),MD.apply(this,arguments)}function Wp(n,e){const t=M(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),kD(t)?RD(t):Ka(t).Ko()&&ND(t,e))}function jl(n,e){const t=M(n),r=Ka(t);t.Au.delete(e),r.Ko()&&sV(t,e),0===t.Au.size&&(r.Ko()?r.jo():gs(t)&&t.bu.set("Unknown"))}function ND(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ka(n).su(e)}function sV(n,e){n.Vu.qt(e),Ka(n).iu(e)}function RD(n){n.Vu=new Jte({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ka(n).start(),n.bu.gu()}function kD(n){return gs(n)&&!Ka(n).Uo()&&n.Au.size>0}function gs(n){return 0===M(n).vu.size}function oV(n){n.Vu=void 0}function Zne(n){return PD.apply(this,arguments)}function PD(){return PD=m(function*(n){n.Au.forEach((e,t)=>{ND(n,e)})}),PD.apply(this,arguments)}function ere(n,e){return OD.apply(this,arguments)}function OD(){return OD=m(function*(n,e){oV(n),kD(n)?(n.bu.Iu(e),RD(n)):n.bu.set("Unknown")}),OD.apply(this,arguments)}function tre(n,e,t){return FD.apply(this,arguments)}function FD(){return FD=m(function*(n,e,t){if(n.bu.set("Online"),e instanceof n2&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Kp(n,r)}else if(e instanceof Mp?n.Vu.Ht(e):e instanceof t2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(V.min()))try{const r=yield K2(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Et.EMPTY_BYTE_STRING,c.snapshotVersion)),sV(i,a);const l=new Si(c.target,a,u,c.sequenceNumber);ND(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Kp(n,r)}var r}),FD.apply(this,arguments)}function Kp(n,e,t){return LD.apply(this,arguments)}function LD(){return LD=m(function*(n,e,t){if(!is(e))throw e;n.vu.add(1),yield qa(n),n.bu.set("Offline"),t||(t=()=>K2(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){T("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Bl(n)}))}),LD.apply(this,arguments)}function aV(n,e){return e().catch(t=>Kp(n,t,e))}function Wa(n){return VD.apply(this,arguments)}function VD(){return VD=m(function*(n){const e=M(n),t=ms(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;nre(e);)try{const i=yield Bne(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,rre(e,i)}catch(i){yield Kp(e,i)}uV(e)&&cV(e)}),VD.apply(this,arguments)}function nre(n){return gs(n)&&n.Eu.length<10}function rre(n,e){n.Eu.push(e);const t=ms(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function uV(n){return gs(n)&&!ms(n).Uo()&&n.Eu.length>0}function cV(n){ms(n).start()}function ire(n){return UD.apply(this,arguments)}function UD(){return UD=m(function*(n){ms(n).hu()}),UD.apply(this,arguments)}function sre(n){return BD.apply(this,arguments)}function BD(){return BD=m(function*(n){const e=ms(n);for(const t of n.Eu)e.uu(t.mutations)}),BD.apply(this,arguments)}function ore(n,e,t){return jD.apply(this,arguments)}function jD(){return jD=m(function*(n,e,t){const r=n.Eu.shift(),i=YE.from(r,e,t);yield aV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Wa(n)}),jD.apply(this,arguments)}function are(n,e){return $D.apply(this,arguments)}function $D(){return $D=m(function*(n,e){var t;e&&ms(n).ou&&(yield(t=m(function*(r,i){if(function YL(n){switch(n){default:return O();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(s=i.code)&&s!==w.ABORTED){const o=r.Eu.shift();ms(r).Qo(),yield aV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Wa(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),uV(n)&&cV(n)}),$D.apply(this,arguments)}function lV(n,e){return GD.apply(this,arguments)}function GD(){return GD=m(function*(n,e){const t=M(n);t.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=gs(t);t.vu.add(3),yield qa(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Bl(t)}),GD.apply(this,arguments)}function zD(){return zD=m(function*(n,e){const t=M(n);e?(t.vu.delete(2),yield Bl(t)):e||(t.vu.add(2),yield qa(t),t.bu.set("Unknown"))}),zD.apply(this,arguments)}function Ka(n){return n.Su||(n.Su=function(e,t,r){const i=M(e);return i.fu(),new Wne(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Zne.bind(null,n),ao:ere.bind(null,n),nu:tre.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Su.Qo(),kD(n)?RD(n):n.bu.set("Unknown")):(yield n.Su.stop(),oV(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ms(n){return n.Du||(n.Du=function(e,t,r){const i=M(e);return i.fu(),new Kne(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:ire.bind(null,n),ao:are.bind(null,n),au:sre.bind(null,n),cu:ore.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Du.Qo(),yield Wa(n)):(yield n.Du.stop(),n.Eu.length>0&&(T("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class qD{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new qD(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qa(n,e){if(it("AsyncQueue",`${e}: ${n}`),is(n))return new D(w.UNAVAILABLE,`${e}: ${n}`);throw n}class Ya{constructor(e){this.comparator=e?(t,r)=>e(t,r)||x.comparator(t.key,r.key):(t,r)=>x.comparator(t.key,r.key),this.keyedMap=Il(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Ya(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dV{constructor(){this.Cu=new Oe(x.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ja{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Ja(e,t,Ya.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class ure{constructor(){this.Nu=void 0,this.listeners=[]}}class cre{constructor(){this.queries=new bi(e=>NL(e),vl),this.onlineState="Unknown",this.ku=new Set}}function KD(){return KD=m(function*(n,e){const t=M(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new ure),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=Qa(o,`Initialization of query '${qE(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&JD(t)}),KD.apply(this,arguments)}function YD(){return YD=m(function*(n,e){const t=M(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),YD.apply(this,arguments)}function lre(n,e){const t=M(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&JD(t)}function dre(n,e,t){const r=M(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function JD(n){n.ku.forEach(e=>{e.next()})}class XD{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class pV{constructor(e){this.key=e}}class gV{constructor(e){this.key=e}}class mV{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=re(),this.mutatedKeys=re(),this.tc=kL(e),this.ec=new Ya(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new dV,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=wl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ja(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new dV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=re(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new gV(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new pV(r))}),t}hc(e){this.Yu=e.ir,this.Zu=re();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ja.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pre{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gre{constructor(e){this.key=e,this.fc=!1}}class mre{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new bi(a=>NL(a),vl),this._c=new Map,this.mc=new Set,this.gc=new Oe(x.comparator),this.yc=new Map,this.Ic=new hD,this.Tc={},this.Ec=new Map,this.Ac=lo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function yre(n,e){return ZD.apply(this,arguments)}function ZD(){return ZD=m(function*(n,e){const t=function E0(n){const e=M(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wre.bind(null,e),e.dc.nu=lre.bind(null,e.eventManager),e.dc.Pc=dre.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Ha(n,e){const t=M(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Si(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,hn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function e0(n,e,t,r,i){return t0.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Wp(t.remoteStore,o)}return i}),ZD.apply(this,arguments)}function t0(){return t0=m(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=m(function*(g,y,I,C){let v=y.view.sc(I);v.zi&&(v=yield $p(g.localStore,y.query,!1).then(({documents:H})=>y.view.sc(H,v)));const N=C&&C.targetChanges.get(y.targetId),j=y.view.applyChanges(v,g.isPrimaryClient,N);return h0(g,y.targetId,j.cc),j.snapshot}),function(g,y,I,C){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield $p(n.localStore,e,!0),o=new mV(e,s.ir),a=o.sc(s.documents),u=Sl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);h0(n,t,c.cc);const l=new pre(e,t,o);return n.wc.set(e,l),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),t0.apply(this,arguments)}function _re(n,e){return n0.apply(this,arguments)}function n0(){return n0=m(function*(n,e){const t=M(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!vl(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield za(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),jl(t.remoteStore,r.targetId),Xa(t,r.targetId)}).catch(rs))):(Xa(t,r.targetId),yield za(t.localStore,r.targetId,!0))}),n0.apply(this,arguments)}function r0(){return r0=m(function*(n,e,t){const r=function D0(n){const e=M(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ire.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cre.bind(null,e),e}(n);try{const i=yield function(s,o){const a=M(s),u=We.now(),c=o.reduce((h,f)=>h.add(f.key),re());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Dn(),p=re();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const I of o){const C=Wte(I,l.get(I.key).overlayedDocument);null!=C&&y.push(new Ti(I.key,C,yL(C.value.mapValue),Ge.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:OL(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Oe(J)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Ai(r,i.changes),yield Wa(r.remoteStore)}catch(i){const s=Qa(i,"Failed to persist write");t.reject(s)}}),r0.apply(this,arguments)}function yV(n,e){return s0.apply(this,arguments)}function s0(){return s0=m(function*(n,e){const t=M(n);try{const r=yield function Une(n,e){const t=M(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Et.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let u=Dn(),c=re();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function Q2(n,e,t){let r=re(),i=re();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Dn();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(V.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(V.min())){const l=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?L(o.fc):i.removedDocuments.size>0&&(L(o.fc),o.fc=!1))}),yield Ai(t,r,e)}catch(r){yield rs(r)}}),s0.apply(this,arguments)}function _V(n,e,t){const r=M(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&JD(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wre(n,e,t){return o0.apply(this,arguments)}function o0(){return o0=m(function*(n,e,t){const r=M(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Oe(x.comparator);o=o.insert(s,Be.newNoDocument(s,V.min()));const a=re().add(s),u=new Tl(V.min(),new Map,new Oe(J),o,a);yield yV(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),f0(r)}else yield za(r.localStore,e,!1).then(()=>Xa(r,e,t)).catch(rs)}),o0.apply(this,arguments)}function Ire(n,e){return a0.apply(this,arguments)}function a0(){return a0=m(function*(n,e){const t=M(n),r=e.batch.batchId;try{const i=yield function Vne(n,e){const t=M(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);L(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=re();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);d0(t,r,null),l0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ai(t,i)}catch(i){yield rs(i)}}),a0.apply(this,arguments)}function Cre(n,e,t){return u0.apply(this,arguments)}function u0(){return u0=m(function*(n,e,t){const r=M(n);try{const i=yield function(s,o){const a=M(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(L(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);d0(r,e,t),l0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ai(r,i)}catch(i){yield rs(i)}}),u0.apply(this,arguments)}function l0(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function d0(n,e,t){const r=M(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Xa(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||vV(n,r)})}function vV(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(jl(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),f0(n))}function h0(n,e,t){for(const r of t)r instanceof pV?(n.Ic.addReference(r.key,e),Dre(n,r)):r instanceof gV?(T("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||vV(n,r.key)):O()}function Dre(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(T("SyncEngine","New document in limbo: "+t),n.mc.add(r),f0(n))}function f0(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new x(ye.fromString(e)),r=n.Ac.next();n.yc.set(r,new gre(t)),n.gc=n.gc.insert(t,r),Wp(n.remoteStore,new Si(hn(Oa(t.path)),r,"TargetPurposeLimboResolution",Ln.ct))}}function Ai(n,e,t){return p0.apply(this,arguments)}function p0(){return p0=m(function*(n,e,t){const r=M(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=yD.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(u,c){const l=M(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!is(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),p0.apply(this,arguments)}function bre(n,e){return g0.apply(this,arguments)}function g0(){return g0=m(function*(n,e){const t=M(n);if(!t.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield W2(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new D(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ai(t,r.er)}var i}),g0.apply(this,arguments)}function Tre(n,e){const t=M(n),r=t.yc.get(e);if(r&&r.fc)return re().add(r.key);{let i=re();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Qp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.serializer=Ul(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function q2(n,e,t,r){return new Lne(n,e,t,r)}(this.persistence,new z2,e.initialUser,this.serializer)}createPersistence(e){return new fD(Up.zs,this.serializer)}createSharedClientState(e){return new tV}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Za{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>_V(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=bre.bind(null,r.syncEngine),yield function HD(n,e){return zD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cre}createDatastore(e){const t=Ul(e.databaseInfo.databaseId),r=new qne(e.databaseInfo);return new Qne(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>_V(this.syncEngine,a,0),o=nV.D()?new nV:new Gne,new Xne(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new mre(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=M(t);T("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield qa(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Yp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):it("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ure{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=KF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Qa(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Jp(n,e){return b0.apply(this,arguments)}function b0(){return b0=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield W2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),b0.apply(this,arguments)}function T0(n,e){return S0.apply(this,arguments)}function S0(){return S0=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function A0(n){return x0.apply(this,arguments)}(n);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>lV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>lV(e.remoteStore,s)),n._onlineComponents=e}),S0.apply(this,arguments)}function x0(){return x0=m(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function bV(n){return"FirebaseError"===n.name?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;pr("Error using user provided cache. Falling back to memory cache: "+t),yield Jp(n,new Qp)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield Jp(n,new Qp);return n._offlineComponents}),x0.apply(this,arguments)}function Xp(n){return M0.apply(this,arguments)}function M0(){return M0=m(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield T0(n,n._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield T0(n,new Za))),n._onlineComponents}),M0.apply(this,arguments)}function R0(){return R0=m(function*(n){const e=yield Xp(n),t=e.eventManager;return t.onListen=yre.bind(null,e.syncEngine),t.onUnlisten=_re.bind(null,e.syncEngine),t}),R0.apply(this,arguments)}function MV(n,e,t={}){const r=new Ct;return n.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const c=new Yp({next:d=>{s.enqueueAndForget(()=>function QD(n,e){return YD.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new D(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new XD(o,c,{includeMetadataChanges:!0,Ku:!0});return function WD(n,e){return KD.apply(this,arguments)}(i,l)}(yield function eu(n){return R0.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function NV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const RV=new Map;function k0(n,e,t){if(!t)throw new D(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kV(n){if(!x.isDocumentKey(n))throw new D(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PV(n){if(x.isDocumentKey(n))throw new D(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":O()}function fe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new D(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=eg(n);throw new D(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class FV{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Kre(n,e,t,r){if(!0===e&&!0===r)throw new D(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=NV(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $l{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qee;switch(t.type){case"firstParty":return new Yee(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new D(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=RV.get(e);t&&(T("ComponentProvider","Removing Datastore"),RV.delete(e),t.terminate())}(this),Promise.resolve()}}class at{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}}class $t{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $t(this.firestore,e,this._query)}}class zr extends $t{constructor(e,t,r){super(e,t,Oa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new x(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function P0(n,e,...t){if(n=In(n),k0("collection","path",e),n instanceof $l){const r=ye.fromString(e,...t);return PV(r),new zr(n,null,r)}{if(!(n instanceof at||n instanceof zr))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ye.fromString(e,...t));return PV(r),new zr(n.firestore,null,r)}}function LV(n,e,...t){if(n=In(n),1===arguments.length&&(e=KF.A()),k0("doc","path",e),n instanceof $l){const r=ye.fromString(e,...t);return kV(r),new at(n,null,new x(r))}{if(!(n instanceof at||n instanceof zr))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ye.fromString(e,...t));return kV(r),new at(n.firestore,n instanceof zr?n.converter:null,new x(r))}}class Yre{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new SD(this,"async_queue_retry"),this.Xc=()=>{const t=qp();t&&T("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=qp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=qp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!is(t))throw t;T("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,it("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=qD.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class je extends $l{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Yre,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||UV(this),this._firestoreClient.terminate()}}function gt(n){return n._firestoreClient||UV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UV(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Tte(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,NV(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new Ure(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(Et.fromBase64String(e))}catch(t){throw new D(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fo(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new D(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $V{constructor(e){this._methodName=e}}class F0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const eie=/^__.*__$/;class tie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new Va(e,this.data,t,this.fieldTransforms)}}function HV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class tg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return rg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(HV(this.ca)&&eie.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class nie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ul(e)}ya(e,t,r,i=!1){return new tg({ca:e,methodName:t,ga:r,path:st.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nu(n){const e=n._freezeSettings(),t=Ul(n._databaseId);return new nie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function L0(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);U0("Data must be an object, but it was:",o,r);const a=QV(r,o);let u,c;if(s.merge)u=new En(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=zl(e,d,t);if(!o.contains(h))throw new D(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);JV(l,h)||l.push(h)}u=new En(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new tie(new jt(a),u,c)}function po(n,e){if(YV(n=In(n)))return U0("Unsupported field value:",e,n),QV(n,e);if(n instanceof $V)return function(t,r){if(!HV(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=po(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=In(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return UL(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=We.fromDate(t);return{timestampValue:Ba(r.serializer,i)}}if(t instanceof We){const i=new We(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ba(r.serializer,i)}}if(t instanceof F0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fo)return{bytesValue:o2(r.serializer,t._byteString)};if(t instanceof at){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:tD(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${eg(t)}`)}(n,e)}function QV(n,e){const t={};return uL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(n,(r,i)=>{const s=po(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function YV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof We||n instanceof F0||n instanceof fo||n instanceof at||n instanceof $V)}function U0(n,e,t){if(!YV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=eg(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function zl(n,e,t){if((e=In(e))instanceof tu)return e._internalPath;if("string"==typeof e)return ng(n,e);throw rg("Field path arguments must be of type string or ",n,!1,void 0,t)}const oie=new RegExp("[~\\*/\\[\\]]");function ng(n,e,t){if(e.search(oie)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tu(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(w.INVALID_ARGUMENT,a+n+u)}function JV(n,e){return n.some(t=>t.isEqual(e))}class B0{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ig("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aie extends B0{data(){return super.data()}}function ig(n,e){return"string"==typeof e?ng(n,e):e instanceof tu?e._internalPath:e._delegate._internalPath}class j0{}class uie extends j0{}class ql extends uie{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ql(e,t,r)}_apply(e){const t=this._parse(e);return nU(e._query,t),new $t(e.firestore,e.converter,zE(e._query,t))}_parse(e){const t=nu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new D(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){tU(l,c);const h=[];for(const f of l)h.push(eU(a,i,f));d={arrayValue:{values:h}}}else d=eU(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||tU(l,c),d=function KV(n,e,t,r=!1){return po(t,n.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return he.create(u,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ru extends j0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ru(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Te.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)nU(s,a),s=zE(s,a)}(e._query,t),new $t(e.firestore,e.converter,zE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function eU(n,e,t){if("string"==typeof(t=In(t))){if(""===t)throw new D(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(e)&&-1!==t.indexOf("/"))throw new D(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ye.fromString(t));if(!x.isDocumentKey(r))throw new D(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eo(n,new x(r))}if(t instanceof at)return eo(n,t._key);throw new D(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eg(t)}.`)}function tU(n,e){if(!Array.isArray(n)||0===n.length)throw new D(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nU(n,e){if(e.isInequality()){const r=Dp(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new D(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=GE(n);null!==s&&function rU(n,e,t){if(!t.isEqual(e))throw new D(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new D(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lie{convertValue(e,t="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw O()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ss(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new F0(Xe(e.latitude),Xe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_p(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pl(e));default:return null}}convertTimestamp(e){const t=os(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ye.fromString(e);L(m2(r));const i=new Zs(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(t)||it(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class go{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iu extends B0{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ig("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ug extends iu{data(e={}){return super.data(e)}}class su{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ug(this._firestore,this._userDataWriter,r.key,r,new go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new D(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ug(r._firestore,r._userDataWriter,o.doc.key,o.doc,new go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new ug(r._firestore,r._userDataWriter,o.doc.key,o.doc,new go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:hie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class ys extends lie{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,t)}}function sU(n,e){const t=fe(n.firestore,je),r=LV(n),i=function G0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Wl(t,[L0(nu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ge.exists(!1))]).then(()=>r)}function Wl(n,e){return function(t,r){const i=new Ct;return t.asyncQueue.enqueueAndForget(m(function*(){return function vre(n,e,t){return r0.apply(this,arguments)}(yield function N0(n){return Xp(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(gt(n),e)}!function(n,e=!0){xa=ma,kr(new dr("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new je(new Kee(t.getProvider("auth-internal")),new Jee(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Kn(zF,"3.13.0",n),Kn(zF,"3.13.0","esm2017")}();let Kl=(()=>{var n;class e{constructor(){this.app=Vk(Tie),this.analytics=function YY(n=Rv()){const e=Ki(n=In(n),wf);return e.isInitialized()?e.getImmediate():function JY(n,e={}){const t=Ki(n,wf);if(t.isInitialized()){const i=t.getImmediate();if(Sc(e,t.getOptions()))return i;throw ln.create("already-initialized")}return t.initialize({options:e})}(n)}(this.app),this.firestore=function Xre(n,e){const r="string"==typeof n?n:e||"(default)",i=Ki("object"==typeof n?n:Rv(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=Ik(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function Qre(n,e,t,r={}){var i;const s=(n=fe(n,$l))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Mt.MOCK_USER;else{a=function QW(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[df(JSON.stringify({alg:"none",type:"JWT"})),df(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mt(c)}n._authCredentials=new Wee(new qF(a,u))}}(i,...s)}return i}(this.app),this.auth=VZ(this.app),this.categoryCollection=P0(this.firestore,"categories"),this.coursesCollection=P0(this.firestore,"courses"),this.data={},this.refreshEvent=new ke,this.refreshUser=new ke,this.refresh(tn.CATEGORIES),this.refresh(tn.COURSES)}refresh(r){const s=function cie(n,e,...t){let r=[];e instanceof j0&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof ru).length,o=i.filter(a=>a instanceof ql).length;if(s>1||s>0&&o>0)throw new D(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}(P0(this.firestore,r));(function fie(n){n=fe(n,$t);const e=fe(n.firestore,je),t=gt(e),r=new ys(e);return function XV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new D(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),MV(t,n._query).then(i=>new su(e,r,n,i))})(s).then(o=>{this.data[r]=[],o.forEach(a=>{let u=a.data();u.id=a.id,this.data[r].push(u)}),this.refreshEvent.emit(r)})}logIn(){}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),CP(this.analytics,r,s)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var tn=(()=>(function(n){n.CATEGORIES="categories",n.COURSES="courses",n.ASSESSMENTS="assessments"}(tn||(tn={})),tn))(),lg=(()=>(function(n){n.PAGE_VIEW="PAGE_VIEW",n.LOGIN="login",n.SIGN_UP="sign_up"}(lg||(lg={})),lg))();const Tie={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function Sie(n,e){if(1&n){const t=nr();F(0,"i",6),ge("click",function(){yt(t);const i=Se(2);return _t(i.expand=!i.expand)}),ae(1),U()}if(2&n){const t=Se(2);Ee(1),oi(t.expand?"expand_more":"chevron_right")}}function Aie(n,e){if(1&n){const t=nr();F(0,"div")(1,"app-category",9),ge("select",function(i){return yt(t),_t(Se(3).select.emit(i))}),U()()}if(2&n){const t=e.$implicit,r=Se(3);Ee(1),Re("category",t)("current",r.current)}}function xie(n,e){if(1&n&&(F(0,"div",7),_n(1,Aie,2,2,"div",8),U()),2&n){const t=Se(2);Ee(1),Re("ngForOf",t.category.categories)}}const Mie=function(n){return{"active-node":n}};function Nie(n,e){if(1&n){const t=nr();F(0,"div",1)(1,"div",2),_n(2,Sie,2,1,"i",3),F(3,"span",4),ge("click",function(){yt(t);const i=Se();return _t(i.select.emit(i.category))}),ae(4),U()(),_n(5,xie,2,1,"div",5),U()}if(2&n){const t=Se();Ee(1),Re("ngClass",Cy(4,Mie,null!=t.current&&t.category.id==t.current.id)),Ee(1),Re("ngIf",null!=t.category.categories&&t.category.categories.length>=0),Ee(2),oi(t.category.name),Ee(1),Re("ngIf",t.expand)}}let Rie=(()=>{var n;class e{constructor(){this.select=new ke,this.expand=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(r,i){1&r&&_n(0,Nie,6,6,"div",0),2&r&&Re("ngIf",i.category)},dependencies:[c_,ec,tc,n],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})();function kie(n,e){if(1&n){const t=nr();F(0,"div",11)(1,"app-category",12),ge("select",function(i){return yt(t),_t(Se().select(i))}),U()()}if(2&n){const t=e.$implicit,r=Se();Ee(1),Re("category",t)("current",r.category)}}function Pie(n,e){if(1&n){const t=nr();F(0,"button",13),ge("click",function(){return yt(t),_t(Se().deleteConfirm=!0)}),F(1,"i",8),ae(2,"delete"),U()()}}function Oie(n,e){if(1&n){const t=nr();F(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),ae(5,"New Category"),U(),F(6,"button",19),ge("click",function(){return yt(t),_t(Se().addCategoryModal=!1)}),U()(),F(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),ge("ngModelChange",function(i){return yt(t),_t(Se().categoryName=i)}),U()()()(),F(11,"div",24)(12,"button",25),ge("click",function(){return yt(t),_t(Se().addCategory())}),ae(13,"Add"),U()()()()()}if(2&n){const t=Se();Ee(10),Re("ngModel",t.categoryName)}}function Fie(n,e){if(1&n){const t=nr();F(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),ae(5,"Delete Category"),U(),F(6,"button",19),ge("click",function(){return yt(t),_t(Se().deleteConfirm=!1)}),U()(),F(7,"div",20)(8,"div",21)(9,"div",22),ae(10),U()()(),F(11,"div",24)(12,"button",25),ge("click",function(){return yt(t),_t(Se().deleteCategory())}),ae(13,"Delete"),U()()()()()}if(2&n){const t=Se();Ee(10),Yd(" Confirm to delete ",null==t.category?null:t.category.name," ")}}let Lie=(()=>{var n;class e{constructor(r){this.firestore=r,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh(),this.firestore.refreshEvent.subscribe(i=>{i==tn.CATEGORIES&&this.refresh()})}refresh(){this.categories=[];let r=this.firestore.data[tn.CATEGORIES];r.filter(i=>null==i.parent).forEach(i=>this.categories.push(i)),this.categories.forEach(i=>this.linkCategories(i,r)),console.log(this.categories)}linkCategories(r,i){r.categories=[],i.filter(s=>null!=s.parent&&s.parent==r.id).forEach(s=>{this.linkCategories(s,i),r.categories?.push(s)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let r={name:this.categoryName,active:!0};this.category&&(r.parent=this.category.id),sU(this.firestore.categoryCollection,r).then(i=>{alert("Category has been added succesfully ID:"+i.id),this.firestore.refresh(tn.CATEGORIES)})}else alert("Please enter category name")}isNotEmpty(r){return null!=r&&""!=r}select(r){console.log("Selected Category",r),this.category=r}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&function pie(n){return Wl(fe(n.firestore,je),[new Ua(n._key,Ge.none())])}(LV(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.firestore.refresh(tn.CATEGORIES)})}}return(n=e).\u0275fac=function(r){return new(r||n)(b(Kl))},n.\u0275cmp=Bn({type:n,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"span"),ae(3,"Categories"),U()()(),F(4,"div",2)(5,"div",3),_n(6,kie,2,2,"div",4),U()(),F(7,"div",5)(8,"div",6)(9,"button",7),ge("click",function(){return i.addCategoryModal=!0}),F(10,"i",8),ae(11,"add"),U()(),_n(12,Pie,3,0,"button",9),U()(),_n(13,Oie,14,1,"div",10),_n(14,Fie,14,1,"div",10)),2&r&&(Ee(6),Re("ngForOf",i.categories),Ee(6),Re("ngIf",null!=i.category),Ee(1),Re("ngIf",i.addCategoryModal),Ee(1),Re("ngIf",i.deleteConfirm))},dependencies:[ec,tc,sc,S_,Vh,Rie],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();function Vie(n,e){if(1&n&&(F(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),ae(4),F(5,"i",14),ae(6,"open_in_new"),U()(),F(7,"h6",15),ae(8),U(),si(9,"p",16),U()()()),2&n){const t=e.$implicit;Ee(4),oi(t.name),Ee(1),Re("routerLink",t.route),Ee(3),oi(t.description)}}function Uie(n,e){if(1&n&&(F(0,"option",34),ae(1),U()),2&n){const t=e.$implicit;Re("value",t.name),Ee(1),oi(t.name)}}function Bie(n,e){if(1&n){const t=nr();F(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h4",21),ae(5,"New Course"),U(),F(6,"button",22),ge("click",function(){return yt(t),_t(Se().addCourseModal=!1)}),U()(),F(7,"div",23)(8,"div",24)(9,"div",25)(10,"input",26),ge("ngModelChange",function(i){return yt(t),_t(Se().course.name=i)}),U()(),F(11,"div",25)(12,"input",27),ge("ngModelChange",function(i){return yt(t),_t(Se().course.description=i)}),U()(),F(13,"div",25)(14,"select",28),ge("ngModelChange",function(i){return yt(t),_t(Se().course.category=i)}),F(15,"option",29),ae(16,"Select Category"),U(),_n(17,Uie,2,2,"option",30),U()(),F(18,"div",25)(19,"input",31),ge("ngModelChange",function(i){return yt(t),_t(Se().course.image=i)}),U()()()(),F(20,"div",32)(21,"button",33),ge("click",function(){return yt(t),_t(Se().addCourse())}),ae(22,"Add"),U()()()()()}if(2&n){const t=Se();Ee(10),Re("ngModel",t.course.name),Ee(2),Re("ngModel",t.course.description),Ee(2),Re("id",t.course.category)("ngModel",t.course.category),Ee(3),Re("ngForOf",t.categories),Ee(2),Re("ngModel",t.course.image)}}const jie=[{path:"",component:OW},{path:"home",redirectTo:""},{path:"login",component:(()=>{var n;class e{constructor(r){this.fs=r}login(){}}return(n=e).\u0275fac=function(r){return new(r||n)(b(Kl))},n.\u0275cmp=Bn({type:n,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"form"],["src","../../assets/icons/google-logo.png"]],template:function(r,i){1&r&&(F(0,"div",0),si(1,"img",1),F(2,"button"),ae(3,"Sign in"),U()())},styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{background-color:#eee}img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;width:500px;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}input[_ngcontent-%COMP%]{border-radius:100px;padding:10px 15px;width:50%;border:1px solid #D9D9D9;outline:none;display:block;margin:20px auto}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:55px auto 10px}a[_ngcontent-%COMP%]{text-align:center;margin-top:30px;color:#719be6;text-decoration:none;padding:5px;display:inline-block}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),e})()},{path:"account",component:FW},{path:"profile",component:LW},{path:"categories",component:Lie},{path:"courses",component:(()=>{var n;class e{constructor(r){this.firestore=r,this.addCourseModal=!1,this.course={name:"",description:"",image:"",category:"",active:!0},this.categories=[],this.courses=[],this.deleteConfirm=!1,this.categories=this.firestore.data[tn.CATEGORIES],this.courses=this.firestore.data[tn.COURSES],this.firestore.refreshEvent.subscribe(i=>{i==tn.CATEGORIES&&(this.categories=this.firestore.data[tn.CATEGORIES]),(i=tn.COURSES)&&(this.courses=this.firestore.data[tn.COURSES])})}addCourse(){console.log(this.course),this.validate()?sU(this.firestore.coursesCollection,this.course).then(r=>{alert("Course has been added succesfully ID:"+r.id),this.firestore.refresh(tn.COURSES)}):alert("Please enter name, description, category")}validate(){return this.isNotEmpty(this.course.name)&&this.isNotEmpty(this.course.description)&&this.isNotEmpty(this.course.category)}isNotEmpty(r){return null!=r&&""!=r}}return(n=e).\u0275fac=function(r){return new(r||n)(b(Kl))},n.\u0275cmp=Bn({type:n,selectors:[["app-courses"]],decls:13,vars:2,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"form-control","x",3,"ngModel","ngModelChange"],["placeholder","Category",1,"form-control","x",3,"id","ngModel","ngModelChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Image URL",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"span"),ae(3,"Courses"),U()()(),F(4,"div",2)(5,"div",3),_n(6,Vie,10,3,"div",4),U()(),F(7,"div",5)(8,"div",6)(9,"button",7),ge("click",function(){return i.addCourseModal=!0}),F(10,"i",8),ae(11,"add"),U()()()(),_n(12,Bie,23,6,"div",9)),2&r&&(Ee(6),Re("ngForOf",i.courses),Ee(6),Re("ngIf",i.addCourseModal))},dependencies:[ec,tc,bc,WN,QN,sc,Uh,S_,Vh],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})()}];let $ie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=vr({type:n}),n.\u0275inj=Jn({imports:[gk.forRoot(jie),gk]}),e})();class Gie extends bn{constructor(e,t){super()}schedule(e,t=0){return this}}const dg={setInterval(n,e,...t){const{delegate:r}=dg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=dg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},aU={now:()=>(aU.delegate||Date).now(),delegate:void 0};class Ql{constructor(e,t=Ql.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Ql.now=aU.now;const uU=new class zie extends Ql{constructor(e,t=Ql.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class Hie extends Gie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return dg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&dg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,mo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),qie=uU;function cU(n,e){return e?t=>jh(e.pipe(Bi(1),function Wie(){return mt((n,e)=>{n.subscribe(ut(e,hg))})}()),t.pipe(cU(n))):Dt((t,r)=>Tn(n(t,r)).pipe(Bi(1),hR(t)))}const Jie=function(n){return{active:n}};function Xie(n,e){if(1&n){const t=nr();F(0,"div",5),ge("click",function(){const s=yt(t).$implicit;return _t(Se().focus(s.route))}),F(1,"i",6),ae(2),U(),F(3,"span",7),ae(4),U()()}if(2&n){const t=e.$implicit,r=Se();Re("ngClass",Cy(3,Jie,r.active=="/"+t.route)),Ee(2),oi(t.icon),Ee(2),oi(t.name)}}let Zie=(()=>{var n;class e{constructor(r,i){this.router=r,this.firestore=i,this.close=new ke,this.active="",this.menus=[],this.active=this.router.url,this.user=i.user,this.load(),r.events.subscribe(s=>{s instanceof zi&&(this.active=this.router.url)}),i.refreshUser.subscribe(s=>{this.user=s,this.load()})}load(){this.menus=[],this.user?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Categories",icon:"category",route:"categories"}),this.menus.push({name:"Courses",icon:"menu_book",route:"courses"}),this.menus.push({name:"Assessments",icon:"assignment",route:"assessments"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):this.menus.push({name:"Login",icon:"login",route:"login"})}focus(r){this.router.navigate([r]),this.close.emit(!0)}}return(n=e).\u0275fac=function(r){return new(r||n)(b(cn),b(Kl))},n.\u0275cmp=Bn({type:n,selectors:[["app-menu"]],outputs:{close:"close"},decls:6,vars:1,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"i",2),ge("click",function(){return i.close.emit(!0)}),ae(3,"close"),U()(),F(4,"div",3),_n(5,Xie,5,5,"div",4),U()()),2&r&&(Ee(5),Re("ngForOf",i.menus))},dependencies:[c_,ec],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),e})();function ese(n,e){if(1&n){const t=nr();F(0,"app-menu",8),ge("close",function(){return yt(t),_t(Se().menu=!1)}),U()}}let tse=(()=>{var n;class e{constructor(){this.menu=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Bn({type:n,selectors:[["app-header"]],decls:10,vars:1,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],[1,"material-icons","text-light"],[1,"col-12","p-0","text-center"],[1,"t","a"],[3,"close",4,"ngIf"],[3,"close"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),ge("click",function(){return i.menu=!i.menu}),F(4,"i",4),ae(5,"menu"),U()()(),F(6,"div",5)(7,"div",6),ae(8,"IMPULSE"),U()()()(),_n(9,ese,1,0,"app-menu",7)),2&r&&(Ee(9),Re("ngIf",i.menu))},dependencies:[tc,Zie],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),e})(),nse=(()=>{var n;class e{constructor(r,i,s){this.firestore=r,this.firestore.log(lg.PAGE_VIEW),this.handleScroll(i,s)}handleScroll(r,i){r.events.pipe(fi(s=>s instanceof tv)).pipe(function Yie(n,e=uU){const t=function Qie(n=0,e,t=qie){let r=-1;return null!=e&&(fb(e)?t=e:r=e),new Ze(i=>{let s=function Kie(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return cU(()=>t)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(n=e).\u0275fac=function(r){return new(r||n)(b(Kl),b(cn),b(b1))},n.\u0275cmp=Bn({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&si(0,"app-header")(1,"router-outlet")},dependencies:[uv,tse],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),rse=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=vr({type:n,bootstrap:[nse]}),n.\u0275inj=Jn({imports:[q9,$ie,a8]}),e})();z9().bootstrapModule(rse).catch(n=>console.error(n))}},xe=>{xe(xe.s=835)}]);