"use strict";(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{765:()=>{function xe(n){return"function"==typeof n}function lu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Xl=lu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function yo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof Xl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Y0(s)}catch(o){e=e??[],o instanceof Xl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Xl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Y0(e);else{if(e instanceof Tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yo(t,e)}remove(e){const{_finalizers:t}=this;t&&yo(t,e),e instanceof Tn&&e._removeParent(this)}}Tn.EMPTY=(()=>{const n=new Tn;return n.closed=!0,n})();const K0=Tn.EMPTY;function Q0(n){return n instanceof Tn||n&&"closed"in n&&xe(n.remove)&&xe(n.add)&&xe(n.unsubscribe)}function Y0(n){xe(n)?n():n.unsubscribe()}const vs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Zl={setTimeout(n,e,...t){const{delegate:r}=Zl;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Zl;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function J0(n){Zl.setTimeout(()=>{const{onUnhandledError:e}=vs;if(!e)throw n;e(n)})}function yg(){}const gU=vg("C",void 0,void 0);function vg(n,e,t){return{kind:n,value:e,error:t}}let _s=null;function ed(n){if(vs.useDeprecatedSynchronousErrorHandling){const e=!_s;if(e&&(_s={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=_s;if(_s=null,t)throw r}}else n()}class _g extends Tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Q0(e)&&e.add(this)):this.destination=CU}static create(e,t,r){return new du(e,t,r)}next(e){this.isStopped?Ig(function yU(n){return vg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ig(function mU(n){return vg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ig(gU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _U=Function.prototype.bind;function wg(n,e){return _U.call(n,e)}class wU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){td(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){td(r)}else td(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){td(t)}}}class du extends _g{constructor(e,t,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&vs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wg(e.next,s),error:e.error&&wg(e.error,s),complete:e.complete&&wg(e.complete,s)}):i=e}this.destination=new wU(i)}}function td(n){vs.useDeprecatedSynchronousErrorHandling?function vU(n){vs.useDeprecatedSynchronousErrorHandling&&_s&&(_s.errorThrown=!0,_s.error=n)}(n):J0(n)}function Ig(n,e){const{onStoppedNotification:t}=vs;t&&Zl.setTimeout(()=>t(n,e))}const CU={closed:!0,next:yg,error:function IU(n){throw n},complete:yg},Cg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ws(n){return n}function X0(n){return 0===n.length?ws:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ze=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function bU(n){return n&&n instanceof _g||function DU(n){return n&&xe(n.next)&&xe(n.error)&&xe(n.complete)}(n)&&Q0(n)}(t)?t:new du(t,r,i);return ed(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Z0(r))((i,s)=>{const o=new du({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Cg](){return this}pipe(...t){return X0(t)(this)}toPromise(t){return new(t=Z0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Z0(n){var e;return null!==(e=n??vs.Promise)&&void 0!==e?e:Promise}const TU=lu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Wr=(()=>{class n extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new eb(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new TU}next(t){ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?K0:(this.currentObservers=null,s.push(t),new Tn(()=>{this.currentObservers=null,yo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ze;return t.source=this,t}}return n.create=(e,t)=>new eb(e,t),n})();class eb extends Wr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:K0}}function tb(n){return xe(n?.lift)}function mt(n){return e=>{if(tb(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(n,e,t,r,i){return new SU(n,e,t,r,i)}class SU extends _g{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(n,e){return mt((t,r)=>{let i=0;t.subscribe(ut(r,s=>{r.next(n.call(e,s,i++))}))})}function nd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Ni(n){return this instanceof Ni?(this.v=n,this):new Ni(n)}function sb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Tg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ob=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ab(n){return xe(n?.then)}function ub(n){return xe(n[Cg])}function cb(n){return Symbol.asyncIterator&&xe(n?.[Symbol.asyncIterator])}function lb(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const db=function KU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hb(n){return xe(n?.[db])}function fb(n){return function ib(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ni?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ni(t.read());if(i)return yield Ni(void 0);yield yield Ni(r)}}finally{t.releaseLock()}})}function pb(n){return xe(n?.getReader)}function Sn(n){if(n instanceof Ze)return n;if(null!=n){if(ub(n))return function QU(n){return new Ze(e=>{const t=n[Cg]();if(xe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ob(n))return function YU(n){return new Ze(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ab(n))return function JU(n){return new Ze(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,J0)})}(n);if(cb(n))return gb(n);if(hb(n))return function XU(n){return new Ze(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(pb(n))return function ZU(n){return gb(fb(n))}(n)}throw lb(n)}function gb(n){return new Ze(e=>{(function eB(n,e){var t,r,i,s;return function nb(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=sb(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Kr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Dt(n,e,t=1/0){return xe(e)?Dt((r,i)=>le((s,o)=>e(r,s,i,o))(Sn(n(r,i))),t):("number"==typeof e&&(t=e),mt((r,i)=>function tB(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;Sn(t(g,l++)).subscribe(ut(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Kr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return n.subscribe(ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function vo(n=1/0){return Dt(ws,n)}const yr=new Ze(n=>n.complete());function mb(n){return n&&xe(n.schedule)}function Sg(n){return n[n.length-1]}function yb(n){return xe(Sg(n))?n.pop():void 0}function hu(n){return mb(Sg(n))?n.pop():void 0}function vb(n,e=0){return mt((t,r)=>{t.subscribe(ut(r,i=>Kr(r,n,()=>r.next(i),e),()=>Kr(r,n,()=>r.complete(),e),i=>Kr(r,n,()=>r.error(i),e)))})}function _b(n,e=0){return mt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wb(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ze(t=>{Kr(t,e,()=>{const r=n[Symbol.asyncIterator]();Kr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ct(n,e){return e?function cB(n,e){if(null!=n){if(ub(n))return function iB(n,e){return Sn(n).pipe(_b(e),vb(e))}(n,e);if(ob(n))return function oB(n,e){return new Ze(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ab(n))return function sB(n,e){return Sn(n).pipe(_b(e),vb(e))}(n,e);if(cb(n))return wb(n,e);if(hb(n))return function aB(n,e){return new Ze(t=>{let r;return Kr(t,e,()=>{r=n[db](),Kr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(n,e);if(pb(n))return function uB(n,e){return wb(fb(n),e)}(n,e)}throw lb(n)}(n,e):Sn(n)}function Ag(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new du({next:()=>{r.unsubscribe(),n()}});return Sn(e(...t)).subscribe(r)}function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function xg(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Mg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const hB=Ae({__forward_ref__:Ae});function Ne(n){return n.__forward_ref__=Ne,n.toString=function(){return Me(this())},n}function z(n){return Ng(n)?n():n}function Ng(n){return"function"==typeof n&&n.hasOwnProperty(hB)&&n.__forward_ref__===Ne}function Rg(n){return n&&!!n.\u0275providers}const Ib="https://g.co/ng/security#xss";class S extends Error{constructor(e,t){super(rd(e,t)),this.code=e}}function rd(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function Z(n){return"string"==typeof n?n:null==n?"":String(n)}function id(n,e){throw new S(-201,!1)}function Bn(n,e){null==n&&function Ie(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xn(n){return{providers:n.providers||[],imports:n.imports||[]}}function sd(n){return Cb(n,od)||Cb(n,Db)}function Cb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Eb(n){return n&&(n.hasOwnProperty(kg)||n.hasOwnProperty(wB))?n[kg]:null}const od=Ae({\u0275prov:Ae}),kg=Ae({\u0275inj:Ae}),Db=Ae({ngInjectableDef:Ae}),wB=Ae({ngInjectorDef:Ae});var W=(()=>((W=W||{})[W.Default=0]="Default",W[W.Host=1]="Host",W[W.Self=2]="Self",W[W.SkipSelf=4]="SkipSelf",W[W.Optional=8]="Optional",W))();let Pg;function jn(n){const e=Pg;return Pg=n,e}function bb(n,e,t){const r=sd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&W.Optional?null:void 0!==e?e:void id(Me(n))}const Fe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fu={},Og="__NG_DI_FLAG__",ad="ngTempTokenPath",CB="ngTokenPath",EB=/\n/gm,DB="\u0275",Tb="__source";let pu;function _o(n){const e=pu;return pu=n,e}function bB(n,e=W.Default){if(void 0===pu)throw new S(-203,!1);return null===pu?bb(n,void 0,e):pu.get(n,e&W.Optional?null:void 0,e)}function K(n,e=W.Default){return(function IB(){return Pg}()||bB)(z(n),e)}function de(n,e=W.Default){return K(n,ud(e))}function ud(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Fg(n){const e=[];for(let t=0;t<n.length;t++){const r=z(n[t]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=W.Default;for(let o=0;o<r.length;o++){const a=r[o],u=TB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(K(i,s))}else e.push(K(r))}return e}function gu(n,e){return n[Og]=e,n.prototype[Og]=e,n}function TB(n){return n[Og]}function Qr(n){return{toString:n}.toString()}var vr=(()=>((vr=vr||{})[vr.OnPush=0]="OnPush",vr[vr.Default=1]="Default",vr))(),_r=(()=>{return(n=_r||(_r={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",_r;var n})();const Yr={},_e=[],cd=Ae({\u0275cmp:Ae}),Lg=Ae({\u0275dir:Ae}),Vg=Ae({\u0275pipe:Ae}),Ab=Ae({\u0275mod:Ae}),Jr=Ae({\u0275fac:Ae}),mu=Ae({__NG_ELEMENT_ID__:Ae});let xB=0;function pn(n){return Qr(()=>{const e=Mb(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===vr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||_r.Emulated,id:"c"+xB++,styles:n.styles||_e,_:null,schemas:n.schemas||null,tView:null};Nb(t);const r=n.dependencies;return t.directiveDefs=ld(r,!1),t.pipeDefs=ld(r,!0),t})}function NB(n){return Ce(n)||Ht(n)}function RB(n){return null!==n}function wr(n){return Qr(()=>({type:n.type,bootstrap:n.bootstrap||_e,declarations:n.declarations||_e,imports:n.imports||_e,exports:n.exports||_e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xb(n,e){if(null==n)return Yr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function Y(n){return Qr(()=>{const e=Mb(n);return Nb(e),e})}function Ce(n){return n[cd]||null}function Ht(n){return n[Lg]||null}function mn(n){return n[Vg]||null}function xn(n,e){const t=n[Ab]||null;if(!t&&!0===e)throw new Error(`Type ${Me(n)} does not have '\u0275mod' property.`);return t}function Mb(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||_e,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xb(n.inputs,e),outputs:xb(n.outputs)}}function Nb(n){n.features?.forEach(e=>e(n))}function ld(n,e){if(!n)return null;const t=e?mn:NB;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(RB)}const Xr=0,P=1,ie=2,Ke=3,Zn=4,Is=5,zt=6,Io=7,et=8,dd=9,hd=10,ae=11,Ug=12,yu=13,Rb=14,Co=15,qt=16,vu=17,Eo=18,Ir=19,_u=20,kb=21,Le=22,Bg=1,Pb=2,fd=7,pd=8,Do=9,rn=10;function Mn(n){return Array.isArray(n)&&"object"==typeof n[Bg]}function er(n){return Array.isArray(n)&&!0===n[Bg]}function jg(n){return 0!=(4&n.flags)}function wu(n){return n.componentOffset>-1}function gd(n){return 1==(1&n.flags)}function tr(n){return!!n.template}function PB(n){return 0!=(256&n[ie])}function Cs(n,e){return n.hasOwnProperty(Jr)?n[Jr]:null}class LB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function $n(){return Lb}function Lb(n){return n.type.prototype.ngOnChanges&&(n.setInput=UB),VB}function VB(){const n=Ub(this),e=n?.current;if(e){const t=n.previous;if(t===Yr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function UB(n,e,t,r){const i=this.declaredInputs[t],s=Ub(n)||function BB(n,e){return n[Vb]=e}(n,{previous:Yr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new LB(u&&u.currentValue,e,a===Yr),n[r]=e}$n.ngInherit=!0;const Vb="__ngSimpleChanges__";function Ub(n){return n[Vb]||null}const Gn=function(n,e,t){};function Pt(n){for(;Array.isArray(n);)n=n[Xr];return n}function md(n,e){return Pt(e[n])}function Nn(n,e){return Pt(e[n.index])}function $b(n,e){return n.data[e]}function yn(n,e){const t=e[n];return Mn(t)?t:t[Xr]}function yd(n){return 64==(64&n[ie])}function ki(n,e){return null==e?null:n[e]}function Gb(n){n[Eo]=0}function Gg(n,e){n[Is]+=e;let t=n,r=n[Ke];for(;null!==r&&(1===e&&1===t[Is]||-1===e&&0===t[Is]);)r[Is]+=e,t=r,r=r[Ke]}const ee={lFrame:Zb(null),bindingsEnabled:!0};function zb(){return ee.bindingsEnabled}function D(){return ee.lFrame.lView}function ge(){return ee.lFrame.tView}function yt(n){return ee.lFrame.contextLView=n,n[et]}function vt(n){return ee.lFrame.contextLView=null,n}function Ot(){let n=qb();for(;null!==n&&64===n.type;)n=n.parent;return n}function qb(){return ee.lFrame.currentTNode}function Cr(n,e){const t=ee.lFrame;t.currentTNode=n,t.isParent=e}function Hg(){return ee.lFrame.isParent}function To(){return ee.lFrame.bindingIndex++}function ZB(n,e){const t=ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,qg(e)}function qg(n){ee.lFrame.currentDirectiveIndex=n}function Kg(n){ee.lFrame.currentQueryIndex=n}function tj(n){const e=n[P];return 2===e.type?e.declTNode:1===e.type?n[zt]:null}function Jb(n,e,t){if(t&W.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&W.Host||(i=tj(s),null===i||(s=s[Co],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ee.lFrame=Xb();return r.currentTNode=e,r.lView=n,!0}function Qg(n){const e=Xb(),t=n[P];ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Xb(){const n=ee.lFrame,e=null===n?null:n.child;return null===e?Zb(n):e}function Zb(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function eT(){const n=ee.lFrame;return ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const tT=eT;function Yg(){const n=eT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function on(){return ee.lFrame.selectedIndex}function Es(n){ee.lFrame.selectedIndex=n}function He(){const n=ee.lFrame;return $b(n.tView,n.selectedIndex)}function vd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks??(n.destroyHooks=[])).push(t,l)}}function _d(n,e,t){nT(n,e,3,t)}function wd(n,e,t,r){(3&n[ie])===t&&nT(n,e,t,r)}function Jg(n,e){let t=n[ie];(3&t)===e&&(t&=2047,t+=1,n[ie]=t)}function nT(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[Eo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[Eo]+=65536),(a<s||-1==s)&&(lj(n,t,e,u),n[Eo]=(4294901760&n[Eo])+u+2),u++}function lj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[ie]>>11<n[Eo]>>16&&(3&n[ie])===e){n[ie]+=2048,Gn(4,a,s);try{s.call(a)}finally{Gn(5,a,s)}}}else{Gn(4,a,s);try{s.call(a)}finally{Gn(5,a,s)}}}const So=-1;class Cu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Zg(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];iT(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function rT(n){return 3===n||4===n||6===n}function iT(n){return 64===n.charCodeAt(0)}function Eu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||sT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function sT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function oT(n){return n!==So}function Id(n){return 32767&n}function Cd(n,e){let t=function pj(n){return n>>16}(n),r=e;for(;t>0;)r=r[Co],t--;return r}let em=!0;function Ed(n){const e=em;return em=n,e}const aT=255,uT=5;let gj=0;const Er={};function Dd(n,e){const t=cT(n,e);if(-1!==t)return t;const r=e[P];r.firstCreatePass&&(n.injectorIndex=e.length,tm(r.data,n),tm(e,null),tm(r.blueprint,null));const i=nm(n,e),s=n.injectorIndex;if(oT(i)){const o=Id(i),a=Cd(i,e),u=a[P].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function tm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cT(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function nm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=mT(i),null===r)return So;if(t++,i=i[Co],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return So}function rm(n,e,t){!function mj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(mu)&&(r=t[mu]),null==r&&(r=t[mu]=gj++);const i=r&aT;e.data[n+(i>>uT)]|=1<<i}(n,e,t)}function lT(n,e,t){if(t&W.Optional||void 0!==n)return n;id()}function dT(n,e,t,r){if(t&W.Optional&&void 0===r&&(r=null),!(t&(W.Self|W.Host))){const i=n[dd],s=jn(void 0);try{return i?i.get(e,r,t&W.Optional):bb(e,r,t&W.Optional)}finally{jn(s)}}return lT(r,0,t)}function hT(n,e,t,r=W.Default,i){if(null!==n){if(1024&e[ie]){const o=function Ij(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[ie]&&!(256&o[ie]);){const a=fT(s,o,t,r|W.Self,Er);if(a!==Er)return a;let u=s.parent;if(!u){const c=o[kb];if(c){const l=c.get(t,Er,r);if(l!==Er)return l}u=mT(o),o=o[Co]}s=u}return i}(n,e,t,r,Er);if(o!==Er)return o}const s=fT(n,e,t,r,Er);if(s!==Er)return s}return dT(e,t,r,i)}function fT(n,e,t,r,i){const s=function _j(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(mu)?n[mu]:void 0;return"number"==typeof e?e>=0?e&aT:wj:e}(t);if("function"==typeof s){if(!Jb(e,n,r))return r&W.Host?lT(i,0,r):dT(e,t,r,i);try{const o=s(r);if(null!=o||r&W.Optional)return o;id()}finally{tT()}}else if("number"==typeof s){let o=null,a=cT(n,e),u=So,c=r&W.Host?e[qt][zt]:null;for((-1===a||r&W.SkipSelf)&&(u=-1===a?nm(n,e):e[a+8],u!==So&&gT(r,!1)?(o=e[P],a=Id(u),e=Cd(u,e)):a=-1);-1!==a;){const l=e[P];if(pT(s,a,l.data)){const d=vj(a,e,t,o,r,c);if(d!==Er)return d}u=e[a+8],u!==So&&gT(r,e[P].data[a+8]===c)&&pT(s,a,e)?(o=l,a=Id(u),e=Cd(u,e)):a=-1}}return i}function vj(n,e,t,r,i,s){const o=e[P],a=o.data[n+8],l=function bd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&tr(f)&&f.type===t)return u}return null}(a,o,t,null==r?wu(a)&&em:r!=o&&0!=(3&a.type),i&W.Host&&s===a);return null!==l?Ds(e,o,l,a):Er}function Ds(n,e,t,r){let i=n[t];const s=e.data;if(function dj(n){return n instanceof Cu}(i)){const o=i;o.resolving&&function fB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${t}`)}(function we(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Z(n)}(s[t]));const a=Ed(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?jn(o.injectImpl):null;Jb(n,r,W.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function cj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Lb(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&jn(u),Ed(a),o.resolving=!1,tT()}}return i}function pT(n,e,t){return!!(t[e+(n>>uT)]&1<<n)}function gT(n,e){return!(n&W.Self||n&W.Host&&e)}class Ao{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return hT(this._tNode,this._lView,e,ud(r),t)}}function wj(){return new Ao(Ot(),D())}function Ft(n){return Qr(()=>{const e=n.prototype.constructor,t=e[Jr]||im(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Jr]||im(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function im(n){return Ng(n)?()=>{const e=im(z(n));return e&&e()}:Cs(n)}function mT(n){const e=n[P],t=e.type;return 2===t?e.declTNode:1===t?n[zt]:null}const Mo="__parameters__";function Ro(n,e,t){return Qr(()=>{const r=function sm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Mo)?u[Mo]:Object.defineProperty(u,Mo,{value:[]})[Mo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class B{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bs(n,e){n.forEach(t=>Array.isArray(t)?bs(t,e):e(t))}function vT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Rn(n,e,t){let r=ko(n,e);return r>=0?n[1|r]=t:(r=~r,function bj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function am(n,e){const t=ko(n,e);if(t>=0)return n[1|t]}function ko(n,e){return function _T(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Su=gu(Ro("Optional"),8),Au=gu(Ro("SkipSelf"),4);var vn=(()=>((vn=vn||{})[vn.Important=1]="Important",vn[vn.DashCase=2]="DashCase",vn))();const fm=new Map;let Wj=0;const gm="__ngContext__";function Wt(n,e){Mn(e)?(n[gm]=e[_u],function Qj(n){fm.set(n[_u],n)}(e)):n[gm]=e}let mm;function ym(n,e){return mm(n,e)}function Ru(n){const e=n[Ke];return er(e)?e[Ke]:e}function vm(n){return UT(n[yu])}function _m(n){return UT(n[Zn])}function UT(n){for(;null!==n&&!er(n);)n=n[Zn];return n}function Oo(n,e,t,r,i){if(null!=r){let s,o=!1;er(r)?s=r:Mn(r)&&(o=!0,r=r[Xr]);const a=Pt(r);0===n&&null!==t?null==i?zT(e,t,a):Ts(e,t,a,i||null,!0):1===n&&null!==t?Ts(e,t,a,i||null,!0):2===n?function Tm(n,e,t){const r=Nd(n,e);r&&function g$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function v$(n,e,t,r,i){const s=t[fd];s!==Pt(t)&&Oo(e,n,r,s,i);for(let a=rn;a<t.length;a++){const u=t[a];ku(u[P],u,n,e,r,s)}}(e,n,s,t,i)}}function Im(n,e,t){return n.createElement(e,t)}function jT(n,e){const t=n[Do],r=t.indexOf(e),i=e[Ke];512&e[ie]&&(e[ie]&=-513,Gg(i,-1)),t.splice(r,1)}function Cm(n,e){if(n.length<=rn)return;const t=rn+e,r=n[t];if(r){const i=r[vu];null!==i&&i!==n&&jT(i,r),e>0&&(n[t-1][Zn]=r[Zn]);const s=Sd(n,rn+e);!function a$(n,e){ku(n,e,e[ae],2,null,null),e[Xr]=null,e[zt]=null}(r[P],r);const o=s[Ir];null!==o&&o.detachView(s[P]),r[Ke]=null,r[Zn]=null,r[ie]&=-65}return r}function $T(n,e){if(!(128&e[ie])){const t=e[ae];t.destroyNode&&ku(n,e,t,3,null,null),function l$(n){let e=n[yu];if(!e)return Em(n[P],n);for(;e;){let t=null;if(Mn(e))t=e[yu];else{const r=e[rn];r&&(t=r)}if(!t){for(;e&&!e[Zn]&&e!==n;)Mn(e)&&Em(e[P],e),e=e[Ke];null===e&&(e=n),Mn(e)&&Em(e[P],e),t=e&&e[Zn]}e=t}}(e)}}function Em(n,e){if(!(128&e[ie])){e[ie]&=-65,e[ie]|=128,function p$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Cu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Gn(4,a,u);try{u.call(a)}finally{Gn(5,a,u)}}else{Gn(4,i,s);try{s.call(i)}finally{Gn(5,i,s)}}}}}(n,e),function f$(n,e){const t=n.cleanup,r=e[Io];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Io]=null}}(n,e),1===e[P].type&&e[ae].destroy();const t=e[vu];if(null!==t&&er(e[Ke])){t!==e[Ke]&&jT(t,e);const r=e[Ir];null!==r&&r.detachView(n)}!function Yj(n){fm.delete(n[_u])}(e)}}function GT(n,e,t){return function HT(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Xr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===_r.None||s===_r.Emulated)return null}return Nn(r,t)}}(n,e.parent,t)}function Ts(n,e,t,r,i){n.insertBefore(e,t,r,i)}function zT(n,e,t){n.appendChild(e,t)}function qT(n,e,t,r,i){null!==r?Ts(n,e,t,r,i):zT(n,e,t)}function Nd(n,e){return n.parentNode(e)}let Dm,xm,Od,QT=function KT(n,e,t){return 40&n.type?Nn(n,t):null};function Rd(n,e,t,r){const i=GT(n,r,e),s=e[ae],a=function WT(n,e,t){return QT(n,e,t)}(r.parent||e[zt],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)qT(s,i,t[u],a,!1);else qT(s,i,t,a,!1);void 0!==Dm&&Dm(s,r,e,t,i)}function kd(n,e){if(null!==e){const t=e.type;if(3&t)return Nn(e,n);if(4&t)return bm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return kd(n,r);{const i=n[e.index];return er(i)?bm(-1,i):Pt(i)}}if(32&t)return ym(e,n)()||Pt(n[e.index]);{const r=JT(n,e);return null!==r?Array.isArray(r)?r[0]:kd(Ru(n[qt]),r):kd(n,e.next)}}return null}function JT(n,e){return null!==e?n[qt][zt].projection[e.projection]:null}function bm(n,e){const t=rn+n+1;if(t<e.length){const r=e[t],i=r[P].firstChild;if(null!==i)return kd(r,i)}return e[fd]}function Sm(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Wt(Pt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Sm(n,e,t.child,r,i,s,!1),Oo(e,n,i,a,s);else if(32&u){const c=ym(t,r);let l;for(;l=c();)Oo(e,n,i,l,s);Oo(e,n,i,a,s)}else 16&u?XT(n,e,r,t,i,s):Oo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function ku(n,e,t,r,i,s){Sm(t,r,n.firstChild,e,i,s,!1)}function XT(n,e,t,r,i,s){const o=t[qt],u=o[zt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Oo(e,n,i,u[c],s);else Sm(n,e,u,o[Ke],i,s,!0)}function ZT(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eS(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Zg(n,e,r),null!==i&&ZT(n,e,i),null!==s&&function w$(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function iS(n){return function Mm(){if(void 0===Od&&(Od=null,Fe.trustedTypes))try{Od=Fe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Od}()?.createScriptURL(n)||n}class sS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ib})`}}function Pi(n){return n instanceof sS?n.changingThisBreaksApplicationSecurity:n}function Pu(n,e){const t=function M$(n){return n instanceof sS&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ib})`)}return t===e}const P$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var lt=(()=>((lt=lt||{})[lt.NONE=0]="NONE",lt[lt.HTML=1]="HTML",lt[lt.STYLE=2]="STYLE",lt[lt.SCRIPT=3]="SCRIPT",lt[lt.URL=4]="URL",lt[lt.RESOURCE_URL=5]="RESOURCE_URL",lt))();function hS(n){const e=Fu();return e?e.sanitize(lt.URL,n)||"":Pu(n,"URL")?Pi(n):function Nm(n){return(n=String(n)).match(P$)?n:"unsafe:"+n}(Z(n))}function fS(n){const e=Fu();if(e)return iS(e.sanitize(lt.RESOURCE_URL,n)||"");if(Pu(n,"ResourceURL"))return iS(Pi(n));throw new S(904,!1)}function Fu(){const n=D();return n&&n[Ug]}const Ld=new B("ENVIRONMENT_INITIALIZER"),gS=new B("INJECTOR",-1),mS=new B("INJECTOR_DEF_TYPES");class yS{get(e,t=fu){if(t===fu){const r=new Error(`NullInjectorError: No provider for ${Me(e)}!`);throw r.name="NullInjectorError",r}return t}}function W$(...n){return{\u0275providers:vS(0,n),\u0275fromNgModule:!0}}function vS(n,...e){const t=[],r=new Set;let i;return bs(e,s=>{const o=s;Om(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&_S(i,t),t}function _S(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Fm(i,s=>{e.push(s)})}}function Om(n,e,t,r){if(!(n=z(n)))return!1;let i=null,s=Eb(n);const o=!s&&Ce(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=Eb(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Om(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{bs(s.imports,l=>{Om(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&_S(c,e)}if(!a){const c=Cs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:_e},{provide:mS,useValue:i,multi:!0},{provide:Ld,useValue:()=>K(i),multi:!0})}const u=s.providers;null==u||a||Fm(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function Fm(n,e){for(let t of n)Rg(t)&&(t=t.\u0275providers),Array.isArray(t)?Fm(t,e):e(t)}const K$=Ae({provide:String,useValue:Ae});function Lm(n){return null!==n&&"object"==typeof n&&K$ in n}function Ss(n){return"function"==typeof n}const Vm=new B("Set Injector scope."),Vd={},Y$={};let Um;function Ud(){return void 0===Um&&(Um=new yS),Um}class ni{}class CS extends ni{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jm(e,o=>this.processProvider(o)),this.records.set(gS,Lo(void 0,this)),i.has("environment")&&this.records.set(ni,Lo(void 0,this));const s=this.records.get(Vm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mS.multi,_e,W.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=_o(this),r=jn(void 0);try{return e()}finally{_o(t),jn(r)}}get(e,t=fu,r=W.Default){this.assertNotDestroyed(),r=ud(r);const i=_o(this),s=jn(void 0);try{if(!(r&W.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function tG(n){return"function"==typeof n||"object"==typeof n&&n instanceof B}(e)&&sd(e);a=u&&this.injectableDefInScope(u)?Lo(Bm(e),Vd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&W.Self?Ud():this.parent).get(e,t=r&W.Optional&&t===fu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ad]=o[ad]||[]).unshift(Me(e)),i)throw o;return function SB(n,e,t,r){const i=n[ad];throw e[Tb]&&i.unshift(e[Tb]),n.message=function AB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==DB?n.slice(2):n;let i=Me(e);if(Array.isArray(e))i=e.map(Me).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(EB,"\n  ")}`}("\n"+n.message,i,t,r),n[CB]=i,n[ad]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{jn(s),_o(i)}}resolveInjectorInitializers(){const e=_o(this),t=jn(void 0);try{const r=this.get(Ld.multi,_e,W.Self);for(const i of r)i()}finally{_o(e),jn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Me(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let t=Ss(e=z(e))?e:z(e&&e.provide);const r=function X$(n){return Lm(n)?Lo(void 0,n.useValue):Lo(ES(n),Vd)}(e);if(Ss(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Lo(void 0,Vd,!0),i.factory=()=>Fg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Vd&&(t.value=Y$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function eG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=z(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Bm(n){const e=sd(n),t=null!==e?e.factory:Cs(n);if(null!==t)return t;if(n instanceof B)throw new S(204,!1);if(n instanceof Function)return function J$(n){const e=n.length;if(e>0)throw function Tu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new S(204,!1);const t=function _B(n){return n&&(n[od]||n[Db])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new S(204,!1)}function ES(n,e,t){let r;if(Ss(n)){const i=z(n);return Cs(i)||Bm(i)}if(Lm(n))r=()=>z(n.useValue);else if(function IS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Fg(n.deps||[]));else if(function wS(n){return!(!n||!n.useExisting)}(n))r=()=>K(z(n.useExisting));else{const i=z(n&&(n.useClass||n.provide));if(!function Z$(n){return!!n.deps}(n))return Cs(i)||Bm(i);r=()=>new i(...Fg(n.deps))}return r}function Lo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jm(n,e){for(const t of n)Array.isArray(t)?jm(t,e):t&&Rg(t)?jm(t.\u0275providers,e):e(t)}class nG{}class DS{}class iG{resolveComponentFactory(e){throw function rG(n){const e=Error(`No component factory found for ${Me(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Lu=(()=>{class n{}return n.NULL=new iG,n})();function sG(){return Vo(Ot(),D())}function Vo(n,e){return new kn(Nn(n,e))}let kn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=sG,n})();class TS{}let ri=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function aG(){const n=D(),t=yn(Ot().index,n);return(Mn(t)?t:n)[ae]}(),n})(),uG=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>null}),n})();class Vu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cG=new Vu("15.2.9"),$m={},Gm="ngOriginalError";function Hm(n){return n[Gm]}class Uo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Hm(e);for(;t&&Hm(t);)t=Hm(t);return t||null}}function ii(n){return n instanceof Function?n():n}function AS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const xS="ng-template";function wG(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==AS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function MS(n){return 4===n.type&&n.value!==xS}function IG(n,e,t){return e===(4!==n.type||t?n.value:xS)}function CG(n,e,t){let r=4;const i=n.attrs||[],s=function bG(n){for(let e=0;e<n.length;e++)if(rT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!IG(n,u,t)||""===u&&1===e.length){if(nr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!wG(n.attrs,c,t)){if(nr(r))return!1;o=!0}continue}const d=EG(8&r?"class":u,i,MS(n),t);if(-1===d){if(nr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==AS(f,c,0)||2&r&&c!==h){if(nr(r))return!1;o=!0}}}}else{if(!o&&!nr(r)&&!nr(u))return!1;if(o&&nr(u))continue;o=!1,r=u|1&r}}return nr(r)||o}function nr(n){return 0==(1&n)}function EG(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function TG(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function NS(n,e,t=!1){for(let r=0;r<e.length;r++)if(CG(n,e[r],t))return!0;return!1}function RS(n,e){return n?":not("+e.trim()+")":e}function AG(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!nr(o)&&(e+=RS(s,i),i=""),r=o,s=s||!nr(r);t++}return""!==i&&(e+=RS(s,i)),e}const te={};function Ee(n){kS(ge(),D(),on()+n,!1)}function kS(n,e,t,r){if(!r)if(3==(3&e[ie])){const s=n.preOrderCheckHooks;null!==s&&_d(e,s,t)}else{const s=n.preOrderHooks;null!==s&&wd(e,s,0,t)}Es(t)}function LS(n,e=null,t=null,r){const i=VS(n,e,t,r);return i.resolveInjectorInitializers(),i}function VS(n,e=null,t=null,r,i=new Set){const s=[t||_e,W$(n)];return r=r||("object"==typeof n?void 0:Me(n)),new CS(s,e||Ud(),r||null,i)}let Dr=(()=>{class n{static create(t,r){if(Array.isArray(t))return LS({name:""},r,t,"");{const i=t.name??"";return LS({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=fu,n.NULL=new yS,n.\u0275prov=q({token:n,providedIn:"any",factory:()=>K(gS)}),n.__NG_ELEMENT_ID__=-1,n})();function E(n,e=W.Default){const t=D();return null===t?K(n,e):hT(Ot(),t,z(n),e)}function qS(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Kg(t[r]),o.contentQueries(2,e[s],s)}}}function jd(n,e,t,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Xr]=i,d[ie]=76|r,(null!==l||n&&1024&n[ie])&&(d[ie]|=1024),Gb(d),d[Ke]=d[Co]=n,d[et]=t,d[hd]=o||n&&n[hd],d[ae]=a||n&&n[ae],d[Ug]=u||n&&n[Ug]||null,d[dd]=c||n&&n[dd]||null,d[zt]=s,d[_u]=function Kj(){return Wj++}(),d[kb]=l,d[qt]=2==e.type?n[qt]:d,d}function $o(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Qm(n,e,t,r,i){const s=qb(),o=Hg(),u=n.data[e]=function e4(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function XB(){return ee.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Iu(){const n=ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Cr(s,!0),s}function Uu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ym(n,e,t){Qg(e);try{const r=n.viewQuery;null!==r&&sy(1,r,t);const i=n.template;null!==i&&WS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qS(n,e),n.staticViewQueries&&sy(2,n.viewQuery,t);const s=n.components;null!==s&&function JG(n,e){for(let t=0;t<e.length;t++)w4(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ie]&=-5,Yg()}}function $d(n,e,t,r){const i=e[ie];if(128!=(128&i)){Qg(e);try{Gb(e),function Kb(n){return ee.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&WS(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&_d(e,c,null)}else{const c=n.preOrderHooks;null!==c&&wd(e,c,0,null),Jg(e,0)}if(function v4(n){for(let e=vm(n);null!==e;e=_m(e)){if(!e[Pb])continue;const t=e[Do];for(let r=0;r<t.length;r++){const i=t[r];512&i[ie]||Gg(i[Ke],1),i[ie]|=512}}}(e),function y4(n){for(let e=vm(n);null!==e;e=_m(e))for(let t=rn;t<e.length;t++){const r=e[t],i=r[P];yd(r)&&$d(i,r,i.template,r[et])}}(e),null!==n.contentQueries&&qS(n,e),o){const c=n.contentCheckHooks;null!==c&&_d(e,c)}else{const c=n.contentHooks;null!==c&&wd(e,c,1),Jg(e,1)}!function QG(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Es(~i);else{const s=i,o=t[++r],a=t[++r];ZB(o,s),a(2,e[s])}}}finally{Es(-1)}}(n,e);const a=n.components;null!==a&&function YG(n,e){for(let t=0;t<e.length;t++)_4(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&sy(2,u,r),o){const c=n.viewCheckHooks;null!==c&&_d(e,c)}else{const c=n.viewHooks;null!==c&&wd(e,c,2),Jg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ie]&=-41,512&e[ie]&&(e[ie]&=-513,Gg(e[Ke],-1))}finally{Yg()}}}function WS(n,e,t,r,i){const s=on(),o=2&r;try{Es(-1),o&&e.length>Le&&kS(n,e,Le,!1),Gn(o?2:0,i),t(r,i)}finally{Es(s),Gn(o?3:1,i)}}function Jm(n,e,t){if(jg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Xm(n,e,t){zb()&&(function a4(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;wu(t)&&function p4(n,e,t){const r=Nn(e,n),i=KS(t),s=n[hd],o=Gd(n,jd(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Dd(t,e),Wt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=Ds(e,n,a,t);Wt(c,e),null!==o&&g4(0,a-i,c,u,0,o),tr(u)&&(yn(t.index,e)[et]=Ds(e,n,a,t))}}(n,e,t,Nn(t,e)),64==(64&t.flags)&&ZS(n,e,t))}function Zm(n,e,t=Nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function KS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ey(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ey(n,e,t,r,i,s,o,a,u,c){const l=Le+r,d=l+i,h=function XG(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:te);return t}(l,d),f="function"==typeof c?c():c;return h[P]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function YS(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?JS(t,e,i,s):r.hasOwnProperty(i)&&JS(t,e,r[i],s)}return t}function JS(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ty(n,e,t,r){if(zb()){const i=null===r?null:{"":-1},s=function c4(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(NS(e,o.selectors,!1))if(r||(r=[]),tr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ny(n,e,a.length)}else r.unshift(o),ny(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&XS(n,e,t,o,i,a),i&&function l4(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Eu(t.mergedAttrs,t.attrs)}function XS(n,e,t,r,i,s){for(let c=0;c<r.length;c++)rm(Dd(t,e),n,r[c].type);!function h4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Uu(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=Eu(t.mergedAttrs,l.hostAttrs),f4(n,t,e,u,l),d4(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function t4(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=t?t.get(d):null,p=h?h.outputs:null;u=YS(d.inputs,l,u,h?h.inputs:null),c=YS(d.outputs,l,c,p);const g=null===u||null===o||MS(e)?null:m4(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function ZS(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function ej(){return ee.lFrame.currentDirectiveIndex}();try{Es(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];qg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&u4(u,c)}}finally{Es(-1),qg(o)}}function u4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ny(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function d4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;tr(e)&&(t[""]=n)}}function f4(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Cs(i.type)),o=new Cu(s,tr(i),E);n.blueprint[r]=o,t[r]=o,function s4(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function o4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Uu(n,t,i.hostVars,te),i)}function br(n,e,t,r,i,s){const o=Nn(n,e);!function ry(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Z(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[ae],o,s,n.value,t,r,i)}function g4(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function m4(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function eA(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function _4(n,e){const t=yn(e,n);if(yd(t)){const r=t[P];48&t[ie]?$d(r,t,r.template,t[et]):t[Is]>0&&iy(t)}}function iy(n){for(let r=vm(n);null!==r;r=_m(r))for(let i=rn;i<r.length;i++){const s=r[i];if(yd(s))if(512&s[ie]){const o=s[P];$d(o,s,o.template,s[et])}else s[Is]>0&&iy(s)}const t=n[P].components;if(null!==t)for(let r=0;r<t.length;r++){const i=yn(t[r],n);yd(i)&&i[Is]>0&&iy(i)}}function w4(n,e){const t=yn(e,n),r=t[P];(function I4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Ym(r,t,t[et])}function Gd(n,e){return n[yu]?n[Rb][Zn]=e:n[yu]=e,n[Rb]=e,e}function Hd(n){for(;n;){n[ie]|=32;const e=Ru(n);if(PB(n)&&!e)return n;n=e}return null}function zd(n,e,t,r=!0){const i=e[hd];i.begin&&i.begin();try{$d(n,e,n.template,t)}catch(o){throw r&&iA(e,o),o}finally{i.end&&i.end()}}function sy(n,e,t){Kg(0),e(n,t)}function tA(n){return n[Io]||(n[Io]=[])}function nA(n){return n.cleanup||(n.cleanup=[])}function iA(n,e){const t=n[dd],r=t?t.get(Uo,null):null;r&&r.handleError(e)}function oy(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function qd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Mg(i,a):2==s&&(r=Mg(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Wd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Pt(s)),er(s))for(let a=rn;a<s.length;a++){const u=s[a],c=u[P].firstChild;null!==c&&Wd(u[P],u,c,r)}const o=t.type;if(8&o)Wd(n,e,t.child,r);else if(32&o){const a=ym(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=JT(e,t);if(Array.isArray(a))r.push(...a);else{const u=Ru(e[qt]);Wd(u[P],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Bu{get rootNodes(){const e=this._lView,t=e[P];return Wd(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[et]}set context(e){this._lView[et]=e}get destroyed(){return 128==(128&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ke];if(er(e)){const t=e[pd],r=t?t.indexOf(this):-1;r>-1&&(Cm(e,r),Sd(t,r))}this._attachedToViewContainer=!1}$T(this._lView[P],this._lView)}onDestroy(e){!function QS(n,e,t,r){const i=tA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&nA(n).push(r,i.length-1))}(this._lView[P],this._lView,null,e)}markForCheck(){Hd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-65}reattach(){this._lView[ie]|=64}detectChanges(){zd(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function c$(n,e){ku(n,e,e[ae],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class C4 extends Bu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;zd(e[P],e,e[et],!1)}checkNoChanges(){}get context(){return null}}class sA extends Lu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ce(e);return new ju(t,this.ngModule)}}function oA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class D4{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ud(r);const i=this.injector.get(e,$m,r);return i!==$m||t===$m?i:this.parentInjector.get(e,t,r)}}class ju extends DS{get inputs(){return oA(this.componentDef.inputs)}get outputs(){return oA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function xG(n){return n.map(AG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof ni?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new D4(e,s):e,a=o.get(TS,null);if(null===a)throw new S(407,!1);const u=o.get(uG,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function ZG(n,e,t){return n.selectRootElement(e,t===_r.ShadowDom)}(c,r,this.componentDef.encapsulation):Im(c,l,function E4(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=ey(0,null,null,1,0,null,null,null,null,null),p=jd(null,f,null,h,null,null,a,c,u,o,null);let g,y;Qg(p);try{const I=this.componentDef;let C,_=null;I.findHostDirectiveDefs?(C=[],_=new Map,I.findHostDirectiveDefs(I,C,_),C.push(I)):C=[I];const N=function T4(n,e){const t=n[P],r=Le;return n[r]=e,$o(t,r,2,"#host",null)}(p,d),j=function S4(n,e,t,r,i,s,o,a){const u=i[P];!function A4(n,e,t,r){for(const i of n)e.mergedAttrs=Eu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(qd(e,e.mergedAttrs,!0),null!==t&&eS(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),l=jd(i,KS(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&ny(u,n,r.length-1),Gd(i,l),i[n.index]=l}(N,d,I,C,p,a,c);y=$b(f,Le),d&&function M4(n,e,t,r){if(r)Zg(n,t,["ng-version",cG.full]);else{const{attrs:i,classes:s}=function MG(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!nr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Zg(n,t,i),s&&s.length>0&&ZT(n,t,s.join(" "))}}(c,I,d,r),void 0!==t&&function N4(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,t),g=function x4(n,e,t,r,i,s){const o=Ot(),a=i[P],u=Nn(o,i);XS(a,i,o,t,null,r);for(let l=0;l<t.length;l++)Wt(Ds(i,a,o.directiveStart+l,o),i);ZS(a,i,o),u&&Wt(u,i);const c=Ds(i,a,o.directiveStart+o.componentOffset,o);if(n[et]=i[et]=c,null!==s)for(const l of s)l(c,e);return Jm(a,o,n),c}(j,I,C,_,p,[R4]),Ym(f,p,null)}finally{Yg()}return new b4(this.componentType,g,Vo(y,p),p,y)}}class b4 extends nG{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new C4(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;oy(s[P],s,i,e,t),Hd(yn(this._tNode.index,s))}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function R4(){const n=Ot();vd(D()[P],n)}function De(n){let e=function aA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(tr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=ay(n.inputs),o.declaredInputs=ay(n.declaredInputs),o.outputs=ay(n.outputs);const a=i.hostBindings;a&&F4(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&P4(n,u),c&&O4(n,c),xg(n.inputs,i.inputs),xg(n.declaredInputs,i.declaredInputs),xg(n.outputs,i.outputs),tr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===De&&(t=!1)}}e=Object.getPrototypeOf(e)}!function k4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Eu(i.hostAttrs,t=Eu(t,i.hostAttrs))}}(r)}function ay(n){return n===Yr?{}:n===_e?[]:n}function P4(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function O4(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function F4(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Kd(n){return!!uy(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function uy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Kt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Sr(n,e,t,r){const i=D();return Kt(i,To(),e)&&(ge(),br(He(),i,n,e,t,r)),Sr}function wn(n,e,t,r,i,s,o,a){const u=D(),c=ge(),l=n+Le,d=c.firstCreatePass?function q4(n,e,t,r,i,s,o,a,u){const c=e.consts,l=$o(e,n,4,o||null,ki(c,a));ty(e,t,l,ki(c,u)),vd(e,l);const d=l.tView=ey(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];Cr(d,!1);const h=u[ae].createComment("");Rd(c,u,h,d),Wt(h,u),Gd(u,u[l]=eA(h,u,h,d)),gd(d)&&Xm(c,u,d),null!=o&&Zm(u,d,a)}function Re(n,e,t){const r=D();return Kt(r,To(),e)&&function Pn(n,e,t,r,i,s,o,a){const u=Nn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(oy(n,t,l,r,i),wu(e)&&function r4(n,e){const t=yn(e,n);16&t[ie]||(t[ie]|=32)}(t,e.index)):3&e.type&&(r=function n4(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ge(),He(),r,n,e,r[ae],t,!1),Re}function cy(n,e,t,r,i){const o=i?"class":"style";oy(n,t,e.inputs[o],o,r)}function F(n,e,t,r){const i=D(),s=ge(),o=Le+n,a=i[ae],u=s.firstCreatePass?function Q4(n,e,t,r,i,s){const o=e.consts,u=$o(e,n,2,r,ki(o,i));return ty(e,t,u,ki(o,s)),null!==u.attrs&&qd(u,u.attrs,!1),null!==u.mergedAttrs&&qd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],c=i[o]=Im(a,e,function uj(){return ee.lFrame.currentNamespace}()),l=gd(u);return Cr(u,!0),eS(a,c,u),32!=(32&u.flags)&&Rd(s,i,c,u),0===function qB(){return ee.lFrame.elementDepthCount}()&&Wt(c,i),function WB(){ee.lFrame.elementDepthCount++}(),l&&(Xm(s,i,u),Jm(s,u,i)),null!==r&&Zm(i,u),F}function L(){let n=Ot();Hg()?function zg(){ee.lFrame.isParent=!1}():(n=n.parent,Cr(n,!1));const e=n;!function KB(){ee.lFrame.elementDepthCount--}();const t=ge();return t.firstCreatePass&&(vd(t,n),jg(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function hj(n){return 0!=(8&n.flags)}(e)&&cy(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function fj(n){return 0!=(16&n.flags)}(e)&&cy(t,e,D(),e.stylesWithoutHost,!1),L}function Ar(n,e,t,r){return F(n,e,t,r),L(),Ar}function rr(){return D()}function Gu(n){return!!n&&"function"==typeof n.then}const hy=function IA(n){return!!n&&"function"==typeof n.subscribe};function he(n,e,t,r){const i=D(),s=ge(),o=Ot();return function EA(n,e,t,r,i,s,o){const a=gd(r),c=n.firstCreatePass&&nA(n),l=e[et],d=tA(e);let h=!0;if(3&r.type||o){const g=Nn(r,e),y=o?o(g):g,I=d.length,C=o?N=>o(Pt(N[r.index])):r.index;let _=null;if(!o&&a&&(_=function J4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Io],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1;else{s=bA(r,e,l,s,!1);const N=t.listen(y,i,s);d.push(s,N),c&&c.push(i,C,I,I+1)}}else s=bA(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const j=e[p[y]][p[y+1]].subscribe(s),H=d.length;d.push(s,j),c&&c.push(i,r.index,H,-(H+1))}}}(s,i,i[ae],o,n,e,r),he}function DA(n,e,t,r){try{return Gn(6,e,t),!1!==t(r)}catch(i){return iA(n,i),!1}finally{Gn(7,e,t)}}function bA(n,e,t,r,i){return function s(o){if(o===Function)return r;Hd(n.componentOffset>-1?yn(n.index,e):e);let u=DA(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)u=DA(e,t,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Se(n=1){return function nj(n){return(ee.lFrame.contextLView=function rj(n,e){for(;n>0;)e=e[Co],n--;return e}(n,ee.lFrame.contextLView))[et]}(n)}function Yd(n,e){return n<<17|e<<2}function Oi(n){return n>>17&32767}function py(n){return 2|n}function xs(n){return(131068&n)>>2}function gy(n,e){return-131069&n|e<<2}function my(n){return 1|n}function OA(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Oi(s):xs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];oH(n[a],e)&&(u=!0,n[a+1]=r?my(l):py(l)),a=r?Oi(l):xs(l)}u&&(n[t+1]=r?py(s):my(s))}function oH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ko(n,e)>=0}function Jd(n,e){return function ir(n,e,t,r){const i=D(),s=ge(),o=function ei(n){const e=ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function HA(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[on()],o=function GA(n,e){return e>=n.expandoStartIndex}(n,t);(function KA(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function gH(n,e,t,r){const i=function Wg(n){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Hu(t=yy(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=yy(i,n,e,t,r),null===s){let u=function mH(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==xs(r))return n[Oi(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=yy(null,n,e,u[1],r),u=Hu(u,e.attrs,r),function yH(n,e,t,r){n[Oi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function vH(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Hu(r,n[s].hostAttrs,t);return Hu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function iH(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Oi(o),u=xs(o);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||ko(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=Oi(n[a+1]);n[r+1]=Yd(h,a),0!==h&&(n[h+1]=gy(n[h+1],r)),n[a+1]=function nH(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Yd(a,0),0!==a&&(n[a+1]=gy(n[a+1],r)),a=r;else n[r+1]=Yd(u,0),0===a?a=r:n[u+1]=gy(n[u+1],r),u=r;c&&(n[r+1]=py(n[r+1])),OA(n,l,r,!0),OA(n,l,r,!1),function sH(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ko(s,e)>=0&&(t[r+1]=my(t[r+1]))}(e,l,n,r,s),o=Yd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==te&&Kt(i,o,e)&&function qA(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function rH(n){return 1==(1&n)}(c)?WA(u,e,t,i,xs(c),o):void 0;Xd(l)||(Xd(s)||function tH(n){return 2==(2&n)}(c)&&(s=WA(u,null,t,i,a,o)),function _$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:vn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=vn.Important),n.setStyle(t,r,i,s))}}(r,o,md(on(),t),i,s))}(s,s.data[on()],i,i[ae],n,i[o+1]=function CH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Me(Pi(n)))),n}(e,t),r,o)}(n,e,null,!0),Jd}function yy(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Hu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Hu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Rn(n,o,!!t||e[++s]))}return void 0===n?null:n}function WA(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===te&&(h=d?_e:void 0);let f=d?am(h,r):l===r?h:void 0;if(c&&!Xd(f)&&(f=am(u,r)),Xd(f)&&(a=f,o))return a;const p=n[i+1];i=o?Oi(p):xs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=am(u,r))}return a}function Xd(n){return void 0!==n}function se(n,e=""){const t=D(),r=ge(),i=n+Le,s=r.firstCreatePass?$o(r,i,1,e,null):r.data[i],o=t[i]=function wm(n,e){return n.createText(e)}(t[ae],e);Rd(r,t,o,s),Cr(s,!1)}function oi(n){return Zd("",n,""),oi}function Zd(n,e,t){const r=D(),i=function Ho(n,e,t,r){return Kt(n,To(),t)?e+Z(t)+r:te}(r,n,e,t);return i!==te&&function si(n,e,t){const r=md(e,n);!function BT(n,e,t){n.setValue(e,t)}(n[ae],r,t)}(r,on(),i),Zd}const ea="en-US";let mx=ea;function wy(n,e,t,r,i){if(n=z(n),Array.isArray(n))for(let s=0;s<n.length;s++)wy(n[s],e,t,r,i);else{const s=ge(),o=D();let a=Ss(n)?n:z(n.provide),u=ES(n);const c=Ot(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ss(n)||!n.multi){const f=new Cu(u,i,E),p=Cy(a,e,i?l:l+h,d);-1===p?(rm(Dd(c,o),s,a),Iy(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Cy(a,e,l+h,d),p=Cy(a,e,l,l+h),y=p>=0&&t[p];if(i&&!y||!i&&!(f>=0&&t[f])){rm(Dd(c,o),s,a);const I=function B3(n,e,t,r,i){const s=new Cu(n,t,E);return s.multi=[],s.index=e,s.componentProviders=0,jx(s,i,r&&!t),s}(i?U3:V3,t.length,i,r,u);!i&&y&&(t[p].providerFactory=I),Iy(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),o.push(I)}else Iy(s,n,f>-1?f:p,jx(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function Iy(n,e,t,r){const i=Ss(e),s=function Q$(n){return!!n.useClass}(e);if(i||s){const u=(s?z(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function jx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Cy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function V3(n,e,t,r){return Ey(this.multi,[])}function U3(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ds(t,t[P],this.providerFactory.index,r);s=a.slice(0,o),Ey(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ey(i,s);return s}function Ey(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function $e(n,e=[]){return t=>{t.providersResolver=(r,i)=>function L3(n,e,t){const r=ge();if(r.firstCreatePass){const i=tr(n);wy(t,r.data,r.blueprint,i,!0),wy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ta{}class $x{}class Gx extends ta{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sA(this);const r=xn(e);this._bootstrapComponents=ii(r.bootstrap),this._r3Injector=VS(e,t,[{provide:ta,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],Me(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dy extends $x{constructor(e){super(),this.moduleType=e}create(e){return new Gx(this.moduleType,e)}}class $3 extends ta{constructor(e,t,r){super(),this.componentFactoryResolver=new sA(this),this.instance=null;const i=new CS([...e,{provide:ta,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],t||Ud(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ih(n,e,t=null){return new $3(n,e,t).injector}let G3=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=vS(0,t.type),i=r.length>0?ih([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(K(ni))}),n})();function Hx(n){n.getStandaloneInjector=e=>e.get(G3).getOrCreateStandaloneInjector(n)}function Ty(n,e,t,r){return function Jx(n,e,t,r,i,s){const o=e+t;return Kt(n,o,i)?function Tr(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function Yu(n,e){const t=n[e];return t===te?void 0:t}(n,o+1)}(D(),function sn(){const n=ee.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function Sy(n){return e=>{setTimeout(n,void 0,e)}}const ke=class pz extends Wr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Sy(s),i&&(i=Sy(i)),o&&(o=Sy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Tn&&e.add(a),a}};let ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=vz,n})();const mz=ai,yz=class extends mz{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=jd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[vu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Ir];return null!==o&&(i[Ir]=o.createEmbeddedView(r)),Ym(r,i,e),new Bu(i)}};function vz(){return function sh(n,e){return 4&n.type?new yz(e,n,Vo(n,e)):null}(Ot(),D())}let or=(()=>{class n{}return n.__NG_ELEMENT_ID__=_z,n})();function _z(){return function iM(n,e){let t;const r=e[n.index];if(er(r))t=r;else{let i;if(8&n.type)i=Pt(r);else{const s=e[ae];i=s.createComment("");const o=Nn(n,e);Ts(s,Nd(s,o),i,function m$(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=eA(r,e,i,n),Gd(e,t)}return new nM(t,n,e)}(Ot(),D())}const wz=or,nM=class extends wz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const e=nm(this._hostTNode,this._hostLView);if(oT(e)){const t=Cd(e,this._hostLView),r=Id(e);return new Ao(t[P].data[r+8],t)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=rM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-rn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function bu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new ju(Ce(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(ni,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[P];if(function zB(n){return er(n[Ke])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Ke],h=new nM(d,d[zt],d[Ke]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function d$(n,e,t,r){const i=rn+r,s=t.length;r>0&&(t[i-1][Zn]=e),r<s-rn?(e[Zn]=t[i],vT(t,rn+r,e)):(t.push(e),e[Zn]=null),e[Ke]=t;const o=e[vu];null!==o&&t!==o&&function h$(n,e){const t=n[Do];e[qt]!==e[Ke][Ke][qt]&&(n[Pb]=!0),null===t?n[Do]=[e]:t.push(e)}(o,e);const a=e[Ir];null!==a&&a.insertView(n),e[ie]|=64}(i,r,o,s);const a=bm(s,o),u=r[ae],c=Nd(u,o[fd]);return null!==c&&function u$(n,e,t,r,i,s){r[Xr]=i,r[zt]=e,ku(n,r,t,1,i,s)}(i,o[zt],u,r,c,a),e.attachToViewContainerRef(),vT(xy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=rM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Cm(this._lContainer,t);r&&(Sd(xy(this._lContainer),t),$T(r[P],r))}detach(e){const t=this._adjustIndex(e,-1),r=Cm(this._lContainer,t);return r&&null!=Sd(xy(this._lContainer),t)?new Bu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function rM(n){return n[pd]}function xy(n){return n[pd]||(n[pd]=[])}function ah(...n){}const uh=new B("Application Initializer");let ch=(()=>{class n{constructor(t){this.appInits=t,this.resolve=ah,this.reject=ah,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Gu(s))t.push(s);else if(hy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(K(uh,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zu=new B("AppId",{providedIn:"root",factory:function MM(){return`${By()}${By()}${By()}`}});function By(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NM=new B("Platform Initializer"),RM=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Kz=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ui=new B("LocaleId",{providedIn:"root",factory:()=>de(ui,W.Optional|W.SkipSelf)||function Qz(){return typeof $localize<"u"&&$localize.locale||ea}()});class Jz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let kM=(()=>{class n{compileModuleSync(t){return new Dy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ii(xn(t).declarations).reduce((o,a)=>{const u=Ce(a);return u&&o.push(new ju(u)),o},[]);return new Jz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eq=(()=>Promise.resolve(0))();function jy(n){typeof Zone>"u"?eq.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function tq(){let n=Fe.requestAnimationFrame,e=Fe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function iq(n){const e=()=>{!function rq(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Fe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Gy(n),n.isCheckStableRunning=!0,$y(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Gy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return FM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),LM(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return FM(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),LM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Gy(n),$y(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tt.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(tt.isInAngularZone())throw new S(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,nq,ah,ah);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const nq={};function $y(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Gy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function FM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LM(n){n._nesting--,$y(n)}class sq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const VM=new B(""),lh=new B("");let qy,Hy=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qy||(function oq(n){qy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tt.assertNotInAngularZone(),jy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(K(tt),K(zy),K(lh))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),zy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return qy?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ci=!1;let Fi=null;const UM=new B("AllowMultipleToken"),Wy=new B("PlatformDestroyListeners"),BM=new B("appBootstrapListener");class jM{constructor(e,t){this.name=e,this.token=t}}function GM(n,e,t=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=Ky();if(!o||o.injector.get(UM,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function cq(n){if(Fi&&!Fi.get(UM,!1))throw new S(400,!1);Fi=n;const e=n.get(zM);(function $M(n){const e=n.get(NM,null);e&&e.forEach(t=>t())})(n)}(function HM(n=[],e){return Dr.create({name:e,providers:[{provide:Vm,useValue:"platform"},{provide:Wy,useValue:new Set([()=>Fi=null])},...n]})}(a,r))}return function dq(n){const e=Ky();if(!e)throw new S(401,!1);return e}()}}function Ky(){return Fi?.get(zM)??null}let zM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function WM(n,e){let t;return t="noop"===n?new sq:("zone.js"===n?void 0:n)||new tt(e),t}(r?.ngZone,function qM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:tt,useValue:i}];return i.run(()=>{const o=Dr.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(Uo,null);if(!u)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{hh(this._modules,a),c.unsubscribe()})}),function KM(n,e,t){try{const r=t();return Gu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(ch);return c.runInitializers(),c.donePromise.then(()=>(function yx(n){Bn(n,"Expected localeId to be defined"),"string"==typeof n&&(mx=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ui,ea)||ea),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=QM({},r);return function aq(n,e,t){const r=new Dy(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(dh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new S(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Wy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(K(Dr))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function QM(n,e){return Array.isArray(e)?e.reduce(QM,n):{...n,...e}}let dh=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ze(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),jy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function lB(...n){const e=hu(n),t=function rB(n,e){return"number"==typeof Sg(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Sn(r[0]):vo(t)(ct(r,e)):yr}(s,o.pipe(function dB(n={}){const{connector:e=(()=>new Wr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return mt((g,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Ag(p,i))}),I.subscribe(y),!o&&c>0&&(o=new du({next:C=>I.next(C),error:C=>{d=!0,h(),a=Ag(f,t,C),I.error(C)},complete:()=>{l=!0,h(),a=Ag(f,r),I.complete()}}),Sn(g).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof DS;if(!this._injector.get(ch).done){!i&&function wo(n){const e=Ce(n)||Ht(n)||mn(n);return null!==e&&e.standalone}(t);throw new S(405,ci)}let o;o=i?t:this._injector.get(Lu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function uq(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ta),c=o.create(Dr.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(VM,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),hh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;hh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(BM,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(K(tt),K(ni),K(Uo))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let fh=(()=>{class n{}return n.__NG_ELEMENT_ID__=fq,n})();function fq(n){return function pq(n,e,t){if(wu(n)&&!t){const r=yn(n.index,e);return new Bu(r,r)}return 47&n.type?new Bu(e[qt],e):null}(Ot(),D(),16==(16&n))}class e1{constructor(){}supports(e){return Kd(e)}create(e){return new wq(e)}}const _q=(n,e)=>e;class wq{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_q}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<n1(r,i,s)?t:r,a=n1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Kd(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function G4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Iq(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new t1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new t1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Iq{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cq{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class t1{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Cq,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function n1(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class r1{constructor(){}supports(e){return e instanceof Map||uy(e)}create(){return new Eq}}class Eq{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||uy(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Dq(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Dq{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function i1(){return new mh([new e1])}let mh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||i1()),deps:[[n,new Au,new Su]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new S(901,!1)}}return n.\u0275prov=q({token:n,providedIn:"root",factory:i1}),n})();function s1(){return new ec([new r1])}let ec=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||s1()),deps:[[n,new Au,new Su]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new S(901,!1)}}return n.\u0275prov=q({token:n,providedIn:"root",factory:s1}),n})();const Sq=GM(null,"core",[]);let Aq=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(K(dh))},n.\u0275mod=wr({type:n}),n.\u0275inj=Xn({}),n})();function ia(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Zy=null;function li(){return Zy}class Nq{}const In=new B("DocumentToken");let ev=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return function Rq(){return K(o1)}()},providedIn:"platform"}),n})();const kq=new B("Location Initialized");let o1=(()=>{class n extends ev{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return li().getBaseHref(this._doc)}onPopState(t){const r=li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){a1()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){a1()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(K(In))},n.\u0275prov=q({token:n,factory:function(){return function Pq(){return new o1(K(In))}()},providedIn:"platform"}),n})();function a1(){return!!window.history.pushState}function tv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function u1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function di(n){return n&&"?"!==n[0]?"?"+n:n}let Rs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return de(l1)},providedIn:"root"}),n})();const c1=new B("appBaseHref");let l1=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??de(In).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return tv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(K(ev),K(c1,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oq=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=tv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(K(ev),K(c1,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),nv=(()=>{class n{constructor(t){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Vq(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(u1(d1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+di(r))}normalize(t){return n.stripTrailingSlash(function Lq(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,d1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=di,n.joinWithSlash=tv,n.stripTrailingSlash=u1,n.\u0275fac=function(t){return new(t||n)(K(Rs))},n.\u0275prov=q({token:n,factory:function(){return function Fq(){return new nv(K(Rs))}()},providedIn:"root"}),n})();function d1(n){return n.replace(/\/index.html$/,"")}const hv=/\s+/,w1=[];let fv=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=w1,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(hv):w1}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(hv):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(hv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(E(mh),E(ec),E(kn),E(ri))},n.\u0275dir=Y({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class E5{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new E5(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),E1(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{E1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(or),E(ai),E(mh))},n.\u0275dir=Y({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function E1(n,e){n.context.$implicit=e.item}let ic=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new b5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(or),E(ai))},n.\u0275dir=Y({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class b5{constructor(){this.$implicit=null,this.ngIf=null}}function D1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Me(e)}'.`)}let Y5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=wr({type:n}),n.\u0275inj=Xn({}),n})();let A1=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>new e9(K(In),window)}),n})();class e9{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function t9(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=x1(this.window.history)||x1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function x1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class x9 extends Nq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wv extends x9{static makeCurrent(){!function Mq(n){Zy||(Zy=n)}(new wv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function M9(){return oc=oc||document.querySelector("base"),oc?oc.getAttribute("href"):null}();return null==t?null:function N9(n){Ah=Ah||document.createElement("a"),Ah.setAttribute("href",n);const e=Ah.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){oc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function I5(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ah,oc=null;const P1=new B("TRANSITION_ID"),k9=[{provide:uh,useFactory:function R9(n,e,t){return()=>{t.get(ch).donePromise.then(()=>{const r=li(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[P1,In,Dr],multi:!0}];let O9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const xh=new B("EventManagerPlugins");let Mh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(K(xh),K(tt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class O1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=li().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let F1=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),ac=(()=>{class n extends F1{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(K(In))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const Iv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cv=/%COMP%/g,U1=new B("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function B1(n,e){return e.flat(100).map(t=>t.replace(Cv,n))}function j1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ev=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Dv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof H1?i.applyToHost(t):i instanceof bv&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case _r.Emulated:s=new H1(o,a,r,this.appId,u);break;case _r.ShadowDom:return new $9(o,a,t,r);default:s=new bv(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(K(Mh),K(ac),K(Zu),K(U1))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class Dv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Iv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(G1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(G1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Iv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Iv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vn.DashCase|vn.Important)?e.style.setProperty(t,r,i&vn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,j1(r)):this.eventManager.addEventListener(e,t,j1(r))}}function G1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $9 extends Dv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=B1(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bv extends Dv{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=B1(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class H1 extends bv{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function U9(n){return"_ngcontent-%COMP%".replace(Cv,n)}(o),this.hostAttr=function B9(n){return"_nghost-%COMP%".replace(Cv,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let G9=(()=>{class n extends O1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(K(In))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const z1=["alt","control","meta","shift"],H9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let q9=(()=>{class n extends O1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>li().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),z1.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=H9[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),z1.forEach(o=>{o!==i&&(0,z9[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(K(In))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const W1=[{provide:RM,useValue:"browser"},{provide:NM,useValue:function W9(){wv.makeCurrent()},multi:!0},{provide:In,useFactory:function Q9(){return function D$(n){xm=n}(document),document},deps:[]}],Y9=GM(Sq,"browser",W1),K1=new B(""),Q1=[{provide:lh,useClass:class P9{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements(),Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(r=>{const i=Fe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?li().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:VM,useClass:Hy,deps:[tt,zy,lh]},{provide:Hy,useClass:Hy,deps:[tt,zy,lh]}],Y1=[{provide:Vm,useValue:"root"},{provide:Uo,useFactory:function K9(){return new Uo},deps:[]},{provide:xh,useClass:G9,multi:!0,deps:[In,tt,RM]},{provide:xh,useClass:q9,multi:!0,deps:[In]},{provide:Ev,useClass:Ev,deps:[Mh,ac,Zu,U1]},{provide:TS,useExisting:Ev},{provide:F1,useExisting:ac},{provide:ac,useClass:ac,deps:[In]},{provide:Mh,useClass:Mh,deps:[xh,tt]},{provide:class n9{},useClass:O9,deps:[]},[]];let J9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Zu,useValue:t.appId},{provide:P1,useExisting:Zu},k9]}}}return n.\u0275fac=function(t){return new(t||n)(K(K1,12))},n.\u0275mod=wr({type:n}),n.\u0275inj=Xn({providers:[...Y1,...Q1],imports:[Y5,Aq]}),n})(),J1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(K(In))},n.\u0275prov=q({token:n,factory:function(t){let r=null;return r=t?new t:function Z9(){return new J1(K(In))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:s6}=Array,{getPrototypeOf:o6,prototype:a6,keys:u6}=Object;function eN(n){if(1===n.length){const e=n[0];if(s6(e))return{args:e,keys:null};if(function c6(n){return n&&"object"==typeof n&&o6(n)===a6}(e)){const t=u6(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:l6}=Array;function tN(n){return le(e=>function d6(n,e){return l6(e)?n(...e):n(e)}(n,e))}function nN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let rN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(E(ri),E(kn))},n.\u0275dir=Y({type:n}),n})(),ks=(()=>{class n extends rN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(n)))(r||n)}}(),n.\u0275dir=Y({type:n,features:[De]}),n})();const Nr=new B("NgValueAccessor"),p6={provide:Nr,useExisting:Ne(()=>uc),multi:!0},m6=new B("CompositionEventMode");let uc=(()=>{class n extends rN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function g6(){const n=li()?li().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(E(ri),E(kn),E(m6,8))},n.\u0275dir=Y({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&he("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$e([p6]),De]}),n})();const y6=!1,Qt=new B("NgValidators"),Ui=new B("NgAsyncValidators");function pN(n){return null!=n}function gN(n){const e=Gu(n)?ct(n):n;if(y6&&!hy(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new S(-1101,t)}return e}function mN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function yN(n,e){return e.map(t=>t(n))}function vN(n){return n.map(e=>function _6(n){return!n.validate}(e)?e:t=>e.validate(t))}function Av(n){return null!=n?function _N(n){if(!n)return null;const e=n.filter(pN);return 0==e.length?null:function(t){return mN(yN(t,e))}}(vN(n)):null}function xv(n){return null!=n?function wN(n){if(!n)return null;const e=n.filter(pN);return 0==e.length?null:function(t){return function h6(...n){const e=yb(n),{args:t,keys:r}=eN(n),i=new Ze(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Sn(t[l]).subscribe(ut(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?nN(r,a):a),s.complete())}))}});return e?i.pipe(tN(e)):i}(yN(t,e).map(gN)).pipe(le(mN))}}(vN(n)):null}function IN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Mv(n){return n?Array.isArray(n)?n:[n]:[]}function Rh(n,e){return Array.isArray(n)?n.includes(e):n===e}function DN(n,e){const t=Mv(e);return Mv(n).forEach(i=>{Rh(t,i)||t.push(i)}),t}function bN(n,e){return Mv(e).filter(t=>!Rh(n,t))}class TN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Av(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class cn extends TN{get formDirective(){return null}get path(){return null}}class Bi extends TN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class SN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nv=(()=>{class n extends SN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Bi,2))},n.\u0275dir=Y({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Jd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[De]}),n})();const cc="VALID",Ph="INVALID",sa="PENDING",lc="DISABLED";function Oh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class NN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cc}get invalid(){return this.status===Ph}get pending(){return this.status==sa}get disabled(){return this.status===lc}get enabled(){return this.status!==lc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bN(e,this._rawAsyncValidators))}hasValidator(e){return Rh(this._rawValidators,e)}hasAsyncValidator(e){return Rh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cc||this.status===sa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lc:cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator=!0;const t=gN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?lc:this.errors?Ph:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(Ph)?Ph:cc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Oh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function S6(n){return Array.isArray(n)?Av(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function A6(n){return Array.isArray(n)?xv(n):n||null}(this._rawAsyncValidators)}}const oa=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Fh}),Fh="always";function dc(n,e,t=Fh){(function Vv(n,e){const t=function CN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(IN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function EN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(IN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Uh(e._rawValidators,i),Uh(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function N6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&RN(n,e)})}(n,e),function k6(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function R6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&RN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function M6(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Uh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function RN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ON(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function FN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const LN=class extends NN{constructor(e=null,t,r){super(function Ov(n){return(Oh(n)?n.validators:n)||null}(t),function Fv(n,e){return(Oh(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Oh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=FN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ON(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ON(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){FN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},j6={provide:Bi,useExisting:Ne(()=>jh)},BN=(()=>Promise.resolve())();let jh=(()=>{class n extends Bi{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new LN,this._registered=!1,this.update=new ke,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function jv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===uc?t=s:function F6(n){return Object.getPrototypeOf(n.constructor)===ks}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Bv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){BN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&ia(r);BN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Lh(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(E(cn,9),E(Qt,10),E(Ui,10),E(Nr,10),E(fh,8),E(oa,8))},n.\u0275dir=Y({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([j6]),De,$n]}),n})(),$N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=wr({type:n}),n.\u0275inj=Xn({}),n})();const X6={provide:Nr,useExisting:Ne(()=>$h),multi:!0};function QN(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let $h=(()=>{class n extends ks{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=QN(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Z6(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(n)))(r||n)}}(),n.\u0275dir=Y({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&he("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$e([X6]),De]}),n})(),YN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(QN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(E(kn),E(ri),E($h,9))},n.\u0275dir=Y({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const e8={provide:Nr,useExisting:Ne(()=>qv),multi:!0};function JN(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let qv=(()=>{class n extends ks{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function t8(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(n)))(r||n)}}(),n.\u0275dir=Y({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&he("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$e([e8]),De]}),n})(),XN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(JN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(JN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(E(kn),E(ri),E(qv,9))},n.\u0275dir=Y({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),l8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=wr({type:n}),n.\u0275inj=Xn({imports:[$N]}),n})(),h8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:oa,useValue:t.callSetDisabledState??Fh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=wr({type:n}),n.\u0275inj=Xn({imports:[l8]}),n})();function G(...n){return ct(n,hu(n))}class lr extends Wr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Gh=lu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function uR(...n){const e=hu(n),t=yb(n),{args:r,keys:i}=eN(n);if(0===r.length)return ct([],e);const s=new Ze(function f8(n,e,t=ws){return r=>{cR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)cR(e,()=>{const c=ct(n[u],e);let l=!1;c.subscribe(ut(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>nN(i,o):ws));return t?s.pipe(tN(t)):s}function cR(n,e,t){n?Kr(t,n,e):e()}function Hh(...n){return function p8(){return vo(1)}()(ct(n,hu(n)))}function lR(n){return new Ze(e=>{Sn(n()).subscribe(e)})}function fc(n,e){const t=xe(n)?n:()=>n,r=i=>i.error(t());return new Ze(e?i=>e.schedule(r,0,i):r)}function Kv(){return mt((n,e)=>{let t=null;n._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class dR extends Ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,tb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tn;const t=this.getSubject();e.add(this.source.subscribe(ut(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tn.EMPTY)}return e}refCount(){return Kv()(this)}}function Rr(n,e){return mt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ut(r,u=>{i?.unsubscribe();let c=0;const l=s++;Sn(n(u,l)).subscribe(i=ut(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ji(n){return n<=0?()=>yr:mt((e,t)=>{let r=0;e.subscribe(ut(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fi(n,e){return mt((t,r)=>{let i=0;t.subscribe(ut(r,s=>n.call(e,s,i++)&&r.next(s)))})}function zh(n){return mt((e,t)=>{let r=!1;e.subscribe(ut(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function hR(n=m8){return mt((e,t)=>{let r=!1;e.subscribe(ut(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function m8(){return new Gh}function $i(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,s)=>n(i,s,r)):ws,ji(1),t?zh(e):hR(()=>new Gh))}function Os(n,e){return xe(e)?Dt(n,e,1):Dt(n,1)}function Yt(n,e,t){const r=xe(n)||e||t?{next:n,error:e,complete:t}:n;return r?mt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ut(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ws}function Gi(n){return mt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ut(t,void 0,void 0,o=>{s=Sn(n(o,Gi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function fR(n,e){return mt(function y8(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(ut(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function Qv(n){return n<=0?()=>yr:mt((e,t)=>{let r=[];e.subscribe(ut(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function pR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,s)=>n(i,s,r)):ws,Qv(1),t?zh(e):hR(()=>new Gh))}function gR(n){return le(()=>n)}function Yv(n){return mt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ne="primary",pc=Symbol("RouteTitle");class _8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function aa(n){return new _8(n)}function w8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function kr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!mR(n[i],e[i]))return!1;return!0}function mR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function yR(n){return Array.prototype.concat.apply([],n)}function vR(n){return n.length>0?n[n.length-1]:null}function Lt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Hi(n){return hy(n)?n:Gu(n)?ct(Promise.resolve(n)):G(n)}const qh=!1,C8={exact:function IR(n,e,t){if(!Fs(n.segments,e.segments)||!Wh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!IR(n.children[r],e.children[r],t))return!1;return!0},subset:CR},_R={exact:function E8(n,e){return kr(n,e)},subset:function D8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mR(n[t],e[t]))},ignored:()=>!0};function wR(n,e,t){return C8[t.paths](n.root,e.root,t.matrixParams)&&_R[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function CR(n,e,t){return ER(n,e,e.segments,t)}function ER(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Fs(i,t)||e.hasChildren()||!Wh(i,t,r))}if(n.segments.length===t.length){if(!Fs(n.segments,t)||!Wh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!CR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Fs(n.segments,i)&&Wh(n.segments,i,r)&&n.children[ne])&&ER(n.children[ne],e,s,r)}}function Wh(n,e,t){return e.every((r,i)=>_R[t](n[i].parameters,r.parameters))}class zi{constructor(e=new ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=aa(this.queryParams)),this._queryParamMap}toString(){return S8.serialize(this)}}class ue{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Lt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kh(this)}}class gc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=aa(this.parameters)),this._parameterMap}toString(){return TR(this)}}function Fs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let mc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return new Jv},providedIn:"root"}),n})();class Jv{parse(e){const t=new F8(e);return new zi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${yc(e.root,!0)}`,r=function M8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Qh(t)}=${Qh(i)}`).join("&"):`${Qh(t)}=${Qh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function A8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const S8=new Jv;function Kh(n){return n.segments.map(e=>TR(e)).join("/")}function yc(n,e){if(!n.hasChildren())return Kh(n);if(e){const t=n.children[ne]?yc(n.children[ne],!1):"",r=[];return Lt(n.children,(i,s)=>{s!==ne&&r.push(`${s}:${yc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function T8(n,e){let t=[];return Lt(n.children,(r,i)=>{i===ne&&(t=t.concat(e(r,i)))}),Lt(n.children,(r,i)=>{i!==ne&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ne?[yc(n.children[ne],!1)]:[`${i}:${yc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ne]?`${Kh(n)}/${t[0]}`:`${Kh(n)}/(${t.join("//")})`}}function DR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qh(n){return DR(n).replace(/%3B/gi,";")}function Xv(n){return DR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yh(n){return decodeURIComponent(n)}function bR(n){return Yh(n.replace(/\+/g,"%20"))}function TR(n){return`${Xv(n.path)}${function x8(n){return Object.keys(n).map(e=>`;${Xv(e)}=${Xv(n[e])}`).join("")}(n.parameters)}`}const N8=/^[^\/()?;=#]+/;function Jh(n){const e=n.match(N8);return e?e[0]:""}const R8=/^[^=?&#]+/,P8=/^[^&#]+/;class F8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new ue(e,t)),r}parseSegment(){const e=Jh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,qh);return this.capture(e),new gc(Yh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Jh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Jh(this.remaining);i&&(r=i,this.capture(r))}e[Yh(t)]=Yh(r)}parseQueryParam(e){const t=function k8(n){const e=n.match(R8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function O8(n){const e=n.match(P8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=bR(t),s=bR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Jh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,qh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ne]:new ue([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,qh)}}function Zv(n){return n.segments.length>0?new ue([],{[ne]:n}):n}function Xh(n){const e={};for(const r of Object.keys(n.children)){const s=Xh(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function L8(n){if(1===n.numberOfChildren&&n.children[ne]){const e=n.children[ne];return new ue(n.segments.concat(e.segments),e.children)}return n}(new ue(n.segments,e))}function Ls(n){return n instanceof zi}const e_=!1;function V8(n,e,t,r,i){if(0===t.length)return ua(e.root,e.root,e.root,r,i);const s=function NR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new MR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Lt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new MR(t,e,r)}(t);return s.toRoot()?ua(e.root,e.root,new ue([],{}),r,i):function o(u){const c=function B8(n,e,t,r){if(n.isAbsolute)return new ca(e.root,!0,0);if(-1===r)return new ca(t,t===e.root,0);return function RR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,e_&&"Invalid number of '../'");i=r.segments.length}return new ca(r,!1,i-s)}(t,r+(vc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),l=c.processChildren?la(c.segmentGroup,c.index,s.commands):t_(c.segmentGroup,c.index,s.commands);return ua(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function vc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _c(n){return"object"==typeof n&&null!=n&&n.outlets}function ua(n,e,t,r,i){let o,s={};r&&Lt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=n===e?t:xR(n,e,t);const a=Zv(Xh(o));return new zi(a,s,i)}function xR(n,e,t){const r={};return Lt(n.children,(i,s)=>{r[s]=i===e?t:xR(i,e,t)}),new ue(n.segments,r)}class MR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vc(r[0]))throw new S(4003,e_&&"Root segment cannot have matrix parameters");const i=r.find(_c);if(i&&i!==vR(r))throw new S(4004,e_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ca{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function t_(n,e,t){if(n||(n=new ue([],{})),0===n.segments.length&&n.hasChildren())return la(n,e,t);const r=function $8(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(_c(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!PR(u,c,o))return s;r+=2}else{if(!PR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ue(n.segments.slice(0,r.pathIndex),{});return s.children[ne]=new ue(n.segments.slice(r.pathIndex),n.children),la(s,0,i)}return r.match&&0===i.length?new ue(n.segments,{}):r.match&&!n.hasChildren()?n_(n,e,t):r.match?la(n,0,i):n_(n,e,t)}function la(n,e,t){if(0===t.length)return new ue(n.segments,{});{const r=function j8(n){return _c(n[0])?n[0].outlets:{[ne]:n}}(t),i={};if(!r[ne]&&n.children[ne]&&1===n.numberOfChildren&&0===n.children[ne].segments.length){const s=la(n.children[ne],e,t);return new ue(n.segments,s.children)}return Lt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=t_(n.children[o],e,s))}),Lt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ue(n.segments,i)}}function n_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(_c(s)){const u=G8(s.outlets);return new ue(r,u)}if(0===i&&vc(t[0])){r.push(new gc(n.segments[e].path,kR(t[0]))),i++;continue}const o=_c(s)?s.outlets[ne]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&vc(a)?(r.push(new gc(o,kR(a))),i+=2):(r.push(new gc(o,{})),i++)}return new ue(r,{})}function G8(n){const e={};return Lt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=n_(new ue([],{}),0,t))}),e}function kR(n){const e={};return Lt(n,(t,r)=>e[r]=`${t}`),e}function PR(n,e,t){return n==t.path&&kr(e,t.parameters)}const wc="imperative";class Pr{constructor(e,t){this.id=e,this.url=t}}class r_ extends Pr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qi extends Pr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zh extends Pr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ef extends Pr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class i_ extends Pr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H8 extends Pr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z8 extends Pr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q8 extends Pr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class W8 extends Pr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K8 extends Pr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Y8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class J8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let r7=(()=>{class n{createUrlTree(t,r,i,s,o,a){return V8(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),s7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(e){return r7.\u0275fac(e)},providedIn:"root"}),n})();class OR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=o_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=o_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=a_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return a_(e,this._root).map(t=>t.value)}}function o_(n,e){if(n===e.value)return e;for(const t of e.children){const r=o_(n,t);if(r)return r}return null}function a_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=a_(n,t);if(r.length)return r.unshift(e),r}return[]}class pi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function da(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class FR extends OR{constructor(e,t){super(e),this.snapshot=t,u_(this,e)}toString(){return this.snapshot.toString()}}function LR(n,e){const t=function o7(n,e){const o=new tf([],{},{},"",{},ne,e,null,n.root,-1,{});return new UR("",new pi(o,[]))}(n,e),r=new lr([new gc("",{})]),i=new lr({}),s=new lr({}),o=new lr({}),a=new lr(""),u=new ha(r,i,o,a,s,ne,e,t.root);return u.snapshot=t.root,new FR(new pi(u,[]),t)}class ha{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(le(c=>c[pc]))??G(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(e=>aa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(e=>aa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function a7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tf{get title(){return this.data?.[pc]}constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=aa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=aa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UR extends OR{constructor(e,t){super(t),this.url=e,u_(this,t)}toString(){return BR(this._root)}}function u_(n,e){e.value._routerState=n,e.children.forEach(t=>u_(n,t))}function BR(n){const e=n.children.length>0?` { ${n.children.map(BR).join(", ")} } `:"";return`${n.value}${e}`}function c_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,kr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),kr(e.params,t.params)||n.params.next(t.params),function I8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!kr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),kr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function l_(n,e){const t=kr(n.params,e.params)&&function b8(n,e){return Fs(n,e)&&n.every((t,r)=>kr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||l_(n.parent,e.parent))}function Ic(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function c7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ic(n,r,i);return Ic(n,r)})}(n,e,t);return new pi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ic(n,a)),o}}const r=function l7(n){return new ha(new lr(n.url),new lr(n.params),new lr(n.queryParams),new lr(n.fragment),new lr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ic(n,s));return new pi(r,i)}}const d_="ngNavigationCancelingError";function jR(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ls(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$R(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function $R(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[d_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function GR(n){return HR(n)&&Ls(n.url)}function HR(n){return n&&n[d_]}class d7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Cc,this.attachRef=null}}let Cc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new d7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nf=!1;let h_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=de(Cc),this.location=de(or),this.changeDetector=de(fh),this.environmentInjector=de(ni)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,nf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,nf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,nf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new S(4013,nf);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new h7(t,a,i.injector);if(r&&function f7(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Y({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$n]}),n})();class h7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ha?this.route:e===Cc?this.childContexts:this.parent.get(e,t)}}let f_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Hx],decls:1,vars:0,template:function(t,r){1&t&&Ar(0,"router-outlet")},dependencies:[h_],encapsulation:2}),n})();function zR(n,e){return n.providers&&!n._injector&&(n._injector=ih(n.providers,e,`Route: ${n.path}`)),n._injector??e}function g_(n){const e=n.children&&n.children.map(g_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=f_),t}function Kn(n){return n.outlet||ne}function qR(n,e){const t=n.filter(r=>Kn(r)===e);return t.push(...n.filter(r=>Kn(r)!==e)),t}function Ec(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class v7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),c_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=da(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Lt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=da(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=da(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=da(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new e7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new X8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(c_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),c_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ec(i.snapshot),u=a?.get(Lu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class WR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rf{constructor(e,t){this.component=e,this.route=t}}function _7(n,e,t){const r=n._root;return Dc(r,e?e._root:null,t,[r.value])}function fa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function vB(n){return null!==sd(n)}(n)?e.get(n):n:r}function Dc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=da(e);return n.children.forEach(o=>{(function I7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function C7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fs(n.url,e.url)||!kr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!l_(n,e)||!kr(n.queryParams,e.queryParams);default:return!l_(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new WR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Dc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rf(a.outlet.component,o))}else o&&bc(e,a,i),i.canActivateChecks.push(new WR(r)),Dc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Lt(s,(o,a)=>bc(o,t.getContext(a),i)),i}function bc(n,e,t){const r=da(n),i=n.value;Lt(r,(s,o)=>{bc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new rf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Tc(n){return"function"==typeof n}function m_(n){return n instanceof Gh||"EmptyError"===n?.name}const sf=Symbol("INITIAL_VALUE");function pa(){return Rr(n=>uR(n.map(e=>e.pipe(ji(1),function g8(...n){const e=hu(n);return mt((t,r)=>{(e?Hh(n,t,e):Hh(n,t)).subscribe(r)})}(sf)))).pipe(le(e=>{for(const t of e)if(!0!==t){if(t===sf)return sf;if(!1===t||t instanceof zi)return t}return!0}),fi(e=>e!==sf),ji(1)))}function KR(n){return function EU(...n){return X0(n)}(Yt(e=>{if(Ls(e))throw jR(0,e)}),le(e=>!0===e))}const y_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QR(n,e,t,r,i){const s=v_(n,e,t);return s.matched?function U7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=fa(o,n);return Hi(function A7(n){return n&&Tc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(pa(),KR()):G(!0)}(r=zR(e,r),e,t).pipe(le(o=>!0===o?s:{...y_})):G(s)}function v_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...y_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||w8)(t,n,e);if(!i)return{...y_};const s={};Lt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function af(n,e,t,r){if(t.length>0&&function $7(n,e,t){return t.some(r=>uf(n,e,r)&&Kn(r)!==ne)}(n,t,r)){const s=new ue(e,function j7(n,e,t,r){const i={};i[ne]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Kn(s)!==ne){const o=new ue([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Kn(s)]=o}return i}(n,e,r,new ue(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function G7(n,e,t){return t.some(r=>uf(n,e,r))}(n,t,r)){const s=new ue(n.segments,function B7(n,e,t,r,i){const s={};for(const o of r)if(uf(n,t,o)&&!i[Kn(o)]){const a=new ue([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Kn(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new ue(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function uf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function YR(n,e,t,r){return!!(Kn(n)===r||r!==ne&&uf(e,t,n))&&("**"===n.path||v_(e,n,t).matched)}function JR(n,e,t){return 0===e.length&&!n.children[t]}const cf=!1;class lf{constructor(e){this.segmentGroup=e||null}}class XR{constructor(e){this.urlTree=e}}function Sc(n){return fc(new lf(n))}function ZR(n){return fc(new XR(n))}class W7{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=af(this.urlTree.root,[],[],this.config).segmentGroup,t=new ue(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ne).pipe(le(s=>this.createUrlTree(Xh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gi(s=>{if(s instanceof XR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof lf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ne).pipe(le(i=>this.createUrlTree(Xh(i),e.queryParams,e.fragment))).pipe(Gi(i=>{throw i instanceof lf?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,cf)}createUrlTree(e,t,r){const i=Zv(e);return new zi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(le(s=>new ue([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ct(i).pipe(Os(s=>{const o=r.children[s],a=qR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(le(u=>({segment:u,outlet:s})))}),fR((s,o)=>(s[o.outlet]=o.segment,s),{}),pR())}expandSegment(e,t,r,i,s,o){return ct(r).pipe(Os(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Gi(c=>{if(c instanceof lf)return G(null);throw c}))),$i(a=>!!a),Gi((a,u)=>{if(m_(a))return JR(t,i,s)?G(new ue([],{})):Sc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return YR(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Sc(t):Sc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ZR(s):this.lineralizeSegments(r,s).pipe(Dt(o=>{const a=new ue(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=v_(t,i,s);if(!a)return Sc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?ZR(d):this.lineralizeSegments(i,d).pipe(Dt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=zR(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(le(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ue(i,{})))):G(new ue(i,{}))):QR(t,r,i,e).pipe(Rr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Dt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=af(t,a,u,h),g=new ue(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(le(_=>new ue(a,_)));if(0===h.length&&0===p.length)return G(new ue(a,{}));const y=Kn(r)===s;return this.expandSegment(d,g,h,p,y?ne:s,!0).pipe(le(C=>new ue(a.concat(C.segments),C.children)))})):Sc(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?G({routes:t._loadedRoutes,injector:t._loadedInjector}):function V7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=fa(o,n);return Hi(function D7(n){return n&&Tc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(pa(),KR())}(e,t,r).pipe(Dt(i=>i?this.configLoader.loadChildren(e,t).pipe(Yt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function z7(n){return fc($R(cf,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[ne])return e.redirectTo,fc(new S(4e3,cf));i=i.children[ne]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new zi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Lt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Lt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ue(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new S(4001,cf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Q7{}class X7{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=af(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(le(t=>{if(null===t)return null;const r=new tf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new pi(r,t),s=new UR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=VR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ct(Object.keys(r.children)).pipe(Os(i=>{const s=r.children[i],o=qR(t,i);return this.processSegmentGroup(e,o,s,i)}),fR((i,s)=>i&&s?(i.push(...s),i):null),function v8(n,e=!1){return mt((t,r)=>{let i=0;t.subscribe(ut(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),zh(null),pR(),le(i=>{if(null===i)return null;const s=tk(i);return function Z7(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return ct(t).pipe(Os(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),$i(o=>!!o),Gi(o=>{if(m_(o))return JR(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!YR(t,r,i,s))return G(null);let o;if("**"===t.path){const a=i.length>0?vR(i).parameters:{},u=rk(r)+i.length;o=G({snapshot:new tf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ik(t),Kn(t),t.component??t._loadedComponent??null,t,nk(r),u,sk(t)),consumedSegments:[],remainingSegments:[]})}else o=QR(r,t,i,e).pipe(le(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=rk(r)+u.length;return{snapshot:new tf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ik(t),Kn(t),t.component??t._loadedComponent??null,t,nk(r),d,sk(t)),consumedSegments:u,remainingSegments:c}}));return o.pipe(Rr(a=>{if(null===a)return G(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function eW(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=af(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(le(y=>null===y?null:[new pi(u,y)]));if(0===h.length&&0===p.length)return G([new pi(u,[])]);const g=Kn(t)===s;return this.processSegment(d,h,f,p,g?ne:s).pipe(le(y=>null===y?null:[new pi(u,y)]))}))}}function tW(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tk(n){const e=[],t=new Set;for(const r of n){if(!tW(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=tk(r.children);e.push(new pi(r.value,i))}return e.filter(r=>!t.has(r))}function nk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rk(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ik(n){return n.data||{}}function sk(n){return n.resolve||{}}function ok(n){return"string"==typeof n.title||null===n.title}function __(n){return Rr(e=>{const t=n(e);return t?ct(t).pipe(le(()=>e)):G(e)})}const ga=new B("ROUTES");let w_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=de(kM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hi(t.loadComponent()).pipe(le(uk),Yt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Yv(()=>{this.componentLoaders.delete(t)})),i=new dR(r,()=>new Wr).pipe(Kv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(le(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=yR(u.get(ga,[],W.Self|W.Optional)));return{routes:c.map(g_),injector:u}}),Yv(()=>{this.childrenLoaders.delete(r)})),o=new dR(s,()=>new Wr).pipe(Kv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Hi(t()).pipe(le(uk),Dt(r=>r instanceof $x||Array.isArray(r)?G(r):ct(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uk(n){return function cW(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let hf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Wr,this.configLoader=de(w_),this.environmentInjector=de(ni),this.urlSerializer=de(mc),this.rootContexts=de(Cc),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Y8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Q8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(r=>0!==r.id),le(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Rr(r=>{let i=!1,s=!1;return G(r).pipe(Yt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Rr(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new ef(o.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),yr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ck(o.source)&&(t.browserUrlTree=o.extractedUrl),G(o).pipe(Rr(l=>{const d=this.transitions?.getValue();return this.events.next(new r_(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?yr:Promise.resolve(l)}),function K7(n,e,t,r){return Rr(i=>function q7(n,e,t,r,i){return new W7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(le(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Yt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function rW(n,e,t,r,i){return Dt(s=>function J7(n,e,t,r,i,s,o="emptyOnly"){return new X7(n,e,t,r,i,o,s).recognize().pipe(Rr(a=>null===a?function Y7(n){return new Ze(e=>e.error(n))}(new Q7):G(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(le(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Yt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new H8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new r_(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=LR(d,this.rootComponentType).snapshot;return G(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new ef(o.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),yr}}),Yt(o=>{const a=new z8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),le(o=>r={...o,guards:_7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function M7(n,e){return Dt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?G({...t,guardsResult:!0}):function N7(n,e,t,r){return ct(n).pipe(Dt(i=>function L7(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=Ec(e)??i,c=fa(a,u);return Hi(function S7(n){return n&&Tc(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe($i())})).pipe(pa()):G(!0)}(i.component,i.route,t,e,r)),$i(i=>!0!==i,!0))}(o,r,i,n).pipe(Dt(a=>a&&function E7(n){return"boolean"==typeof n}(a)?function R7(n,e,t,r){return ct(e).pipe(Os(i=>Hh(function P7(n,e){return null!==n&&e&&e(new J8(n)),G(!0)}(i.route.parent,r),function k7(n,e){return null!==n&&e&&e(new Z8(n)),G(!0)}(i.route,r),function F7(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function w7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>lR(()=>G(o.guards.map(u=>{const c=Ec(o.node)??t,l=fa(u,c);return Hi(function T7(n){return n&&Tc(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe($i())})).pipe(pa())));return G(s).pipe(pa())}(n,i.path,t),function O7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>lR(()=>{const o=Ec(e)??t,a=fa(s,o);return Hi(function b7(n){return n&&Tc(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe($i())}));return G(i).pipe(pa())}(n,i.route,t))),$i(i=>!0!==i,!0))}(r,s,n,e):G(a)),le(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Yt(o=>{if(r.guardsResult=o.guardsResult,Ls(o.guardsResult))throw jR(0,o.guardsResult);const a=new q8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),fi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),__(o=>{if(o.guards.canActivateChecks.length)return G(o).pipe(Yt(a=>{const u=new W8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Rr(a=>{let u=!1;return G(a).pipe(function iW(n,e){return Dt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let s=0;return ct(i).pipe(Os(o=>function sW(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!ok(i)&&(s[pc]=i.title),function oW(n,e,t,r){const i=function aW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return G({});const s={};return ct(i).pipe(Dt(o=>function uW(n,e,t,r){const i=Ec(e)??r,s=fa(n,i);return Hi(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe($i(),Yt(a=>{s[o]=a}))),Qv(1),gR(s),Gi(o=>m_(o)?yr:fc(o)))}(s,n,e,r).pipe(le(o=>(n._resolvedData=o,n.data=VR(n,t).resolve,i&&ok(i)&&(n.data[pc]=i.title),null)))}(o.route,r,n,e)),Yt(()=>s++),Qv(1),Dt(o=>s===i.length?G(t):yr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Yt({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Yt(a=>{const u=new K8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),__(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Yt(l=>{u.component=l}),le(()=>{})));for(const l of u.children)c.push(...a(l));return c};return uR(a(o.targetSnapshot.root)).pipe(zh(),ji(1))}),__(()=>this.afterPreactivation()),le(o=>{const a=function u7(n,e,t){const r=Ic(n,e._root,t?t._root:void 0);return new FR(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Yt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>le(r=>(new v7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),ji(1),Yt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new qi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Yv(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Gi(o=>{if(s=!0,HR(o)){GR(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Zh(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),GR(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ck(r.source)};t.scheduleNavigation(u,wc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new i_(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return yr}))}))}cancelNavigationTransition(t,r,i){const s=new Zh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ck(n){return n!==wc}let lk=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(t){return t.data[pc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return de(lW)},providedIn:"root"}),n})(),lW=(()=>{class n extends lk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(K(J1))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return de(fW)},providedIn:"root"}),n})();class hW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let fW=(()=>{class n extends hW{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(n)))(r||n)}}(),n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ff=new B("",{providedIn:"root",factory:()=>({})});let gW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return de(mW)},providedIn:"root"}),n})(),mW=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yW(n){throw n}function vW(n,e,t){return e.parse("/")}const _W={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=de(Kz),this.isNgZoneEnabled=!1,this.options=de(ff,{optional:!0})||{},this.errorHandler=this.options.errorHandler||yW,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=de(gW),this.routeReuseStrategy=de(dW),this.urlCreationStrategy=de(s7),this.titleStrategy=de(lk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=yR(de(ga,{optional:!0})??[]),this.navigationTransitions=de(hf),this.urlSerializer=de(mc),this.location=de(nv),this.isNgZoneEnabled=de(tt)instanceof tt&&tt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new zi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LR(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(g_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ls(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,wc,null,r)}navigate(t,r={skipLocationChange:!1}){return function IW(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new S(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{..._W}:!1===r?{...wW}:r,Ls(t))return wR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return wR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ac=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Wr;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof qi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=ia(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=ia(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=ia(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function pS(n,e,t){return function q$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?fS:hS}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(E(Vt),E(ha),function Td(n){return function yj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(rT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Ot(),n)}("tabindex"),E(ri),E(kn),E(Rs))},n.\u0275dir=Y({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&he("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Sr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[$n]}),n})();class dk{}let DW=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(fi(t=>t instanceof qi),Os(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=ih(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ct(i).pipe(vo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):G(null);const s=i.pipe(Dt(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ct([s,this.loader.loadComponent(r)]).pipe(vo()):s})}}return n.\u0275fac=function(t){return new(t||n)(K(Vt),K(kM),K(ni),K(dk),K(w_))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const C_=new B("");let hk=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof r_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof s_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new s_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function zS(){throw new Error("invalid")}()},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();var On=(()=>((On=On||{})[On.COMPLETE=0]="COMPLETE",On[On.FAILED=1]="FAILED",On[On.REDIRECTING=2]="REDIRECTING",On))();const ma=!1;function Wi(n,e){return{\u0275kind:n,\u0275providers:e}}const E_=new B("",{providedIn:"root",factory:()=>!1});function pk(){const n=de(Dr);return e=>{const t=n.get(dh);if(e!==t.components[0])return;const r=n.get(Vt),i=n.get(gk);1===n.get(D_)&&r.initialNavigation(),n.get(mk,null,W.Optional)?.setUpPreloading(),n.get(C_,null,W.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const gk=new B(ma?"bootstrap done indicator":"",{factory:()=>new Wr}),D_=new B(ma?"initial navigation":"",{providedIn:"root",factory:()=>1});function xW(){let n=[];return n=ma?[{provide:Ld,multi:!0,useFactory:()=>{const e=de(Vt);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function t7(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Wi(1,n)}const mk=new B(ma?"router preloader":"");function MW(n){return Wi(0,[{provide:mk,useExisting:DW},{provide:dk,useExisting:n}])}const xc=!1,yk=new B(xc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),NW=[nv,{provide:mc,useClass:Jv},Vt,Cc,{provide:ha,useFactory:function fk(n){return n.routerState.root},deps:[Vt]},w_,xc?{provide:E_,useValue:!0}:[]];function RW(){return new jM("Router",Vt)}let vk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[NW,xc&&r?.enableTracing?xW().\u0275providers:[],{provide:ga,multi:!0,useValue:t},{provide:yk,useFactory:FW,deps:[[Vt,new Su,new Au]]},{provide:ff,useValue:r||{}},r?.useHash?{provide:Rs,useClass:Oq}:{provide:Rs,useClass:l1},{provide:C_,useFactory:()=>{const n=de(A1),e=de(tt),t=de(ff),r=de(hf),i=de(mc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hk(i,r,n,e,t)}},r?.preloadingStrategy?MW(r.preloadingStrategy).\u0275providers:[],{provide:jM,multi:!0,useFactory:RW},r?.initialNavigation?LW(r):[],[{provide:_k,useFactory:pk},{provide:BM,multi:!0,useExisting:_k}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ga,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(K(yk,8))},n.\u0275mod=wr({type:n}),n.\u0275inj=Xn({imports:[f_]}),n})();function FW(n){if(xc&&n)throw new S(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function LW(n){return["disabled"===n.initialNavigation?Wi(3,[{provide:uh,multi:!0,useFactory:()=>{const e=de(Vt);return()=>{e.setUpLocationChangeListener()}}},{provide:D_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Wi(2,[{provide:D_,useValue:0},{provide:uh,multi:!0,deps:[Dr],useFactory:e=>{const t=e.get(kq,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Vt),s=e.get(gk);(function bW(n,e){n.events.pipe(fi(t=>t instanceof qi||t instanceof Zh||t instanceof i_||t instanceof ef),le(t=>t instanceof qi||t instanceof ef?On.COMPLETE:t instanceof Zh&&(0===t.code||1===t.code)?On.REDIRECTING:On.FAILED),fi(t=>t!==On.REDIRECTING),ji(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(hf).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const _k=new B(xc?"Router Initializer":"");let BW=(()=>{var n;class e{constructor(){this.isMobile=function(){let n=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(n=!0),n;var e}(),this.menu=!this.isMobile}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pn({type:n,selectors:[["app-home"]],decls:0,vars:0,template:function(r,i){},styles:[".a[_ngcontent-%COMP%]{height:70px;background-color:#6495ed}.a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:35px;font-weight:700;margin:10px;color:#fff}"]}),e})(),jW=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pn({type:n,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(Ar(0,"div",0),F(1,"div",1)(2,"div",2),Ar(3,"img",3),F(4,"span",4)(5,"i",5),se(6,"edit"),L()(),F(7,"div",6)(8,"div",7),se(9,"V.V.S.K Chaitanya"),L(),F(10,"div",8),se(11,"Software Engineer"),L()()()(),F(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),se(16,"menu_book"),L(),F(17,"span"),se(18,"Courses"),L()(),F(19,"div",12)(20,"i",5),se(21,"assignment"),L(),F(22,"span"),se(23,"Assessments"),L()(),F(24,"div",13)(25,"i",5),se(26,"notifications"),L(),F(27,"span"),se(28,"Notifications"),L()(),F(29,"div",14)(30,"i",5),se(31,"person"),L(),F(32,"span"),se(33,"Update Profile"),L()(),F(34,"div",15)(35,"i",5),se(36,"logout"),L(),F(37,"span"),se(38,"Logout"),L()()()())},dependencies:[Ac],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})(),$W=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pn({type:n,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&Ar(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})();function wk(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){wk(s,r,i,o,a,"next",u)}function a(u){wk(s,r,i,o,a,"throw",u)}o(void 0)})}}const Ik=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Ck={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ik(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new qW;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pf=function(n){return function(n){const e=Ik(n);return Ck.encodeByteArray(e,!0)}(n).replace(/\./g,"")},gf=function(n){try{return Ck.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},mf=()=>{try{return function QW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&gf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},Dk=n=>{var e,t;return null===(t=null===(e=mf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},bk=()=>{var n;return null===(n=mf())||void 0===n?void 0:n.config},Tk=n=>{var e;return null===(e=mf())||void 0===e?void 0:e[`_${n}`]};class Sk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function bt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ak(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function xk(){try{return"object"==typeof indexedDB}catch{return!1}}function Mk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}class dr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vs.prototype.create)}}class Vs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function aK(n,e){return n.replace(uK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new dr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const uK=/\{\$([^}]+)}/g;function Mc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Rk(s)&&Rk(o)){if(!Mc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Rk(n){return null!==n&&"object"==typeof n}function Nc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class dK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function hK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=T_),void 0===i.error&&(i.error=T_),void 0===i.complete&&(i.complete=T_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T_(){}const fK=1e3,pK=2,gK=144e5,mK=.5;function kk(n,e=fK,t=pK){const r=e*Math.pow(t,n),i=Math.round(mK*r*(Math.random()-.5)*2);return Math.min(gK,r+i)}function ln(n){return n&&n._delegate?n._delegate:n}class hr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Us="[DEFAULT]";class vK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Sk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function wK(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Us?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class IK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const A_=[];var me=(()=>{return(n=me||(me={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",me;var n})();const Pk={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},CK=me.INFO,EK={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},DK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=EK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class vf{constructor(e){this.name=e,this._logLevel=CK,this._logHandler=DK,this._userLogHandler=null,A_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Pk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const bK=(n,e)=>e.some(t=>n instanceof t);let Ok,Fk;const Lk=new WeakMap,x_=new WeakMap,Vk=new WeakMap,M_=new WeakMap,N_=new WeakMap;let R_={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return x_.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Vk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function RK(n){return"function"==typeof n?function NK(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function SK(){return Fk||(Fk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(k_(this),e),Ki(Lk.get(this))}:function(...e){return Ki(n.apply(k_(this),e))}:function(e,...t){const r=n.call(k_(this),e,...t);return Vk.set(r,e.sort?e.sort():[e]),Ki(r)}}(n):(n instanceof IDBTransaction&&function xK(n){if(x_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});x_.set(n,e)}(n),bK(n,function TK(){return Ok||(Ok=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,R_):n)}function Ki(n){if(n instanceof IDBRequest)return function AK(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ki(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Lk.set(t,n)}).catch(()=>{}),N_.set(e,n),e}(n);if(M_.has(n))return M_.get(n);const e=RK(n);return e!==n&&(M_.set(n,e),N_.set(e,n)),e}const k_=n=>N_.get(n),PK=["get","getKey","getAll","getAllKeys","count"],OK=["put","add","delete","clear"],P_=new Map;function Uk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(P_.get(e))return P_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=OK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!PK.includes(t))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return P_.set(e,s),s}!function MK(n){R_=n(R_)}(n=>({...n,get:(e,t,r)=>Uk(e,t)||n.get(e,t,r),has:(e,t)=>!!Uk(e,t)||n.has(e,t)}));class FK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function LK(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const O_="@firebase/app",Bs=new vf("@firebase/app"),_f="[DEFAULT]",cQ={[O_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},js=new Map,wf=new Map;function lQ(n,e){try{n.container.addComponent(e)}catch(t){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Or(n){const e=n.name;if(wf.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;wf.set(e,n);for(const t of js.values())lQ(t,n);return!0}function Qi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const gi=new Vs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const ya="9.23.0";function jk(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:_f,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw gi.create("bad-app-name",{appName:String(i)});if(t||(t=bk()),!t)throw gi.create("no-options");const s=js.get(i);if(s){if(Mc(t,s.options)&&Mc(r,s.config))return s;throw gi.create("duplicate-app",{appName:i})}const o=new IK(i);for(const u of wf.values())o.addComponent(u);const a=new hQ(t,r,o);return js.set(i,a),a}function F_(n=_f){const e=js.get(n);if(!e&&n===_f&&bk())return jk();if(!e)throw gi.create("no-app",{appName:n});return e}function Qn(n,e,t){var r;let i=null!==(r=cQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Bs.warn(a.join(" "))}Or(new hr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const fQ="firebase-heartbeat-database",pQ=1,Rc="firebase-heartbeat-store";let V_=null;function $k(){return V_||(V_=function kK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ki(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ki(o.result),u.oldVersion,u.newVersion,Ki(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(fQ,pQ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Rc)}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),V_}function U_(){return(U_=m(function*(n){try{return yield(yield $k()).transaction(Rc).objectStore(Rc).get(Hk(n))}catch(e){if(e instanceof dr)Bs.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e?.message});Bs.warn(t.message)}}})).apply(this,arguments)}function Gk(n,e){return B_.apply(this,arguments)}function B_(){return(B_=m(function*(n,e){try{const r=(yield $k()).transaction(Rc,"readwrite");yield r.objectStore(Rc).put(e,Hk(n)),yield r.done}catch(t){if(t instanceof dr)Bs.warn(t.message);else{const r=gi.create("idb-set",{originalErrorMessage:t?.message});Bs.warn(r.message)}}})).apply(this,arguments)}function Hk(n){return`${n.name}!${n.options.appId}`}class vQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wQ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=zk(),{heartbeatsToSend:r,unsentEntries:i}=function _Q(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qk(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),qk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=pf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function zk(){return(new Date).toISOString().substring(0,10)}class wQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!xk()&&Mk().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function gQ(n){return U_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Gk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Gk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function qk(n){return pf(JSON.stringify({version:2,heartbeats:n})).length}!function IQ(n){Or(new hr("platform-logger",e=>new FK(e),"PRIVATE")),Or(new hr("heartbeat",e=>new vQ(e),"PRIVATE")),Qn(O_,"0.9.13",n),Qn(O_,"0.9.13","esm2017"),Qn("fire-js","")}(""),Qn("firebase","9.23.0","app");const DQ=(n,e)=>e.some(t=>n instanceof t);let Wk,Kk;const Qk=new WeakMap,j_=new WeakMap,Yk=new WeakMap,$_=new WeakMap,G_=new WeakMap;let H_={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return j_.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Yk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function NQ(n){return"function"==typeof n?function MQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function TQ(){return Kk||(Kk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(z_(this),e),Yi(Qk.get(this))}:function(...e){return Yi(n.apply(z_(this),e))}:function(e,...t){const r=n.call(z_(this),e,...t);return Yk.set(r,e.sort?e.sort():[e]),Yi(r)}}(n):(n instanceof IDBTransaction&&function AQ(n){if(j_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});j_.set(n,e)}(n),DQ(n,function bQ(){return Wk||(Wk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,H_):n)}function Yi(n){if(n instanceof IDBRequest)return function SQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Yi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Qk.set(t,n)}).catch(()=>{}),G_.set(e,n),e}(n);if($_.has(n))return $_.get(n);const e=NQ(n);return e!==n&&($_.set(n,e),G_.set(e,n)),e}const z_=n=>G_.get(n),kQ=["get","getKey","getAll","getAllKeys","count"],PQ=["put","add","delete","clear"],q_=new Map;function Jk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(q_.get(e))return q_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=PQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!kQ.includes(t))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return q_.set(e,s),s}!function xQ(n){H_=n(H_)}(n=>({...n,get:(e,t,r)=>Jk(e,t)||n.get(e,t,r),has:(e,t)=>!!Jk(e,t)||n.has(e,t)}));const Xk="@firebase/installations",W_="0.6.4",Zk=1e4,eP=`w:${W_}`,tP="FIS_v2",OQ="https://firebaseinstallations.googleapis.com/v1",FQ=36e5,mi=new Vs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nP(n){return n instanceof dr&&n.code.includes("request-failed")}function K_({projectId:n}){return`${OQ}/projects/${n}/installations`}function rP(n){return{token:n.token,requestStatus:2,expiresIn:BQ(n.expiresIn),creationTime:Date.now()}}function Q_(n,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=m(function*(n,e){const r=(yield e.json()).error;return mi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function iP({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function J_(n){return X_.apply(this,arguments)}function X_(){return(X_=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function BQ(n){return Number(n.replace("s","000"))}function Z_(){return(Z_=m(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=K_(n),i=iP(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:tP,appId:n.appId,sdkVersion:eP})},u=yield J_(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:rP(c.authToken)}}throw yield Q_("Create Installation",u)})).apply(this,arguments)}function oP(n){return new Promise(e=>{setTimeout(e,n)})}const HQ=/^[cdef][\w-]{21}$/,ew="";function zQ(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function qQ(n){return function GQ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return HQ.test(t)?t:ew}catch{return ew}}function va(n){return`${n.appName}!${n.appId}`}const _a=new Map;function aP(n,e){const t=va(n);uP(t,e),function QQ(n,e){const t=function cP(){return!$s&&"BroadcastChannel"in self&&($s=new BroadcastChannel("[Firebase] FID Change"),$s.onmessage=n=>{uP(n.data.key,n.data.fid)}),$s}();t&&t.postMessage({key:n,fid:e}),function lP(){0===_a.size&&$s&&($s.close(),$s=null)}()}(t,e)}function uP(n,e){const t=_a.get(n);if(t)for(const r of t)r(e)}let $s=null;const YQ="firebase-installations-database",JQ=1,Gs="firebase-installations-store";let tw=null;function nw(){return tw||(tw=function RQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Yi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Yi(o.result),u.oldVersion,u.newVersion,Yi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(YQ,JQ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Gs)}})),tw}function If(n,e){return rw.apply(this,arguments)}function rw(){return(rw=m(function*(n,e){const t=va(n),i=(yield nw()).transaction(Gs,"readwrite"),s=i.objectStore(Gs),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&aP(n,e.fid),e})).apply(this,arguments)}function iw(n){return sw.apply(this,arguments)}function sw(){return(sw=m(function*(n){const e=va(n),r=(yield nw()).transaction(Gs,"readwrite");yield r.objectStore(Gs).delete(e),yield r.done})).apply(this,arguments)}function kc(n,e){return ow.apply(this,arguments)}function ow(){return(ow=m(function*(n,e){const t=va(n),i=(yield nw()).transaction(Gs,"readwrite"),s=i.objectStore(Gs),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&aP(n,a.fid),a})).apply(this,arguments)}function aw(n){return uw.apply(this,arguments)}function uw(){return uw=m(function*(n){let e;const t=yield kc(n.appConfig,r=>{const i=function XQ(n){return hP(n||{fid:zQ(),registrationStatus:0})}(r),s=function ZQ(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(mi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function eY(n,e){return cw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:tY(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===ew?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),uw.apply(this,arguments)}function cw(){return cw=m(function*(n,e){try{const t=yield function $Q(n,e){return Z_.apply(this,arguments)}(n,e);return If(n.appConfig,t)}catch(t){throw nP(t)&&409===t.customData.serverCode?yield iw(n.appConfig):yield If(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),cw.apply(this,arguments)}function tY(n){return lw.apply(this,arguments)}function lw(){return(lw=m(function*(n){let e=yield dP(n.appConfig);for(;1===e.registrationStatus;)yield oP(100),e=yield dP(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield aw(n);return r||t}return e})).apply(this,arguments)}function dP(n){return kc(n,e=>{if(!e)throw mi.create("installation-not-found");return hP(e)})}function hP(n){return function nY(n){return 1===n.registrationStatus&&n.registrationTime+Zk<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function dw(){return(dw=m(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function iY(n,{fid:e}){return`${K_(n)}/${e}/authTokens:generate`}(n,t),i=function sP(n,{refreshToken:e}){const t=iP(n);return t.append("Authorization",function jQ(n){return`${tP} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:eP,appId:n.appId}})},u=yield J_(()=>fetch(r,a));if(u.ok)return rP(yield u.json());throw yield Q_("Generate Auth Token",u)})).apply(this,arguments)}function hw(n){return fw.apply(this,arguments)}function fw(){return fw=m(function*(n,e=!1){let t;const r=yield kc(n.appConfig,s=>{if(!pP(s))throw mi.create("not-registered");const o=s.authToken;if(!e&&function aY(n){return 2===n.requestStatus&&!function uY(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+FQ}(n)}(o))return s;if(1===o.requestStatus)return t=function sY(n,e){return pw.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw mi.create("app-offline");const a=function cY(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function oY(n,e){return gw.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),fw.apply(this,arguments)}function pw(){return(pw=m(function*(n,e){let t=yield fP(n.appConfig);for(;1===t.authToken.requestStatus;)yield oP(100),t=yield fP(n.appConfig);const r=t.authToken;return 0===r.requestStatus?hw(n,e):r})).apply(this,arguments)}function fP(n){return kc(n,e=>{if(!pP(e))throw mi.create("not-registered");return function lY(n){return 1===n.requestStatus&&n.requestTime+Zk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function gw(){return gw=m(function*(n,e){try{const t=yield function rY(n,e){return dw.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield If(n.appConfig,r),t}catch(t){if(!nP(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield If(n.appConfig,r)}else yield iw(n.appConfig);throw t}}),gw.apply(this,arguments)}function pP(n){return void 0!==n&&2===n.registrationStatus}function mw(){return(mw=m(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield aw(e);return r?r.catch(console.error):hw(e).catch(console.error),t.fid})).apply(this,arguments)}function yw(){return yw=m(function*(n,e=!1){const t=n;return yield function fY(n){return vw.apply(this,arguments)}(t),(yield hw(t,e)).token}),yw.apply(this,arguments)}function vw(){return(vw=m(function*(n){const{registrationPromise:e}=yield aw(n);e&&(yield e)})).apply(this,arguments)}function Iw(n){return mi.create("missing-app-config-values",{valueName:n})}const gP="installations",vY=n=>{const e=n.getProvider("app").getImmediate(),t=function mY(n){if(!n||!n.options)throw Iw("App Configuration");if(!n.name)throw Iw("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Iw(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Qi(e,"heartbeat"),_delete:()=>Promise.resolve()}},_Y=n=>{const t=Qi(n.getProvider("app").getImmediate(),gP).getImmediate();return{getId:()=>function dY(n){return mw.apply(this,arguments)}(t),getToken:i=>function hY(n){return yw.apply(this,arguments)}(t,i)}};(function wY(){Or(new hr(gP,vY,"PUBLIC")),Or(new hr("installations-internal",_Y,"PRIVATE"))})(),Qn(Xk,W_),Qn(Xk,W_,"esm2017");const Cf="analytics",IY="firebase_id",CY="origin",EY=6e4,DY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cw="https://www.googletagmanager.com/gtag/js",Tt=new vf("@firebase/analytics"),dn=new Vs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function TY(n){if(!n.startsWith(Cw)){const e=dn.create("invalid-gtag-resource",{gtagURL:n});return Tt.warn(e.message),""}return n}function mP(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Ew(){return(Ew=m(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield mP(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Tt.error(a)}n("config",i,s)})).apply(this,arguments)}function Dw(){return(Dw=m(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield mP(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Tt.error(s)}})).apply(this,arguments)}const OY=30,yP=new class LY{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function VY(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function bw(){return(bw=m(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:VY(r)},s=DY.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw dn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Tw(){return(Tw=m(function*(n,e=yP,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw dn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw dn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new GY;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:EY),vP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function vP(n,e,t){return Sw.apply(this,arguments)}function Sw(){return Sw=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=yP){var s;const{appId:o,measurementId:a}=n;try{yield function jY(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Tt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function UY(n){return bw.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function $Y(n){if(!(n instanceof dr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Tt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?kk(t,i.intervalMillis,OY):kk(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),Tt.debug(`Calling attemptFetch again in ${l} millis`),vP(n,d,r,i)}}),Sw.apply(this,arguments)}class GY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Aw,Ow;function xw(){return(xw=m(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Fw(){return(Fw=m(function*(){if(!xk())return Tt.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Mk()}catch(n){return Tt.warn(dn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function Lw(){return Lw=m(function*(n,e,t,r,i,s,o){var a;const u=function BY(n){return Tw.apply(this,arguments)}(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Tt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Tt.error(f)),e.push(u);const c=function YY(){return Fw.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function PY(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Cw)&&t.src.includes(n))return t;return null})(s)||function AY(n,e){const t=function SY(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:TY}),r=document.createElement("script"),i=`${Cw}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),Ow&&(i("consent","default",Ow),function _P(n){Ow=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[CY]="firebase",h.update=!0,null!=d&&(h[IY]=d),i("config",l.measurementId,h),Aw&&(i("set",Aw),function wP(n){Aw=n}(void 0)),l.measurementId}),Lw.apply(this,arguments)}class XY{constructor(e){this.app=e}_delete(){return delete Fr[this.app.options.appId],Promise.resolve()}}let Fr={},IP=[];const CP={};let DP,Lr,Ef="dataLayer",EP="gtag",Vw=!1;function eJ(n,e,t){!function ZY(){const n=[];if(Ak()&&n.push("This is a browser extension environment."),function sK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=dn.create("invalid-analytics-context",{errorInfo:e});Tt.warn(t.message)}}();const r=n.options.appId;if(!r)throw dn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw dn.create("no-api-key");Tt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fr[r])throw dn.create("already-exists",{id:r});if(!Vw){!function xY(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Ef);const{wrappedGtag:s,gtagCore:o}=function kY(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function RY(n,e,t,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function NY(n,e,t,r,i){return Dw.apply(this,arguments)}(n,e,t,u,c)}else if("config"===o){const[u,c]=a;yield function MY(n,e,t,r,i,s){return Ew.apply(this,arguments)}(n,e,t,r,u,c)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,c,l]=a;n("get",u,c,l)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){Tt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Fr,IP,CP,Ef,EP);Lr=s,DP=o,Vw=!0}return Fr[r]=function JY(n,e,t,r,i,s,o){return Lw.apply(this,arguments)}(n,IP,CP,e,DP,Ef,t),new XY(n)}function bP(n,e,t,r){n=ln(n),function HY(n,e,t,r,i){return xw.apply(this,arguments)}(Lr,Fr[n.app.options.appId],e,t,r).catch(i=>Tt.error(i))}const TP="@firebase/analytics";!function rJ(){Or(new hr(Cf,(e,{options:t})=>eJ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Or(new hr("analytics-internal",function n(e){try{const t=e.getProvider(Cf).getImmediate();return{logEvent:(r,i,s)=>bP(t,r,i,s)}}catch(t){throw dn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Qn(TP,"0.10.0"),Qn(TP,"0.10.0","esm2017")}();const iJ=function AP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xP=new Vs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Df=new vf("@firebase/auth");function bf(n,...e){Df.logLevel<=me.ERROR&&Df.error(`Auth (${ya}): ${n}`,...e)}function En(n,...e){throw jw(n,...e)}function Fn(n,...e){return jw(n,...e)}function MP(n,e,t){const r=Object.assign(Object.assign({},iJ()),{[e]:t});return new Vs("auth","Firebase",r).create(e,{appName:n.name})}function jw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xP.create(n,...e)}function A(n,e,...t){if(!n)throw jw(e,...t)}function Vr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bf(e),new Error(e)}function yi(n,e){n||Vr(e)}function Pc(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function NP(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=function tK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}()||function rK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function oJ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $w(){return"http:"===NP()||"https:"===NP()}()||Ak()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gw(n,e){yi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class RP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},cJ=new Oc(3e4,6e4);function qe(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ye(n,e,t,r){return Hw.apply(this,arguments)}function Hw(){return(Hw=m(function*(n,e,t,r,i={}){return kP(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Nc(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),RP.fetch()(PP(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function kP(n,e,t){return zw.apply(this,arguments)}function zw(){return(zw=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},uJ),e);try{const i=new lJ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Fc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Fc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Fc(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Fc(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw MP(n,l,c);En(n,l)}}catch(i){if(i instanceof dr)throw i;En(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function vi(n,e,t,r){return qw.apply(this,arguments)}function qw(){return(qw=m(function*(n,e,t,r,i={}){const s=yield Ye(n,e,t,r,i);return"mfaPendingCredential"in s&&En(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function PP(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Gw(n.config,i):`${n.config.apiScheme}://${i}`}class lJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fn(this.auth,"network-request-failed")),cJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Fn(n,e,r);return i.customData._tokenResponse=t,i}function Ww(){return(Ww=m(function*(n,e){return Ye(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Qw(){return(Qw=m(function*(n,e){return Ye(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Lc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Yw(){return(Yw=m(function*(n,e=!1){const t=ln(n),r=yield t.getIdToken(e),i=Tf(r);A(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Lc(Jw(i.auth_time)),issuedAtTime:Lc(Jw(i.iat)),expirationTime:Lc(Jw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Jw(n){return 1e3*Number(n)}function Tf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return bf("JWT malformed, contained fewer than 3 sections"),null;try{const i=gf(t);return i?JSON.parse(i):(bf("Failed to decode base64 JWT payload"),null)}catch(i){return bf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _i(n,e){return Xw.apply(this,arguments)}function Xw(){return(Xw=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof dr&&function mJ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class yJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class OP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vc(n){return Zw.apply(this,arguments)}function Zw(){return Zw=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield _i(n,function fJ(n,e){return Qw.apply(this,arguments)}(t,{idToken:r}));A(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function wJ(n){return n.map(e=>{var{providerId:t}=e,r=nd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function _J(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new OP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),Zw.apply(this,arguments)}function eI(){return(eI=m(function*(n){const e=ln(n);yield Vc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function tI(){return(tI=m(function*(n,e){const t=yield kP(n,{},m(function*(){const r=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=PP(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function gJ(n){const e=Tf(n);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function IJ(n,e){return tI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Uc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uc,this.toJSON())}_performRefresh(){return Vr("not implemented")}}function Ji(n,e){A("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Hs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=nd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new OP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield _i(t,t.stsTokenManager.getToken(t.auth,e));return A(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function pJ(n){return Yw.apply(this,arguments)}(this,e)}reload(){return function vJ(n){return eI.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Vc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield _i(e,function dJ(n,e){return Ww.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:N,isAnonymous:j,providerData:H,stsTokenManager:kt}=t;A(_&&kt,e,"internal-error");const Mi=Uc.fromJSON(this.name,kt);A("string"==typeof _,e,"internal-error"),Ji(d,e.name),Ji(h,e.name),A("boolean"==typeof N,e,"internal-error"),A("boolean"==typeof j,e,"internal-error"),Ji(f,e.name),Ji(p,e.name),Ji(g,e.name),Ji(y,e.name),Ji(I,e.name),Ji(C,e.name);const cu=new Hs({uid:_,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:j,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Mi,createdAt:I,lastLoginAt:C});return H&&Array.isArray(H)&&(cu.providerData=H.map(hse=>Object.assign({},hse))),y&&(cu._redirectEventId=y),cu}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new Uc;i.updateFromServerResponse(t);const s=new Hs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vc(s),s})()}}const FP=new Map;function wi(n){yi(n instanceof Function,"Expected a class definition");let e=FP.get(n);return e?(yi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,FP.set(n,e),e)}const LP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Sf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ia{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Hs._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new Ia(wi(LP),e,r);const i=(yield Promise.all(t.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||wi(LP);const o=Sf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=Hs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ia(s,e,r)):new Ia(s,e,r)})()}}function VP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GP(e))return"Blackberry";if(HP(e))return"Webos";if(nI(e))return"Safari";if((e.includes("chrome/")||BP(e))&&!e.includes("edge/"))return"Chrome";if($P(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function UP(n=bt()){return/firefox\//i.test(n)}function nI(n=bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BP(n=bt()){return/crios\//i.test(n)}function jP(n=bt()){return/iemobile/i.test(n)}function $P(n=bt()){return/android/i.test(n)}function GP(n=bt()){return/blackberry/i.test(n)}function HP(n=bt()){return/webos/i.test(n)}function Af(n=bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zP(n=bt()){return Af(n)||$P(n)||HP(n)||GP(n)||/windows phone/i.test(n)||jP(n)}function qP(n,e=[]){let t;switch(n){case"Browser":t=VP(bt());break;case"Worker":t=`${VP(bt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${r}`}function WP(n,e){return iI.apply(this,arguments)}function iI(){return(iI=m(function*(n,e){return Ye(n,"GET","/v2/recaptchaConfig",qe(n,e))})).apply(this,arguments)}function QP(n){return void 0!==n&&void 0!==n.enterprise}class YP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function sI(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Fn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function TJ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function JP(n){return`__${n}${Math.floor(1e6*Math.random())}`}const xJ="NO_RECAPTCHA";class XP{constructor(e){this.type="recaptcha-enterprise",this.auth=St(e)}verify(e="verify",t=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){WP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new YP(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;QP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(xJ)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&QP(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));sI("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class MJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class NJ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZP(this),this.idTokenSubscription=new ZP(this),this.beforeStateQueue=new MJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=wi(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ia.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return A(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield Vc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function aJ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?ln(e):null;return r&&A(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(wi(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const t=yield WP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new YP(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new XP(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&wi(e)||t._popupRedirectResolver;A(r,t,"argument-error"),t.redirectPersistenceManager=yield Ia.create(t,[wi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function sJ(n,...e){Df.logLevel<=me.WARN&&Df.warn(`Auth (${ya}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function St(n){return ln(n)}class ZP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function lK(n,e){const t=new dK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tO(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class nO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,t){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}function Ii(n,e){return CI.apply(this,arguments)}function CI(){return(CI=m(function*(n,e){return vi(n,"POST","/v1/accounts:signInWithIdp",qe(n,e))})).apply(this,arguments)}class Ca extends nO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):En("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=nd(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ca(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Ii(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ii(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ii(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nc(t)}return e}}class Zi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oO extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let SI=(()=>{class n extends oO{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ca._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();class Yn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield Hs._fromIdTokenResponse(e,r,i),o=aO(r);return new Yn({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=aO(r);return new Yn({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function aO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class kf extends dr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new kf(e,t,r,i)}}function uO(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?kf._fromErrorAndOperation(n,s,e,r):s})}function RI(n,e){return kI.apply(this,arguments)}function kI(){return(kI=m(function*(n,e,t=!1){const r=yield _i(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Yn._forOperation(n,"link",r)})).apply(this,arguments)}function lO(n,e){return OI.apply(this,arguments)}function OI(){return(OI=m(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield _i(n,uO(r,i,e,n),t);A(s.idToken,r,"internal-error");const o=Tf(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(n.uid===a,r,"user-mismatch"),Yn._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&En(r,"user-mismatch"),s}})).apply(this,arguments)}function dO(n,e){return FI.apply(this,arguments)}function FI(){return(FI=m(function*(n,e,t=!1){const r="signIn",i=yield uO(n,r,e),s=yield Yn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Of="__sak";class fO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _X=(()=>{class n extends fO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mX(){const n=bt();return nI(n)||Af(n)}()&&function DJ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function EJ(){return function iK(){const n=bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),pO=(()=>{class n extends fO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let IX=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function wX(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Ff(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class CX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Ff("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ft(){return window}function hC(){return typeof ft().WorkerGlobalScope<"u"&&"function"==typeof ft().importScripts}function fC(){return(fC=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gO="firebaseLocalStorageDb",SX=1,Lf="firebaseLocalStorage",mO="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vf(n,e){return n.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function pC(){const n=indexedDB.open(gO,SX);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Lf,{keyPath:mO})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(Lf)?e(r):(r.close(),yield function AX(){const n=indexedDB.deleteDatabase(gO);return new $c(n).toPromise()}(),e(yield pC()))}))})}function yO(n,e,t){return gC.apply(this,arguments)}function gC(){return(gC=m(function*(n,e,t){const r=Vf(n,!0).put({[mO]:e,value:t});return new $c(r).toPromise()})).apply(this,arguments)}function mC(){return(mC=m(function*(n,e){const t=Vf(n,!1).get(e),r=yield new $c(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function vO(n,e){const t=Vf(n,!0).delete(e);return new $c(t).toPromise()}const RX=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield pC()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return hC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=IX._getInstance(function TX(){return hC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function DX(){return fC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new CX(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function bX(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield pC();return yield yO(t,Of,"1"),yield vO(t,Of),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>yO(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function xX(n,e){return mC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>vO(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=Vf(o,!1).getAll();return new $c(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function qs(n,e){return e?wi(e):(A(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}JP("rcb"),new Oc(3e4,6e4);class bC extends nO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ii(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ii(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KX(n){return dO(n.auth,new bC(n),n.bypassAuthState)}function QX(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),lO(t,new bC(n),n.bypassAuthState)}function YX(n){return TC.apply(this,arguments)}function TC(){return(TC=m(function*(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),RI(t,new bC(n),n.bypassAuthState)})).apply(this,arguments)}class wO{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KX;case"linkViaPopup":case"linkViaRedirect":return YX;case"reauthViaPopup":case"reauthViaRedirect":return QX;default:En(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JX=new Oc(2e3,1e4);function SC(){return(SC=m(function*(n,e,t){const r=St(n);!function wa(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&En(n,"argument-error"),MP(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,e,Zi);const i=qs(r,t);return new MC(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let MC=(()=>{class n extends wO{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return m(function*(){const r=yield t.execute();return A(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return m(function*(){yi(1===t.filter.length,"Popup operations only handle one event");const r=Ff();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Fn(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,JX.get())};t()}}return n.currentPopupAction=null,n})();const ZX="pendingRedirect",Gc=new Map;class eZ extends wO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=Gc.get(t.auth._key());if(!r){try{const s=(yield function tZ(n,e){return NC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Gc.set(t.auth._key(),r)}return t.bypassAuthState||Gc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function NC(){return(NC=m(function*(n,e){const t=function CO(n){return Sf(ZX,n.config.apiKey,n.name)}(e),r=function IO(n){return wi(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function nZ(n,e){Gc.set(n._key(),e)}function EO(n,e){return VC.apply(this,arguments)}function VC(){return(VC=m(function*(n,e,t=!1){const r=St(n),i=qs(r,e),o=yield new eZ(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class aZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function uZ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TO(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!TO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bO(e))}saveEventToCache(e){this.cachedEventUids.add(bO(e)),this.lastProcessedEventTime=Date.now()}}function bO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TO({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function BC(){return(BC=m(function*(n,e={}){return Ye(n,"GET","/v1/projects",e)})).apply(this,arguments)}const lZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dZ=/^https?/;function jC(){return jC=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function cZ(n){return BC.apply(this,arguments)}(n);for(const t of e)try{if(fZ(t))return}catch{}En(n,"unauthorized-domain")}),jC.apply(this,arguments)}function fZ(n){const e=Pc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!dZ.test(t))return!1;if(lZ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const pZ=new Oc(3e4,6e4);function SO(){const n=ft().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Bf=null;const yZ=new Oc(5e3,15e3),vZ="__/auth/iframe",_Z="emulator/auth/iframe",wZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CZ(n){const e=n.config;A(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gw(e,_Z):`https://${n.config.authDomain}/${vZ}`,r={apiKey:e.apiKey,appName:n.name,v:ya},i=IZ.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Nc(r).slice(1)}`}function $C(){return $C=m(function*(n){const e=yield function mZ(n){return Bf=Bf||function gZ(n){return new Promise((e,t)=>{var r,i,s;function o(){SO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SO(),t(Fn(n,"network-request-failed"))},timeout:pZ.get()})}if(null!==(i=null===(r=ft().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ft().gapi)||void 0===s||!s.load){const a=JP("iframefcb");return ft()[a]=()=>{gapi.load?o():t(Fn(n,"network-request-failed"))},sI(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Bf=null,e})}(n),Bf}(n),t=ft().gapi;return A(t,n,"internal-error"),e.open({where:document.body,url:CZ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wZ,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Fn(n,"network-request-failed"),u=ft().setTimeout(()=>{o(a)},yZ.get());function c(){ft().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),$C.apply(this,arguments)}const DZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bZ=500,TZ=600,SZ="_blank",AZ="http://localhost";class AO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const NZ="__/auth/handler",RZ="emulator/auth/handler",kZ=encodeURIComponent("fac");function xO(n,e,t,r,i,s){return GC.apply(this,arguments)}function GC(){return(GC=m(function*(n,e,t,r,i,s){A(n.config.authDomain,n,"auth-domain-config-required"),A(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ya,eventId:i};if(e instanceof Zi){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function cK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof oO){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield n._getAppCheckToken(),c=u?`#${kZ}=${encodeURIComponent(u)}`:"";return`${function PZ({config:n}){return n.emulator?Gw(n,RZ):`https://${n.authDomain}/${NZ}`}(n)}?${Nc(a).slice(1)}${c}`})).apply(this,arguments)}const HC="webStorageSupport",FZ=class OZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pO,this._completeRedirectFn=EO,this._overrideRedirectResult=nZ}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;yi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield xO(e,t,r,Pc(),i);return function xZ(n,e,t,r=bZ,i=TZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},DZ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=bt().toLowerCase();t&&(a=BP(c)?SZ:t),UP(c)&&(e=e||AZ,u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function CJ(n=bt()){var e;return Af(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function MZ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new AO(null);const d=window.open(e||"",a,l);A(d,n,"popup-blocked");try{d.focus()}catch{}return new AO(d)}(e,a,Ff())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function EX(n){ft().location.href=n}(yield xO(e,t,r,Pc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(yi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function EZ(n){return $C.apply(this,arguments)}(e),i=new aZ(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(HC,{type:HC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[HC];void 0!==o&&t(!!o),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function hZ(n){return jC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zP()||nI()||Af()}};var RO="@firebase/auth";class LZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jZ=Tk("authIdTokenMaxAge")||300;let PO=null;const $Z=n=>function(){var e=m(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>jZ)return;const s=r?.token;PO!==s&&(PO=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function GZ(n=F_()){const e=Qi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function RJ(n,e){const t=Qi(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Mc(t.getOptions(),e??{}))return i;En(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:FZ,persistence:[RX,_X,pO]}),r=Tk("authTokenSyncURL");if(r){const s=$Z(r);(function lX(n,e,t){ln(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function cX(n,e,t,r){ln(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=Dk("auth");return i&&function PJ(n,e,t){const r=St(n);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=eO(e),{host:o,port:a}=function OJ(n){const e=eO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tO(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:tO(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function FJ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function UZ(n){Or(new hr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qP(n)},c=new NJ(r,i,s,u);return function kJ(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(wi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Or(new hr("auth-internal",e=>{const t=St(e.getProvider("auth").getImmediate());return new LZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(RO,"0.23.2",function VZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Qn(RO,"0.23.2","esm2017")}("Browser");var R,HZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fr={},qC=qC||{},X=HZ||self;function $f(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var WC="closure_uid_"+(1e9*Math.random()>>>0),qZ=0;function WZ(n,e,t){return n.call.apply(n.bind,arguments)}function KZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Jt(n,e,t){return(Jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WZ:KZ).apply(null,arguments)}function Gf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function At(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function es(){this.s=this.s,this.o=this.o}es.prototype.s=!1,es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zZ(n){Object.prototype.hasOwnProperty.call(n,WC)&&n[WC]||(n[WC]=++qZ)}(this)},es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const OO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function KC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function FO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if($f(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Xt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var YZ=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{X.addEventListener("test",()=>{},e),X.removeEventListener("test",()=>{},e)}catch{}return n}();function zc(n){return/^[\s\xa0]*$/.test(n)}function Hf(){var n=X.navigator;return n&&(n=n.userAgent)?n:""}function Ur(n){return-1!=Hf().indexOf(n)}function QC(n){return QC[" "](n),n}QC[" "]=function(){};var JC,n,XZ=Ur("Opera"),Da=Ur("Trident")||Ur("MSIE"),LO=Ur("Edge"),YC=LO||Da,VO=Ur("Gecko")&&!(-1!=Hf().toLowerCase().indexOf("webkit")&&!Ur("Edge"))&&!(Ur("Trident")||Ur("MSIE"))&&!Ur("Edge"),ZZ=-1!=Hf().toLowerCase().indexOf("webkit")&&!Ur("Edge");function UO(){var n=X.document;return n?n.documentMode:void 0}e:{var XC="",ZC=(n=Hf(),VO?/rv:([^\);]+)(\)|;)/.exec(n):LO?/Edge\/([\d\.]+)/.exec(n):Da?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ZZ?/WebKit\/(\S+)/.exec(n):XZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ZC&&(XC=ZC?ZC[1]:""),Da){var eE=UO();if(null!=eE&&eE>parseFloat(XC)){JC=String(eE);break e}}JC=XC}var eee=X.document&&Da&&(UO()||parseInt(JC,10))||void 0;function qc(n,e){if(Xt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(VO){e:{try{QC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qc.$.h.call(this)}}At(qc,Xt);var tee={2:"touch",3:"pen",4:"mouse"};qc.prototype.h=function(){qc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wc="closure_listenable_"+(1e6*Math.random()|0),nee=0;function ree(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++nee,this.fa=this.ia=!1}function zf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function nE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function jO(n){const e={};for(const t in n)e[t]=n[t];return e}const $O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<$O.length;s++)t=$O[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function qf(n){this.src=n,this.g={},this.h=0}function rE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=OO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function iE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}qf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=iE(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new ree(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var sE="closure_lm_"+(1e6*Math.random()|0),oE={};function HO(n,e,t,r,i){if(r&&r.once)return qO(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)HO(n,e[s],t,r,i);return null}return t=lE(t),n&&n[Wc]?n.O(e,t,Hc(r)?!!r.capture:!!r,i):zO(n,e,t,!1,r,i)}function zO(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Hc(i)?!!i.capture:!!i,a=uE(n);if(a||(n[sE]=a=new qf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function see(){const e=oee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)YZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(KO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qO(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qO(n,e[s],t,r,i);return null}return t=lE(t),n&&n[Wc]?n.P(e,t,Hc(r)?!!r.capture:!!r,i):zO(n,e,t,!0,r,i)}function WO(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)WO(n,e[s],t,r,i);else r=Hc(r)?!!r.capture:!!r,t=lE(t),n&&n[Wc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=iE(s=n.g[e],t,r,i))&&(zf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=uE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=iE(e,t,r,i)),(t=-1<n?e[n]:null)&&aE(t))}function aE(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Wc])rE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(KO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=uE(e))?(rE(t,n),0==t.h&&(t.src=null,e[sE]=null)):zf(n)}}}function KO(n){return n in oE?oE[n]:oE[n]="on"+n}function oee(n,e){if(n.fa)n=!0;else{e=new qc(e,this);var t=n.listener,r=n.la||n.src;n.ia&&aE(n),n=t.call(r,e)}return n}function uE(n){return(n=n[sE])instanceof qf?n:null}var cE="__closure_events_fn_"+(1e9*Math.random()>>>0);function lE(n){return"function"==typeof n?n:(n[cE]||(n[cE]=function(e){return n.handleEvent(e)}),n[cE])}function xt(){es.call(this),this.i=new qf(this),this.S=this,this.J=null}function Ut(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Xt(e,n);else if(e instanceof Xt)e.target=e.target||n;else{var i=e;GO(e=new Xt(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Wf(o,r,!0,e)&&i}if(i=Wf(o=e.g=n,r,!0,e)&&i,i=Wf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Wf(o=e.g=t[s],r,!1,e)&&i}function Wf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&rE(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}At(xt,es),xt.prototype[Wc]=!0,xt.prototype.removeEventListener=function(n,e,t,r){WO(this,n,e,t,r)},xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)zf(t[r]);delete n.g[e],n.h--}}this.J=null},xt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},xt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dE=X.JSON.stringify;function uee(){var n=hE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var QO=new class aee{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new lee,n=>n.reset());class lee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dee(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function hee(n){X.setTimeout(()=>{throw n},0)}let Kc,Qc=!1,hE=new class cee{constructor(){this.h=this.g=null}add(e,t){const r=QO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},YO=()=>{const n=X.Promise.resolve(void 0);Kc=()=>{n.then(fee)}};var fee=()=>{for(var n;n=uee();){try{n.h.call(n.g)}catch(t){hee(t)}var e=QO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Qc=!1};function Kf(n,e){xt.call(this),this.h=n||1,this.g=e||X,this.j=Jt(this.qb,this),this.l=Date.now()}function fE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function pE(n,e,t){if("function"==typeof n)t&&(n=Jt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jt(n.handleEvent,n)}return 2147483647<Number(e)?-1:X.setTimeout(n,e||0)}function JO(n){n.g=pE(()=>{n.g=null,n.i&&(n.i=!1,JO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}At(Kf,xt),(R=Kf.prototype).ga=!1,R.T=null,R.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ut(this,"tick"),this.ga&&(fE(this),this.start()))}},R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.N=function(){Kf.$.N.call(this),fE(this),delete this.g};class pee extends es{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JO(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yc(n){es.call(this),this.h=n,this.g={}}At(Yc,es);var XO=[];function ZO(n,e,t,r){Array.isArray(t)||(t&&(XO[0]=t.toString()),t=XO);for(var i=0;i<t.length;i++){var s=HO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function eF(n){nE(n.g,function(e,t){this.g.hasOwnProperty(t)&&aE(e)},n),n.g={}}function Qf(){this.g=!0}function ba(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return dE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Yc.prototype.N=function(){Yc.$.N.call(this),eF(this)},Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qf.prototype.Ea=function(){this.g=!1},Qf.prototype.info=function(){};var Ws={},tF=null;function Yf(){return tF=tF||new xt}function nF(n){Xt.call(this,Ws.Ta,n)}function Jc(n){const e=Yf();Ut(e,new nF(e))}function rF(n,e){Xt.call(this,Ws.STAT_EVENT,n),this.stat=e}function hn(n){const e=Yf();Ut(e,new rF(e,n))}function iF(n,e){Xt.call(this,Ws.Ua,n),this.size=e}function Xc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){n()},e)}Ws.Ta="serverreachability",At(nF,Xt),Ws.STAT_EVENT="statevent",At(rF,Xt),Ws.Ua="timingevent",At(iF,Xt);var Jf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gE(){}function aF(){}gE.prototype.h=null;var vE,Zc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mE(){Xt.call(this,"d")}function yE(){Xt.call(this,"c")}function Xf(){}function el(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Yc(this),this.P=_ee,this.V=new Kf(n=YC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uF}function uF(){this.i=null,this.g="",this.h=!1}At(mE,Xt),At(yE,Xt),At(Xf,gE),Xf.prototype.g=function(){return new XMLHttpRequest},Xf.prototype.i=function(){return{}},vE=new Xf;var _ee=45e3,_E={},Zf={};function wE(n,e,t){n.L=1,n.v=rp(Ci(e)),n.s=t,n.S=!0,cF(n,null)}function cF(n,e){n.G=Date.now(),tl(n),n.A=Ci(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),_F(t.i,"t",r),n.C=0,t=n.l.J,n.h=new uF,n.g=GF(n.l,t?e:null,!n.s),0<n.O&&(n.M=new pee(Jt(n.Pa,n,n.g),n.O)),ZO(n.U,n.g,"readystatechange",n.nb),e=n.I?jO(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Jc(),function gee(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function lF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function dF(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=wee(n,t),i==Zf){4==e&&(n.o=4,hn(14),r=!1),ba(n.j,n.m,null,"[Incomplete Response]");break}if(i==_E){n.o=4,hn(15),ba(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ba(n.j,n.m,i,null),IE(n,i)}lF(n)&&i!=Zf&&i!=_E&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,hn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),AE(e),e.M=!0,hn(11))):(ba(n.j,n.m,t,"[Invalid Chunked Response]"),Ks(n),nl(n))}function wee(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Zf:(t=Number(e.substring(t,r)),isNaN(t)?_E:(r+=1)+t>e.length?Zf:(e=e.slice(r,r+t),n.C=r+t,e))}function tl(n){n.Y=Date.now()+n.P,hF(n,n.P)}function hF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xc(Jt(n.lb,n),e)}function ep(n){n.B&&(X.clearTimeout(n.B),n.B=null)}function nl(n){0==n.l.H||n.J||UF(n.l,n)}function Ks(n){ep(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,fE(n.V),eF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function IE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||CE(t.i,n)))if(!n.K&&CE(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;cp(t),ap(t)}SE(t),hn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Xc(Jt(t.ib,t),6e3));if(1>=CF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ys(t,11)}else if((n.K||t.g==n)&&cp(t),!zc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(EE(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ve(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=$F(r,r.J?r.pa:null,r.Y),o.K){EF(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(ep(a),tl(a)),r.g=o}else LF(r);0<t.j.length&&up(t)}else"stop"!=c[0]&&"close"!=c[0]||Ys(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ys(t,7):TE(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Jc()}catch{}}function fF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($f(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Cee(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($f(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Iee(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($f(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(R=el.prototype).setTimeout=function(n){this.P=n},R.nb=function(n){n=n.target;const e=this.M;e&&3==Br(n)?e.l():this.Pa(n)},R.Pa=function(n){try{if(n==this.g)e:{const l=Br(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||YC||this.g&&(this.h.h||this.g.ja()||NF(this.g)))){this.J||4!=l||7==e||Jc(),ep(this);var t=this.g.da();this.ca=t;t:if(lF(this)){var r=NF(this.g);n="";var i=r.length,s=4==Br(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ks(this),nl(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function mee(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zc(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,hn(12),Ks(this),nl(this);break e}ba(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IE(this,t)}this.S?(dF(this,l,o),YC&&this.i&&3==l&&(ZO(this.U,this.V,"tick",this.mb),this.V.start())):(ba(this.j,this.m,o,null),IE(this,o)),4==l&&Ks(this),this.i&&!this.J&&(4==l?UF(this.l,this):(this.i=!1,tl(this)))}else(function Bee(n){const e={};n=(n.g&&2<=Br(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(zc(n[r]))continue;var t=dee(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function iee(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,hn(12)):(this.o=0,hn(13)),Ks(this),nl(this)}}}catch{}},R.mb=function(){if(this.g){var n=Br(this.g),e=this.g.ja();this.C<e.length&&(ep(this),dF(this,n,e),this.i&&4!=n&&tl(this))}},R.cancel=function(){this.J=!0,Ks(this)},R.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function yee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Jc(),hn(17)),Ks(this),this.o=2,nl(this)):hF(this,this.Y-n)};var pF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Qs){this.h=n.h,tp(this,n.j),this.s=n.s,this.g=n.g,np(this,n.m),this.l=n.l;var e=n.i,t=new sl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),gF(this,t),this.o=n.o}else n&&(e=String(n).match(pF))?(this.h=!1,tp(this,e[1]||"",!0),this.s=rl(e[2]||""),this.g=rl(e[3]||"",!0),np(this,e[4]),this.l=rl(e[5]||"",!0),gF(this,e[6]||"",!0),this.o=rl(e[7]||"")):(this.h=!1,this.i=new sl(null,this.h))}function Ci(n){return new Qs(n)}function tp(n,e,t){n.j=t?rl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function np(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gF(n,e,t){e instanceof sl?(n.i=e,function xee(n,e){e&&!n.j&&(ts(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(yF(this,r),_F(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=il(e,See)),n.i=new sl(e,n.h))}function Ve(n,e,t){n.i.set(e,t)}function rp(n){return Ve(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function il(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Dee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Dee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(il(e,mF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(il(e,mF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(il(t,"/"==t.charAt(0)?Tee:bee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",il(t,Aee)),n.join("")};var mF=/[#\/\?@]/g,bee=/[#\?:]/g,Tee=/[#\?]/g,See=/[#\?@]/g,Aee=/#/g;function sl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ts(n){n.g||(n.g=new Map,n.h=0,n.i&&function Eee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function yF(n,e){ts(n),e=Ta(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function vF(n,e){return ts(n),e=Ta(n,e),n.g.has(e)}function _F(n,e,t){yF(n,e),0<t.length&&(n.i=null,n.g.set(Ta(n,e),KC(t)),n.h+=t.length)}function Ta(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function wF(n){this.l=n||Nee,n=X.PerformanceNavigationTiming?0<(n=X.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=sl.prototype).add=function(n,e){ts(this),this.i=null,n=Ta(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},R.forEach=function(n,e){ts(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},R.ta=function(){ts(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},R.Z=function(n){ts(this);let e=[];if("string"==typeof n)vF(this,n)&&(e=e.concat(this.g.get(Ta(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},R.set=function(n,e){return ts(this),this.i=null,vF(this,n=Ta(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},R.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Nee=10;function IF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function CF(n){return n.h?1:n.g?n.g.size:0}function CE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function EE(n,e){n.g?n.g.add(e):n.h=e}function EF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function DF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return KC(n.i)}wF.prototype.cancel=function(){if(this.i=DF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Ree=class{stringify(n){return X.JSON.stringify(n,void 0)}parse(n){return X.JSON.parse(n,void 0)}};function kee(){this.g=new Ree}function Pee(n,e,t){const r=t||"";try{fF(n,function(i,s){let o=i;Hc(i)&&(o=dE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ip(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ol(n){this.l=n.fc||null,this.j=n.ob||!1}function sp(n,e){xt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=DE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(ol,gE),ol.prototype.g=function(){return new sp(this.l,this.j)},ol.prototype.i=function(n){return function(){return n}}({}),At(sp,xt);var DE=0;function bF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function al(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ul(n)}function ul(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(R=sp.prototype).open=function(n,e){if(this.readyState!=DE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ul(this)},R.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,al(this)),this.readyState=DE},R.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ul(this)),this.g&&(this.readyState=3,ul(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},R.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?al(this):ul(this),3==this.readyState&&bF(this)}},R.Za=function(n){this.g&&(this.response=this.responseText=n,al(this))},R.Ya=function(n){this.g&&(this.response=n,al(this))},R.ka=function(){this.g&&al(this)},R.setRequestHeader=function(n,e){this.v.append(n,e)},R.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Fee=X.JSON.parse;function Je(n){xt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=TF,this.L=this.M=!1}At(Je,xt);var TF="",Lee=/^https?$/i,Vee=["POST","PUT"];function SF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,AF(n),op(n)}function AF(n){n.F||(n.F=!0,Ut(n,"complete"),Ut(n,"error"))}function xF(n){if(n.h&&typeof qC<"u"&&(!n.C[1]||4!=Br(n)||2!=n.da()))if(n.v&&4==Br(n))pE(n.La,0,n);else if(Ut(n,"readystatechange"),4==Br(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(pF)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!Lee.test(i?i.toLowerCase():"")}t=r}if(t)Ut(n,"complete"),Ut(n,"success");else{n.m=6;try{var s=2<Br(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",AF(n)}}finally{op(n)}}}function op(n,e){if(n.g){MF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ut(n,"ready");try{t.onreadystatechange=r}catch{}}}function MF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(X.clearTimeout(n.A),n.A=null)}function Br(n){return n.g?n.g.readyState:0}function NF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case TF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function RF(n){let e="";return nE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function bE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=RF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ve(n,e,t))}function cl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kF(n){this.Ga=0,this.j=[],this.l=new Qf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cl("baseRetryDelayMs",5e3,n),this.hb=cl("retryDelaySeedMs",1e4,n),this.eb=cl("forwardChannelMaxRetries",2,n),this.xa=cl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new wF(n&&n.concurrentRequestLimit),this.Ja=new kee,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function TE(n){if(PF(n),3==n.H){var e=n.W++,t=Ci(n.I);if(Ve(t,"SID",n.K),Ve(t,"RID",e),Ve(t,"TYPE","terminate"),ll(n,t),(e=new el(n,n.l,e)).L=2,e.v=rp(Ci(t)),t=!1,X.navigator&&X.navigator.sendBeacon)try{t=X.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&X.Image&&((new Image).src=e.v,t=!0),t||(e.g=GF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tl(e)}jF(n)}function ap(n){n.g&&(AE(n),n.g.cancel(),n.g=null)}function PF(n){ap(n),n.u&&(X.clearTimeout(n.u),n.u=null),cp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&X.clearTimeout(n.m),n.m=null)}function up(n){if(!IF(n.i)&&!n.m){n.m=!0;var e=n.Na;Kc||YO(),Qc||(Kc(),Qc=!0),hE.add(e,n),n.C=0}}function OF(n,e){var t;t=e?e.m:n.W++;const r=Ci(n.I);Ve(r,"SID",n.K),Ve(r,"RID",t),Ve(r,"AID",n.V),ll(n,r),n.o&&n.s&&bE(r,n.o,n.s),t=new el(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=FF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),EE(n.i,t),wE(t,r,e)}function ll(n,e){n.na&&nE(n.na,function(t,r){Ve(e,r,t)}),n.h&&fF({},function(t,r){Ve(e,r,t)})}function FF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Jt(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Pee(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function LF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Kc||YO(),Qc||(Kc(),Qc=!0),hE.add(e,n),n.A=0}}function SE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Xc(Jt(n.Ma,n),BF(n,n.A)),n.A++,0))}function AE(n){null!=n.B&&(X.clearTimeout(n.B),n.B=null)}function VF(n){n.g=new el(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ci(n.wa);Ve(e,"RID","rpc"),Ve(e,"SID",n.K),Ve(e,"AID",n.V),Ve(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ve(e,"TO",n.qa),Ve(e,"TYPE","xmlhttp"),ll(n,e),n.o&&n.s&&bE(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=rp(Ci(e)),t.s=null,t.S=!0,cF(t,n)}function cp(n){null!=n.v&&(X.clearTimeout(n.v),n.v=null)}function UF(n,e){var t=null;if(n.g==e){cp(n),AE(n),n.g=null;var r=2}else{if(!CE(n.i,e))return;t=e.F,EF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ut(r=Yf(),new iF(r,t)),up(n)}else LF(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function jee(n,e){return!(CF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Xc(Jt(n.Na,n,e),BF(n,n.C)),n.C++,0)))}(n,e)||2==r&&SE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ys(n,5);break;case 4:Ys(n,10);break;case 3:Ys(n,6);break;default:Ys(n,2)}}function BF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ys(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Jt(n.pb,n);t||(t=new Qs("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||tp(t,"https"),rp(t)),function Oee(n,e){const t=new Qf;if(X.Image){const r=new Image;r.onload=Gf(ip,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Gf(ip,t,r,"TestLoadImage: error",!1,e),r.onabort=Gf(ip,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gf(ip,t,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else hn(2);n.H=0,n.h&&n.h.za(e),jF(n),PF(n)}function jF(n){if(n.H=0,n.ma=[],n.h){const e=DF(n.i);(0!=e.length||0!=n.j.length)&&(FO(n.ma,e),FO(n.ma,n.j),n.i.i.length=0,KC(n.j),n.j.length=0),n.h.ya()}}function $F(n,e,t){var r=t instanceof Qs?Ci(t):new Qs(t);if(""!=r.g)e&&(r.g=e+"."+r.g),np(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qs(null);r&&tp(s,r),e&&(s.g=e),i&&np(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Ve(r,t,e),Ve(r,"VER",n.ra),ll(n,r),r}function GF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(t&&n.Ha&&!n.va?new ol({ob:!0}):n.va)).Oa(n.J),e}function HF(){}function lp(){if(Da&&!(10<=Number(eee)))throw Error("Environmental error: no available transport.")}function Ln(n,e){xt.call(this),this.g=new kF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!zc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Sa(this)}function zF(n){mE.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qF(){yE.call(this),this.status=1}function Sa(n){this.g=n}function pr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xE(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function be(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(R=Je.prototype).Oa=function(n){this.M=n},R.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vE.g(),this.C=function oF(n){return n.h||(n.h=n.i())}(this.u?this.u:vE),this.g.onreadystatechange=Jt(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void SF(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=X.FormData&&n instanceof X.FormData,!(0<=OO(Vee,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MF(this),0<this.B&&((this.L=function Uee(n){return Da&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.ua,this)):this.A=pE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){SF(this,s)}},R.ua=function(){typeof qC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))},R.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ut(this,"complete"),Ut(this,"abort"),op(this))},R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),op(this,!0)),Je.$.N.call(this)},R.La=function(){this.s||(this.G||this.v||this.l?xF(this):this.kb())},R.kb=function(){xF(this)},R.isActive=function(){return!!this.g},R.da=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},R.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Fee(e)}},R.Ia=function(){return this.m},R.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=kF.prototype).ra=8,R.H=1,R.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new el(this,this.l,n);let s=this.s;if(this.U&&(s?(s=jO(s),GO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=FF(this,i,e),Ve(t=Ci(this.I),"RID",n),Ve(t,"CVER",22),this.F&&Ve(t,"X-HTTP-Session-Id",this.F),ll(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(RF(s)))+"&"+e:this.o&&bE(t,this.o,s)),EE(this.i,i),this.bb&&Ve(t,"TYPE","init"),this.P?(Ve(t,"$req",e),Ve(t,"SID","null"),i.aa=!0,wE(i,t,null)):wE(i,t,e),this.H=2}}else 3==this.H&&(n?OF(this,n):0==this.j.length||IF(this.i)||OF(this))},R.Ma=function(){if(this.u=null,VF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Xc(Jt(this.jb,this),n)}},R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hn(10),ap(this),VF(this))},R.ib=function(){null!=this.v&&(this.v=null,ap(this),SE(this),hn(19))},R.pb=function(n){n?(this.l.info("Successfully pinged google.com"),hn(2)):(this.l.info("Failed to ping google.com"),hn(1))},R.isActive=function(){return!!this.h&&this.h.isActive(this)},(R=HF.prototype).Ba=function(){},R.Aa=function(){},R.za=function(){},R.ya=function(){},R.isActive=function(){return!0},R.Va=function(){},lp.prototype.g=function(n,e){return new Ln(n,e)},At(Ln,xt),Ln.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;hn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$F(n,null,n.Y),up(n)},Ln.prototype.close=function(){TE(this.g)},Ln.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dE(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&up(e)},Ln.prototype.N=function(){this.g.h=null,delete this.j,TE(this.g),delete this.g,Ln.$.N.call(this)},At(zF,mE),At(qF,yE),At(Sa,HF),Sa.prototype.Ba=function(){Ut(this.g,"a")},Sa.prototype.Aa=function(n){Ut(this.g,new zF(n))},Sa.prototype.za=function(n){Ut(this.g,new qF)},Sa.prototype.ya=function(){Ut(this.g,"b")},At(pr,function $ee(){this.blockSize=-1}),pr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)xE(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){xE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){xE(this,r),i=0;break}}this.h=i,this.i+=e},pr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Gee={};function ME(n){return-128<=n&&128>n?function JZ(n,e){var t=Gee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new be([0|e],0>e?-1:0)}):new be([0|n],0>n?-1:0)}function jr(n){if(isNaN(n)||!isFinite(n))return Aa;if(0>n)return Bt(jr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=NE;return new be(e,0)}var NE=4294967296,Aa=ME(0),RE=ME(1),KF=ME(16777216);function Ei(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Jn(n){return-1==n.h}function Bt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new be(t,~n.h).add(RE)}function dp(n,e){return n.add(Bt(e))}function hp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function dl(n,e){this.g=n,this.h=e}function fp(n,e){if(Ei(e))throw Error("division by zero");if(Ei(n))return new dl(Aa,Aa);if(Jn(n))return e=fp(Bt(n),e),new dl(Bt(e.g),Bt(e.h));if(Jn(e))return e=fp(n,Bt(e)),new dl(Bt(e.g),e.h);if(30<n.g.length){if(Jn(n)||Jn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=RE,r=e;0>=r.X(n);)t=QF(t),r=QF(r);var i=xa(t,1),s=xa(r,1);for(r=xa(r,2),t=xa(t,2);!Ei(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=xa(r,1),t=xa(t,1)}return e=dp(n,i.R(e)),new dl(i,e)}for(i=Aa;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=jr(t)).R(e);Jn(o)||0<o.X(n);)o=(s=jr(t-=r)).R(e);Ei(s)&&(s=RE),i=i.add(s),n=dp(n,o)}return new dl(i,n)}function QF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new be(t,n.h)}function xa(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new be(i,n.h)}(R=be.prototype).ea=function(){if(Jn(this))return-Bt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:NE+r)*e,e*=NE}return n},R.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ei(this))return"0";if(Jn(this))return"-"+Bt(this).toString(n);for(var e=jr(Math.pow(n,6)),t=this,r="";;){var i=fp(t,e).g,s=((0<(t=dp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ei(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},R.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},R.X=function(n){return Jn(n=dp(this,n))?-1:Ei(n)?0:1},R.abs=function(){return Jn(this)?Bt(this):this},R.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new be(t,-2147483648&t[t.length-1]?-1:0)},R.R=function(n){if(Ei(this)||Ei(n))return Aa;if(Jn(this))return Jn(n)?Bt(this).R(Bt(n)):Bt(Bt(this).R(n));if(Jn(n))return Bt(this.R(Bt(n)));if(0>this.X(KF)&&0>n.X(KF))return jr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,hp(t,2*r+2*i),t[2*r+2*i+1]+=s*u,hp(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,hp(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,hp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new be(t,0)},R.gb=function(n){return fp(this,n).h},R.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new be(t,this.h&n.h)},R.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new be(t,this.h|n.h)},R.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new be(t,this.h^n.h)},lp.prototype.createWebChannel=lp.prototype.g,Ln.prototype.send=Ln.prototype.u,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,Jf.NO_ERROR=0,Jf.TIMEOUT=8,Jf.HTTP_ERROR=6,sF.COMPLETE="complete",aF.EventType=Zc,Zc.OPEN="a",Zc.CLOSE="b",Zc.ERROR="c",Zc.MESSAGE="d",xt.prototype.listen=xt.prototype.O,Je.prototype.listenOnce=Je.prototype.P,Je.prototype.getLastError=Je.prototype.Sa,Je.prototype.getLastErrorCode=Je.prototype.Ia,Je.prototype.getStatus=Je.prototype.da,Je.prototype.getResponseJson=Je.prototype.Wa,Je.prototype.getResponseText=Je.prototype.ja,Je.prototype.send=Je.prototype.ha,Je.prototype.setWithCredentials=Je.prototype.Oa,pr.prototype.digest=pr.prototype.l,pr.prototype.reset=pr.prototype.reset,pr.prototype.update=pr.prototype.j,be.prototype.add=be.prototype.add,be.prototype.multiply=be.prototype.R,be.prototype.modulo=be.prototype.gb,be.prototype.compare=be.prototype.X,be.prototype.toNumber=be.prototype.ea,be.prototype.toString=be.prototype.toString,be.prototype.getBits=be.prototype.D,be.fromNumber=jr,be.fromString=function WF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Bt(WF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=jr(Math.pow(e,8)),r=Aa,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=jr(Math.pow(e,s)),r=r.R(s).add(jr(o))):r=(r=r.R(t)).add(jr(o))}return r};var Hee=fr.createWebChannelTransport=function(){return new lp},zee=fr.getStatEventTarget=function(){return Yf()},kE=fr.ErrorCode=Jf,qee=fr.EventType=sF,Wee=fr.Event=Ws,YF=fr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kee=fr.FetchXmlHttpFactory=ol,pp=fr.WebChannel=aF,Qee=fr.XhrIo=Je,Yee=fr.Md5=pr,Ma=fr.Integer=be;const JF="@firebase/firestore";class Mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let Na="9.23.0";const ns=new vf("@firebase/firestore");function PE(){return ns.logLevel}function T(n,...e){if(ns.logLevel<=me.DEBUG){const t=e.map(OE);ns.debug(`Firestore (${Na}): ${n}`,...t)}}function it(n,...e){if(ns.logLevel<=me.ERROR){const t=e.map(OE);ns.error(`Firestore (${Na}): ${n}`,...t)}}function gr(n,...e){if(ns.logLevel<=me.WARN){const t=e.map(OE);ns.warn(`Firestore (${Na}): ${n}`,...t)}}function OE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function O(n="Unexpected state"){const e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+n;throw it(e),new Error(e)}function V(n,e){n||O()}function M(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class XF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mt.UNAUTHENTICATED))}shutdown(){}}class Xee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Zee{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ct,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ct)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new XF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new Mt(e)}}class ete{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class tte{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ete(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nte{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(V("string"==typeof t.token),this.T=t.token,new ZF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rte(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class eL{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=rte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function J(n,e){return n<e?-1:n>e?1:0}function Ra(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class We{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new We(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new We(0,0))}static max(){return new U(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hl{constructor(e,t,r){void 0===t?t=0:t>e.length&&O(),void 0===r?r=e.length-t:r>e.length-t&&O(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===hl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ye extends hl{construct(e,t,r){return new ye(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ye(t)}static emptyPath(){return new ye([])}}const ite=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends hl{construct(e,t,r){return new st(e,t,r)}static isValidIdentifier(e){return ite.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(t)}static emptyPath(){return new st([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(ye.fromString(e))}static fromName(e){return new x(ye.fromString(e).popFirst(5))}static empty(){return new x(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new ye(e.slice()))}}function rL(n){return new Vn(n.readTime,n.key,-1)}class Vn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vn(U.min(),x.empty(),-1)}static max(){return new Vn(U.max(),x.empty(),-1)}}function LE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=x.comparator(n.documentKey,e.documentKey),0!==t?t:J(n.largestBatchId,e.largestBatchId))}const iL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ate{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function rs(n){return VE.apply(this,arguments)}function VE(){return VE=m(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==iL)throw n;T("LocalStore","Unexpectedly lost primary lease")}),VE.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof v?t:v.resolve(t)}catch(t){return v.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):v.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):v.reject(t)}static resolve(e){return new v((t,r)=>{t(e)})}static reject(e){return new v((t,r)=>{r(e)})}static waitFor(e){return new v((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=v.resolve(!1);for(const r of e)t=t.next(i=>i?v.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new v((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function is(n){return"IndexedDbTransactionError"===n.name}let Un=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function gl(n){return null==n}function ml(n){return 0===n&&1/n==-1/0}function fL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ss(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Oe{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new Oe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _p(this.root,e,this.comparator,!1)}getReverseIterator(){return new _p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _p(this.root,e,this.comparator,!0)}}class _p{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new jt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1,jt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(n,e,t,r,i){return this}insert(n,e,t){return new jt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gL(this.data.getIterator())}getIteratorFrom(e){return new gL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ue(this.comparator);return t.data=e,t}}class gL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Ue(st.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mL("Invalid base64 string: "+i):i}}(e);return new Et(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Et(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const Mte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(n){if(V(!!n),"string"==typeof n){let e=0;const t=Mte.exec(n);if(V(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(n.seconds),nanos:Xe(n.nanos)}}function Xe(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Di(n){return"string"==typeof n?Et.fromBase64String(n):Et.fromUint8Array(n)}function wp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ip(n){const e=n.mapValue.fields.__previous_value__;return wp(e)?Ip(e):e}function yl(n){const e=os(n.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}class Nte{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Zs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zs&&e.projectId===this.projectId&&e.database===this.database}}const as={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wp(n)?4:wL(n)?9007199254740991:10:O()}function Gr(n,e){if(n===e)return!0;const t=us(n);if(t!==us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yl(n).isEqual(yl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=os(r.timestampValue),o=os(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Di(n.bytesValue).isEqual(Di(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Xe(r.geoPointValue.latitude)===Xe(i.geoPointValue.latitude)&&Xe(r.geoPointValue.longitude)===Xe(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xe(r.integerValue)===Xe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Xe(r.doubleValue),o=Xe(i.doubleValue);return s===o?ml(s)===ml(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ra(n.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(fL(s)!==fL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Gr(s[a],o[a])))return!1;return!0}(n,e);default:return O()}var i}function vl(n,e){return void 0!==(n.values||[]).find(t=>Gr(t,e))}function cs(n,e){if(n===e)return 0;const t=us(n),r=us(e);if(t!==r)return J(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return J(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Xe(i.integerValue||i.doubleValue),a=Xe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return yL(n.timestampValue,e.timestampValue);case 4:return yL(yl(n),yl(e));case 5:return J(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Di(i),a=Di(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=J(o[u],a[u]);if(0!==c)return c}return J(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=J(Xe(i.latitude),Xe(s.latitude));return 0!==o?o:J(Xe(i.longitude),Xe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=cs(o[u],a[u]);if(c)return c}return J(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===as.mapValue&&s===as.mapValue)return 0;if(i===as.mapValue)return 1;if(s===as.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=J(a[l],c[l]);if(0!==d)return d;const h=cs(o[a[l]],u[c[l]]);if(0!==h)return h}return J(a.length,c.length)}(n.mapValue,e.mapValue);default:throw O()}}function yL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return J(n,e);const t=os(n),r=os(e),i=J(t.seconds,r.seconds);return 0!==i?i:J(t.nanos,r.nanos)}function Pa(n){return jE(n)}function jE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=os(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Di(n.bytesValue).toBase64():"referenceValue"in n?x.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jE(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jE(r.fields[a])}`;return s+"}"}(n.mapValue):O();var e}function eo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $E(n){return!!n&&"integerValue"in n}function _l(n){return!!n&&"arrayValue"in n}function vL(n){return!!n&&"nullValue"in n}function _L(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dp(n){return!!n&&"mapValue"in n}function wl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ss(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}setAll(e){let t=st.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=wl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Dp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ss(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(wl(this.value))}}function EL(n){const e=[];return ss(n.fields,(t,r)=>{const i=new st([t]);if(Dp(r)){const s=EL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Dn(e)}class Be{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Be(e,0,U.min(),U.min(),U.min(),$t.empty(),0)}static newFoundDocument(e,t,r,i){return new Be(e,1,t,U.min(),r,i,0)}static newNoDocument(e,t){return new Be(e,2,t,U.min(),U.min(),$t.empty(),0)}static newUnknownDocument(e,t){return new Be(e,3,t,U.min(),U.min(),$t.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Be&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ls{constructor(e,t){this.position=e,this.inclusive=t}}function DL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),t.key):cs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function bL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gr(n.position[t],e.position[t]))return!1;return!0}class Oa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class TL{}class fe extends TL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ote(e,t,r):"array-contains"===t?new Vte(e,r):"in"===t?new RL(e,r):"not-in"===t?new Ute(e,r):"array-contains-any"===t?new Bte(e,r):new fe(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Fte(e,r):new Lte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cs(t,this.value)):null!==t&&us(this.value)===us(t)&&this.matchesComparison(cs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Te extends TL{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Te(e,t)}matches(e){return Fa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Fa(n){return"and"===n.op}function HE(n){return function SL(n){for(const e of n.filters)if(e instanceof Te)return!1;return!0}(n)&&Fa(n)}function zE(n){if(n instanceof fe)return n.field.canonicalString()+n.op.toString()+Pa(n.value);if(HE(n))return n.filters.map(e=>zE(e)).join(",");{const e=n.filters.map(t=>zE(t)).join(",");return`${n.op}(${e})`}}function AL(n,e){return n instanceof fe?(t=n,(r=e)instanceof fe&&t.op===r.op&&t.field.isEqual(r.field)&&Gr(t.value,r.value)):n instanceof Te?function(t,r){return r instanceof Te&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&AL(s,r.filters[o]),!0)}(n,e):void O();var t,r}function ML(n){return n instanceof fe?`${(e=n).field.canonicalString()} ${e.op} ${Pa(e.value)}`:n instanceof Te?function(e){return e.op.toString()+" {"+e.getFilters().map(ML).join(" ,")+"}"}(n):"Filter";var e}class Ote extends fe{constructor(e,t,r){super(e,t,r),this.key=x.fromName(r.referenceValue)}matches(e){const t=x.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fte extends fe{constructor(e,t){super(e,"in",t),this.keys=NL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Lte extends fe{constructor(e,t){super(e,"not-in",t),this.keys=NL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function NL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>x.fromName(r.referenceValue))}class Vte extends fe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _l(t)&&vl(t.arrayValue,this.value)}}class RL extends fe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vl(this.value.arrayValue,t)}}class Ute extends fe{constructor(e,t){super(e,"not-in",t)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vl(this.value.arrayValue,t)}}class Bte extends fe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_l(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}}class jte{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function qE(n,e=null,t=[],r=[],i=null,s=null,o=null){return new jte(n,e,t,r,i,s,o)}function to(n){const e=M(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),gl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pa(r)).join(",")),e.dt=t}return e.dt}function Il(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Pte(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bL(n.startAt,e.startAt)&&bL(n.endAt,e.endAt)}function bp(n){return x.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class bi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function La(n){return new bi(n)}function FL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function WE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Sp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function KE(n){return null!==n.collectionGroup}function no(n){const e=M(n);if(null===e.wt){e.wt=[];const t=Sp(e),r=WE(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Oa(t)),e.wt.push(new Oa(st.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Oa(st.keyField(),s))}}}return e.wt}function fn(n){const e=M(n);if(!e._t)if("F"===e.limitType)e._t=qE(e.path,e.collectionGroup,no(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of no(e))t.push(new Oa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ls(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ls(e.startAt.position,e.startAt.inclusive):null;e._t=qE(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function QE(n,e){e.getFirstInequalityField(),Sp(n);const t=n.filters.concat([e]);return new bi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ap(n,e,t){return new bi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cl(n,e){return Il(fn(n),fn(e))&&n.limitType===e.limitType}function LL(n){return`${to(fn(n))}|lt:${n.limitType}`}function YE(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>ML(r)).join(", ")}]`),gl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pa(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pa(r)).join(",")),`Target(${t})`}(fn(n))}; limitType=${n.limitType})`}function El(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):x.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of no(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=DL(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,no(t),r)||t.endAt&&!function(i,s,o){const a=DL(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,no(t),r)));var t,r}function UL(n){return(e,t)=>{let r=!1;for(const i of no(n)){const s=$te(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function $te(n,e,t){const r=n.field.isKeyField()?x.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?cs(a,u):O()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class Ti{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pL(this.inner)}size(){return this.innerSize}}const Gte=new Oe(x.comparator);function bn(){return Gte}const BL=new Oe(x.comparator);function Dl(...n){let e=BL;for(const t of n)e=e.insert(t.key,t);return e}function jL(n){let e=BL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hr(){return bl()}function $L(){return bl()}function bl(){return new Ti(n=>n.toString(),(n,e)=>n.isEqual(e))}const Hte=new Oe(x.comparator),zte=new Ue(x.comparator);function re(...n){let e=zte;for(const t of n)e=e.add(t);return e}const qte=new Ue(J);function GL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ml(e)?"-0":e}}function HL(n){return{integerValue:""+n}}function zL(n,e){return function oL(n){return"number"==typeof n&&Number.isInteger(n)&&!ml(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?HL(e):GL(n,e)}class xp{constructor(){this._=void 0}}function Wte(n,e,t){return n instanceof Va?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&wp(i)&&(i=Ip(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof ro?WL(n,e):n instanceof io?KL(n,e):function(r,i){const s=qL(r,i),o=QL(s)+QL(r.gt);return $E(s)&&$E(r.gt)?HL(o):GL(r.serializer,o)}(n,e)}function Kte(n,e,t){return n instanceof ro?WL(n,e):n instanceof io?KL(n,e):t}function qL(n,e){return n instanceof Ua?$E(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Va extends xp{}class ro extends xp{constructor(e){super(),this.elements=e}}function WL(n,e){const t=YL(e);for(const r of n.elements)t.some(i=>Gr(i,r))||t.push(r);return{arrayValue:{values:t}}}class io extends xp{constructor(e){super(),this.elements=e}}function KL(n,e){let t=YL(e);for(const r of n.elements)t=t.filter(i=>!Gr(i,r));return{arrayValue:{values:t}}}class Ua extends xp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function QL(n){return Xe(n.integerValue||n.doubleValue)}function YL(n){return _l(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yte{constructor(e,t){this.version=e,this.transformResults=t}}class Ge{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ge}static exists(e){return new Ge(void 0,e)}static updateTime(e){return new Ge(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Np{}function JL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ja(n.key,Ge.none()):new Ba(n.key,n.data,Ge.none());{const t=n.data,r=$t.empty();let i=new Ue(st.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Si(n.key,r,new Dn(i.toArray()),Ge.none())}}function Jte(n,e,t){n instanceof Ba?function(r,i,s){const o=r.value.clone(),a=e2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Si?function(r,i,s){if(!Mp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=e2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ZL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Sl(n,e,t,r){return n instanceof Ba?function(i,s,o,a){if(!Mp(i.precondition,s))return o;const u=i.value.clone(),c=t2(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Si?function(i,s,o,a){if(!Mp(i.precondition,s))return o;const u=t2(i.fieldTransforms,a,s),c=s.data;return c.setAll(ZL(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,Mp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Xte(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=qL(r.transform,i||null);null!=s&&(null===t&&(t=$t.empty()),t.set(r.field,s))}return t||null}function XL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ra(t,r,(i,s)=>function Qte(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ro&&r instanceof ro||t instanceof io&&r instanceof io?Ra(t.elements,r.elements,Gr):t instanceof Ua&&r instanceof Ua?Gr(t.gt,r.gt):t instanceof Va&&r instanceof Va);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ba extends Np{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Si extends Np{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function e2(n,e,t){const r=new Map;V(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Kte(o,a,t[i]))}return r}function t2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Wte(s,o,e))}return r}class ja extends Np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XE extends Np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZE{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Jte(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$L();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=JL(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),re())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(t,r)=>XL(t,r))&&Ra(this.baseMutations,e.baseMutations,(t,r)=>XL(t,r))}}class eD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){V(e.mutations.length===r.length);let i=Hte;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new eD(e,t,r,i)}}class tD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ene{constructor(e,t){this.count=e,this.unchangedNames=t}}var pt,ve;function r2(n){if(void 0===n)return it("GRPC error has no .code"),w.UNKNOWN;switch(n){case pt.OK:return w.OK;case pt.CANCELLED:return w.CANCELLED;case pt.UNKNOWN:return w.UNKNOWN;case pt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case pt.INTERNAL:return w.INTERNAL;case pt.UNAVAILABLE:return w.UNAVAILABLE;case pt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case pt.NOT_FOUND:return w.NOT_FOUND;case pt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case pt.ABORTED:return w.ABORTED;case pt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case pt.DATA_LOSS:return w.DATA_LOSS;default:return O()}}(ve=pt||(pt={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";class nD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Rp}static getOrCreateInstance(){return null===Rp&&(Rp=new nD),Rp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Rp=null;const tne=new Ma([4294967295,4294967295],0);function s2(n){const e=function i2(){return new TextEncoder}().encode(n),t=new Yee;return t.update(e),new Uint8Array(t.digest())}function o2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ma([t,r],0),new Ma([i,s],0)]}class rD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Al(`Invalid padding: ${t}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Al(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Al(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ma.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Ma.fromNumber(r)));return 1===i.compare(tne)&&(i=new Ma([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=s2(e),[r,i]=o2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new rD(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=s2(e),[r,i]=o2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xl{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xl(U.min(),i,new Oe(J),bn(),re())}}class Ml{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ml(r,t,re(),re(),re())}}class kp{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class a2{constructor(e,t){this.targetId=e,this.Vt=t}}class u2{constructor(e,t,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class c2{constructor(){this.St=0,this.Dt=d2(),this.Ct=Et.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=re(),t=re(),r=re();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Ml(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=d2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class nne{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=bn(),this.zt=l2(),this.Wt=new Oe(J)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(bp(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Be.newNoDocument(a,U.min()))}else V(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=nD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,I;const C={localCacheCount:l,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(C.bloomFilter={applied:0===c,hashCount:null!==(h=_?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=_?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(I=null===(y=_?.bits)||void 0===y?void 0:y.padding)&&void 0!==I?I:0}),C}(u,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Di(s).toUint8Array()}catch(l){if(l instanceof mL)return gr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new rD(u,o,a)}catch(l){return gr(l instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&bp(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Be.newNoDocument(u,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=re();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new xl(e,t,this.Wt,this.jt,r);return this.jt=bn(),this.zt=l2(),this.Wt=new Oe(J),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new c2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ue(J),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new c2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function l2(){return new Oe(x.comparator)}function d2(){return new Oe(x.comparator)}const rne={asc:"ASCENDING",desc:"DESCENDING"},ine={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sne={and:"AND",or:"OR"};class one{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function iD(n,e){return n.useProto3Json||gl(e)?e:{value:e}}function $a(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ane(n,e){return $a(n,e.toTimestamp())}function ot(n){return V(!!n),U.fromTimestamp(function(e){const t=os(e);return new We(t.seconds,t.nanos)}(n))}function sD(n,e){return(t=n,new ye(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function f2(n){const e=ye.fromString(n);return V(C2(e)),e}function Nl(n,e){return sD(n.databaseId,e.path)}function zr(n,e){const t=f2(e);if(t.get(1)!==n.databaseId.projectId)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new x(g2(t))}function oD(n,e){return sD(n.databaseId,e)}function Rl(n){return new ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g2(n){return V(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function m2(n,e,t){return{name:Nl(n,e),fields:t.value.mapValue.fields}}function v2(n,e){return{documents:[oD(n,e.path)]}}function uD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=oD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=oD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return I2(Te.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ds((l=c).field),direction:hne(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=iD(n,e.limit);var a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function _2(n){let e=function p2(n){const e=f2(n);return 4===e.length?ye.emptyPath():g2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){V(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(l){const d=w2(l);return d instanceof Te&&HE(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new Oa(Ga((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,gl(d)?null:d}(t.limit));let u=null;var l;t.startAt&&(u=new ls((l=t.startAt).values||[],!!l.before));let c=null;return t.endAt&&(c=function(l){return new ls(l.values||[],!l.before)}(t.endAt)),function OL(n,e,t,r,i,s,o,a){return new bi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function w2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ga(e.unaryFilter.field);return fe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Ga(e.unaryFilter.field);return fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ga(e.unaryFilter.field);return fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ga(e.unaryFilter.field);return fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(n):void 0!==n.fieldFilter?fe.create(Ga((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Te.create(e.compositeFilter.filters.map(t=>w2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(n):O();var e}function hne(n){return rne[n]}function fne(n){return ine[n]}function pne(n){return sne[n]}function ds(n){return{fieldPath:n.canonicalString()}}function Ga(n){return st.fromServerFormat(n.fieldPath)}function I2(n){return n instanceof fe?function(e){if("=="===e.op){if(_L(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NAN"}};if(vL(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_L(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NOT_NAN"}};if(vL(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(e.field),op:fne(e.op),value:e.value}}}(n):n instanceof Te?function(e){const t=e.getFilters().map(r=>I2(r));return 1===t.length?t[0]:{compositeFilter:{op:pne(e.op),filters:t}}}(n):O()}function gne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function C2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ai{constructor(e,t,r,i,s=U.min(),o=U.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class E2{constructor(e){this.fe=e}}function cD(n){const e=_2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ap(e,e.limit,"L"):e}class uo{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Xe(e.integerValue));else if("doubleValue"in e){const r=Xe(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),ml(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Di(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?wL(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):O()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),x.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}uo.Ve=new uo;class Dne{constructor(){this.rn=new gD}addToCollectionParentIndex(e,t){return this.rn.add(t),v.resolve()}getCollectionParents(e,t){return v.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return v.resolve()}deleteFieldIndex(e,t){return v.resolve()}getDocumentsMatchingTarget(e,t){return v.resolve(null)}getIndexType(e,t){return v.resolve(0)}getFieldIndexes(e,t){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,t){return v.resolve(Vn.min())}getMinOffsetFromCollectionGroup(e,t){return v.resolve(Vn.min())}updateCollectionGroup(e,t,r){return v.resolve()}updateIndexEntries(e,t){return v.resolve()}}class gD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ue(ye.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ue(ye.comparator)).toArray()}}new Uint8Array(0);class en{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);class lo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new lo(0)}static Mn(){return new lo(-1)}}class Mne{constructor(){this.changes=new Ti(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Be.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?v.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Q2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Sl(r.mutation,i,Dn.empty(),We.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,t,r=re()){const i=Hr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Dl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Hr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,re()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=bn();const o=bl(),a=bl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Si)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Sl(l.mutation,c,l.mutation.getFieldMask(),We.now())):o.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new kne(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=bl();let i=new Oe((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Dn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||re()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=$L();l.forEach(h=>{if(!s.has(h)){const f=JL(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return x.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):KE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):v.resolve(Hr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,re())).next(l=>({batchId:a,changes:jL(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new x(t)).next(r=>{let i=Dl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Dl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=t,l=a.child(i),new bi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Be.newInvalidDocument(c)))});let o=Dl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Sl(c.mutation,u,Dn.empty(),We.now()),El(t,u)&&(o=o.insert(a,u))}),o})}}class Pne{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return v.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:ot(r.createTime)}),v.resolve()}getNamedQuery(e,t){return v.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:cD(r.bundledQuery),readTime:ot(r.readTime)}),v.resolve();var r}}class One{constructor(){this.overlays=new Oe(x.comparator),this.ls=new Map}getOverlay(e,t){return v.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hr();return v.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),v.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,t,r){const i=Hr(),s=t.length+1,o=new x(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Oe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Hr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Hr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tD(t,r));let s=this.ls.get(t);void 0===s&&(s=re(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class mD{constructor(){this.fs=new Ue(Rt.ds),this.ws=new Ue(Rt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Rt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new x(new ye([])),r=new Rt(t,e),i=new Rt(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new x(new ye([])),r=new Rt(t,e),i=new Rt(t,e+1);let s=re();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Rt(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return x.comparator(e.key,t.key)||J(e.As,t.As)}static _s(e,t){return J(e.As,t.As)||x.comparator(e.key,t.key)}}class Fne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ue(Rt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new ZE(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,t){return v.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),i=new Rt(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ue(J);return t.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new x(s),0);let a=new Ue(J);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){V(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(t.mutations,i=>{const s=new Rt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Rt(t,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Lne{constructor(e){this.Ds=e,this.docs=new Oe(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return v.resolve(r?r.document.mutableCopy():Be.newInvalidDocument(t))}getEntries(e,t){let r=bn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Be.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=bn();const o=t.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||LE(rL(l),r)<=0||(i.has(l.key)||El(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,t,r,i){O()}Cs(e,t){return v.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Vne(this)}getSize(e){return v.resolve(this.size)}}class Vne extends Mne{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Une{constructor(e){this.persistence=e,this.xs=new Ti(t=>to(t),Il),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Ns=0,this.ks=new mD,this.targetCount=0,this.Ms=lo.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),v.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new lo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,v.resolve()}updateTargetData(e,t){return this.Fn(t),v.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return v.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),v.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),v.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return v.resolve(r)}containsKey(e,t){return v.resolve(this.ks.containsKey(t))}}class yD{constructor(e,t){this.$s={},this.overlays={},this.Os=new Un(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Une(this),this.indexManager=new Dne,this.remoteDocumentCache=new Lne(r=>this.referenceDelegate.Ls(r)),this.serializer=new E2(t),this.qs=new Pne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new One,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Fne(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){T("MemoryPersistence","Starting transaction:",e);const i=new Bne(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Bne extends ate{constructor(e){super(),this.currentSequenceNumber=e}}class $p{constructor(e){this.persistence=e,this.Qs=new mD,this.js=null}static zs(e){return new $p(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),v.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,U.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return v.or([()=>v.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ID{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=re(),i=re();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ID(e,t.fromCache,r,i)}}class J2{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(FL(t))return v.resolve(null);let r=fn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Ap(t,null,"F"),r=fn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(t,a);return this.zi(t,c,o,u.readTime)?this.Ki(e,Ap(t,null,"F")):this.Wi(e,c,t,u)}))})))}Gi(e,t,r,i){return FL(t)||i.isEqual(U.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(PE()<=me.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),YE(t)),this.Wi(e,o,t,function nL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new We(t+1,0):new We(t,r));return new Vn(i,x.empty(),e)}(i,-1)))})}ji(e,t){let r=new Ue(UL(e));return t.forEach((i,s)=>{El(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return PE()<=me.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",YE(t)),this.Ui.getDocumentsMatchingQuery(e,t,Vn.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class $ne{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Oe(J),this.Yi=new Ti(s=>to(s),Il),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q2(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Z2(n,e){return CD.apply(this,arguments)}function CD(){return CD=m(function*(n,e){const t=M(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=re();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),CD.apply(this,arguments)}function eV(n){const e=M(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function zne(n,e){const t=M(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wa(n,e,t){return ED.apply(this,arguments)}function ED(){return ED=m(function*(n,e,t){const r=M(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!is(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),ED.apply(this,arguments)}function zp(n,e,t){const r=M(n);let i=U.min(),s=re();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:U.min(),t?s:re())).next(a=>(function iV(n,e,t){let r=n.Xi.get(e)||U.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function VL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class AD{constructor(){this.activeTargetIds=function JE(){return qte}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aV{constructor(){this.Hr=new AD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new AD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kne{Yr(e){}shutdown(){}}class uV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kp=null;function MD(){return null===Kp?Kp=268435456+Math.round(2147483648*Math.random()):Kp++,"0x"+Kp.toString(16)}const Qne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yne{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const tn="WebChannelConnection";class Jne extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=MD(),a=this.To(e,t);T("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(T("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw gr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Na,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Qne[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=MD();return new Promise((o,a)=>{const u=new Qee;u.setWithCredentials(!0),u.listenOnce(qee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kE.NO_ERROR:const l=u.getResponseJson();T(tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case kE.TIMEOUT:T(tn,`RPC '${e}' ${s} timed out`),a(new b(w.DEADLINE_EXCEEDED,"Request time out"));break;case kE.HTTP_ERROR:const d=u.getStatus();if(T(tn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(y)>=0?y:w.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(w.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{T(tn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);T(tn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=MD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hee(),a=zee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Kee({})),this.Eo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=s.join("");T(tn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Yne({ro:y=>{f?T(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(T(tn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(tn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,I,C)=>{y.listen(I,_=>{try{C(_)}catch(N){setTimeout(()=>{throw N},0)}})};return g(d,pp.EventType.OPEN,()=>{f||T(tn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,pp.EventType.CLOSE,()=>{f||(f=!0,T(tn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,pp.EventType.ERROR,y=>{f||(f=!0,gr(tn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new b(w.UNAVAILABLE,"The operation could not be completed")))}),g(d,pp.EventType.MESSAGE,y=>{var I;if(!f){const C=y.data[0];V(!!C);const N=C.error||(null===(I=C[0])||void 0===I?void 0:I.error);if(N){T(tn,`RPC '${e}' stream ${i} received error:`,N);const j=N.status;let H=function(Mi){const cu=pt[Mi];if(void 0!==cu)return r2(cu)}(j),kt=N.message;void 0===H&&(H=w.INTERNAL,kt="Unknown error status: "+j+" with message "+N.message),f=!0,p.wo(new b(H,kt)),d.close()}else T(tn,`RPC '${e}' stream ${i} received:`,C),p._o(C)}}),g(a,Wee.STAT_EVENT,y=>{y.stat===YF.PROXY?T(tn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===YF.NOPROXY&&T(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Qp(){return typeof document<"u"?document:null}function $l(n){return new one(n,!0)}class ND{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class lV{constructor(e,t,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ND(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(it(t.toString()),it("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new b(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xne extends lV{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function cne(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(V(void 0===c||"string"==typeof c),Et.fromBase64String(c||"")):(V(void 0===c||c instanceof Uint8Array),Et.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:r2(u.code);return new b(c,u.message||"")}(o);t=new u2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=zr(n,r.document.name),s=ot(r.document.updateTime),o=r.document.createTime?ot(r.document.createTime):U.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=Be.newFoundDocument(i,s,o,a);t=new kp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=zr(n,r.document),s=r.readTime?ot(r.readTime):U.min(),o=Be.newNoDocument(i,s);t=new kp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=zr(n,r.document);t=new kp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new ene(i,s);t=new a2(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?ot(s.readTime):U.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Rl(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=bp(a)?{documents:v2(i,a)}:{query:uD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=h2(i,s.resumeToken);const u=iD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(U.min())>0){o.readTime=$a(i,s.snapshotVersion.toTimestamp());const u=iD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function dne(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Rl(this.serializer),t.removeTarget=e,this.Wo(t)}}class Zne extends lV{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function lne(n,e){return n&&n.length>0?(V(void 0!==e),n.map(t=>function(r,i){let s=ot(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=ot(i)),new Yte(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ot(e.commitTime);return this.listener.cu(r,t)}return V(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Rl(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function kl(n,e){let t;if(e instanceof Ba)t={update:m2(n,e.key,e.value)};else if(e instanceof ja)t={delete:Nl(n,e.key)};else if(e instanceof Si)t={update:m2(n,e.key,e.data),updateMask:gne(e.fieldMask)};else{if(!(e instanceof XE))return O();t={verify:Nl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Va)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof io)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ua)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw O()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ane(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),t;var i}(this.serializer,r))};this.Wo(t)}}class ere extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(w.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(w.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class nre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(it(t),this.mu=!1):T("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class rre{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;gs(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=M(c);l.vu.add(4),yield Ka(l),l.bu.set("Unknown"),l.vu.delete(4),yield Gl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new nre(r,i)}}function Gl(n){return kD.apply(this,arguments)}function kD(){return kD=m(function*(n){if(gs(n))for(const e of n.Ru)yield e(!0)}),kD.apply(this,arguments)}function Ka(n){return PD.apply(this,arguments)}function PD(){return PD=m(function*(n){for(const e of n.Ru)yield e(!1)}),PD.apply(this,arguments)}function Yp(n,e){const t=M(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),LD(t)?FD(t):Ya(t).Ko()&&OD(t,e))}function Hl(n,e){const t=M(n),r=Ya(t);t.Au.delete(e),r.Ko()&&dV(t,e),0===t.Au.size&&(r.Ko()?r.jo():gs(t)&&t.bu.set("Unknown"))}function OD(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ya(n).su(e)}function dV(n,e){n.Vu.qt(e),Ya(n).iu(e)}function FD(n){n.Vu=new nne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ya(n).start(),n.bu.gu()}function LD(n){return gs(n)&&!Ya(n).Uo()&&n.Au.size>0}function gs(n){return 0===M(n).vu.size}function hV(n){n.Vu=void 0}function ire(n){return VD.apply(this,arguments)}function VD(){return VD=m(function*(n){n.Au.forEach((e,t)=>{OD(n,e)})}),VD.apply(this,arguments)}function sre(n,e){return UD.apply(this,arguments)}function UD(){return UD=m(function*(n,e){hV(n),LD(n)?(n.bu.Iu(e),FD(n)):n.bu.set("Unknown")}),UD.apply(this,arguments)}function ore(n,e,t){return BD.apply(this,arguments)}function BD(){return BD=m(function*(n,e,t){if(n.bu.set("Online"),e instanceof u2&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jp(n,r)}else if(e instanceof kp?n.Vu.Ht(e):e instanceof a2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(U.min()))try{const r=yield eV(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Et.EMPTY_BYTE_STRING,c.snapshotVersion)),dV(i,a);const l=new Ai(c.target,a,u,c.sequenceNumber);OD(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Jp(n,r)}var r}),BD.apply(this,arguments)}function Jp(n,e,t){return jD.apply(this,arguments)}function jD(){return jD=m(function*(n,e,t){if(!is(e))throw e;n.vu.add(1),yield Ka(n),n.bu.set("Offline"),t||(t=()=>eV(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){T("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Gl(n)}))}),jD.apply(this,arguments)}function fV(n,e){return e().catch(t=>Jp(n,t,e))}function Qa(n){return $D.apply(this,arguments)}function $D(){return $D=m(function*(n){const e=M(n),t=ms(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;are(e);)try{const i=yield zne(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,ure(e,i)}catch(i){yield Jp(e,i)}pV(e)&&gV(e)}),$D.apply(this,arguments)}function are(n){return gs(n)&&n.Eu.length<10}function ure(n,e){n.Eu.push(e);const t=ms(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function pV(n){return gs(n)&&!ms(n).Uo()&&n.Eu.length>0}function gV(n){ms(n).start()}function cre(n){return GD.apply(this,arguments)}function GD(){return GD=m(function*(n){ms(n).hu()}),GD.apply(this,arguments)}function lre(n){return HD.apply(this,arguments)}function HD(){return HD=m(function*(n){const e=ms(n);for(const t of n.Eu)e.uu(t.mutations)}),HD.apply(this,arguments)}function dre(n,e,t){return zD.apply(this,arguments)}function zD(){return zD=m(function*(n,e,t){const r=n.Eu.shift(),i=eD.from(r,e,t);yield fV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Qa(n)}),zD.apply(this,arguments)}function hre(n,e){return qD.apply(this,arguments)}function qD(){return qD=m(function*(n,e){var t;e&&ms(n).ou&&(yield(t=m(function*(r,i){if(function n2(n){switch(n){default:return O();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(s=i.code)&&s!==w.ABORTED){const o=r.Eu.shift();ms(r).Qo(),yield fV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Qa(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),pV(n)&&gV(n)}),qD.apply(this,arguments)}function mV(n,e){return WD.apply(this,arguments)}function WD(){return WD=m(function*(n,e){const t=M(n);t.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=gs(t);t.vu.add(3),yield Ka(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Gl(t)}),WD.apply(this,arguments)}function QD(){return QD=m(function*(n,e){const t=M(n);e?(t.vu.delete(2),yield Gl(t)):e||(t.vu.add(2),yield Ka(t),t.bu.set("Unknown"))}),QD.apply(this,arguments)}function Ya(n){return n.Su||(n.Su=function(e,t,r){const i=M(e);return i.fu(),new Xne(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:ire.bind(null,n),ao:sre.bind(null,n),nu:ore.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Su.Qo(),LD(n)?FD(n):n.bu.set("Unknown")):(yield n.Su.stop(),hV(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ms(n){return n.Du||(n.Du=function(e,t,r){const i=M(e);return i.fu(),new Zne(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:cre.bind(null,n),ao:hre.bind(null,n),au:lre.bind(null,n),cu:dre.bind(null,n)}),n.Ru.push(function(){var e=m(function*(t){t?(n.Du.Qo(),yield Qa(n)):(yield n.Du.stop(),n.Eu.length>0&&(T("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class YD{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new YD(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ja(n,e){if(it("AsyncQueue",`${e}: ${n}`),is(n))return new b(w.UNAVAILABLE,`${e}: ${n}`);throw n}class Xa{constructor(e){this.comparator=e?(t,r)=>e(t,r)||x.comparator(t.key,r.key):(t,r)=>x.comparator(t.key,r.key),this.keyedMap=Dl(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Xa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Xa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class yV{constructor(){this.Cu=new Oe(x.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Za{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Za(e,t,Xa.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class fre{constructor(){this.Nu=void 0,this.listeners=[]}}class pre{constructor(){this.queries=new Ti(e=>LL(e),Cl),this.onlineState="Unknown",this.ku=new Set}}function JD(n,e){return XD.apply(this,arguments)}function XD(){return XD=m(function*(n,e){const t=M(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new fre),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=Ja(o,`Initialization of query '${YE(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&t0(t)}),XD.apply(this,arguments)}function ZD(n,e){return e0.apply(this,arguments)}function e0(){return e0=m(function*(n,e){const t=M(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),e0.apply(this,arguments)}function gre(n,e){const t=M(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&t0(t)}function mre(n,e,t){const r=M(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function t0(n){n.ku.forEach(e=>{e.next()})}class n0{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class wV{constructor(e){this.key=e}}class IV{constructor(e){this.key=e}}class CV{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=re(),this.mutatedKeys=re(),this.tc=UL(e),this.ec=new Xa(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new yV,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=El(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Za(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new yV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=re(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new IV(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new wV(r))}),t}hc(e){this.Yu=e.ir,this.Zu=re();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Za.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class _re{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wre{constructor(e){this.key=e,this.fc=!1}}class Ire{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ti(a=>LL(a),Cl),this._c=new Map,this.mc=new Set,this.gc=new Oe(x.comparator),this.yc=new Map,this.Ic=new mD,this.Tc={},this.Ec=new Map,this.Ac=lo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Cre(n,e){return r0.apply(this,arguments)}function r0(){return r0=m(function*(n,e){const t=function S0(n){const e=M(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bre.bind(null,e),e.dc.nu=gre.bind(null,e.eventManager),e.dc.Pc=mre.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function qa(n,e){const t=M(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Ai(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,fn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function s0(n,e,t,r,i){return o0.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Yp(t.remoteStore,o)}return i}),r0.apply(this,arguments)}function o0(){return o0=m(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=m(function*(g,y,I,C){let _=y.view.sc(I);_.zi&&(_=yield zp(g.localStore,y.query,!1).then(({documents:H})=>y.view.sc(H,_)));const N=C&&C.targetChanges.get(y.targetId),j=y.view.applyChanges(_,g.isPrimaryClient,N);return m0(g,y.targetId,j.cc),j.snapshot}),function(g,y,I,C){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield zp(n.localStore,e,!0),o=new CV(e,s.ir),a=o.sc(s.documents),u=Ml.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);m0(n,t,c.cc);const l=new _re(e,t,o);return n.wc.set(e,l),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),o0.apply(this,arguments)}function Ere(n,e){return a0.apply(this,arguments)}function a0(){return a0=m(function*(n,e){const t=M(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!Cl(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Wa(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Hl(t.remoteStore,r.targetId),eu(t,r.targetId)}).catch(rs))):(eu(t,r.targetId),yield Wa(t.localStore,r.targetId,!0))}),a0.apply(this,arguments)}function u0(){return u0=m(function*(n,e,t){const r=function A0(n){const e=M(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sre.bind(null,e),e}(n);try{const i=yield function(s,o){const a=M(s),u=We.now(),c=o.reduce((h,f)=>h.add(f.key),re());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=bn(),p=re();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const I of o){const C=Xte(I,l.get(I.key).overlayedDocument);null!=C&&y.push(new Si(I.key,C,EL(C.value.mapValue),Ge.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:jL(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Oe(J)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield xi(r,i.changes),yield Qa(r.remoteStore)}catch(i){const s=Ja(i,"Failed to persist write");t.reject(s)}}),u0.apply(this,arguments)}function EV(n,e){return c0.apply(this,arguments)}function c0(){return c0=m(function*(n,e){const t=M(n);try{const r=yield function Hne(n,e){const t=M(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Et.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let u=bn(),c=re();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function tV(n,e,t){let r=re(),i=re();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=bn();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(U.min())){const l=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(V(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?V(o.fc):i.removedDocuments.size>0&&(V(o.fc),o.fc=!1))}),yield xi(t,r,e)}catch(r){yield rs(r)}}),c0.apply(this,arguments)}function DV(n,e,t){const r=M(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&t0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bre(n,e,t){return l0.apply(this,arguments)}function l0(){return l0=m(function*(n,e,t){const r=M(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Oe(x.comparator);o=o.insert(s,Be.newNoDocument(s,U.min()));const a=re().add(s),u=new xl(U.min(),new Map,new Oe(J),o,a);yield EV(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),y0(r)}else yield Wa(r.localStore,e,!1).then(()=>eu(r,e,t)).catch(rs)}),l0.apply(this,arguments)}function Tre(n,e){return d0.apply(this,arguments)}function d0(){return d0=m(function*(n,e){const t=M(n),r=e.batch.batchId;try{const i=yield function Gne(n,e){const t=M(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);V(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=re();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);g0(t,r,null),p0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xi(t,i)}catch(i){yield rs(i)}}),d0.apply(this,arguments)}function Sre(n,e,t){return h0.apply(this,arguments)}function h0(){return h0=m(function*(n,e,t){const r=M(n);try{const i=yield function(s,o){const a=M(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(V(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);g0(r,e,t),p0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xi(r,i)}catch(i){yield rs(i)}}),h0.apply(this,arguments)}function p0(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function g0(n,e,t){const r=M(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function eu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||bV(n,r)})}function bV(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Hl(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),y0(n))}function m0(n,e,t){for(const r of t)r instanceof wV?(n.Ic.addReference(r.key,e),xre(n,r)):r instanceof IV?(T("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||bV(n,r.key)):O()}function xre(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(T("SyncEngine","New document in limbo: "+t),n.mc.add(r),y0(n))}function y0(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new x(ye.fromString(e)),r=n.Ac.next();n.yc.set(r,new wre(t)),n.gc=n.gc.insert(t,r),Yp(n.remoteStore,new Ai(fn(La(t.path)),r,"TargetPurposeLimboResolution",Un.ct))}}function xi(n,e,t){return v0.apply(this,arguments)}function v0(){return v0=m(function*(n,e,t){const r=M(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=ID.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(u,c){const l=M(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!is(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),v0.apply(this,arguments)}function Mre(n,e){return _0.apply(this,arguments)}function _0(){return _0=m(function*(n,e){const t=M(n);if(!t.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield Z2(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xi(t,r.er)}var i}),_0.apply(this,arguments)}function Nre(n,e){const t=M(n),r=t.yc.get(e);if(r&&r.fc)return re().add(r.key);{let i=re();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Xp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.serializer=$l(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function X2(n,e,t,r){return new $ne(n,e,t,r)}(this.persistence,new J2,e.initialUser,this.serializer)}createPersistence(e){return new yD($p.zs,this.serializer)}createSharedClientState(e){return new aV}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tu{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>DV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Mre.bind(null,r.syncEngine),yield function KD(n,e){return QD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pre}createDatastore(e){const t=$l(e.databaseInfo.databaseId),r=new Jne(e.databaseInfo);return new ere(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>DV(this.syncEngine,a,0),o=uV.D()?new uV:new Kne,new rre(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new Ire(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=M(t);T("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ka(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):it("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Hre{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=eL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ja(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function eg(n,e){return x0.apply(this,arguments)}function x0(){return x0=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield Z2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),x0.apply(this,arguments)}function M0(n,e){return N0.apply(this,arguments)}function N0(){return N0=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function R0(n){return k0.apply(this,arguments)}(n);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>mV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>mV(e.remoteStore,s)),n._onlineComponents=e}),N0.apply(this,arguments)}function k0(){return k0=m(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function NV(n){return"FirebaseError"===n.name?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;gr("Error using user provided cache. Falling back to memory cache: "+t),yield eg(n,new Xp)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield eg(n,new Xp);return n._offlineComponents}),k0.apply(this,arguments)}function tg(n){return P0.apply(this,arguments)}function P0(){return P0=m(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield M0(n,n._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield M0(n,new tu))),n._onlineComponents}),P0.apply(this,arguments)}function nu(n){return F0.apply(this,arguments)}function F0(){return F0=m(function*(n){const e=yield tg(n),t=e.eventManager;return t.onListen=Cre.bind(null,e.syncEngine),t.onUnlisten=Ere.bind(null,e.syncEngine),t}),F0.apply(this,arguments)}function LV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const VV=new Map;function L0(n,e,t){if(!t)throw new b(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function UV(n){if(!x.isDocumentKey(n))throw new b(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BV(n){if(x.isDocumentKey(n))throw new b(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":O()}function pe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rg(n);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class $V{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Zre(n,e,t,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=LV(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zl{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $V({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $V(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Jee;switch(t.type){case"firstParty":return new tte(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new b(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=VV.get(e);t&&(T("ComponentProvider","Removing Datastore"),VV.delete(e),t.terminate())}(this),Promise.resolve()}}class at{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}}class Gt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gt(this.firestore,e,this._query)}}class qr extends Gt{constructor(e,t,r){super(e,t,La(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new x(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function ig(n,e,...t){if(n=ln(n),L0("collection","path",e),n instanceof zl){const r=ye.fromString(e,...t);return BV(r),new qr(n,null,r)}{if(!(n instanceof at||n instanceof qr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ye.fromString(e,...t));return BV(r),new qr(n.firestore,null,r)}}function sg(n,e,...t){if(n=ln(n),1===arguments.length&&(e=eL.A()),L0("doc","path",e),n instanceof zl){const r=ye.fromString(e,...t);return UV(r),new at(n,null,new x(r))}{if(!(n instanceof at||n instanceof qr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ye.fromString(e,...t));return UV(r),new at(n.firestore,n instanceof qr?n.converter:null,new x(r))}}class tie{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ND(this,"async_queue_retry"),this.Xc=()=>{const t=Qp();t&&T("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Qp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Qp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!is(t))throw t;T("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,it("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=YD.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class je extends zl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tie,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HV(this),this._firestoreClient.terminate()}}function gt(n){return n._firestoreClient||HV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function HV(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Nte(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,LV(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new Hre(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(Et.fromBase64String(e))}catch(t){throw new b(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fo(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ru{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new b(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class WV{constructor(e){this._methodName=e}}class U0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new b(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new b(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const sie=/^__.*__$/;class oie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Si(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ba(e,this.data,t,this.fieldTransforms)}}function QV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class og{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ug(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(QV(this.ca)&&sie.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class aie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||$l(e)}ya(e,t,r,i=!1){return new og({ca:e,methodName:t,ga:r,path:st.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iu(n){const e=n._freezeSettings(),t=$l(n._databaseId);return new aie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function B0(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);$0("Data must be an object, but it was:",o,r);const a=eU(r,o);let u,c;if(s.merge)u=new Dn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Kl(e,d,t);if(!o.contains(h))throw new b(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);nU(l,h)||l.push(h)}u=new Dn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new oie(new $t(a),u,c)}function po(n,e){if(tU(n=ln(n)))return $0("Unsupported field value:",e,n),eU(n,e);if(n instanceof WV)return function(t,r){if(!QV(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=po(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=ln(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zL(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=We.fromDate(t);return{timestampValue:$a(r.serializer,i)}}if(t instanceof We){const i=new We(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$a(r.serializer,i)}}if(t instanceof U0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fo)return{bytesValue:h2(r.serializer,t._byteString)};if(t instanceof at){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sD(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${rg(t)}`)}(n,e)}function eU(n,e){const t={};return pL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(n,(r,i)=>{const s=po(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function tU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof We||n instanceof U0||n instanceof fo||n instanceof at||n instanceof WV)}function $0(n,e,t){if(!tU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=rg(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Kl(n,e,t){if((e=ln(e))instanceof ru)return e._internalPath;if("string"==typeof e)return ag(n,e);throw ug("Field path arguments must be of type string or ",n,!1,void 0,t)}const die=new RegExp("[~\\*/\\[\\]]");function ag(n,e,t){if(e.search(die)>=0)throw ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ru(...e.split("."))._internalPath}catch{throw ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ug(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(w.INVALID_ARGUMENT,a+n+u)}function nU(n,e){return n.some(t=>t.isEqual(e))}class G0{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hie extends G0{data(){return super.data()}}function cg(n,e){return"string"==typeof e?ag(n,e):e instanceof ru?e._internalPath:e._delegate._internalPath}class H0{}class fie extends H0{}class Ql extends fie{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ql(e,t,r)}_apply(e){const t=this._parse(e);return aU(e._query,t),new Gt(e.firestore,e.converter,QE(e._query,t))}_parse(e){const t=iu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new b(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){oU(l,c);const h=[];for(const f of l)h.push(sU(a,i,f));d={arrayValue:{values:h}}}else d=sU(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||oU(l,c),d=function ZV(n,e,t,r=!1){return po(t,n.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return fe.create(u,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class su extends H0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new su(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Te.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)aU(s,a),s=QE(s,a)}(e._query,t),new Gt(e.firestore,e.converter,QE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function sU(n,e,t){if("string"==typeof(t=ln(t))){if(""===t)throw new b(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KE(e)&&-1!==t.indexOf("/"))throw new b(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ye.fromString(t));if(!x.isDocumentKey(r))throw new b(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eo(n,new x(r))}if(t instanceof at)return eo(n,t._key);throw new b(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rg(t)}.`)}function oU(n,e){if(!Array.isArray(n)||0===n.length)throw new b(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aU(n,e){if(e.isInequality()){const r=Sp(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=WE(n);null!==s&&function uU(n,e,t){if(!t.isEqual(e))throw new b(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new b(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gie{convertValue(e,t="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw O()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ss(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new U0(Xe(e.latitude),Xe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ip(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const t=os(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ye.fromString(e);V(C2(r));const i=new Zs(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(t)||it(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function q0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class go{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ou extends G0{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(cg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class fg extends ou{data(e={}){return super.data(e)}}class au{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fg(this._firestore,this._userDataWriter,r.key,r,new go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new b(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new fg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new fg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:yie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class ys extends gie{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,t)}}function lU(n,e){const t=pe(n.firestore,je),r=sg(n),i=q0(n.converter,e);return Yl(t,[B0(iu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ge.exists(!1))]).then(()=>r)}function Yl(n,e){return function(t,r){const i=new Ct;return t.asyncQueue.enqueueAndForget(m(function*(){return function Dre(n,e,t){return u0.apply(this,arguments)}(yield function O0(n){return tg(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(gt(n),e)}!function(n,e=!0){Na=ya,Or(new hr("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new je(new Zee(t.getProvider("auth-internal")),new nte(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Qn(JF,"3.13.0",n),Qn(JF,"3.13.0","esm2017")}();let uu=(()=>{var n;class e{constructor(){this.app=jk(kie),this.analytics=function tJ(n=F_()){const e=Qi(n=ln(n),Cf);return e.isInitialized()?e.getImmediate():function nJ(n,e={}){const t=Qi(n,Cf);if(t.isInitialized()){const i=t.getImmediate();if(Mc(e,t.getOptions()))return i;throw dn.create("already-initialized")}return t.initialize({options:e})}(n)}(this.app),this.firestore=function rie(n,e){const r="string"==typeof n?n:e||"(default)",i=Qi("object"==typeof n?n:F_(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=Dk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function eie(n,e,t,r={}){var i;const s=(n=pe(n,zl))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Mt.MOCK_USER;else{a=function eK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pf(JSON.stringify({alg:"none",type:"JWT"})),pf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mt(c)}n._authCredentials=new Xee(new XF(a,u))}}(i,...s)}return i}(this.app),this.auth=GZ(this.app),this.categoryCollection=ig(this.firestore,"categories"),this.coursesCollection=ig(this.firestore,"courses"),this.data={},this.refreshEvent=new ke,this.refreshUser=new ke,this.refresh(nn.CATEGORIES),this.refresh(nn.COURSES)}refresh(r){const s=function pie(n,e,...t){let r=[];e instanceof H0&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof su).length,o=i.filter(a=>a instanceof Ql).length;if(s>1||s>0&&o>0)throw new b(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}(ig(this.firestore,r));(function _ie(n){n=pe(n,Gt);const e=pe(n.firestore,je),t=gt(e),r=new ys(e);return function rU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new b(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function FV(n,e,t={}){const r=new Ct;return n.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const c=new Zp({next:d=>{s.enqueueAndForget(()=>ZD(i,l)),d.fromCache&&"server"===a.source?u.reject(new b(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new n0(o,c,{includeMetadataChanges:!0,Ku:!0});return JD(i,l)}(yield nu(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new au(e,r,n,i))})(s).then(o=>{this.data[r]=[],o.forEach(a=>{let u=a.data();u.id=a.id,this.data[r].push(u)}),this.refreshEvent.emit(r)})}login(r){var i=this;return m(function*(){const s=sg(i.firestore,"users",r.id),o=yield function vie(n){n=pe(n,at);const e=pe(n.firestore,je);return function OV(n,e,t={}){const r=new Ct;return n.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const c=new Zp({next:d=>{s.enqueueAndForget(()=>ZD(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new b(w.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new b(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new n0(La(o.path),c,{includeMetadataChanges:!0,Ku:!0});return JD(i,l)}(yield nu(n),n.asyncQueue,e,t,r)})),r.promise}(gt(e),n._key).then(t=>function W0(n,e,t){const r=t.docs.get(e._key),i=new ys(n);return new ou(n,i,e._key,r,new go(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}(s);if(o.exists()){let a=o.data();console.log("FirestoreService:login:: Existing User :",a),i.user={id:a.id,name:a.name,email:a.email,contact:a.contact,role:a.role,image:a.image},i.refreshUser.emit(i.user),i.log(mo.LOGIN,i.user)}else console.log("FirestoreService:login:: Create new user: "+r.email),i.user=r,yield function wie(n,e,t){n=pe(n,at);const r=pe(n.firestore,je),i=q0(n.converter,e,t);return Yl(r,[B0(iu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ge.none())])}(sg(ig(i.firestore,"users"),r.id),i.user),console.log("FirestoreService:login:: Created new user: "+r.email),i.refreshUser.emit(i.user),i.log(mo.SIGN_UP,i.user)})()}logout(){var r=this;return m(function*(){console.log("FirestoreService:logout:: Logging out user: "+r.user?.email),r.user=void 0,r.log(mo.LOGOUT,r.user),r.refreshUser.emit(r.user)})()}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),bP(this.analytics,r,s)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var nn=(()=>(function(n){n.USERS="users",n.CATEGORIES="categories",n.COURSES="courses",n.ASSESSMENTS="assessments"}(nn||(nn={})),nn))(),mo=(()=>(function(n){n.PAGE_VIEW="PAGE_VIEW",n.LOGIN="login",n.SIGN_UP="sign_up",n.LOGOUT="logout"}(mo||(mo={})),mo))();const kie={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function Pie(n,e){if(1&n){const t=rr();F(0,"i",6),he("click",function(){yt(t);const i=Se(2);return vt(i.expand=!i.expand)}),se(1),L()}if(2&n){const t=Se(2);Ee(1),oi(t.expand?"expand_more":"chevron_right")}}function Oie(n,e){if(1&n){const t=rr();F(0,"div")(1,"app-category",9),he("select",function(i){return yt(t),vt(Se(3).select.emit(i))}),L()()}if(2&n){const t=e.$implicit,r=Se(3);Ee(1),Re("category",t)("current",r.current)}}function Fie(n,e){if(1&n&&(F(0,"div",7),wn(1,Oie,2,2,"div",8),L()),2&n){const t=Se(2);Ee(1),Re("ngForOf",t.category.categories)}}const Lie=function(n){return{"active-node":n}};function Vie(n,e){if(1&n){const t=rr();F(0,"div",1)(1,"div",2),wn(2,Pie,2,1,"i",3),F(3,"span",4),he("click",function(){yt(t);const i=Se();return vt(i.select.emit(i.category))}),se(4),L()(),wn(5,Fie,2,1,"div",5),L()}if(2&n){const t=Se();Ee(1),Re("ngClass",Ty(4,Lie,null!=t.current&&t.category.id==t.current.id)),Ee(1),Re("ngIf",null!=t.category.categories&&t.category.categories.length>=0),Ee(2),oi(t.category.name),Ee(1),Re("ngIf",t.expand)}}let Uie=(()=>{var n;class e{constructor(){this.select=new ke,this.expand=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pn({type:n,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(r,i){1&r&&wn(0,Vie,6,6,"div",0),2&r&&Re("ngIf",i.category)},dependencies:[fv,rc,ic,n],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})();function Bie(n,e){if(1&n){const t=rr();F(0,"div",11)(1,"app-category",12),he("select",function(i){return yt(t),vt(Se().select(i))}),L()()}if(2&n){const t=e.$implicit,r=Se();Ee(1),Re("category",t)("current",r.category)}}function jie(n,e){if(1&n){const t=rr();F(0,"button",13),he("click",function(){return yt(t),vt(Se().deleteConfirm=!0)}),F(1,"i",8),se(2,"delete"),L()()}}function $ie(n,e){if(1&n){const t=rr();F(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),se(5,"New Category"),L(),F(6,"button",19),he("click",function(){return yt(t),vt(Se().addCategoryModal=!1)}),L()(),F(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),he("ngModelChange",function(i){return yt(t),vt(Se().categoryName=i)}),L()()()(),F(11,"div",24)(12,"button",25),he("click",function(){return yt(t),vt(Se().addCategory())}),se(13,"Add"),L()()()()()}if(2&n){const t=Se();Ee(10),Re("ngModel",t.categoryName)}}function Gie(n,e){if(1&n){const t=rr();F(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),se(5,"Delete Category"),L(),F(6,"button",19),he("click",function(){return yt(t),vt(Se().deleteConfirm=!1)}),L()(),F(7,"div",20)(8,"div",21)(9,"div",22),se(10),L()()(),F(11,"div",24)(12,"button",25),he("click",function(){return yt(t),vt(Se().deleteCategory())}),se(13,"Delete"),L()()()()()}if(2&n){const t=Se();Ee(10),Zd(" Confirm to delete ",null==t.category?null:t.category.name," ")}}let Hie=(()=>{var n;class e{constructor(r){this.firestore=r,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh(),this.firestore.refreshEvent.subscribe(i=>{i==nn.CATEGORIES&&this.refresh()})}refresh(){this.categories=[];let r=this.firestore.data[nn.CATEGORIES];r.filter(i=>null==i.parent).forEach(i=>this.categories.push(i)),this.categories.forEach(i=>this.linkCategories(i,r)),console.log(this.categories)}linkCategories(r,i){r.categories=[],i.filter(s=>null!=s.parent&&s.parent==r.id).forEach(s=>{this.linkCategories(s,i),r.categories?.push(s)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let r={name:this.categoryName,active:!0};this.category&&(r.parent=this.category.id),lU(this.firestore.categoryCollection,r).then(i=>{alert("Category has been added succesfully ID:"+i.id),this.firestore.refresh(nn.CATEGORIES)})}else alert("Please enter category name")}isNotEmpty(r){return null!=r&&""!=r}select(r){console.log("Selected Category",r),this.category=r}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&function Iie(n){return Yl(pe(n.firestore,je),[new ja(n._key,Ge.none())])}(sg(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.firestore.refresh(nn.CATEGORIES)})}}return(n=e).\u0275fac=function(r){return new(r||n)(E(uu))},n.\u0275cmp=pn({type:n,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"span"),se(3,"Categories"),L()()(),F(4,"div",2)(5,"div",3),wn(6,Bie,2,2,"div",4),L()(),F(7,"div",5)(8,"div",6)(9,"button",7),he("click",function(){return i.addCategoryModal=!0}),F(10,"i",8),se(11,"add"),L()(),wn(12,jie,3,0,"button",9),L()(),wn(13,$ie,14,1,"div",10),wn(14,Gie,14,1,"div",10)),2&r&&(Ee(6),Re("ngForOf",i.categories),Ee(6),Re("ngIf",null!=i.category),Ee(1),Re("ngIf",i.addCategoryModal),Ee(1),Re("ngIf",i.deleteConfirm))},dependencies:[rc,ic,uc,Nv,jh,Uie],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();function zie(n,e){if(1&n&&(F(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),se(4),F(5,"i",14),se(6,"open_in_new"),L()(),F(7,"h6",15),se(8),L(),Ar(9,"p",16),L()()()),2&n){const t=e.$implicit;Ee(4),oi(t.name),Ee(1),Re("routerLink",t.route),Ee(3),oi(t.description)}}function qie(n,e){if(1&n&&(F(0,"option",34),se(1),L()),2&n){const t=e.$implicit;Re("value",t.name),Ee(1),oi(t.name)}}function Wie(n,e){if(1&n){const t=rr();F(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h4",21),se(5,"New Course"),L(),F(6,"button",22),he("click",function(){return yt(t),vt(Se().addCourseModal=!1)}),L()(),F(7,"div",23)(8,"div",24)(9,"div",25)(10,"input",26),he("ngModelChange",function(i){return yt(t),vt(Se().course.name=i)}),L()(),F(11,"div",25)(12,"input",27),he("ngModelChange",function(i){return yt(t),vt(Se().course.description=i)}),L()(),F(13,"div",25)(14,"select",28),he("ngModelChange",function(i){return yt(t),vt(Se().course.category=i)}),F(15,"option",29),se(16,"Select Category"),L(),wn(17,qie,2,2,"option",30),L()(),F(18,"div",25)(19,"input",31),he("ngModelChange",function(i){return yt(t),vt(Se().course.image=i)}),L()()()(),F(20,"div",32)(21,"button",33),he("click",function(){return yt(t),vt(Se().addCourse())}),se(22,"Add"),L()()()()()}if(2&n){const t=Se();Ee(10),Re("ngModel",t.course.name),Ee(2),Re("ngModel",t.course.description),Ee(2),Re("id",t.course.category)("ngModel",t.course.category),Ee(3),Re("ngForOf",t.categories),Ee(2),Re("ngModel",t.course.image)}}let Kie=(()=>{var n;class e{constructor(r){this.firestore=r,this.addCourseModal=!1,this.course={name:"",description:"",image:"",category:"",active:!0},this.categories=[],this.courses=[],this.deleteConfirm=!1,this.categories=this.firestore.data[nn.CATEGORIES],this.courses=this.firestore.data[nn.COURSES],this.firestore.refreshEvent.subscribe(i=>{i==nn.CATEGORIES&&(this.categories=this.firestore.data[nn.CATEGORIES]),(i=nn.COURSES)&&(this.courses=this.firestore.data[nn.COURSES])})}addCourse(){console.log(this.course),this.validate()?lU(this.firestore.coursesCollection,this.course).then(r=>{alert("Course has been added succesfully ID:"+r.id),this.firestore.refresh(nn.COURSES)}):alert("Please enter name, description, category")}validate(){return this.isNotEmpty(this.course.name)&&this.isNotEmpty(this.course.description)&&this.isNotEmpty(this.course.category)}isNotEmpty(r){return null!=r&&""!=r}}return(n=e).\u0275fac=function(r){return new(r||n)(E(uu))},n.\u0275cmp=pn({type:n,selectors:[["app-courses"]],decls:13,vars:2,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"form-control","x",3,"ngModel","ngModelChange"],["placeholder","Category",1,"form-control","x",3,"id","ngModel","ngModelChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Image URL",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"span"),se(3,"Courses"),L()()(),F(4,"div",2)(5,"div",3),wn(6,zie,10,3,"div",4),L()(),F(7,"div",5)(8,"div",6)(9,"button",7),he("click",function(){return i.addCourseModal=!0}),F(10,"i",8),se(11,"add"),L()()()(),wn(12,Wie,23,6,"div",9)),2&r&&(Ee(6),Re("ngForOf",i.courses),Ee(6),Re("ngIf",i.addCourseModal))},dependencies:[rc,ic,Ac,YN,XN,uc,$h,Nv,jh],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();var gg=(()=>(function(n){n.USER="USER",n.ADMIN="ADMIN"}(gg||(gg={})),gg))();const Qie=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:BW},{path:"login",component:(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,this.provider=new SI,i.refreshUser.subscribe(s=>this.router.navigate(s?["dashboard"]:["home"]))}login(){(function XX(n,e,t){return SC.apply(this,arguments)})(this.fs.auth,this.provider).then(r=>{SI.credentialFromResult(r);let o=r.user;this.fs.login({id:o.uid,email:o.email,name:o.displayName,contact:o.phoneNumber,image:o.photoURL,role:gg.USER})}).catch(r=>{console.error(r),SI.credentialFromError(r)})}}return(n=e).\u0275fac=function(r){return new(r||n)(E(Vt),E(uu))},n.\u0275cmp=pn({type:n,selectors:[["app-login"]],decls:5,vars:0,consts:[[1,"row","text-center"],[1,"col-md-4","col-sm-6","col-xs-6","col-6","form"],["src","../../assets/icons/google-logo.png"],[3,"click"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1),Ar(2,"img",2),F(3,"button",3),he("click",function(){return i.login()}),se(4,"Sign in"),L()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:55px auto 10px}"]}),e})()},{path:"dashboard",component:(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pn({type:n,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(r,i){}}),e})()},{path:"logout",component:(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,i.refreshUser.subscribe(s=>this.router.navigate(s?["dashboard"]:["home"]))}logout(){(function dX(n){return ln(n).signOut()})(this.fs.auth).then(()=>this.fs.logout())}}return(n=e).\u0275fac=function(r){return new(r||n)(E(Vt),E(uu))},n.\u0275cmp=pn({type:n,selectors:[["app-logout"]],decls:7,vars:0,consts:[[1,"row","text-center"],[1,"col-md-4","col-sm-6","col-xs-6","col-6","form"],[3,"click"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"p"),se(3," Are you sure you want to log-off? "),Ar(4,"br"),L(),F(5,"button",2),he("click",function(){return i.logout()}),se(6,"Logout"),L()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:55px auto 10px}"]}),e})()},{path:"account",component:jW},{path:"profile",component:$W},{path:"categories",component:Hie},{path:"courses",component:Kie}];let Yie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=wr({type:n}),n.\u0275inj=Xn({imports:[vk.forRoot(Qie),vk]}),e})();class Jie extends Tn{constructor(e,t){super()}schedule(e,t=0){return this}}const mg={setInterval(n,e,...t){const{delegate:r}=mg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=mg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},hU={now:()=>(hU.delegate||Date).now(),delegate:void 0};class Jl{constructor(e,t=Jl.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Jl.now=hU.now;const fU=new class Zie extends Jl{constructor(e,t=Jl.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class Xie extends Jie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return mg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&mg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,yo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),ese=fU;function pU(n,e){return e?t=>Hh(e.pipe(ji(1),function tse(){return mt((n,e)=>{n.subscribe(ut(e,yg))})}()),t.pipe(pU(n))):Dt((t,r)=>Sn(n(t,r)).pipe(ji(1),gR(t)))}const sse=function(n){return{active:n}};function ose(n,e){if(1&n){const t=rr();F(0,"div",5),he("click",function(){const s=yt(t).$implicit;return vt(Se().focus(s.route))}),F(1,"i",6),se(2),L(),F(3,"span",7),se(4),L()()}if(2&n){const t=e.$implicit,r=Se();Re("ngClass",Ty(3,sse,r.active=="/"+t.route)),Ee(2),oi(t.icon),Ee(2),oi(t.name)}}let ase=(()=>{var n;class e{constructor(r,i){this.router=r,this.firestore=i,this.close=new ke,this.active="",this.menus=[],this.active=this.router.url,this.user=i.user,this.load(),r.events.subscribe(s=>{s instanceof qi&&(this.active=this.router.url)}),i.refreshUser.subscribe(s=>{this.user=s,this.load()})}load(){this.menus=[],this.user?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Categories",icon:"category",route:"categories"}),this.menus.push({name:"Courses",icon:"menu_book",route:"courses"}),this.menus.push({name:"Assessments",icon:"assignment",route:"assessments"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):this.menus.push({name:"Login",icon:"login",route:"login"})}focus(r){this.router.navigate([r]),this.close.emit(!0)}}return(n=e).\u0275fac=function(r){return new(r||n)(E(Vt),E(uu))},n.\u0275cmp=pn({type:n,selectors:[["app-menu"]],outputs:{close:"close"},decls:6,vars:1,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"i",2),he("click",function(){return i.close.emit(!0)}),se(3,"close"),L()(),F(4,"div",3),wn(5,ose,5,5,"div",4),L()()),2&r&&(Ee(5),Re("ngForOf",i.menus))},dependencies:[fv,rc],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),e})();function use(n,e){if(1&n){const t=rr();F(0,"app-menu",8),he("close",function(){return yt(t),vt(Se().menu=!1)}),L()}}let cse=(()=>{var n;class e{constructor(){this.menu=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pn({type:n,selectors:[["app-header"]],decls:10,vars:1,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],[1,"material-icons","text-light"],[1,"col-12","p-0","text-center"],[1,"t","a"],[3,"close",4,"ngIf"],[3,"close"]],template:function(r,i){1&r&&(F(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),he("click",function(){return i.menu=!i.menu}),F(4,"i",4),se(5,"menu"),L()()(),F(6,"div",5)(7,"div",6),se(8,"IMPULSE"),L()()()(),wn(9,use,1,0,"app-menu",7)),2&r&&(Ee(9),Re("ngIf",i.menu))},dependencies:[ic,ase],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),e})(),lse=(()=>{var n;class e{constructor(r,i,s){this.firestore=r,this.firestore.log(mo.PAGE_VIEW),this.handleScroll(i,s)}handleScroll(r,i){r.events.pipe(fi(s=>s instanceof s_)).pipe(function ise(n,e=fU){const t=function rse(n=0,e,t=ese){let r=-1;return null!=e&&(mb(e)?t=e:r=e),new Ze(i=>{let s=function nse(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return pU(()=>t)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(n=e).\u0275fac=function(r){return new(r||n)(E(uu),E(Vt),E(A1))},n.\u0275cmp=pn({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&Ar(0,"app-header")(1,"router-outlet")},dependencies:[h_,cse],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),dse=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=wr({type:n,bootstrap:[lse]}),n.\u0275inj=Xn({imports:[J9,Yie,h8]}),e})();Y9().bootstrapModule(dse).catch(n=>console.error(n))}},xe=>{xe(xe.s=765)}]);