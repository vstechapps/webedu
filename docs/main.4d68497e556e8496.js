(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{2090:(Be,R,V)=>{"use strict";V.d(R,{$s:()=>$n,BH:()=>J,L:()=>Ve,LL:()=>ge,P0:()=>A,Pz:()=>pe,Sg:()=>Re,ZR:()=>W,aH:()=>Y,b$:()=>He,eu:()=>N,hl:()=>$,m9:()=>ur,ne:()=>At,q4:()=>P,ru:()=>ke,tV:()=>le,uI:()=>k,vZ:()=>Xt,w1:()=>ot,xO:()=>_t,xb:()=>Zt,z$:()=>Q,zI:()=>w});const f=function($e){const qe=[];let it=0;for(let Pt=0;Pt<$e.length;Pt++){let vt=$e.charCodeAt(Pt);vt<128?qe[it++]=vt:vt<2048?(qe[it++]=vt>>6|192,qe[it++]=63&vt|128):55296==(64512&vt)&&Pt+1<$e.length&&56320==(64512&$e.charCodeAt(Pt+1))?(vt=65536+((1023&vt)<<10)+(1023&$e.charCodeAt(++Pt)),qe[it++]=vt>>18|240,qe[it++]=vt>>12&63|128,qe[it++]=vt>>6&63|128,qe[it++]=63&vt|128):(qe[it++]=vt>>12|224,qe[it++]=vt>>6&63|128,qe[it++]=63&vt|128)}return qe},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($e,qe){if(!Array.isArray($e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const it=qe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pt=[];for(let vt=0;vt<$e.length;vt+=3){const qt=$e[vt],rt=vt+1<$e.length,tt=rt?$e[vt+1]:0,Ge=vt+2<$e.length,ft=Ge?$e[vt+2]:0;let En=(15&tt)<<2|ft>>6,bn=63&ft;Ge||(bn=64,rt||(En=64)),Pt.push(it[qt>>2],it[(3&qt)<<4|tt>>4],it[En],it[bn])}return Pt.join("")},encodeString($e,qe){return this.HAS_NATIVE_SUPPORT&&!qe?btoa($e):this.encodeByteArray(f($e),qe)},decodeString($e,qe){return this.HAS_NATIVE_SUPPORT&&!qe?atob($e):function($e){const qe=[];let it=0,Pt=0;for(;it<$e.length;){const vt=$e[it++];if(vt<128)qe[Pt++]=String.fromCharCode(vt);else if(vt>191&&vt<224){const qt=$e[it++];qe[Pt++]=String.fromCharCode((31&vt)<<6|63&qt)}else if(vt>239&&vt<365){const Ge=((7&vt)<<18|(63&$e[it++])<<12|(63&$e[it++])<<6|63&$e[it++])-65536;qe[Pt++]=String.fromCharCode(55296+(Ge>>10)),qe[Pt++]=String.fromCharCode(56320+(1023&Ge))}else{const qt=$e[it++],rt=$e[it++];qe[Pt++]=String.fromCharCode((15&vt)<<12|(63&qt)<<6|63&rt)}}return qe.join("")}(this.decodeStringToByteArray($e,qe))},decodeStringToByteArray($e,qe){this.init_();const it=qe?this.charToByteMapWebSafe_:this.charToByteMap_,Pt=[];for(let vt=0;vt<$e.length;){const qt=it[$e.charAt(vt++)],tt=vt<$e.length?it[$e.charAt(vt)]:0;++vt;const ft=vt<$e.length?it[$e.charAt(vt)]:64;++vt;const Kt=vt<$e.length?it[$e.charAt(vt)]:64;if(++vt,null==qt||null==tt||null==ft||null==Kt)throw new me;Pt.push(qt<<2|tt>>4),64!==ft&&(Pt.push(tt<<4&240|ft>>2),64!==Kt&&Pt.push(ft<<6&192|Kt))}return Pt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $e=0;$e<this.ENCODED_VALS.length;$e++)this.byteToCharMap_[$e]=this.ENCODED_VALS.charAt($e),this.charToByteMap_[this.byteToCharMap_[$e]]=$e,this.byteToCharMapWebSafe_[$e]=this.ENCODED_VALS_WEBSAFE.charAt($e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$e]]=$e,$e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($e)]=$e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($e)]=$e)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function($e){return function($e){const qe=f($e);return Se.encodeByteArray(qe,!0)}($e).replace(/\./g,"")},le=function($e){try{return Se.decodeString($e,!0)}catch(qe){console.error("base64Decode failed: ",qe)}return null},ye=()=>{try{return function re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $e=process.env.__FIREBASE_DEFAULTS__;return $e?JSON.parse($e):void 0})()||(()=>{if(typeof document>"u")return;let $e;try{$e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const qe=$e&&le($e[1]);return qe&&JSON.parse(qe)})()}catch($e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$e}`)}},P=$e=>{var qe,it;return null===(it=null===(qe=ye())||void 0===qe?void 0:qe.emulatorHosts)||void 0===it?void 0:it[$e]},A=$e=>{const qe=P($e);if(!qe)return;const it=qe.lastIndexOf(":");if(it<=0||it+1===qe.length)throw new Error(`Invalid host ${qe} with no separate hostname and port!`);const Pt=parseInt(qe.substring(it+1),10);return"["===qe[0]?[qe.substring(1,it-1),Pt]:[qe.substring(0,it),Pt]},Y=()=>{var $e;return null===($e=ye())||void 0===$e?void 0:$e.config},pe=$e=>{var qe;return null===(qe=ye())||void 0===qe?void 0:qe[`_${$e}`]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((qe,it)=>{this.resolve=qe,this.reject=it})}wrapCallback(qe){return(it,Pt)=>{it?this.reject(it):this.resolve(Pt),"function"==typeof qe&&(this.promise.catch(()=>{}),1===qe.length?qe(it):qe(it,Pt))}}}function Re($e,qe){if($e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Pt=qe||"demo-project",vt=$e.iat||0,qt=$e.sub||$e.user_id;if(!qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${Pt}`,aud:Pt,iat:vt,exp:vt+3600,auth_time:vt,sub:qt,user_id:qt,firebase:{sign_in_provider:"custom",identities:{}}},$e);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(rt)),""].join(".")}function Q(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())}function ke(){const $e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $e&&void 0!==$e.id}function He(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){const $e=Q();return $e.indexOf("MSIE ")>=0||$e.indexOf("Trident/")>=0}function $(){try{return"object"==typeof indexedDB}catch{return!1}}function N(){return new Promise(($e,qe)=>{try{let it=!0;const Pt="validate-browser-context-for-indexeddb-analytics-module",vt=self.indexedDB.open(Pt);vt.onsuccess=()=>{vt.result.close(),it||self.indexedDB.deleteDatabase(Pt),$e(!0)},vt.onupgradeneeded=()=>{it=!1},vt.onerror=()=>{var qt;qe((null===(qt=vt.error)||void 0===qt?void 0:qt.message)||"")}}catch(it){qe(it)}})}function w(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class W extends Error{constructor(qe,it,Pt){super(it),this.code=qe,this.customData=Pt,this.name="FirebaseError",Object.setPrototypeOf(this,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(qe,it,Pt){this.service=qe,this.serviceName=it,this.errors=Pt}create(qe,...it){const Pt=it[0]||{},vt=`${this.service}/${qe}`,qt=this.errors[qe],rt=qt?function de($e,qe){return $e.replace(ee,(it,Pt)=>{const vt=qe[Pt];return null!=vt?String(vt):`<${Pt}?>`})}(qt,Pt):"Error";return new W(vt,`${this.serviceName}: ${rt} (${vt}).`,Pt)}}const ee=/\{\$([^}]+)}/g;function Zt($e){for(const qe in $e)if(Object.prototype.hasOwnProperty.call($e,qe))return!1;return!0}function Xt($e,qe){if($e===qe)return!0;const it=Object.keys($e),Pt=Object.keys(qe);for(const vt of it){if(!Pt.includes(vt))return!1;const qt=$e[vt],rt=qe[vt];if(Jt(qt)&&Jt(rt)){if(!Xt(qt,rt))return!1}else if(qt!==rt)return!1}for(const vt of Pt)if(!it.includes(vt))return!1;return!0}function Jt($e){return null!==$e&&"object"==typeof $e}function _t($e){const qe=[];for(const[it,Pt]of Object.entries($e))Array.isArray(Pt)?Pt.forEach(vt=>{qe.push(encodeURIComponent(it)+"="+encodeURIComponent(vt))}):qe.push(encodeURIComponent(it)+"="+encodeURIComponent(Pt));return qe.length?"&"+qe.join("&"):""}function At($e,qe){const it=new Qe($e,qe);return it.subscribe.bind(it)}class Qe{constructor(qe,it){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=it,this.task.then(()=>{qe(this)}).catch(Pt=>{this.error(Pt)})}next(qe){this.forEachObserver(it=>{it.next(qe)})}error(qe){this.forEachObserver(it=>{it.error(qe)}),this.close(qe)}complete(){this.forEachObserver(qe=>{qe.complete()}),this.close()}subscribe(qe,it,Pt){let vt;if(void 0===qe&&void 0===it&&void 0===Pt)throw new Error("Missing Observer.");vt=function Wt($e,qe){if("object"!=typeof $e||null===$e)return!1;for(const it of qe)if(it in $e&&"function"==typeof $e[it])return!0;return!1}(qe,["next","error","complete"])?qe:{next:qe,error:it,complete:Pt},void 0===vt.next&&(vt.next=Nt),void 0===vt.error&&(vt.error=Nt),void 0===vt.complete&&(vt.complete=Nt);const qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?vt.error(this.finalError):vt.complete()}catch{}}),this.observers.push(vt),qt}unsubscribeOne(qe){void 0===this.observers||void 0===this.observers[qe]||(delete this.observers[qe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(qe){if(!this.finalized)for(let it=0;it<this.observers.length;it++)this.sendOne(it,qe)}sendOne(qe,it){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[qe])try{it(this.observers[qe])}catch(Pt){typeof console<"u"&&console.error&&console.error(Pt)}})}close(qe){this.finalized||(this.finalized=!0,void 0!==qe&&(this.finalError=qe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nt(){}const rn=1e3,In=2,nn=144e5,Un=.5;function $n($e,qe=rn,it=In){const Pt=qe*Math.pow(it,$e),vt=Math.round(Un*Pt*(Math.random()-.5)*2);return Math.min(nn,Pt+vt)}function ur($e){return $e&&$e._delegate?$e._delegate:$e}},1986:(Be,R,V)=>{"use strict";V.d(R,{u:()=>u,z:()=>G});var u=(()=>{return(ne=u||(u={})).USER="USER",ne.CLIENT="CLIENT",ne.ADMIN="ADMIN",u;var ne})(),G=(()=>{return(ne=G||(G={})).HTML="HTML",ne.PDF="PDF",ne.URL="URL",G;var ne})()},4724:(Be,R,V)=>{"use strict";V.d(R,{nW:()=>Pi,zW:()=>zi,C5:()=>Xn});var u=V(5861),G=V(8256),ne=V(6881);(0,ne.KN)("firebase","9.23.0","app");var Se=V(1877),me=V(2090),Ae=V(4859);const Ve=(_e,je)=>je.some(et=>_e instanceof et);let le,ue;const re=new WeakMap,Ee=new WeakMap,De=new WeakMap,Ce=new WeakMap,ye=new WeakMap;let Y={get(_e,je,et){if(_e instanceof IDBTransaction){if("done"===je)return Ee.get(_e);if("objectStoreNames"===je)return _e.objectStoreNames||De.get(_e);if("store"===je)return et.objectStoreNames[1]?void 0:et.objectStore(et.objectStoreNames[0])}return Q(_e[je])},set:(_e,je,et)=>(_e[je]=et,!0),has:(_e,je)=>_e instanceof IDBTransaction&&("done"===je||"store"===je)||je in _e};function Re(_e){return"function"==typeof _e?function J(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...je){return _e.apply(k(this),je),Q(re.get(this))}:function(...je){return Q(_e.apply(k(this),je))}:function(je,...et){const gt=_e.call(k(this),je,...et);return De.set(gt,je.sort?je.sort():[je]),Q(gt)}}(_e):(_e instanceof IDBTransaction&&function A(_e){if(Ee.has(_e))return;const je=new Promise((et,gt)=>{const xt=()=>{_e.removeEventListener("complete",L),_e.removeEventListener("error",X),_e.removeEventListener("abort",X)},L=()=>{et(),xt()},X=()=>{gt(_e.error||new DOMException("AbortError","AbortError")),xt()};_e.addEventListener("complete",L),_e.addEventListener("error",X),_e.addEventListener("abort",X)});Ee.set(_e,je)}(_e),Ve(_e,function Ie(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,Y):_e)}function Q(_e){if(_e instanceof IDBRequest)return function P(_e){const je=new Promise((et,gt)=>{const xt=()=>{_e.removeEventListener("success",L),_e.removeEventListener("error",X)},L=()=>{et(Q(_e.result)),xt()},X=()=>{gt(_e.error),xt()};_e.addEventListener("success",L),_e.addEventListener("error",X)});return je.then(et=>{et instanceof IDBCursor&&re.set(et,_e)}).catch(()=>{}),ye.set(je,_e),je}(_e);if(Ce.has(_e))return Ce.get(_e);const je=Re(_e);return je!==_e&&(Ce.set(_e,je),ye.set(je,_e)),je}const k=_e=>ye.get(_e),ke=["get","getKey","getAll","getAllKeys","count"],He=["put","add","delete","clear"],Ue=new Map;function ot(_e,je){if(!(_e instanceof IDBDatabase)||je in _e||"string"!=typeof je)return;if(Ue.get(je))return Ue.get(je);const et=je.replace(/FromIndex$/,""),gt=je!==et,xt=He.includes(et);if(!(et in(gt?IDBIndex:IDBObjectStore).prototype)||!xt&&!ke.includes(et))return;const L=function(){var X=(0,u.Z)(function*(x,...U){const se=this.transaction(x,xt?"readwrite":"readonly");let st=se.store;return gt&&(st=st.index(U.shift())),(yield Promise.all([st[et](...U),xt&&se.done]))[0]});return function(U){return X.apply(this,arguments)}}();return Ue.set(je,L),L}!function pe(_e){Y=_e(Y)}(_e=>({..._e,get:(je,et,gt)=>ot(je,et)||_e.get(je,et,gt),has:(je,et)=>!!ot(je,et)||_e.has(je,et)}));const we="@firebase/installations",te="0.6.4",H=1e4,$=`w:${te}`,N="FIS_v2",w="https://firebaseinstallations.googleapis.com/v1",M=36e5,ee=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function We(_e){return _e instanceof me.ZR&&_e.code.includes("request-failed")}function Ze({projectId:_e}){return`${w}/projects/${_e}/installations`}function Xe(_e){return{token:_e.token,requestStatus:2,expiresIn:Zt(_e.expiresIn),creationTime:Date.now()}}function Ke(_e,je){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(_e,je){const gt=(yield je.json()).error;return ee.create("request-failed",{requestName:_e,serverCode:gt.code,serverMessage:gt.message,serverStatus:gt.status})})).apply(this,arguments)}function Lt({apiKey:_e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_e})}function Bt(_e){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(_e){const je=yield _e();return je.status>=500&&je.status<600?_e():je})).apply(this,arguments)}function Zt(_e){return Number(_e.replace("s","000"))}function Jt(){return(Jt=(0,u.Z)(function*({appConfig:_e,heartbeatServiceProvider:je},{fid:et}){const gt=Ze(_e),xt=Lt(_e),L=je.getImmediate({optional:!0});if(L){const se=yield L.getHeartbeatsHeader();se&&xt.append("x-firebase-client",se)}const x={method:"POST",headers:xt,body:JSON.stringify({fid:et,authVersion:N,appId:_e.appId,sdkVersion:$})},U=yield Bt(()=>fetch(gt,x));if(U.ok){const se=yield U.json();return{fid:se.fid||et,registrationStatus:2,refreshToken:se.refreshToken,authToken:Xe(se.authToken)}}throw yield Ke("Create Installation",U)})).apply(this,arguments)}function Hn(_e){return new Promise(je=>{setTimeout(je,_e)})}const Me=/^[cdef][\w-]{21}$/,nt="";function dt(){try{const _e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_e),_e[0]=112+_e[0]%16;const et=function At(_e){return function _t(_e){return btoa(String.fromCharCode(..._e)).replace(/\+/g,"-").replace(/\//g,"_")}(_e).substr(0,22)}(_e);return Me.test(et)?et:nt}catch{return nt}}function Qe(_e){return`${_e.appName}!${_e.appId}`}const yt=new Map;function Wt(_e,je){const et=Qe(_e);Gn(et,je),function pt(_e,je){const et=function ht(){return!ct&&"BroadcastChannel"in self&&(ct=new BroadcastChannel("[Firebase] FID Change"),ct.onmessage=_e=>{Gn(_e.data.key,_e.data.fid)}),ct}();et&&et.postMessage({key:_e,fid:je}),function cn(){0===yt.size&&ct&&(ct.close(),ct=null)}()}(et,je)}function Gn(_e,je){const et=yt.get(_e);if(et)for(const gt of et)gt(je)}let ct=null;const Qt="firebase-installations-database",wn=1,rn="firebase-installations-store";let In=null;function nn(){return In||(In=function he(_e,je,{blocked:et,upgrade:gt,blocking:xt,terminated:L}={}){const X=indexedDB.open(_e,je),x=Q(X);return gt&&X.addEventListener("upgradeneeded",U=>{gt(Q(X.result),U.oldVersion,U.newVersion,Q(X.transaction))}),et&&X.addEventListener("blocked",()=>et()),x.then(U=>{L&&U.addEventListener("close",()=>L()),xt&&U.addEventListener("versionchange",()=>xt())}).catch(()=>{}),x}(Qt,wn,{upgrade:(_e,je)=>{0===je&&_e.createObjectStore(rn)}})),In}function Un(_e,je){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(_e,je){const et=Qe(_e),xt=(yield nn()).transaction(rn,"readwrite"),L=xt.objectStore(rn),X=yield L.get(et);return yield L.put(je,et),yield xt.done,(!X||X.fid!==je.fid)&&Wt(_e,je.fid),je})).apply(this,arguments)}function or(_e){return nr.apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(_e){const je=Qe(_e),gt=(yield nn()).transaction(rn,"readwrite");yield gt.objectStore(rn).delete(je),yield gt.done})).apply(this,arguments)}function ur(_e,je){return $e.apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(_e,je){const et=Qe(_e),xt=(yield nn()).transaction(rn,"readwrite"),L=xt.objectStore(rn),X=yield L.get(et),x=je(X);return void 0===x?yield L.delete(et):yield L.put(x,et),yield xt.done,x&&(!X||X.fid!==x.fid)&&Wt(_e,x.fid),x})).apply(this,arguments)}function qe(_e){return it.apply(this,arguments)}function it(){return it=(0,u.Z)(function*(_e){let je;const et=yield ur(_e.appConfig,gt=>{const xt=function Pt(_e){return Rt(_e||{fid:dt(),registrationStatus:0})}(gt),L=function vt(_e,je){if(0===je.registrationStatus){if(!navigator.onLine)return{installationEntry:je,registrationPromise:Promise.reject(ee.create("app-offline"))};const et={fid:je.fid,registrationStatus:1,registrationTime:Date.now()},gt=function qt(_e,je){return rt.apply(this,arguments)}(_e,et);return{installationEntry:et,registrationPromise:gt}}return 1===je.registrationStatus?{installationEntry:je,registrationPromise:tt(_e)}:{installationEntry:je}}(_e,xt);return je=L.registrationPromise,L.installationEntry});return et.fid===nt?{installationEntry:yield je}:{installationEntry:et,registrationPromise:je}}),it.apply(this,arguments)}function rt(){return rt=(0,u.Z)(function*(_e,je){try{const et=yield function Xt(_e,je){return Jt.apply(this,arguments)}(_e,je);return Un(_e.appConfig,et)}catch(et){throw We(et)&&409===et.customData.serverCode?yield or(_e.appConfig):yield Un(_e.appConfig,{fid:je.fid,registrationStatus:0}),et}}),rt.apply(this,arguments)}function tt(_e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(_e){let je=yield ft(_e.appConfig);for(;1===je.registrationStatus;)yield Hn(100),je=yield ft(_e.appConfig);if(0===je.registrationStatus){const{installationEntry:et,registrationPromise:gt}=yield qe(_e);return gt||et}return je})).apply(this,arguments)}function ft(_e){return ur(_e,je=>{if(!je)throw ee.create("installation-not-found");return Rt(je)})}function Rt(_e){return function Kt(_e){return 1===_e.registrationStatus&&_e.registrationTime+H<Date.now()}(_e)?{fid:_e.fid,registrationStatus:0}:_e}function bn(){return(bn=(0,u.Z)(function*({appConfig:_e,heartbeatServiceProvider:je},et){const gt=function hr(_e,{fid:je}){return`${Ze(_e)}/${je}/authTokens:generate`}(_e,et),xt=function $t(_e,{refreshToken:je}){const et=Lt(_e);return et.append("Authorization",function mn(_e){return`${N} ${_e}`}(je)),et}(_e,et),L=je.getImmediate({optional:!0});if(L){const se=yield L.getHeartbeatsHeader();se&&xt.append("x-firebase-client",se)}const x={method:"POST",headers:xt,body:JSON.stringify({installation:{sdkVersion:$,appId:_e.appId}})},U=yield Bt(()=>fetch(gt,x));if(U.ok)return Xe(yield U.json());throw yield Ke("Generate Auth Token",U)})).apply(this,arguments)}function zn(_e){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,u.Z)(function*(_e,je=!1){let et;const gt=yield ur(_e.appConfig,L=>{if(!Wn(L))throw ee.create("not-registered");const X=L.authToken;if(!je&&function Sr(_e){return 2===_e.requestStatus&&!function fr(_e){const je=Date.now();return je<_e.creationTime||_e.creationTime+_e.expiresIn<je+M}(_e)}(X))return L;if(1===X.requestStatus)return et=function Ct(_e,je){return Ht.apply(this,arguments)}(_e,je),L;{if(!navigator.onLine)throw ee.create("app-offline");const x=function Ii(_e){const je={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_e),{authToken:je})}(L);return et=function Rn(_e,je){return Bn.apply(this,arguments)}(_e,x),x}});return et?yield et:gt.authToken}),Tt.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(_e,je){let et=yield fn(_e.appConfig);for(;1===et.authToken.requestStatus;)yield Hn(100),et=yield fn(_e.appConfig);const gt=et.authToken;return 0===gt.requestStatus?zn(_e,je):gt})).apply(this,arguments)}function fn(_e){return ur(_e,je=>{if(!Wn(je))throw ee.create("not-registered");return function Ri(_e){return 1===_e.requestStatus&&_e.requestTime+H<Date.now()}(je.authToken)?Object.assign(Object.assign({},je),{authToken:{requestStatus:0}}):je})}function Bn(){return Bn=(0,u.Z)(function*(_e,je){try{const et=yield function En(_e,je){return bn.apply(this,arguments)}(_e,je),gt=Object.assign(Object.assign({},je),{authToken:et});return yield Un(_e.appConfig,gt),et}catch(et){if(!We(et)||401!==et.customData.serverCode&&404!==et.customData.serverCode){const gt=Object.assign(Object.assign({},je),{authToken:{requestStatus:0}});yield Un(_e.appConfig,gt)}else yield or(_e.appConfig);throw et}}),Bn.apply(this,arguments)}function Wn(_e){return void 0!==_e&&2===_e.registrationStatus}function Br(){return(Br=(0,u.Z)(function*(_e){const je=_e,{installationEntry:et,registrationPromise:gt}=yield qe(je);return gt?gt.catch(console.error):zn(je).catch(console.error),et.fid})).apply(this,arguments)}function Nn(){return Nn=(0,u.Z)(function*(_e,je=!1){const et=_e;return yield function br(_e){return Lr.apply(this,arguments)}(et),(yield zn(et,je)).token}),Nn.apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(_e){const{registrationPromise:je}=yield qe(_e);je&&(yield je)})).apply(this,arguments)}function Qn(_e){return ee.create("missing-app-config-values",{valueName:_e})}const Mn="installations",Fr=_e=>{const je=_e.getProvider("app").getImmediate(),et=function Fn(_e){if(!_e||!_e.options)throw Qn("App Configuration");if(!_e.name)throw Qn("App Name");const je=["projectId","apiKey","appId"];for(const et of je)if(!_e.options[et])throw Qn(et);return{appName:_e.name,projectId:_e.options.projectId,apiKey:_e.options.apiKey,appId:_e.options.appId}}(je);return{app:je,appConfig:et,heartbeatServiceProvider:(0,ne.qX)(je,"heartbeat"),_delete:()=>Promise.resolve()}},Di=_e=>{const je=_e.getProvider("app").getImmediate(),et=(0,ne.qX)(je,Mn).getImmediate();return{getId:()=>function ss(_e){return Br.apply(this,arguments)}(et),getToken:xt=>function qr(_e){return Nn.apply(this,arguments)}(et,xt)}};(function Tr(){(0,ne.Xd)(new Ae.wA(Mn,Fr,"PUBLIC")),(0,ne.Xd)(new Ae.wA("installations-internal",Di,"PRIVATE"))})(),(0,ne.KN)(we,te),(0,ne.KN)(we,te,"esm2017");const ki="analytics",ci="firebase_id",jn="origin",Zi=6e4,Ni="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",os="https://www.googletagmanager.com/gtag/js",Jn=new Se.Yd("@firebase/analytics"),vr=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Yi(_e){if(!_e.startsWith(os)){const je=vr.create("invalid-gtag-resource",{gtagURL:_e});return Jn.warn(je.message),""}return _e}function _i(_e){return Promise.all(_e.map(je=>je.catch(et=>et)))}function Ui(){return(Ui=(0,u.Z)(function*(_e,je,et,gt,xt,L){const X=gt[xt];try{if(X)yield je[X];else{const U=(yield _i(et)).find(se=>se.measurementId===xt);U&&(yield je[U.appId])}}catch(x){Jn.error(x)}_e("config",xt,L)})).apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(_e,je,et,gt,xt){try{let L=[];if(xt&&xt.send_to){let X=xt.send_to;Array.isArray(X)||(X=[X]);const x=yield _i(et);for(const U of X){const se=x.find(Yt=>Yt.measurementId===U),st=se&&je[se.appId];if(!st){L=[];break}L.push(st)}}0===L.length&&(L=Object.values(je)),yield Promise.all(L),_e("event",gt,xt||{})}catch(L){Jn.error(L)}})).apply(this,arguments)}const _s=30,Dr=new class Gr{constructor(je={},et=1e3){this.throttleMetadata=je,this.intervalMillis=et}getThrottleMetadata(je){return this.throttleMetadata[je]}setThrottleMetadata(je,et){this.throttleMetadata[je]=et}deleteThrottleMetadata(je){delete this.throttleMetadata[je]}};function es(_e){return new Headers({Accept:"application/json","x-goog-api-key":_e})}function Or(){return(Or=(0,u.Z)(function*(_e){var je;const{appId:et,apiKey:gt}=_e,xt={method:"GET",headers:es(gt)},L=Ni.replace("{app-id}",et),X=yield fetch(L,xt);if(200!==X.status&&304!==X.status){let x="";try{const U=yield X.json();null!==(je=U.error)&&void 0!==je&&je.message&&(x=U.error.message)}catch{}throw vr.create("config-fetch-failed",{httpStatus:X.status,responseMessage:x})}return X.json()})).apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(_e,je=Dr,et){const{appId:gt,apiKey:xt,measurementId:L}=_e.options;if(!gt)throw vr.create("no-app-id");if(!xt){if(L)return{measurementId:L,appId:gt};throw vr.create("no-api-key")}const X=je.getThrottleMetadata(gt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},x=new Ho;return setTimeout((0,u.Z)(function*(){x.abort()}),void 0!==et?et:Zi),Hi({appId:gt,apiKey:xt,measurementId:L},X,x,je)})).apply(this,arguments)}function Hi(_e,je,et){return xi.apply(this,arguments)}function xi(){return xi=(0,u.Z)(function*(_e,{throttleEndTimeMillis:je,backoffCount:et},gt,xt=Dr){var L;const{appId:X,measurementId:x}=_e;try{yield function vs(_e,je){return new Promise((et,gt)=>{const xt=Math.max(je-Date.now(),0),L=setTimeout(et,xt);_e.addEventListener(()=>{clearTimeout(L),gt(vr.create("fetch-throttle",{throttleEndTimeMillis:je}))})})}(gt,je)}catch(U){if(x)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${x} provided in the "measurementId" field in the local Firebase config. [${U?.message}]`),{appId:X,measurementId:x};throw U}try{const U=yield function as(_e){return Or.apply(this,arguments)}(_e);return xt.deleteThrottleMetadata(X),U}catch(U){const se=U;if(!function Us(_e){if(!(_e instanceof me.ZR&&_e.customData))return!1;const je=Number(_e.customData.httpStatus);return 429===je||500===je||503===je||504===je}(se)){if(xt.deleteThrottleMetadata(X),x)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${x} provided in the "measurementId" field in the local Firebase config. [${se?.message}]`),{appId:X,measurementId:x};throw U}const st=503===Number(null===(L=se?.customData)||void 0===L?void 0:L.httpStatus)?(0,me.$s)(et,xt.intervalMillis,_s):(0,me.$s)(et,xt.intervalMillis),Yt={throttleEndTimeMillis:Date.now()+st,backoffCount:et+1};return xt.setThrottleMetadata(X,Yt),Jn.debug(`Calling attemptFetch again in ${st} millis`),Hi(_e,Yt,gt,xt)}}),xi.apply(this,arguments)}class Ho{constructor(){this.listeners=[]}addEventListener(je){this.listeners.push(je)}abort(){this.listeners.forEach(je=>je())}}let Li,_o;function to(){return(to=(0,u.Z)(function*(_e,je,et,gt,xt){if(xt&&xt.global)_e("event",et,gt);else{const L=yield je;_e("event",et,Object.assign(Object.assign({},gt),{send_to:L}))}})).apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(){if(!(0,me.hl)())return Jn.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(_e){return Jn.warn(vr.create("indexeddb-unavailable",{errorInfo:_e?.toString()}).message),!1}return!0})).apply(this,arguments)}function js(){return js=(0,u.Z)(function*(_e,je,et,gt,xt,L,X){var x;const U=function ys(_e){return eo.apply(this,arguments)}(_e);U.then(On=>{et[On.measurementId]=On.appId,_e.options.measurementId&&On.measurementId!==_e.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${_e.options.measurementId}) does not match the measurement ID fetched from the server (${On.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(On=>Jn.error(On)),je.push(U);const se=function si(){return $r.apply(this,arguments)}().then(On=>{if(On)return gt.getId()}),[st,Yt]=yield Promise.all([U,se]);(function Ln(_e){const je=window.document.getElementsByTagName("script");for(const et of Object.values(je))if(et.src&&et.src.includes(os)&&et.src.includes(_e))return et;return null})(L)||function Js(_e,je){const et=function Qi(_e,je){let et;return window.trustedTypes&&(et=window.trustedTypes.createPolicy(_e,je)),et}("firebase-js-sdk-policy",{createScriptURL:Yi}),gt=document.createElement("script"),xt=`${os}?l=${_e}&id=${je}`;gt.src=et?et?.createScriptURL(xt):xt,gt.async=!0,document.head.appendChild(gt)}(L,st.measurementId),_o&&(xt("consent","default",_o),function ls(_e){_o=_e}(void 0)),xt("js",new Date);const un=null!==(x=X?.config)&&void 0!==x?x:{};return un[jn]="firebase",un.update=!0,null!=Yt&&(un[ci]=Yt),xt("config",st.measurementId,un),Li&&(xt("set",Li),function Ms(_e){Li=_e}(void 0)),st.measurementId}),js.apply(this,arguments)}class cs{constructor(je){this.app=je}_delete(){return delete Rr[this.app.options.appId],Promise.resolve()}}let Rr={},io=[];const Cr={};let vo,ui,yo="dataLayer",vi="gtag",Pr=!1;function Yr(_e,je,et){!function so(){const _e=[];if((0,me.ru)()&&_e.push("This is a browser extension environment."),(0,me.zI)()||_e.push("Cookies are not available."),_e.length>0){const je=_e.map((gt,xt)=>`(${xt+1}) ${gt}`).join(" "),et=vr.create("invalid-analytics-context",{errorInfo:je});Jn.warn(et.message)}}();const gt=_e.options.appId;if(!gt)throw vr.create("no-app-id");if(!_e.options.apiKey){if(!_e.options.measurementId)throw vr.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${_e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rr[gt])throw vr.create("already-exists",{id:gt});if(!Pr){!function Ir(_e){let je=[];Array.isArray(window[_e])?je=window[_e]:window[_e]=je}(yo);const{wrappedGtag:L,gtagCore:X}=function Ji(_e,je,et,gt,xt){let L=function(...X){window[gt].push(arguments)};return window[xt]&&"function"==typeof window[xt]&&(L=window[xt]),window[xt]=function ji(_e,je,et,gt){function L(){return L=(0,u.Z)(function*(X,...x){try{if("event"===X){const[U,se]=x;yield function Bi(_e,je,et,gt,xt){return Xi.apply(this,arguments)}(_e,je,et,U,se)}else if("config"===X){const[U,se]=x;yield function So(_e,je,et,gt,xt,L){return Ui.apply(this,arguments)}(_e,je,et,gt,U,se)}else if("consent"===X){const[U]=x;_e("consent","update",U)}else if("get"===X){const[U,se,st]=x;_e("get",U,se,st)}else if("set"===X){const[U]=x;_e("set",U)}else _e(X,...x)}catch(U){Jn.error(U)}}),L.apply(this,arguments)}return function xt(X){return L.apply(this,arguments)}}(L,_e,je,et),{gtagCore:L,wrappedGtag:window[xt]}}(Rr,io,Cr,yo,vi);ui=L,vo=X,Pr=!0}return Rr[gt]=function Bs(_e,je,et,gt,xt,L,X){return js.apply(this,arguments)}(_e,io,Cr,je,vo,yo,et),new cs(_e)}function Z(_e,je,et,gt){_e=(0,me.m9)(_e),function Cs(_e,je,et,gt,xt){return to.apply(this,arguments)}(ui,Rr[_e.app.options.appId],je,et,gt).catch(xt=>Jn.error(xt))}const B="@firebase/analytics";!function Dt(){(0,ne.Xd)(new Ae.wA(ki,(je,{options:et})=>Yr(je.getProvider("app").getImmediate(),je.getProvider("installations-internal").getImmediate(),et),"PUBLIC")),(0,ne.Xd)(new Ae.wA("analytics-internal",function _e(je){try{const et=je.getProvider(ki).getImmediate();return{logEvent:(gt,xt,L)=>Z(et,gt,xt,L)}}catch(et){throw vr.create("interop-component-reg-failed",{reason:et})}},"PRIVATE")),(0,ne.KN)(B,"0.10.0"),(0,ne.KN)(B,"0.10.0","esm2017")}();var Dn=V(7280),rr=V(7396),di=V(1986),jt=V(184);let Xn=(()=>{var _e;class je{constructor(gt){this.loader=gt,this.app=(0,ne.ZF)(Er),this.analytics=function Ci(_e=(0,ne.Mq)()){_e=(0,me.m9)(_e);const je=(0,ne.qX)(_e,ki);return je.isInitialized()?je.getImmediate():function wi(_e,je={}){const et=(0,ne.qX)(_e,ki);if(et.isInitialized()){const xt=et.getImmediate();if((0,me.vZ)(je,et.getOptions()))return xt;throw vr.create("already-initialized")}return et.initialize({options:je})}(_e)}(this.app),this.firestore=(0,rr.ad)(this.app),this.auth=(0,Dn.v0)(this.app),this.isAdmin=!1,this.data={},this.cursors={},this.refreshEvent=new G.vpe,this.refreshUser=new G.vpe,this.refreshUserSession();var xt=[Pi.CATEGORIES,Pi.COURSES,Pi.TOPICS,Pi.PAGES];for(var L in xt)this.init(xt[L]),this.refresh(xt[L])}init(gt){this.cursors[gt]={order:0,limit:20}}refreshUserSession(){this.auth.onAuthStateChanged(gt=>{null==gt?(this.user=void 0,this.isAdmin=!1,this.refreshUser.emit(void 0)):(console.log("FirestoreService:refreshUserSession:: Auth State Changed ",gt),this.loader.show(),this.login({id:gt.uid,email:gt.email,name:gt.displayName,contact:gt.phoneNumber,image:gt.photoURL,role:di.u.USER}))})}refresh(gt){console.log("Refreshing "+gt);let xt=(0,rr.hJ)(this.firestore,gt);const L=(0,rr.IO)(xt,(0,rr.b9)(this.cursors[gt].limit));(0,rr.PL)(L).then(X=>{this.data[gt]=[],X.forEach(x=>{let U=x.data();U.id=x.id,this.data[gt].push(U)}),this.refreshEvent.emit(gt)})}fetch(gt,xt,L){if(null!=gt&&null!=xt&&null!=L&&null!=this.data[gt])return this.data[gt].filter(X=>X[xt]==L)[0]}login(gt){var xt=this;return(0,u.Z)(function*(){const L=(0,rr.JU)(xt.firestore,"users",gt.id),X=yield(0,rr.QT)(L);if(X.exists()){let x=X.data();console.log("FirestoreService:login:: Existing User :",x),xt.user={id:x.id,name:x.name,email:x.email,contact:x.contact,role:x.role,image:x.image},xt.refreshUser.emit(xt.user),sessionStorage.setItem("user",JSON.stringify(xt.user)),xt.isAdmin=xt.user.role==di.u.ADMIN,xt.loader.hide()}else console.log("FirestoreService:login:: Create new user: "+gt.email),xt.user=gt,yield(0,rr.pl)((0,rr.JU)((0,rr.hJ)(xt.firestore,"users"),gt.id),xt.user),console.log("FirestoreService:login:: Created new user: "+gt.email),xt.refreshUser.emit(xt.user),sessionStorage.setItem("user",JSON.stringify(xt.user)),xt.log(zi.SIGN_UP,xt.user),xt.loader.hide()})()}logout(){var gt=this;return(0,u.Z)(function*(){console.log("FirestoreService:logout:: Logging out user: "+gt.user?.email),gt.user=void 0,sessionStorage.clear(),gt.isAdmin=!1,gt.log(zi.LOGOUT,gt.user),gt.refreshUser.emit(gt.user)})()}log(gt,xt=null){let L={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:gt};xt&&(L.data=xt),console.log("Sending Event to Analytics: ",L),Z(this.analytics,gt,L)}}return(_e=je).\u0275fac=function(gt){return new(gt||_e)(G.LFG(jt.D))},_e.\u0275prov=G.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),je})();var zi=(()=>{return(_e=zi||(zi={})).PAGE_VIEW="PAGE_VIEW",_e.LOGIN="login",_e.SIGN_UP="sign_up",_e.LOGOUT="logout",zi;var _e})(),Pi=(()=>{return(_e=Pi||(Pi={})).USERS="users",_e.CATEGORIES="categories",_e.COURSES="courses",_e.TOPICS="topics",_e.PAGES="pages",_e.ASSESSMENTS="assessments",Pi;var _e})();const Er={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"}},184:(Be,R,V)=>{"use strict";V.d(R,{D:()=>ne});var u=V(1135),G=V(8256);let ne=(()=>{var f;class be{constructor(){this.isLoading=new u.X(!1)}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return(f=be).\u0275fac=function(me){return new(me||f)},f.\u0275prov=G.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),be})()},1527:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>PageComponent});var _workspace_webedu_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5861),_firestore_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4724),firebase_firestore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7396),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8256),_angular_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5087),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6895),_angular_forms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(433);function PageComponent_div_0_div_1_Template(Be,R){if(1&Be&&_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(0,"div",4),2&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("innerHTML",V.page.html,_angular_core__WEBPACK_IMPORTED_MODULE_2__.oJD)}}function PageComponent_div_0_Template(Be,R){if(1&Be&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(1,PageComponent_div_0_div_1_Template,1,1,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()),2&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf",V.page.html)}}function PageComponent_div_1_button_2_Template(Be,R){if(1&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(V);const G=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_2__.KtG(G.editPageModal=!0)}),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(1,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(2,"edit"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()}}function PageComponent_div_1_Template(Be,R){if(1&Be&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div",5)(1,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(2,PageComponent_div_1_button_2_Template,3,0,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()),2&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf",V.page)}}function PageComponent_div_2_div_17_Template(Be,R){if(1&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div",23)(1,"textarea",24),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("ngModelChange",function(G){_angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(V);const ne=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_2__.KtG(ne.page.html=G)}),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()}if(2&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngModel",V.page.html)}}function PageComponent_div_2_div_18_Template(Be,R){if(1&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div",23)(1,"textarea",24),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("ngModelChange",function(G){_angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(V);const ne=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_2__.KtG(ne.page.script=G)}),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()}if(2&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngModel",V.page.script)}}function PageComponent_div_2_div_19_Template(Be,R){if(1&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div",23)(1,"textarea",24),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("ngModelChange",function(G){_angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(V);const ne=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_2__.KtG(ne.page.style=G)}),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()}if(2&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngModel",V.page.style)}}const _c0=function(Be){return{a:Be}};function PageComponent_div_2_Template(Be,R){if(1&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h4",14),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(5,"Edit Page"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(6,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(V);const G=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_2__.KtG(G.editPageModal=!1)}),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(7,"div",16)(8,"div",17)(9,"div",18)(10,"span",19),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(V);const G=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_2__.KtG(G.editPageView="html")}),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(11,"HTML"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(12,"span",19),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(V);const G=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_2__.KtG(G.editPageView="script")}),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(13,"Script"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(14,"span",19),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(V);const G=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_2__.KtG(G.editPageView="style")}),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(15,"Style"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(16,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(17,PageComponent_div_2_div_17_Template,2,1,"div",20),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(18,PageComponent_div_2_div_18_Template,2,1,"div",20),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(19,PageComponent_div_2_div_19_Template,2,1,"div",20),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(20,"div",21)(21,"button",22),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(V);const G=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_2__.KtG(G.save())}),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(22,"Update"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()()()()}if(2&Be){const V=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(10),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_2__.VKq(6,_c0,"html"==V.editPageView)),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_2__.VKq(8,_c0,"script"==V.editPageView)),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_2__.VKq(10,_c0,"style"==V.editPageView)),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf","html"==V.editPageView),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf","script"==V.editPageView),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf","style"==V.editPageView)}}let PageComponent=(()=>{var _class;class PageComponent{constructor(Be,R,V){this.router=Be,this.route=R,this.firestore=V,this.editPageModal=!1,this.editPageView="html"}ngOnInit(){let Be=this.route.snapshot.paramMap.get("id");console.log("Loading Page: "+Be),Be&&(null==this.firestore.data[_firestore_service__WEBPACK_IMPORTED_MODULE_0__.nW.PAGES]?(this.firestore.loader.show(),this.firestore.refreshEvent.subscribe(R=>{Be&&R==_firestore_service__WEBPACK_IMPORTED_MODULE_0__.nW.PAGES&&(this.firestore.loader.hide(),this.refresh(Be))})):this.refresh(Be))}refresh(id){var page=this.firestore.fetch(_firestore_service__WEBPACK_IMPORTED_MODULE_0__.nW.PAGES,"id",id);if(page&&page.auth)this.router.navigate(["login"]);else if(page){if(console.log(page),this.page=page,page.header||window.postMessage("ToggleHeader"),page.script&&eval(page.script),page.style){var s=document.createElement("style");s.innerText=page.style,document.head.appendChild(s)}}else this.router.navigate(["home"])}save(){var Be=this;return(0,_workspace_webedu_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)(function*(){Be.page&&(Be.editPageModal=!1,Be.firestore.loader.show(),yield(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.pl)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.JU)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.hJ)(Be.firestore.firestore,_firestore_service__WEBPACK_IMPORTED_MODULE_0__.nW.PAGES),Be.page.id),Be.page),Be.firestore.loader.hide(),alert("Page Updated"))})()}}return _class=PageComponent,_class.\u0275fac=function Be(R){return new(R||_class)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_4__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_4__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_firestore_service__WEBPACK_IMPORTED_MODULE_0__.C5))},_class.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:_class,selectors:[["app-page"]],decls:3,vars:3,consts:[[4,"ngIf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-warning",3,"click"],[1,"material-icons","pointer"],[1,"modal","extended"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12"],[1,"mx-2","pointer",3,"ngClass","click"],["class","col-12 my-2",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"]],template:function Be(R,V){1&R&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(0,PageComponent_div_0_Template,2,1,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(1,PageComponent_div_1_Template,3,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(2,PageComponent_div_2_Template,23,12,"div",2)),2&R&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf",V.page),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf",V.firestore.isAdmin),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf",V.page&&V.editPageModal))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_5__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.On],styles:[".floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:60px;right:30px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}span.a[_ngcontent-%COMP%]{color:#00f;font-weight:700;text-decoration:underline}"]}),PageComponent})()},4396:(Be,R,V)=>{"use strict";var u=V(1481),G=V(433),ne=V(6895),f=V(8256),be=V(9646),Se=V(9751),me=V(4351),Ae=V(9300),Ve=V(4004);class le{}class ue{}class Ie{constructor(X){this.normalizedNames=new Map,this.lazyUpdate=null,X?this.lazyInit="string"==typeof X?()=>{this.headers=new Map,X.split("\n").forEach(x=>{const U=x.indexOf(":");if(U>0){const se=x.slice(0,U),st=se.toLowerCase(),Yt=x.slice(U+1).trim();this.maybeSetNormalizedName(se,st),this.headers.has(st)?this.headers.get(st).push(Yt):this.headers.set(st,[Yt])}})}:()=>{this.headers=new Map,Object.entries(X).forEach(([x,U])=>{let se;if(se="string"==typeof U?[U]:"number"==typeof U?[U.toString()]:U.map(st=>st.toString()),se.length>0){const st=x.toLowerCase();this.headers.set(st,se),this.maybeSetNormalizedName(x,st)}})}:this.headers=new Map}has(X){return this.init(),this.headers.has(X.toLowerCase())}get(X){this.init();const x=this.headers.get(X.toLowerCase());return x&&x.length>0?x[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(X){return this.init(),this.headers.get(X.toLowerCase())||null}append(X,x){return this.clone({name:X,value:x,op:"a"})}set(X,x){return this.clone({name:X,value:x,op:"s"})}delete(X,x){return this.clone({name:X,value:x,op:"d"})}maybeSetNormalizedName(X,x){this.normalizedNames.has(x)||this.normalizedNames.set(x,X)}init(){this.lazyInit&&(this.lazyInit instanceof Ie?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(X=>this.applyUpdate(X)),this.lazyUpdate=null))}copyFrom(X){X.init(),Array.from(X.headers.keys()).forEach(x=>{this.headers.set(x,X.headers.get(x)),this.normalizedNames.set(x,X.normalizedNames.get(x))})}clone(X){const x=new Ie;return x.lazyInit=this.lazyInit&&this.lazyInit instanceof Ie?this.lazyInit:this,x.lazyUpdate=(this.lazyUpdate||[]).concat([X]),x}applyUpdate(X){const x=X.name.toLowerCase();switch(X.op){case"a":case"s":let U=X.value;if("string"==typeof U&&(U=[U]),0===U.length)return;this.maybeSetNormalizedName(X.name,x);const se=("a"===X.op?this.headers.get(x):void 0)||[];se.push(...U),this.headers.set(x,se);break;case"d":const st=X.value;if(st){let Yt=this.headers.get(x);if(!Yt)return;Yt=Yt.filter(un=>-1===st.indexOf(un)),0===Yt.length?(this.headers.delete(x),this.normalizedNames.delete(x)):this.headers.set(x,Yt)}else this.headers.delete(x),this.normalizedNames.delete(x)}}forEach(X){this.init(),Array.from(this.normalizedNames.keys()).forEach(x=>X(this.normalizedNames.get(x),this.headers.get(x)))}}class re{encodeKey(X){return ye(X)}encodeValue(X){return ye(X)}decodeKey(X){return decodeURIComponent(X)}decodeValue(X){return decodeURIComponent(X)}}const De=/%(\d[a-f0-9])/gi,Ce={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ye(L){return encodeURIComponent(L).replace(De,(X,x)=>Ce[x]??X)}function P(L){return`${L}`}class A{constructor(X={}){if(this.updates=null,this.cloneFrom=null,this.encoder=X.encoder||new re,X.fromString){if(X.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ee(L,X){const x=new Map;return L.length>0&&L.replace(/^\?/,"").split("&").forEach(se=>{const st=se.indexOf("="),[Yt,un]=-1==st?[X.decodeKey(se),""]:[X.decodeKey(se.slice(0,st)),X.decodeValue(se.slice(st+1))],On=x.get(Yt)||[];On.push(un),x.set(Yt,On)}),x}(X.fromString,this.encoder)}else X.fromObject?(this.map=new Map,Object.keys(X.fromObject).forEach(x=>{const U=X.fromObject[x],se=Array.isArray(U)?U.map(P):[P(U)];this.map.set(x,se)})):this.map=null}has(X){return this.init(),this.map.has(X)}get(X){this.init();const x=this.map.get(X);return x?x[0]:null}getAll(X){return this.init(),this.map.get(X)||null}keys(){return this.init(),Array.from(this.map.keys())}append(X,x){return this.clone({param:X,value:x,op:"a"})}appendAll(X){const x=[];return Object.keys(X).forEach(U=>{const se=X[U];Array.isArray(se)?se.forEach(st=>{x.push({param:U,value:st,op:"a"})}):x.push({param:U,value:se,op:"a"})}),this.clone(x)}set(X,x){return this.clone({param:X,value:x,op:"s"})}delete(X,x){return this.clone({param:X,value:x,op:"d"})}toString(){return this.init(),this.keys().map(X=>{const x=this.encoder.encodeKey(X);return this.map.get(X).map(U=>x+"="+this.encoder.encodeValue(U)).join("&")}).filter(X=>""!==X).join("&")}clone(X){const x=new A({encoder:this.encoder});return x.cloneFrom=this.cloneFrom||this,x.updates=(this.updates||[]).concat(X),x}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(X=>this.map.set(X,this.cloneFrom.map.get(X))),this.updates.forEach(X=>{switch(X.op){case"a":case"s":const x=("a"===X.op?this.map.get(X.param):void 0)||[];x.push(P(X.value)),this.map.set(X.param,x);break;case"d":if(void 0===X.value){this.map.delete(X.param);break}{let U=this.map.get(X.param)||[];const se=U.indexOf(P(X.value));-1!==se&&U.splice(se,1),U.length>0?this.map.set(X.param,U):this.map.delete(X.param)}}}),this.cloneFrom=this.updates=null)}}class pe{constructor(){this.map=new Map}set(X,x){return this.map.set(X,x),this}get(X){return this.map.has(X)||this.map.set(X,X.defaultValue()),this.map.get(X)}delete(X){return this.map.delete(X),this}has(X){return this.map.has(X)}keys(){return this.map.keys()}}function Re(L){return typeof ArrayBuffer<"u"&&L instanceof ArrayBuffer}function Q(L){return typeof Blob<"u"&&L instanceof Blob}function k(L){return typeof FormData<"u"&&L instanceof FormData}class Te{constructor(X,x,U,se){let st;if(this.url=x,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=X.toUpperCase(),function J(L){switch(L){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||se?(this.body=void 0!==U?U:null,st=se):st=U,st&&(this.reportProgress=!!st.reportProgress,this.withCredentials=!!st.withCredentials,st.responseType&&(this.responseType=st.responseType),st.headers&&(this.headers=st.headers),st.context&&(this.context=st.context),st.params&&(this.params=st.params)),this.headers||(this.headers=new Ie),this.context||(this.context=new pe),this.params){const Yt=this.params.toString();if(0===Yt.length)this.urlWithParams=x;else{const un=x.indexOf("?");this.urlWithParams=x+(-1===un?"?":un<x.length-1?"&":"")+Yt}}else this.params=new A,this.urlWithParams=x}serializeBody(){return null===this.body?null:Re(this.body)||Q(this.body)||k(this.body)||function he(L){return typeof URLSearchParams<"u"&&L instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof A?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||k(this.body)?null:Q(this.body)?this.body.type||null:Re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof A?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(X={}){const x=X.method||this.method,U=X.url||this.url,se=X.responseType||this.responseType,st=void 0!==X.body?X.body:this.body,Yt=void 0!==X.withCredentials?X.withCredentials:this.withCredentials,un=void 0!==X.reportProgress?X.reportProgress:this.reportProgress;let On=X.headers||this.headers,kr=X.params||this.params;const oi=X.context??this.context;return void 0!==X.setHeaders&&(On=Object.keys(X.setHeaders).reduce((oo,Fi)=>oo.set(Fi,X.setHeaders[Fi]),On)),X.setParams&&(kr=Object.keys(X.setParams).reduce((oo,Fi)=>oo.set(Fi,X.setParams[Fi]),kr)),new Te(x,U,st,{params:kr,headers:On,context:oi,reportProgress:un,responseType:se,withCredentials:Yt})}}var ke=(()=>((ke=ke||{})[ke.Sent=0]="Sent",ke[ke.UploadProgress=1]="UploadProgress",ke[ke.ResponseHeader=2]="ResponseHeader",ke[ke.DownloadProgress=3]="DownloadProgress",ke[ke.Response=4]="Response",ke[ke.User=5]="User",ke))();class He{constructor(X,x=200,U="OK"){this.headers=X.headers||new Ie,this.status=void 0!==X.status?X.status:x,this.statusText=X.statusText||U,this.url=X.url||null,this.ok=this.status>=200&&this.status<300}}class Ue extends He{constructor(X={}){super(X),this.type=ke.ResponseHeader}clone(X={}){return new Ue({headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class ot extends He{constructor(X={}){super(X),this.type=ke.Response,this.body=void 0!==X.body?X.body:null}clone(X={}){return new ot({body:void 0!==X.body?X.body:this.body,headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class we extends He{constructor(X){super(X,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${X.url||"(unknown url)"}`:`Http failure response for ${X.url||"(unknown url)"}: ${X.status} ${X.statusText}`,this.error=X.error||null}}function te(L,X){return{body:X,headers:L.headers,context:L.context,observe:L.observe,params:L.params,reportProgress:L.reportProgress,responseType:L.responseType,withCredentials:L.withCredentials}}let H=(()=>{class L{constructor(x){this.handler=x}request(x,U,se={}){let st;if(x instanceof Te)st=x;else{let On,kr;On=se.headers instanceof Ie?se.headers:new Ie(se.headers),se.params&&(kr=se.params instanceof A?se.params:new A({fromObject:se.params})),st=new Te(x,U,void 0!==se.body?se.body:null,{headers:On,context:se.context,params:kr,reportProgress:se.reportProgress,responseType:se.responseType||"json",withCredentials:se.withCredentials})}const Yt=(0,be.of)(st).pipe((0,me.b)(On=>this.handler.handle(On)));if(x instanceof Te||"events"===se.observe)return Yt;const un=Yt.pipe((0,Ae.h)(On=>On instanceof ot));switch(se.observe||"body"){case"body":switch(st.responseType){case"arraybuffer":return un.pipe((0,Ve.U)(On=>{if(null!==On.body&&!(On.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return On.body}));case"blob":return un.pipe((0,Ve.U)(On=>{if(null!==On.body&&!(On.body instanceof Blob))throw new Error("Response is not a Blob.");return On.body}));case"text":return un.pipe((0,Ve.U)(On=>{if(null!==On.body&&"string"!=typeof On.body)throw new Error("Response is not a string.");return On.body}));default:return un.pipe((0,Ve.U)(On=>On.body))}case"response":return un;default:throw new Error(`Unreachable: unhandled observe type ${se.observe}}`)}}delete(x,U={}){return this.request("DELETE",x,U)}get(x,U={}){return this.request("GET",x,U)}head(x,U={}){return this.request("HEAD",x,U)}jsonp(x,U){return this.request("JSONP",x,{params:(new A).append(U,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(x,U={}){return this.request("OPTIONS",x,U)}patch(x,U,se={}){return this.request("PATCH",x,te(se,U))}post(x,U,se={}){return this.request("POST",x,te(se,U))}put(x,U,se={}){return this.request("PUT",x,te(se,U))}}return L.\u0275fac=function(x){return new(x||L)(f.LFG(le))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),L})();function $(L,X){return X(L)}function N(L,X){return(x,U)=>X.intercept(x,{handle:se=>L(se,U)})}const M=new f.OlP("HTTP_INTERCEPTORS"),W=new f.OlP("HTTP_INTERCEPTOR_FNS");function ge(){let L=null;return(X,x)=>(null===L&&(L=((0,f.f3M)(M,{optional:!0})??[]).reduceRight(N,$)),L(X,x))}let de=(()=>{class L extends le{constructor(x,U){super(),this.backend=x,this.injector=U,this.chain=null}handle(x){if(null===this.chain){const U=Array.from(new Set(this.injector.get(W)));this.chain=U.reduceRight((se,st)=>function w(L,X,x){return(U,se)=>x.runInContext(()=>X(U,st=>L(st,se)))}(se,st,this.injector),$)}return this.chain(x,U=>this.backend.handle(U))}}return L.\u0275fac=function(x){return new(x||L)(f.LFG(ue),f.LFG(f.lqb))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),L})();const mn=/^\)\]\}',?\n/;let Jt=(()=>{class L{constructor(x){this.xhrFactory=x}handle(x){if("JSONP"===x.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Se.y(U=>{const se=this.xhrFactory.build();if(se.open(x.method,x.urlWithParams),x.withCredentials&&(se.withCredentials=!0),x.headers.forEach((Mr,zr)=>se.setRequestHeader(Mr,zr.join(","))),x.headers.has("Accept")||se.setRequestHeader("Accept","application/json, text/plain, */*"),!x.headers.has("Content-Type")){const Mr=x.detectContentTypeHeader();null!==Mr&&se.setRequestHeader("Content-Type",Mr)}if(x.responseType){const Mr=x.responseType.toLowerCase();se.responseType="json"!==Mr?Mr:"text"}const st=x.serializeBody();let Yt=null;const un=()=>{if(null!==Yt)return Yt;const Mr=se.statusText||"OK",zr=new Ie(se.getAllResponseHeaders()),Do=function Xt(L){return"responseURL"in L&&L.responseURL?L.responseURL:/^X-Request-URL:/m.test(L.getAllResponseHeaders())?L.getResponseHeader("X-Request-URL"):null}(se)||x.url;return Yt=new Ue({headers:zr,status:se.status,statusText:Mr,url:Do}),Yt},On=()=>{let{headers:Mr,status:zr,statusText:Do,url:Wi}=un(),jr=null;204!==zr&&(jr=typeof se.response>"u"?se.responseText:se.response),0===zr&&(zr=jr?200:0);let ei=zr>=200&&zr<300;if("json"===x.responseType&&"string"==typeof jr){const ao=jr;jr=jr.replace(mn,"");try{jr=""!==jr?JSON.parse(jr):null}catch(lo){jr=ao,ei&&(ei=!1,jr={error:lo,text:jr})}}ei?(U.next(new ot({body:jr,headers:Mr,status:zr,statusText:Do,url:Wi||void 0})),U.complete()):U.error(new we({error:jr,headers:Mr,status:zr,statusText:Do,url:Wi||void 0}))},kr=Mr=>{const{url:zr}=un(),Do=new we({error:Mr,status:se.status||0,statusText:se.statusText||"Unknown Error",url:zr||void 0});U.error(Do)};let oi=!1;const oo=Mr=>{oi||(U.next(un()),oi=!0);let zr={type:ke.DownloadProgress,loaded:Mr.loaded};Mr.lengthComputable&&(zr.total=Mr.total),"text"===x.responseType&&se.responseText&&(zr.partialText=se.responseText),U.next(zr)},Fi=Mr=>{let zr={type:ke.UploadProgress,loaded:Mr.loaded};Mr.lengthComputable&&(zr.total=Mr.total),U.next(zr)};return se.addEventListener("load",On),se.addEventListener("error",kr),se.addEventListener("timeout",kr),se.addEventListener("abort",kr),x.reportProgress&&(se.addEventListener("progress",oo),null!==st&&se.upload&&se.upload.addEventListener("progress",Fi)),se.send(st),U.next({type:ke.Sent}),()=>{se.removeEventListener("error",kr),se.removeEventListener("abort",kr),se.removeEventListener("load",On),se.removeEventListener("timeout",kr),x.reportProgress&&(se.removeEventListener("progress",oo),null!==st&&se.upload&&se.upload.removeEventListener("progress",Fi)),se.readyState!==se.DONE&&se.abort()}})}}return L.\u0275fac=function(x){return new(x||L)(f.LFG(ne.JF))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),L})();const Hn=new f.OlP("XSRF_ENABLED"),Me=new f.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),dt=new f.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class At{}let Qe=(()=>{class L{constructor(x,U,se){this.doc=x,this.platform=U,this.cookieName=se,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const x=this.doc.cookie||"";return x!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ne.Mx)(x,this.cookieName),this.lastCookieString=x),this.lastToken}}return L.\u0275fac=function(x){return new(x||L)(f.LFG(ne.K0),f.LFG(f.Lbi),f.LFG(Me))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),L})();function yt(L,X){const x=L.url.toLowerCase();if(!(0,f.f3M)(Hn)||"GET"===L.method||"HEAD"===L.method||x.startsWith("http://")||x.startsWith("https://"))return X(L);const U=(0,f.f3M)(At).getToken(),se=(0,f.f3M)(dt);return null!=U&&!L.headers.has(se)&&(L=L.clone({headers:L.headers.set(se,U)})),X(L)}var Nt=(()=>((Nt=Nt||{})[Nt.Interceptors=0]="Interceptors",Nt[Nt.LegacyInterceptors=1]="LegacyInterceptors",Nt[Nt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Nt[Nt.NoXsrfProtection=3]="NoXsrfProtection",Nt[Nt.JsonpSupport=4]="JsonpSupport",Nt[Nt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Nt))();function yn(L,X){return{\u0275kind:L,\u0275providers:X}}function Gn(...L){const X=[H,Jt,de,{provide:le,useExisting:de},{provide:ue,useExisting:Jt},{provide:W,useValue:yt,multi:!0},{provide:Hn,useValue:!0},{provide:At,useClass:Qe}];for(const x of L)X.push(...x.\u0275providers);return(0,f.MR2)(X)}const ct=new f.OlP("LEGACY_INTERCEPTOR_FN");let nn=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({providers:[Gn(yn(Nt.LegacyInterceptors,[{provide:ct,useFactory:ge},{provide:W,useExisting:ct,multi:!0}]))]}),L})();var or=V(8421),nr=V(5577),ur=V(1144),$e=V(576),qe=V(3268);const it=["addListener","removeListener"],Pt=["addEventListener","removeEventListener"],vt=["on","off"];function qt(L,X,x,U){if((0,$e.m)(x)&&(U=x,x=void 0),U)return qt(L,X,x).pipe((0,qe.Z)(U));const[se,st]=function ft(L){return(0,$e.m)(L.addEventListener)&&(0,$e.m)(L.removeEventListener)}(L)?Pt.map(Yt=>un=>L[Yt](X,un,x)):function tt(L){return(0,$e.m)(L.addListener)&&(0,$e.m)(L.removeListener)}(L)?it.map(rt(L,X)):function Ge(L){return(0,$e.m)(L.on)&&(0,$e.m)(L.off)}(L)?vt.map(rt(L,X)):[];if(!se&&(0,ur.z)(L))return(0,nr.z)(Yt=>qt(Yt,X,x))((0,or.Xf)(L));if(!se)throw new TypeError("Invalid event target");return new Se.y(Yt=>{const un=(...On)=>Yt.next(1<On.length?On:On[0]);return se(un),()=>st(un)})}function rt(L,X){return x=>U=>L[x](X,U)}var Rt=V(7579),Kt=V(2076),En=V(4482),bn=V(5403),hr=V(5032);function zn(L){return(0,En.e)((X,x)=>{(0,or.Xf)(L).subscribe((0,bn.x)(x,()=>x.complete(),hr.Z)),!x.closed&&X.subscribe(x)})}var Tt=V(727);class Ct extends Tt.w0{constructor(X,x){super()}schedule(X,x=0){return this}}const Ht={setInterval(L,X,...x){const{delegate:U}=Ht;return U?.setInterval?U.setInterval(L,X,...x):setInterval(L,X,...x)},clearInterval(L){const{delegate:X}=Ht;return(X?.clearInterval||clearInterval)(L)},delegate:void 0};var fn=V(8737);const Bn={now:()=>(Bn.delegate||Date).now(),delegate:void 0};class Wn{constructor(X,x=Wn.now){this.schedulerActionCtor=X,this.now=x}schedule(X,x=0,U){return new this.schedulerActionCtor(this,X).schedule(U,x)}}Wn.now=Bn.now;const fr=new class Sr extends Wn{constructor(X,x=Wn.now){super(X,x),this.actions=[],this._active=!1}flush(X){const{actions:x}=this;if(this._active)return void x.push(X);let U;this._active=!0;do{if(U=X.execute(X.state,X.delay))break}while(X=x.shift());if(this._active=!1,U){for(;X=x.shift();)X.unsubscribe();throw U}}}(class Rn extends Ct{constructor(X,x){super(X,x),this.scheduler=X,this.work=x,this.pending=!1}schedule(X,x=0){var U;if(this.closed)return this;this.state=X;const se=this.id,st=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(st,se,x)),this.pending=!0,this.delay=x,this.id=null!==(U=this.id)&&void 0!==U?U:this.requestAsyncId(st,this.id,x),this}requestAsyncId(X,x,U=0){return Ht.setInterval(X.flush.bind(X,this),U)}recycleAsyncId(X,x,U=0){if(null!=U&&this.delay===U&&!1===this.pending)return x;null!=x&&Ht.clearInterval(x)}execute(X,x){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const U=this._execute(X,x);if(U)return U;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,x){let se,U=!1;try{this.work(X)}catch(st){U=!0,se=st||new Error("Scheduled action threw falsy error")}if(U)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:X,scheduler:x}=this,{actions:U}=x;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fn.P)(U,this),null!=X&&(this.id=this.recycleAsyncId(x,X,null)),this.delay=null,super.unsubscribe()}}}),Ii=fr;var ss=V(6036),Br=V.t(ss,2),qr=V(2813),Nn=V.t(qr,2);const br=["pdfViewerContainer"];function Lr(L,X){const x=new L.EventBus;return function ms(L,X){qt(L,"documentload").pipe(zn(X)).subscribe(()=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(x)}),qt(L,"pagerendered").pipe(zn(X)).subscribe(({pageNumber:x,cssTransform:U,source:se})=>{const st=document.createEvent("CustomEvent");st.initCustomEvent("pagerendered",!0,!0,{pageNumber:x,cssTransform:U}),se.div.dispatchEvent(st)}),qt(L,"textlayerrendered").pipe(zn(X)).subscribe(({pageNumber:x,source:U})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:x}),U.textLayerDiv.dispatchEvent(se)}),qt(L,"pagechanging").pipe(zn(X)).subscribe(({pageNumber:x,source:U})=>{const se=document.createEvent("UIEvents");se.initEvent("pagechanging",!0,!0),se.pageNumber=x,U.container.dispatchEvent(se)}),qt(L,"pagesinit").pipe(zn(X)).subscribe(({source:x})=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("pagesinit",!0,!0,null),x.container.dispatchEvent(U)}),qt(L,"pagesloaded").pipe(zn(X)).subscribe(({pagesCount:x,source:U})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("pagesloaded",!0,!0,{pagesCount:x}),U.container.dispatchEvent(se)}),qt(L,"scalechange").pipe(zn(X)).subscribe(({scale:x,presetValue:U,source:se})=>{const st=document.createEvent("UIEvents");st.initEvent("scalechange",!0,!0),st.scale=x,st.presetValue=U,se.container.dispatchEvent(st)}),qt(L,"updateviewarea").pipe(zn(X)).subscribe(({location:x,source:U})=>{const se=document.createEvent("UIEvents");se.initEvent("updateviewarea",!0,!0),se.location=x,U.container.dispatchEvent(se)}),qt(L,"find").pipe(zn(X)).subscribe(({source:x,type:U,query:se,phraseSearch:st,caseSensitive:Yt,highlightAll:un,findPrevious:On})=>{if(x===window)return;const kr=document.createEvent("CustomEvent");kr.initCustomEvent("find"+U,!0,!0,{query:se,phraseSearch:st,caseSensitive:Yt,highlightAll:un,findPrevious:On}),window.dispatchEvent(kr)}),qt(L,"attachmentsloaded").pipe(zn(X)).subscribe(({attachmentsCount:x,source:U})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:x}),U.container.dispatchEvent(se)}),qt(L,"sidebarviewchanged").pipe(zn(X)).subscribe(({view:x,source:U})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("sidebarviewchanged",!0,!0,{view:x}),U.outerContainer.dispatchEvent(se)}),qt(L,"pagemode").pipe(zn(X)).subscribe(({mode:x,source:U})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("pagemode",!0,!0,{mode:x}),U.pdfViewer.container.dispatchEvent(se)}),qt(L,"namedaction").pipe(zn(X)).subscribe(({action:x,source:U})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("namedaction",!0,!0,{action:x}),U.pdfViewer.container.dispatchEvent(se)}),qt(L,"presentationmodechanged").pipe(zn(X)).subscribe(({active:x,switchInProgress:U})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("presentationmodechanged",!0,!0,{active:x,switchInProgress:U}),window.dispatchEvent(se)}),qt(L,"outlineloaded").pipe(zn(X)).subscribe(({outlineCount:x,source:U})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("outlineloaded",!0,!0,{outlineCount:x}),U.container.dispatchEvent(se)})}(x,X),x}function tr(L,X,x){L[X]=x}function ii(){return typeof window>"u"}ii()||tr(Br,"verbosity",ss.VerbosityLevel.INFOS);var Vi=(()=>{return(L=Vi||(Vi={}))[L.DISABLED=0]="DISABLED",L[L.ENABLED=1]="ENABLED",L[L.ENHANCED=2]="ENHANCED",Vi;var L})();let Ki=(()=>{class L{constructor(x,U){if(this.element=x,this.ngZone=U,this.isVisible=!1,this._cMapsUrl=typeof Br<"u"?`https://unpkg.com/pdfjs-dist@${ss.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=Vi.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new Rt.x,this.afterLoadComplete=new f.vpe,this.pageRendered=new f.vpe,this.pageInitialized=new f.vpe,this.textLayerRendered=new f.vpe,this.onError=new f.vpe,this.onProgress=new f.vpe,this.pageChange=new f.vpe(!0),ii())return;let se;se=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${ss.version}/legacy/build/pdf.worker.min.js`,tr(ss.GlobalWorkerOptions,"workerSrc",se)}set cMapsUrl(x){this._cMapsUrl=x}set page(x){const U=x=parseInt(x,10)||1;this._pdf&&(x=this.getValidPageNumber(x)),this._page=x,U!==x&&this.pageChange.emit(x)}set renderText(x){this._renderText=x}set renderTextMode(x){this._renderTextMode=x}set originalSize(x){this._originalSize=x}set showAll(x){this._showAll=x}set stickToPage(x){this._stickToPage=x}set zoom(x){x<=0||(this._zoom=x)}get zoom(){return this._zoom}set zoomScale(x){this._zoomScale=x}get zoomScale(){return this._zoomScale}set rotation(x){"number"==typeof x&&x%90==0?this._rotation=x:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(x){this._externalLinkTarget=x}set autoresize(x){this._canAutoResize=Boolean(x)}set fitToPage(x){this._fitToPage=Boolean(x)}set showBorders(x){this._showBorders=Boolean(x)}static getLinkTarget(x){switch(x){case"blank":return qr.LinkTarget.BLANK;case"none":return qr.LinkTarget.NONE;case"self":return qr.LinkTarget.SELF;case"parent":return qr.LinkTarget.PARENT;case"top":return qr.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const x=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=x?!1===this.isVisible&&null!=x&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(x){if(!ii()&&this.isVisible)if("src"in x)this.loadPDF();else if(this._pdf){if("renderText"in x?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:Vi.DISABLED,this.resetPdfDocument()):"showAll"in x&&this.resetPdfDocument(),"page"in x){const{page:U}=x;if(U.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const x=this.getCurrentViewer();(0,Kt.D)(this._pdf.getPage(x.currentPageNumber)).pipe(zn(this.destroy$)).subscribe({next:U=>{const se=this._rotation||U.rotate,st=U.getViewport({scale:this._zoom,rotation:se}).width*L.CSS_UNITS;let Yt=this._zoom,un=!0;if(!this._originalSize||this._fitToPage&&st>this.pdfViewerContainer.nativeElement.clientWidth){const On=U.getViewport({scale:1,rotation:se});Yt=this.getScale(On.width,On.height),un=!this._stickToPage}x._setScale(Yt,un)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const x={},U=L.getLinkTarget(this._externalLinkTarget);return U&&(x.externalLinkTarget=U),x}setupMultiPageViewer(){tr(Br,"disableTextLayer",!this._renderText);const x=Lr(Nn,this.destroy$);qt(x,"pagerendered").pipe(zn(this.destroy$)).subscribe(se=>{this.pageRendered.emit(se)}),qt(x,"pagesinit").pipe(zn(this.destroy$)).subscribe(se=>{this.pageInitialized.emit(se)}),qt(x,"pagechanging").pipe(zn(this.destroy$)).subscribe(({pageNumber:se})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=se,this.pageChange.emit(se)},100)}),qt(x,"textlayerrendered").pipe(zn(this.destroy$)).subscribe(se=>{this.textLayerRendered.emit(se)}),this.pdfMultiPageLinkService=new qr.PDFLinkService({eventBus:x,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new qr.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:x});const U={eventBus:x,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:Vi.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new qr.PDFViewer(U),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){tr(Br,"disableTextLayer",!this._renderText);const x=Lr(Nn,this.destroy$);qt(x,"pagechanging").pipe(zn(this.destroy$)).subscribe(({pageNumber:se})=>{se!==this._page&&(this.page=se)}),qt(x,"pagerendered").pipe(zn(this.destroy$)).subscribe(se=>{this.pageRendered.emit(se)}),qt(x,"pagesinit").pipe(zn(this.destroy$)).subscribe(se=>{this.pageInitialized.emit(se)}),qt(x,"textlayerrendered").pipe(zn(this.destroy$)).subscribe(se=>{this.textLayerRendered.emit(se)}),this.pdfSinglePageLinkService=new qr.PDFLinkService({eventBus:x,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new qr.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:x});const U={eventBus:x,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:Vi.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new qr.PDFSinglePageViewer(U),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(x){return x<1?1:x>this._pdf.numPages?this._pdf.numPages:x}getDocumentParams(){const x=typeof this.src;if(!this._cMapsUrl)return this.src;const U={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===x?U.url=this.src:"object"===x&&(void 0!==this.src.byteLength?U.data=this.src:Object.assign(U,this.src)),U}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=ss.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=U=>{this.onProgress.emit(U)};const x=this.src;(0,Kt.D)(this.loadingTask.promise).pipe(zn(this.destroy$)).subscribe({next:U=>{this._pdf=U,this.lastLoaded=x,this.afterLoadComplete.emit(U),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:U=>{this.lastLoaded=null,this.onError.emit(U)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const x=this.getCurrentViewer();(0!==this._rotation||x.pagesRotation!==this._rotation)&&setTimeout(()=>{x.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{x.currentPageNumber=this._page}),this.updateSize()}getScale(x,U){const se=this._showBorders?2*L.BORDER_WIDTH:0,st=this.pdfViewerContainer.nativeElement.clientWidth-se,Yt=this.pdfViewerContainer.nativeElement.clientHeight-se;if(0===Yt||0===U||0===st||0===x)return 1;let un=1;switch(this._zoomScale){case"page-fit":un=Math.min(Yt/U,st/x);break;case"page-height":un=Yt/U;break;default:un=st/x}return this._zoom*un/L.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){ii()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){ii()||this.ngZone.runOutsideAngular(()=>{qt(window,"resize").pipe(function Ri(L,X=fr){return(0,En.e)((x,U)=>{let se=null,st=null,Yt=null;const un=()=>{if(se){se.unsubscribe(),se=null;const kr=st;st=null,U.next(kr)}};function On(){const kr=Yt+L,oi=X.now();if(oi<kr)return se=this.schedule(void 0,kr-oi),void U.add(se);un()}x.subscribe((0,bn.x)(U,kr=>{st=kr,Yt=X.now(),se||(se=X.schedule(On,L),U.add(se))},()=>{un(),U.complete()},void 0,()=>{st=se=null}))})}(100),(0,Ae.h)(()=>this._canAutoResize&&!!this._pdf),zn(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return L.CSS_UNITS=96/72,L.BORDER_WIDTH=9,L.\u0275fac=function(x){return new(x||L)(f.Y36(f.SBq),f.Y36(f.R0b))},L.\u0275cmp=f.Xpm({type:L,selectors:[["pdf-viewer"]],viewQuery:function(x,U){if(1&x&&f.Gf(br,5),2&x){let se;f.iGM(se=f.CRH())&&(U.pdfViewerContainer=se.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[f.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(x,U){1&x&&(f.TgZ(0,"div",0,1),f._UZ(2,"div",2),f.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),L})(),gi=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({}),L})();var en=V(5087);const Fn_mobileAndTabletCheck=function(){let L=!1;return X=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(X)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(X.substr(0,4)))&&(L=!0),L;var X};var Qn=V(1986),Mn=V(4724);function mi(L,X){1&L&&(f.TgZ(0,"div",6)(1,"div",7)(2,"span",8),f._uU(3,"Trending"),f.qZA(),f.TgZ(4,"i",9),f._uU(5," trending_up"),f.qZA()()())}function Fr(L,X){if(1&L&&(f.TgZ(0,"span",20),f._uU(1),f.qZA()),2&L){const x=f.oxw().$implicit;f.xp6(1),f.Oqu(x.label)}}function Di(L,X){if(1&L&&(f.TgZ(0,"div",21),f._uU(1),f.qZA()),2&L){const x=f.oxw().$implicit;f.xp6(1),f.Oqu(x.description)}}function Tr(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",22),f.NdJ("click",function(){f.CHM(x);const se=f.oxw().$implicit,st=f.oxw(2);return f.KtG(st.launch(se))}),f.TgZ(1,"a"),f._uU(2,"View Topics"),f.qZA()()}}function ki(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",12)(1,"div",13)(2,"div",14),f._uU(3),f.YNc(4,Fr,2,1,"span",15),f.qZA(),f.YNc(5,Di,2,1,"div",16),f.YNc(6,Tr,3,0,"div",17),f.TgZ(7,"div",18)(8,"button",19),f.NdJ("click",function(){const st=f.CHM(x).$implicit,Yt=f.oxw(2);return f.KtG(Yt.launch(st))}),f._uU(9),f.qZA()()()()}if(2&L){const x=X.$implicit;f.xp6(3),f.hij("",x.name," "),f.xp6(1),f.Q6J("ngIf",x.label),f.xp6(1),f.Q6J("ngIf",x.description),f.xp6(1),f.Q6J("ngIf",x.link),f.xp6(3),f.Oqu(x.btn?x.btn:"Launch course")}}function ci(L,X){if(1&L&&(f.TgZ(0,"div",10),f.YNc(1,ki,10,5,"div",11),f.qZA()),2&L){const x=f.oxw();f.xp6(1),f.Q6J("ngForOf",x.trending)}}function jn(L,X){1&L&&(f.TgZ(0,"div",23)(1,"div",7)(2,"span",8),f._uU(3,"Design"),f.qZA()()())}function Zi(L,X){if(1&L&&(f.TgZ(0,"span",20),f._uU(1),f.qZA()),2&L){const x=f.oxw().$implicit;f.xp6(1),f.Oqu(x.label)}}function Ni(L,X){if(1&L&&(f.TgZ(0,"div",21),f._uU(1),f.qZA()),2&L){const x=f.oxw().$implicit;f.xp6(1),f.Oqu(x.description)}}function os(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",22),f.NdJ("click",function(){f.CHM(x);const se=f.oxw().$implicit,st=f.oxw(2);return f.KtG(st.launch(se))}),f.TgZ(1,"a"),f._uU(2,"View Topics"),f.qZA()()}}function Jn(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",12)(1,"div",13)(2,"div",14),f._uU(3),f.YNc(4,Zi,2,1,"span",15),f.qZA(),f.YNc(5,Ni,2,1,"div",16),f.YNc(6,os,3,0,"div",17),f.TgZ(7,"div",18)(8,"button",19),f.NdJ("click",function(){const st=f.CHM(x).$implicit,Yt=f.oxw(2);return f.KtG(Yt.launch(st))}),f._uU(9),f.qZA()()()()}if(2&L){const x=X.$implicit;f.xp6(3),f.hij("",x.name," "),f.xp6(1),f.Q6J("ngIf",x.label),f.xp6(1),f.Q6J("ngIf",x.description),f.xp6(1),f.Q6J("ngIf",x.link),f.xp6(3),f.Oqu(x.btn?x.btn:"Launch course")}}function Hr(L,X){if(1&L&&(f.TgZ(0,"div",10),f.YNc(1,Jn,10,5,"div",11),f.qZA()),2&L){const x=f.oxw();f.xp6(1),f.Q6J("ngForOf",x.design)}}function vr(L,X){1&L&&(f.TgZ(0,"div",24)(1,"div",7)(2,"span",8),f._uU(3,"Develop"),f.qZA()()())}function Yi(L,X){if(1&L&&(f.TgZ(0,"span",20),f._uU(1),f.qZA()),2&L){const x=f.oxw().$implicit;f.xp6(1),f.Oqu(x.label)}}function _i(L,X){if(1&L&&(f.TgZ(0,"div",21),f._uU(1),f.qZA()),2&L){const x=f.oxw().$implicit;f.xp6(1),f.Oqu(x.description)}}function Qi(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",22),f.NdJ("click",function(){f.CHM(x);const se=f.oxw().$implicit,st=f.oxw(2);return f.KtG(st.launch(se))}),f.TgZ(1,"a"),f._uU(2,"View Topics"),f.qZA()()}}function Js(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",12)(1,"div",13)(2,"div",14),f._uU(3),f.YNc(4,Yi,2,1,"span",15),f.qZA(),f.YNc(5,_i,2,1,"div",16),f.YNc(6,Qi,3,0,"div",17),f.TgZ(7,"div",18)(8,"button",19),f.NdJ("click",function(){const st=f.CHM(x).$implicit,Yt=f.oxw(2);return f.KtG(Yt.launch(st))}),f._uU(9),f.qZA()()()()}if(2&L){const x=X.$implicit;f.xp6(3),f.hij("",x.name," "),f.xp6(1),f.Q6J("ngIf",x.label),f.xp6(1),f.Q6J("ngIf",x.description),f.xp6(1),f.Q6J("ngIf",x.link),f.xp6(3),f.Oqu(x.btn?x.btn:"Launch course")}}function Ir(L,X){if(1&L&&(f.TgZ(0,"div",10),f.YNc(1,Js,10,5,"div",11),f.qZA()),2&L){const x=f.oxw();f.xp6(1),f.Q6J("ngForOf",x.develop)}}function So(L,X){1&L&&(f.TgZ(0,"div",25)(1,"div",7)(2,"span",8),f._uU(3,"Deploy"),f.qZA()()())}function Ui(L,X){if(1&L&&(f.TgZ(0,"span",20),f._uU(1),f.qZA()),2&L){const x=f.oxw().$implicit;f.xp6(1),f.Oqu(x.label)}}function Bi(L,X){if(1&L&&(f.TgZ(0,"div",28),f._uU(1),f.qZA()),2&L){const x=f.oxw().$implicit;f.xp6(1),f.Oqu(x.description)}}function Xi(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",29),f.NdJ("click",function(){f.CHM(x);const se=f.oxw().$implicit,st=f.oxw(2);return f.KtG(st.launch(se))}),f.TgZ(1,"a"),f._uU(2,"View Topics"),f.qZA()()}}function ji(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",12)(1,"div",13)(2,"div",14),f._uU(3),f.YNc(4,Ui,2,1,"span",15),f.qZA(),f.YNc(5,Bi,2,1,"div",26),f.YNc(6,Xi,3,0,"div",27),f.TgZ(7,"div",18)(8,"button",19),f.NdJ("click",function(){const st=f.CHM(x).$implicit,Yt=f.oxw(2);return f.KtG(Yt.launch(st))}),f._uU(9),f.qZA()()()()}if(2&L){const x=X.$implicit;f.xp6(3),f.hij("",x.name," "),f.xp6(1),f.Q6J("ngIf",x.label),f.xp6(1),f.Q6J("ngIf",x.description),f.xp6(1),f.Q6J("ngIf",x.link),f.xp6(3),f.Oqu(x.btn?x.btn:"Launch course")}}function Ji(L,X){if(1&L&&(f.TgZ(0,"div",10),f.YNc(1,ji,10,5,"div",11),f.qZA()),2&L){const x=f.oxw();f.xp6(1),f.Q6J("ngForOf",x.deploy)}}let Ln=(()=>{var L;class X{constructor(U,se){this.firestore=U,this.router=se,this.trending=[],this.design=[],this.develop=[],this.deploy=[],this.courses=[],this.expand={d:!0,d1:!1,d2:!1,d3:!1},null!=this.firestore.data[Mn.nW.COURSES]&&(this.courses=this.firestore.data[Mn.nW.COURSES],this.sortOrder()),this.firestore.refreshEvent.subscribe(st=>{st==Mn.nW.COURSES&&(this.courses=this.firestore.data[Mn.nW.COURSES],this.sortOrder())}),this.router.events.subscribe(st=>{st instanceof en.m2&&this.updateView(this.router.url)})}sortOrder(){this.courses=this.courses.sort((U,se)=>U.order-se.order),this.trending=this.courses.filter(U=>U.category&&U.category.includes("trending")),this.design=this.courses.filter(U=>U.category&&U.category.includes("design")),this.develop=this.courses.filter(U=>U.category&&U.category.includes("develop")),this.deploy=this.courses.filter(U=>U.category&&U.category.includes("deploy"))}updateView(U){let se=U&&U.includes("/home/")?U.replace("/home/",""):null;if(se)switch(se){case"design":this.expand={d:!1,d1:!0,d2:!1,d3:!1};break;case"develop":this.expand={d:!1,d1:!1,d2:!0,d3:!1};break;case"deploy":this.expand={d:!1,d1:!1,d2:!1,d3:!0};break;default:this.expand={d:!0,d1:!1,d2:!1,d3:!1}}}launch(U){var se=this.firestore.data[Mn.nW.TOPICS];if(null==U.topics||0==U.topics.length)this.router.navigateByUrl("/pages/wip");else if(null!=U.topics&&1==U.topics.length){var st=se.filter(Yt=>null!=U.topics&&Yt.id==U.topics[0])[0];st&&this.launchTopic(st)}else this.router.navigateByUrl("courses/"+U.id)}launchTopic(U){if(U.lock)window.location.href="https://learn.vvsk.in";else if(U.type==Qn.z.PDF){let se="/pdfviewer?url="+U.url+"&back="+window.location.href;U.cors&&(se+="&cors=true"),this.router.navigateByUrl(se)}else U.type==Qn.z.URL?window.open(U.url):U.type==Qn.z.HTML&&this.router.navigateByUrl("pages/"+U.id)}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(Mn.C5),f.Y36(en.F0))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-courses"]],decls:9,vars:8,consts:[[1,"c"],["class","row m-0 p-1 py-2 d design",4,"ngIf"],["class","row m-0 px-1",4,"ngIf"],["class","row m-0 p-1 py-2 d1 design",4,"ngIf"],["class","row m-0 py-2 d2 develop",4,"ngIf"],["class","row m-0 py-2 d3 deploy",4,"ngIf"],[1,"row","m-0","p-1","py-2","d","design"],[1,"text-center","pointer"],[1,"align-middle"],[1,"mx-1","material-icons","align-middle"],[1,"row","m-0","px-1"],["class","col-12 col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4"],[1,"m-2","p-3","border","border-secondary","bg-light"],[1,"n"],["class","badge rounded-pill bg-info text-dark","style","font-size: 10px;vertical-align: middle;",4,"ngIf"],["class","t",4,"ngIf"],["class","v pointer",3,"click",4,"ngIf"],[1,"b","text-center","mt-2"],[1,"btn","btn-primary",3,"click"],[1,"badge","rounded-pill","bg-info","text-dark",2,"font-size","10px","vertical-align","middle"],[1,"t"],[1,"v","pointer",3,"click"],[1,"row","m-0","p-1","py-2","d1","design"],[1,"row","m-0","py-2","d2","develop"],[1,"row","m-0","py-2","d3","deploy"],["class","t mt-2",4,"ngIf"],["class","v mt-2 pointer",3,"click",4,"ngIf"],[1,"t","mt-2"],[1,"v","mt-2","pointer",3,"click"]],template:function(U,se){1&U&&(f.TgZ(0,"div",0),f.YNc(1,mi,6,0,"div",1),f.YNc(2,ci,2,1,"div",2),f.YNc(3,jn,4,0,"div",3),f.YNc(4,Hr,2,1,"div",2),f.YNc(5,vr,4,0,"div",4),f.YNc(6,Ir,2,1,"div",2),f.YNc(7,So,4,0,"div",5),f.YNc(8,Ji,2,1,"div",2),f.qZA()),2&U&&(f.xp6(1),f.Q6J("ngIf",se.expand.d),f.xp6(1),f.Q6J("ngIf",se.expand.d),f.xp6(1),f.Q6J("ngIf",se.expand.d1),f.xp6(1),f.Q6J("ngIf",se.expand.d1),f.xp6(1),f.Q6J("ngIf",se.expand.d2),f.xp6(1),f.Q6J("ngIf",se.expand.d2),f.xp6(1),f.Q6J("ngIf",se.expand.d3),f.xp6(1),f.Q6J("ngIf",se.expand.d3))},dependencies:[ne.sg,ne.O5],styles:[".n[_ngcontent-%COMP%]{font-weight:600;font-size:24px}.v[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:underline}.d[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-weight:600;background-color:#252526;border-bottom:3px solid goldenrod}.d1[_ngcontent-%COMP%], .d2[_ngcontent-%COMP%], .d3[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600;background-color:#252526;border-bottom:3px solid goldenrod}"]}),X})(),_s=(()=>{var L;class X{constructor(U){this.router=U,this.isMobile=Fn_mobileAndTabletCheck(),this.menu=!this.isMobile;var se=sessionStorage.getItem("redirect");se&&(sessionStorage.removeItem("redirect"),this.router.navigateByUrl(se))}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(en.F0))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-home"]],decls:34,vars:0,consts:[[1,"row","m-0"],[1,"c","p-3","shadow","bg-card"],[1,"row"],[1,"col-12","text-center"],[2,"font-size","24px","font-weight","600"],["href","https://impulse.vvsk.in"],[2,"color","grey","font-size","20px","font-weight","600"],["href","https://vvsk.in"],[1,"col-12","text-center","mt-1"],["routerLink","/home/design",1,"pointer"],[1,"r"],[1,"p"],[2,"font-size","20px"],["routerLink","/home/develop",1,"pointer"],["routerLink","/home/deploy",1,"pointer"]],template:function(U,se){1&U&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),f._uU(5,"Welcome to "),f.TgZ(6,"a",5),f._uU(7,"IMPULSE"),f.qZA()(),f.TgZ(8,"div",6),f._uU(9,"Self Learning Platform "),f.qZA(),f.TgZ(10,"div")(11,"a",7),f._uU(12,"V.V.S.K Chaitanya"),f.qZA()()(),f.TgZ(13,"div",8)(14,"span",9)(15,"span",10),f._uU(16,"De"),f.qZA(),f.TgZ(17,"span",11),f._uU(18,"sign"),f.qZA()(),f.TgZ(19,"span",12),f._uU(20," \u2192 "),f.qZA(),f.TgZ(21,"span",13)(22,"span",10),f._uU(23,"De"),f.qZA(),f.TgZ(24,"span",11),f._uU(25,"velop"),f.qZA()(),f.TgZ(26,"span",12),f._uU(27," \u2192 "),f.qZA(),f.TgZ(28,"span",14)(29,"span",10),f._uU(30,"De"),f.qZA(),f.TgZ(31,"span",11),f._uU(32,"ploy"),f.qZA()()()()()(),f._UZ(33,"app-courses"))},dependencies:[en.rH,Ln],styles:[".bg-card[_ngcontent-%COMP%]{background:linear-gradient(45deg,cornsilk,white)}.txl[_ngcontent-%COMP%]{font-weight:bolder;font-size:1rem;color:#b8860b;padding:5px;border:3px solid goldenrod;border-radius:10px}.r[_ngcontent-%COMP%], .p[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.r[_ngcontent-%COMP%]{color:red}.p[_ngcontent-%COMP%]{color:#5f9ea0}"]}),X})(),Zr=(()=>{var L;class X{}return(L=X).\u0275fac=function(U){return new(U||L)},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(U,se){1&U&&(f._UZ(0,"div",0),f.TgZ(1,"div",1)(2,"div",2),f._UZ(3,"img",3),f.TgZ(4,"span",4)(5,"i",5),f._uU(6,"edit"),f.qZA()(),f.TgZ(7,"div",6)(8,"div",7),f._uU(9,"V.V.S.K Chaitanya"),f.qZA(),f.TgZ(10,"div",8),f._uU(11,"Software Engineer"),f.qZA()()()(),f.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),f._uU(16,"menu_book"),f.qZA(),f.TgZ(17,"span"),f._uU(18,"Courses"),f.qZA()(),f.TgZ(19,"div",12)(20,"i",5),f._uU(21,"assignment"),f.qZA(),f.TgZ(22,"span"),f._uU(23,"Assessments"),f.qZA()(),f.TgZ(24,"div",13)(25,"i",5),f._uU(26,"notifications"),f.qZA(),f.TgZ(27,"span"),f._uU(28,"Notifications"),f.qZA()(),f.TgZ(29,"div",14)(30,"i",5),f._uU(31,"person"),f.qZA(),f.TgZ(32,"span"),f._uU(33,"Update Profile"),f.qZA()(),f.TgZ(34,"div",15)(35,"i",5),f._uU(36,"logout"),f.qZA(),f.TgZ(37,"span"),f._uU(38,"Logout"),f.qZA()()()())},dependencies:[en.rH],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),X})(),Gr=(()=>{var L;class X{}return(L=X).\u0275fac=function(U){return new(U||L)},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(U,se){1&U&&f._UZ(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),X})();var Dr=V(7396);function es(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"i",6),f.NdJ("click",function(){f.CHM(x);const se=f.oxw(2);return f.KtG(se.expand=!se.expand)}),f._uU(1),f.qZA()}if(2&L){const x=f.oxw(2);f.xp6(1),f.Oqu(x.expand?"expand_more":"chevron_right")}}function as(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div")(1,"app-category",9),f.NdJ("select",function(se){f.CHM(x);const st=f.oxw(3);return f.KtG(st.select.emit(se))}),f.qZA()()}if(2&L){const x=X.$implicit,U=f.oxw(3);f.xp6(1),f.Q6J("category",x)("current",U.current)}}function Or(L,X){if(1&L&&(f.TgZ(0,"div",7),f.YNc(1,as,2,2,"div",8),f.qZA()),2&L){const x=f.oxw(2);f.xp6(1),f.Q6J("ngForOf",x.category.categories)}}const ys=function(L){return{"active-node":L}};function eo(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",1)(1,"div",2),f.YNc(2,es,2,1,"i",3),f.TgZ(3,"span",4),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.select.emit(se.category))}),f._uU(4),f.qZA()(),f.YNc(5,Or,2,1,"div",5),f.qZA()}if(2&L){const x=f.oxw();f.xp6(1),f.Q6J("ngClass",f.VKq(4,ys,null!=x.current&&x.category.id==x.current.id)),f.xp6(1),f.Q6J("ngIf",null!=x.category.categories&&x.category.categories.length>=0),f.xp6(2),f.Oqu(x.category.name),f.xp6(1),f.Q6J("ngIf",x.expand)}}let Hi=(()=>{var L;class X{constructor(){this.select=new f.vpe,this.expand=!1}}return(L=X).\u0275fac=function(U){return new(U||L)},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(U,se){1&U&&f.YNc(0,eo,6,6,"div",0),2&U&&f.Q6J("ngIf",se.category)},dependencies:[ne.mk,ne.sg,ne.O5,L],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),X})();function xi(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",11)(1,"app-category",12),f.NdJ("select",function(se){f.CHM(x);const st=f.oxw();return f.KtG(st.select(se))}),f.qZA()()}if(2&L){const x=X.$implicit,U=f.oxw();f.xp6(1),f.Q6J("category",x)("current",U.category)}}function vs(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"button",13),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.deleteConfirm=!0)}),f.TgZ(1,"i",8),f._uU(2,"delete"),f.qZA()()}}function Us(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),f._uU(5,"New Category"),f.qZA(),f.TgZ(6,"button",19),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.addCategoryModal=!1)}),f.qZA()(),f.TgZ(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),f.NdJ("ngModelChange",function(se){f.CHM(x);const st=f.oxw();return f.KtG(st.categoryName=se)}),f.qZA()()()(),f.TgZ(11,"div",24)(12,"button",25),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.addCategory())}),f._uU(13,"Add"),f.qZA()()()()()}if(2&L){const x=f.oxw();f.xp6(10),f.Q6J("ngModel",x.categoryName)}}function Ho(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),f._uU(5,"Delete Category"),f.qZA(),f.TgZ(6,"button",19),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.deleteConfirm=!1)}),f.qZA()(),f.TgZ(7,"div",20)(8,"div",21)(9,"div",22),f._uU(10),f.qZA()()(),f.TgZ(11,"div",24)(12,"button",25),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.deleteCategory())}),f._uU(13,"Delete"),f.qZA()()()()()}if(2&L){const x=f.oxw();f.xp6(10),f.hij(" Confirm to delete ",null==x.category?null:x.category.name," ")}}let Li=(()=>{var L;class X{constructor(U){this.firestore=U,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh(),this.firestore.refreshEvent.subscribe(se=>{se==Mn.nW.CATEGORIES&&this.refresh()})}refresh(){this.categories=[];let U=this.firestore.data[Mn.nW.CATEGORIES];U.filter(se=>null==se.parent).forEach(se=>this.categories.push(se)),this.categories.forEach(se=>this.linkCategories(se,U)),console.log(this.categories)}linkCategories(U,se){U.categories=[],se.filter(st=>null!=st.parent&&st.parent==U.id).forEach(st=>{this.linkCategories(st,se),U.categories?.push(st)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let U={name:this.categoryName,active:!0};this.category&&(U.parent=this.category.id),(0,Dr.ET)((0,Dr.hJ)(this.firestore.firestore,Mn.nW.CATEGORIES),U).then(se=>{alert("Category has been added succesfully ID:"+se.id),this.firestore.refresh(Mn.nW.CATEGORIES)})}else alert("Please enter category name")}isNotEmpty(U){return null!=U&&""!=U}select(U){console.log("Selected Category",U),this.category=U}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&(0,Dr.oe)((0,Dr.JU)(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.firestore.refresh(Mn.nW.CATEGORIES)})}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(Mn.C5))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(U,se){1&U&&(f.TgZ(0,"div",0)(1,"div",1)(2,"span"),f._uU(3,"Categories"),f.qZA()()(),f.TgZ(4,"div",2)(5,"div",3),f.YNc(6,xi,2,2,"div",4),f.qZA()(),f.TgZ(7,"div",5)(8,"div",6)(9,"button",7),f.NdJ("click",function(){return se.addCategoryModal=!0}),f.TgZ(10,"i",8),f._uU(11,"add"),f.qZA()(),f.YNc(12,vs,3,0,"button",9),f.qZA()(),f.YNc(13,Us,14,1,"div",10),f.YNc(14,Ho,14,1,"div",10)),2&U&&(f.xp6(6),f.Q6J("ngForOf",se.categories),f.xp6(6),f.Q6J("ngIf",null!=se.category),f.xp6(1),f.Q6J("ngIf",se.addCategoryModal),f.xp6(1),f.Q6J("ngIf",se.deleteConfirm))},dependencies:[ne.sg,ne.O5,G.Fj,G.JJ,G.On,Hi],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),X})();var Cs=V(7280);let to=(()=>{var L;class X{constructor(U,se){this.router=U,this.fs=se,this.provider=new Cs.hJ;var st=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect"),se.refreshUser.subscribe(Yt=>{null!=Yt&&st?(console.log("Login Success, Redirecting to ",st),this.router.navigateByUrl(st)):(console.log("Login Success, Redirecting to home"),this.router.navigate(["home"]))})}login(){this.fs.loader.show(),(0,Cs.rh)(this.fs.auth,this.provider).then(U=>{Cs.hJ.credentialFromResult(U);let Yt=U.user;console.log("LoginComponent: SignInUser",Yt),this.fs.log(Mn.zW.LOGIN,{id:Yt.uid,email:Yt.email,name:Yt.displayName,contact:Yt.phoneNumber,image:Yt.photoURL,role:Qn.u.USER})}).catch(U=>{this.fs.loader.hide(),console.error(U),Cs.hJ.credentialFromError(U)})}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(en.F0),f.Y36(Mn.C5))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-login"]],decls:13,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],["src","../../assets/icons/google-logo.png"],[3,"click"]],template:function(U,se){1&U&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h5"),f._uU(4,"Welcome to "),f.TgZ(5,"b"),f._uU(6,"IMPULSE"),f.qZA(),f._uU(7," Network"),f.qZA(),f.TgZ(8,"p",2),f._uU(9,"To access course contents, login with your google account"),f.qZA()(),f._UZ(10,"img",3),f.TgZ(11,"button",4),f.NdJ("click",function(){return se.login()}),f._uU(12,"Sign in"),f.qZA()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]}),X})(),To=(()=>{var L;class X{constructor(U,se){this.firestore=U,this.router=se,this.html=""}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(Mn.C5),f.Y36(en.F0))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(U,se){}}),X})(),ts=(()=>{var L;class X{constructor(U,se){this.router=U,this.fs=se,se.refreshUser.subscribe(st=>this.router.navigate(st?["dashboard"]:["home"]))}logout(){(0,Cs.w7)(this.fs.auth).then(()=>this.fs.logout())}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(en.F0),f.Y36(Mn.C5))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-logout"]],decls:7,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],[3,"click"]],template:function(U,se){1&U&&(f.TgZ(0,"div",0)(1,"div",1)(2,"p",2),f._uU(3," Are you sure you want to log-off? "),f._UZ(4,"br"),f.qZA(),f.TgZ(5,"button",3),f.NdJ("click",function(){return se.logout()}),f._uU(6,"Logout"),f.qZA()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]}),X})(),mo=(()=>{var L;class X{}return(L=X).\u0275fac=function(U){return new(U||L)},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-assessment"]],decls:2,vars:0,template:function(U,se){1&U&&(f.TgZ(0,"p"),f._uU(1,"assessment works!"),f.qZA())}}),X})();function no(L,X){if(1&L&&(f.TgZ(0,"tr")(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td"),f._uU(4),f.qZA(),f.TgZ(5,"td")(6,"i",3),f._uU(7,"open_in_new"),f.qZA(),f.TgZ(8,"i",4),f._uU(9,"edit"),f.qZA(),f.TgZ(10,"i",5),f._uU(11,"delete"),f.qZA()()()),2&L){const x=X.$implicit;f.xp6(2),f.Oqu(x.name),f.xp6(2),f.Oqu(x.course)}}let Io=(()=>{var L;class X{constructor(){this.assessments=[],this.assessments.push({id:"asdf",name:"Assess 1",course:"Course 1",content:""})}}return(L=X).\u0275fac=function(U){return new(U||L)},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-assessments"]],decls:14,vars:1,consts:[[1,"container","mt-3"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","pointer"],[1,"material-icons","mx-2","pointer","text-info"],[1,"material-icons","mx-2","pointer","text-danger"]],template:function(U,se){1&U&&(f.TgZ(0,"div",0)(1,"h2"),f._uU(2,"Assessments"),f.qZA(),f.TgZ(3,"table",1)(4,"thead")(5,"tr")(6,"th"),f._uU(7,"Name"),f.qZA(),f.TgZ(8,"th"),f._uU(9,"Course"),f.qZA(),f.TgZ(10,"th"),f._uU(11,"Actions"),f.qZA()()(),f.TgZ(12,"tbody"),f.YNc(13,no,12,2,"tr",2),f.qZA()()()),2&U&&(f.xp6(13),f.Q6J("ngForOf",se.assessments))},dependencies:[ne.sg]}),X})();function ro(L,X){if(1&L&&(f.TgZ(0,"div",6)(1,"i",7),f._uU(2,"home"),f.qZA(),f.TgZ(3,"i",8),f._uU(4,"chevron_right"),f.qZA(),f.TgZ(5,"span",9),f._uU(6),f.qZA()()),2&L){const x=f.oxw();f.xp6(1),f.Q6J("routerLink","/home"),f.xp6(5),f.Oqu(x.course.name)}}function Mo(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",10)(1,"div",11),f.NdJ("click",function(){const st=f.CHM(x).$implicit,Yt=f.oxw();return f.KtG(Yt.launch(st))}),f.TgZ(2,"span",12),f._uU(3),f.qZA(),f.TgZ(4,"span",13)(5,"i",14),f._uU(6,"open_in_new"),f.qZA()()()()}if(2&L){const x=X.$implicit;f.xp6(3),f.Oqu(x.name)}}let ws=(()=>{var L;class X{constructor(U,se,st){this.firestore=U,this.route=se,this.router=st,this.courses=[],this.id=null,this.topics=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),null!=this.firestore.data[Mn.nW.COURSES]&&(this.courses=this.firestore.data[Mn.nW.COURSES],this.course=this.courses.filter(U=>U.id==this.id)[0]),null!=this.firestore.data[Mn.nW.TOPICS]&&this.setTopics(),this.firestore.refreshEvent.subscribe(U=>{U==Mn.nW.COURSES&&(this.courses=this.firestore.data[Mn.nW.COURSES],this.course=this.courses.filter(se=>se.id==this.id)[0]),U==Mn.nW.TOPICS&&this.setTopics()})}setTopics(){let U=[];U=this.firestore.data[Mn.nW.TOPICS];let se=U.filter(st=>null!=st.id&&this.course?.topics?.includes(st.id));this.course?.topics?.forEach(st=>{se.forEach(Yt=>{st==Yt.id&&this.topics.push(Yt)})})}launch(U){if(U.lock)window.location.href="https://learn.vvsk.in";else if(U.type==Qn.z.PDF){let se="/pdfviewer?url="+U.url+"&back="+window.location.href;U.cors&&(se+="&cors=true"),this.router.navigateByUrl(se)}else U.type==Qn.z.URL?window.open(U.url):U.type==Qn.z.HTML&&this.router.navigateByUrl("pages/"+U.id)}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(Mn.C5),f.Y36(en.gz),f.Y36(en.F0))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-course"]],decls:6,vars:2,consts:[[1,"row","m-0","px-2"],["class","col-12 mt-3",4,"ngIf"],[1,"container"],[1,"row","mt-3","px-2"],[1,"p-0"],["class","","style","border-top:solid 3px #6495ed",4,"ngFor","ngForOf"],[1,"col-12","mt-3"],[1,"material-icons","ml-2","b","i","align-middle","pointer",3,"routerLink"],[1,"material-icons","ml-2","b","i","align-middle","pointer"],[1,"b","mx-2","align-middle","d-inline-block","text-decoration-underline","pointer"],[1,"",2,"border-top","solid 3px #6495ed"],[1,"p-3","mb-3","pointer",2,"border","1px solid lightgray",3,"click"],[1,"l","fs-5","fw-bold"],[1,"float-end"],[1,"material-icons"]],template:function(U,se){1&U&&(f.TgZ(0,"div",0),f.YNc(1,ro,7,2,"div",1),f.qZA(),f.TgZ(2,"div",2)(3,"div",3)(4,"div",4),f.YNc(5,Mo,7,1,"div",5),f.qZA()()()),2&U&&(f.xp6(1),f.Q6J("ngIf",se.course),f.xp6(4),f.Q6J("ngForOf",se.topics))},dependencies:[ne.sg,ne.O5,en.rH],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:#6495ed;font-size:25px;font-weight:500}.b[_ngcontent-%COMP%]{font-weight:400;font-size:28px;color:#2185d0}.i[_ngcontent-%COMP%]{font-size:35px}.t[_ngcontent-%COMP%]{font-size:30px}"]}),X})(),Ps=(()=>{var L;class X{constructor(U,se){this.firestore=U,this.router=se}canActivate(U,se){if(null==this.firestore.user){if(U.url.length>0){let st=[];U.url.forEach(Yt=>st.push(Yt.path)),sessionStorage.setItem("redirect",st.join("/"))}this.router.navigateByUrl("login")}return!0}}return(L=X).\u0275fac=function(U){return new(U||L)(f.LFG(Mn.C5),f.LFG(en.F0))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),X})();var yi=V(5861);function _o(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"span",6),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.goback())}),f.TgZ(1,"i",7),f._uU(2,"cancel"),f.qZA()()}}function ls(L,X){1&L&&(f.TgZ(0,"div",8)(1,"div",9)(2,"span")(3,"i",10),f._uU(4,"chevron_left"),f.qZA(),f._uU(5,"PREV"),f.qZA()(),f.TgZ(6,"div",9)(7,"span",11),f._uU(8,"NEXT"),f.TgZ(9,"i",10),f._uU(10,"chevron_right"),f.qZA()()()())}function Ms(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"button",17),f.NdJ("click",function(){f.CHM(x);const se=f.oxw(2);return f.KtG(se.editPageModal=!0)}),f.TgZ(1,"i",16),f._uU(2,"edit"),f.qZA()()}}function si(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",12)(1,"div",13),f.YNc(2,Ms,3,0,"button",14),f.TgZ(3,"button",15),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.addPageModal=!0)}),f.TgZ(4,"i",16),f._uU(5,"add"),f.qZA()()()()}if(2&L){const x=f.oxw();f.xp6(2),f.Q6J("ngIf",x.page)}}function $r(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h4",22),f._uU(5,"Add Page"),f.qZA(),f.TgZ(6,"button",23),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.addPageModal=!1)}),f.qZA()(),f.TgZ(7,"div",24)(8,"div",25)(9,"div",26)(10,"textarea",27),f.NdJ("ngModelChange",function(se){f.CHM(x);const st=f.oxw();return f.KtG(st.newPage=se)}),f.qZA()()()(),f.TgZ(11,"div",28)(12,"button",29),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.addPage())}),f._uU(13,"Add"),f.qZA()()()()()}if(2&L){const x=f.oxw();f.xp6(10),f.Q6J("ngModel",x.newPage)}}function Bs(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",18)(1,"div",30)(2,"div",20)(3,"div",21)(4,"h4",22),f._uU(5,"Edit Page"),f.qZA(),f.TgZ(6,"button",23),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.editPageModal=!1)}),f.qZA()(),f.TgZ(7,"div",24)(8,"div",25)(9,"div",26)(10,"textarea",27),f.NdJ("ngModelChange",function(se){f.CHM(x);const st=f.oxw();return f.KtG(st.page=se)}),f.qZA()()()(),f.TgZ(11,"div",28)(12,"button",31),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.deletePage())}),f._uU(13,"Delete"),f.qZA(),f.TgZ(14,"button",29),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.editPage())}),f._uU(15,"Update"),f.qZA()()()()()}if(2&L){const x=f.oxw();f.xp6(10),f.Q6J("ngModel",x.page)}}let js=(()=>{var L;class X{constructor(U,se){this.firestore=U,this.route=se,this.id=null,this.page=void 0,this.newPage="",this.pageIndex=0,this.addPageModal=!1,this.editPageModal=!1,this.referenceWidth=window.innerWidth/3,this.back=this.route.snapshot.queryParamMap.get("back")}ngOnDestroy(){}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),console.log("Topic ID: "+this.id),null==this.firestore.data[Mn.nW.TOPICS]?this.firestore.refreshEvent.subscribe(U=>{U==Mn.nW.TOPICS&&this.refresh()}):this.refresh()}refresh(){var U=void 0;this.id&&null!=this.firestore.data[Mn.nW.TOPICS]&&(U=this.firestore.data[Mn.nW.TOPICS].filter(se=>se.id==this.id)[0]),U&&(this.topic=U),this.topic?.pages&&this.topic?.pages[0]&&(this.page=this.topic.pages[0],this.updateView(),U.head&&window.postMessage("ToggleHeader"))}save(){var U=this;return(0,yi.Z)(function*(){U.topic&&(yield(0,Dr.pl)((0,Dr.JU)((0,Dr.hJ)(U.firestore.firestore,Mn.nW.TOPICS),U.topic.id),U.topic))})()}updateView(){if(this.topic?.id){var U=document.getElementById("3593661b72952003");console.log(U),U&&this.page&&(U.innerHTML=this.page),U&&(U.style.height=window.innerHeight-130+"px")}}react(U){console.log("Click Event: ",U);let se=U.target;se&&"close"==se.id&&(this.goback(),U.stopImmediatePropagation()),U.clientX<this.referenceWidth?this.prev():U.clientX>2*this.referenceWidth&&this.next()}goback(){this.back&&(console.log("redirecting to "+this.back),window.location.href=this.back)}next(){this.topic&&null!=this.topic.pages&&this.pageIndex!=this.topic?.pages?.length-1&&(this.pageIndex++,this.page=this.topic.pages[this.pageIndex],this.updateView())}prev(){this.topic&&null!=this.topic.pages&&0!=this.pageIndex&&(this.pageIndex--,this.page=this.topic.pages[this.pageIndex],this.updateView())}addPage(){var U=this;return(0,yi.Z)(function*(){U.topic&&(null==U.topic.pages&&(U.topic.pages=[]),U.topic.pages.push(U.newPage),yield U.save(),alert("Page Added"),U.pageIndex=U.topic.pages.length-1,U.page=U.topic.pages[U.pageIndex],U.addPageModal=!1,U.newPage="")})()}deletePage(){var U=this;return(0,yi.Z)(function*(){U.topic&&null!=U.topic.pages&&U.page&&(U.topic.pages.splice(U.pageIndex,1),yield U.save(),alert("Page Deleted"),U.pageIndex=0,U.page=U.topic.pages[U.pageIndex],U.editPageModal=!1)})()}editPage(){var U=this;return(0,yi.Z)(function*(){U.topic&&null!=U.topic.pages&&U.page&&(U.topic.pages[U.pageIndex]=U.page,yield U.save(),alert("Page Updated"),U.page=U.topic.pages[U.pageIndex],U.editPageModal=!1)})()}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(Mn.C5),f.Y36(en.gz))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-topic"]],decls:7,vars:5,consts:[[3,"click"],["style","position: absolute; top: 80px; right:10px;z-index:1000;",3,"click",4,"ngIf"],["id","3593661b72952003",2,"overflow-y","auto"],["class","row m-0 fo",4,"ngIf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[2,"position","absolute","top","80px","right","10px","z-index","1000",3,"click"],["id","close",1,"material-icons","pointer","text-primary"],[1,"row","m-0","fo"],[1,"col-6"],[1,"material-icons"],[2,"float","right"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],[1,"btn","btn-warning",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-dialog","modal-lg"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(U,se){1&U&&(f.TgZ(0,"div",0),f.NdJ("click",function(Yt){return se.react(Yt)}),f.YNc(1,_o,3,0,"span",1),f._UZ(2,"div",2),f.YNc(3,ls,11,0,"div",3),f.qZA(),f.YNc(4,si,6,1,"div",4),f.YNc(5,$r,14,1,"div",5),f.YNc(6,Bs,16,1,"div",5)),2&U&&(f.xp6(1),f.Q6J("ngIf",se.back),f.xp6(2),f.Q6J("ngIf",se.topic&&se.topic.pages&&se.topic.pages.length>1),f.xp6(1),f.Q6J("ngIf",se.firestore.isAdmin),f.xp6(1),f.Q6J("ngIf",se.addPageModal),f.xp6(1),f.Q6J("ngIf",se.editPageModal))},dependencies:[ne.O5,G.Fj,G.JJ,G.On],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]{float:right;font-size:20px;padding:10px;cursor:pointer}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{vertical-align:sub;margin-right:5px}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin:0 10px;padding:5px;vertical-align:sub}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:60px;right:30px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.fo[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}"]}),X})();function cs(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",2)(1,"div",3)(2,"input",4),f.NdJ("ngModelChange",function(se){f.CHM(x);const st=f.oxw();return f.KtG(st.key=se)}),f.qZA()(),f.TgZ(3,"div",5)(4,"button",6),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.fetch())}),f._uU(5,"Fetch"),f.qZA()()()}if(2&L){const x=f.oxw();f.xp6(2),f.Q6J("ngModel",x.key)}}function Rr(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"tr")(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td")(4,"i",11),f.NdJ("click",function(){const st=f.CHM(x).$implicit,Yt=f.oxw(2);return f.KtG(Yt.edit(st))}),f._uU(5,"edit"),f.qZA()()()}if(2&L){const x=X.$implicit;f.xp6(2),f.Oqu(x.id)}}function io(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",2)(1,"div",7)(2,"table",8)(3,"thead")(4,"tr")(5,"th"),f._uU(6,"Document Key"),f.qZA(),f.TgZ(7,"th"),f._uU(8,"Action"),f.qZA()()(),f.TgZ(9,"tbody"),f.YNc(10,Rr,6,1,"tr",9),f.TgZ(11,"tr")(12,"th"),f._uU(13,"Add New Document"),f.qZA(),f.TgZ(14,"th")(15,"i",10),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.edit({}))}),f._uU(16,"add"),f.qZA()()()()()()()}if(2&L){const x=f.oxw();f.xp6(10),f.Q6J("ngForOf",x.documents)}}function Cr(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h4",16),f._uU(5,"Document Data"),f.qZA(),f.TgZ(6,"button",17),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.document=void 0)}),f.qZA()(),f.TgZ(7,"div",18)(8,"div",19)(9,"div",20)(10,"textarea",21),f.NdJ("ngModelChange",function(se){f.CHM(x);const st=f.oxw();return f.KtG(st.data=se)}),f.qZA()()()(),f.TgZ(11,"div",22)(12,"i",23),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.save())}),f._uU(13,"save"),f.qZA(),f.TgZ(14,"i",24),f.NdJ("click",function(){f.CHM(x);const se=f.oxw();return f.KtG(se.delete())}),f._uU(15,"delete"),f.qZA()()()()()}if(2&L){const x=f.oxw();f.xp6(10),f.Q6J("ngModel",x.data)}}let yo=(()=>{var L;class X{constructor(U){this.firestore=U,this.documents=[]}edit(U){this.document=U,this.data=JSON.stringify(this.document?.data(),null,1)}fetch(){if(!this.key)return;this.documents=[];let U=(0,Dr.hJ)(this.firestore.firestore,this.key);const se=(0,Dr.IO)(U);(0,Dr.PL)(se).then(st=>{st.forEach(Yt=>{this.documents.push(Yt)})})}save(){var U=this;return(0,yi.Z)(function*(){if(U.data&&U.key&&U.document){var se=void 0;try{se=JSON.parse(U.data)}catch(st){return console.error(st),void alert("Error while parsing document data, please check and retry")}U.document?.id?(yield(0,Dr.pl)((0,Dr.JU)((0,Dr.hJ)(U.firestore.firestore,U.key),U.document?.id),se),alert("Document Updated.")):se.id?(yield(0,Dr.pl)((0,Dr.JU)((0,Dr.hJ)(U.firestore.firestore,U.key),se.id),se),alert("Document Added.")):(yield(0,Dr.ET)((0,Dr.hJ)(U.firestore.firestore,U.key),se),alert("Document Added.")),U.document=void 0}})()}delete(){var U=this;return(0,yi.Z)(function*(){U.data&&(!U.key||!U.document||(yield(0,Dr.oe)((0,Dr.JU)((0,Dr.hJ)(U.firestore.firestore,U.key),U.document?.id)),U.document=void 0))})()}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(Mn.C5))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-admin"]],decls:3,vars:3,consts:[["class","row m-0",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"row","m-0"],[1,"mt-3","col-6","text-end"],["type","text","placeholder","Collection",3,"ngModel","ngModelChange"],[1,"mt-3","col-6"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"p-3"],[1,"table"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","text-info","pointer",3,"click"],[1,"m-2","material-icons","pointer",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"m-2","text-primary","material-icons","pointer",3,"click"],[1,"m-2","text-danger","material-icons","pointer",3,"click"]],template:function(U,se){1&U&&(f.YNc(0,cs,6,1,"div",0),f.YNc(1,io,17,1,"div",0),f.YNc(2,Cr,16,1,"div",1)),2&U&&(f.Q6J("ngIf",se.firestore.isAdmin),f.xp6(1),f.Q6J("ngIf",se.firestore.isAdmin),f.xp6(1),f.Q6J("ngIf",se.document))},dependencies:[ne.sg,ne.O5,G.Fj,G.JJ,G.On],styles:[".modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),X})();function vi(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"span",7),f.NdJ("click",function(){f.CHM(x);const se=f.oxw(2);return f.KtG(se.goback())}),f.TgZ(1,"i",8),f._uU(2,"cancel"),f.qZA()()}}function vo(L,X){if(1&L&&(f.TgZ(0,"span",9),f._UZ(1,"button",10),f.qZA()),2&L){const x=X.index,U=f.oxw(2);f.xp6(1),f.Q6J("ngClass",x+1==U.page?"bg-primary":"bg-secondary")}}function ui(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"pdf-viewer",11),f.NdJ("after-load-complete",function(se){f.CHM(x);const st=f.oxw(2);return f.KtG(st.callBackFn(se))}),f.qZA()}if(2&L){const x=f.oxw(2);f.Q6J("src",x.url)("rotation",0)("original-size",!1)("show-all",!1)("page",x.page)("fit-to-page",!0)("zoom",1)("zoom-scale","page-height")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function Pr(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"pdf-viewer",11),f.NdJ("after-load-complete",function(se){f.CHM(x);const st=f.oxw(2);return f.KtG(st.callBackFn(se))}),f.qZA()}if(2&L){const x=f.oxw(2);f.Q6J("src",x.url)("rotation",0)("original-size",!1)("show-all",!1)("page",x.page)("fit-to-page",!1)("zoom",.8)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function Oo(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"span",1),f.NdJ("click",function(){f.CHM(x);const se=f.oxw(3);return f.KtG(se.prev())}),f.TgZ(1,"i",15),f._uU(2,"chevron_left"),f.qZA(),f.TgZ(3,"span",16),f._uU(4,"PREV"),f.qZA()()}}function so(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"span",17),f.NdJ("click",function(){f.CHM(x);const se=f.oxw(3);return f.KtG(se.next())}),f.TgZ(1,"span",16),f._uU(2,"NEXT"),f.qZA(),f.TgZ(3,"i",15),f._uU(4,"chevron_right"),f.qZA()()}}function Yr(L,X){if(1&L&&(f.TgZ(0,"div",12)(1,"div",13),f.YNc(2,Oo,5,0,"span",0),f.qZA(),f.TgZ(3,"div",13),f.YNc(4,so,5,0,"span",14),f.qZA()()),2&L){const x=f.oxw(2);f.xp6(2),f.Q6J("ngIf",x.page>1),f.xp6(2),f.Q6J("ngIf",x.page<x.numPages)}}const Ci=function(){return[]};function wi(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",1),f.NdJ("click",function(se){f.CHM(x);const st=f.oxw();return f.KtG(st.react(se))}),f.TgZ(1,"div"),f.YNc(2,vi,3,0,"span",2),f.TgZ(3,"div",3),f.YNc(4,vo,2,1,"span",4),f.qZA(),f.YNc(5,ui,1,13,"pdf-viewer",5),f.YNc(6,Pr,1,13,"pdf-viewer",5),f.qZA(),f.YNc(7,Yr,5,2,"div",6),f.qZA()}if(2&L){const x=f.oxw();f.xp6(2),f.Q6J("ngIf",x.back),f.xp6(2),f.Q6J("ngForOf",f.DdM(5,Ci).constructor(x.numPages)),f.xp6(1),f.Q6J("ngIf",!x.isMobile),f.xp6(1),f.Q6J("ngIf",x.isMobile),f.xp6(1),f.Q6J("ngIf",0!=x.numPages)}}let Gi=(()=>{var L;class X{constructor(U,se){this.route=U,this.http=se,this.numPages=0,this.isMobile=Fn_mobileAndTabletCheck(),this.page=1,this.referenceWidth=window.innerWidth/3,console.log("isMobile: "+this.isMobile),this.url=this.route.snapshot.queryParamMap.get("url"),this.back=this.route.snapshot.queryParamMap.get("back"),this.cors=this.route.snapshot.queryParamMap.get("cors"),this.url&&this.cors&&this.http.get(this.url).subscribe({next:st=>{console.log(st)},error:st=>{console.error(st)},complete:()=>{console.log("complete")}})}callBackFn(U){this.numPages=U.numPages}react(U){console.log("Click Event: ",U);let se=U.target;se&&"close"==se.id&&(this.goback(),U.stopImmediatePropagation()),U.clientX<this.referenceWidth?this.prev():U.clientX>2*this.referenceWidth&&this.next()}next(){this.page>=this.numPages||this.page++}prev(){this.page<=1||this.page--}goback(){this.back&&(console.log("redirecting to "+this.back),window.location.href=this.back)}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(en.gz),f.Y36(H))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-viewer"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],["style","position: absolute; top: 80px; right:10px;z-index:1000;",3,"click",4,"ngIf"],["id","navs",1,"text-center"],["class","mx-1",4,"ngFor","ngForOf"],[3,"src","rotation","original-size","show-all","page","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders","after-load-complete",4,"ngIf"],["class","row m-0 fo",4,"ngIf"],[2,"position","absolute","top","80px","right","10px","z-index","1000",3,"click"],["id","close",1,"material-icons","pointer","text-primary"],[1,"mx-1"],[2,"border","none","height","5px",3,"ngClass"],[3,"src","rotation","original-size","show-all","page","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders","after-load-complete"],[1,"row","m-0","fo"],[1,"col-6"],["style","float:right",3,"click",4,"ngIf"],[1,"material-icons"],[1,"align-midde"],[2,"float","right",3,"click"]],template:function(U,se){1&U&&f.YNc(0,wi,8,6,"div",0),2&U&&f.Q6J("ngIf",se.url)},dependencies:[ne.mk,ne.sg,ne.O5,Ki],styles:["pdf-viewer[_ngcontent-%COMP%]{height:80vh;margin-left:-5px;margin-top:10px}#navs[_ngcontent-%COMP%]{margin-top:30px}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin:0 10px;padding:5px;vertical-align:sub}.fo[_ngcontent-%COMP%]{position:sticky;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}#close[_ngcontent-%COMP%]{border-radius:15px}"]}),X})();const ua=[{path:"",component:_s},{path:"home",component:_s},{path:"home/:focus",component:_s},{path:"admin",component:yo},{path:"login",component:to},{path:"dashboard",component:To},{path:"logout",component:ts},{path:"account",component:Zr},{path:"profile",component:Gr},{path:"categories",component:Li},{path:"topics/:id",component:js},{path:"pages/:id",component:js},{path:"page/:id",component:V(1527).I},{path:"courses",component:Ln},{path:"courses/:id",component:ws,canActivate:[Ps]},{path:"assessments",component:Io},{path:"assessments/:id",component:mo},{path:"pdfviewer",component:Gi}];let Os=(()=>{var L;class X{}return(L=X).\u0275fac=function(U){return new(U||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[en.Bz.forRoot(ua),en.Bz]}),X})();var us=V(7272),ns=V(5698),$i=V(9718);function Vn(L,X){return X?x=>(0,us.z)(X.pipe((0,ns.q)(1),function Ro(){return(0,En.e)((L,X)=>{L.subscribe((0,bn.x)(X,hr.Z))})}()),x.pipe(Vn(L))):(0,nr.z)((x,U)=>(0,or.Xf)(L(x,U)).pipe((0,ns.q)(1),(0,$i.h)(x)))}var Z=V(3532);function Dt(L,X){if(1&L&&(f.TgZ(0,"div",4)(1,"h4",6),f._uU(2),f.qZA()()),2&L){const x=f.oxw();f.xp6(2),f.Oqu(x.firestore.user.name)}}const Dn=function(L){return{active:L}};function rr(L,X){if(1&L){const x=f.EpF();f.TgZ(0,"div",7),f.NdJ("click",function(){const st=f.CHM(x).$implicit,Yt=f.oxw();return f.KtG(Yt.focus(st.route))}),f.TgZ(1,"i",8),f._uU(2),f.qZA(),f.TgZ(3,"span",9),f._uU(4),f.qZA()()}if(2&L){const x=X.$implicit,U=f.oxw();f.Q6J("ngClass",f.VKq(3,Dn,U.active=="/"+x.route)),f.xp6(2),f.Oqu(x.icon),f.xp6(2),f.Oqu(x.name)}}let di=(()=>{var L;class X{constructor(U,se,st){this.router=U,this.route=se,this.firestore=st,this.close=new f.vpe,this.active="",this.menus=[],this.active=this.router.url,this.user=st.user,this.load(),this.router.events.subscribe(Yt=>{Yt instanceof en.m2&&(this.active=this.router.url)}),st.refreshUser.subscribe(Yt=>{this.user=Yt,this.load()})}load(){this.menus=[],this.user?"ADMIN"==this.user.role?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Admin",icon:"settings",route:"admin"}),this.menus.push({name:"Categories",icon:"category",route:"categories"}),this.menus.push({name:"Courses",icon:"menu_book",route:"courses"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):"CLIENT"==this.user.role?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Assessments",icon:"assignment",route:"assessments"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):"USER"==this.user.role&&(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Design",icon:"architecture",route:"home/design"}),this.menus.push({name:"Develop",icon:"code",route:"home/develop"}),this.menus.push({name:"Deploy",icon:"construction",route:"home/deploy"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Design",icon:"architecture",route:"home/design"}),this.menus.push({name:"Develop",icon:"code",route:"home/develop"}),this.menus.push({name:"Deploy",icon:"construction",route:"home/deploy"}),this.menus.push({name:"Login",icon:"login",route:"login"}))}focus(U){this.router.navigate([U]),setTimeout(()=>this.close.emit(),100)}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(en.F0),f.Y36(en.gz),f.Y36(Mn.C5))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-menu"]],outputs:{close:"close"},decls:7,vars:2,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],["class","m",4,"ngIf"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"margin-left","10px"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(U,se){1&U&&(f.TgZ(0,"div",0)(1,"div",1)(2,"i",2),f.NdJ("click",function(){return se.close.emit(!0)}),f._uU(3,"close"),f.qZA()(),f.YNc(4,Dt,3,1,"div",3),f.TgZ(5,"div",4),f.YNc(6,rr,5,5,"div",5),f.qZA()()),2&U&&(f.xp6(4),f.Q6J("ngIf",se.firestore.user),f.xp6(2),f.Q6J("ngForOf",se.menus))},dependencies:[ne.mk,ne.sg,ne.O5],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),X})(),jt=(()=>{var L;class X{}return(L=X).\u0275fac=function(U){return new(U||L)},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-logo"]],decls:10,vars:0,consts:[["width","200","height","80","viewBox","0 0 400 150"],["id","SvgjsG6266","featurekey","rootContainer","transform","matrix(1,0,0,1,0,0)","fill","#f9e1cf"],["y","0","height","1","width","1","opacity","0"],["y","122","width","370","height","5"],["id","SvgjsG6267","featurekey","symbolFeature-0","transform","matrix(1.028017879379319,0,0,1.028017879379319,-5.140089396896595,12.444349912652363)","fill","#fdfaa4"],["xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd","d","M5,78.067c0-7.466,0-49.264,0-56.729C5,10.333,11.833,5.333,20.933,5.405  c7.466,0,50.264,0,57.729,0c10.837,0,15.933,7.095,15.933,14.933c0,7.466,0,52.264,0,59.729C94.595,90.333,88.667,95,78.662,95  c-7.466,0-50.263,0-57.729,0C11,95,5,88.667,5,78.067z M23.399,12.872c-7.419,0-10.933,2.466-10.933,9.932  c0,7.466,0,34.865,0,34.865h7.466l7.466-14.933l17.976,20.389l11.889-42.787L73,61l3.5-3.331h10.629c0,0,0-26.399,0-33.865  c0-7.466-2.467-10.932-9.933-10.932H23.399z M71.5,71.875l-13.125-29.25L48.25,77.25L28.399,54.669l-4,10.466H12.466  c0,0,0,4,0,11.467c0,7.466,3.466,10.933,10.933,10.933c7.466,0,44.598,0,52.428,0c7.835,0,11.302-3.467,11.302-10.933  c0-7.467,0-11.467,0-11.467L78.125,65L71.5,71.875z"],["id","SvgjsG6268","featurekey","nameFeature-0","transform","matrix(1.5633774866697607,0,0,1.5633774866697607,111.18704373675078,9.114959226611326)","fill","#fde300"],["_ngcontent-ibt-c17","","d","M0.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.4 -1.88 4.76 l0 18.48 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M13.32 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l12.16 0 s-0.454 1.5708 0.23641 4.2232 l3.6836 11.817 l3.6836 -11.817 c0.69 -2.6524 0.23641 -4.2232 0.23641 -4.2232 l12.16 0 s-1.88 2.4 -1.88 4.8 l0 18.44 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 s1.88 -2.36 1.88 -4.76 l0 -10.76 l-5 11.92 l-4 0 l-5 -11.92 l0 10.76 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 z M26.240000000000002 36.4 c0 0 0.36 -1.88 -0.84 -4.76 l2 4.76 l-1.16 0 z M31.400000000000002 36.4 l2 -4.76 c-1.2 2.88 -0.84 4.76 -0.84 4.76 l-1.16 0 z M46.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l12.4 0 c6.6 0 12.24 2.68 12.24 8.88 c0 4.16 -2.08 6.84 -5.2 8.4 c-1.8 0.88 -3.92 1.36 -6.24 1.56 c-0.72 0.08 -2.6 0.08 -3.32 0.08 l0 4.32 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M56.4 25.6 l1.44 0 c2.84 0 4.96 -1.36 4.96 -3.92 c0 -3 -2.44 -3.96 -5.28 -3.96 l-1.12 0 l0 7.88 z M85.92 40.56 c-6.56 0 -11.56 -3.72 -11.56 -10.56 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 3.24 1.16 4.72 3.56 4.72 c2.44 0 3.6 -1.48 3.6 -4.72 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 6.84 -5 10.56 -11.6 10.56 z M100.03999999999999 40 c0 0 1.88 -2.4 1.88 -4.8 l0 -18.44 c0 -2.4 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.36 -1.88 4.76 l0 16.84 l6.04 0 c2.36 0 4.76 -1.88 4.76 -1.88 l0 8.28 l-20.68 0 z M130.12 40.64 c-3.44 0 -8.2 -1.48 -8.2 -1.48 l2.8 -7.96 s1.88 3.8 5.2 3.8 c2.68 0 4.36 -1.16 4.36 -2.92 c0 -3.2 -11.76 -3.3984 -11.76 -11.52 c0 -5.96 4.92 -9.12 11.64 -9.12 c3.32 0 7.36 1.8 7.36 1.8 l-2.76 7.52 s-2.24 -3.96 -4.8 -3.96 c-2.16 0 -3.36 1.36 -3.36 2.68 c0 3.12 12.08 3.64 12.08 11.6 c0 5.92 -5.52 9.56 -12.56 9.56 z M144.00000000000003 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l21.48 0 l0 8.28 s-2.4 -1.88 -4.8 -1.88 l-6.8 0 l0 5.2 l2.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 9.36 s-2.4 -1.88 -4.8 -1.88 l-2.8 0 l0 4.4 l6.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 8.28 l-21.48 0 z"],["id","SvgjsG6269","featurekey","sloganFeature-0","transform","matrix(1.2395395249917074,0,0,1.2395395249917074,109.73635290905752,75.94291572161438)","fill","#f4ee39"],["_ngcontent-ibt-c17","","d","M1.8262 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M18.037265625 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M32.929203125 8.467 l-5.3711 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 5.7813 l-2.9492 0 l0 -14.111 l8.3203 0 l0 2.5781 z M35.429715625 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M51.64078125 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M58.21291875 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M72.968984375 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z M83.369375 8.467 l-5.2344 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 3.1934 l5.2344 0 l0 2.5879 l-8.1836 0 l0 -14.111 l8.1836 0 l0 2.5781 z M91.582059375 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M114.326125 20 l-2.9199 0 l-0.92773 -10.635 l-3.5742 10.635 l-1.8945 0 l-3.5742 -10.635 l-0.9375 10.635 l-2.9297 0 l1.1816 -14.111 l4.1797 0 l3.0078 8.8574 l3.0469 -8.8574 l4.1797 0 z M123.26170625 5.888999999999999 c2.7637 0 4.4824 2.0508 4.4824 4.5605 c0 2.5684 -1.7188 4.4922 -4.4824 4.4922 l-2.9395 0 l0 5.0586 l-2.9297 0 l0 -14.111 l5.8691 0 z M122.77340625 12.4902 c1.4648 0 2.1484 -0.81055 2.1484 -2.0801 c0 -1.2207 -0.68359 -2.0703 -2.1484 -2.0703 l-2.4512 0 l0 4.1504 l2.4512 0 z M139.64890625 20 l-1.0254 -2.9102 l-5.9277 0 l-1.0254 2.9102 l-2.998 0 l5.1953 -14.111 l3.584 0 l5.1953 14.111 l-2.998 0 z M133.55470625 14.6387 l4.209 0 l-2.0996 -5.9863 z M151.015653125 20.19531 c-4.1504 0 -7.2168 -2.8223 -7.2168 -7.2559 s3.0664 -7.2461 7.2168 -7.2461 c3.1445 0 5.6641 1.6113 6.6699 4.2871 l-2.7344 0.99609 c-0.625 -1.6406 -2.1191 -2.5879 -3.9355 -2.5879 c-2.4316 0 -4.2969 1.6992 -4.2969 4.5508 s1.8652 4.5605 4.2969 4.5605 c1.8164 0 3.3105 -0.95703 3.9355 -2.5977 l2.7344 0.99609 c-1.0059 2.6758 -3.5254 4.2969 -6.6699 4.2969 z M168.27171875 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z"]],template:function(U,se){1&U&&(f.O4$(),f.TgZ(0,"svg",0)(1,"g",1),f._UZ(2,"rect",2)(3,"rect",3),f.qZA(),f.TgZ(4,"g",4),f._UZ(5,"path",5),f.qZA(),f.TgZ(6,"g",6),f._UZ(7,"path",7),f.qZA(),f.TgZ(8,"g",8),f._UZ(9,"path",9),f.qZA()())}}),X})();function Xn(L,X){1&L&&(f.TgZ(0,"i",9),f._uU(1,"menu"),f.qZA())}function zi(L,X){if(1&L&&f._UZ(0,"img",10),2&L){const x=f.oxw();f.s9C("src",x.firestore.user.image,f.LSH)}}let Pi=(()=>{var L;class X{constructor(U){this.firestore=U,this.menu=!1}home(){window.location.href=window.location.origin}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(Mn.C5))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-header"]],decls:9,vars:3,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],["class","material-icons text-light",4,"ngIf"],[3,"src",4,"ngIf"],[1,"col-12","p-0","text-center"],[3,"click"],[3,"hidden","close"],[1,"material-icons","text-light"],[3,"src"]],template:function(U,se){1&U&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),f.NdJ("click",function(){return se.menu=!se.menu}),f.YNc(4,Xn,2,0,"i",4),f.YNc(5,zi,1,1,"img",5),f.qZA()(),f.TgZ(6,"div",6)(7,"app-logo",7),f.NdJ("click",function(){return se.home()}),f.qZA()()()(),f.TgZ(8,"app-menu",8),f.NdJ("close",function(){return se.menu=!1}),f.qZA()),2&U&&(f.xp6(4),f.Q6J("ngIf",!se.firestore.user),f.xp6(1),f.Q6J("ngIf",se.firestore.user&&se.firestore.user.image),f.xp6(3),f.Q6J("hidden",!se.menu))},dependencies:[ne.O5,di,jt],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]{padding:0}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:50px;height:50px}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:5px}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8.5rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),X})();var Er=V(184);function _e(L,X){1&L&&(f.TgZ(0,"div",1),f._UZ(1,"div",2),f.qZA())}let je=(()=>{var L;class X{constructor(U){this.loaderService=U,this.isLoading=this.loaderService.isLoading}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(Er.D))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","c d-flex align-items-center justify-content-center",4,"ngIf"],[1,"c","d-flex","align-items-center","justify-content-center"],[1,"loader"]],template:function(U,se){1&U&&(f.YNc(0,_e,2,0,"div",0),f.ALo(1,"async")),2&U&&f.Q6J("ngIf",f.lcZ(1,1,se.isLoading))},dependencies:[ne.O5,ne.Ov],styles:[".c[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;text-align:center;background:black;opacity:.5}.loader[_ngcontent-%COMP%]{border:15px solid #f3f3f3;border-radius:50%;border-top:15px solid #3498db;width:100px;height:100px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}"]}),X})();function et(L,X){1&L&&f._UZ(0,"app-header")}let gt=(()=>{var L;class X{constructor(U,se,st){this.firestore=U,this.header=!0,this.firestore.log(Mn.zW.PAGE_VIEW),this.handleScroll(se,st),window.addEventListener("message",Yt=>{console.log("Window Message:",Yt),Yt.origin===window.location.origin&&"ToggleHeader"==Yt.data&&(this.header=!this.header)},!1)}handleScroll(U,se){U.events.pipe((0,Ae.h)(st=>st instanceof en.Xs)).pipe(function Oe(L,X=fr){const x=function B(L=0,X,x=Ii){let U=-1;return null!=X&&((0,Z.K)(X)?x=X:U=X),new Se.y(se=>{let st=function z(L){return L instanceof Date&&!isNaN(L)}(L)?+L-x.now():L;st<0&&(st=0);let Yt=0;return x.schedule(function(){se.closed||(se.next(Yt++),0<=U?this.schedule(void 0,U):se.complete())},st)})}(L,X);return Vn(()=>x)}(1)).subscribe(st=>{st.position?se.scrollToPosition(st.position):st.anchor?se.scrollToAnchor(st.anchor):se.scrollToPosition([0,0])})}}return(L=X).\u0275fac=function(U){return new(U||L)(f.Y36(Mn.C5),f.Y36(en.F0),f.Y36(ne.EM))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-root"]],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(U,se){1&U&&(f.YNc(0,et,1,0,"app-header",0),f._UZ(1,"app-loader")(2,"router-outlet")),2&U&&f.Q6J("ngIf",se.header)},dependencies:[ne.O5,en.lC,Pi,je],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),X})(),xt=(()=>{var L;class X{}return(L=X).\u0275fac=function(U){return new(U||L)},L.\u0275mod=f.oAB({type:L,bootstrap:[gt]}),L.\u0275inj=f.cJS({imports:[u.b2,Os,G.u5,nn,gi]}),X})();u.q6().bootstrapModule(xt).catch(L=>console.error(L))},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_asyncToGenerator=__webpack_require__(7156).default,V;V=function(){return(()=>{"use strict";var __webpack_modules__=[,(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.VerbosityLevel=R.Util=R.UnknownErrorException=R.UnexpectedResponseException=R.UNSUPPORTED_FEATURES=R.TextRenderingMode=R.StreamType=R.RenderingIntentFlag=R.PermissionFlag=R.PasswordResponses=R.PasswordException=R.PageActionEventType=R.OPS=R.MissingPDFException=R.IsLittleEndianCached=R.IsEvalSupportedCached=R.InvalidPDFException=R.ImageKind=R.IDENTITY_MATRIX=R.FormatError=R.FontType=R.FONT_IDENTITY_MATRIX=R.DocumentActionEventType=R.CMapCompressionType=R.BaseException=R.AnnotationType=R.AnnotationStateModelType=R.AnnotationReviewState=R.AnnotationReplyType=R.AnnotationMode=R.AnnotationMarkedState=R.AnnotationFlag=R.AnnotationFieldFlag=R.AnnotationBorderStyleType=R.AnnotationActionEventType=R.AbortException=void 0,R.arrayByteLength=Ke,R.arraysToBytes=function mt(pt){const ct=pt.length;if(1===ct&&pt[0]instanceof Uint8Array)return pt[0];let ht=0;for(let wn=0;wn<ct;wn++)ht+=Ke(pt[wn]);let cn=0;const Qt=new Uint8Array(ht);for(let wn=0;wn<ct;wn++){let rn=pt[wn];rn instanceof Uint8Array||(rn="string"==typeof rn?Xe(rn):new Uint8Array(rn));const In=rn.byteLength;Qt.set(rn,cn),cn+=In}return Qt},R.assert=function ot(pt,ct){pt||Ue(ct)},R.bytesToString=function Ze(pt){("object"!=typeof pt||null===pt||void 0===pt.length)&&Ue("Invalid argument for bytesToString");const ct=pt.length;if(ct<8192)return String.fromCharCode.apply(null,pt);const cn=[];for(let Qt=0;Qt<ct;Qt+=8192){const wn=Math.min(Qt+8192,ct),rn=pt.subarray(Qt,wn);cn.push(String.fromCharCode.apply(null,rn))}return cn.join("")},R.createPromiseCapability=function Gn(){const pt=Object.create(null);let ct=!1;return Object.defineProperty(pt,"settled",{get:()=>ct}),pt.promise=new Promise(function(ht,cn){pt.resolve=function(Qt){ct=!0,ht(Qt)},pt.reject=function(Qt){ct=!0,cn(Qt)}}),pt},R.createValidAbsoluteUrl=function H(pt,ct=null,ht=null){if(!pt)return null;try{if(ht&&"string"==typeof pt){if(ht.addDefaultProtocol&&pt.startsWith("www.")){const Qt=pt.match(/\./g);Qt&&Qt.length>=2&&(pt=`http://${pt}`)}if(ht.tryConvertEncoding)try{pt=Qe(pt)}catch{}}const cn=ct?new URL(pt,ct):new URL(pt);if(function te(pt){if(!pt)return!1;switch(pt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(cn))return cn}catch{}return null},R.escapeString=function nt(pt){return pt.replace(/([()\\\n\r])/g,ct=>"\n"===ct?"\\n":"\r"===ct?"\\r":`\\${ct}`)},R.getModificationDate=function yn(pt=new Date){return[pt.getUTCFullYear().toString(),(pt.getUTCMonth()+1).toString().padStart(2,"0"),pt.getUTCDate().toString().padStart(2,"0"),pt.getUTCHours().toString().padStart(2,"0"),pt.getUTCMinutes().toString().padStart(2,"0"),pt.getUTCSeconds().toString().padStart(2,"0")].join("")},R.getVerbosityLevel=function Te(){return k},R.info=function ke(pt){k>=Y.INFOS&&console.log(`Info: ${pt}`)},R.isArrayBuffer=function Wt(pt){return"object"==typeof pt&&null!==pt&&void 0!==pt.byteLength},R.isArrayEqual=function Nt(pt,ct){if(pt.length!==ct.length)return!1;for(let ht=0,cn=pt.length;ht<cn;ht++)if(pt[ht]!==ct[ht])return!1;return!0},R.isAscii=function dt(pt){return/^[\x00-\x7F]*$/.test(pt)},R.isSameOrigin=function we(pt,ct){let ht;try{if(ht=new URL(pt),!ht.origin||"null"===ht.origin)return!1}catch{return!1}const cn=new URL(ct,ht);return ht.origin===cn.origin},R.objectFromMap=function Bt(pt){const ct=Object.create(null);for(const[ht,cn]of pt)ct[ht]=cn;return ct},R.objectSize=function $t(pt){return Object.keys(pt).length},R.setVerbosityLevel=function he(pt){Number.isInteger(pt)&&(k=pt)},R.shadow=$,R.string32=function Lt(pt){return String.fromCharCode(pt>>24&255,pt>>16&255,pt>>8&255,255&pt)},R.stringToBytes=Xe,R.stringToPDFString=function Me(pt){if(pt[0]>="\xef"){let ht;if("\xfe"===pt[0]&&"\xff"===pt[1]?ht="utf-16be":"\xff"===pt[0]&&"\xfe"===pt[1]?ht="utf-16le":"\xef"===pt[0]&&"\xbb"===pt[1]&&"\xbf"===pt[2]&&(ht="utf-8"),ht)try{const cn=new TextDecoder(ht,{fatal:!0}),Qt=Xe(pt);return cn.decode(Qt)}catch(cn){He(`stringToPDFString: "${cn}".`)}}const ct=[];for(let ht=0,cn=pt.length;ht<cn;ht++){const Qt=_t[pt.charCodeAt(ht)];ct.push(Qt?String.fromCharCode(Qt):pt.charAt(ht))}return ct.join("")},R.stringToUTF16BEString=function At(pt){const ct=["\xfe\xff"];for(let ht=0,cn=pt.length;ht<cn;ht++){const Qt=pt.charCodeAt(ht);ct.push(String.fromCharCode(Qt>>8&255),String.fromCharCode(255&Qt))}return ct.join("")},R.stringToUTF8String=Qe,R.unreachable=Ue,R.utf8StringToString=function yt(pt){return unescape(encodeURIComponent(pt))},R.warn=He,V(2),R.IDENTITY_MATRIX=[1,0,0,1,0,0],R.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],R.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},R.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},R.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},R.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},R.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},R.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},R.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},R.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},R.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},R.AnnotationReplyType={GROUP:"Group",REPLY:"R"},R.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},R.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},R.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},R.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},R.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},R.PageActionEventType={O:"PageOpen",C:"PageClose"},R.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},R.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const Y={ERRORS:0,WARNINGS:1,INFOS:5};R.VerbosityLevel=Y,R.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},R.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},R.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},R.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let k=Y.WARNINGS;function He(pt){k>=Y.WARNINGS&&console.log(`Warning: ${pt}`)}function Ue(pt){throw new Error(pt)}function $(pt,ct,ht){return Object.defineProperty(pt,ct,{value:ht,enumerable:!0,configurable:!0,writable:!1}),ht}const N=function(){function ct(ht,cn){this.constructor===ct&&Ue("Cannot initialize BaseException."),this.message=ht,this.name=cn}return ct.prototype=new Error,ct.constructor=ct,ct}();function Xe(pt){"string"!=typeof pt&&Ue("Invalid argument for stringToBytes");const ct=pt.length,ht=new Uint8Array(ct);for(let cn=0;cn<ct;++cn)ht[cn]=255&pt.charCodeAt(cn);return ht}function Ke(pt){return void 0!==pt.length?pt.length:void 0!==pt.byteLength?pt.byteLength:void Ue("Invalid argument for arrayByteLength")}R.BaseException=N,R.PasswordException=class w extends N{constructor(ct,ht){super(ct,"PasswordException"),this.code=ht}},R.UnknownErrorException=class M extends N{constructor(ct,ht){super(ct,"UnknownErrorException"),this.details=ht}},R.InvalidPDFException=class W extends N{constructor(ct){super(ct,"InvalidPDFException")}},R.MissingPDFException=class ge extends N{constructor(ct){super(ct,"MissingPDFException")}},R.UnexpectedResponseException=class de extends N{constructor(ct,ht){super(ct,"UnexpectedResponseException"),this.status=ht}},R.FormatError=class ee extends N{constructor(ct){super(ct,"FormatError")}},R.AbortException=class We extends N{constructor(ct){super(ct,"AbortException")}},R.IsLittleEndianCached={get value(){return $(this,"value",function kt(){const pt=new Uint8Array(4);return pt[0]=1,1===new Uint32Array(pt.buffer,0,1)[0]}())}},R.IsEvalSupportedCached={get value(){return $(this,"value",function mn(){try{return new Function(""),!0}catch{return!1}}())}};const Jt=[...Array(256).keys()].map(pt=>pt.toString(16).padStart(2,"0"));class Hn{static makeHexColor(ct,ht,cn){return`#${Jt[ct]}${Jt[ht]}${Jt[cn]}`}static transform(ct,ht){return[ct[0]*ht[0]+ct[2]*ht[1],ct[1]*ht[0]+ct[3]*ht[1],ct[0]*ht[2]+ct[2]*ht[3],ct[1]*ht[2]+ct[3]*ht[3],ct[0]*ht[4]+ct[2]*ht[5]+ct[4],ct[1]*ht[4]+ct[3]*ht[5]+ct[5]]}static applyTransform(ct,ht){return[ct[0]*ht[0]+ct[1]*ht[2]+ht[4],ct[0]*ht[1]+ct[1]*ht[3]+ht[5]]}static applyInverseTransform(ct,ht){const cn=ht[0]*ht[3]-ht[1]*ht[2];return[(ct[0]*ht[3]-ct[1]*ht[2]+ht[2]*ht[5]-ht[4]*ht[3])/cn,(-ct[0]*ht[1]+ct[1]*ht[0]+ht[4]*ht[1]-ht[5]*ht[0])/cn]}static getAxialAlignedBoundingBox(ct,ht){const cn=Hn.applyTransform(ct,ht),Qt=Hn.applyTransform(ct.slice(2,4),ht),wn=Hn.applyTransform([ct[0],ct[3]],ht),rn=Hn.applyTransform([ct[2],ct[1]],ht);return[Math.min(cn[0],Qt[0],wn[0],rn[0]),Math.min(cn[1],Qt[1],wn[1],rn[1]),Math.max(cn[0],Qt[0],wn[0],rn[0]),Math.max(cn[1],Qt[1],wn[1],rn[1])]}static inverseTransform(ct){const ht=ct[0]*ct[3]-ct[1]*ct[2];return[ct[3]/ht,-ct[1]/ht,-ct[2]/ht,ct[0]/ht,(ct[2]*ct[5]-ct[4]*ct[3])/ht,(ct[4]*ct[1]-ct[5]*ct[0])/ht]}static apply3dTransform(ct,ht){return[ct[0]*ht[0]+ct[1]*ht[1]+ct[2]*ht[2],ct[3]*ht[0]+ct[4]*ht[1]+ct[5]*ht[2],ct[6]*ht[0]+ct[7]*ht[1]+ct[8]*ht[2]]}static singularValueDecompose2dScale(ct){const ht=[ct[0],ct[2],ct[1],ct[3]],cn=ct[0]*ht[0]+ct[1]*ht[2],rn=ct[2]*ht[1]+ct[3]*ht[3],In=(cn+rn)/2,nn=Math.sqrt((cn+rn)**2-4*(cn*rn-(ct[2]*ht[0]+ct[3]*ht[2])*(ct[0]*ht[1]+ct[1]*ht[3])))/2,$n=In-nn||1;return[Math.sqrt(In+nn||1),Math.sqrt($n)]}static normalizeRect(ct){const ht=ct.slice(0);return ct[0]>ct[2]&&(ht[0]=ct[2],ht[2]=ct[0]),ct[1]>ct[3]&&(ht[1]=ct[3],ht[3]=ct[1]),ht}static intersect(ct,ht){function cn(In,nn){return In-nn}const Qt=[ct[0],ct[2],ht[0],ht[2]].sort(cn),wn=[ct[1],ct[3],ht[1],ht[3]].sort(cn),rn=[];return ct=Hn.normalizeRect(ct),ht=Hn.normalizeRect(ht),Qt[0]===ct[0]&&Qt[1]===ht[0]||Qt[0]===ht[0]&&Qt[1]===ct[0]?(rn[0]=Qt[1],rn[2]=Qt[2],wn[0]===ct[1]&&wn[1]===ht[1]||wn[0]===ht[1]&&wn[1]===ct[1]?(rn[1]=wn[1],rn[3]=wn[2],rn):null):null}static bezierBoundingBox(ct,ht,cn,Qt,wn,rn,In,nn){const Un=[],$n=[[],[]];let or,nr,ur,$e,qe,it,Pt,vt;for(let Ge=0;Ge<2;++Ge)if(0===Ge?(nr=6*ct-12*cn+6*wn,or=-3*ct+9*cn-9*wn+3*In,ur=3*cn-3*ct):(nr=6*ht-12*Qt+6*rn,or=-3*ht+9*Qt-9*rn+3*nn,ur=3*Qt-3*ht),Math.abs(or)<1e-12){if(Math.abs(nr)<1e-12)continue;$e=-ur/nr,0<$e&&$e<1&&Un.push($e)}else Pt=nr*nr-4*ur*or,vt=Math.sqrt(Pt),!(Pt<0)&&(qe=(-nr+vt)/(2*or),0<qe&&qe<1&&Un.push(qe),it=(-nr-vt)/(2*or),0<it&&it<1&&Un.push(it));let rt,qt=Un.length;const tt=qt;for(;qt--;)$e=Un[qt],rt=1-$e,$n[0][qt]=rt*rt*rt*ct+3*rt*rt*$e*cn+3*rt*$e*$e*wn+$e*$e*$e*In,$n[1][qt]=rt*rt*rt*ht+3*rt*rt*$e*Qt+3*rt*$e*$e*rn+$e*$e*$e*nn;return $n[0][tt]=ct,$n[1][tt]=ht,$n[0][tt+1]=In,$n[1][tt+1]=nn,$n[0].length=$n[1].length=tt+2,[Math.min(...$n[0]),Math.min(...$n[1]),Math.max(...$n[0]),Math.max(...$n[1])]}}R.Util=Hn;const _t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Qe(pt){return decodeURIComponent(escape(pt))}},(Be,R,V)=>{V(3)},(Be,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isNodeJS=void 0;const V=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);R.isNodeJS=V},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(Be){createPDFNetworkStream=Be}function getDocument(Be){const R=new PDFDocumentLoadingTask;let V;if("string"==typeof Be||Be instanceof URL)V={url:Be};else if((0,_util.isArrayBuffer)(Be))V={data:Be};else if(Be instanceof PDFDataRangeTransport)V={range:Be};else{if("object"!=typeof Be)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!Be.url&&!Be.data&&!Be.range)throw new Error("Invalid parameter object: need either .data, .range or .url");V=Be}const u=Object.create(null);let G=null,ne=null;for(const be in V){const Se=V[be];switch(be){case"url":if(typeof window<"u")try{u[be]=new URL(Se,window.location).href;continue}catch(me){(0,_util.warn)(`Cannot create valid URL: "${me}".`)}else if("string"==typeof Se||Se instanceof URL){u[be]=Se.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":G=Se;continue;case"worker":ne=Se;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&Se instanceof Buffer)u[be]=new Uint8Array(Se);else{if(Se instanceof Uint8Array)break;if("string"==typeof Se)u[be]=(0,_util.stringToBytes)(Se);else if("object"!=typeof Se||null===Se||isNaN(Se.length)){if(!(0,_util.isArrayBuffer)(Se))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");u[be]=new Uint8Array(Se)}else u[be]=new Uint8Array(Se)}continue}u[be]=Se}if(u.rangeChunkSize=u.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,u.CMapReaderFactory=u.CMapReaderFactory||DefaultCMapReaderFactory,u.StandardFontDataFactory=u.StandardFontDataFactory||DefaultStandardFontDataFactory,u.ignoreErrors=!0!==u.stopAtErrors,u.fontExtraProperties=!0===u.fontExtraProperties,u.pdfBug=!0===u.pdfBug,u.enableXfa=!0===u.enableXfa,("string"!=typeof u.docBaseUrl||(0,_display_utils.isDataScheme)(u.docBaseUrl))&&(u.docBaseUrl=null),Number.isInteger(u.maxImageSize)||(u.maxImageSize=-1),"boolean"!=typeof u.useWorkerFetch&&(u.useWorkerFetch=u.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&u.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof u.isEvalSupported&&(u.isEvalSupported=!0),"boolean"!=typeof u.disableFontFace&&(u.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof u.useSystemFonts&&(u.useSystemFonts=!_is_node.isNodeJS&&!u.disableFontFace),typeof u.ownerDocument>"u"&&(u.ownerDocument=globalThis.document),"boolean"!=typeof u.disableRange&&(u.disableRange=!1),"boolean"!=typeof u.disableStream&&(u.disableStream=!1),"boolean"!=typeof u.disableAutoFetch&&(u.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(u.verbosity),!ne){const be={verbosity:u.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};ne=be.port?_PDFWorker.fromPort(be):new _PDFWorker(be),R._worker=ne}const f=R.docId;return ne.promise.then(function(){if(R.destroyed)throw new Error("Loading aborted");const be=_fetchDocument(ne,u,G,f),Se=new Promise(function(me){let Ae;G?Ae=new _transport_stream.PDFDataTransportStream({length:u.length,initialData:u.initialData,progressiveDone:u.progressiveDone,contentDispositionFilename:u.contentDispositionFilename,disableRange:u.disableRange,disableStream:u.disableStream},G):u.data||(Ae=createPDFNetworkStream({url:u.url,length:u.length,httpHeaders:u.httpHeaders,withCredentials:u.withCredentials,rangeChunkSize:u.rangeChunkSize,disableRange:u.disableRange,disableStream:u.disableStream})),me(Ae)});return Promise.all([be,Se]).then(function([me,Ae]){if(R.destroyed)throw new Error("Loading aborted");const Ve=new _message_handler.MessageHandler(f,me,ne.port),le=new WorkerTransport(Ve,R,Ae,u);R._transport=le,Ve.send("Ready",null)})}).catch(R._capability.reject),R}function _fetchDocument(Be,R,V,u){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(Be,R,V,u){if(Be.destroyed)throw new Error("Worker was destroyed");V&&(R.length=V.length,R.initialData=V.initialData,R.progressiveDone=V.progressiveDone,R.contentDispositionFilename=V.contentDispositionFilename);const G=yield Be.messageHandler.sendWithPromise("GetDocRequest",{docId:u,apiVersion:"2.13.216",source:{data:R.data,url:R.url,password:R.password,disableAutoFetch:R.disableAutoFetch,rangeChunkSize:R.rangeChunkSize,length:R.length},maxImageSize:R.maxImageSize,disableFontFace:R.disableFontFace,docBaseUrl:R.docBaseUrl,ignoreErrors:R.ignoreErrors,isEvalSupported:R.isEvalSupported,fontExtraProperties:R.fontExtraProperties,enableXfa:R.enableXfa,useSystemFonts:R.useSystemFonts,cMapUrl:R.useWorkerFetch?R.cMapUrl:null,standardFontDataUrl:R.useWorkerFetch?R.standardFontDataUrl:null});if(Be.destroyed)throw new Error("Worker was destroyed");return G})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var R=this;return _asyncToGenerator(function*(){R.destroyed=!0,yield R._transport?.destroy(),R._transport=null,R._worker&&(R._worker.destroy(),R._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(R,V,u=!1,G=null){this.length=R,this.initialData=V,this.progressiveDone=u,this.contentDispositionFilename=G,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(R){this._rangeListeners.push(R)}addProgressListener(R){this._progressListeners.push(R)}addProgressiveReadListener(R){this._progressiveReadListeners.push(R)}addProgressiveDoneListener(R){this._progressiveDoneListeners.push(R)}onDataRange(R,V){for(const u of this._rangeListeners)u(R,V)}onDataProgress(R,V){this._readyCapability.promise.then(()=>{for(const u of this._progressListeners)u(R,V)})}onDataProgressiveRead(R){this._readyCapability.promise.then(()=>{for(const V of this._progressiveReadListeners)V(R)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const R of this._progressiveDoneListeners)R()})}transportReady(){this._readyCapability.resolve()}requestDataRange(R,V){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(R,V){var G,u=this;this._pdfInfo=R,this._transport=V,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(G=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),u.stats||{streamTypes:{},fontTypes:{}}}),function(){return G.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(R){return this._transport.getPage(R)}getPageIndex(R){return this._transport.getPageIndex(R)}getDestinations(){return this._transport.getDestinations()}getDestination(R){return this._transport.getDestination(R)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(R=!1){return this._transport.startCleanup(R||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(R,V,u,G,ne=!1){this._pageIndex=R,this._pageInfo=V,this._ownerDocument=G,this._transport=u,this._stats=ne?new _display_utils.StatTimer:null,this._pdfBug=ne,this.commonObjs=u.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:R,rotation:V=this.rotate,offsetX:u=0,offsetY:G=0,dontFlip:ne=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:R,rotation:V,offsetX:u,offsetY:G,dontFlip:ne})}getAnnotations({intent:R="display"}={}){const V=this._transport.getRenderingIntent(R);let u=this._annotationPromises.get(V.cacheKey);return u||(u=this._transport.getAnnotations(this._pageIndex,V.renderingIntent),this._annotationPromises.set(V.cacheKey,u),u=u.then(G=>{for(const ne of G)void 0!==ne.titleObj&&Object.defineProperty(ne,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),ne.titleObj.str)}),void 0!==ne.contentsObj&&Object.defineProperty(ne,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),ne.contentsObj.str)});return G})),u}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var R=this;return _asyncToGenerator(function*(){return R._transport._htmlForXfa?.children[R._pageIndex]||null})()}render({canvasContext:R,viewport:V,intent:u="display",annotationMode:G=_util.AnnotationMode.ENABLE,transform:ne=null,imageLayer:f=null,canvasFactory:be=null,background:Se=null,optionalContentConfigPromise:me=null,annotationCanvasMap:Ae=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&G===_util.AnnotationMode.ENABLE&&(G=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&G===_util.AnnotationMode.ENABLE&&(G=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const Ve=this._transport.getRenderingIntent(u,G);this.pendingCleanup=!1,me||(me=this._transport.getOptionalContentConfig());let le=this._intentStates.get(Ve.cacheKey);le||(le=Object.create(null),this._intentStates.set(Ve.cacheKey,le)),le.streamReaderCancelTimeout&&(clearTimeout(le.streamReaderCancelTimeout),le.streamReaderCancelTimeout=null);const ue=be||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Ie=!!(Ve.renderingIntent&_util.RenderingIntentFlag.PRINT);le.displayReadyCapability||(le.displayReadyCapability=(0,_util.createPromiseCapability)(),le.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Ve));const ie=De=>{le.renderTasks.delete(re),(this.cleanupAfterRender||Ie)&&(this.pendingCleanup=!0),this._tryCleanup(),De?(re.capability.reject(De),this._abortOperatorList({intentState:le,reason:De instanceof Error?De:new Error(De)})):re.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},re=new InternalRenderTask({callback:ie,params:{canvasContext:R,viewport:V,transform:ne,imageLayer:f,background:Se},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ae,operatorList:le.operatorList,pageIndex:this._pageIndex,canvasFactory:ue,useRequestAnimationFrame:!Ie,pdfBug:this._pdfBug});(le.renderTasks||=new Set).add(re);const Ee=re.task;return Promise.all([le.displayReadyCapability.promise,me]).then(([De,Ce])=>{this.pendingCleanup?ie():(this._stats&&this._stats.time("Rendering"),re.initializeGraphics({transparency:De,optionalContentConfig:Ce}),re.operatorListChanged())}).catch(ie),Ee}getOperatorList({intent:R="display",annotationMode:V=_util.AnnotationMode.ENABLE}={}){const G=this._transport.getRenderingIntent(R,V,!0);let f,ne=this._intentStates.get(G.cacheKey);return ne||(ne=Object.create(null),this._intentStates.set(G.cacheKey,ne)),ne.opListReadCapability||(f=Object.create(null),f.operatorListChanged=function u(){ne.operatorList.lastChunk&&(ne.opListReadCapability.resolve(ne.operatorList),ne.renderTasks.delete(f))},ne.opListReadCapability=(0,_util.createPromiseCapability)(),(ne.renderTasks||=new Set).add(f),ne.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(G)),ne.opListReadCapability.promise}streamTextContent({disableCombineTextItems:R=!1,includeMarkedContent:V=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==R,includeMarkedContent:!0===V},{highWaterMark:100,size:G=>G.items.length})}getTextContent(R={}){if(this._transport._htmlForXfa)return this.getXfa().then(u=>_xfa_text.XfaText.textContent(u));const V=this.streamTextContent(R);return new Promise(function(u,G){const f=V.getReader(),be={items:[],styles:Object.create(null)};!function ne(){f.read().then(function({value:Se,done:me}){me?u(be):(Object.assign(be.styles,Se.styles),be.items.push(...Se.items),ne())},G)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const R=[];for(const V of this._intentStates.values())if(this._abortOperatorList({intentState:V,reason:new Error("Page was destroyed."),force:!0}),!V.opListReadCapability)for(const u of V.renderTasks)R.push(u.completed),u.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(R)}cleanup(R=!1){return this.pendingCleanup=!0,this._tryCleanup(R)}_tryCleanup(R=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:V,operatorList:u}of this._intentStates.values())if(V.size>0||!u.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,R&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(R,V){const u=this._intentStates.get(V);u&&(this._stats&&this._stats.timeEnd("Page Request"),u.displayReadyCapability&&u.displayReadyCapability.resolve(R))}_renderPageChunk(R,V){for(let u=0,G=R.length;u<G;u++)V.operatorList.fnArray.push(R.fnArray[u]),V.operatorList.argsArray.push(R.argsArray[u]);V.operatorList.lastChunk=R.lastChunk;for(const u of V.renderTasks)u.operatorListChanged();R.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:R,cacheKey:V}){const G=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:R,cacheKey:V,annotationStorage:R&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),ne=this._intentStates.get(V);ne.streamReader=G;const f=()=>{G.read().then(({value:be,done:Se})=>{Se?ne.streamReader=null:this._transport.destroyed||(this._renderPageChunk(be,ne),f())},be=>{if(ne.streamReader=null,!this._transport.destroyed){if(ne.operatorList){ne.operatorList.lastChunk=!0;for(const Se of ne.renderTasks)Se.operatorListChanged();this._tryCleanup()}if(ne.displayReadyCapability)ne.displayReadyCapability.reject(be);else{if(!ne.opListReadCapability)throw be;ne.opListReadCapability.reject(be)}}})};f()}_abortOperatorList({intentState:R,reason:V,force:u=!1}){if(R.streamReader){if(!u){if(R.renderTasks.size>0)return;if(V instanceof _display_utils.RenderingCancelledException)return void(R.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:R,reason:V,force:!0}),R.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(R.streamReader.cancel(new _util.AbortException(V.message)).catch(()=>{}),R.streamReader=null,!this._transport.destroyed){for(const[G,ne]of this._intentStates)if(ne===R){this._intentStates.delete(G);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(R,V){const u={data:structuredClone(R,V)};this._deferred.then(()=>{for(const G of this._listeners)G.call(this,u)})}addEventListener(R,V){this._listeners.push(V)}removeEventListener(R,V){const u=this._listeners.indexOf(V);this._listeners.splice(u,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const Be=document?.currentScript?.src;Be&&(PDFWorkerUtil.fallbackWorkerSrc=Be.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(Be){return URL.createObjectURL(new Blob([`importScripts("${Be}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:Be=null,port:R=null,verbosity:V=(0,_util.getVerbosityLevel)()}={}){if(R&&_PDFWorker._workerPorts.has(R))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Be,this.destroyed=!1,this.verbosity=V,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,R)return _PDFWorker._workerPorts.set(R,this),void this._initializeFromPort(R);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Be){this._port=Be,this._messageHandler=new _message_handler.MessageHandler("main","worker",Be),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let Be=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,Be)||(Be=PDFWorkerUtil.createCDNWrapper(new URL(Be,window.location).href));const R=new Worker(Be),V=new _message_handler.MessageHandler("main","worker",R),u=()=>{R.removeEventListener("error",G),V.destroy(),R.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},G=()=>{this._webWorker||u()};R.addEventListener("error",G),V.on("test",f=>{R.removeEventListener("error",G),this.destroyed?u():f?(this._messageHandler=V,this._port=R,this._webWorker=R,this._readyCapability.resolve(),V.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),V.destroy(),R.terminate())}),V.on("ready",f=>{if(R.removeEventListener("error",G),this.destroyed)u();else try{ne()}catch{this._setupFakeWorker()}});const ne=()=>{const f=new Uint8Array([255]);try{V.send("test",f,[f.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),f[0]=0,V.send("test",f)}};return void ne()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Be=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const R=new LoopbackPort;this._port=R;const V="fake"+PDFWorkerUtil.fakeWorkerId++,u=new _message_handler.MessageHandler(V+"_worker",V,R);Be.setup(u,R);const G=new _message_handler.MessageHandler(V,V+"_worker",R);this._messageHandler=G,this._readyCapability.resolve(),G.send("configure",{verbosity:this.verbosity})}).catch(Be=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Be.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Be){if(!Be?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(Be.port)?this._workerPorts.get(Be.port):new _PDFWorker(Be)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function Be(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(R,V,u,G){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=R,this.loadingTask=V,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:V.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:G.ownerDocument,styleElement:G.styleElement}),this._params=G,G.useWorkerFetch||(this.CMapReaderFactory=new G.CMapReaderFactory({baseUrl:G.cMapUrl,isCompressed:G.cMapPacked}),this.StandardFontDataFactory=new G.StandardFontDataFactory({baseUrl:G.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=u,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(R,V=_util.AnnotationMode.ENABLE,u=!1){let G=_util.RenderingIntentFlag.DISPLAY,ne="";switch(R){case"any":G=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":G=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${R}`)}switch(V){case _util.AnnotationMode.DISABLE:G+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:G+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:G+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,ne=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${V}`)}return u&&(G+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:G,cacheKey:`${G}_${ne}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const R=[];for(const u of _classPrivateFieldGet(this,_pageCache).values())R.push(u._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const V=this.messageHandler.sendWithPromise("Terminate",null);return R.push(V),Promise.all(R).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:R,loadingTask:V}=this;R.on("GetReader",(u,G)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ne=>{this._lastProgress={loaded:ne.loaded,total:ne.total}},G.onPull=()=>{this._fullReader.read().then(function({value:ne,done:f}){f?G.close():((0,_util.assert)((0,_util.isArrayBuffer)(ne),"GetReader - expected an ArrayBuffer."),G.enqueue(new Uint8Array(ne),1,[ne]))}).catch(ne=>{G.error(ne)})},G.onCancel=ne=>{this._fullReader.cancel(ne),G.ready.catch(f=>{if(!this.destroyed)throw f})}}),R.on("ReaderHeadersReady",u=>{const G=(0,_util.createPromiseCapability)(),ne=this._fullReader;return ne.headersReady.then(()=>{(!ne.isStreamingSupported||!ne.isRangeSupported)&&(this._lastProgress&&V.onProgress?.(this._lastProgress),ne.onProgress=f=>{V.onProgress?.({loaded:f.loaded,total:f.total})}),G.resolve({isStreamingSupported:ne.isStreamingSupported,isRangeSupported:ne.isRangeSupported,contentLength:ne.contentLength})},G.reject),G.promise}),R.on("GetRangeReader",(u,G)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ne=this._networkStream.getRangeReader(u.begin,u.end);ne?(G.onPull=()=>{ne.read().then(function({value:f,done:be}){be?G.close():((0,_util.assert)((0,_util.isArrayBuffer)(f),"GetRangeReader - expected an ArrayBuffer."),G.enqueue(new Uint8Array(f),1,[f]))}).catch(f=>{G.error(f)})},G.onCancel=f=>{ne.cancel(f),G.ready.catch(be=>{if(!this.destroyed)throw be})}):G.close()}),R.on("GetDoc",({pdfInfo:u})=>{this._numPages=u.numPages,this._htmlForXfa=u.htmlForXfa,delete u.htmlForXfa,V._capability.resolve(new PDFDocumentProxy(u,this))}),R.on("DocException",function(u){let G;switch(u.name){case"PasswordException":G=new _util.PasswordException(u.message,u.code);break;case"InvalidPDFException":G=new _util.InvalidPDFException(u.message);break;case"MissingPDFException":G=new _util.MissingPDFException(u.message);break;case"UnexpectedResponseException":G=new _util.UnexpectedResponseException(u.message,u.status);break;case"UnknownErrorException":G=new _util.UnknownErrorException(u.message,u.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}V._capability.reject(G)}),R.on("PasswordRequest",u=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),V.onPassword){const G=ne=>{ne instanceof Error?this._passwordCapability.reject(ne):this._passwordCapability.resolve({password:ne})};try{V.onPassword(G,u.code)}catch(ne){this._passwordCapability.reject(ne)}}else this._passwordCapability.reject(new _util.PasswordException(u.message,u.code));return this._passwordCapability.promise}),R.on("DataLoaded",u=>{V.onProgress?.({loaded:u.length,total:u.length}),this.downloadInfoCapability.resolve(u)}),R.on("StartRenderPage",u=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(u.pageIndex)._startRenderPage(u.transparency,u.cacheKey)}),R.on("commonobj",([u,G,ne])=>{if(!this.destroyed&&!this.commonObjs.has(u))switch(G){case"Font":const f=this._params;if("error"in ne){const me=ne.error;(0,_util.warn)(`Error during font loading: ${me}`),this.commonObjs.resolve(u,me);break}let be=null;f.pdfBug&&globalThis.FontInspector?.enabled&&(be={registerFont(me,Ae){globalThis.FontInspector.fontAdded(me,Ae)}});const Se=new _font_loader.FontFaceObject(ne,{isEvalSupported:f.isEvalSupported,disableFontFace:f.disableFontFace,ignoreErrors:f.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:be});this.fontLoader.bind(Se).catch(me=>R.sendWithPromise("FontFallback",{id:u})).finally(()=>{!f.fontExtraProperties&&Se.data&&(Se.data=null),this.commonObjs.resolve(u,Se)});break;case"FontPath":case"Image":this.commonObjs.resolve(u,ne);break;default:throw new Error(`Got unknown common object type ${G}`)}}),R.on("obj",([u,G,ne,f])=>{if(this.destroyed)return;const be=_classPrivateFieldGet(this,_pageCache).get(G);if(!be.objs.has(u))switch(ne){case"Image":be.objs.resolve(u,f),f?.data?.length>8e6&&(be.cleanupAfterRender=!0);break;case"Pattern":be.objs.resolve(u,f);break;default:throw new Error(`Got unknown object type ${ne}`)}}),R.on("DocProgress",u=>{this.destroyed||V.onProgress?.({loaded:u.loaded,total:u.total})}),R.on("DocStats",u=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(u.streamTypes),fontTypes:Object.freeze(u.fontTypes)}))}),R.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),R.on("FetchBuiltInCMap",u=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(u):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),R.on("FetchStandardFontData",u=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(u):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:R}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(R)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(R){if(!Number.isInteger(R)||R<=0||R>this._numPages)return Promise.reject(new Error("Invalid page request."));const V=R-1,u=_classPrivateFieldGet(this,_pagePromises).get(V);if(u)return u;const G=this.messageHandler.sendWithPromise("GetPage",{pageIndex:V}).then(ne=>{if(this.destroyed)throw new Error("Transport destroyed");const f=new PDFPageProxy(V,ne,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(V,f),f});return _classPrivateFieldGet(this,_pagePromises).set(V,G),G}getPageIndex(R){return"object"!=typeof R||null===R||!Number.isInteger(R.num)||R.num<0||!Number.isInteger(R.gen)||R.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:R.num,gen:R.gen})}getAnnotations(R,V){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:R,intent:V})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(R){return"string"!=typeof R?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:R})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(R){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:R})}getStructTree(R){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:R})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(R=>new _optional_content_config.OptionalContentConfig(R))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(R=>({info:R[0],metadata:R[1]?new _metadata.Metadata(R[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(R=!1){var V=this;return _asyncToGenerator(function*(){if(yield V.messageHandler.sendWithPromise("Cleanup",null),!V.destroyed){for(const u of _classPrivateFieldGet(V,_pageCache).values())if(!u.cleanup())throw new Error(`startCleanup: Page ${u.pageNumber} is currently rendering.`);V.commonObjs.clear(),R||V.fontLoader.clear(),_classPrivateFieldSet(V,_metadataPromise,null),V._getFieldObjectsPromise=null,V._hasJSActionsPromise=null}})()}get loadingParams(){const R=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:R.disableAutoFetch,enableXfa:R.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(R,V=null){if(V){const G=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,R);return G.capability.promise.then(()=>V(G.data)),null}const u=_classPrivateFieldGet(this,_objs)[R];if(!u?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${R}.`);return u.data}has(R){return _classPrivateFieldGet(this,_objs)[R]?.capability.settled||!1}resolve(R,V=null){const u=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,R);u.data=V,u.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(Be){return _classPrivateFieldGet(this,_objs)[Be]||(_classPrivateFieldGet(this,_objs)[Be]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(R){this._internalRenderTask=R,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:R,params:V,objs:u,commonObjs:G,annotationCanvasMap:ne,operatorList:f,pageIndex:be,canvasFactory:Se,useRequestAnimationFrame:me=!1,pdfBug:Ae=!1}){this.callback=R,this.params=V,this.objs=u,this.commonObjs=G,this.annotationCanvasMap=ne,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=be,this.canvasFactory=Se,this._pdfBug=Ae,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===me&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=V.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:R=!1,optionalContentConfig:V}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:u,viewport:G,transform:ne,imageLayer:f,background:be}=this.params;this.gfx=new _canvas.CanvasGraphics(u,this.commonObjs,this.objs,this.canvasFactory,f,V,this.annotationCanvasMap),this.gfx.beginDrawing({transform:ne,viewport:G,transparency:R,background:be}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(R=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(R||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var R=this;return _asyncToGenerator(function*(){R.cancelled||(R.operatorListIdx=R.gfx.executeOperatorList(R.operatorList,R.operatorListIdx,R._continueBound,R.stepper),R.operatorListIdx===R.operatorList.argsArray.length&&(R.running=!1,R.operatorList.lastChunk&&(R.gfx.endDrawing(),R._canvas&&InternalRenderTask.canvasInUse.delete(R._canvas),R.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(Be,R,V)=>{var u;Object.defineProperty(R,"__esModule",{value:!0}),R.StatTimer=R.RenderingCancelledException=R.PixelsPerInch=R.PageViewport=R.PDFDateString=R.DOMStandardFontDataFactory=R.DOMSVGFactory=R.DOMCanvasFactory=R.DOMCMapReaderFactory=void 0,R.deprecated=function Y(Q){console.log("Deprecated API usage: "+Q)},R.getFilenameFromUrl=function De(Q){const k=Q.indexOf("#"),he=Q.indexOf("?"),Te=Math.min(k>0?k:Q.length,he>0?he:Q.length);return Q.substring(Q.lastIndexOf("/",Te)+1,Te)},R.getPdfFilenameFromUrl=function Ce(Q,k="document.pdf"){if("string"!=typeof Q)return k;if(re(Q))return(0,ne.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),k;const Te=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ke=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(Q);let He=Te.exec(ke[1])||Te.exec(ke[2])||Te.exec(ke[3]);if(He&&(He=He[0],He.includes("%")))try{He=Te.exec(decodeURIComponent(He))[0]}catch{}return He||k},R.getXfaPageViewport=function Re(Q,{scale:k=1,rotation:he=0}){const{width:Te,height:ke}=Q.attributes.style,He=[0,0,parseInt(Te),parseInt(ke)];return new Ie({viewBox:He,scale:k,rotation:he})},R.isDataScheme=re,R.isPdfFile=function Ee(Q){return"string"==typeof Q&&/\.pdf$/i.test(Q)},R.isValidFetchUrl=P,R.loadScript=function A(Q,k=!1){return new Promise((he,Te)=>{const ke=document.createElement("script");ke.src=Q,ke.onload=function(He){k&&ke.remove(),he(He)},ke.onerror=function(){Te(new Error(`Cannot load script at: ${ke.src}`))},(document.head||document.documentElement).appendChild(ke)})};var G=V(6),ne=V(1);class be{}function me(Q){return Ae.apply(this,arguments)}function Ae(){return(Ae=_asyncToGenerator(function*(Q,k=!1){if(P(Q,document.baseURI)){const he=yield fetch(Q);if(!he.ok)throw new Error(he.statusText);return k?new Uint8Array(yield he.arrayBuffer()):(0,ne.stringToBytes)(yield he.text())}return new Promise((he,Te)=>{const ke=new XMLHttpRequest;ke.open("GET",Q,!0),k&&(ke.responseType="arraybuffer"),ke.onreadystatechange=()=>{if(ke.readyState===XMLHttpRequest.DONE){if(200===ke.status||0===ke.status){let He;if(k&&ke.response?He=new Uint8Array(ke.response):!k&&ke.responseText&&(He=(0,ne.stringToBytes)(ke.responseText)),He)return void he(He)}Te(new Error(ke.statusText))}},ke.send(null)})})).apply(this,arguments)}u=be,_defineProperty(be,"CSS",96),_defineProperty(be,"PDF",72),_defineProperty(be,"PDF_TO_CSS_UNITS",u.CSS/u.PDF),R.PixelsPerInch=be,R.DOMCanvasFactory=class Se extends G.BaseCanvasFactory{constructor({ownerDocument:k=globalThis.document}={}){super(),this._document=k}_createCanvas(k,he){const Te=this._document.createElement("canvas");return Te.width=k,Te.height=he,Te}},R.DOMCMapReaderFactory=class Ve extends G.BaseCMapReaderFactory{_fetchData(k,he){return me(k,this.isCompressed).then(Te=>({cMapData:Te,compressionType:he}))}},R.DOMStandardFontDataFactory=class le extends G.BaseStandardFontDataFactory{_fetchData(k){return me(k,!0)}},R.DOMSVGFactory=class ue extends G.BaseSVGFactory{_createSVG(k){return document.createElementNS("http://www.w3.org/2000/svg",k)}};class Ie{constructor({viewBox:k,scale:he,rotation:Te,offsetX:ke=0,offsetY:He=0,dontFlip:Ue=!1}){this.viewBox=k,this.scale=he,this.rotation=Te,this.offsetX=ke,this.offsetY=He;const ot=(k[2]+k[0])/2,we=(k[3]+k[1])/2;let te,H,$,N,w,M,W,ge;switch((Te%=360)<0&&(Te+=360),Te){case 180:te=-1,H=0,$=0,N=1;break;case 90:te=0,H=1,$=1,N=0;break;case 270:te=0,H=-1,$=-1,N=0;break;case 0:te=1,H=0,$=0,N=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ue&&($=-$,N=-N),0===te?(w=Math.abs(we-k[1])*he+ke,M=Math.abs(ot-k[0])*he+He,W=Math.abs(k[3]-k[1])*he,ge=Math.abs(k[2]-k[0])*he):(w=Math.abs(ot-k[0])*he+ke,M=Math.abs(we-k[1])*he+He,W=Math.abs(k[2]-k[0])*he,ge=Math.abs(k[3]-k[1])*he),this.transform=[te*he,H*he,$*he,N*he,w-te*he*ot-$*he*we,M-H*he*ot-N*he*we],this.width=W,this.height=ge}clone({scale:k=this.scale,rotation:he=this.rotation,offsetX:Te=this.offsetX,offsetY:ke=this.offsetY,dontFlip:He=!1}={}){return new Ie({viewBox:this.viewBox.slice(),scale:k,rotation:he,offsetX:Te,offsetY:ke,dontFlip:He})}convertToViewportPoint(k,he){return ne.Util.applyTransform([k,he],this.transform)}convertToViewportRectangle(k){const he=ne.Util.applyTransform([k[0],k[1]],this.transform),Te=ne.Util.applyTransform([k[2],k[3]],this.transform);return[he[0],he[1],Te[0],Te[1]]}convertToPdfPoint(k,he){return ne.Util.applyInverseTransform([k,he],this.transform)}}function re(Q){const k=Q.length;let he=0;for(;he<k&&""===Q[he].trim();)he++;return"data:"===Q.substring(he,he+5).toLowerCase()}function P(Q,k){try{const{protocol:he}=k?new URL(Q,k):new URL(Q);return"http:"===he||"https:"===he}catch{return!1}}let pe;R.PageViewport=Ie,R.RenderingCancelledException=class ie extends ne.BaseException{constructor(k,he){super(k,"RenderingCancelledException"),this.type=he}},R.StatTimer=class ye{constructor(){this.started=Object.create(null),this.times=[]}time(k){k in this.started&&(0,ne.warn)(`Timer is already running for ${k}`),this.started[k]=Date.now()}timeEnd(k){k in this.started||(0,ne.warn)(`Timer has not been started for ${k}`),this.times.push({name:k,start:this.started[k],end:Date.now()}),delete this.started[k]}toString(){const k=[];let he=0;for(const Te of this.times){const ke=Te.name;ke.length>he&&(he=ke.length)}for(const Te of this.times){const ke=Te.end-Te.start;k.push(`${Te.name.padEnd(he)} ${ke}ms\n`)}return k.join("")}},R.PDFDateString=class J{static toDateObject(k){if(!k||"string"!=typeof k)return null;pe||(pe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const he=pe.exec(k);if(!he)return null;const Te=parseInt(he[1],10);let ke=parseInt(he[2],10);ke=ke>=1&&ke<=12?ke-1:0;let He=parseInt(he[3],10);He=He>=1&&He<=31?He:1;let Ue=parseInt(he[4],10);Ue=Ue>=0&&Ue<=23?Ue:0;let ot=parseInt(he[5],10);ot=ot>=0&&ot<=59?ot:0;let we=parseInt(he[6],10);we=we>=0&&we<=59?we:0;const te=he[7]||"Z";let H=parseInt(he[8],10);H=H>=0&&H<=23?H:0;let $=parseInt(he[9],10)||0;return $=$>=0&&$<=59?$:0,"-"===te?(Ue+=H,ot+=$):"+"===te&&(Ue-=H,ot-=$),new Date(Date.UTC(Te,ke,He,Ue,ot,we))}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.BaseStandardFontDataFactory=R.BaseSVGFactory=R.BaseCanvasFactory=R.BaseCMapReaderFactory=void 0;var u=V(1);class G{constructor(){this.constructor===G&&(0,u.unreachable)("Cannot initialize BaseCanvasFactory.")}create(me,Ae){if(me<=0||Ae<=0)throw new Error("Invalid canvas size");const Ve=this._createCanvas(me,Ae);return{canvas:Ve,context:Ve.getContext("2d")}}reset(me,Ae,Ve){if(!me.canvas)throw new Error("Canvas is not specified");if(Ae<=0||Ve<=0)throw new Error("Invalid canvas size");me.canvas.width=Ae,me.canvas.height=Ve}destroy(me){if(!me.canvas)throw new Error("Canvas is not specified");me.canvas.width=0,me.canvas.height=0,me.canvas=null,me.context=null}_createCanvas(me,Ae){(0,u.unreachable)("Abstract method `_createCanvas` called.")}}R.BaseCanvasFactory=G;class ne{constructor({baseUrl:me=null,isCompressed:Ae=!1}){this.constructor===ne&&(0,u.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=me,this.isCompressed=Ae}fetch({name:me}){var Ae=this;return _asyncToGenerator(function*(){if(!Ae.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!me)throw new Error("CMap name must be specified.");const Ve=Ae.baseUrl+me+(Ae.isCompressed?".bcmap":"");return Ae._fetchData(Ve,Ae.isCompressed?u.CMapCompressionType.BINARY:u.CMapCompressionType.NONE).catch(ue=>{throw new Error(`Unable to load ${Ae.isCompressed?"binary ":""}CMap at: ${Ve}`)})})()}_fetchData(me,Ae){(0,u.unreachable)("Abstract method `_fetchData` called.")}}R.BaseCMapReaderFactory=ne;class f{constructor({baseUrl:me=null}){this.constructor===f&&(0,u.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=me}fetch({filename:me}){var Ae=this;return _asyncToGenerator(function*(){if(!Ae.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!me)throw new Error("Font filename must be specified.");const Ve=`${Ae.baseUrl}${me}`;return Ae._fetchData(Ve).catch(le=>{throw new Error(`Unable to load font data at: ${Ve}`)})})()}_fetchData(me){(0,u.unreachable)("Abstract method `_fetchData` called.")}}R.BaseStandardFontDataFactory=f;class be{constructor(){this.constructor===be&&(0,u.unreachable)("Cannot initialize BaseSVGFactory.")}create(me,Ae){if(me<=0||Ae<=0)throw new Error("Invalid SVG dimensions");const Ve=this._createSVG("svg:svg");return Ve.setAttribute("version","1.1"),Ve.setAttribute("width",`${me}px`),Ve.setAttribute("height",`${Ae}px`),Ve.setAttribute("preserveAspectRatio","none"),Ve.setAttribute("viewBox",`0 0 ${me} ${Ae}`),Ve}createElement(me){if("string"!=typeof me)throw new Error("Invalid SVG element type");return this._createSVG(me)}_createSVG(me){(0,u.unreachable)("Abstract method `_createSVG` called.")}}R.BaseSVGFactory=be},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.FontLoader=R.FontFaceObject=void 0;var u=V(1);class G{constructor({docId:Se,onUnsupportedFeature:me,ownerDocument:Ae=globalThis.document,styleElement:Ve=null}){this.constructor===G&&(0,u.unreachable)("Cannot initialize BaseFontLoader."),this.docId=Se,this._onUnsupportedFeature=me,this._document=Ae,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(Se){this.nativeFontFaces.push(Se),this._document.fonts.add(Se)}insertRule(Se){let me=this.styleElement;me||(me=this.styleElement=this._document.createElement("style"),me.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(me));const Ae=me.sheet;Ae.insertRule(Se,Ae.cssRules.length)}clear(){for(const Se of this.nativeFontFaces)this._document.fonts.delete(Se);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(Se){var me=this;return _asyncToGenerator(function*(){if(Se.attached||Se.missingFile)return;if(Se.attached=!0,me.isFontLoadingAPISupported){const Ve=Se.createNativeFontFace();if(Ve){me.addNativeFontFace(Ve);try{yield Ve.loaded}catch(le){throw me._onUnsupportedFeature({featureId:u.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,u.warn)(`Failed to load font '${Ve.family}': '${le}'.`),Se.disableFontFace=!0,le}}return}const Ae=Se.createFontFaceRule();if(Ae){if(me.insertRule(Ae),me.isSyncFontLoadingSupported)return;yield new Promise(Ve=>{const le=me._queueLoadingCallback(Ve);me._prepareFontLoadEvent([Ae],[Se],le)})}})()}_queueLoadingCallback(Se){(0,u.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,u.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,u.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,u.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(Se,me,Ae){(0,u.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ne;R.FontLoader=ne,R.FontLoader=ne=class extends G{constructor(Se){super(Se),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let Se=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(Se=!0),(0,u.shadow)(this,"isSyncFontLoadingSupported",Se)}_queueLoadingCallback(Se){const Ae=this.loadingContext,Ve={id:"pdfjs-font-loading-"+Ae.nextRequestId++,done:!1,complete:function me(){for((0,u.assert)(!Ve.done,"completeRequest() cannot be called twice."),Ve.done=!0;Ae.requests.length>0&&Ae.requests[0].done;){const le=Ae.requests.shift();setTimeout(le.callback,0)}},callback:Se};return Ae.requests.push(Ve),Ve}get _loadTestFont(){return(0,u.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(Se,me,Ae){function Ve(he,Te){return he.charCodeAt(Te)<<24|he.charCodeAt(Te+1)<<16|he.charCodeAt(Te+2)<<8|255&he.charCodeAt(Te+3)}function le(he,Te,ke,He){return he.substring(0,Te)+He+he.substring(Te+ke)}let ue,Ie;const ie=this._document.createElement("canvas");ie.width=1,ie.height=1;const re=ie.getContext("2d");let Ee=0;const Ce=`lt${Date.now()}${this.loadTestFontId++}`;let ye=this._loadTestFont;ye=le(ye,976,Ce.length,Ce);const Y=1482184792;let pe=Ve(ye,16);for(ue=0,Ie=Ce.length-3;ue<Ie;ue+=4)pe=pe-Y+Ve(Ce,ue)|0;ue<Ce.length&&(pe=pe-Y+Ve(Ce+"XXX",ue)|0),ye=le(ye,16,4,(0,u.string32)(pe));const J=`url(data:font/opentype;base64,${btoa(ye)});`;this.insertRule(`@font-face {font-family:"${Ce}";src:${J}}`);const Q=[];for(const he of me)Q.push(he.loadedName);Q.push(Ce);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const he of Q){const Te=this._document.createElement("span");Te.textContent="Hi",Te.style.fontFamily=he,k.appendChild(Te)}this._document.body.appendChild(k),function De(he,Te){if(Ee++,Ee>30)return(0,u.warn)("Load test font never loaded."),void Te();re.font="30px "+he,re.fillText(".",0,20),re.getImageData(0,0,1,1).data[3]>0?Te():setTimeout(De.bind(null,he,Te))}(Ce,()=>{k.remove(),Ae.complete()})}},R.FontFaceObject=class f{constructor(Se,{isEvalSupported:me=!0,disableFontFace:Ae=!1,ignoreErrors:Ve=!1,onUnsupportedFeature:le,fontRegistry:ue=null}){this.compiledGlyphs=Object.create(null);for(const Ie in Se)this[Ie]=Se[Ie];this.isEvalSupported=!1!==me,this.disableFontFace=!0===Ae,this.ignoreErrors=!0===Ve,this._onUnsupportedFeature=le,this.fontRegistry=ue}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let Se;if(this.cssFontInfo){const me={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(me.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Se=new FontFace(this.cssFontInfo.fontFamily,this.data,me)}else Se=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),Se}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const Se=(0,u.bytesToString)(this.data),me=`url(data:${this.mimetype};base64,${btoa(Se)});`;let Ae;if(this.cssFontInfo){let Ve=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Ve+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Ae=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Ve}src:${me}}`}else Ae=`@font-face {font-family:"${this.loadedName}";src:${me}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,me),Ae}getPathGenerator(Se,me){if(void 0!==this.compiledGlyphs[me])return this.compiledGlyphs[me];let Ae;try{Ae=Se.get(this.loadedName+"_path_"+me)}catch(Ve){if(!this.ignoreErrors)throw Ve;return this._onUnsupportedFeature({featureId:u.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,u.warn)(`getPathGenerator - ignoring character: "${Ve}".`),this.compiledGlyphs[me]=function(le,ue){}}if(this.isEvalSupported&&u.IsEvalSupportedCached.value){const Ve=[];for(const le of Ae){const ue=void 0!==le.args?le.args.join(","):"";Ve.push("c.",le.cmd,"(",ue,");\n")}return this.compiledGlyphs[me]=new Function("c","size",Ve.join(""))}return this.compiledGlyphs[me]=function(Ve,le){for(const ue of Ae)"scale"===ue.cmd&&(ue.args=[le,-le]),Ve[ue.cmd].apply(Ve,ue.args)}}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.NodeStandardFontDataFactory=R.NodeCanvasFactory=R.NodeCMapReaderFactory=void 0;var u=V(6),G=V(3),ne=V(1);let f=class{constructor(){(0,ne.unreachable)("Not implemented: NodeCanvasFactory")}};R.NodeCanvasFactory=f;let be=class{constructor(){(0,ne.unreachable)("Not implemented: NodeCMapReaderFactory")}};R.NodeCMapReaderFactory=be;let Se=class{constructor(){(0,ne.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(R.NodeStandardFontDataFactory=Se,G.isNodeJS){const me=function(Ae){return new Promise((Ve,le)=>{__webpack_require__(172).readFile(Ae,(Ie,ie)=>{!Ie&&ie?Ve(new Uint8Array(ie)):le(new Error(Ie))})})};R.NodeCanvasFactory=f=class extends u.BaseCanvasFactory{_createCanvas(Ae,Ve){return __webpack_require__(3414).createCanvas(Ae,Ve)}},R.NodeCMapReaderFactory=be=class extends u.BaseCMapReaderFactory{_fetchData(Ae,Ve){return me(Ae).then(le=>({cMapData:le,compressionType:Ve}))}},R.NodeStandardFontDataFactory=Se=class extends u.BaseStandardFontDataFactory{_fetchData(Ae){return me(Ae)}}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.AnnotationStorage=void 0;var u=V(1);R.AnnotationStorage=class G{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(f,be){const Se=this._storage.get(f);return void 0===Se?be:Object.assign(be,Se)}setValue(f,be){const Se=this._storage.get(f);let me=!1;if(void 0!==Se)for(const[Ae,Ve]of Object.entries(be))Se[Ae]!==Ve&&(me=!0,Se[Ae]=Ve);else me=!0,this._storage.set(f,be);me&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,u.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.CanvasGraphics=void 0;var u=V(1),G=V(11),ne=V(5);const Se=4096,ue=16,Ie=1.000001;function re(we){if(we._transformStack&&(we._transformStack=[]),!we.mozCurrentTransform){we._originalSave=we.save,we._originalRestore=we.restore,we._originalRotate=we.rotate,we._originalScale=we.scale,we._originalTranslate=we.translate,we._originalTransform=we.transform,we._originalSetTransform=we.setTransform,we._originalResetTransform=we.resetTransform,we._transformMatrix=we._transformMatrix||[1,0,0,1,0,0],we._transformStack=[];try{const te=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(we),"lineWidth");we._setLineWidth=te.set,we._getLineWidth=te.get,Object.defineProperty(we,"lineWidth",{set:function($){this._setLineWidth($*Ie)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(we,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(we,"mozCurrentTransformInverse",{get:function(){const[H,$,N,w,M,W]=this._transformMatrix,ge=H*w-$*N,de=$*N-H*w;return[w/ge,$/de,N/de,H/ge,(w*M-N*W)/de,($*M-H*W)/ge]}}),we.save=function(){const H=this._transformMatrix;this._transformStack.push(H),this._transformMatrix=H.slice(0,6),this._originalSave()},we.restore=function(){0===this._transformStack.length&&(0,u.warn)("Tried to restore a ctx when the stack was already empty.");const H=this._transformStack.pop();H&&(this._transformMatrix=H,this._originalRestore())},we.translate=function(H,$){const N=this._transformMatrix;N[4]=N[0]*H+N[2]*$+N[4],N[5]=N[1]*H+N[3]*$+N[5],this._originalTranslate(H,$)},we.scale=function(H,$){const N=this._transformMatrix;N[0]*=H,N[1]*=H,N[2]*=$,N[3]*=$,this._originalScale(H,$)},we.transform=function(H,$,N,w,M,W){const ge=this._transformMatrix;this._transformMatrix=[ge[0]*H+ge[2]*$,ge[1]*H+ge[3]*$,ge[0]*N+ge[2]*w,ge[1]*N+ge[3]*w,ge[0]*M+ge[2]*W+ge[4],ge[1]*M+ge[3]*W+ge[5]],we._originalTransform(H,$,N,w,M,W)},we.setTransform=function(H,$,N,w,M,W){this._transformMatrix=[H,$,N,w,M,W],we._originalSetTransform(H,$,N,w,M,W)},we.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],we._originalResetTransform()},we.rotate=function(H){const $=Math.cos(H),N=Math.sin(H),w=this._transformMatrix;this._transformMatrix=[w[0]*$+w[2]*N,w[1]*$+w[3]*N,w[0]*-N+w[2]*$,w[1]*-N+w[3]*$,w[4],w[5]],this._originalRotate(H)}}}class Ee{constructor(te){this.canvasFactory=te,this.cache=Object.create(null)}getCanvas(te,H,$,N){let w;return void 0!==this.cache[te]?(w=this.cache[te],this.canvasFactory.reset(w,H,$),w.context.setTransform(1,0,0,1,0,0)):(w=this.canvasFactory.create(H,$),this.cache[te]=w),N&&re(w.context),w}clear(){for(const te in this.cache)this.canvasFactory.destroy(this.cache[te]),delete this.cache[te]}}class Ce{constructor(te,H){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=u.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=u.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=u.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,te,H])}clone(){const te=Object.create(this);return te.clipBox=this.clipBox.slice(),te}setCurrentPoint(te,H){this.x=te,this.y=H}updatePathMinMax(te,H,$){[H,$]=u.Util.applyTransform([H,$],te),this.minX=Math.min(this.minX,H),this.minY=Math.min(this.minY,$),this.maxX=Math.max(this.maxX,H),this.maxY=Math.max(this.maxY,$)}updateCurvePathMinMax(te,H,$,N,w,M,W,ge,de){const ee=u.Util.bezierBoundingBox(H,$,N,w,M,W,ge,de);this.updatePathMinMax(te,ee[0],ee[1]),this.updatePathMinMax(te,ee[2],ee[3])}getPathBoundingBox(te=G.PathType.FILL,H=null){const $=[this.minX,this.minY,this.maxX,this.maxY];if(te===G.PathType.STROKE){H||(0,u.unreachable)("Stroke bounding box must include transform.");const N=u.Util.singularValueDecompose2dScale(H),w=N[0]*this.lineWidth/2,M=N[1]*this.lineWidth/2;$[0]-=w,$[1]-=M,$[2]+=w,$[3]+=M}return $}updateClipFromPath(){const te=u.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(te||[0,0,0,0])}startNewPathAndClipBox(te){this.clipBox=te,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(te=G.PathType.FILL,H=null){return u.Util.intersect(this.clipBox,this.getPathBoundingBox(te,H))}}function ye(we,te,H=null){if(typeof ImageData<"u"&&te instanceof ImageData)return void we.putImageData(te,0,0);const $=te.height,N=te.width,w=$%ue,M=($-w)/ue,W=0===w?M:M+1,ge=we.createImageData(N,ue);let ee,de=0;const We=te.data,Ze=ge.data;let Xe,Ke,mt,Lt,$t,Bt,kt,Zt;if(H)switch(H.length){case 1:$t=H[0],Bt=H[0],kt=H[0],Zt=H[0];break;case 4:$t=H[0],Bt=H[1],kt=H[2],Zt=H[3]}if(te.kind===u.ImageKind.GRAYSCALE_1BPP){const mn=We.byteLength,Xt=new Uint32Array(Ze.buffer,0,Ze.byteLength>>2),Jt=Xt.length,Hn=N+7>>3;let _t=4294967295,Me=u.IsLittleEndianCached.value?4278190080:255;for(Zt&&255===Zt[0]&&0===Zt[255]&&([_t,Me]=[Me,_t]),Xe=0;Xe<W;Xe++){for(mt=Xe<M?ue:w,ee=0,Ke=0;Ke<mt;Ke++){const nt=mn-de;let dt=0;const At=nt>Hn?N:8*nt-7,Qe=-8&At;let yt=0,Wt=0;for(;dt<Qe;dt+=8)Wt=We[de++],Xt[ee++]=128&Wt?_t:Me,Xt[ee++]=64&Wt?_t:Me,Xt[ee++]=32&Wt?_t:Me,Xt[ee++]=16&Wt?_t:Me,Xt[ee++]=8&Wt?_t:Me,Xt[ee++]=4&Wt?_t:Me,Xt[ee++]=2&Wt?_t:Me,Xt[ee++]=1&Wt?_t:Me;for(;dt<At;dt++)0===yt&&(Wt=We[de++],yt=128),Xt[ee++]=Wt&yt?_t:Me,yt>>=1}for(;ee<Jt;)Xt[ee++]=0;we.putImageData(ge,0,Xe*ue)}}else if(te.kind===u.ImageKind.RGBA_32BPP){const mn=!!($t||Bt||kt);for(Ke=0,Lt=N*ue*4,Xe=0;Xe<M;Xe++){if(Ze.set(We.subarray(de,de+Lt)),de+=Lt,mn)for(let Xt=0;Xt<Lt;Xt+=4)$t&&(Ze[Xt+0]=$t[Ze[Xt+0]]),Bt&&(Ze[Xt+1]=Bt[Ze[Xt+1]]),kt&&(Ze[Xt+2]=kt[Ze[Xt+2]]);we.putImageData(ge,0,Ke),Ke+=ue}if(Xe<W){if(Lt=N*w*4,Ze.set(We.subarray(de,de+Lt)),mn)for(let Xt=0;Xt<Lt;Xt+=4)$t&&(Ze[Xt+0]=$t[Ze[Xt+0]]),Bt&&(Ze[Xt+1]=Bt[Ze[Xt+1]]),kt&&(Ze[Xt+2]=kt[Ze[Xt+2]]);we.putImageData(ge,0,Ke)}}else{if(te.kind!==u.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${te.kind}`);{const mn=!!($t||Bt||kt);for(mt=ue,Lt=N*mt,Xe=0;Xe<W;Xe++){for(Xe>=M&&(mt=w,Lt=N*mt),ee=0,Ke=Lt;Ke--;)Ze[ee++]=We[de++],Ze[ee++]=We[de++],Ze[ee++]=We[de++],Ze[ee++]=255;if(mn)for(let Xt=0;Xt<ee;Xt+=4)$t&&(Ze[Xt+0]=$t[Ze[Xt+0]]),Bt&&(Ze[Xt+1]=Bt[Ze[Xt+1]]),kt&&(Ze[Xt+2]=kt[Ze[Xt+2]]);we.putImageData(ge,0,Xe*ue)}}}}function P(we,te){const H=te.height,$=te.width,N=H%ue,w=(H-N)/ue,M=0===N?w:w+1,W=we.createImageData($,ue);let ge=0;const de=te.data,ee=W.data;for(let We=0;We<M;We++){const Ze=We<w?ue:N;let Xe=3;for(let Ke=0;Ke<Ze;Ke++){let mt,Lt=0;for(let $t=0;$t<$;$t++)Lt||(mt=de[ge++],Lt=128),ee[Xe]=mt&Lt?0:255,Xe+=4,Lt>>=1}we.putImageData(W,0,We*ue)}}function A(we,te){const H=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let $=0,N=H.length;$<N;$++){const w=H[$];void 0!==we[w]&&(te[w]=we[w])}void 0!==we.setLineDash&&(te.setLineDash(we.getLineDash()),te.lineDashOffset=we.lineDashOffset)}function Y(we){we.strokeStyle="#000000",we.fillStyle="#000000",we.fillRule="nonzero",we.globalAlpha=1,we.lineWidth=1,we.lineCap="butt",we.lineJoin="miter",we.miterLimit=10,we.globalCompositeOperation="source-over",we.font="10px sans-serif",void 0!==we.setLineDash&&(we.setLineDash([]),we.lineDashOffset=0)}function pe(we,te,H,$){const N=we.length;for(let w=3;w<N;w+=4){const M=we[w];if(0===M)we[w-3]=te,we[w-2]=H,we[w-1]=$;else if(M<255){const W=255-M;we[w-3]=we[w-3]*M+te*W>>8,we[w-2]=we[w-2]*M+H*W>>8,we[w-1]=we[w-1]*M+$*W>>8}}}function J(we,te,H){const $=we.length;for(let w=3;w<$;w+=4)te[w]=te[w]*(H?H[we[w]]:we[w])*.00392156862745098|0}function Re(we,te,H){const $=we.length;for(let N=3;N<$;N+=4){const w=77*we[N-3]+152*we[N-2]+28*we[N-1];te[N]=H?te[N]*H[w>>8]>>8:te[N]*w>>16}}function he(we,te){const H=u.Util.singularValueDecompose2dScale(we);H[0]=Math.fround(H[0]),H[1]=Math.fround(H[1]);const $=Math.fround((globalThis.devicePixelRatio||1)*ne.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==te?te:H[0]<=$||H[1]<=$}const Te=["butt","round","square"],ke=["miter","round","bevel"],He={},Ue={};class ot{constructor(te,H,$,N,w,M,W){this.ctx=te,this.current=new Ce(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=H,this.objs=$,this.canvasFactory=N,this.imageLayer=w,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=M,this.cachedCanvases=new Ee(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=W,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,te&&re(te),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:te,viewport:H,transparency:$=!1,background:N=null}){const w=this.ctx.canvas.width,M=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=N||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,w,M),this.ctx.restore(),$){const W=this.cachedCanvases.getCanvas("transparent",w,M,!0);this.compositeCtx=this.ctx,this.transparentCanvas=W.canvas,this.ctx=W.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),Y(this.ctx),te&&(this.ctx.transform.apply(this.ctx,te),this.outputScaleX=te[0],this.outputScaleY=te[0]),this.ctx.transform.apply(this.ctx,H.transform),this.viewportScale=H.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(te,H,$,N){const w=te.argsArray,M=te.fnArray;let W=H||0;const ge=w.length;if(ge===W)return W;const de=ge-W>10&&"function"==typeof $,ee=de?Date.now()+15:0;let We=0;const Ze=this.commonObjs,Xe=this.objs;let Ke;for(;;){if(void 0!==N&&W===N.nextBreakPoint)return N.breakIt(W,$),W;if(Ke=M[W],Ke!==u.OPS.dependency)this[Ke].apply(this,w[W]);else for(const mt of w[W]){const Lt=mt.startsWith("g_")?Ze:Xe;if(!Lt.has(mt))return Lt.get(mt,$),W}if(W++,W===ge)return W;if(de&&++We>10){if(Date.now()>ee)return $(),W;We=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(te,H){const $=te.width,N=te.height;let ee,We,w=Math.max(Math.hypot(H[0],H[1]),1),M=Math.max(Math.hypot(H[2],H[3]),1),W=$,ge=N,de="prescale1";for(;w>2&&W>1||M>2&&ge>1;){let Ze=W,Xe=ge;w>2&&W>1&&(Ze=Math.ceil(W/2),w/=W/Ze),M>2&&ge>1&&(Xe=Math.ceil(ge/2),M/=ge/Xe),ee=this.cachedCanvases.getCanvas(de,Ze,Xe),We=ee.context,We.clearRect(0,0,Ze,Xe),We.drawImage(te,0,0,W,ge,0,0,Ze,Xe),te=ee.canvas,W=Ze,ge=Xe,de="prescale1"===de?"prescale2":"prescale1"}return{img:te,paintWidth:W,paintHeight:ge}}_createMaskCanvas(te){const H=this.ctx,$=te.width,N=te.height,w=this.current.fillColor,M=this.current.patternFill,W=this.cachedCanvases.getCanvas("maskCanvas",$,N);P(W.context,te);let ee=u.Util.transform(H.mozCurrentTransform,[1/$,0,0,-1/N,0,0]);ee=u.Util.transform(ee,[1,0,0,1,0,-N]);const We=u.Util.applyTransform([0,0],ee),Ze=u.Util.applyTransform([$,N],ee),Xe=u.Util.normalizeRect([We[0],We[1],Ze[0],Ze[1]]),Ke=Math.ceil(Xe[2]-Xe[0]),mt=Math.ceil(Xe[3]-Xe[1]),Lt=this.cachedCanvases.getCanvas("fillCanvas",Ke,mt,!0),$t=Lt.context,Bt=Math.min(We[0],Ze[0]),kt=Math.min(We[1],Ze[1]);$t.translate(-Bt,-kt),$t.transform.apply($t,ee);const Zt=this._scaleImage(W.canvas,$t.mozCurrentTransformInverse);$t.imageSmoothingEnabled=he($t.mozCurrentTransform,te.interpolate),$t.drawImage(Zt.img,0,0,Zt.img.width,Zt.img.height,0,0,$,N),$t.globalCompositeOperation="source-in";const mn=u.Util.transform($t.mozCurrentTransformInverse,[1,0,0,1,-Bt,-kt]);return $t.fillStyle=M?w.getPattern(H,this,mn,G.PathType.FILL):w,$t.fillRect(0,0,$,N),{canvas:Lt.canvas,offsetX:Math.round(Bt),offsetY:Math.round(kt)}}setLineWidth(te){this.current.lineWidth=te,this.ctx.lineWidth=te}setLineCap(te){this.ctx.lineCap=Te[te]}setLineJoin(te){this.ctx.lineJoin=ke[te]}setMiterLimit(te){this.ctx.miterLimit=te}setDash(te,H){const $=this.ctx;void 0!==$.setLineDash&&($.setLineDash(te),$.lineDashOffset=H)}setRenderingIntent(te){}setFlatness(te){}setGState(te){for(let H=0,$=te.length;H<$;H++){const N=te[H],M=N[1];switch(N[0]){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M[0],M[1]);break;case"CA":this.current.strokeAlpha=N[1];break;case"ca":this.current.fillAlpha=N[1],this.ctx.globalAlpha=N[1];break;case"BM":this.ctx.globalCompositeOperation=M;break;case"SMask":this.current.activeSMask=M?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=M}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const te=this.inSMaskMode;this.current.activeSMask&&!te?this.beginSMaskMode():!this.current.activeSMask&&te&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const N=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=N.context;const w=this.ctx;w.setTransform.apply(w,this.suspendedCtx.mozCurrentTransform),A(this.suspendedCtx,w),function ie(we,te){if(we._removeMirroring)throw new Error("Context is already forwarding operations.");we.__originalSave=we.save,we.__originalRestore=we.restore,we.__originalRotate=we.rotate,we.__originalScale=we.scale,we.__originalTranslate=we.translate,we.__originalTransform=we.transform,we.__originalSetTransform=we.setTransform,we.__originalResetTransform=we.resetTransform,we.__originalClip=we.clip,we.__originalMoveTo=we.moveTo,we.__originalLineTo=we.lineTo,we.__originalBezierCurveTo=we.bezierCurveTo,we.__originalRect=we.rect,we.__originalClosePath=we.closePath,we.__originalBeginPath=we.beginPath,we._removeMirroring=()=>{we.save=we.__originalSave,we.restore=we.__originalRestore,we.rotate=we.__originalRotate,we.scale=we.__originalScale,we.translate=we.__originalTranslate,we.transform=we.__originalTransform,we.setTransform=we.__originalSetTransform,we.resetTransform=we.__originalResetTransform,we.clip=we.__originalClip,we.moveTo=we.__originalMoveTo,we.lineTo=we.__originalLineTo,we.bezierCurveTo=we.__originalBezierCurveTo,we.rect=we.__originalRect,we.closePath=we.__originalClosePath,we.beginPath=we.__originalBeginPath,delete we._removeMirroring},we.save=function(){te.save(),this.__originalSave()},we.restore=function(){te.restore(),this.__originalRestore()},we.translate=function($,N){te.translate($,N),this.__originalTranslate($,N)},we.scale=function($,N){te.scale($,N),this.__originalScale($,N)},we.transform=function($,N,w,M,W,ge){te.transform($,N,w,M,W,ge),this.__originalTransform($,N,w,M,W,ge)},we.setTransform=function($,N,w,M,W,ge){te.setTransform($,N,w,M,W,ge),this.__originalSetTransform($,N,w,M,W,ge)},we.resetTransform=function(){te.resetTransform(),this.__originalResetTransform()},we.rotate=function($){te.rotate($),this.__originalRotate($)},we.clip=function($){te.clip($),this.__originalClip($)},we.moveTo=function(H,$){te.moveTo(H,$),this.__originalMoveTo(H,$)},we.lineTo=function(H,$){te.lineTo(H,$),this.__originalLineTo(H,$)},we.bezierCurveTo=function(H,$,N,w,M,W){te.bezierCurveTo(H,$,N,w,M,W),this.__originalBezierCurveTo(H,$,N,w,M,W)},we.rect=function(H,$,N,w){te.rect(H,$,N,w),this.__originalRect(H,$,N,w)},we.closePath=function(){te.closePath(),this.__originalClosePath()},we.beginPath=function(){te.beginPath(),this.__originalBeginPath()}}(w,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),A(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(te){this.current.activeSMask&&(te?(te[0]=Math.floor(te[0]),te[1]=Math.floor(te[1]),te[2]=Math.ceil(te[2]),te[3]=Math.ceil(te[3])):te=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function k(we,te,H,$){const N=$[0],w=$[1],M=$[2]-N,W=$[3]-w;0===M||0===W||(function Q(we,te,H,$,N,w,M,W,ge,de,ee){const We=!!w,Ze=We?w[0]:0,Xe=We?w[1]:0,Ke=We?w[2]:0;let mt;mt="Luminosity"===N?Re:J;const $t=Math.min($,Math.ceil(1048576/H));for(let Bt=0;Bt<$;Bt+=$t){const kt=Math.min($t,$-Bt),Zt=we.getImageData(W-de,Bt+(ge-ee),H,kt),mn=te.getImageData(W,Bt+ge,H,kt);We&&pe(Zt.data,Ze,Xe,Ke),mt(Zt.data,mn.data,M),te.putImageData(mn,W,Bt+ge)}}(te.context,H,M,W,te.subtype,te.backdrop,te.transferMap,N,w,te.offsetX,te.offsetY),we.save(),we.globalAlpha=1,we.globalCompositeOperation="source-over",we.setTransform(1,0,0,1,0,0),we.drawImage(H.canvas,0,0),we.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,te),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(A(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const te=this.current;this.stateStack.push(te),this.current=te.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),A(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(te,H,$,N,w,M){this.ctx.transform(te,H,$,N,w,M),this._cachedGetSinglePixelWidth=null}constructPath(te,H){const $=this.ctx,N=this.current;let W,ge,w=N.x,M=N.y;for(let de=0,ee=0,We=te.length;de<We;de++)switch(0|te[de]){case u.OPS.rectangle:w=H[ee++],M=H[ee++];const Ze=H[ee++],Xe=H[ee++],Ke=w+Ze,mt=M+Xe;$.moveTo(w,M),0===Ze||0===Xe?$.lineTo(Ke,mt):($.lineTo(Ke,M),$.lineTo(Ke,mt),$.lineTo(w,mt)),N.updatePathMinMax($.mozCurrentTransform,w,M),N.updatePathMinMax($.mozCurrentTransform,Ke,mt),$.closePath();break;case u.OPS.moveTo:w=H[ee++],M=H[ee++],$.moveTo(w,M),N.updatePathMinMax($.mozCurrentTransform,w,M);break;case u.OPS.lineTo:w=H[ee++],M=H[ee++],$.lineTo(w,M),N.updatePathMinMax($.mozCurrentTransform,w,M);break;case u.OPS.curveTo:W=w,ge=M,w=H[ee+4],M=H[ee+5],$.bezierCurveTo(H[ee],H[ee+1],H[ee+2],H[ee+3],w,M),N.updateCurvePathMinMax($.mozCurrentTransform,W,ge,H[ee],H[ee+1],H[ee+2],H[ee+3],w,M),ee+=6;break;case u.OPS.curveTo2:W=w,ge=M,$.bezierCurveTo(w,M,H[ee],H[ee+1],H[ee+2],H[ee+3]),N.updateCurvePathMinMax($.mozCurrentTransform,W,ge,w,M,H[ee],H[ee+1],H[ee+2],H[ee+3]),w=H[ee+2],M=H[ee+3],ee+=4;break;case u.OPS.curveTo3:W=w,ge=M,w=H[ee+2],M=H[ee+3],$.bezierCurveTo(H[ee],H[ee+1],w,M,w,M),N.updateCurvePathMinMax($.mozCurrentTransform,W,ge,H[ee],H[ee+1],w,M,w,M),ee+=4;break;case u.OPS.closePath:$.closePath()}N.setCurrentPoint(w,M)}closePath(){this.ctx.closePath()}stroke(te){te=!(typeof te<"u")||te;const H=this.ctx,$=this.current.strokeColor;if(H.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof $&&$?.getPattern){const N=this.getSinglePixelWidth();H.save(),H.strokeStyle=$.getPattern(H,this,H.mozCurrentTransformInverse,G.PathType.STROKE),H.lineWidth=Math.max(N,this.current.lineWidth),H.stroke(),H.restore()}else{const N=this.getSinglePixelWidth();N<0&&-N>=this.current.lineWidth?(H.save(),H.resetTransform(),H.lineWidth=Math.floor(this._combinedScaleFactor),H.stroke(),H.restore()):(H.lineWidth=Math.max(N,this.current.lineWidth),H.stroke())}te&&this.consumePath(this.current.getClippedPathBoundingBox()),H.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(te){te=!(typeof te<"u")||te;const H=this.ctx,$=this.current.fillColor;let w=!1;this.current.patternFill&&(H.save(),H.fillStyle=$.getPattern(H,this,H.mozCurrentTransformInverse,G.PathType.FILL),w=!0);const M=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==M&&(this.pendingEOFill?(H.fill("evenodd"),this.pendingEOFill=!1):H.fill()),w&&H.restore(),te&&this.consumePath(M)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=He}eoClip(){this.pendingClip=Ue}beginText(){this.current.textMatrix=u.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const te=this.pendingTextPaths,H=this.ctx;if(void 0!==te){H.save(),H.beginPath();for(let $=0;$<te.length;$++){const N=te[$];H.setTransform.apply(H,N.transform),H.translate(N.x,N.y),N.addToPath(H,N.fontSize)}H.restore(),H.clip(),H.beginPath(),delete this.pendingTextPaths}else H.beginPath()}setCharSpacing(te){this.current.charSpacing=te}setWordSpacing(te){this.current.wordSpacing=te}setHScale(te){this.current.textHScale=te/100}setLeading(te){this.current.leading=-te}setFont(te,H){const $=this.commonObjs.get(te),N=this.current;if(!$)throw new Error(`Can't find font for ${te}`);if(N.fontMatrix=$.fontMatrix||u.FONT_IDENTITY_MATRIX,(0===N.fontMatrix[0]||0===N.fontMatrix[3])&&(0,u.warn)("Invalid font matrix for font "+te),H<0?(H=-H,N.fontDirection=-1):N.fontDirection=1,this.current.font=$,this.current.fontSize=H,$.isType3Font)return;let M="normal";$.black?M="900":$.bold&&(M="bold");const W=$.italic?"italic":"normal",ge=`"${$.loadedName||"sans-serif"}", ${$.fallbackName}`;let de=H;H<16?de=16:H>100&&(de=100),this.current.fontSizeScale=H/de,this.ctx.font=`${W} ${M} ${de}px ${ge}`}setTextRenderingMode(te){this.current.textRenderingMode=te}setTextRise(te){this.current.textRise=te}moveText(te,H){this.current.x=this.current.lineX+=te,this.current.y=this.current.lineY+=H}setLeadingMoveText(te,H){this.setLeading(-H),this.moveText(te,H)}setTextMatrix(te,H,$,N,w,M){this.current.textMatrix=[te,H,$,N,w,M],this.current.textMatrixScale=Math.hypot(te,H),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(te,H,$,N,w){const M=this.ctx,W=this.current,ge=W.font,de=W.textRenderingMode,ee=W.fontSize/W.fontSizeScale,We=de&u.TextRenderingMode.FILL_STROKE_MASK,Ze=!!(de&u.TextRenderingMode.ADD_TO_PATH_FLAG),Xe=W.patternFill&&!ge.missingFile;let Ke;(ge.disableFontFace||Ze||Xe)&&(Ke=ge.getPathGenerator(this.commonObjs,te)),ge.disableFontFace||Xe?(M.save(),M.translate(H,$),M.beginPath(),Ke(M,ee),N&&M.setTransform.apply(M,N),(We===u.TextRenderingMode.FILL||We===u.TextRenderingMode.FILL_STROKE)&&M.fill(),(We===u.TextRenderingMode.STROKE||We===u.TextRenderingMode.FILL_STROKE)&&(w&&(M.resetTransform(),M.lineWidth=Math.floor(this._combinedScaleFactor)),M.stroke()),M.restore()):((We===u.TextRenderingMode.FILL||We===u.TextRenderingMode.FILL_STROKE)&&M.fillText(te,H,$),(We===u.TextRenderingMode.STROKE||We===u.TextRenderingMode.FILL_STROKE)&&(w?(M.save(),M.moveTo(H,$),M.resetTransform(),M.lineWidth=Math.floor(this._combinedScaleFactor),M.strokeText(te,0,0),M.restore()):M.strokeText(te,H,$))),Ze&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:M.mozCurrentTransform,x:H,y:$,fontSize:ee,addToPath:Ke})}get isFontSubpixelAAEnabled(){const{context:te}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);te.scale(1.5,1),te.fillText("I",0,10);const H=te.getImageData(0,0,10,10).data;let $=!1;for(let N=3;N<H.length;N+=4)if(H[N]>0&&H[N]<255){$=!0;break}return(0,u.shadow)(this,"isFontSubpixelAAEnabled",$)}showText(te){const H=this.current,$=H.font;if($.isType3Font)return this.showType3Text(te);const N=H.fontSize;if(0===N)return;const w=this.ctx,M=H.fontSizeScale,W=H.charSpacing,ge=H.wordSpacing,de=H.fontDirection,ee=H.textHScale*de,We=te.length,Ze=$.vertical,Xe=Ze?1:-1,Ke=$.defaultVMetrics,mt=N*H.fontMatrix[0],Lt=H.textRenderingMode===u.TextRenderingMode.FILL&&!$.disableFontFace&&!H.patternFill;let $t;if(w.save(),w.transform.apply(w,H.textMatrix),w.translate(H.x,H.y+H.textRise),w.scale(ee,de>0?-1:1),H.patternFill){w.save();const Jt=H.fillColor.getPattern(w,this,w.mozCurrentTransformInverse,G.PathType.FILL);$t=w.mozCurrentTransform,w.restore(),w.fillStyle=Jt}let Bt=H.lineWidth,kt=!1;const Zt=H.textMatrixScale;if(0===Zt||0===Bt){const Jt=H.textRenderingMode&u.TextRenderingMode.FILL_STROKE_MASK;(Jt===u.TextRenderingMode.STROKE||Jt===u.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,Bt=this.getSinglePixelWidth(),kt=Bt<0)}else Bt/=Zt;1!==M&&(w.scale(M,M),Bt/=M),w.lineWidth=Bt;let Xt,mn=0;for(Xt=0;Xt<We;++Xt){const Jt=te[Xt];if("number"==typeof Jt){mn+=Xe*Jt*N/1e3;continue}let Hn=!1;const _t=(Jt.isSpace?ge:0)+W,Me=Jt.fontChar,nt=Jt.accent;let dt,At,yt,Qe=Jt.width;if(Ze){const Wt=Jt.vmetric||Ke,Nt=-(Jt.vmetric?Wt[1]:.5*Qe)*mt;Qe=Wt?-Wt[0]:Qe,dt=Nt/M,At=(mn+Wt[2]*mt)/M}else dt=mn/M,At=0;if($.remeasure&&Qe>0){const Wt=1e3*w.measureText(Me).width/N*M;if(Qe<Wt&&this.isFontSubpixelAAEnabled){const Nt=Qe/Wt;Hn=!0,w.save(),w.scale(Nt,1),dt/=Nt}else Qe!==Wt&&(dt+=(Qe-Wt)/2e3*N/M)}this.contentVisible&&(Jt.isInFont||$.missingFile)&&(Lt&&!nt?w.fillText(Me,dt,At):(this.paintChar(Me,dt,At,$t,kt),nt&&this.paintChar(nt.fontChar,dt+N*nt.offset.x/M,At-N*nt.offset.y/M,$t,kt))),yt=Ze?Qe*mt-_t*de:Qe*mt+_t*de,mn+=yt,Hn&&w.restore()}Ze?H.y-=mn:H.x+=mn*ee,w.restore(),this.compose()}showType3Text(te){const H=this.ctx,$=this.current,N=$.font,w=$.fontSize,M=$.fontDirection,W=N.vertical?1:-1,ge=$.charSpacing,de=$.wordSpacing,ee=$.textHScale*M,We=$.fontMatrix||u.FONT_IDENTITY_MATRIX,Ze=te.length;let Ke,mt,Lt,$t;if($.textRenderingMode!==u.TextRenderingMode.INVISIBLE&&0!==w){for(this._cachedGetSinglePixelWidth=null,H.save(),H.transform.apply(H,$.textMatrix),H.translate($.x,$.y),H.scale(ee,M),Ke=0;Ke<Ze;++Ke){if(mt=te[Ke],"number"==typeof mt){$t=W*mt*w/1e3,this.ctx.translate($t,0),$.x+=$t*ee;continue}const Bt=(mt.isSpace?de:0)+ge,kt=N.charProcOperatorList[mt.operatorListId];kt?(this.contentVisible&&(this.processingType3=mt,this.save(),H.scale(w,w),H.transform.apply(H,We),this.executeOperatorList(kt),this.restore()),Lt=u.Util.applyTransform([mt.width,0],We)[0]*w+Bt,H.translate(Lt,0),$.x+=Lt*ee):(0,u.warn)(`Type3 character "${mt.operatorListId}" is not available.`)}H.restore(),this.processingType3=null}}setCharWidth(te,H){}setCharWidthAndBounds(te,H,$,N,w,M){this.ctx.rect($,N,w-$,M-N),this.clip(),this.endPath()}getColorN_Pattern(te){let H;if("TilingPattern"===te[0]){const $=te[1],N=this.baseTransform||this.ctx.mozCurrentTransform.slice();H=new G.TilingPattern(te,$,this.ctx,{createCanvasGraphics:M=>new ot(M,this.commonObjs,this.objs,this.canvasFactory)},N)}else H=this._getPattern(te[1],te[2]);return H}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(te,H,$){const N=u.Util.makeHexColor(te,H,$);this.ctx.strokeStyle=N,this.current.strokeColor=N}setFillRGBColor(te,H,$){const N=u.Util.makeHexColor(te,H,$);this.ctx.fillStyle=N,this.current.fillColor=N,this.current.patternFill=!1}_getPattern(te,H=null){let $;return this.cachedPatterns.has(te)?$=this.cachedPatterns.get(te):($=(0,G.getShadingPattern)(this.objs.get(te)),this.cachedPatterns.set(te,$)),H&&($.matrix=H),$}shadingFill(te){if(!this.contentVisible)return;const H=this.ctx;this.save();const $=this._getPattern(te);H.fillStyle=$.getPattern(H,this,H.mozCurrentTransformInverse,G.PathType.SHADING);const N=H.mozCurrentTransformInverse;if(N){const w=H.canvas,M=w.width,W=w.height,ge=u.Util.applyTransform([0,0],N),de=u.Util.applyTransform([0,W],N),ee=u.Util.applyTransform([M,0],N),We=u.Util.applyTransform([M,W],N),Ze=Math.min(ge[0],de[0],ee[0],We[0]),Xe=Math.min(ge[1],de[1],ee[1],We[1]),Ke=Math.max(ge[0],de[0],ee[0],We[0]),mt=Math.max(ge[1],de[1],ee[1],We[1]);this.ctx.fillRect(Ze,Xe,Ke-Ze,mt-Xe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,u.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,u.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(te,H){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(te)&&6===te.length&&this.transform.apply(this,te),this.baseTransform=this.ctx.mozCurrentTransform,H)&&(this.ctx.rect(H[0],H[1],H[2]-H[0],H[3]-H[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,H[0],H[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,H[2],H[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(te){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const H=this.ctx;te.isolated||(0,u.info)("TODO: Support non-isolated groups."),te.knockout&&(0,u.warn)("Knockout groups not supported.");const $=H.mozCurrentTransform;if(te.matrix&&H.transform.apply(H,te.matrix),!te.bbox)throw new Error("Bounding box is required.");let N=u.Util.getAxialAlignedBoundingBox(te.bbox,H.mozCurrentTransform);N=u.Util.intersect(N,[0,0,H.canvas.width,H.canvas.height])||[0,0,0,0];const M=Math.floor(N[0]),W=Math.floor(N[1]);let ge=Math.max(Math.ceil(N[2])-M,1),de=Math.max(Math.ceil(N[3])-W,1),ee=1,We=1;ge>Se&&(ee=ge/Se,ge=Se),de>Se&&(We=de/Se,de=Se),this.current.startNewPathAndClipBox([0,0,ge,de]);let Ze="groupAt"+this.groupLevel;te.smask&&(Ze+="_smask_"+this.smaskCounter++%2);const Xe=this.cachedCanvases.getCanvas(Ze,ge,de,!0),Ke=Xe.context;Ke.scale(1/ee,1/We),Ke.translate(-M,-W),Ke.transform.apply(Ke,$),te.smask?this.smaskStack.push({canvas:Xe.canvas,context:Ke,offsetX:M,offsetY:W,scaleX:ee,scaleY:We,subtype:te.smask.subtype,backdrop:te.smask.backdrop,transferMap:te.smask.transferMap||null,startTransformInverse:null}):(H.setTransform(1,0,0,1,0,0),H.translate(M,W),H.scale(ee,We),H.save()),A(H,Ke),this.ctx=Ke,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(H),this.groupLevel++}endGroup(te){if(!this.contentVisible)return;this.groupLevel--;const H=this.ctx,$=this.groupStack.pop();if(this.ctx=$,this.ctx.imageSmoothingEnabled=!1,te.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const N=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,N);const w=u.Util.getAxialAlignedBoundingBox([0,0,H.canvas.width,H.canvas.height],N);this.ctx.drawImage(H.canvas,0,0),this.ctx.restore(),this.compose(w)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(te,H,$,N,w){if(this.save(),Array.isArray(H)&&4===H.length){const M=H[2]-H[0],W=H[3]-H[1];if(w&&this.annotationCanvasMap){($=$.slice())[4]-=H[0],$[5]-=H[1],(H=H.slice())[0]=H[1]=0,H[2]=M,H[3]=W;const[ge,de]=u.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:ee}=this,We=Math.ceil(M*this.outputScaleX*ee),Ze=Math.ceil(W*this.outputScaleY*ee);this.annotationCanvas=this.canvasFactory.create(We,Ze);const{canvas:Xe,context:Ke}=this.annotationCanvas;Xe.style.width=`calc(${M}px * var(--viewport-scale-factor))`,Xe.style.height=`calc(${W}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(te,Xe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ke,this.ctx.setTransform(ge,0,0,-de,0,W*de),re(this.ctx),Y(this.ctx)}else Y(this.ctx),this.ctx.rect(H[0],H[1],M,W),this.clip(),this.endPath()}this.current=new Ce(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,$),this.transform.apply(this,N)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(te){if(!this.contentVisible)return;const H=this.ctx,$=te.width,N=te.height,w=this.processingType3;if(w&&void 0===w.compiled&&(w.compiled=$<=1e3&&N<=1e3?function De(we){const H=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),$=we.width,N=we.height,w=$+1;let M,W,ge,de;const ee=new Uint8Array(w*(N+1)),We=$+7&-8,Ze=we.data,Xe=new Uint8Array(We*N);let Ke=0;for(M=0,W=Ze.length;M<W;M++){const kt=Ze[M];let Zt=128;for(;Zt>0;)Xe[Ke++]=kt&Zt?0:255,Zt>>=1}let mt=0;for(Ke=0,0!==Xe[Ke]&&(ee[0]=1,++mt),ge=1;ge<$;ge++)Xe[Ke]!==Xe[Ke+1]&&(ee[ge]=Xe[Ke]?2:1,++mt),Ke++;for(0!==Xe[Ke]&&(ee[ge]=2,++mt),M=1;M<N;M++){Ke=M*We,de=M*w,Xe[Ke-We]!==Xe[Ke]&&(ee[de]=Xe[Ke]?1:8,++mt);let kt=(Xe[Ke]?4:0)+(Xe[Ke-We]?8:0);for(ge=1;ge<$;ge++)kt=(kt>>2)+(Xe[Ke+1]?4:0)+(Xe[Ke-We+1]?8:0),H[kt]&&(ee[de+ge]=H[kt],++mt),Ke++;if(Xe[Ke-We]!==Xe[Ke]&&(ee[de+ge]=Xe[Ke]?2:4,++mt),mt>1e3)return null}for(Ke=We*(N-1),de=M*w,0!==Xe[Ke]&&(ee[de]=8,++mt),ge=1;ge<$;ge++)Xe[Ke]!==Xe[Ke+1]&&(ee[de+ge]=Xe[Ke]?4:8,++mt),Ke++;if(0!==Xe[Ke]&&(ee[de+ge]=4,++mt),mt>1e3)return null;const Lt=new Int32Array([0,w,-1,0,-w,0,0,0,1]),$t=[];for(M=0;mt&&M<=N;M++){let kt=M*w;const Zt=kt+$;for(;kt<Zt&&!ee[kt];)kt++;if(kt===Zt)continue;const mn=[kt%w,M],Xt=kt;let Jt=ee[kt];do{const Hn=Lt[Jt];do{kt+=Hn}while(!ee[kt]);const _t=ee[kt];5!==_t&&10!==_t?(Jt=_t,ee[kt]=0):(Jt=_t&51*Jt>>4,ee[kt]&=Jt>>2|Jt<<2),mn.push(kt%w,kt/w|0),ee[kt]||--mt}while(Xt!==kt);$t.push(mn),--M}return function(kt){kt.save(),kt.scale(1/$,-1/N),kt.translate(0,-N),kt.beginPath();for(let Zt=0,mn=$t.length;Zt<mn;Zt++){const Xt=$t[Zt];kt.moveTo(Xt[0],Xt[1]);for(let Jt=2,Hn=Xt.length;Jt<Hn;Jt+=2)kt.lineTo(Xt[Jt],Xt[Jt+1])}kt.fill(),kt.beginPath(),kt.restore()}}({data:te.data,width:$,height:N}):null),w?.compiled)return void w.compiled(H);const M=this._createMaskCanvas(te),W=M.canvas;H.save(),H.setTransform(1,0,0,1,0,0),H.drawImage(W,M.offsetX,M.offsetY),H.restore(),this.compose()}paintImageMaskXObjectRepeat(te,H,$=0,N=0,w,M){if(!this.contentVisible)return;const W=this.ctx;W.save();const ge=W.mozCurrentTransform;W.transform(H,$,N,w,0,0);const de=this._createMaskCanvas(te);W.setTransform(1,0,0,1,0,0);for(let ee=0,We=M.length;ee<We;ee+=2){const Ze=u.Util.transform(ge,[H,$,N,w,M[ee],M[ee+1]]),[Xe,Ke]=u.Util.applyTransform([0,0],Ze);W.drawImage(de.canvas,Xe,Ke)}W.restore(),this.compose()}paintImageMaskXObjectGroup(te){if(!this.contentVisible)return;const H=this.ctx,$=this.current.fillColor,N=this.current.patternFill;for(let w=0,M=te.length;w<M;w++){const W=te[w],ge=W.width,de=W.height,ee=this.cachedCanvases.getCanvas("maskCanvas",ge,de),We=ee.context;We.save(),P(We,W),We.globalCompositeOperation="source-in",We.fillStyle=N?$.getPattern(We,this,H.mozCurrentTransformInverse,G.PathType.FILL):$,We.fillRect(0,0,ge,de),We.restore(),H.save(),H.transform.apply(H,W.transform),H.scale(1,-1),H.drawImage(ee.canvas,0,0,ge,de,0,-1,1,1),H.restore()}this.compose()}paintImageXObject(te){if(!this.contentVisible)return;const H=te.startsWith("g_")?this.commonObjs.get(te):this.objs.get(te);H?this.paintInlineImageXObject(H):(0,u.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(te,H,$,N){if(!this.contentVisible)return;const w=te.startsWith("g_")?this.commonObjs.get(te):this.objs.get(te);if(!w)return void(0,u.warn)("Dependent image isn't ready yet");const M=w.width,W=w.height,ge=[];for(let de=0,ee=N.length;de<ee;de+=2)ge.push({transform:[H,0,0,$,N[de],N[de+1]],x:0,y:0,w:M,h:W});this.paintInlineImageXObjectGroup(w,ge)}paintInlineImageXObject(te){if(!this.contentVisible)return;const H=te.width,$=te.height,N=this.ctx;let w;if(this.save(),N.scale(1/H,-1/$),"function"==typeof HTMLElement&&te instanceof HTMLElement||!te.data)w=te;else{const W=this.cachedCanvases.getCanvas("inlineImage",H,$);ye(W.context,te,this.current.transferMaps),w=W.canvas}const M=this._scaleImage(w,N.mozCurrentTransformInverse);if(N.imageSmoothingEnabled=he(N.mozCurrentTransform,te.interpolate),N.drawImage(M.img,0,0,M.paintWidth,M.paintHeight,0,-$,H,$),this.imageLayer){const W=this.getCanvasPosition(0,-$);this.imageLayer.appendImage({imgData:te,left:W[0],top:W[1],width:H/N.mozCurrentTransformInverse[0],height:$/N.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(te,H){if(!this.contentVisible)return;const $=this.ctx,N=te.width,w=te.height,M=this.cachedCanvases.getCanvas("inlineImage",N,w);ye(M.context,te,this.current.transferMaps);for(let ge=0,de=H.length;ge<de;ge++){const ee=H[ge];if($.save(),$.transform.apply($,ee.transform),$.scale(1,-1),$.drawImage(M.canvas,ee.x,ee.y,ee.w,ee.h,0,-1,1,1),this.imageLayer){const We=this.getCanvasPosition(ee.x,ee.y);this.imageLayer.appendImage({imgData:te,left:We[0],top:We[1],width:N,height:w})}$.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(te){}markPointProps(te,H){}beginMarkedContent(te){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(te,H){this.markedContentStack.push("OC"===te?{visible:this.optionalContentConfig.isVisible(H)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(te){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(te);const H=this.ctx;this.pendingClip&&(this.pendingClip===Ue?H.clip("evenodd"):H.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),H.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const te=this.ctx.mozCurrentTransform,H=Math.abs(te[0]*te[3]-te[2]*te[1]),$=te[0]**2+te[2]**2,N=te[1]**2+te[3]**2,w=Math.sqrt(Math.max($,N))/H;this._cachedGetSinglePixelWidth=$!==N&&this._combinedScaleFactor*w>1?-this._combinedScaleFactor*w:H>Number.EPSILON?w:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(te,H){const $=this.ctx.mozCurrentTransform;return[$[0]*te+$[2]*H+$[4],$[1]*te+$[3]*H+$[5]]}isContentVisible(){for(let te=this.markedContentStack.length-1;te>=0;te--)if(!this.markedContentStack[te].visible)return!1;return!0}}R.CanvasGraphics=ot;for(const we in u.OPS)void 0!==ot.prototype[we]&&(ot.prototype[u.OPS[we]]=ot.prototype[we])},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.TilingPattern=R.PathType=void 0,R.getShadingPattern=function le(ie){switch(ie[0]){case"RadialAxial":return new be(ie);case"Mesh":return new Ae(ie);case"Dummy":return new Ve}throw new Error(`Unknown IR type: ${ie[0]}`)};var u=V(1);const G={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ne(ie,re){if(!re||typeof Path2D>"u")return;const Ee=re[2]-re[0],De=re[3]-re[1],Ce=new Path2D;Ce.rect(re[0],re[1],Ee,De),ie.clip(Ce)}R.PathType=G;class f{constructor(){this.constructor===f&&(0,u.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,u.unreachable)("Abstract method `getPattern` called.")}}class be extends f{constructor(re){super(),this._type=re[1],this._bbox=re[2],this._colorStops=re[3],this._p0=re[4],this._p1=re[5],this._r0=re[6],this._r1=re[7],this.matrix=null}_createGradient(re){let Ee;"axial"===this._type?Ee=re.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(Ee=re.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const De of this._colorStops)Ee.addColorStop(De[0],De[1]);return Ee}getPattern(re,Ee,De,Ce){let ye;if(Ce===G.STROKE||Ce===G.FILL){const P=Ee.current.getClippedPathBoundingBox(Ce,re.mozCurrentTransform)||[0,0,0,0],A=Math.ceil(P[2]-P[0])||1,Y=Math.ceil(P[3]-P[1])||1,pe=Ee.cachedCanvases.getCanvas("pattern",A,Y,!0),J=pe.context;J.clearRect(0,0,J.canvas.width,J.canvas.height),J.beginPath(),J.rect(0,0,J.canvas.width,J.canvas.height),J.translate(-P[0],-P[1]),De=u.Util.transform(De,[1,0,0,1,P[0],P[1]]),J.transform.apply(J,Ee.baseTransform),this.matrix&&J.transform.apply(J,this.matrix),ne(J,this._bbox),J.fillStyle=this._createGradient(J),J.fill(),ye=re.createPattern(pe.canvas,"no-repeat");const Re=new DOMMatrix(De);try{ye.setTransform(Re)}catch(Q){(0,u.warn)(`RadialAxialShadingPattern.getPattern: "${Q?.message}".`)}}else ne(re,this._bbox),ye=this._createGradient(re);return ye}}function Se(ie,re,Ee,De,Ce,ye,P,A){const Y=re.coords,pe=re.colors,J=ie.data,Re=4*ie.width;let Q;Y[Ee+1]>Y[De+1]&&(Q=Ee,Ee=De,De=Q,Q=ye,ye=P,P=Q),Y[De+1]>Y[Ce+1]&&(Q=De,De=Ce,Ce=Q,Q=P,P=A,A=Q),Y[Ee+1]>Y[De+1]&&(Q=Ee,Ee=De,De=Q,Q=ye,ye=P,P=Q);const k=(Y[Ee]+re.offsetX)*re.scaleX,he=(Y[Ee+1]+re.offsetY)*re.scaleY,Te=(Y[De]+re.offsetX)*re.scaleX,ke=(Y[De+1]+re.offsetY)*re.scaleY,He=(Y[Ce]+re.offsetX)*re.scaleX,Ue=(Y[Ce+1]+re.offsetY)*re.scaleY;if(he>=Ue)return;const ot=pe[ye],we=pe[ye+1],te=pe[ye+2],H=pe[P],$=pe[P+1],N=pe[P+2],w=pe[A],M=pe[A+1],W=pe[A+2],ge=Math.round(he),de=Math.round(Ue);let ee,We,Ze,Xe,Ke,mt,Lt,$t;for(let Bt=ge;Bt<=de;Bt++){if(Bt<ke){let Jt;Jt=Bt<he?0:(he-Bt)/(he-ke),ee=k-(k-Te)*Jt,We=ot-(ot-H)*Jt,Ze=we-(we-$)*Jt,Xe=te-(te-N)*Jt}else{let Jt;Jt=Bt>Ue?1:ke===Ue?0:(ke-Bt)/(ke-Ue),ee=Te-(Te-He)*Jt,We=H-(H-w)*Jt,Ze=$-($-M)*Jt,Xe=N-(N-W)*Jt}let kt;kt=Bt<he?0:Bt>Ue?1:(he-Bt)/(he-Ue),Ke=k-(k-He)*kt,mt=ot-(ot-w)*kt,Lt=we-(we-M)*kt,$t=te-(te-W)*kt;const Zt=Math.round(Math.min(ee,Ke)),mn=Math.round(Math.max(ee,Ke));let Xt=Re*Bt+4*Zt;for(let Jt=Zt;Jt<=mn;Jt++)kt=(ee-Jt)/(ee-Ke),kt<0?kt=0:kt>1&&(kt=1),J[Xt++]=We-(We-mt)*kt|0,J[Xt++]=Ze-(Ze-Lt)*kt|0,J[Xt++]=Xe-(Xe-$t)*kt|0,J[Xt++]=255}}function me(ie,re,Ee){const De=re.coords,Ce=re.colors;let ye,P;switch(re.type){case"lattice":const A=re.verticesPerRow,Y=Math.floor(De.length/A)-1,pe=A-1;for(ye=0;ye<Y;ye++){let J=ye*A;for(let Re=0;Re<pe;Re++,J++)Se(ie,Ee,De[J],De[J+1],De[J+A],Ce[J],Ce[J+1],Ce[J+A]),Se(ie,Ee,De[J+A+1],De[J+1],De[J+A],Ce[J+A+1],Ce[J+1],Ce[J+A])}break;case"triangles":for(ye=0,P=De.length;ye<P;ye+=3)Se(ie,Ee,De[ye],De[ye+1],De[ye+2],Ce[ye],Ce[ye+1],Ce[ye+2]);break;default:throw new Error("illegal figure")}}class Ae extends f{constructor(re){super(),this._coords=re[2],this._colors=re[3],this._figures=re[4],this._bounds=re[5],this._bbox=re[7],this._background=re[8],this.matrix=null}_createMeshCanvas(re,Ee,De){const A=Math.floor(this._bounds[0]),Y=Math.floor(this._bounds[1]),pe=Math.ceil(this._bounds[2])-A,J=Math.ceil(this._bounds[3])-Y,Re=Math.min(Math.ceil(Math.abs(pe*re[0]*1.1)),3e3),Q=Math.min(Math.ceil(Math.abs(J*re[1]*1.1)),3e3),k=pe/Re,he=J/Q,Te={coords:this._coords,colors:this._colors,offsetX:-A,offsetY:-Y,scaleX:1/k,scaleY:1/he},Ue=De.getCanvas("mesh",Re+4,Q+4,!1),ot=Ue.context,we=ot.createImageData(Re,Q);if(Ee){const H=we.data;for(let $=0,N=H.length;$<N;$+=4)H[$]=Ee[0],H[$+1]=Ee[1],H[$+2]=Ee[2],H[$+3]=255}for(const H of this._figures)me(we,H,Te);return ot.putImageData(we,2,2),{canvas:Ue.canvas,offsetX:A-2*k,offsetY:Y-2*he,scaleX:k,scaleY:he}}getPattern(re,Ee,De,Ce){let ye;if(ne(re,this._bbox),Ce===G.SHADING)ye=u.Util.singularValueDecompose2dScale(re.mozCurrentTransform);else if(ye=u.Util.singularValueDecompose2dScale(Ee.baseTransform),this.matrix){const A=u.Util.singularValueDecompose2dScale(this.matrix);ye=[ye[0]*A[0],ye[1]*A[1]]}const P=this._createMeshCanvas(ye,Ce===G.SHADING?null:this._background,Ee.cachedCanvases);return Ce!==G.SHADING&&(re.setTransform.apply(re,Ee.baseTransform),this.matrix&&re.transform.apply(re,this.matrix)),re.translate(P.offsetX,P.offsetY),re.scale(P.scaleX,P.scaleY),re.createPattern(P.canvas,"no-repeat")}}class Ve extends f{getPattern(){return"hotpink"}}class Ie{static get MAX_PATTERN_SIZE(){return(0,u.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(re,Ee,De,Ce,ye){this.operatorList=re[2],this.matrix=re[3]||[1,0,0,1,0,0],this.bbox=re[4],this.xstep=re[5],this.ystep=re[6],this.paintType=re[7],this.tilingType=re[8],this.color=Ee,this.ctx=De,this.canvasGraphicsFactory=Ce,this.baseTransform=ye}createPatternCanvas(re){const Ee=this.operatorList,De=this.bbox,Ce=this.xstep,ye=this.ystep,P=this.paintType,Y=this.color,pe=this.canvasGraphicsFactory;(0,u.info)("TilingType: "+this.tilingType);const J=De[0],Re=De[1],Q=De[2],k=De[3],he=u.Util.singularValueDecompose2dScale(this.matrix),Te=u.Util.singularValueDecompose2dScale(this.baseTransform),ke=[he[0]*Te[0],he[1]*Te[1]],He=this.getSizeAndScale(Ce,this.ctx.canvas.width,ke[0]),Ue=this.getSizeAndScale(ye,this.ctx.canvas.height,ke[1]),ot=re.cachedCanvases.getCanvas("pattern",He.size,Ue.size,!0),we=ot.context,te=pe.createCanvasGraphics(we);te.groupLevel=re.groupLevel,this.setFillAndStrokeStyleToContext(te,P,Y);let H=J,$=Re,N=Q,w=k;return J<0&&(H=0,N+=Math.abs(J)),Re<0&&($=0,w+=Math.abs(Re)),we.translate(-He.scale*H,-Ue.scale*$),te.transform(He.scale,0,0,Ue.scale,0,0),we.save(),this.clipBbox(te,H,$,N,w),te.baseTransform=te.ctx.mozCurrentTransform.slice(),te.executeOperatorList(Ee),te.endDrawing(),{canvas:ot.canvas,scaleX:He.scale,scaleY:Ue.scale,offsetX:H,offsetY:$}}getSizeAndScale(re,Ee,De){re=Math.abs(re);const Ce=Math.max(Ie.MAX_PATTERN_SIZE,Ee);let ye=Math.ceil(re*De);return ye>=Ce?ye=Ce:De=ye/re,{scale:De,size:ye}}clipBbox(re,Ee,De,Ce,ye){re.ctx.rect(Ee,De,Ce-Ee,ye-De),re.clip(),re.endPath()}setFillAndStrokeStyleToContext(re,Ee,De){const Ce=re.ctx,ye=re.current;switch(Ee){case 1:const P=this.ctx;Ce.fillStyle=P.fillStyle,Ce.strokeStyle=P.strokeStyle,ye.fillColor=P.fillStyle,ye.strokeColor=P.strokeStyle;break;case 2:const A=u.Util.makeHexColor(De[0],De[1],De[2]);Ce.fillStyle=A,Ce.strokeStyle=A,ye.fillColor=A,ye.strokeColor=A;break;default:throw new u.FormatError(`Unsupported paint type: ${Ee}`)}}getPattern(re,Ee,De,Ce){let ye=De;Ce!==G.SHADING&&(ye=u.Util.transform(ye,Ee.baseTransform),this.matrix&&(ye=u.Util.transform(ye,this.matrix)));const P=this.createPatternCanvas(Ee);let A=new DOMMatrix(ye);A=A.translate(P.offsetX,P.offsetY),A=A.scale(1/P.scaleX,1/P.scaleY);const Y=re.createPattern(P.canvas,"repeat");try{Y.setTransform(A)}catch(pe){(0,u.warn)(`TilingPattern.getPattern: "${pe?.message}".`)}return Y}}R.TilingPattern=Ie},(Be,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.GlobalWorkerOptions=void 0;const V=Object.create(null);R.GlobalWorkerOptions=V,V.workerPort=void 0===V.workerPort?null:V.workerPort,V.workerSrc=void 0===V.workerSrc?"":V.workerSrc},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.MessageHandler=void 0;var u=V(1);function f(Se){switch(Se instanceof Error||"object"==typeof Se&&null!==Se||(0,u.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Se.name){case"AbortException":return new u.AbortException(Se.message);case"MissingPDFException":return new u.MissingPDFException(Se.message);case"PasswordException":return new u.PasswordException(Se.message,Se.code);case"UnexpectedResponseException":return new u.UnexpectedResponseException(Se.message,Se.status);case"UnknownErrorException":return new u.UnknownErrorException(Se.message,Se.details);default:return new u.UnknownErrorException(Se.message,Se.toString())}}R.MessageHandler=class be{constructor(me,Ae,Ve){this.sourceName=me,this.targetName=Ae,this.comObj=Ve,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=le=>{const ue=le.data;if(ue.targetName!==this.sourceName)return;if(ue.stream)return void this._processStreamMessage(ue);if(ue.callback){const ie=ue.callbackId,re=this.callbackCapabilities[ie];if(!re)throw new Error(`Cannot resolve callback ${ie}`);if(delete this.callbackCapabilities[ie],1===ue.callback)re.resolve(ue.data);else{if(2!==ue.callback)throw new Error("Unexpected callback case");re.reject(f(ue.reason))}return}const Ie=this.actionHandler[ue.action];if(!Ie)throw new Error(`Unknown action from worker: ${ue.action}`);if(ue.callbackId){const ie=this.sourceName,re=ue.sourceName;new Promise(function(Ee){Ee(Ie(ue.data))}).then(function(Ee){Ve.postMessage({sourceName:ie,targetName:re,callback:1,callbackId:ue.callbackId,data:Ee})},function(Ee){Ve.postMessage({sourceName:ie,targetName:re,callback:2,callbackId:ue.callbackId,reason:f(Ee)})})}else ue.streamId?this._createStreamSink(ue):Ie(ue.data)},Ve.addEventListener("message",this._onComObjOnMessage)}on(me,Ae){const Ve=this.actionHandler;if(Ve[me])throw new Error(`There is already an actionName called "${me}"`);Ve[me]=Ae}send(me,Ae,Ve){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:me,data:Ae},Ve)}sendWithPromise(me,Ae,Ve){const le=this.callbackId++,ue=(0,u.createPromiseCapability)();this.callbackCapabilities[le]=ue;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:me,callbackId:le,data:Ae},Ve)}catch(Ie){ue.reject(Ie)}return ue.promise}sendWithStream(me,Ae,Ve,le){const ue=this.streamId++,Ie=this.sourceName,ie=this.targetName,re=this.comObj;return new ReadableStream({start:Ee=>{const De=(0,u.createPromiseCapability)();return this.streamControllers[ue]={controller:Ee,startCall:De,pullCall:null,cancelCall:null,isClosed:!1},re.postMessage({sourceName:Ie,targetName:ie,action:me,streamId:ue,data:Ae,desiredSize:Ee.desiredSize},le),De.promise},pull:Ee=>{const De=(0,u.createPromiseCapability)();return this.streamControllers[ue].pullCall=De,re.postMessage({sourceName:Ie,targetName:ie,stream:6,streamId:ue,desiredSize:Ee.desiredSize}),De.promise},cancel:Ee=>{(0,u.assert)(Ee instanceof Error,"cancel must have a valid reason");const De=(0,u.createPromiseCapability)();return this.streamControllers[ue].cancelCall=De,this.streamControllers[ue].isClosed=!0,re.postMessage({sourceName:Ie,targetName:ie,stream:1,streamId:ue,reason:f(Ee)}),De.promise}},Ve)}_createStreamSink(me){const Ae=me.streamId,Ve=this.sourceName,le=me.sourceName,ue=this.comObj,Ie=this,ie=this.actionHandler[me.action],re={enqueue(Ee,De=1,Ce){if(this.isCancelled)return;const ye=this.desiredSize;this.desiredSize-=De,ye>0&&this.desiredSize<=0&&(this.sinkCapability=(0,u.createPromiseCapability)(),this.ready=this.sinkCapability.promise),ue.postMessage({sourceName:Ve,targetName:le,stream:4,streamId:Ae,chunk:Ee},Ce)},close(){this.isCancelled||(this.isCancelled=!0,ue.postMessage({sourceName:Ve,targetName:le,stream:3,streamId:Ae}),delete Ie.streamSinks[Ae])},error(Ee){(0,u.assert)(Ee instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ue.postMessage({sourceName:Ve,targetName:le,stream:5,streamId:Ae,reason:f(Ee)}))},sinkCapability:(0,u.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:me.desiredSize,ready:null};re.sinkCapability.resolve(),re.ready=re.sinkCapability.promise,this.streamSinks[Ae]=re,new Promise(function(Ee){Ee(ie(me.data,re))}).then(function(){ue.postMessage({sourceName:Ve,targetName:le,stream:8,streamId:Ae,success:!0})},function(Ee){ue.postMessage({sourceName:Ve,targetName:le,stream:8,streamId:Ae,reason:f(Ee)})})}_processStreamMessage(me){const Ae=me.streamId,Ve=this.sourceName,le=me.sourceName,ue=this.comObj,Ie=this.streamControllers[Ae],ie=this.streamSinks[Ae];switch(me.stream){case 8:me.success?Ie.startCall.resolve():Ie.startCall.reject(f(me.reason));break;case 7:me.success?Ie.pullCall.resolve():Ie.pullCall.reject(f(me.reason));break;case 6:if(!ie){ue.postMessage({sourceName:Ve,targetName:le,stream:7,streamId:Ae,success:!0});break}ie.desiredSize<=0&&me.desiredSize>0&&ie.sinkCapability.resolve(),ie.desiredSize=me.desiredSize,new Promise(function(re){re(ie.onPull&&ie.onPull())}).then(function(){ue.postMessage({sourceName:Ve,targetName:le,stream:7,streamId:Ae,success:!0})},function(re){ue.postMessage({sourceName:Ve,targetName:le,stream:7,streamId:Ae,reason:f(re)})});break;case 4:if((0,u.assert)(Ie,"enqueue should have stream controller"),Ie.isClosed)break;Ie.controller.enqueue(me.chunk);break;case 3:if((0,u.assert)(Ie,"close should have stream controller"),Ie.isClosed)break;Ie.isClosed=!0,Ie.controller.close(),this._deleteStreamController(Ie,Ae);break;case 5:(0,u.assert)(Ie,"error should have stream controller"),Ie.controller.error(f(me.reason)),this._deleteStreamController(Ie,Ae);break;case 2:me.success?Ie.cancelCall.resolve():Ie.cancelCall.reject(f(me.reason)),this._deleteStreamController(Ie,Ae);break;case 1:if(!ie)break;new Promise(function(re){re(ie.onCancel&&ie.onCancel(f(me.reason)))}).then(function(){ue.postMessage({sourceName:Ve,targetName:le,stream:2,streamId:Ae,success:!0})},function(re){ue.postMessage({sourceName:Ve,targetName:le,stream:2,streamId:Ae,reason:f(re)})}),ie.sinkCapability.reject(f(me.reason)),ie.isCancelled=!0,delete this.streamSinks[Ae];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(me,Ae){var Ve=this;return _asyncToGenerator(function*(){yield Promise.allSettled([me.startCall&&me.startCall.promise,me.pullCall&&me.pullCall.promise,me.cancelCall&&me.cancelCall.promise]),delete Ve.streamControllers[Ae]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Metadata=void 0;var u=V(1),G=new WeakMap,ne=new WeakMap;R.Metadata=class f{constructor({parsedData:Se,rawData:me}){_classPrivateFieldInitSpec(this,G,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,ne,{writable:!0,value:void 0}),_classPrivateFieldSet(this,G,Se),_classPrivateFieldSet(this,ne,me)}getRaw(){return _classPrivateFieldGet(this,ne)}get(Se){return _classPrivateFieldGet(this,G).get(Se)??null}getAll(){return(0,u.objectFromMap)(_classPrivateFieldGet(this,G))}has(Se){return _classPrivateFieldGet(this,G).has(Se)}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.OptionalContentConfig=void 0;var u=V(1);class G{constructor(be,Se){this.visible=!0,this.name=be,this.intent=Se}}R.OptionalContentConfig=class ne{constructor(be){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==be){this.name=be.name,this.creator=be.creator,this._order=be.order;for(const Se of be.groups)this._groups.set(Se.id,new G(Se.name,Se.intent));if("OFF"===be.baseState)for(const Se of this._groups)Se.visible=!1;for(const Se of be.on)this._groups.get(Se).visible=!0;for(const Se of be.off)this._groups.get(Se).visible=!1}}_evaluateVisibilityExpression(be){const Se=be.length;if(Se<2)return!0;const me=be[0];for(let Ae=1;Ae<Se;Ae++){const Ve=be[Ae];let le;if(Array.isArray(Ve))le=this._evaluateVisibilityExpression(Ve);else{if(!this._groups.has(Ve))return(0,u.warn)(`Optional content group not found: ${Ve}`),!0;le=this._groups.get(Ve).visible}switch(me){case"And":if(!le)return!1;break;case"Or":if(le)return!0;break;case"Not":return!le;default:return!0}}return"And"===me}isVisible(be){if(0===this._groups.size)return!0;if(!be)return(0,u.warn)("Optional content group not defined."),!0;if("OCG"===be.type)return this._groups.has(be.id)?this._groups.get(be.id).visible:((0,u.warn)(`Optional content group not found: ${be.id}`),!0);if("OCMD"===be.type){if(be.expression)return this._evaluateVisibilityExpression(be.expression);if(!be.policy||"AnyOn"===be.policy){for(const Se of be.ids){if(!this._groups.has(Se))return(0,u.warn)(`Optional content group not found: ${Se}`),!0;if(this._groups.get(Se).visible)return!0}return!1}if("AllOn"===be.policy){for(const Se of be.ids){if(!this._groups.has(Se))return(0,u.warn)(`Optional content group not found: ${Se}`),!0;if(!this._groups.get(Se).visible)return!1}return!0}if("AnyOff"===be.policy){for(const Se of be.ids){if(!this._groups.has(Se))return(0,u.warn)(`Optional content group not found: ${Se}`),!0;if(!this._groups.get(Se).visible)return!0}return!1}if("AllOff"===be.policy){for(const Se of be.ids){if(!this._groups.has(Se))return(0,u.warn)(`Optional content group not found: ${Se}`),!0;if(this._groups.get(Se).visible)return!1}return!0}return(0,u.warn)(`Unknown optional content policy ${be.policy}.`),!0}return(0,u.warn)(`Unknown group type ${be.type}.`),!0}setVisibility(be,Se=!0){this._groups.has(be)?this._groups.get(be).visible=!!Se:(0,u.warn)(`Optional content group not found: ${be}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,u.objectFromMap)(this._groups):null}getGroup(be){return this._groups.get(be)||null}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFDataTransportStream=void 0;var u=V(1),G=V(5);R.PDFDataTransportStream=class ne{constructor(me,Ae){(0,u.assert)(Ae,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=me.progressiveDone||!1,this._contentDispositionFilename=me.contentDispositionFilename||null;const Ve=me.initialData;if(Ve?.length>0){const le=new Uint8Array(Ve).buffer;this._queuedChunks.push(le)}this._pdfDataRangeTransport=Ae,this._isStreamingSupported=!me.disableStream,this._isRangeSupported=!me.disableRange,this._contentLength=me.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((le,ue)=>{this._onReceiveData({begin:le,chunk:ue})}),this._pdfDataRangeTransport.addProgressListener((le,ue)=>{this._onProgress({loaded:le,total:ue})}),this._pdfDataRangeTransport.addProgressiveReadListener(le=>{this._onReceiveData({chunk:le})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(me){const Ae=new Uint8Array(me.chunk).buffer;if(void 0===me.begin)this._fullRequestReader?this._fullRequestReader._enqueue(Ae):this._queuedChunks.push(Ae);else{const Ve=this._rangeReaders.some(function(le){return le._begin===me.begin&&(le._enqueue(Ae),!0)});(0,u.assert)(Ve,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(me){if(void 0===me.total){const Ae=this._rangeReaders[0];Ae?.onProgress&&Ae.onProgress({loaded:me.loaded})}else{const Ae=this._fullRequestReader;Ae?.onProgress&&Ae.onProgress({loaded:me.loaded,total:me.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(me){const Ae=this._rangeReaders.indexOf(me);Ae>=0&&this._rangeReaders.splice(Ae,1)}getFullReader(){(0,u.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const me=this._queuedChunks;return this._queuedChunks=null,new f(this,me,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(me,Ae){if(Ae<=this._progressiveDataLength)return null;const Ve=new be(this,me,Ae);return this._pdfDataRangeTransport.requestDataRange(me,Ae),this._rangeReaders.push(Ve),Ve}cancelAllRequests(me){this._fullRequestReader&&this._fullRequestReader.cancel(me);for(const Ae of this._rangeReaders.slice(0))Ae.cancel(me);this._pdfDataRangeTransport.abort()}};class f{constructor(me,Ae,Ve=!1,le=null){this._stream=me,this._done=Ve||!1,this._filename=(0,G.isPdfFile)(le)?le:null,this._queuedChunks=Ae||[],this._loaded=0;for(const ue of this._queuedChunks)this._loaded+=ue.byteLength;this._requests=[],this._headersReady=Promise.resolve(),me._fullRequestReader=this,this.onProgress=null}_enqueue(me){this._done||(this._requests.length>0?this._requests.shift().resolve({value:me,done:!1}):this._queuedChunks.push(me),this._loaded+=me.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var me=this;return _asyncToGenerator(function*(){if(me._queuedChunks.length>0)return{value:me._queuedChunks.shift(),done:!1};if(me._done)return{value:void 0,done:!0};const Ae=(0,u.createPromiseCapability)();return me._requests.push(Ae),Ae.promise})()}cancel(me){this._done=!0;for(const Ae of this._requests)Ae.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class be{constructor(me,Ae,Ve){this._stream=me,this._begin=Ae,this._end=Ve,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(me){if(!this._done){if(0===this._requests.length)this._queuedChunk=me;else{this._requests.shift().resolve({value:me,done:!1});for(const Ve of this._requests)Ve.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var me=this;return _asyncToGenerator(function*(){if(me._queuedChunk){const Ve=me._queuedChunk;return me._queuedChunk=null,{value:Ve,done:!1}}if(me._done)return{value:void 0,done:!0};const Ae=(0,u.createPromiseCapability)();return me._requests.push(Ae),Ae.promise})()}cancel(me){this._done=!0;for(const Ae of this._requests)Ae.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Be,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.XfaText=void 0;class V{static textContent(G){const ne=[],f={items:ne,styles:Object.create(null)};return function be(Se){if(!Se)return;let me=null;const Ae=Se.name;if("#text"===Ae)me=Se.value;else{if(!V.shouldBuildText(Ae))return;Se?.attributes?.textContent?me=Se.attributes.textContent:Se.value&&(me=Se.value)}if(null!==me&&ne.push({str:me}),Se.children)for(const Ve of Se.children)be(Ve)}(G),f}static shouldBuildText(G){return!("textarea"===G||"input"===G||"option"===G||"select"===G)}}R.XfaText=V},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.AnnotationLayer=void 0;var u=V(1),G=V(5),ne=V(9),f=V(19),be=V(20);const me=new WeakSet;function Ae(N){return{width:N[2]-N[0],height:N[3]-N[1]}}class Ve{static create(w){switch(w.data.annotationType){case u.AnnotationType.LINK:return new ue(w);case u.AnnotationType.TEXT:return new Ie(w);case u.AnnotationType.WIDGET:switch(w.data.fieldType){case"Tx":return new re(w);case"Btn":return w.data.radioButton?new De(w):w.data.checkBox?new Ee(w):new Ce(w);case"Ch":return new ye(w)}return new ie(w);case u.AnnotationType.POPUP:return new P(w);case u.AnnotationType.FREETEXT:return new Y(w);case u.AnnotationType.LINE:return new pe(w);case u.AnnotationType.SQUARE:return new J(w);case u.AnnotationType.CIRCLE:return new Re(w);case u.AnnotationType.POLYLINE:return new Q(w);case u.AnnotationType.CARET:return new he(w);case u.AnnotationType.INK:return new Te(w);case u.AnnotationType.POLYGON:return new k(w);case u.AnnotationType.HIGHLIGHT:return new ke(w);case u.AnnotationType.UNDERLINE:return new He(w);case u.AnnotationType.SQUIGGLY:return new Ue(w);case u.AnnotationType.STRIKEOUT:return new ot(w);case u.AnnotationType.STAMP:return new we(w);case u.AnnotationType.FILEATTACHMENT:return new te(w);default:return new le(w)}}}class le{constructor(w,{isRenderable:M=!1,ignoreBorder:W=!1,createQuadrilaterals:ge=!1}={}){this.isRenderable=M,this.data=w.data,this.layer=w.layer,this.page=w.page,this.viewport=w.viewport,this.linkService=w.linkService,this.downloadManager=w.downloadManager,this.imageResourcesPath=w.imageResourcesPath,this.renderForms=w.renderForms,this.svgFactory=w.svgFactory,this.annotationStorage=w.annotationStorage,this.enableScripting=w.enableScripting,this.hasJSActions=w.hasJSActions,this._fieldObjects=w.fieldObjects,this._mouseState=w.mouseState,M&&(this.container=this._createContainer(W)),ge&&(this.quadrilaterals=this._createQuadrilaterals(W))}_createContainer(w=!1){const M=this.data,W=this.page,ge=this.viewport,de=document.createElement("section");let{width:ee,height:We}=Ae(M.rect);de.setAttribute("data-annotation-id",M.id);const Ze=u.Util.normalizeRect([M.rect[0],W.view[3]-M.rect[1]+W.view[1],M.rect[2],W.view[3]-M.rect[3]+W.view[1]]);if(M.hasOwnCanvas){const Xe=ge.transform.slice(),[Ke,mt]=u.Util.singularValueDecompose2dScale(Xe);ee=Math.ceil(ee*Ke),We=Math.ceil(We*mt),Ze[0]*=Ke,Ze[1]*=mt;for(let Lt=0;Lt<4;Lt++)Xe[Lt]=Math.sign(Xe[Lt]);de.style.transform=`matrix(${Xe.join(",")})`}else de.style.transform=`matrix(${ge.transform.join(",")})`;if(de.style.transformOrigin=`${-Ze[0]}px ${-Ze[1]}px`,!w&&M.borderStyle.width>0){de.style.borderWidth=`${M.borderStyle.width}px`,M.borderStyle.style!==u.AnnotationBorderStyleType.UNDERLINE&&(ee-=2*M.borderStyle.width,We-=2*M.borderStyle.width);const Xe=M.borderStyle.horizontalCornerRadius,Ke=M.borderStyle.verticalCornerRadius;switch((Xe>0||Ke>0)&&(de.style.borderRadius=`${Xe}px / ${Ke}px`),M.borderStyle.style){case u.AnnotationBorderStyleType.SOLID:de.style.borderStyle="solid";break;case u.AnnotationBorderStyleType.DASHED:de.style.borderStyle="dashed";break;case u.AnnotationBorderStyleType.BEVELED:(0,u.warn)("Unimplemented border style: beveled");break;case u.AnnotationBorderStyleType.INSET:(0,u.warn)("Unimplemented border style: inset");break;case u.AnnotationBorderStyleType.UNDERLINE:de.style.borderBottomStyle="solid"}M.borderColor||M.color?de.style.borderColor=u.Util.makeHexColor(0|M.color[0],0|M.color[1],0|M.color[2]):de.style.borderWidth=0}return de.style.left=`${Ze[0]}px`,de.style.top=`${Ze[1]}px`,M.hasOwnCanvas?de.style.width=de.style.height="auto":(de.style.width=`${ee}px`,de.style.height=`${We}px`),de}_createQuadrilaterals(w=!1){if(!this.data.quadPoints)return null;const M=[],W=this.data.rect;for(const ge of this.data.quadPoints)this.data.rect=[ge[2].x,ge[2].y,ge[1].x,ge[1].y],M.push(this._createContainer(w));return this.data.rect=W,M}_createPopup(w,M){let W=this.container;this.quadrilaterals&&(w=w||this.quadrilaterals,W=this.quadrilaterals[0]),w||((w=document.createElement("div")).style.height=W.style.height,w.style.width=W.style.width,W.appendChild(w));const de=new A({container:W,trigger:w,color:M.color,titleObj:M.titleObj,modificationDate:M.modificationDate,contentsObj:M.contentsObj,richText:M.richText,hideWrapper:!0}).render();de.style.left=W.style.width,W.appendChild(de)}_renderQuadrilaterals(w){for(const M of this.quadrilaterals)M.className=w;return this.quadrilaterals}render(){(0,u.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(w,M=null){const W=[];if(this._fieldObjects){const ge=this._fieldObjects[w];if(ge)for(const{page:de,id:ee,exportValues:We}of ge){if(-1===de||ee===M)continue;const Ze="string"==typeof We?We:null,Xe=document.getElementById(ee);!Xe||me.has(Xe)?W.push({id:ee,exportValue:Ze,domElement:Xe}):(0,u.warn)(`_getElementsByName - element not allowed: ${ee}`)}return W}for(const ge of document.getElementsByName(w)){const{id:de,exportValue:ee}=ge;de!==M&&me.has(ge)&&W.push({id:de,exportValue:ee,domElement:ge})}return W}static get platform(){const w=typeof navigator<"u"?navigator.platform:"";return(0,u.shadow)(this,"platform",{isWin:w.includes("Win"),isMac:w.includes("Mac")})}}class ue extends le{constructor(w,M=null){super(w,{isRenderable:!!(w.data.url||w.data.dest||w.data.action||w.data.isTooltipOnly||w.data.resetForm||w.data.actions&&(w.data.actions.Action||w.data.actions["Mouse Up"]||w.data.actions["Mouse Down"])),ignoreBorder:!!M?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:w,linkService:M}=this,W=document.createElement("a");if(w.url)M.addLinkAttributes||(0,u.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),M.addLinkAttributes?.(W,w.url,w.newWindow);else if(w.action)this._bindNamedAction(W,w.action);else if(w.dest)this._bindLink(W,w.dest);else{let ge=!1;w.actions&&(w.actions.Action||w.actions["Mouse Up"]||w.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(ge=!0,this._bindJSAction(W,w)),w.resetForm?this._bindResetFormAction(W,w.resetForm):ge||this._bindLink(W,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((ge,de)=>{const ee=0===de?W:W.cloneNode();return ge.appendChild(ee),ge}):(this.container.className="linkAnnotation",this.container.appendChild(W),this.container)}_bindLink(w,M){w.href=this.linkService.getDestinationHash(M),w.onclick=()=>(M&&this.linkService.goToDestination(M),!1),(M||""===M)&&(w.className="internalLink")}_bindNamedAction(w,M){w.href=this.linkService.getAnchorUrl(""),w.onclick=()=>(this.linkService.executeNamedAction(M),!1),w.className="internalLink"}_bindJSAction(w,M){w.href=this.linkService.getAnchorUrl("");const W=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ge of Object.keys(M.actions)){const de=W.get(ge);de&&(w[de]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M.id,name:ge}}),!1))}w.onclick||(w.onclick=()=>!1),w.className="internalLink"}_bindResetFormAction(w,M){const W=w.onclick;if(W||(w.href=this.linkService.getAnchorUrl("")),w.className="internalLink",!this._fieldObjects)return(0,u.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(W||(w.onclick=()=>!1));w.onclick=()=>{W&&W();const{fields:ge,refs:de,include:ee}=M,We=[];if(0!==ge.length||0!==de.length){const Ke=new Set(de);for(const mt of ge){const Lt=this._fieldObjects[mt]||[];for(const{id:$t}of Lt)Ke.add($t)}for(const mt of Object.values(this._fieldObjects))for(const Lt of mt)Ke.has(Lt.id)===ee&&We.push(Lt)}else for(const Ke of Object.values(this._fieldObjects))We.push(...Ke);const Ze=this.annotationStorage,Xe=[];for(const Ke of We){const{id:mt}=Ke;switch(Xe.push(mt),Ke.type){case"text":{const $t=Ke.defaultValue||"";Ze.setValue(mt,{value:$t,valueAsString:$t});break}case"checkbox":case"radiobutton":Ze.setValue(mt,{value:Ke.defaultValue===Ke.exportValues});break;case"combobox":case"listbox":Ze.setValue(mt,{value:Ke.defaultValue||""});break;default:continue}const Lt=document.getElementById(mt);!Lt||!me.has(Lt)||Lt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Xe,name:"ResetForm"}}),!1}}}class Ie extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str)})}render(){this.container.className="textAnnotation";const w=document.createElement("img");return w.style.height=this.container.style.height,w.style.width=this.container.style.width,w.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",w.alt="[{{type}} Annotation]",w.dataset.l10nId="text_annotation_type",w.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(w,this.data),this.container.appendChild(w),this.container}}class ie extends le{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(w){const{isWin:M,isMac:W}=le.platform;return M&&w.ctrlKey||W&&w.metaKey}_setEventListener(w,M,W,ge){M.includes("mouse")?w.addEventListener(M,de=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:W,value:ge(de),shift:de.shiftKey,modifier:this._getKeyModifier(de)}})}):w.addEventListener(M,de=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:W,value:ge(de)}})})}_setEventListeners(w,M,W){for(const[ge,de]of M)("Action"===de||this.data.actions?.[de])&&this._setEventListener(w,ge,de,W)}_setBackgroundColor(w){const M=this.data.backgroundColor||null;w.style.backgroundColor=null===M?"transparent":u.Util.makeHexColor(M[0],M[1],M[2])}_dispatchEventFromSandbox(w,M){const W=(de,ee,We)=>{const Ze=We.detail[de];We.target.style[ee]=f.ColorConverters[`${Ze[0]}_HTML`](Ze.slice(1))},ge={display:de=>{const ee=de.detail.display%2==1;de.target.style.visibility=ee?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ee,print:0===de.detail.display||3===de.detail.display})},print:de=>{this.annotationStorage.setValue(this.data.id,{print:de.detail.print})},hidden:de=>{de.target.style.visibility=de.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:de.detail.hidden})},focus:de=>{setTimeout(()=>de.target.focus({preventScroll:!1}),0)},userName:de=>{de.target.title=de.detail.userName},readonly:de=>{de.detail.readonly?de.target.setAttribute("readonly",""):de.target.removeAttribute("readonly")},required:de=>{de.detail.required?de.target.setAttribute("required",""):de.target.removeAttribute("required")},bgColor:de=>{W("bgColor","backgroundColor",de)},fillColor:de=>{W("fillColor","backgroundColor",de)},fgColor:de=>{W("fgColor","color",de)},textColor:de=>{W("textColor","color",de)},borderColor:de=>{W("borderColor","borderColor",de)},strokeColor:de=>{W("strokeColor","borderColor",de)}};for(const de of Object.keys(M.detail)){const ee=w[de]||ge[de];ee&&ee(M)}}}class re extends ie{constructor(w){super(w,{isRenderable:w.renderForms||!w.data.hasAppearance&&!!w.data.fieldValue})}setPropertyOnSiblings(w,M,W,ge){const de=this.annotationStorage;for(const ee of this._getElementsByName(w.name,w.id))ee.domElement&&(ee.domElement[M]=W),de.setValue(ee.id,{[ge]:W})}render(){const w=this.annotationStorage,M=this.data.id;this.container.className="textWidgetAnnotation";let W=null;if(this.renderForms){const ge=w.getValue(M,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),de=ge.valueAsString||ge.value||"",ee={userValue:null,formattedValue:null};this.data.multiLine?(W=document.createElement("textarea"),W.textContent=de):(W=document.createElement("input"),W.type="text",W.setAttribute("value",de)),me.add(W),W.disabled=this.data.readOnly,W.name=this.data.fieldName,W.tabIndex=1e3,ee.userValue=de,W.setAttribute("id",M),W.addEventListener("input",Ze=>{w.setValue(M,{value:Ze.target.value}),this.setPropertyOnSiblings(W,"value",Ze.target.value,"value")}),W.addEventListener("resetform",Ze=>{W.value=ee.userValue=this.data.defaultFieldValue||"",delete ee.formattedValue});let We=Ze=>{ee.formattedValue&&(Ze.target.value=ee.formattedValue),Ze.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){W.addEventListener("focus",Xe=>{ee.userValue&&(Xe.target.value=ee.userValue)}),W.addEventListener("updatefromsandbox",Xe=>{this._dispatchEventFromSandbox({value(mt){ee.userValue=mt.detail.value||"",w.setValue(M,{value:ee.userValue.toString()}),ee.formattedValue||(mt.target.value=ee.userValue)},valueAsString(mt){ee.formattedValue=mt.detail.valueAsString||"",mt.target!==document.activeElement&&(mt.target.value=ee.formattedValue),w.setValue(M,{formattedValue:ee.formattedValue})},selRange(mt){const[Lt,$t]=mt.detail.selRange;Lt>=0&&$t<mt.target.value.length&&mt.target.setSelectionRange(Lt,$t)}},Xe)}),W.addEventListener("keydown",Xe=>{let Ke=-1;"Escape"===Xe.key?Ke=0:"Enter"===Xe.key?Ke=2:"Tab"===Xe.key&&(Ke=3),-1!==Ke&&(ee.userValue=Xe.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Xe.target.value,willCommit:!0,commitKey:Ke,selStart:Xe.target.selectionStart,selEnd:Xe.target.selectionEnd}}))});const Ze=We;We=null,W.addEventListener("blur",Xe=>{ee.userValue=Xe.target.value,this._mouseState.isDown&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Xe.target.value,willCommit:!0,commitKey:1,selStart:Xe.target.selectionStart,selEnd:Xe.target.selectionEnd}}),Ze(Xe)}),this.data.actions?.Keystroke&&W.addEventListener("beforeinput",Xe=>{ee.formattedValue="";const{data:Ke,target:mt}=Xe,{value:Lt,selectionStart:$t,selectionEnd:Bt}=mt;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Lt,change:Ke,willCommit:!1,selStart:$t,selEnd:Bt}})}),this._setEventListeners(W,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Xe=>Xe.target.value)}if(We&&W.addEventListener("blur",We),null!==this.data.maxLen&&(W.maxLength=this.data.maxLen),this.data.comb){const Xe=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;W.classList.add("comb"),W.style.letterSpacing=`calc(${Xe}px - 1ch)`}}else W=document.createElement("div"),W.textContent=this.data.fieldValue,W.style.verticalAlign="middle",W.style.display="table-cell";return this._setTextStyle(W),this._setBackgroundColor(W),this.container.appendChild(W),this.container}_setTextStyle(w){const{fontSize:W,fontColor:ge}=this.data.defaultAppearanceData,de=w.style;W&&(de.fontSize=`${W}px`),de.color=u.Util.makeHexColor(ge[0],ge[1],ge[2]),null!==this.data.textAlignment&&(de.textAlign=["left","center","right"][this.data.textAlignment])}}class Ee extends ie{constructor(w){super(w,{isRenderable:w.renderForms})}render(){const w=this.annotationStorage,M=this.data,W=M.id;let ge=w.getValue(W,{value:M.exportValue===M.fieldValue}).value;"string"==typeof ge&&(ge="Off"!==ge,w.setValue(W,{value:ge})),this.container.className="buttonWidgetAnnotation checkBox";const de=document.createElement("input");return me.add(de),de.disabled=M.readOnly,de.type="checkbox",de.name=M.fieldName,ge&&de.setAttribute("checked",!0),de.setAttribute("id",W),de.setAttribute("exportValue",M.exportValue),de.tabIndex=1e3,de.addEventListener("change",ee=>{const{name:We,checked:Ze}=ee.target;for(const Xe of this._getElementsByName(We,W)){const Ke=Ze&&Xe.exportValue===M.exportValue;Xe.domElement&&(Xe.domElement.checked=Ke),w.setValue(Xe.id,{value:Ke})}w.setValue(W,{value:Ze})}),de.addEventListener("resetform",ee=>{ee.target.checked=(M.defaultFieldValue||"Off")===M.exportValue}),this.enableScripting&&this.hasJSActions&&(de.addEventListener("updatefromsandbox",ee=>{this._dispatchEventFromSandbox({value(Ze){Ze.target.checked="Off"!==Ze.detail.value,w.setValue(W,{value:Ze.target.checked})}},ee)}),this._setEventListeners(de,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ee=>ee.target.checked)),this._setBackgroundColor(de),this.container.appendChild(de),this.container}}class De extends ie{constructor(w){super(w,{isRenderable:w.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const w=this.annotationStorage,M=this.data,W=M.id;let ge=w.getValue(W,{value:M.fieldValue===M.buttonValue}).value;"string"==typeof ge&&(ge=ge!==M.buttonValue,w.setValue(W,{value:ge}));const de=document.createElement("input");if(me.add(de),de.disabled=M.readOnly,de.type="radio",de.name=M.fieldName,ge&&de.setAttribute("checked",!0),de.setAttribute("id",W),de.tabIndex=1e3,de.addEventListener("change",ee=>{const{name:We,checked:Ze}=ee.target;for(const Xe of this._getElementsByName(We,W))w.setValue(Xe.id,{value:!1});w.setValue(W,{value:Ze})}),de.addEventListener("resetform",ee=>{const We=M.defaultFieldValue;ee.target.checked=null!=We&&We===M.buttonValue}),this.enableScripting&&this.hasJSActions){const ee=M.buttonValue;de.addEventListener("updatefromsandbox",We=>{this._dispatchEventFromSandbox({value:Xe=>{const Ke=ee===Xe.detail.value;for(const mt of this._getElementsByName(Xe.target.name)){const Lt=Ke&&mt.id===W;mt.domElement&&(mt.domElement.checked=Lt),w.setValue(mt.id,{value:Lt})}}},We)}),this._setEventListeners(de,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],We=>We.target.checked)}return this._setBackgroundColor(de),this.container.appendChild(de),this.container}}class Ce extends ue{constructor(w){super(w,{ignoreBorder:w.data.hasAppearance})}render(){const w=super.render();return w.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(w.title=this.data.alternativeText),w}}class ye extends ie{constructor(w){super(w,{isRenderable:w.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const w=this.annotationStorage,M=this.data.id;w.getValue(M,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:W}=this.data.defaultAppearanceData;W||(W=9);const ge=`calc(${W}px * var(--zoom-factor))`,de=document.createElement("select");me.add(de),de.disabled=this.data.readOnly,de.name=this.data.fieldName,de.setAttribute("id",M),de.tabIndex=1e3,de.style.fontSize=`${W}px`,this.data.combo||(de.size=this.data.options.length,this.data.multiSelect&&(de.multiple=!0)),de.addEventListener("resetform",Ze=>{const Xe=this.data.defaultFieldValue;for(const Ke of de.options)Ke.selected=Ke.value===Xe});for(const Ze of this.data.options){const Xe=document.createElement("option");Xe.textContent=Ze.displayValue,Xe.value=Ze.exportValue,this.data.combo&&(Xe.style.fontSize=ge),this.data.fieldValue.includes(Ze.exportValue)&&Xe.setAttribute("selected",!0),de.appendChild(Xe)}const ee=(Ze,Xe)=>{const Ke=Xe?"value":"textContent",mt=Ze.target.options;return Ze.target.multiple?Array.prototype.filter.call(mt,Lt=>Lt.selected).map(Lt=>Lt[Ke]):-1===mt.selectedIndex?null:mt[mt.selectedIndex][Ke]},We=Ze=>Array.prototype.map.call(Ze.target.options,Ke=>({displayValue:Ke.textContent,exportValue:Ke.value}));return this.enableScripting&&this.hasJSActions?(de.addEventListener("updatefromsandbox",Ze=>{this._dispatchEventFromSandbox({value(Ke){const mt=Ke.detail.value,Lt=new Set(Array.isArray(mt)?mt:[mt]);for(const $t of de.options)$t.selected=Lt.has($t.value);w.setValue(M,{value:ee(Ke,!0)})},multipleSelection(Ke){de.multiple=!0},remove(Ke){const mt=de.options,Lt=Ke.detail.remove;mt[Lt].selected=!1,de.remove(Lt),mt.length>0&&-1===Array.prototype.findIndex.call(mt,Bt=>Bt.selected)&&(mt[0].selected=!0),w.setValue(M,{value:ee(Ke,!0),items:We(Ke)})},clear(Ke){for(;0!==de.length;)de.remove(0);w.setValue(M,{value:null,items:[]})},insert(Ke){const{index:mt,displayValue:Lt,exportValue:$t}=Ke.detail.insert,Bt=document.createElement("option");Bt.textContent=Lt,Bt.value=$t,de.insertBefore(Bt,de.children[mt]),w.setValue(M,{value:ee(Ke,!0),items:We(Ke)})},items(Ke){const{items:mt}=Ke.detail;for(;0!==de.length;)de.remove(0);for(const Lt of mt){const{displayValue:$t,exportValue:Bt}=Lt,kt=document.createElement("option");kt.textContent=$t,kt.value=Bt,de.appendChild(kt)}de.options.length>0&&(de.options[0].selected=!0),w.setValue(M,{value:ee(Ke,!0),items:We(Ke)})},indices(Ke){const mt=new Set(Ke.detail.indices);for(const Lt of Ke.target.options)Lt.selected=mt.has(Lt.index);w.setValue(M,{value:ee(Ke,!0)})},editable(Ke){Ke.target.disabled=!Ke.detail.editable}},Ze)}),de.addEventListener("input",Ze=>{const Xe=ee(Ze,!0),Ke=ee(Ze,!1);w.setValue(M,{value:Xe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Ke,changeEx:Xe,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(de,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Ze=>Ze.target.checked)):de.addEventListener("input",function(Ze){w.setValue(M,{value:ee(Ze)})}),this._setBackgroundColor(de),this.container.appendChild(de),this.container}}class P extends le{constructor(w){super(w,{isRenderable:!!(w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const W=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===W.length)return this.container;const ge=new A({container:this.container,trigger:Array.from(W),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),de=this.page,ee=u.Util.normalizeRect([this.data.parentRect[0],de.view[3]-this.data.parentRect[1]+de.view[1],this.data.parentRect[2],de.view[3]-this.data.parentRect[3]+de.view[1]]),We=ee[0]+this.data.parentRect[2]-this.data.parentRect[0],Ze=ee[1];return this.container.style.transformOrigin=`${-We}px ${-Ze}px`,this.container.style.left=`${We}px`,this.container.style.top=`${Ze}px`,this.container.appendChild(ge.render()),this.container}}class A{constructor(w){this.container=w.container,this.trigger=w.trigger,this.color=w.color,this.titleObj=w.titleObj,this.modificationDate=w.modificationDate,this.contentsObj=w.contentsObj,this.richText=w.richText,this.hideWrapper=w.hideWrapper||!1,this.pinned=!1}render(){const M=document.createElement("div");M.className="popupWrapper",this.hideElement=this.hideWrapper?M:this.container,this.hideElement.hidden=!0;const W=document.createElement("div");W.className="popup";const ge=this.color;ge&&(W.style.backgroundColor=u.Util.makeHexColor(0|.7*(255-ge[0])+ge[0],0|.7*(255-ge[1])+ge[1],0|.7*(255-ge[2])+ge[2]));const de=document.createElement("h1");de.dir=this.titleObj.dir,de.textContent=this.titleObj.str,W.appendChild(de);const ee=G.PDFDateString.toDateObject(this.modificationDate);if(ee){const We=document.createElement("span");We.className="popupDate",We.textContent="{{date}}, {{time}}",We.dataset.l10nId="annotation_date_string",We.dataset.l10nArgs=JSON.stringify({date:ee.toLocaleDateString(),time:ee.toLocaleTimeString()}),W.appendChild(We)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const We=this._formatContents(this.contentsObj);W.appendChild(We)}else be.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:W}),W.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const We of this.trigger)We.addEventListener("click",this._toggle.bind(this)),We.addEventListener("mouseover",this._show.bind(this,!1)),We.addEventListener("mouseout",this._hide.bind(this,!1));return W.addEventListener("click",this._hide.bind(this,!0)),M.appendChild(W),M}_formatContents({str:w,dir:M}){const W=document.createElement("p");W.className="popupContent",W.dir=M;const ge=w.split(/(?:\r\n?|\n)/);for(let de=0,ee=ge.length;de<ee;++de)W.appendChild(document.createTextNode(ge[de])),de<ee-1&&W.appendChild(document.createElement("br"));return W}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(w=!1){w&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(w=!0){w&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class Y extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class pe extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const w=this.data,{width:M,height:W}=Ae(w.rect),ge=this.svgFactory.create(M,W),de=this.svgFactory.createElement("svg:line");return de.setAttribute("x1",w.rect[2]-w.lineCoordinates[0]),de.setAttribute("y1",w.rect[3]-w.lineCoordinates[1]),de.setAttribute("x2",w.rect[2]-w.lineCoordinates[2]),de.setAttribute("y2",w.rect[3]-w.lineCoordinates[3]),de.setAttribute("stroke-width",w.borderStyle.width||1),de.setAttribute("stroke","transparent"),de.setAttribute("fill","transparent"),ge.appendChild(de),this.container.append(ge),this._createPopup(de,w),this.container}}class J extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const w=this.data,{width:M,height:W}=Ae(w.rect),ge=this.svgFactory.create(M,W),de=w.borderStyle.width,ee=this.svgFactory.createElement("svg:rect");return ee.setAttribute("x",de/2),ee.setAttribute("y",de/2),ee.setAttribute("width",M-de),ee.setAttribute("height",W-de),ee.setAttribute("stroke-width",de||1),ee.setAttribute("stroke","transparent"),ee.setAttribute("fill","transparent"),ge.appendChild(ee),this.container.append(ge),this._createPopup(ee,w),this.container}}class Re extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const w=this.data,{width:M,height:W}=Ae(w.rect),ge=this.svgFactory.create(M,W),de=w.borderStyle.width,ee=this.svgFactory.createElement("svg:ellipse");return ee.setAttribute("cx",M/2),ee.setAttribute("cy",W/2),ee.setAttribute("rx",M/2-de/2),ee.setAttribute("ry",W/2-de/2),ee.setAttribute("stroke-width",de||1),ee.setAttribute("stroke","transparent"),ee.setAttribute("fill","transparent"),ge.appendChild(ee),this.container.append(ge),this._createPopup(ee,w),this.container}}class Q extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const w=this.data,{width:M,height:W}=Ae(w.rect),ge=this.svgFactory.create(M,W);let de=[];for(const We of w.vertices)de.push(We.x-w.rect[0]+","+(w.rect[3]-We.y));de=de.join(" ");const ee=this.svgFactory.createElement(this.svgElementName);return ee.setAttribute("points",de),ee.setAttribute("stroke-width",w.borderStyle.width||1),ee.setAttribute("stroke","transparent"),ee.setAttribute("fill","transparent"),ge.appendChild(ee),this.container.append(ge),this._createPopup(ee,w),this.container}}class k extends Q{constructor(w){super(w),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class he extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Te extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const w=this.data,{width:M,height:W}=Ae(w.rect),ge=this.svgFactory.create(M,W);for(const de of w.inkLists){let ee=[];for(const Ze of de)ee.push(`${Ze.x-w.rect[0]},${w.rect[3]-Ze.y}`);ee=ee.join(" ");const We=this.svgFactory.createElement(this.svgElementName);We.setAttribute("points",ee),We.setAttribute("stroke-width",w.borderStyle.width||1),We.setAttribute("stroke","transparent"),We.setAttribute("fill","transparent"),this._createPopup(We,w),ge.appendChild(We)}return this.container.append(ge),this.container}}class ke extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class He extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Ue extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ot extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class we extends le{constructor(w){super(w,{isRenderable:!!(w.data.hasPopup||w.data.titleObj?.str||w.data.contentsObj?.str||w.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class te extends le{constructor(w){super(w,{isRenderable:!0});const{filename:M,content:W}=this.data.file;this.filename=(0,G.getFilenameFromUrl)(M),this.content=W,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,u.stringToPDFString)(M),filename:M,content:W})}render(){this.container.className="fileAttachmentAnnotation";const w=document.createElement("div");return w.style.height=this.container.style.height,w.style.width=this.container.style.width,w.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(w,this.data),this.container.appendChild(w),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class H{static render(w){const M=[],W=[];for(const de of w.annotations){if(!de)continue;const{width:ee,height:We}=Ae(de.rect);if(!(ee<=0||We<=0)){if(de.annotationType===u.AnnotationType.POPUP){W.push(de);continue}M.push(de)}}W.length&&M.push(...W);const ge=w.div;for(const de of M){const ee=Ve.create({data:de,layer:ge,page:w.page,viewport:w.viewport,linkService:w.linkService,downloadManager:w.downloadManager,imageResourcesPath:w.imageResourcesPath||"",renderForms:!1!==w.renderForms,svgFactory:new G.DOMSVGFactory,annotationStorage:w.annotationStorage||new ne.AnnotationStorage,enableScripting:w.enableScripting,hasJSActions:w.hasJSActions,fieldObjects:w.fieldObjects,mouseState:w.mouseState||{isDown:!1}});if(ee.isRenderable){const We=ee.render();if(de.hidden&&(We.style.visibility="hidden"),Array.isArray(We))for(const Ze of We)ge.appendChild(Ze);else ee instanceof P?ge.prepend(We):ge.appendChild(We)}}_classStaticPrivateMethodGet(this,H,$).call(this,ge,w.annotationCanvasMap)}static update(w){const{page:M,viewport:W,annotations:ge,annotationCanvasMap:de,div:ee}=w,We=W.transform,Ze=`matrix(${We.join(",")})`;let Xe,Ke;for(const mt of ge){const Lt=ee.querySelectorAll(`[data-annotation-id="${mt.id}"]`);if(Lt)for(const $t of Lt)if(mt.hasOwnCanvas){const Bt=u.Util.normalizeRect([mt.rect[0],M.view[3]-mt.rect[1]+M.view[1],mt.rect[2],M.view[3]-mt.rect[3]+M.view[1]]);if(!Ke){Xe=Math.abs(We[0]||We[1]);const mn=We.slice();for(let Xt=0;Xt<4;Xt++)mn[Xt]=Math.sign(mn[Xt]);Ke=`matrix(${mn.join(",")})`}const kt=Bt[0]*Xe,Zt=Bt[1]*Xe;$t.style.left=`${kt}px`,$t.style.top=`${Zt}px`,$t.style.transformOrigin=`${-kt}px ${-Zt}px`,$t.style.transform=Ke}else $t.style.transform=Ze}_classStaticPrivateMethodGet(this,H,$).call(this,ee,de),ee.hidden=!1}}function $(N,w){if(w){for(const[M,W]of w){const ge=N.querySelector(`[data-annotation-id="${M}"]`);if(!ge)continue;const{firstChild:de}=ge;"CANVAS"===de.nodeName?ge.replaceChild(W,de):ge.insertBefore(W,de)}w.clear()}}R.AnnotationLayer=H},(Be,R)=>{function V(G){return Math.floor(255*Math.max(0,Math.min(1,G))).toString(16).padStart(2,"0")}Object.defineProperty(R,"__esModule",{value:!0}),R.ColorConverters=void 0,R.ColorConverters=class u{static CMYK_G([ne,f,be,Se]){return["G",1-Math.min(1,.3*ne+.59*be+.11*f+Se)]}static G_CMYK([ne]){return["CMYK",0,0,0,1-ne]}static G_RGB([ne]){return["RGB",ne,ne,ne]}static G_HTML([ne]){const f=V(ne);return`#${f}${f}${f}`}static RGB_G([ne,f,be]){return["G",.3*ne+.59*f+.11*be]}static RGB_HTML([ne,f,be]){return`#${V(ne)}${V(f)}${V(be)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ne,f,be,Se]){return["RGB",1-Math.min(1,ne+Se),1-Math.min(1,be+Se),1-Math.min(1,f+Se)]}static CMYK_HTML(ne){return this.RGB_HTML(this.CMYK_RGB(ne))}static RGB_CMYK([ne,f,be]){const Se=1-ne,me=1-f,Ae=1-be;return["CMYK",Se,me,Ae,Math.min(Se,me,Ae)]}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.XfaLayer=void 0;var u=V(1),G=V(17);R.XfaLayer=class ne{static setupStorage(be,Se,me,Ae,Ve){const le=Ae.getValue(Se,{value:null});switch(me.name){case"textarea":if(null!==le.value&&(be.textContent=le.value),"print"===Ve)break;be.addEventListener("input",ue=>{Ae.setValue(Se,{value:ue.target.value})});break;case"input":if("radio"===me.attributes.type||"checkbox"===me.attributes.type){if(le.value===me.attributes.xfaOn?be.setAttribute("checked",!0):le.value===me.attributes.xfaOff&&be.removeAttribute("checked"),"print"===Ve)break;be.addEventListener("change",ue=>{Ae.setValue(Se,{value:ue.target.getAttribute(ue.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==le.value&&be.setAttribute("value",le.value),"print"===Ve)break;be.addEventListener("input",ue=>{Ae.setValue(Se,{value:ue.target.value})})}break;case"select":if(null!==le.value)for(const ue of me.children)ue.attributes.value===le.value&&(ue.attributes.selected=!0);be.addEventListener("input",ue=>{const Ie=ue.target.options;Ae.setValue(Se,{value:-1===Ie.selectedIndex?"":Ie[Ie.selectedIndex].value})})}}static setAttributes({html:be,element:Se,storage:me=null,intent:Ae,linkService:Ve}){const{attributes:le}=Se,ue=be instanceof HTMLAnchorElement;"radio"===le.type&&(le.name=`${le.name}-${Ae}`);for(const[Ie,ie]of Object.entries(le))if(null!=ie&&"dataId"!==Ie)if("style"!==Ie)if("textContent"===Ie)be.textContent=ie;else if("class"===Ie)ie.length&&be.setAttribute(Ie,ie.join(" "));else{if(ue&&("href"===Ie||"newWindow"===Ie))continue;be.setAttribute(Ie,ie)}else Object.assign(be.style,ie);ue&&(Ve.addLinkAttributes||(0,u.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),Ve.addLinkAttributes?.(be,le.href,le.newWindow)),me&&le.dataId&&this.setupStorage(be,le.dataId,Se,me)}static render(be){const Se=be.annotationStorage,me=be.linkService,Ae=be.xfaHtml,Ve=be.intent||"display",le=document.createElement(Ae.name);Ae.attributes&&this.setAttributes({html:le,element:Ae,intent:Ve,linkService:me});const ue=[[Ae,-1,le]],Ie=be.div;if(Ie.appendChild(le),be.viewport){const re=`matrix(${be.viewport.transform.join(",")})`;Ie.style.transform=re}"richText"!==Ve&&Ie.setAttribute("class","xfaLayer xfaFont");const ie=[];for(;ue.length>0;){const[re,Ee,De]=ue[ue.length-1];if(Ee+1===re.children.length){ue.pop();continue}const Ce=re.children[++ue[ue.length-1][1]];if(null===Ce)continue;const{name:ye}=Ce;if("#text"===ye){const A=document.createTextNode(Ce.value);ie.push(A),De.appendChild(A);continue}let P;if(P=Ce?.attributes?.xmlns?document.createElementNS(Ce.attributes.xmlns,ye):document.createElement(ye),De.appendChild(P),Ce.attributes&&this.setAttributes({html:P,element:Ce,storage:Se,intent:Ve,linkService:me}),Ce.children&&Ce.children.length>0)ue.push([Ce,-1,P]);else if(Ce.value){const A=document.createTextNode(Ce.value);G.XfaText.shouldBuildText(ye)&&ie.push(A),P.appendChild(A)}}for(const re of Ie.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))re.setAttribute("readOnly",!0);return{textDivs:ie}}static update(be){const Se=`matrix(${be.viewport.transform.join(",")})`;be.div.style.transform=Se,be.div.hidden=!1}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.renderTextLayer=function Ee(De){const Ce=new re({textContent:De.textContent,textContentStream:De.textContentStream,container:De.container,viewport:De.viewport,textDivs:De.textDivs,textContentItemsStr:De.textContentItemsStr,enhanceTextSelection:De.enhanceTextSelection});return Ce._render(De.timeout),Ce};var u=V(1);const G=1e5,ne=30,f=.8,be=new Map,Se=/^\s+$/g;function Ae(De,Ce,ye,P){const A=document.createElement("span"),Y=De._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==Ce.str,hasEOL:Ce.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==Ce.str,hasEOL:Ce.hasEOL};De._textDivs.push(A);const pe=u.Util.transform(De._viewport.transform,Ce.transform);let J=Math.atan2(pe[1],pe[0]);const Re=ye[Ce.fontName];Re.vertical&&(J+=Math.PI/2);const Q=Math.hypot(pe[2],pe[3]),k=Q*function me(De,Ce){const ye=be.get(De);if(ye)return ye;Ce.save(),Ce.font=`${ne}px ${De}`;const P=Ce.measureText("");let A=P.fontBoundingBoxAscent,Y=Math.abs(P.fontBoundingBoxDescent);if(A){Ce.restore();const J=A/(A+Y);return be.set(De,J),J}Ce.strokeStyle="red",Ce.clearRect(0,0,ne,ne),Ce.strokeText("g",0,0);let pe=Ce.getImageData(0,0,ne,ne).data;Y=0;for(let J=pe.length-1-3;J>=0;J-=4)if(pe[J]>0){Y=Math.ceil(J/4/ne);break}Ce.clearRect(0,0,ne,ne),Ce.strokeText("A",0,ne),pe=Ce.getImageData(0,0,ne,ne).data,A=0;for(let J=0,Re=pe.length;J<Re;J+=4)if(pe[J]>0){A=ne-Math.floor(J/4/ne);break}if(Ce.restore(),A){const J=A/(A+Y);return be.set(De,J),J}return be.set(De,f),f}(Re.fontFamily,P);let he,Te;0===J?(he=pe[4],Te=pe[5]-k):(he=pe[4]+k*Math.sin(J),Te=pe[5]-k*Math.cos(J)),A.style.left=`${he}px`,A.style.top=`${Te}px`,A.style.fontSize=`${Q}px`,A.style.fontFamily=Re.fontFamily,A.setAttribute("role","presentation"),A.textContent=Ce.str,A.dir=Ce.dir,De._fontInspectorEnabled&&(A.dataset.fontName=Ce.fontName),0!==J&&(Y.angle=J*(180/Math.PI));let ke=!1;if(Ce.str.length>1||De._enhanceTextSelection&&Se.test(Ce.str))ke=!0;else if(" "!==Ce.str&&Ce.transform[0]!==Ce.transform[3]){const He=Math.abs(Ce.transform[0]),Ue=Math.abs(Ce.transform[3]);He!==Ue&&Math.max(He,Ue)/Math.min(He,Ue)>1.5&&(ke=!0)}if(ke&&(Y.canvasWidth=Re.vertical?Ce.height*De._viewport.scale:Ce.width*De._viewport.scale),De._textDivProperties.set(A,Y),De._textContentStream&&De._layoutText(A),De._enhanceTextSelection&&Y.hasText){let He=1,Ue=0;0!==J&&(He=Math.cos(J),Ue=Math.sin(J));const ot=(Re.vertical?Ce.height:Ce.width)*De._viewport.scale,we=Q;let te,H;0!==J?(te=[He,Ue,-Ue,He,he,Te],H=u.Util.getAxialAlignedBoundingBox([0,0,ot,we],te)):H=[he,Te,he+ot,Te+we],De._bounds.push({left:H[0],top:H[1],right:H[2],bottom:H[3],div:A,size:[ot,we],m:te})}}function Ve(De){if(De._canceled)return;const Ce=De._textDivs,ye=De._capability,P=Ce.length;if(P>G)return De._renderingDone=!0,void ye.resolve();if(!De._textContentStream)for(let A=0;A<P;A++)De._layoutText(Ce[A]);De._renderingDone=!0,ye.resolve()}function le(De,Ce,ye){let P=0;for(let A=0;A<ye;A++){const Y=De[Ce++];Y>0&&(P=P?Math.min(Y,P):Y)}return P}function ie(De,Ce){Ce.sort(function(A,Y){return A.x1-Y.x1||A.index-Y.index});const P=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const A of Ce){let Y=0;for(;Y<P.length&&P[Y].end<=A.y1;)Y++;let pe=P.length-1;for(;pe>=0&&P[pe].start>=A.y2;)pe--;let J,Re,Q,k,he=-1/0;for(Q=Y;Q<=pe;Q++){let He;J=P[Q],Re=J.boundary,He=Re.x2>A.x1?Re.index>A.index?Re.x1New:A.x1:void 0===Re.x2New?(Re.x2+A.x1)/2:Re.x2New,He>he&&(he=He)}for(A.x1New=he,Q=Y;Q<=pe;Q++)J=P[Q],Re=J.boundary,void 0===Re.x2New?Re.x2>A.x1?Re.index>A.index&&(Re.x2New=Re.x2):Re.x2New=he:Re.x2New>he&&(Re.x2New=Math.max(he,Re.x2));const Te=[];let ke=null;for(Q=Y;Q<=pe;Q++){J=P[Q],Re=J.boundary;const He=Re.x2>A.x2?Re:A;ke===He?Te[Te.length-1].end=J.end:(Te.push({start:J.start,end:J.end,boundary:He}),ke=He)}for(P[Y].start<A.y1&&(Te[0].start=A.y1,Te.unshift({start:P[Y].start,end:A.y1,boundary:P[Y].boundary})),A.y2<P[pe].end&&(Te[Te.length-1].end=A.y2,Te.push({start:A.y2,end:P[pe].end,boundary:P[pe].boundary})),Q=Y;Q<=pe;Q++){if(J=P[Q],Re=J.boundary,void 0!==Re.x2New)continue;let He=!1;for(k=Y-1;!He&&k>=0&&P[k].start>=Re.y1;k--)He=P[k].boundary===Re;for(k=pe+1;!He&&k<P.length&&P[k].end<=Re.y2;k++)He=P[k].boundary===Re;for(k=0;!He&&k<Te.length;k++)He=Te[k].boundary===Re;He||(Re.x2New=he)}Array.prototype.splice.apply(P,[Y,pe-Y+1].concat(Te))}for(const A of P){const Y=A.boundary;void 0===Y.x2New&&(Y.x2New=Math.max(De,Y.x2))}}class re{constructor({textContent:Ce,textContentStream:ye,container:P,viewport:A,textDivs:Y,textContentItemsStr:pe,enhanceTextSelection:J}){this._textContent=Ce,this._textContentStream=ye,this._container=P,this._document=P.ownerDocument,this._viewport=A,this._textDivs=Y||[],this._textContentItemsStr=pe||[],this._enhanceTextSelection=!!J,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,u.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new u.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(Ce,ye){for(let P=0,A=Ce.length;P<A;P++)if(void 0!==Ce[P].str)this._textContentItemsStr.push(Ce[P].str),Ae(this,Ce[P],ye,this._layoutTextCtx);else if("beginMarkedContentProps"===Ce[P].type||"beginMarkedContent"===Ce[P].type){const Y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==Ce[P].id&&this._container.setAttribute("id",`${Ce[P].id}`),Y.appendChild(this._container)}else"endMarkedContent"===Ce[P].type&&(this._container=this._container.parentNode)}_layoutText(Ce){const ye=this._textDivProperties.get(Ce);let P="";if(0!==ye.canvasWidth&&ye.hasText){const{fontSize:A,fontFamily:Y}=Ce.style;(A!==this._layoutTextLastFontSize||Y!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${A} ${Y}`,this._layoutTextLastFontSize=A,this._layoutTextLastFontFamily=Y);const{width:pe}=this._layoutTextCtx.measureText(Ce.textContent);if(pe>0){const J=ye.canvasWidth/pe;this._enhanceTextSelection&&(ye.scale=J),P=`scaleX(${J})`}}if(0!==ye.angle&&(P=`rotate(${ye.angle}deg) ${P}`),P.length>0&&(this._enhanceTextSelection&&(ye.originalTransform=P),Ce.style.transform=P),ye.hasText&&this._container.appendChild(Ce),ye.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this._container.appendChild(A)}}_render(Ce=0){const ye=(0,u.createPromiseCapability)();let P=Object.create(null);const A=this._document.createElement("canvas");if(A.height=A.width=ne,A.mozOpaque=!0,this._layoutTextCtx=A.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),ye.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const Y=()=>{this._reader.read().then(({value:pe,done:J})=>{J?ye.resolve():(Object.assign(P,pe.styles),this._processItems(pe.items,P),Y())},ye.reject)};this._reader=this._textContentStream.getReader(),Y()}}ye.promise.then(()=>{P=null,Ce?this._renderTimer=setTimeout(()=>{Ve(this),this._renderTimer=null},Ce):Ve(this)},this._capability.reject)}expandTextDivs(Ce=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function ue(De){const Ce=De._bounds,ye=De._viewport,P=function Ie(De,Ce,ye){const P=ye.map(function(Y,pe){return{x1:Y.left,y1:Y.top,x2:Y.right,y2:Y.bottom,index:pe,x1New:void 0,x2New:void 0}});ie(De,P);const A=new Array(ye.length);for(const Y of P)A[Y.index]={left:Y.x1New,top:0,right:Y.x2New,bottom:0};ye.map(function(Y,pe){const J=A[pe],Re=P[pe];Re.x1=Y.top,Re.y1=De-J.right,Re.x2=Y.bottom,Re.y2=De-J.left,Re.index=pe,Re.x1New=void 0,Re.x2New=void 0}),ie(Ce,P);for(const Y of P){const pe=Y.index;A[pe].top=Y.x1New,A[pe].bottom=Y.x2New}return A}(ye.width,ye.height,Ce);for(let A=0;A<P.length;A++){const Y=Ce[A].div,pe=De._textDivProperties.get(Y);if(0===pe.angle){pe.paddingLeft=Ce[A].left-P[A].left,pe.paddingTop=Ce[A].top-P[A].top,pe.paddingRight=P[A].right-Ce[A].right,pe.paddingBottom=P[A].bottom-Ce[A].bottom,De._textDivProperties.set(Y,pe);continue}const J=P[A],Re=Ce[A],Q=Re.m,k=Q[0],he=Q[1],Te=[[0,0],[0,Re.size[1]],[Re.size[0],0],Re.size],ke=new Float64Array(64);for(let Ue=0,ot=Te.length;Ue<ot;Ue++){const we=u.Util.applyTransform(Te[Ue],Q);ke[Ue+0]=k&&(J.left-we[0])/k,ke[Ue+4]=he&&(J.top-we[1])/he,ke[Ue+8]=k&&(J.right-we[0])/k,ke[Ue+12]=he&&(J.bottom-we[1])/he,ke[Ue+16]=he&&(J.left-we[0])/-he,ke[Ue+20]=k&&(J.top-we[1])/k,ke[Ue+24]=he&&(J.right-we[0])/-he,ke[Ue+28]=k&&(J.bottom-we[1])/k,ke[Ue+32]=k&&(J.left-we[0])/-k,ke[Ue+36]=he&&(J.top-we[1])/-he,ke[Ue+40]=k&&(J.right-we[0])/-k,ke[Ue+44]=he&&(J.bottom-we[1])/-he,ke[Ue+48]=he&&(J.left-we[0])/he,ke[Ue+52]=k&&(J.top-we[1])/-k,ke[Ue+56]=he&&(J.right-we[0])/he,ke[Ue+60]=k&&(J.bottom-we[1])/-k}const He=1+Math.min(Math.abs(k),Math.abs(he));pe.paddingLeft=le(ke,32,16)/He,pe.paddingTop=le(ke,48,16)/He,pe.paddingRight=le(ke,0,16)/He,pe.paddingBottom=le(ke,16,16)/He,De._textDivProperties.set(Y,pe)}}(this),this._bounds=null);const ye=[],P=[];for(let A=0,Y=this._textDivs.length;A<Y;A++){const pe=this._textDivs[A],J=this._textDivProperties.get(pe);J.hasText&&(Ce?(ye.length=0,P.length=0,J.originalTransform&&ye.push(J.originalTransform),J.paddingTop>0?(P.push(`${J.paddingTop}px`),ye.push(`translateY(${-J.paddingTop}px)`)):P.push(0),P.push(J.paddingRight>0?J.paddingRight/J.scale+"px":0),P.push(J.paddingBottom>0?`${J.paddingBottom}px`:0),J.paddingLeft>0?(P.push(J.paddingLeft/J.scale+"px"),ye.push(`translateX(${-J.paddingLeft/J.scale}px)`)):P.push(0),pe.style.padding=P.join(" "),ye.length&&(pe.style.transform=ye.join(" "))):(pe.style.padding=null,pe.style.transform=J.originalTransform))}}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.SVGGraphics=void 0;var u=V(1),G=V(5),ne=V(3);let f=class{constructor(){(0,u.unreachable)("Not implemented: SVGGraphics")}};R.SVGGraphics=f;{let ie=function(P){let A=[];const Y=[];for(const pe of P)"save"!==pe.fn?"restore"===pe.fn?A=Y.pop():A.push(pe):(A.push({fnId:92,fn:"group",items:[]}),Y.push(A),A=A[A.length-1].items);return A},re=function(P){if(Number.isInteger(P))return P.toString();const A=P.toFixed(10);let Y=A.length-1;if("0"!==A[Y])return A;do{Y--}while("0"===A[Y]);return A.substring(0,"."===A[Y]?Y:Y+1)},Ee=function(P){if(0===P[4]&&0===P[5]){if(0===P[1]&&0===P[2])return 1===P[0]&&1===P[3]?"":`scale(${re(P[0])} ${re(P[3])})`;if(P[0]===P[3]&&P[1]===-P[2]){const A=180*Math.acos(P[0])/Math.PI;return`rotate(${re(A)})`}}else if(1===P[0]&&0===P[1]&&0===P[2]&&1===P[3])return`translate(${re(P[4])} ${re(P[5])})`;return`matrix(${re(P[0])} ${re(P[1])} ${re(P[2])} ${re(P[3])} ${re(P[4])} ${re(P[5])})`};const be={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Se="http://www.w3.org/XML/1998/namespace",me="http://www.w3.org/1999/xlink",Ae=["butt","round","square"],Ve=["miter","round","bevel"],le=function(P,A="",Y=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Y)return URL.createObjectURL(new Blob([P],{type:A}));const pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let J=`data:${A};base64,`;for(let Re=0,Q=P.length;Re<Q;Re+=3){const k=255&P[Re],he=255&P[Re+1],Te=255&P[Re+2];J+=pe[k>>2]+pe[(3&k)<<4|he>>4]+pe[Re+1<Q?(15&he)<<2|Te>>6:64]+pe[Re+2<Q?63&Te:64]}return J},ue=function(){const P=new Uint8Array([137,80,78,71,13,10,26,10]),A=12,Y=new Int32Array(256);for(let Te=0;Te<256;Te++){let ke=Te;for(let He=0;He<8;He++)ke=1&ke?3988292384^ke>>1&2147483647:ke>>1&2147483647;Y[Te]=ke}function J(Te,ke,He,Ue){let ot=Ue;const we=ke.length;He[ot]=we>>24&255,He[ot+1]=we>>16&255,He[ot+2]=we>>8&255,He[ot+3]=255&we,ot+=4,He[ot]=255&Te.charCodeAt(0),He[ot+1]=255&Te.charCodeAt(1),He[ot+2]=255&Te.charCodeAt(2),He[ot+3]=255&Te.charCodeAt(3),ot+=4,He.set(ke,ot),ot+=ke.length;const te=function pe(Te,ke,He){let Ue=-1;for(let ot=ke;ot<He;ot++)Ue=Ue>>>8^Y[255&(Ue^Te[ot])];return-1^Ue}(He,Ue+4,ot);He[ot]=te>>24&255,He[ot+1]=te>>16&255,He[ot+2]=te>>8&255,He[ot+3]=255&te}function k(Te){let ke=Te.length;const He=65535,Ue=Math.ceil(ke/He),ot=new Uint8Array(2+ke+5*Ue+4);let we=0;ot[we++]=120,ot[we++]=156;let te=0;for(;ke>He;)ot[we++]=0,ot[we++]=255,ot[we++]=255,ot[we++]=0,ot[we++]=0,ot.set(Te.subarray(te,te+He),we),we+=He,te+=He,ke-=He;ot[we++]=1,ot[we++]=255&ke,ot[we++]=ke>>8&255,ot[we++]=255&~ke,ot[we++]=(65535&~ke)>>8&255,ot.set(Te.subarray(te),we),we+=Te.length-te;const H=function Re(Te,ke,He){let Ue=1,ot=0;for(let we=ke;we<He;++we)Ue=(Ue+(255&Te[we]))%65521,ot=(ot+Ue)%65521;return ot<<16|Ue}(Te,0,Te.length);return ot[we++]=H>>24&255,ot[we++]=H>>16&255,ot[we++]=H>>8&255,ot[we++]=255&H,ot}return function(ke,He,Ue){return function he(Te,ke,He,Ue){const ot=Te.width,we=Te.height;let te,H,$;const N=Te.data;switch(ke){case u.ImageKind.GRAYSCALE_1BPP:H=0,te=1,$=ot+7>>3;break;case u.ImageKind.RGB_24BPP:H=2,te=8,$=3*ot;break;case u.ImageKind.RGBA_32BPP:H=6,te=8,$=4*ot;break;default:throw new Error("invalid format")}const w=new Uint8Array((1+$)*we);let M=0,W=0;for(let Xe=0;Xe<we;++Xe)w[M++]=0,w.set(N.subarray(W,W+$),M),W+=$,M+=$;if(ke===u.ImageKind.GRAYSCALE_1BPP&&Ue){M=0;for(let Xe=0;Xe<we;Xe++){M++;for(let Ke=0;Ke<$;Ke++)w[M++]^=255}}const ge=new Uint8Array([ot>>24&255,ot>>16&255,ot>>8&255,255&ot,we>>24&255,we>>16&255,we>>8&255,255&we,te,H,0,0,0]),de=function Q(Te){if(!ne.isNodeJS)return k(Te);try{let ke;ke=parseInt(process.versions.node)>=8?Te:Buffer.from(Te);const He=__webpack_require__(2258).deflateSync(ke,{level:9});return He instanceof Uint8Array?He:new Uint8Array(He)}catch(ke){(0,u.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ke)}return k(Te)}(w),We=new Uint8Array(P.length+3*A+ge.length+de.length);let Ze=0;return We.set(P,Ze),Ze+=P.length,J("IHDR",ge,We,Ze),Ze+=A+ge.length,J("IDATA",de,We,Ze),Ze+=A+de.length,J("IEND",new Uint8Array(0),We,Ze),le(We,"image/png",He)}(ke,void 0===ke.kind?u.ImageKind.GRAYSCALE_1BPP:ke.kind,He,Ue)}}();class Ie{constructor(){this.fontSizeScale=1,this.fontWeight=be.fontWeight,this.fontSize=0,this.textMatrix=u.IDENTITY_MATRIX,this.fontMatrix=u.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=u.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=be.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(A,Y){this.x=A,this.y=Y}}let De=0,Ce=0,ye=0;R.SVGGraphics=f=class{constructor(P,A,Y=!1){this.svgFactory=new G.DOMSVGFactory,this.current=new Ie,this.transformMatrix=u.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=P,this.objs=A,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Y,this._operatorIdMapping=[];for(const pe in u.OPS)this._operatorIdMapping[u.OPS[pe]]=pe}save(){this.transformStack.push(this.transformMatrix);const P=this.current;this.extraStack.push(P),this.current=P.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(P){this.save(),this.executeOpTree(P),this.restore()}loadDependencies(P){const A=P.fnArray,Y=P.argsArray;for(let pe=0,J=A.length;pe<J;pe++)if(A[pe]===u.OPS.dependency)for(const Re of Y[pe]){const Q=Re.startsWith("g_")?this.commonObjs:this.objs,k=new Promise(he=>{Q.get(Re,he)});this.current.dependencies.push(k)}return Promise.all(this.current.dependencies)}transform(P,A,Y,pe,J,Re){this.transformMatrix=u.Util.transform(this.transformMatrix,[P,A,Y,pe,J,Re]),this.tgrp=null}getSVG(P,A){this.viewport=A;const Y=this._initialize(A);return this.loadDependencies(P).then(()=>(this.transformMatrix=u.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(P)),Y))}convertOpList(P){const A=this._operatorIdMapping,Y=P.argsArray,pe=P.fnArray,J=[];for(let Re=0,Q=pe.length;Re<Q;Re++){const k=pe[Re];J.push({fnId:k,fn:A[k],args:Y[Re]})}return ie(J)}executeOpTree(P){for(const A of P){const Y=A.fn,J=A.args;switch(0|A.fnId){case u.OPS.beginText:this.beginText();break;case u.OPS.dependency:break;case u.OPS.setLeading:this.setLeading(J);break;case u.OPS.setLeadingMoveText:this.setLeadingMoveText(J[0],J[1]);break;case u.OPS.setFont:this.setFont(J);break;case u.OPS.showText:case u.OPS.showSpacedText:this.showText(J[0]);break;case u.OPS.endText:this.endText();break;case u.OPS.moveText:this.moveText(J[0],J[1]);break;case u.OPS.setCharSpacing:this.setCharSpacing(J[0]);break;case u.OPS.setWordSpacing:this.setWordSpacing(J[0]);break;case u.OPS.setHScale:this.setHScale(J[0]);break;case u.OPS.setTextMatrix:this.setTextMatrix(J[0],J[1],J[2],J[3],J[4],J[5]);break;case u.OPS.setTextRise:this.setTextRise(J[0]);break;case u.OPS.setTextRenderingMode:this.setTextRenderingMode(J[0]);break;case u.OPS.setLineWidth:this.setLineWidth(J[0]);break;case u.OPS.setLineJoin:this.setLineJoin(J[0]);break;case u.OPS.setLineCap:this.setLineCap(J[0]);break;case u.OPS.setMiterLimit:this.setMiterLimit(J[0]);break;case u.OPS.setFillRGBColor:this.setFillRGBColor(J[0],J[1],J[2]);break;case u.OPS.setStrokeRGBColor:this.setStrokeRGBColor(J[0],J[1],J[2]);break;case u.OPS.setStrokeColorN:this.setStrokeColorN(J);break;case u.OPS.setFillColorN:this.setFillColorN(J);break;case u.OPS.shadingFill:this.shadingFill(J[0]);break;case u.OPS.setDash:this.setDash(J[0],J[1]);break;case u.OPS.setRenderingIntent:this.setRenderingIntent(J[0]);break;case u.OPS.setFlatness:this.setFlatness(J[0]);break;case u.OPS.setGState:this.setGState(J[0]);break;case u.OPS.fill:this.fill();break;case u.OPS.eoFill:this.eoFill();break;case u.OPS.stroke:this.stroke();break;case u.OPS.fillStroke:this.fillStroke();break;case u.OPS.eoFillStroke:this.eoFillStroke();break;case u.OPS.clip:this.clip("nonzero");break;case u.OPS.eoClip:this.clip("evenodd");break;case u.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case u.OPS.paintImageXObject:this.paintImageXObject(J[0]);break;case u.OPS.paintInlineImageXObject:this.paintInlineImageXObject(J[0]);break;case u.OPS.paintImageMaskXObject:this.paintImageMaskXObject(J[0]);break;case u.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(J[0],J[1]);break;case u.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case u.OPS.closePath:this.closePath();break;case u.OPS.closeStroke:this.closeStroke();break;case u.OPS.closeFillStroke:this.closeFillStroke();break;case u.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case u.OPS.nextLine:this.nextLine();break;case u.OPS.transform:this.transform(J[0],J[1],J[2],J[3],J[4],J[5]);break;case u.OPS.constructPath:this.constructPath(J[0],J[1]);break;case u.OPS.endPath:this.endPath();break;case 92:this.group(A.items);break;default:(0,u.warn)(`Unimplemented operator ${Y}`)}}}setWordSpacing(P){this.current.wordSpacing=P}setCharSpacing(P){this.current.charSpacing=P}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(P,A,Y,pe,J,Re){const Q=this.current;Q.textMatrix=Q.lineMatrix=[P,A,Y,pe,J,Re],Q.textMatrixScale=Math.hypot(P,A),Q.x=Q.lineX=0,Q.y=Q.lineY=0,Q.xcoords=[],Q.ycoords=[],Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.tspan.setAttributeNS(null,"font-family",Q.fontFamily),Q.tspan.setAttributeNS(null,"font-size",`${re(Q.fontSize)}px`),Q.tspan.setAttributeNS(null,"y",re(-Q.y)),Q.txtElement=this.svgFactory.createElement("svg:text"),Q.txtElement.appendChild(Q.tspan)}beginText(){const P=this.current;P.x=P.lineX=0,P.y=P.lineY=0,P.textMatrix=u.IDENTITY_MATRIX,P.lineMatrix=u.IDENTITY_MATRIX,P.textMatrixScale=1,P.tspan=this.svgFactory.createElement("svg:tspan"),P.txtElement=this.svgFactory.createElement("svg:text"),P.txtgrp=this.svgFactory.createElement("svg:g"),P.xcoords=[],P.ycoords=[]}moveText(P,A){const Y=this.current;Y.x=Y.lineX+=P,Y.y=Y.lineY+=A,Y.xcoords=[],Y.ycoords=[],Y.tspan=this.svgFactory.createElement("svg:tspan"),Y.tspan.setAttributeNS(null,"font-family",Y.fontFamily),Y.tspan.setAttributeNS(null,"font-size",`${re(Y.fontSize)}px`),Y.tspan.setAttributeNS(null,"y",re(-Y.y))}showText(P){const A=this.current,Y=A.font,pe=A.fontSize;if(0===pe)return;const J=A.fontSizeScale,Re=A.charSpacing,Q=A.wordSpacing,k=A.fontDirection,he=A.textHScale*k,Te=Y.vertical,ke=Te?1:-1,He=Y.defaultVMetrics,Ue=pe*A.fontMatrix[0];let ot=0;for(const H of P){if(null===H){ot+=k*Q;continue}if("number"==typeof H){ot+=ke*H*pe/1e3;continue}const $=(H.isSpace?Q:0)+Re,N=H.fontChar;let w,M,ge,W=H.width;if(Te){let de;const ee=H.vmetric||He;de=H.vmetric?ee[1]:.5*W,de=-de*Ue,W=ee?-ee[0]:W,w=de/J,M=(ot+ee[2]*Ue)/J}else w=ot/J,M=0;(H.isInFont||Y.missingFile)&&(A.xcoords.push(A.x+w),Te&&A.ycoords.push(-A.y+M),A.tspan.textContent+=N),ge=Te?W*Ue-$*k:W*Ue+$*k,ot+=ge}A.tspan.setAttributeNS(null,"x",A.xcoords.map(re).join(" ")),A.tspan.setAttributeNS(null,"y",Te?A.ycoords.map(re).join(" "):re(-A.y)),Te?A.y-=ot:A.x+=ot*he,A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${re(A.fontSize)}px`),A.fontStyle!==be.fontStyle&&A.tspan.setAttributeNS(null,"font-style",A.fontStyle),A.fontWeight!==be.fontWeight&&A.tspan.setAttributeNS(null,"font-weight",A.fontWeight);const we=A.textRenderingMode&u.TextRenderingMode.FILL_STROKE_MASK;we===u.TextRenderingMode.FILL||we===u.TextRenderingMode.FILL_STROKE?(A.fillColor!==be.fillColor&&A.tspan.setAttributeNS(null,"fill",A.fillColor),A.fillAlpha<1&&A.tspan.setAttributeNS(null,"fill-opacity",A.fillAlpha)):A.tspan.setAttributeNS(null,"fill",A.textRenderingMode===u.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(we===u.TextRenderingMode.STROKE||we===u.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(A.tspan,1/(A.textMatrixScale||1));let te=A.textMatrix;0!==A.textRise&&(te=te.slice(),te[5]+=A.textRise),A.txtElement.setAttributeNS(null,"transform",`${Ee(te)} scale(${re(he)}, -1)`),A.txtElement.setAttributeNS(Se,"xml:space","preserve"),A.txtElement.appendChild(A.tspan),A.txtgrp.appendChild(A.txtElement),this._ensureTransformGroup().appendChild(A.txtElement)}setLeadingMoveText(P,A){this.setLeading(-A),this.moveText(P,A)}addFontStyle(P){if(!P.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const A=le(P.data,P.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${P.loadedName}"; src: url(${A}); }\n`}setFont(P){const A=this.current,Y=this.commonObjs.get(P[0]);let pe=P[1];A.font=Y,this.embedFonts&&!Y.missingFile&&!this.embeddedFonts[Y.loadedName]&&(this.addFontStyle(Y),this.embeddedFonts[Y.loadedName]=Y),A.fontMatrix=Y.fontMatrix||u.FONT_IDENTITY_MATRIX;let J="normal";Y.black?J="900":Y.bold&&(J="bold");const Re=Y.italic?"italic":"normal";pe<0?(pe=-pe,A.fontDirection=-1):A.fontDirection=1,A.fontSize=pe,A.fontFamily=Y.loadedName,A.fontWeight=J,A.fontStyle=Re,A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"y",re(-A.y)),A.xcoords=[],A.ycoords=[]}endText(){const P=this.current;P.textRenderingMode&u.TextRenderingMode.ADD_TO_PATH_FLAG&&P.txtElement?.hasChildNodes()&&(P.element=P.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(P){P>0&&(this.current.lineWidth=P)}setLineCap(P){this.current.lineCap=Ae[P]}setLineJoin(P){this.current.lineJoin=Ve[P]}setMiterLimit(P){this.current.miterLimit=P}setStrokeAlpha(P){this.current.strokeAlpha=P}setStrokeRGBColor(P,A,Y){this.current.strokeColor=u.Util.makeHexColor(P,A,Y)}setFillAlpha(P){this.current.fillAlpha=P}setFillRGBColor(P,A,Y){this.current.fillColor=u.Util.makeHexColor(P,A,Y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(P){this.current.strokeColor=this._makeColorN_Pattern(P)}setFillColorN(P){this.current.fillColor=this._makeColorN_Pattern(P)}shadingFill(P){const A=this.viewport.width,Y=this.viewport.height,pe=u.Util.inverseTransform(this.transformMatrix),J=u.Util.applyTransform([0,0],pe),Re=u.Util.applyTransform([0,Y],pe),Q=u.Util.applyTransform([A,0],pe),k=u.Util.applyTransform([A,Y],pe),he=Math.min(J[0],Re[0],Q[0],k[0]),Te=Math.min(J[1],Re[1],Q[1],k[1]),ke=Math.max(J[0],Re[0],Q[0],k[0]),He=Math.max(J[1],Re[1],Q[1],k[1]),Ue=this.svgFactory.createElement("svg:rect");Ue.setAttributeNS(null,"x",he),Ue.setAttributeNS(null,"y",Te),Ue.setAttributeNS(null,"width",ke-he),Ue.setAttributeNS(null,"height",He-Te),Ue.setAttributeNS(null,"fill",this._makeShadingPattern(P)),this.current.fillAlpha<1&&Ue.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Ue)}_makeColorN_Pattern(P){return"TilingPattern"===P[0]?this._makeTilingPattern(P):this._makeShadingPattern(P)}_makeTilingPattern(P){const A=P[1],Y=P[2],pe=P[3]||u.IDENTITY_MATRIX,[J,Re,Q,k]=P[4],he=P[5],Te=P[6],ke=P[7],He="shading"+ye++,[Ue,ot,we,te]=u.Util.normalizeRect([...u.Util.applyTransform([J,Re],pe),...u.Util.applyTransform([Q,k],pe)]),[H,$]=u.Util.singularValueDecompose2dScale(pe),N=he*H,w=Te*$,M=this.svgFactory.createElement("svg:pattern");M.setAttributeNS(null,"id",He),M.setAttributeNS(null,"patternUnits","userSpaceOnUse"),M.setAttributeNS(null,"width",N),M.setAttributeNS(null,"height",w),M.setAttributeNS(null,"x",`${Ue}`),M.setAttributeNS(null,"y",`${ot}`);const W=this.svg,ge=this.transformMatrix,de=this.current.fillColor,ee=this.current.strokeColor,We=this.svgFactory.create(we-Ue,te-ot);if(this.svg=We,this.transformMatrix=pe,2===ke){const Ze=u.Util.makeHexColor(...A);this.current.fillColor=Ze,this.current.strokeColor=Ze}return this.executeOpTree(this.convertOpList(Y)),this.svg=W,this.transformMatrix=ge,this.current.fillColor=de,this.current.strokeColor=ee,M.appendChild(We.childNodes[0]),this.defs.appendChild(M),`url(#${He})`}_makeShadingPattern(P){switch("string"==typeof P&&(P=this.objs.get(P)),P[0]){case"RadialAxial":const A="shading"+ye++,Y=P[3];let pe;switch(P[1]){case"axial":const J=P[4],Re=P[5];pe=this.svgFactory.createElement("svg:linearGradient"),pe.setAttributeNS(null,"id",A),pe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pe.setAttributeNS(null,"x1",J[0]),pe.setAttributeNS(null,"y1",J[1]),pe.setAttributeNS(null,"x2",Re[0]),pe.setAttributeNS(null,"y2",Re[1]);break;case"radial":const Q=P[4],k=P[5],he=P[6],Te=P[7];pe=this.svgFactory.createElement("svg:radialGradient"),pe.setAttributeNS(null,"id",A),pe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pe.setAttributeNS(null,"cx",k[0]),pe.setAttributeNS(null,"cy",k[1]),pe.setAttributeNS(null,"r",Te),pe.setAttributeNS(null,"fx",Q[0]),pe.setAttributeNS(null,"fy",Q[1]),pe.setAttributeNS(null,"fr",he);break;default:throw new Error(`Unknown RadialAxial type: ${P[1]}`)}for(const J of Y){const Re=this.svgFactory.createElement("svg:stop");Re.setAttributeNS(null,"offset",J[0]),Re.setAttributeNS(null,"stop-color",J[1]),pe.appendChild(Re)}return this.defs.appendChild(pe),`url(#${A})`;case"Mesh":return(0,u.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${P[0]}`)}}setDash(P,A){this.current.dashArray=P,this.current.dashPhase=A}constructPath(P,A){const Y=this.current;let pe=Y.x,J=Y.y,Re=[],Q=0;for(const k of P)switch(0|k){case u.OPS.rectangle:pe=A[Q++],J=A[Q++];const ke=pe+A[Q++],He=J+A[Q++];Re.push("M",re(pe),re(J),"L",re(ke),re(J),"L",re(ke),re(He),"L",re(pe),re(He),"Z");break;case u.OPS.moveTo:pe=A[Q++],J=A[Q++],Re.push("M",re(pe),re(J));break;case u.OPS.lineTo:pe=A[Q++],J=A[Q++],Re.push("L",re(pe),re(J));break;case u.OPS.curveTo:pe=A[Q+4],J=A[Q+5],Re.push("C",re(A[Q]),re(A[Q+1]),re(A[Q+2]),re(A[Q+3]),re(pe),re(J)),Q+=6;break;case u.OPS.curveTo2:Re.push("C",re(pe),re(J),re(A[Q]),re(A[Q+1]),re(A[Q+2]),re(A[Q+3])),pe=A[Q+2],J=A[Q+3],Q+=4;break;case u.OPS.curveTo3:pe=A[Q+2],J=A[Q+3],Re.push("C",re(A[Q]),re(A[Q+1]),re(pe),re(J),re(pe),re(J)),Q+=4;break;case u.OPS.closePath:Re.push("Z")}Re=Re.join(" "),Y.path&&P.length>0&&P[0]!==u.OPS.rectangle&&P[0]!==u.OPS.moveTo?Re=Y.path.getAttributeNS(null,"d")+Re:(Y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(Y.path)),Y.path.setAttributeNS(null,"d",Re),Y.path.setAttributeNS(null,"fill","none"),Y.element=Y.path,Y.setCurrentPoint(pe,J)}endPath(){const P=this.current;if(P.path=null,!this.pendingClip)return;if(!P.element)return void(this.pendingClip=null);const A="clippath"+De++,Y=this.svgFactory.createElement("svg:clipPath");Y.setAttributeNS(null,"id",A),Y.setAttributeNS(null,"transform",Ee(this.transformMatrix));const pe=P.element.cloneNode(!0);if(pe.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,Y.appendChild(pe),this.defs.appendChild(Y),P.activeClipUrl){P.clipGroup=null;for(const J of this.extraStack)J.clipGroup=null;Y.setAttributeNS(null,"clip-path",P.activeClipUrl)}P.activeClipUrl=`url(#${A})`,this.tgrp=null}clip(P){this.pendingClip=P}closePath(){const P=this.current;if(P.path){const A=`${P.path.getAttributeNS(null,"d")}Z`;P.path.setAttributeNS(null,"d",A)}}setLeading(P){this.current.leading=-P}setTextRise(P){this.current.textRise=P}setTextRenderingMode(P){this.current.textRenderingMode=P}setHScale(P){this.current.textHScale=P/100}setRenderingIntent(P){}setFlatness(P){}setGState(P){for(const[A,Y]of P)switch(A){case"LW":this.setLineWidth(Y);break;case"LC":this.setLineCap(Y);break;case"LJ":this.setLineJoin(Y);break;case"ML":this.setMiterLimit(Y);break;case"D":this.setDash(Y[0],Y[1]);break;case"RI":this.setRenderingIntent(Y);break;case"FL":this.setFlatness(Y);break;case"Font":this.setFont(Y);break;case"CA":this.setStrokeAlpha(Y);break;case"ca":this.setFillAlpha(Y);break;default:(0,u.warn)(`Unimplemented graphic state operator ${A}`)}}fill(){const P=this.current;P.element&&(P.element.setAttributeNS(null,"fill",P.fillColor),P.element.setAttributeNS(null,"fill-opacity",P.fillAlpha),this.endPath())}stroke(){const P=this.current;P.element&&(this._setStrokeAttributes(P.element),P.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(P,A=1){const Y=this.current;let pe=Y.dashArray;1!==A&&pe.length>0&&(pe=pe.map(function(J){return A*J})),P.setAttributeNS(null,"stroke",Y.strokeColor),P.setAttributeNS(null,"stroke-opacity",Y.strokeAlpha),P.setAttributeNS(null,"stroke-miterlimit",re(Y.miterLimit)),P.setAttributeNS(null,"stroke-linecap",Y.lineCap),P.setAttributeNS(null,"stroke-linejoin",Y.lineJoin),P.setAttributeNS(null,"stroke-width",re(A*Y.lineWidth)+"px"),P.setAttributeNS(null,"stroke-dasharray",pe.map(re).join(" ")),P.setAttributeNS(null,"stroke-dashoffset",re(A*Y.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const P=this.svgFactory.createElement("svg:rect");P.setAttributeNS(null,"x","0"),P.setAttributeNS(null,"y","0"),P.setAttributeNS(null,"width","1px"),P.setAttributeNS(null,"height","1px"),P.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(P)}paintImageXObject(P){const A=P.startsWith("g_")?this.commonObjs.get(P):this.objs.get(P);A?this.paintInlineImageXObject(A):(0,u.warn)(`Dependent image with object ID ${P} is not ready yet`)}paintInlineImageXObject(P,A){const Y=P.width,pe=P.height,J=ue(P,this.forceDataSchema,!!A),Re=this.svgFactory.createElement("svg:rect");Re.setAttributeNS(null,"x","0"),Re.setAttributeNS(null,"y","0"),Re.setAttributeNS(null,"width",re(Y)),Re.setAttributeNS(null,"height",re(pe)),this.current.element=Re,this.clip("nonzero");const Q=this.svgFactory.createElement("svg:image");Q.setAttributeNS(me,"xlink:href",J),Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y",re(-pe)),Q.setAttributeNS(null,"width",re(Y)+"px"),Q.setAttributeNS(null,"height",re(pe)+"px"),Q.setAttributeNS(null,"transform",`scale(${re(1/Y)} ${re(-1/pe)})`),A?A.appendChild(Q):this._ensureTransformGroup().appendChild(Q)}paintImageMaskXObject(P){const A=this.current,Y=P.width,pe=P.height,J=A.fillColor;A.maskId="mask"+Ce++;const Re=this.svgFactory.createElement("svg:mask");Re.setAttributeNS(null,"id",A.maskId);const Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y","0"),Q.setAttributeNS(null,"width",re(Y)),Q.setAttributeNS(null,"height",re(pe)),Q.setAttributeNS(null,"fill",J),Q.setAttributeNS(null,"mask",`url(#${A.maskId})`),this.defs.appendChild(Re),this._ensureTransformGroup().appendChild(Q),this.paintInlineImageXObject(P,Re)}paintFormXObjectBegin(P,A){if(Array.isArray(P)&&6===P.length&&this.transform(P[0],P[1],P[2],P[3],P[4],P[5]),A){const Y=A[2]-A[0],pe=A[3]-A[1],J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x",A[0]),J.setAttributeNS(null,"y",A[1]),J.setAttributeNS(null,"width",re(Y)),J.setAttributeNS(null,"height",re(pe)),this.current.element=J,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(P){const A=this.svgFactory.create(P.width,P.height),Y=this.svgFactory.createElement("svg:defs");A.appendChild(Y),this.defs=Y;const pe=this.svgFactory.createElement("svg:g");return pe.setAttributeNS(null,"transform",Ee(P.transform)),A.appendChild(pe),this.svg=pe,A}_ensureClipGroup(){if(!this.current.clipGroup){const P=this.svgFactory.createElement("svg:g");P.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(P),this.current.clipGroup=P}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ee(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFNodeStream=void 0;var u=V(1),G=V(24);const ne=__webpack_require__(172),f=__webpack_require__(2001),be=__webpack_require__(3779),Se=__webpack_require__(6558),me=/^file:\/\/\/[a-zA-Z]:\//;R.PDFNodeStream=class Ve{constructor(ye){this.source=ye,this.url=function Ae(Ce){const ye=Se.parse(Ce);return"file:"===ye.protocol||ye.host?ye:/^[a-z]:[/\\]/i.test(Ce)?Se.parse(`file:///${Ce}`):(ye.host||(ye.protocol="file:"),ye)}(ye.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&ye.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,u.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Ee(this):new ie(this),this._fullRequestReader}getRangeReader(ye,P){if(P<=this._progressiveDataLength)return null;const A=this.isFsUrl?new De(this,ye,P):new re(this,ye,P);return this._rangeRequestReaders.push(A),A}cancelAllRequests(ye){this._fullRequestReader&&this._fullRequestReader.cancel(ye);for(const P of this._rangeRequestReaders.slice(0))P.cancel(ye)}};class le{constructor(ye){this._url=ye.url,this._done=!1,this._storedError=null,this.onProgress=null;const P=ye.source;this._contentLength=P.length,this._loaded=0,this._filename=null,this._disableRange=P.disableRange||!1,this._rangeChunkSize=P.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!P.disableStream,this._isRangeSupported=!P.disableRange,this._readableStream=null,this._readCapability=(0,u.createPromiseCapability)(),this._headersCapability=(0,u.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var ye=this;return _asyncToGenerator(function*(){if(yield ye._readCapability.promise,ye._done)return{value:void 0,done:!0};if(ye._storedError)throw ye._storedError;const P=ye._readableStream.read();return null===P?(ye._readCapability=(0,u.createPromiseCapability)(),ye.read()):(ye._loaded+=P.length,ye.onProgress&&ye.onProgress({loaded:ye._loaded,total:ye._contentLength}),{value:new Uint8Array(P).buffer,done:!1})})()}cancel(ye){this._readableStream?this._readableStream.destroy(ye):this._error(ye)}_error(ye){this._storedError=ye,this._readCapability.resolve()}_setReadableStream(ye){this._readableStream=ye,ye.on("readable",()=>{this._readCapability.resolve()}),ye.on("end",()=>{ye.destroy(),this._done=!0,this._readCapability.resolve()}),ye.on("error",P=>{this._error(P)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new u.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ue{constructor(ye){this._url=ye.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,u.createPromiseCapability)(),this._isStreamingSupported=!ye.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var ye=this;return _asyncToGenerator(function*(){if(yield ye._readCapability.promise,ye._done)return{value:void 0,done:!0};if(ye._storedError)throw ye._storedError;const P=ye._readableStream.read();return null===P?(ye._readCapability=(0,u.createPromiseCapability)(),ye.read()):(ye._loaded+=P.length,ye.onProgress&&ye.onProgress({loaded:ye._loaded}),{value:new Uint8Array(P).buffer,done:!1})})()}cancel(ye){this._readableStream?this._readableStream.destroy(ye):this._error(ye)}_error(ye){this._storedError=ye,this._readCapability.resolve()}_setReadableStream(ye){this._readableStream=ye,ye.on("readable",()=>{this._readCapability.resolve()}),ye.on("end",()=>{ye.destroy(),this._done=!0,this._readCapability.resolve()}),ye.on("error",P=>{this._error(P)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Ie(Ce,ye){return{protocol:Ce.protocol,auth:Ce.auth,host:Ce.hostname,port:Ce.port,path:Ce.path,method:"GET",headers:ye}}class ie extends le{constructor(ye){super(ye);const P=A=>{if(404===A.statusCode){const Re=new u.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=Re,void this._headersCapability.reject(Re)}this._headersCapability.resolve(),this._setReadableStream(A);const Y=Re=>this._readableStream.headers[Re.toLowerCase()],{allowRangeRequests:pe,suggestedLength:J}=(0,G.validateRangeRequestCapabilities)({getResponseHeader:Y,isHttp:ye.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pe,this._contentLength=J||this._contentLength,this._filename=(0,G.extractFilenameFromHeader)(Y)};this._request=null,this._request="http:"===this._url.protocol?f.request(Ie(this._url,ye.httpHeaders),P):be.request(Ie(this._url,ye.httpHeaders),P),this._request.on("error",A=>{this._storedError=A,this._headersCapability.reject(A)}),this._request.end()}}class re extends ue{constructor(ye,P,A){super(ye),this._httpHeaders={};for(const pe in ye.httpHeaders){const J=ye.httpHeaders[pe];typeof J>"u"||(this._httpHeaders[pe]=J)}this._httpHeaders.Range=`bytes=${P}-${A-1}`;const Y=pe=>{if(404!==pe.statusCode)this._setReadableStream(pe);else{const J=new u.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=J}};this._request=null,this._request="http:"===this._url.protocol?f.request(Ie(this._url,this._httpHeaders),Y):be.request(Ie(this._url,this._httpHeaders),Y),this._request.on("error",pe=>{this._storedError=pe}),this._request.end()}}class Ee extends le{constructor(ye){super(ye);let P=decodeURIComponent(this._url.path);me.test(this._url.href)&&(P=P.replace(/^\//,"")),ne.lstat(P,(A,Y)=>{if(A)return"ENOENT"===A.code&&(A=new u.MissingPDFException(`Missing PDF "${P}".`)),this._storedError=A,void this._headersCapability.reject(A);this._contentLength=Y.size,this._setReadableStream(ne.createReadStream(P)),this._headersCapability.resolve()})}}class De extends ue{constructor(ye,P,A){super(ye);let Y=decodeURIComponent(this._url.path);me.test(this._url.href)&&(Y=Y.replace(/^\//,"")),this._setReadableStream(ne.createReadStream(Y,{start:P,end:A-1}))}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.createResponseStatusError=function Se(Ae,Ve){return 404===Ae||0===Ae&&Ve.startsWith("file:")?new u.MissingPDFException('Missing PDF "'+Ve+'".'):new u.UnexpectedResponseException(`Unexpected server response (${Ae}) while retrieving PDF "${Ve}".`,Ae)},R.extractFilenameFromHeader=function be(Ae){const Ve=Ae("Content-Disposition");if(Ve){let le=(0,G.getFilenameFromContentDispositionHeader)(Ve);if(le.includes("%"))try{le=decodeURIComponent(le)}catch{}if((0,ne.isPdfFile)(le))return le}return null},R.validateRangeRequestCapabilities=function f({getResponseHeader:Ae,isHttp:Ve,rangeChunkSize:le,disableRange:ue}){(0,u.assert)(le>0,"Range chunk size must be larger than zero");const Ie={allowRangeRequests:!1,suggestedLength:void 0},ie=parseInt(Ae("Content-Length"),10);return!Number.isInteger(ie)||(Ie.suggestedLength=ie,ie<=2*le)||ue||!Ve||"bytes"!==Ae("Accept-Ranges")||"identity"!==(Ae("Content-Encoding")||"identity")||(Ie.allowRangeRequests=!0),Ie},R.validateResponseStatus=function me(Ae){return 200===Ae||206===Ae};var u=V(1),G=V(25),ne=V(5)},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.getFilenameFromContentDispositionHeader=function G(ne){let f=!0,be=Se("filename\\*","i").exec(ne);if(be){be=be[1];let ie=le(be);return ie=unescape(ie),ie=ue(ie),ie=Ie(ie),Ae(ie)}if(be=function Ve(ie){const re=[];let Ee;const De=Se("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(Ee=De.exec(ie));){let[,ye,P,A]=Ee;if(ye=parseInt(ye,10),ye in re){if(0===ye)break}else re[ye]=[P,A]}const Ce=[];for(let ye=0;ye<re.length&&ye in re;++ye){let[P,A]=re[ye];A=le(A),P&&(A=unescape(A),0===ye&&(A=ue(A))),Ce.push(A)}return Ce.join("")}(ne),be)return Ae(Ie(be));if(be=Se("filename","i").exec(ne),be){be=be[1];let ie=le(be);return ie=Ie(ie),Ae(ie)}function Se(ie,re){return new RegExp("(?:^|;)\\s*"+ie+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',re)}function me(ie,re){if(ie){if(!/^[\x00-\xFF]+$/.test(re))return re;try{const Ee=new TextDecoder(ie,{fatal:!0}),De=(0,u.stringToBytes)(re);re=Ee.decode(De),f=!1}catch{}}return re}function Ae(ie){return f&&/[\x80-\xff]/.test(ie)&&(ie=me("utf-8",ie),f&&(ie=me("iso-8859-1",ie))),ie}function le(ie){if(ie.startsWith('"')){const re=ie.slice(1).split('\\"');for(let Ee=0;Ee<re.length;++Ee){const De=re[Ee].indexOf('"');-1!==De&&(re[Ee]=re[Ee].slice(0,De),re.length=Ee+1),re[Ee]=re[Ee].replace(/\\(.)/g,"$1")}ie=re.join('"')}return ie}function ue(ie){const re=ie.indexOf("'");return-1===re?ie:me(ie.slice(0,re),ie.slice(re+1).replace(/^[^']*'/,""))}function Ie(ie){return!ie.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ie)?ie:ie.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(re,Ee,De,Ce){if("q"===De||"Q"===De)return me(Ee,Ce=(Ce=Ce.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(ye,P){return String.fromCharCode(parseInt(P,16))}));try{Ce=atob(Ce)}catch{}return me(Ee,Ce)})}return""};var u=V(1)},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFNetworkStream=void 0;var u=V(1),G=V(24);class Se{constructor(ue,Ie={}){this.url=ue,this.isHttp=/^https?:/i.test(ue),this.httpHeaders=this.isHttp&&Ie.httpHeaders||Object.create(null),this.withCredentials=Ie.withCredentials||!1,this.getXhr=Ie.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ue,Ie,ie){const re={begin:ue,end:Ie};for(const Ee in ie)re[Ee]=ie[Ee];return this.request(re)}requestFull(ue){return this.request(ue)}request(ue){const Ie=this.getXhr(),ie=this.currXhrId++,re=this.pendingRequests[ie]={xhr:Ie};Ie.open("GET",this.url),Ie.withCredentials=this.withCredentials;for(const Ee in this.httpHeaders){const De=this.httpHeaders[Ee];typeof De>"u"||Ie.setRequestHeader(Ee,De)}return this.isHttp&&"begin"in ue&&"end"in ue?(Ie.setRequestHeader("Range",`bytes=${ue.begin}-${ue.end-1}`),re.expectedStatus=206):re.expectedStatus=200,Ie.responseType="arraybuffer",ue.onError&&(Ie.onerror=function(Ee){ue.onError(Ie.status)}),Ie.onreadystatechange=this.onStateChange.bind(this,ie),Ie.onprogress=this.onProgress.bind(this,ie),re.onHeadersReceived=ue.onHeadersReceived,re.onDone=ue.onDone,re.onError=ue.onError,re.onProgress=ue.onProgress,Ie.send(null),ie}onProgress(ue,Ie){const ie=this.pendingRequests[ue];ie&&ie.onProgress?.(Ie)}onStateChange(ue,Ie){const ie=this.pendingRequests[ue];if(!ie)return;const re=ie.xhr;if(re.readyState>=2&&ie.onHeadersReceived&&(ie.onHeadersReceived(),delete ie.onHeadersReceived),4!==re.readyState||!(ue in this.pendingRequests))return;if(delete this.pendingRequests[ue],0===re.status&&this.isHttp)return void ie.onError?.(re.status);const Ee=re.status||200;if((200!==Ee||206!==ie.expectedStatus)&&Ee!==ie.expectedStatus)return void ie.onError?.(re.status);const Ce=function be(le){const ue=le.response;return"string"!=typeof ue?ue:(0,u.stringToBytes)(ue).buffer}(re);if(206===Ee){const ye=re.getResponseHeader("Content-Range"),P=/bytes (\d+)-(\d+)\/(\d+)/.exec(ye);ie.onDone({begin:parseInt(P[1],10),chunk:Ce})}else Ce?ie.onDone({begin:0,chunk:Ce}):ie.onError?.(re.status)}getRequestXhr(ue){return this.pendingRequests[ue].xhr}isPendingRequest(ue){return ue in this.pendingRequests}abortRequest(ue){const Ie=this.pendingRequests[ue].xhr;delete this.pendingRequests[ue],Ie.abort()}}R.PDFNetworkStream=class me{constructor(ue){this._source=ue,this._manager=new Se(ue.url,{httpHeaders:ue.httpHeaders,withCredentials:ue.withCredentials}),this._rangeChunkSize=ue.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ue){const Ie=this._rangeRequestReaders.indexOf(ue);Ie>=0&&this._rangeRequestReaders.splice(Ie,1)}getFullReader(){return(0,u.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ae(this._manager,this._source),this._fullRequestReader}getRangeReader(ue,Ie){const ie=new Ve(this._manager,ue,Ie);return ie.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ie),ie}cancelAllRequests(ue){this._fullRequestReader?.cancel(ue);for(const Ie of this._rangeRequestReaders.slice(0))Ie.cancel(ue)}};class Ae{constructor(ue,Ie){this._manager=ue;const ie={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Ie.url,this._fullRequestId=ue.requestFull(ie),this._headersReceivedCapability=(0,u.createPromiseCapability)(),this._disableRange=Ie.disableRange||!1,this._contentLength=Ie.length,this._rangeChunkSize=Ie.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ue=this._fullRequestId,Ie=this._manager.getRequestXhr(ue),ie=De=>Ie.getResponseHeader(De),{allowRangeRequests:re,suggestedLength:Ee}=(0,G.validateRangeRequestCapabilities)({getResponseHeader:ie,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});re&&(this._isRangeSupported=!0),this._contentLength=Ee||this._contentLength,this._filename=(0,G.extractFilenameFromHeader)(ie),this._isRangeSupported&&this._manager.abortRequest(ue),this._headersReceivedCapability.resolve()}_onDone(ue){if(ue&&(this._requests.length>0?this._requests.shift().resolve({value:ue.chunk,done:!1}):this._cachedChunks.push(ue.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Ie of this._requests)Ie.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ue){this._storedError=(0,G.createResponseStatusError)(ue,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Ie of this._requests)Ie.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ue){this.onProgress?.({loaded:ue.loaded,total:ue.lengthComputable?ue.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var ue=this;return _asyncToGenerator(function*(){if(ue._storedError)throw ue._storedError;if(ue._cachedChunks.length>0)return{value:ue._cachedChunks.shift(),done:!1};if(ue._done)return{value:void 0,done:!0};const Ie=(0,u.createPromiseCapability)();return ue._requests.push(Ie),Ie.promise})()}cancel(ue){this._done=!0,this._headersReceivedCapability.reject(ue);for(const Ie of this._requests)Ie.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ve{constructor(ue,Ie,ie){this._manager=ue;const re={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ue.url,this._requestId=ue.requestRange(Ie,ie,re),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(ue){const Ie=ue.chunk;this._requests.length>0?this._requests.shift().resolve({value:Ie,done:!1}):this._queuedChunk=Ie,this._done=!0;for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ue){this._storedError=(0,G.createResponseStatusError)(ue,this._url);for(const Ie of this._requests)Ie.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ue){this.isStreamingSupported||this.onProgress?.({loaded:ue.loaded})}get isStreamingSupported(){return!1}read(){var ue=this;return _asyncToGenerator(function*(){if(ue._storedError)throw ue._storedError;if(null!==ue._queuedChunk){const ie=ue._queuedChunk;return ue._queuedChunk=null,{value:ie,done:!1}}if(ue._done)return{value:void 0,done:!0};const Ie=(0,u.createPromiseCapability)();return ue._requests.push(Ie),Ie.promise})()}cancel(ue){this._done=!0;for(const Ie of this._requests)Ie.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Be,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFFetchStream=void 0;var u=V(1),G=V(24);function ne(Ae,Ve,le){return{method:"GET",headers:Ae,signal:le?.signal,mode:"cors",credentials:Ve?"include":"same-origin",redirect:"follow"}}function f(Ae){const Ve=new Headers;for(const le in Ae){const ue=Ae[le];typeof ue>"u"||Ve.append(le,ue)}return Ve}R.PDFFetchStream=class be{constructor(Ve){this.source=Ve,this.isHttp=/^https?:/i.test(Ve.url),this.httpHeaders=this.isHttp&&Ve.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,u.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Se(this),this._fullRequestReader}getRangeReader(Ve,le){if(le<=this._progressiveDataLength)return null;const ue=new me(this,Ve,le);return this._rangeRequestReaders.push(ue),ue}cancelAllRequests(Ve){this._fullRequestReader&&this._fullRequestReader.cancel(Ve);for(const le of this._rangeRequestReaders.slice(0))le.cancel(Ve)}};class Se{constructor(Ve){this._stream=Ve,this._reader=null,this._loaded=0,this._filename=null;const le=Ve.source;this._withCredentials=le.withCredentials||!1,this._contentLength=le.length,this._headersCapability=(0,u.createPromiseCapability)(),this._disableRange=le.disableRange||!1,this._rangeChunkSize=le.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!le.disableStream,this._isRangeSupported=!le.disableRange,this._headers=f(this._stream.httpHeaders);const ue=le.url;fetch(ue,ne(this._headers,this._withCredentials,this._abortController)).then(Ie=>{if(!(0,G.validateResponseStatus)(Ie.status))throw(0,G.createResponseStatusError)(Ie.status,ue);this._reader=Ie.body.getReader(),this._headersCapability.resolve();const ie=De=>Ie.headers.get(De),{allowRangeRequests:re,suggestedLength:Ee}=(0,G.validateRangeRequestCapabilities)({getResponseHeader:ie,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=re,this._contentLength=Ee||this._contentLength,this._filename=(0,G.extractFilenameFromHeader)(ie),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new u.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var Ve=this;return _asyncToGenerator(function*(){yield Ve._headersCapability.promise;const{value:le,done:ue}=yield Ve._reader.read();return ue?{value:le,done:ue}:(Ve._loaded+=le.byteLength,Ve.onProgress&&Ve.onProgress({loaded:Ve._loaded,total:Ve._contentLength}),{value:new Uint8Array(le).buffer,done:!1})})()}cancel(Ve){this._reader&&this._reader.cancel(Ve),this._abortController&&this._abortController.abort()}}class me{constructor(Ve,le,ue){this._stream=Ve,this._reader=null,this._loaded=0;const Ie=Ve.source;this._withCredentials=Ie.withCredentials||!1,this._readCapability=(0,u.createPromiseCapability)(),this._isStreamingSupported=!Ie.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=f(this._stream.httpHeaders),this._headers.append("Range",`bytes=${le}-${ue-1}`);const ie=Ie.url;fetch(ie,ne(this._headers,this._withCredentials,this._abortController)).then(re=>{if(!(0,G.validateResponseStatus)(re.status))throw(0,G.createResponseStatusError)(re.status,ie);this._readCapability.resolve(),this._reader=re.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var Ve=this;return _asyncToGenerator(function*(){yield Ve._readCapability.promise;const{value:le,done:ue}=yield Ve._reader.read();return ue?{value:le,done:ue}:(Ve._loaded+=le.byteLength,Ve.onProgress&&Ve.onProgress({loaded:Ve._loaded}),{value:new Uint8Array(le).buffer,done:!1})})()}cancel(Ve){this._reader&&this._reader.cancel(Ve),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Be){var R=__webpack_module_cache__[Be];if(void 0!==R)return R.exports;var V=__webpack_module_cache__[Be]={exports:{}};return __webpack_modules__[Be](V,V.exports,__w_pdfjs_require__),V.exports}var __webpack_exports__={};return(()=>{var Be=__webpack_exports__;Object.defineProperty(Be,"__esModule",{value:!0}),Object.defineProperty(Be,"AnnotationLayer",{enumerable:!0,get:function(){return G.AnnotationLayer}}),Object.defineProperty(Be,"AnnotationMode",{enumerable:!0,get:function(){return R.AnnotationMode}}),Object.defineProperty(Be,"CMapCompressionType",{enumerable:!0,get:function(){return R.CMapCompressionType}}),Object.defineProperty(Be,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ne.GlobalWorkerOptions}}),Object.defineProperty(Be,"InvalidPDFException",{enumerable:!0,get:function(){return R.InvalidPDFException}}),Object.defineProperty(Be,"LoopbackPort",{enumerable:!0,get:function(){return V.LoopbackPort}}),Object.defineProperty(Be,"MissingPDFException",{enumerable:!0,get:function(){return R.MissingPDFException}}),Object.defineProperty(Be,"OPS",{enumerable:!0,get:function(){return R.OPS}}),Object.defineProperty(Be,"PDFDataRangeTransport",{enumerable:!0,get:function(){return V.PDFDataRangeTransport}}),Object.defineProperty(Be,"PDFDateString",{enumerable:!0,get:function(){return u.PDFDateString}}),Object.defineProperty(Be,"PDFWorker",{enumerable:!0,get:function(){return V.PDFWorker}}),Object.defineProperty(Be,"PasswordResponses",{enumerable:!0,get:function(){return R.PasswordResponses}}),Object.defineProperty(Be,"PermissionFlag",{enumerable:!0,get:function(){return R.PermissionFlag}}),Object.defineProperty(Be,"PixelsPerInch",{enumerable:!0,get:function(){return u.PixelsPerInch}}),Object.defineProperty(Be,"RenderingCancelledException",{enumerable:!0,get:function(){return u.RenderingCancelledException}}),Object.defineProperty(Be,"SVGGraphics",{enumerable:!0,get:function(){return Se.SVGGraphics}}),Object.defineProperty(Be,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return R.UNSUPPORTED_FEATURES}}),Object.defineProperty(Be,"UnexpectedResponseException",{enumerable:!0,get:function(){return R.UnexpectedResponseException}}),Object.defineProperty(Be,"Util",{enumerable:!0,get:function(){return R.Util}}),Object.defineProperty(Be,"VerbosityLevel",{enumerable:!0,get:function(){return R.VerbosityLevel}}),Object.defineProperty(Be,"XfaLayer",{enumerable:!0,get:function(){return me.XfaLayer}}),Object.defineProperty(Be,"build",{enumerable:!0,get:function(){return V.build}}),Object.defineProperty(Be,"createPromiseCapability",{enumerable:!0,get:function(){return R.createPromiseCapability}}),Object.defineProperty(Be,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return R.createValidAbsoluteUrl}}),Object.defineProperty(Be,"getDocument",{enumerable:!0,get:function(){return V.getDocument}}),Object.defineProperty(Be,"getFilenameFromUrl",{enumerable:!0,get:function(){return u.getFilenameFromUrl}}),Object.defineProperty(Be,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return u.getPdfFilenameFromUrl}}),Object.defineProperty(Be,"getXfaPageViewport",{enumerable:!0,get:function(){return u.getXfaPageViewport}}),Object.defineProperty(Be,"isPdfFile",{enumerable:!0,get:function(){return u.isPdfFile}}),Object.defineProperty(Be,"loadScript",{enumerable:!0,get:function(){return u.loadScript}}),Object.defineProperty(Be,"renderTextLayer",{enumerable:!0,get:function(){return be.renderTextLayer}}),Object.defineProperty(Be,"shadow",{enumerable:!0,get:function(){return R.shadow}}),Object.defineProperty(Be,"version",{enumerable:!0,get:function(){return V.version}});var R=__w_pdfjs_require__(1),V=__w_pdfjs_require__(4),u=__w_pdfjs_require__(5),G=__w_pdfjs_require__(18),ne=__w_pdfjs_require__(12),f=__w_pdfjs_require__(3),be=__w_pdfjs_require__(21),Se=__w_pdfjs_require__(22),me=__w_pdfjs_require__(20);if(f.isNodeJS){const{PDFNodeStream:le}=__w_pdfjs_require__(23);(0,V.setPDFNetworkStreamFactory)(ue=>new le(ue))}else{const{PDFNetworkStream:le}=__w_pdfjs_require__(26),{PDFFetchStream:ue}=__w_pdfjs_require__(27);(0,V.setPDFNetworkStreamFactory)(Ie=>(0,u.isValidFetchUrl)(Ie.url)?new ue(Ie):new le(Ie))}})(),__webpack_exports__})()},module.exports=V()},2813:function(Be,R,V){var u=V(5661).default,G=V(1860).default,ne=V(9159).default,f=V(5764).default,be=V(4467).default,Se=V(468).default,me=V(7156).default;Be.exports=(()=>{"use strict";var Ae=[,(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.DefaultXfaLayerFactory=ie.DefaultTextLayerFactory=ie.DefaultStructTreeLayerFactory=ie.DefaultAnnotationLayerFactory=void 0;var Ee=re(2),De=re(4),Ce=re(5),ye=re(7),P=re(8),A=re(9);ie.DefaultAnnotationLayerFactory=class Y{createAnnotationLayerBuilder(k,he,Te=null,ke="",He=!0,Ue=De.NullL10n,ot=!1,we=null,te=null,H=null,$=null){return new Ee.AnnotationLayerBuilder({pageDiv:k,pdfPage:he,imageResourcesPath:ke,renderForms:He,linkService:new Ce.SimpleLinkService,l10n:Ue,annotationStorage:Te,enableScripting:ot,hasJSActionsPromise:we,fieldObjectsPromise:H,mouseState:te,annotationCanvasMap:$})}};ie.DefaultStructTreeLayerFactory=class pe{createStructTreeLayerBuilder(k){return new ye.StructTreeLayerBuilder({pdfPage:k})}};ie.DefaultTextLayerFactory=class J{createTextLayerBuilder(k,he,Te,ke=!1,He,Ue){return new P.TextLayerBuilder({textLayerDiv:k,pageIndex:he,viewport:Te,enhanceTextSelection:ke,eventBus:He,highlighter:Ue})}};ie.DefaultXfaLayerFactory=class Re{createXfaLayerBuilder(k,he,Te=null,ke=null){return new A.XfaLayerBuilder({pageDiv:k,pdfPage:he,annotationStorage:Te,linkService:new Ce.SimpleLinkService,xfaHtml:ke})}}},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.AnnotationLayerBuilder=void 0;var Ee=re(3),De=re(4);ie.AnnotationLayerBuilder=class Ce{constructor({pageDiv:P,pdfPage:A,linkService:Y,downloadManager:pe,annotationStorage:J=null,imageResourcesPath:Re="",renderForms:Q=!0,l10n:k=De.NullL10n,enableScripting:he=!1,hasJSActionsPromise:Te=null,fieldObjectsPromise:ke=null,mouseState:He=null,annotationCanvasMap:Ue=null}){this.pageDiv=P,this.pdfPage=A,this.linkService=Y,this.downloadManager=pe,this.imageResourcesPath=Re,this.renderForms=Q,this.l10n=k,this.annotationStorage=J,this.enableScripting=he,this._hasJSActionsPromise=Te,this._fieldObjectsPromise=ke,this._mouseState=He,this._annotationCanvasMap=Ue,this.div=null,this._cancelled=!1}render(P,A="display"){var Y=this;return me(function*(){const[pe,J=!1,Re=null]=yield Promise.all([Y.pdfPage.getAnnotations({intent:A}),Y._hasJSActionsPromise,Y._fieldObjectsPromise]);if(Y._cancelled||0===pe.length)return;const Q={viewport:P.clone({dontFlip:!0}),div:Y.div,annotations:pe,page:Y.pdfPage,imageResourcesPath:Y.imageResourcesPath,renderForms:Y.renderForms,linkService:Y.linkService,downloadManager:Y.downloadManager,annotationStorage:Y.annotationStorage,enableScripting:Y.enableScripting,hasJSActions:J,fieldObjects:Re,mouseState:Y._mouseState,annotationCanvasMap:Y._annotationCanvasMap};Y.div?Ee.AnnotationLayer.update(Q):(Y.div=document.createElement("div"),Y.div.className="annotationLayer",Y.pageDiv.appendChild(Y.div),Q.div=Y.div,Ee.AnnotationLayer.render(Q),Y.l10n.translate(Y.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},Ie=>{let ie;ie=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:V(6036),Ie.exports=ie},(Ie,ie)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.NullL10n=void 0,ie.fixupLangCode=function Ce(A){return De[A?.toLowerCase()]||A},ie.getL10nFallback=Ee;const re={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function Ee(A,Y){switch(A){case"find_match_count":A=`find_match_count[${1===Y.total?"one":"other"}]`;break;case"find_match_count_limit":A=`find_match_count_limit[${1===Y.limit?"one":"other"}]`}return re[A]||""}const De={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};ie.NullL10n={getLanguage:()=>me(function*(){return"en-us"})(),getDirection:()=>me(function*(){return"ltr"})(),get:(A,Y=null,pe=Ee(A,Y))=>me(function*(){return function ye(A,Y){return Y?A.replace(/\{\{\s*(\w+)\s*\}\}/g,(pe,J)=>J in Y?Y[J]:"{{"+J+"}}"):A}(pe,Y)})(),translate:A=>me(function*(){})()}},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.SimpleLinkService=ie.PDFLinkService=ie.LinkTarget=void 0;var Ee=re(6);const De="noopener noreferrer nofollow",Ce={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function ye(Q,{url:k,target:he,rel:Te,enabled:ke=!0}={}){if(!k||"string"!=typeof k)throw new Error('A valid "url" parameter must provided.');const He=(0,Ee.removeNullCharacters)(k);ke?Q.href=Q.title=He:(Q.href="",Q.title=`Disabled: ${He}`,Q.onclick=()=>!1);let Ue="";switch(he){case Ce.NONE:break;case Ce.SELF:Ue="_self";break;case Ce.BLANK:Ue="_blank";break;case Ce.PARENT:Ue="_parent";break;case Ce.TOP:Ue="_top"}Q.target=Ue,Q.rel="string"==typeof Te?Te:De}ie.LinkTarget=Ce;var P=new WeakMap,A=new WeakSet;class Y{constructor({eventBus:k,externalLinkTarget:he=null,externalLinkRel:Te=null,ignoreDestinationZoom:ke=!1}={}){G(this,A),ne(this,P,{writable:!0,value:new Map}),this.eventBus=k,this.externalLinkTarget=he,this.externalLinkRel=Te,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=ke,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(k,he=null){this.baseUrl=he,this.pdfDocument=k,Se(this,P).clear()}setViewer(k){this.pdfViewer=k}setHistory(k){this.pdfHistory=k}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(k){this.pdfViewer.currentPageNumber=k}get rotation(){return this.pdfViewer.pagesRotation}set rotation(k){this.pdfViewer.pagesRotation=k}goToDestination(k){var he=this;return me(function*(){if(!he.pdfDocument)return;let Te,ke;"string"==typeof k?(Te=k,ke=yield he.pdfDocument.getDestination(k)):(Te=null,ke=yield k),Array.isArray(ke)?be(he,A,pe).call(he,k,Te,ke):console.error(`PDFLinkService.goToDestination: "${ke}" is not a valid destination array, for dest="${k}".`)})()}goToPage(k){if(!this.pdfDocument)return;const he="string"==typeof k&&this.pdfViewer.pageLabelToPageNumber(k)||0|k;Number.isInteger(he)&&he>0&&he<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(he)),this.pdfViewer.scrollPageIntoView({pageNumber:he})):console.error(`PDFLinkService.goToPage: "${k}" is not a valid page.`)}addLinkAttributes(k,he,Te=!1){ye(k,{url:he,target:Te?Ce.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(k){if("string"==typeof k){if(k.length>0)return this.getAnchorUrl("#"+escape(k))}else if(Array.isArray(k)){const he=JSON.stringify(k);if(he.length>0)return this.getAnchorUrl("#"+escape(he))}return this.getAnchorUrl("")}getAnchorUrl(k){return(this.baseUrl||"")+k}setHash(k){if(!this.pdfDocument)return;let he,Te;if(k.includes("=")){const ke=(0,Ee.parseQueryString)(k);if(ke.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:ke.get("search").replace(/"/g,""),phraseSearch:"true"===ke.get("phrase")}),ke.has("page")&&(he=0|ke.get("page")||1),ke.has("zoom")){const He=ke.get("zoom").split(","),Ue=He[0],ot=parseFloat(Ue);Ue.includes("Fit")?"Fit"===Ue||"FitB"===Ue?Te=[null,{name:Ue}]:"FitH"===Ue||"FitBH"===Ue||"FitV"===Ue||"FitBV"===Ue?Te=[null,{name:Ue},He.length>1?0|He[1]:null]:"FitR"===Ue?5!==He.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):Te=[null,{name:Ue},0|He[1],0|He[2],0|He[3],0|He[4]]:console.error(`PDFLinkService.setHash: "${Ue}" is not a valid zoom value.`):Te=[null,{name:"XYZ"},He.length>1?0|He[1]:null,He.length>2?0|He[2]:null,ot?ot/100:Ue]}Te?this.pdfViewer.scrollPageIntoView({pageNumber:he||this.page,destArray:Te,allowNegativeOffset:!0}):he&&(this.page=he),ke.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:ke.get("pagemode")}),ke.has("nameddest")&&this.goToDestination(ke.get("nameddest"))}else{Te=unescape(k);try{Te=JSON.parse(Te),Array.isArray(Te)||(Te=Te.toString())}catch{}if("string"==typeof Te||f(Y,Y,J).call(Y,Te))return void this.goToDestination(Te);console.error(`PDFLinkService.setHash: "${unescape(k)}" is not a valid destination.`)}}executeNamedAction(k){switch(k){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:k})}cachePageRef(k,he){if(!he)return;const Te=0===he.gen?`${he.num}R`:`${he.num}R${he.gen}`;Se(this,P).set(Te,k)}_cachedPageNumber(k){if(!k)return null;const he=0===k.gen?`${k.num}R`:`${k.num}R${k.gen}`;return Se(this,P).get(he)||null}isPageVisible(k){return this.pdfViewer.isPageVisible(k)}isPageCached(k){return this.pdfViewer.isPageCached(k)}}function pe(Q,k=null,he){const Te=he[0];let ke;if("object"==typeof Te&&null!==Te){if(ke=this._cachedPageNumber(Te),!ke)return void this.pdfDocument.getPageIndex(Te).then(He=>{this.cachePageRef(He+1,Te),be(this,A,pe).call(this,Q,k,he)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${Te}" is not a valid page reference, for dest="${Q}".`)})}else{if(!Number.isInteger(Te))return void console.error(`PDFLinkService.#goToDestinationHelper: "${Te}" is not a valid destination reference, for dest="${Q}".`);ke=Te+1}!ke||ke<1||ke>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${ke}" is not a valid page number, for dest="${Q}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:k,explicitDest:he,pageNumber:ke})),this.pdfViewer.scrollPageIntoView({pageNumber:ke,destArray:he,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function J(Q){if(!Array.isArray(Q))return!1;const k=Q.length;if(k<2)return!1;const he=Q[0];if(!("object"==typeof he&&Number.isInteger(he.num)&&Number.isInteger(he.gen)||Number.isInteger(he)&&he>=0))return!1;const Te=Q[1];if("object"!=typeof Te||"string"!=typeof Te.name)return!1;let ke=!0;switch(Te.name){case"XYZ":if(5!==k)return!1;break;case"Fit":case"FitB":return 2===k;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==k)return!1;break;case"FitR":if(6!==k)return!1;ke=!1;break;default:return!1}for(let He=2;He<k;He++){const Ue=Q[He];if(!("number"==typeof Ue||ke&&null===Ue))return!1}return!0}ie.PDFLinkService=Y;ie.SimpleLinkService=class Re{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(k){}get rotation(){return 0}set rotation(k){}goToDestination(k){return me(function*(){})()}goToPage(k){}addLinkAttributes(k,he,Te=!1){ye(k,{url:he,enabled:this.externalLinkEnabled})}getDestinationHash(k){return"#"}getAnchorUrl(k){return"#"}setHash(k){}executeNamedAction(k){}cachePageRef(k,he){}isPageVisible(k){return!0}isPageCached(k){return!0}}},(Ie,ie)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.animationStarted=ie.VERTICAL_PADDING=ie.UNKNOWN_SCALE=ie.TextLayerMode=ie.SpreadMode=ie.SidebarView=ie.ScrollMode=ie.SCROLLBAR_PADDING=ie.RenderingStates=ie.RendererType=ie.ProgressBar=ie.PresentationModeState=ie.OutputScale=ie.MIN_SCALE=ie.MAX_SCALE=ie.MAX_AUTO_SCALE=ie.DEFAULT_SCALE_VALUE=ie.DEFAULT_SCALE_DELTA=ie.DEFAULT_SCALE=ie.AutoPrintRegExp=void 0,ie.apiPageLayoutToViewerModes=function Jt(_t){let Me=ke.VERTICAL,nt=He.NONE;switch(_t){case"SinglePage":Me=ke.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Me=ke.PAGE;case"TwoColumnLeft":nt=He.ODD;break;case"TwoPageRight":Me=ke.PAGE;case"TwoColumnRight":nt=He.EVEN}return{scrollMode:Me,spreadMode:nt}},ie.apiPageModeToSidebarView=function Hn(_t){switch(_t){case"UseNone":return k.NONE;case"UseThumbs":return k.THUMBS;case"UseOutlines":return k.OUTLINE;case"UseAttachments":return k.ATTACHMENTS;case"UseOC":return k.LAYERS}return k.NONE},ie.approximateFraction=function W(_t){if(Math.floor(_t)===_t)return[_t,1];const Me=1/_t;if(Me>8)return[1,8];if(Math.floor(Me)===Me)return[1,Me];const dt=_t>1?Me:_t;let Nt,At=0,Qe=1,yt=1,Wt=1;for(;;){const yn=At+yt,Gn=Qe+Wt;if(Gn>8)break;dt<=yn/Gn?(yt=yn,Wt=Gn):(At=yn,Qe=Gn)}return Nt=dt-At/Qe<yt/Wt-dt?dt===_t?[At,Qe]:[Qe,At]:dt===_t?[yt,Wt]:[Wt,yt],Nt},ie.backtrackBeforeAllVisibleElements=ee,ie.binarySearchFirstItem=M,ie.getActiveOrFocusedElement=function Xt(){let _t=document,Me=_t.activeElement||_t.querySelector(":focus");for(;Me?.shadowRoot;)_t=Me.shadowRoot,Me=_t.activeElement||_t.querySelector(":focus");return Me},ie.getPageSizeInches=function de({view:_t,userUnit:Me,rotate:nt}){const[dt,At,Qe,yt]=_t,Wt=nt%180!=0,Nt=(Qe-dt)/72*Me,yn=(yt-At)/72*Me;return{width:Wt?yn:Nt,height:Wt?Nt:yn}},ie.getVisibleElements=function We({scrollEl:_t,views:Me,sortByVisibility:nt=!1,horizontal:dt=!1,rtl:At=!1}){const Qe=_t.scrollTop,yt=Qe+_t.clientHeight,Wt=_t.scrollLeft,Nt=Wt+_t.clientWidth;const pt=[],ct=new Set,ht=Me.length;let cn=M(Me,dt?function Gn(In){const nn=In.div,Un=nn.offsetLeft+nn.clientLeft;return At?Un<Nt:Un+nn.clientWidth>Wt}:function yn(In){const nn=In.div;return nn.offsetTop+nn.clientTop+nn.clientHeight>Qe});cn>0&&cn<ht&&!dt&&(cn=ee(cn,Me,Qe));let Qt=dt?Nt:-1;for(let In=cn;In<ht;In++){const nn=Me[In],Un=nn.div,$n=Un.offsetLeft+Un.clientLeft,or=Un.offsetTop+Un.clientTop,nr=Un.clientWidth,ur=Un.clientHeight,$e=$n+nr,qe=or+ur;if(-1===Qt)qe>=yt&&(Qt=qe);else if((dt?$n:or)>Qt)break;if(qe<=Qe||or>=yt||$e<=Wt||$n>=Nt)continue;const it=Math.max(0,Qe-or)+Math.max(0,qe-yt),qt=(nr-(Math.max(0,Wt-$n)+Math.max(0,$e-Nt)))/nr;pt.push({id:nn.id,x:$n,y:or,view:nn,percent:(ur-it)/ur*qt*100|0,widthPercent:100*qt|0}),ct.add(nn.id)}const wn=pt[0],rn=pt[pt.length-1];return nt&&pt.sort(function(In,nn){const Un=In.percent-nn.percent;return Math.abs(Un)>.001?-Un:In.id-nn.id}),{first:wn,last:rn,views:pt,ids:ct}},ie.isPortraitOrientation=function Bt(_t){return _t.width<=_t.height},ie.isValidRotation=function mt(_t){return Number.isInteger(_t)&&_t%90==0},ie.isValidScrollMode=function Lt(_t){return Number.isInteger(_t)&&Object.values(ke).includes(_t)&&_t!==ke.UNKNOWN},ie.isValidSpreadMode=function $t(_t){return Number.isInteger(_t)&&Object.values(He).includes(_t)&&_t!==He.UNKNOWN},ie.noContextMenuHandler=function Ze(_t){_t.preventDefault()},ie.normalizeWheelEventDelta=function Ke(_t){let Me=Xe(_t);return 0===_t.deltaMode?Me/=900:1===_t.deltaMode&&(Me/=30),Me},ie.normalizeWheelEventDirection=Xe,ie.parseQueryString=function H(_t){const Me=new Map;for(const[nt,dt]of new URLSearchParams(_t))Me.set(nt.toLowerCase(),dt);return Me},ie.removeNullCharacters=function w(_t,Me=!1){return"string"!=typeof _t?(console.error("The argument must be a string."),_t):(Me&&(_t=_t.replace(N," ")),_t.replace($,""))},ie.roundToDivide=function ge(_t,Me){const nt=_t%Me;return 0===nt?_t:Math.round(_t-nt+Me)},ie.scrollIntoView=function we(_t,Me,nt=!1){let dt=_t.offsetParent;if(!dt)return void console.error("offsetParent is not set -- cannot scroll");let At=_t.offsetTop+_t.clientTop,Qe=_t.offsetLeft+_t.clientLeft;for(;dt.clientHeight===dt.scrollHeight&&dt.clientWidth===dt.scrollWidth||nt&&(dt.classList.contains("markedContent")||"hidden"===getComputedStyle(dt).overflow);)if(At+=dt.offsetTop,Qe+=dt.offsetLeft,dt=dt.offsetParent,!dt)return;Me&&(void 0!==Me.top&&(At+=Me.top),void 0!==Me.left&&(Qe+=Me.left,dt.scrollLeft=Qe)),dt.scrollTop=At},ie.watchScroll=function te(_t,Me){const nt=function(Qe){At||(At=window.requestAnimationFrame(function(){At=null;const Wt=_t.scrollLeft,Nt=dt.lastX;Wt!==Nt&&(dt.right=Wt>Nt),dt.lastX=Wt;const yn=_t.scrollTop,Gn=dt.lastY;yn!==Gn&&(dt.down=yn>Gn),dt.lastY=yn,Me(dt)}))},dt={right:!0,down:!0,lastX:_t.scrollLeft,lastY:_t.scrollTop,_eventHandler:nt};let At=null;return _t.addEventListener("scroll",nt,!0),dt},ie.DEFAULT_SCALE_VALUE="auto",ie.DEFAULT_SCALE=1,ie.DEFAULT_SCALE_DELTA=1.1,ie.MIN_SCALE=.1,ie.MAX_SCALE=10,ie.UNKNOWN_SCALE=0,ie.MAX_AUTO_SCALE=1.25,ie.SCROLLBAR_PADDING=40,ie.VERTICAL_PADDING=5;ie.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},ie.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const k={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};ie.SidebarView=k,ie.RendererType={CANVAS:"canvas",SVG:"svg"},ie.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const ke={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};ie.ScrollMode=ke;const He={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};ie.SpreadMode=He,ie.AutoPrintRegExp=/\bprint\s*\(/;ie.OutputScale=class ot{constructor(){const Me=window.devicePixelRatio||1;this.sx=Me,this.sy=Me}get scaled(){return 1!==this.sx||1!==this.sy}};const $=/\x00/g,N=/[\x01-\x1F]/g;function M(_t,Me,nt=0){let dt=nt,At=_t.length-1;if(At<0||!Me(_t[At]))return _t.length;if(Me(_t[dt]))return dt;for(;dt<At;){const Qe=dt+At>>1;Me(_t[Qe])?At=Qe:dt=Qe+1}return dt}function ee(_t,Me,nt){if(_t<2)return _t;let dt=Me[_t].div,At=dt.offsetTop+dt.clientTop;At>=nt&&(dt=Me[_t-1].div,At=dt.offsetTop+dt.clientTop);for(let Qe=_t-2;Qe>=0&&(dt=Me[Qe].div,!(dt.offsetTop+dt.clientTop+dt.clientHeight<=At));--Qe)_t=Qe;return _t}function Xe(_t){let Me=Math.hypot(_t.deltaX,_t.deltaY);const nt=Math.atan2(_t.deltaY,_t.deltaX);return-.25*Math.PI<nt&&nt<.75*Math.PI&&(Me=-Me),Me}const kt=new Promise(function(_t){window.requestAnimationFrame(_t)});ie.animationStarted=kt;ie.ProgressBar=class mn{constructor(Me,{height:nt,width:dt,units:At}={}){this.visible=!0,this.div=document.querySelector(Me+" .progress"),this.bar=this.div.parentNode,this.height=nt||100,this.width=dt||100,this.units=At||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(Me){this._indeterminate=isNaN(Me),this._percent=function Zt(_t,Me,nt){return Math.min(Math.max(_t,Me),nt)}(Me,0,100),this._updateBar()}setWidth(Me){if(!Me)return;const dt=Me.parentNode.offsetWidth-Me.offsetWidth;dt>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${dt}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(Ie,ie)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.StructTreeLayerBuilder=void 0;const re={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Ee=/^H(\d+)$/;ie.StructTreeLayerBuilder=class De{constructor({pdfPage:ye}){this.pdfPage=ye}render(ye){return this._walk(ye)}_setAttributes(ye,P){void 0!==ye.alt&&P.setAttribute("aria-label",ye.alt),void 0!==ye.id&&P.setAttribute("aria-owns",ye.id),void 0!==ye.lang&&P.setAttribute("lang",ye.lang)}_walk(ye){if(!ye)return null;const P=document.createElement("span");if("role"in ye){const{role:A}=ye,Y=A.match(Ee);Y?(P.setAttribute("role","heading"),P.setAttribute("aria-level",Y[1])):re[A]&&P.setAttribute("role",re[A])}if(this._setAttributes(ye,P),ye.children)if(1===ye.children.length&&"id"in ye.children[0])this._setAttributes(ye.children[0],P);else for(const A of ye.children)P.appendChild(this._walk(A));return P}}},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.TextLayerBuilder=void 0;var Ee=re(3);ie.TextLayerBuilder=class Ce{constructor({textLayerDiv:P,eventBus:A,pageIndex:Y,viewport:pe,highlighter:J=null,enhanceTextSelection:Re=!1}){this.textLayerDiv=P,this.eventBus=A,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=Y+1,this.viewport=pe,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=J,this.enhanceTextSelection=Re,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const P=document.createElement("div");P.className="endOfContent",this.textLayerDiv.appendChild(P)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(P=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const A=document.createDocumentFragment();this.textLayerRenderTask=(0,Ee.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:A,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:P,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(A),this._finishRendering(),this.highlighter?.enable()},function(Y){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(P){this.cancel(),this.textContentStream=P}setTextContent(P){this.cancel(),this.textContent=P}_bindMouse(){const P=this.textLayerDiv;let A=null;P.addEventListener("mousedown",Y=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(A&&(clearTimeout(A),A=null));const pe=P.querySelector(".endOfContent");if(!pe)return;let J=Y.target!==P;if(J=J&&"none"!==window.getComputedStyle(pe).getPropertyValue("-moz-user-select"),J){const Re=P.getBoundingClientRect(),Q=Math.max(0,(Y.pageY-Re.top)/Re.height);pe.style.top=(100*Q).toFixed(2)+"%"}pe.classList.add("active")}),P.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(A=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),A=null},300));const Y=P.querySelector(".endOfContent");Y&&(Y.style.top="",Y.classList.remove("active"))})}}},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.XfaLayerBuilder=void 0;var Ee=re(3);ie.XfaLayerBuilder=class De{constructor({pageDiv:ye,pdfPage:P,annotationStorage:A=null,linkService:Y,xfaHtml:pe=null}){this.pageDiv=ye,this.pdfPage=P,this.annotationStorage=A,this.linkService=Y,this.xfaHtml=pe,this.div=null,this._cancelled=!1}render(ye,P="display"){if("print"===P){const A={viewport:ye.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:P},Y=document.createElement("div");this.pageDiv.appendChild(Y),A.div=Y;const pe=Ee.XfaLayer.render(A);return Promise.resolve(pe)}return this.pdfPage.getXfa().then(A=>{if(this._cancelled||!A)return{textDivs:[]};const Y={viewport:ye.clone({dontFlip:!0}),div:this.div,xfaHtml:A,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:P};return this.div?Ee.XfaLayer.update(Y):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),Y.div=this.div,Ee.XfaLayer.render(Y))}).catch(A=>{console.error(A)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.PDFViewer=ie.PDFSinglePageViewer=void 0;var Ee=re(6),De=re(11);ie.PDFViewer=class Ce extends De.BaseViewer{};ie.PDFSinglePageViewer=class ye extends De.BaseViewer{_resetView(){super._resetView(),this._scrollMode=Ee.ScrollMode.PAGE,this._spreadMode=Ee.SpreadMode.NONE}set scrollMode(A){}_updateScrollMode(){}set spreadMode(A){}_updateSpreadMode(){}}},(Ie,ie,re)=>{let Ee;Object.defineProperty(ie,"__esModule",{value:!0}),ie.PagesCountLimit=ie.PDFPageViewBuffer=ie.BaseViewer=void 0;var De=re(3),Ce=re(6),ye=re(2),P=re(4),A=re(12),Y=re(14),pe=re(5),J=re(7),Re=re(15),Q=re(8),k=re(9);const Te="enablePermissions",ke={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};ie.PagesCountLimit=ke;var He=new WeakMap,Ue=new WeakMap,ot=new WeakSet;Ee=Symbol.iterator;class we{constructor(Me){G(this,ot),ne(this,He,{writable:!0,value:new Set}),ne(this,Ue,{writable:!0,value:0}),u(this,Ue,Me)}push(Me){const nt=Se(this,He);nt.has(Me)&&nt.delete(Me),nt.add(Me),nt.size>Se(this,Ue)&&be(this,ot,te).call(this)}resize(Me,nt=null){u(this,Ue,Me);const dt=Se(this,He);if(nt){const At=dt.size;let Qe=1;for(const yt of dt)if(nt.has(yt.id)&&(dt.delete(yt),dt.add(yt)),++Qe>At)break}for(;dt.size>Se(this,Ue);)be(this,ot,te).call(this)}has(Me){return Se(this,He).has(Me)}[Ee](){return Se(this,He).keys()}}function te(){const _t=Se(this,He).keys().next().value;_t?.destroy(),Se(this,He).delete(_t)}ie.PDFPageViewBuffer=we;var H=new WeakMap,$=new WeakMap,N=new WeakMap,w=new WeakMap,M=new WeakMap,W=new WeakMap,ge=new WeakMap,de=new WeakSet,ee=new WeakSet,We=new WeakSet,Ze=new WeakSet,Xe=new WeakSet,Ke=new WeakSet,mt=new WeakSet;class Lt{constructor(Me){if(G(this,mt),G(this,Ke),G(this,Xe),G(this,Ze),G(this,We),G(this,ee),G(this,de),ne(this,H,{writable:!0,value:null}),ne(this,$,{writable:!0,value:De.AnnotationMode.ENABLE_FORMS}),ne(this,N,{writable:!0,value:null}),ne(this,w,{writable:!0,value:!1}),ne(this,M,{writable:!0,value:0}),ne(this,W,{writable:!0,value:null}),ne(this,ge,{writable:!0,value:null}),this.constructor===Lt)throw new Error("Cannot initialize BaseViewer.");const nt="2.13.216";if(De.version!==nt)throw new Error(`The API version "${De.version}" does not match the Viewer version "${nt}".`);if(this.container=Me.container,this.viewer=Me.viewer||Me.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=Me.eventBus,this.linkService=Me.linkService||new pe.SimpleLinkService,this.downloadManager=Me.downloadManager||null,this.findController=Me.findController||null,this._scriptingManager=Me.scriptingManager||null,this.removePageBorders=Me.removePageBorders||!1,this.textLayerMode=Me.textLayerMode??Ce.TextLayerMode.ENABLE,u(this,$,Me.annotationMode??De.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=Me.imageResourcesPath||"",this.enablePrintAutoRotate=Me.enablePrintAutoRotate||!1,this.renderer=Me.renderer||Ce.RendererType.CANVAS,this.useOnlyCssZoom=Me.useOnlyCssZoom||!1,this.maxCanvasPixels=Me.maxCanvasPixels,this.l10n=Me.l10n||P.NullL10n,u(this,w,Me.enablePermissions||!1),this.defaultRenderingQueue=!Me.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Y.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=Me.renderingQueue,this._doc=document.documentElement,this.scroll=(0,Ce.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=Ce.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(Me){return this._pages[Me]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(Me){return Me?.pdfPage})}get renderForms(){return Se(this,$)===De.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(Me){if(!Number.isInteger(Me))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(Me,!0)||console.error(`currentPageNumber: "${Me}" is not a valid page.`))}_setCurrentPageNumber(Me,nt=!1){if(this._currentPageNumber===Me)return nt&&this._resetCurrentPageView(),!0;if(!(0<Me&&Me<=this.pagesCount))return!1;const dt=this._currentPageNumber;return this._currentPageNumber=Me,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:Me,pageLabel:this._pageLabels?.[Me-1]??null,previous:dt}),nt&&this._resetCurrentPageView(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(Me){if(!this.pdfDocument)return;let nt=0|Me;if(this._pageLabels){const dt=this._pageLabels.indexOf(Me);dt>=0&&(nt=dt+1)}this._setCurrentPageNumber(nt,!0)||console.error(`currentPageLabel: "${Me}" is not a valid page.`)}get currentScale(){return this._currentScale!==Ce.UNKNOWN_SCALE?this._currentScale:Ce.DEFAULT_SCALE}set currentScale(Me){if(isNaN(Me))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(Me,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(Me){this.pdfDocument&&this._setScale(Me,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(Me){if(!(0,Ce.isValidRotation)(Me))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((Me%=360)<0&&(Me+=360),this._pagesRotation===Me))return;this._pagesRotation=Me;const nt=this._currentPageNumber,dt={rotation:Me};for(const At of this._pages)At.update(dt);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:Me,pageNumber:nt}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(Me){var nt=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=Me,!Me)return;const dt=Me.isPureXfa,At=Me.numPages,Qe=Me.getPage(1),yt=Me.getOptionalContentConfig(),Wt=Se(this,w)?Me.getPermissions():Promise.resolve();if(At>ke.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Nt=this._scrollMode=Ce.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Nt})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:At})},()=>{}),this._onBeforeDraw=Nt=>{const yn=this._pages[Nt.pageNumber-1];yn&&Se(this,H).push(yn)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Nt=>{Nt.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Nt.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Se(this,ge)&&(document.removeEventListener("visibilitychange",Se(this,ge)),u(this,ge,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Qe,Wt]).then(([Nt,yn])=>{if(Me!==this.pdfDocument)return;this._firstPageCapability.resolve(Nt),this._optionalContentConfigPromise=yt,be(this,de,$t).call(this,yn);const Gn=this._scrollMode===Ce.ScrollMode.PAGE?null:this.viewer,pt=this.currentScale,ct=Nt.getViewport({scale:pt*De.PixelsPerInch.PDF_TO_CSS_UNITS}),ht=this.textLayerMode===Ce.TextLayerMode.DISABLE||dt?null:this,cn=Se(this,$)!==De.AnnotationMode.DISABLE?this:null,Qt=dt?this:null;for(let rn=1;rn<=At;++rn){const In=new A.PDFPageView({container:Gn,eventBus:this.eventBus,id:rn,scale:pt,defaultViewport:ct.clone(),optionalContentConfigPromise:yt,renderingQueue:this.renderingQueue,textLayerFactory:ht,textLayerMode:this.textLayerMode,annotationLayerFactory:cn,annotationMode:Se(this,$),xfaLayerFactory:Qt,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(In)}const wn=this._pages[0];wn&&(wn.setPdfPage(Nt),this.linkService.cachePageRef(1,Nt.ref)),this._scrollMode===Ce.ScrollMode.PAGE?be(this,We,kt).call(this):this._spreadMode!==Ce.SpreadMode.NONE&&this._updateSpreadMode(),be(this,ee,Bt).call(this).then(me(function*(){if(nt.findController&&nt.findController.setDocument(Me),nt._scriptingManager&&nt._scriptingManager.setDocument(Me),Me.loadingParams.disableAutoFetch||At>ke.FORCE_LAZY_PAGE_INIT)return void nt._pagesCapability.resolve();let rn=At-1;if(rn<=0)nt._pagesCapability.resolve();else for(let In=2;In<=At;++In){const nn=Me.getPage(In).then(Un=>{const $n=nt._pages[In-1];$n.pdfPage||$n.setPdfPage(Un),nt.linkService.cachePageRef(In,Un.ref),0==--rn&&nt._pagesCapability.resolve()},Un=>{console.error(`Unable to get page ${In} to initialize viewer`,Un),0==--rn&&nt._pagesCapability.resolve()});In%ke.PAUSE_EAGER_PAGE_INIT==0&&(yield nn)}})),this.eventBus.dispatch("pagesinit",{source:this}),Me.getMetadata().then(({info:rn})=>{Me===this.pdfDocument&&rn.Language&&(this.viewer.lang=rn.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Nt=>{console.error("Unable to initialize viewer",Nt),this._pagesCapability.reject(Nt)})}setPageLabels(Me){if(this.pdfDocument){Me?Array.isArray(Me)&&this.pdfDocument.numPages===Me.length?this._pageLabels=Me:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let nt=0,dt=this._pages.length;nt<dt;nt++)this._pages[nt].setPageLabel(this._pageLabels?.[nt]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=Ce.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,u(this,H,new we(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,De.createPromiseCapability)(),this._onePageRenderedCapability=(0,De.createPromiseCapability)(),this._pagesCapability=(0,De.createPromiseCapability)(),this._scrollMode=Ce.ScrollMode.VERTICAL,this._previousScrollMode=Ce.ScrollMode.UNKNOWN,this._spreadMode=Ce.SpreadMode.NONE,u(this,W,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Se(this,ge)&&(document.removeEventListener("visibilitychange",Se(this,ge)),u(this,ge,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(Te),null!==Se(this,N)&&(u(this,$,Se(this,N)),u(this,N,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:Me,pageSpot:nt=null,pageNumber:dt=null}){if(this._scrollMode===Ce.ScrollMode.PAGE&&(dt&&this._setCurrentPageNumber(dt),be(this,We,kt).call(this),this.update()),!nt&&!this.isInPresentationMode){const At=Me.offsetLeft+Me.clientLeft,Qe=At+Me.clientWidth,{scrollLeft:yt,clientWidth:Wt}=this.container;(this._scrollMode===Ce.ScrollMode.HORIZONTAL||At<yt||Qe>yt+Wt)&&(nt={left:0,top:0})}(0,Ce.scrollIntoView)(Me,nt)}_setScaleUpdatePages(Me,nt,dt=!1,At=!1){if(this._currentScaleValue=nt.toString(),be(this,Ze,Zt).call(this,Me))return void(At&&this.eventBus.dispatch("scalechanging",{source:this,scale:Me,presetValue:nt}));this._doc.style.setProperty("--zoom-factor",Me),this._doc.style.setProperty("--viewport-scale-factor",Me*De.PixelsPerInch.PDF_TO_CSS_UNITS);const Qe={scale:Me};for(const yt of this._pages)yt.update(Qe);if(this._currentScale=Me,!dt){let Wt,yt=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(yt=this._location.pageNumber,Wt=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:yt,destArray:Wt,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:Me,presetValue:At?nt:void 0}),this.defaultRenderingQueue&&this.update(),u(this,M,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==Ce.SpreadMode.NONE&&this._scrollMode!==Ce.ScrollMode.HORIZONTAL?2:1}_setScale(Me,nt=!1){let dt=parseFloat(Me);if(dt>0)this._setScaleUpdatePages(dt,Me,nt,!1);else{const At=this._pages[this._currentPageNumber-1];if(!At)return;let Qe=Ce.SCROLLBAR_PADDING,yt=Ce.VERTICAL_PADDING;this.isInPresentationMode?Qe=yt=4:this.removePageBorders&&(Qe=yt=0),this._scrollMode===Ce.ScrollMode.HORIZONTAL&&([Qe,yt]=[yt,Qe]);const Wt=(this.container.clientWidth-Qe)/At.width*At.scale/this._pageWidthScaleFactor,Nt=(this.container.clientHeight-yt)/At.height*At.scale;switch(Me){case"page-actual":dt=1;break;case"page-width":dt=Wt;break;case"page-height":dt=Nt;break;case"page-fit":dt=Math.min(Wt,Nt);break;case"auto":const yn=(0,Ce.isPortraitOrientation)(At)?Wt:Math.min(Nt,Wt);dt=Math.min(Ce.MAX_AUTO_SCALE,yn);break;default:return void console.error(`_setScale: "${Me}" is an unknown zoom value.`)}this._setScaleUpdatePages(dt,Me,nt,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(Me){if(!this._pageLabels)return null;const nt=this._pageLabels.indexOf(Me);return nt<0?null:nt+1}scrollPageIntoView({pageNumber:Me,destArray:nt=null,allowNegativeOffset:dt=!1,ignoreDestinationZoom:At=!1}){if(!this.pdfDocument)return;const Qe=Number.isInteger(Me)&&this._pages[Me-1];if(!Qe)return void console.error(`scrollPageIntoView: "${Me}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!nt)return void this._setCurrentPageNumber(Me,!0);let Gn,pt,yt=0,Wt=0,Nt=0,yn=0;const ct=Qe.rotation%180!=0,ht=(ct?Qe.height:Qe.width)/Qe.scale/De.PixelsPerInch.PDF_TO_CSS_UNITS,cn=(ct?Qe.width:Qe.height)/Qe.scale/De.PixelsPerInch.PDF_TO_CSS_UNITS;let Qt=0;switch(nt[1].name){case"XYZ":yt=nt[2],Wt=nt[3],Qt=nt[4],yt=null!==yt?yt:0,Wt=null!==Wt?Wt:cn;break;case"Fit":case"FitB":Qt="page-fit";break;case"FitH":case"FitBH":Wt=nt[2],Qt="page-width",null===Wt&&this._location?(yt=this._location.left,Wt=this._location.top):("number"!=typeof Wt||Wt<0)&&(Wt=cn);break;case"FitV":case"FitBV":yt=nt[2],Nt=ht,yn=cn,Qt="page-height";break;case"FitR":yt=nt[2],Wt=nt[3],Nt=nt[4]-yt,yn=nt[5]-Wt,Gn=(this.container.clientWidth-(this.removePageBorders?0:Ce.SCROLLBAR_PADDING))/Nt/De.PixelsPerInch.PDF_TO_CSS_UNITS,pt=(this.container.clientHeight-(this.removePageBorders?0:Ce.VERTICAL_PADDING))/yn/De.PixelsPerInch.PDF_TO_CSS_UNITS,Qt=Math.min(Math.abs(Gn),Math.abs(pt));break;default:return void console.error(`scrollPageIntoView: "${nt[1].name}" is not a valid destination type.`)}if(At||(Qt&&Qt!==this._currentScale?this.currentScaleValue=Qt:this._currentScale===Ce.UNKNOWN_SCALE&&(this.currentScaleValue=Ce.DEFAULT_SCALE_VALUE)),"page-fit"===Qt&&!nt[4])return void this._scrollIntoView({pageDiv:Qe.div,pageNumber:Me});const wn=[Qe.viewport.convertToViewportPoint(yt,Wt),Qe.viewport.convertToViewportPoint(yt+Nt,Wt+yn)];let rn=Math.min(wn[0][0],wn[1][0]),In=Math.min(wn[0][1],wn[1][1]);dt||(rn=Math.max(rn,0),In=Math.max(In,0)),this._scrollIntoView({pageDiv:Qe.div,pageSpot:{left:rn,top:In},pageNumber:Me})}_updateLocation(Me){const nt=this._currentScale,dt=this._currentScaleValue,At=parseFloat(dt)===nt?Math.round(1e4*nt)/100:dt,Qe=Me.id;let yt="#page="+Qe;yt+="&zoom="+At;const Nt=this.container,yn=this._pages[Qe-1].getPagePoint(Nt.scrollLeft-Me.x,Nt.scrollTop-Me.y),Gn=Math.round(yn[0]),pt=Math.round(yn[1]);yt+=","+Gn+","+pt,this._location={pageNumber:Qe,scale:At,top:pt,left:Gn,rotation:this._pagesRotation,pdfOpenParams:yt}}update(){const Me=this._getVisiblePages(),nt=Me.views,dt=nt.length;if(0===dt)return;const At=Math.max(10,2*dt+1);if(Se(this,H).resize(At,Me.ids),this.renderingQueue.renderHighestPriority(Me),!this.isInPresentationMode){const Qe=this._spreadMode===Ce.SpreadMode.NONE&&(this._scrollMode===Ce.ScrollMode.PAGE||this._scrollMode===Ce.ScrollMode.VERTICAL);let yt=this._currentPageNumber,Wt=!1;for(const Nt of nt){if(Nt.percent<100)break;if(Nt.id===yt&&Qe){Wt=!0;break}}Wt||(yt=nt[0].id),this._setCurrentPageNumber(yt)}this._updateLocation(Me.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(Me){return this.container.contains(Me)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===Ce.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===Ce.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const Me=this._pages[this._currentPageNumber-1],nt=Me.div,dt={id:Me.id,x:nt.offsetLeft+nt.clientLeft,y:nt.offsetTop+nt.clientTop,view:Me};return{first:dt,last:dt,views:[dt],ids:new Set([Me.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const Me=this._scrollMode===Ce.ScrollMode.PAGE?Se(this,W).pages:this._pages,nt=this._scrollMode===Ce.ScrollMode.HORIZONTAL;return(0,Ce.getVisibleElements)({scrollEl:this.container,views:Me,sortByVisibility:!0,horizontal:nt,rtl:nt&&this._isContainerRtl})}isPageVisible(Me){return!!this.pdfDocument&&(Number.isInteger(Me)&&Me>0&&Me<=this.pagesCount?this._getVisiblePages().ids.has(Me):(console.error(`isPageVisible: "${Me}" is not a valid page.`),!1))}isPageCached(Me){if(!this.pdfDocument)return!1;if(!(Number.isInteger(Me)&&Me>0&&Me<=this.pagesCount))return console.error(`isPageCached: "${Me}" is not a valid page.`),!1;const nt=this._pages[Me-1];return Se(this,H).has(nt)}cleanup(){for(let Me=0,nt=this._pages.length;Me<nt;Me++)this._pages[Me]&&this._pages[Me].renderingState!==Ce.RenderingStates.FINISHED&&this._pages[Me].reset()}_cancelRendering(){for(let Me=0,nt=this._pages.length;Me<nt;Me++)this._pages[Me]&&this._pages[Me].cancelRendering()}forceRendering(Me){const nt=Me||this._getVisiblePages(),dt=be(this,Ke,Jt).call(this,nt),Qe=this.renderingQueue.getHighestPriority(nt,this._pages,dt,this._spreadMode!==Ce.SpreadMode.NONE&&this._scrollMode!==Ce.ScrollMode.HORIZONTAL);return be(this,mt,Hn).call(this,nt.ids),!!Qe&&(be(this,Xe,mn).call(this,Qe).then(()=>{this.renderingQueue.renderView(Qe)}),!0)}createTextLayerBuilder(Me,nt,dt,At=!1,Qe,yt){return new Q.TextLayerBuilder({textLayerDiv:Me,eventBus:Qe,pageIndex:nt,viewport:dt,enhanceTextSelection:!this.isInPresentationMode&&At,highlighter:yt})}createTextHighlighter(Me,nt){return new Re.TextHighlighter({eventBus:nt,pageIndex:Me,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(Me,nt,dt=null,At="",Qe=!0,yt=P.NullL10n,Wt=null,Nt=null,yn=null,Gn=null,pt=null){return new ye.AnnotationLayerBuilder({pageDiv:Me,pdfPage:nt,annotationStorage:dt||this.pdfDocument?.annotationStorage,imageResourcesPath:At,renderForms:Qe,linkService:this.linkService,downloadManager:this.downloadManager,l10n:yt,enableScripting:Wt??this.enableScripting,hasJSActionsPromise:Nt||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Gn||this.pdfDocument?.getFieldObjects(),mouseState:yn||this._scriptingManager?.mouseState,annotationCanvasMap:pt})}createXfaLayerBuilder(Me,nt,dt=null){return new k.XfaLayerBuilder({pageDiv:Me,pdfPage:nt,annotationStorage:dt||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(Me){return new J.StructTreeLayerBuilder({pdfPage:Me})}get hasEqualPageSizes(){const Me=this._pages[0];for(let nt=1,dt=this._pages.length;nt<dt;++nt){const At=this._pages[nt];if(At.width!==Me.width||At.height!==Me.height)return!1}return!0}getPagesOverview(){return this._pages.map(Me=>{const nt=Me.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,Ce.isPortraitOrientation)(nt)?{width:nt.width,height:nt.height,rotation:nt.rotation}:{width:nt.height,height:nt.width,rotation:(nt.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(Me){if(!(Me instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${Me}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=Me;const nt={optionalContentConfigPromise:Me};for(const dt of this._pages)dt.update(nt);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:Me})}get scrollMode(){return this._scrollMode}set scrollMode(Me){if(this._scrollMode!==Me){if(!(0,Ce.isValidScrollMode)(Me))throw new Error(`Invalid scroll mode: ${Me}`);this.pagesCount>ke.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=Me,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Me}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(Me=null){const nt=this._scrollMode,dt=this.viewer;dt.classList.toggle("scrollHorizontal",nt===Ce.ScrollMode.HORIZONTAL),dt.classList.toggle("scrollWrapped",nt===Ce.ScrollMode.WRAPPED),this.pdfDocument&&Me&&(nt===Ce.ScrollMode.PAGE?be(this,We,kt).call(this):this._previousScrollMode===Ce.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(Me,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(Me){if(this._spreadMode!==Me){if(!(0,Ce.isValidSpreadMode)(Me))throw new Error(`Invalid spread mode: ${Me}`);this._spreadMode=Me,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:Me}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(Me=null){if(!this.pdfDocument)return;const nt=this.viewer,dt=this._pages;if(this._scrollMode===Ce.ScrollMode.PAGE)be(this,We,kt).call(this);else if(nt.textContent="",this._spreadMode===Ce.SpreadMode.NONE)for(let At=0,Qe=dt.length;At<Qe;++At)nt.appendChild(dt[At].div);else{const At=this._spreadMode-1;let Qe=null;for(let yt=0,Wt=dt.length;yt<Wt;++yt)null===Qe?(Qe=document.createElement("div"),Qe.className="spread",nt.appendChild(Qe)):yt%2===At&&(Qe=Qe.cloneNode(!1),nt.appendChild(Qe)),Qe.appendChild(dt[yt].div)}Me&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(Me,!0),this.update())}_getPageAdvance(Me,nt=!1){switch(this._scrollMode){case Ce.ScrollMode.WRAPPED:{const{views:dt}=this._getVisiblePages(),At=new Map;for(const{id:Qe,y:yt,percent:Wt,widthPercent:Nt}of dt){if(0===Wt||Nt<100)continue;let yn=At.get(yt);yn||At.set(yt,yn||=[]),yn.push(Qe)}for(const Qe of At.values()){const yt=Qe.indexOf(Me);if(-1===yt)continue;const Wt=Qe.length;if(1===Wt)break;if(nt)for(let Nt=yt-1,yn=0;Nt>=yn;Nt--){const pt=Qe[Nt+1]-1;if(Qe[Nt]<pt)return Me-pt}else for(let Nt=yt+1,yn=Wt;Nt<yn;Nt++){const pt=Qe[Nt-1]+1;if(Qe[Nt]>pt)return pt-Me}if(nt){const Nt=Qe[0];if(Nt<Me)return Me-Nt+1}else{const Nt=Qe[Wt-1];if(Nt>Me)return Nt-Me+1}break}break}case Ce.ScrollMode.HORIZONTAL:break;case Ce.ScrollMode.PAGE:case Ce.ScrollMode.VERTICAL:{if(this._spreadMode===Ce.SpreadMode.NONE)break;const dt=this._spreadMode-1;if(nt&&Me%2!==dt)break;if(!nt&&Me%2===dt)break;const{views:At}=this._getVisiblePages(),Qe=nt?Me-1:Me+1;for(const{id:yt,percent:Wt,widthPercent:Nt}of At)if(yt===Qe){if(Wt>0&&100===Nt)return 2;break}break}}return 1}nextPage(){const Me=this._currentPageNumber,nt=this.pagesCount;if(Me>=nt)return!1;const dt=this._getPageAdvance(Me,!1)||1;return this.currentPageNumber=Math.min(Me+dt,nt),!0}previousPage(){const Me=this._currentPageNumber;if(Me<=1)return!1;const nt=this._getPageAdvance(Me,!0)||1;return this.currentPageNumber=Math.max(Me-nt,1),!0}increaseScale(Me=1){let nt=this._currentScale;do{nt=(nt*Ce.DEFAULT_SCALE_DELTA).toFixed(2),nt=Math.ceil(10*nt)/10,nt=Math.min(Ce.MAX_SCALE,nt)}while(--Me>0&&nt<Ce.MAX_SCALE);this.currentScaleValue=nt}decreaseScale(Me=1){let nt=this._currentScale;do{nt=(nt/Ce.DEFAULT_SCALE_DELTA).toFixed(2),nt=Math.floor(10*nt)/10,nt=Math.max(Ce.MIN_SCALE,nt)}while(--Me>0&&nt>Ce.MIN_SCALE);this.currentScaleValue=nt}}function $t(_t){_t&&(_t.includes(De.PermissionFlag.COPY)||this.viewer.classList.add(Te),!_t.includes(De.PermissionFlag.MODIFY_ANNOTATIONS)&&!_t.includes(De.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Se(this,$)===De.AnnotationMode.ENABLE_FORMS&&(u(this,N,Se(this,$)),u(this,$,De.AnnotationMode.ENABLE)))}function Bt(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const _t=new Promise(Me=>{u(this,ge,()=>{"hidden"===document.visibilityState&&(Me(),document.removeEventListener("visibilitychange",Se(this,ge)),u(this,ge,null))}),document.addEventListener("visibilitychange",Se(this,ge))});return Promise.race([this._onePageRenderedCapability.promise,_t])}function kt(){if(this._scrollMode!==Ce.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const _t=this._currentPageNumber,Me=Se(this,W),nt=this.viewer;if(nt.textContent="",Me.pages.length=0,this._spreadMode===Ce.SpreadMode.NONE){const dt=this._pages[_t-1];if(this.isInPresentationMode){const At=document.createElement("div");At.className="spread";const Qe=document.createElement("div");Qe.className="dummyPage",Qe.style.height=`${this.container.clientHeight}px`,At.appendChild(Qe),At.appendChild(dt.div),nt.appendChild(At)}else nt.appendChild(dt.div);Me.pages.push(dt)}else{const dt=new Set,At=this._spreadMode-1;_t%2!==At?(dt.add(_t-1),dt.add(_t)):(dt.add(_t-2),dt.add(_t-1));let Qe=null;for(const yt of dt){const Wt=this._pages[yt];Wt&&(null===Qe?(Qe=document.createElement("div"),Qe.className="spread",nt.appendChild(Qe)):yt%2===At&&(Qe=Qe.cloneNode(!1),nt.appendChild(Qe)),Qe.appendChild(Wt.div),Me.pages.push(Wt))}}Me.scrollDown=_t>=Me.previousPageNumber,Me.previousPageNumber=_t}function Zt(_t){return(!this.isInPresentationMode||this.container.clientHeight===Se(this,M))&&(_t===this._currentScale||Math.abs(_t-this._currentScale)<1e-15)}function mn(_t){return Xt.apply(this,arguments)}function Xt(){return(Xt=me(function*(_t){if(_t.pdfPage)return _t.pdfPage;try{const Me=yield this.pdfDocument.getPage(_t.id);return _t.pdfPage||_t.setPdfPage(Me),this.linkService._cachedPageNumber?.(Me.ref)||this.linkService.cachePageRef(_t.id,Me.ref),Me}catch(Me){return console.error("Unable to get page for page view",Me),null}})).apply(this,arguments)}function Jt(_t){if(1===_t.first?.id)return!0;if(_t.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case Ce.ScrollMode.PAGE:return Se(this,W).scrollDown;case Ce.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Hn(_t){for(const Me of _t)this._pages[Me-1]?.toggleLoadingIconSpinner(!0);for(const Me of Se(this,H))_t.has(Me.id)||Me.toggleLoadingIconSpinner(!1)}ie.BaseViewer=Lt},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.PDFPageView=void 0;var Ee=re(3),De=re(6),Ce=re(13),ye=re(4);const P=Ce.compatibilityParams.maxCanvasPixels||16777216;var A=new WeakMap;ie.PDFPageView=class Y{constructor(J){ne(this,A,{writable:!0,value:Ee.AnnotationMode.ENABLE_FORMS});const Re=J.container,Q=J.defaultViewport;this.id=J.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=J.scale||De.DEFAULT_SCALE,this.viewport=Q,this.pdfPageRotate=Q.rotation,this._optionalContentConfigPromise=J.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=J.textLayerMode??De.TextLayerMode.ENABLE,u(this,A,J.annotationMode??Ee.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=J.imageResourcesPath||"",this.useOnlyCssZoom=J.useOnlyCssZoom||!1,this.maxCanvasPixels=J.maxCanvasPixels||P,this.eventBus=J.eventBus,this.renderingQueue=J.renderingQueue,this.textLayerFactory=J.textLayerFactory,this.annotationLayerFactory=J.annotationLayerFactory,this.xfaLayerFactory=J.xfaLayerFactory,this.textHighlighter=J.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=J.structTreeLayerFactory,this.renderer=J.renderer||De.RendererType.CANVAS,this.l10n=J.l10n||ye.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=De.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const k=document.createElement("div");k.className="page",k.style.width=Math.floor(this.viewport.width)+"px",k.style.height=Math.floor(this.viewport.height)+"px",k.setAttribute("data-page-number",this.id),k.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(he=>{k.setAttribute("aria-label",he)}),this.div=k,Re?.appendChild(k)}setPdfPage(J){this.pdfPage=J,this.pdfPageRotate=J.rotate,this.viewport=J.getViewport({scale:this.scale*Ee.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var J=this;return me(function*(){let Re=null;try{yield J.annotationLayer.render(J.viewport,"display")}catch(Q){Re=Q}finally{J.eventBus.dispatch("annotationlayerrendered",{source:J,pageNumber:J.id,error:Re})}})()}_renderXfaLayer(){var J=this;return me(function*(){let Re=null;try{const Q=yield J.xfaLayer.render(J.viewport,"display");J.textHighlighter&&J._buildXfaTextContentItems(Q.textDivs)}catch(Q){Re=Q}finally{J.eventBus.dispatch("xfalayerrendered",{source:J,pageNumber:J.id,error:Re})}})()}_buildXfaTextContentItems(J){var Re=this;return me(function*(){const Q=yield Re.pdfPage.getTextContent(),k=[];for(const he of Q.items)k.push(he.str);Re.textHighlighter.setTextMapping(J,k),Re.textHighlighter.enable()})()}_resetZoomLayer(J=!1){if(!this.zoomLayer)return;const Re=this.zoomLayer.firstChild;this.paintedViewportMap.delete(Re),Re.width=0,Re.height=0,J&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:J=!1,keepAnnotationLayer:Re=!1,keepXfaLayer:Q=!1}={}){this.cancelRendering({keepAnnotationLayer:Re,keepXfaLayer:Q}),this.renderingState=De.RenderingStates.INITIAL;const k=this.div;k.style.width=Math.floor(this.viewport.width)+"px",k.style.height=Math.floor(this.viewport.height)+"px";const he=k.childNodes,Te=J&&this.zoomLayer||null,ke=Re&&this.annotationLayer?.div||null,He=Q&&this.xfaLayer?.div||null;for(let Ue=he.length-1;Ue>=0;Ue--){const ot=he[Ue];switch(ot){case Te:case ke:case He:continue}ot.remove()}k.removeAttribute("data-loaded"),ke&&this.annotationLayer.hide(),He&&this.xfaLayer.hide(),Te||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(Ue=>{this.loadingIconDiv?.setAttribute("aria-label",Ue)}),k.appendChild(this.loadingIconDiv)}update({scale:J=0,rotation:Re=null,optionalContentConfigPromise:Q=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=J||this.scale,"number"==typeof Re&&(this.rotation=Re),Q instanceof Promise&&(this._optionalContentConfigPromise=Q);const he=this.scale*Ee.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:he,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:ke}=document.documentElement;ke.setProperty("--zoom-factor",this.scale),ke.setProperty("--viewport-scale-factor",he)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let Te=!1;if(this.canvas&&this.maxCanvasPixels>0){const ke=this.outputScale;(Math.floor(this.viewport.width)*ke.sx|0)*(Math.floor(this.viewport.height)*ke.sy|0)>this.maxCanvasPixels&&(Te=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&Te)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:J=!1,keepXfaLayer:Re=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!J||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!Re||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:J,redrawAnnotationLayer:Re=!1,redrawXfaLayer:Q=!1}){const k=this.viewport.width,he=this.viewport.height,Te=this.div;J.style.width=J.parentNode.style.width=Te.style.width=Math.floor(k)+"px",J.style.height=J.parentNode.style.height=Te.style.height=Math.floor(he)+"px";const ke=this.viewport.rotation-this.paintedViewportMap.get(J).rotation,He=Math.abs(ke);let Ue=1,ot=1;if((90===He||270===He)&&(Ue=he/k,ot=k/he),J.style.transform=`rotate(${ke}deg) scale(${Ue}, ${ot})`,this.textLayer){const we=this.textLayer.viewport,H=Math.abs(this.viewport.rotation-we.rotation);let $=k/we.width;(90===H||270===H)&&($=k/we.height);const N=this.textLayer.textLayerDiv;let w,M;switch(H){case 0:w=M=0;break;case 90:w=0,M="-"+N.style.height;break;case 180:w="-"+N.style.width,M="-"+N.style.height;break;case 270:w="-"+N.style.width,M=0;break;default:console.error("Bad rotation value.")}N.style.transform=`rotate(${H}deg) scale(${$}) translate(${w}, ${M})`,N.style.transformOrigin="0% 0%"}Re&&this.annotationLayer&&this._renderAnnotationLayer(),Q&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(J,Re){return this.viewport.convertToPdfPoint(J,Re)}toggleLoadingIconSpinner(J=!1){this.loadingIconDiv?.classList.toggle("notVisible",!J)}draw(){var J=this;this.renderingState!==De.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:Re,pdfPage:Q}=this;if(!Q)return this.renderingState=De.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=De.RenderingStates.RUNNING;const k=document.createElement("div");k.style.width=Re.style.width,k.style.height=Re.style.height,k.classList.add("canvasWrapper"),this.annotationLayer?.div?Re.insertBefore(k,this.annotationLayer.div):Re.appendChild(k);let he=null;if(this.textLayerMode!==De.TextLayerMode.DISABLE&&this.textLayerFactory){const ot=document.createElement("div");ot.className="textLayer",ot.style.width=k.style.width,ot.style.height=k.style.height,this.annotationLayer?.div?Re.insertBefore(ot,this.annotationLayer.div):Re.appendChild(ot),he=this.textLayerFactory.createTextLayerBuilder(ot,this.id-1,this.viewport,this.textLayerMode===De.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=he,Se(this,A)!==Ee.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(Re,Q,null,this.imageResourcesPath,Se(this,A)===Ee.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&Re.appendChild(this.xfaLayer.div);let Te=null;this.renderingQueue&&(Te=ot=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=De.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=De.RenderingStates.RUNNING,ot()});ot()});const ke=function(){var ot=me(function*(we=null){if(He===J.paintTask&&(J.paintTask=null),we instanceof Ee.RenderingCancelledException)J._renderError=null;else if(J._renderError=we,J.renderingState=De.RenderingStates.FINISHED,J.loadingIconDiv&&(J.loadingIconDiv.remove(),delete J.loadingIconDiv),J._resetZoomLayer(!0),J.eventBus.dispatch("pagerendered",{source:J,pageNumber:J.id,cssTransform:!1,timestamp:performance.now(),error:J._renderError}),we)throw we});return function(){return ot.apply(this,arguments)}}(),He=this.renderer===De.RendererType.SVG?this.paintOnSvg(k):this.paintOnCanvas(k);He.onRenderContinue=Te,this.paintTask=He;const Ue=He.promise.then(()=>ke(null).then(()=>{if(he){const ot=Q.streamTextContent({includeMarkedContent:!0});he.setTextContentStream(ot),he.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ot){return ke(ot)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(Re,Q,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ot=>{ot.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(we=>{if(!we||!this.canvas)return;const te=this.structTreeLayer.render(we);te.classList.add("structTree"),this.canvas.appendChild(te)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(Q)),Re.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Ue}paintOnCanvas(J){const Re=(0,Ee.createPromiseCapability)(),Q={promise:Re.promise,onRenderContinue(N){N()},cancel(){$.cancel()}},k=this.viewport,he=document.createElement("canvas");he.hidden=!0;let Te=!0;const ke=function(){Te&&(he.hidden=!1,Te=!1)};J.appendChild(he),this.canvas=he,he.mozOpaque=!0;const He=he.getContext("2d",{alpha:!1}),Ue=this.outputScale=new De.OutputScale;if(this.useOnlyCssZoom){const N=k.clone({scale:Ee.PixelsPerInch.PDF_TO_CSS_UNITS});Ue.sx*=N.width/k.width,Ue.sy*=N.height/k.height}if(this.maxCanvasPixels>0){const w=Math.sqrt(this.maxCanvasPixels/(k.width*k.height));Ue.sx>w||Ue.sy>w?(Ue.sx=w,Ue.sy=w,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ot=(0,De.approximateFraction)(Ue.sx),we=(0,De.approximateFraction)(Ue.sy);he.width=(0,De.roundToDivide)(k.width*Ue.sx,ot[0]),he.height=(0,De.roundToDivide)(k.height*Ue.sy,we[0]),he.style.width=(0,De.roundToDivide)(k.width,ot[1])+"px",he.style.height=(0,De.roundToDivide)(k.height,we[1])+"px",this.paintedViewportMap.set(he,k);const H={canvasContext:He,transform:Ue.scaled?[Ue.sx,0,0,Ue.sy,0,0]:null,viewport:this.viewport,annotationMode:Se(this,A),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},$=this.pdfPage.render(H);return $.onContinue=function(N){ke(),Q.onRenderContinue?Q.onRenderContinue(N):N()},$.promise.then(function(){ke(),Re.resolve()},function(N){ke(),Re.reject(N)}),Q}paintOnSvg(J){let Re=!1;const Q=()=>{if(Re)throw new Ee.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},k=this.pdfPage,he=this.viewport.clone({scale:Ee.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:k.getOperatorList({annotationMode:Se(this,A)}).then(ke=>(Q(),new Ee.SVGGraphics(k.commonObjs,k.objs).getSVG(ke,he).then(Ue=>{Q(),this.svg=Ue,this.paintedViewportMap.set(Ue,he),Ue.style.width=J.style.width,Ue.style.height=J.style.height,this.renderingState=De.RenderingStates.FINISHED,J.appendChild(Ue)}))),onRenderContinue(ke){ke()},cancel(){Re=!0}}}setPageLabel(J){this.pageLabel="string"==typeof J?J:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(Ie,ie)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.compatibilityParams=ie.OptionKind=ie.AppOptions=void 0;const re=Object.create(null);ie.compatibilityParams=re;{const P=navigator.userAgent||"",A=navigator.platform||"",Y=navigator.maxTouchPoints||1,pe=/Android/.test(P);(/\b(iPad|iPhone|iPod)(?=;)/.test(P)||"MacIntel"===A&&Y>1||pe)&&(re.maxCanvasPixels=5242880)}const Ee={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};ie.OptionKind=Ee;const De={annotationMode:{value:2,kind:Ee.VIEWER+Ee.PREFERENCE},cursorToolOnLoad:{value:0,kind:Ee.VIEWER+Ee.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:Ee.VIEWER},defaultZoomValue:{value:"",kind:Ee.VIEWER+Ee.PREFERENCE},disableHistory:{value:!1,kind:Ee.VIEWER},disablePageLabels:{value:!1,kind:Ee.VIEWER+Ee.PREFERENCE},enablePermissions:{value:!1,kind:Ee.VIEWER+Ee.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:Ee.VIEWER+Ee.PREFERENCE},enableScripting:{value:!0,kind:Ee.VIEWER+Ee.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:Ee.VIEWER},externalLinkTarget:{value:0,kind:Ee.VIEWER+Ee.PREFERENCE},historyUpdateUrl:{value:!1,kind:Ee.VIEWER+Ee.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:Ee.VIEWER+Ee.PREFERENCE},imageResourcesPath:{value:"./images/",kind:Ee.VIEWER},maxCanvasPixels:{value:16777216,compatibility:re.maxCanvasPixels,kind:Ee.VIEWER},pdfBugEnabled:{value:!1,kind:Ee.VIEWER+Ee.PREFERENCE},printResolution:{value:150,kind:Ee.VIEWER},renderer:{value:"canvas",kind:Ee.VIEWER},sidebarViewOnLoad:{value:-1,kind:Ee.VIEWER+Ee.PREFERENCE},scrollModeOnLoad:{value:-1,kind:Ee.VIEWER+Ee.PREFERENCE},spreadModeOnLoad:{value:-1,kind:Ee.VIEWER+Ee.PREFERENCE},textLayerMode:{value:1,kind:Ee.VIEWER+Ee.PREFERENCE},useOnlyCssZoom:{value:!1,kind:Ee.VIEWER+Ee.PREFERENCE},viewerCssTheme:{value:0,kind:Ee.VIEWER+Ee.PREFERENCE},viewOnLoad:{value:0,kind:Ee.VIEWER+Ee.PREFERENCE},cMapPacked:{value:!0,kind:Ee.API},cMapUrl:{value:"../web/cmaps/",kind:Ee.API},disableAutoFetch:{value:!1,kind:Ee.API+Ee.PREFERENCE},disableFontFace:{value:!1,kind:Ee.API+Ee.PREFERENCE},disableRange:{value:!1,kind:Ee.API+Ee.PREFERENCE},disableStream:{value:!1,kind:Ee.API+Ee.PREFERENCE},docBaseUrl:{value:"",kind:Ee.API},enableXfa:{value:!0,kind:Ee.API+Ee.PREFERENCE},fontExtraProperties:{value:!1,kind:Ee.API},isEvalSupported:{value:!0,kind:Ee.API},maxImageSize:{value:-1,kind:Ee.API},pdfBug:{value:!1,kind:Ee.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:Ee.API},verbosity:{value:1,kind:Ee.API},workerPort:{value:null,kind:Ee.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:Ee.WORKER}};De.disablePreferences={value:!1,kind:Ee.VIEWER},De.locale={value:navigator.language||"en-US",kind:Ee.VIEWER},De.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:Ee.VIEWER},De.renderer.kind+=Ee.PREFERENCE;const Ce=Object.create(null);ie.AppOptions=class ye{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(A){const Y=Ce[A];if(void 0!==Y)return Y;const pe=De[A];return void 0!==pe?pe.compatibility??pe.value:void 0}static getAll(A=null){const Y=Object.create(null);for(const pe in De){const J=De[pe];if(A){if(!(A&J.kind))continue;if(A===Ee.PREFERENCE){const Q=J.value,k=typeof Q;if("boolean"===k||"string"===k||"number"===k&&Number.isInteger(Q)){Y[pe]=Q;continue}throw new Error(`Invalid type for preference: ${pe}`)}}const Re=Ce[pe];Y[pe]=void 0!==Re?Re:J.compatibility??J.value}return Y}static set(A,Y){Ce[A]=Y}static setAll(A){for(const Y in A)Ce[Y]=A[Y]}static remove(A){delete Ce[A]}static _hasUserOptions(){return Object.keys(Ce).length>0}}},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.PDFRenderingQueue=void 0;var Ee=re(3),De=re(6);ie.PDFRenderingQueue=class ye{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(A){this.pdfViewer=A}setThumbnailViewer(A){this.pdfThumbnailViewer=A}isHighestPriority(A){return this.highestPriorityPage===A.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(A){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(A)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(A,Y,pe,J=!1){const Re=A.views,Q=Re.length;if(0===Q)return null;for(let He=0;He<Q;He++){const Ue=Re[He].view;if(!this.isViewFinished(Ue))return Ue}const k=A.first.id,he=A.last.id;if(he-k+1>Q){const He=A.ids;for(let Ue=1,ot=he-k;Ue<ot;Ue++){const we=pe?k+Ue:he-Ue;if(He.has(we))continue;const te=Y[we-1];if(!this.isViewFinished(te))return te}}let Te=pe?he:k-2,ke=Y[Te];return ke&&!this.isViewFinished(ke)||J&&(Te+=pe?1:-1,ke=Y[Te],ke&&!this.isViewFinished(ke))?ke:null}isViewFinished(A){return A.renderingState===De.RenderingStates.FINISHED}renderView(A){switch(A.renderingState){case De.RenderingStates.FINISHED:return!1;case De.RenderingStates.PAUSED:this.highestPriorityPage=A.renderingId,A.resume();break;case De.RenderingStates.RUNNING:this.highestPriorityPage=A.renderingId;break;case De.RenderingStates.INITIAL:this.highestPriorityPage=A.renderingId,A.draw().finally(()=>{this.renderHighestPriority()}).catch(Y=>{Y instanceof Ee.RenderingCancelledException||console.error(`renderView: "${Y}"`)})}return!0}}},(Ie,ie)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.TextHighlighter=void 0;ie.TextHighlighter=class re{constructor({findController:De,eventBus:Ce,pageIndex:ye}){this.findController=De,this.matches=[],this.eventBus=Ce,this.pageIdx=ye,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(De,Ce){this.textDivs=De,this.textContentItemsStr=Ce}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=De=>{(De.pageIndex===this.pageIdx||-1===De.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(De,Ce){if(!De)return[];const{textContentItemsStr:ye}=this;let P=0,A=0;const Y=ye.length-1,pe=[];for(let J=0,Re=De.length;J<Re;J++){let Q=De[J];for(;P!==Y&&Q>=A+ye[P].length;)A+=ye[P].length,P++;P===ye.length&&console.error("Could not find a matching mapping");const k={begin:{divIdx:P,offset:Q-A}};for(Q+=Ce[J];P!==Y&&Q>A+ye[P].length;)A+=ye[P].length,P++;k.end={divIdx:P,offset:Q-A},pe.push(k)}return pe}_renderMatches(De){if(0===De.length)return;const{findController:Ce,pageIdx:ye}=this,{textContentItemsStr:P,textDivs:A}=this,Y=ye===Ce.selected.pageIdx,pe=Ce.selected.matchIdx;let Re=null;const Q_offset=void 0;function k(He,Ue){const ot=He.divIdx;return A[ot].textContent="",he(ot,0,He.offset,Ue)}function he(He,Ue,ot,we){let te=A[He];if(te.nodeType===Node.TEXT_NODE){const N=document.createElement("span");te.parentNode.insertBefore(N,te),N.appendChild(te),A[He]=N,te=N}const H=P[He].substring(Ue,ot),$=document.createTextNode(H);if(we){const N=document.createElement("span");return N.className=`${we} appended`,N.appendChild($),te.appendChild(N),we.includes("selected")?N.offsetLeft:0}return te.appendChild($),0}let Te=pe,ke=Te+1;if(Ce.state.highlightAll)Te=0,ke=De.length;else if(!Y)return;for(let He=Te;He<ke;He++){const Ue=De[He],ot=Ue.begin,we=Ue.end,te=Y&&He===pe,H=te?" selected":"";let $=0;if(Re&&ot.divIdx===Re.divIdx?he(Re.divIdx,Re.offset,ot.offset):(null!==Re&&he(Re.divIdx,Re.offset,Q_offset),k(ot)),ot.divIdx===we.divIdx)$=he(ot.divIdx,ot.offset,we.offset,"highlight"+H);else{$=he(ot.divIdx,ot.offset,Q_offset,"highlight begin"+H);for(let N=ot.divIdx+1,w=we.divIdx;N<w;N++)A[N].className="highlight middle"+H;k(we,"highlight end"+H)}Re=we,te&&Ce.scrollMatchIntoView({element:A[ot.divIdx],selectedLeft:$,pageIndex:ye,matchIndex:pe})}Re&&he(Re.divIdx,Re.offset,Q_offset)}_updateMatches(){if(!this.enabled)return;const{findController:De,matches:Ce,pageIdx:ye}=this,{textContentItemsStr:P,textDivs:A}=this;let Y=-1;for(let Re=0,Q=Ce.length;Re<Q;Re++){const k=Ce[Re];for(let Te=Math.max(Y,k.begin.divIdx),ke=k.end.divIdx;Te<=ke;Te++){const He=A[Te];He.textContent=P[Te],He.className=""}Y=k.end.divIdx+1}De?.highlightMatches&&(this.matches=this._convertMatches(De.pageMatches[ye]||null,De.pageMatchesLength[ye]||null),this._renderMatches(this.matches))}}},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.DownloadManager=void 0;var Ee=re(3);function De(ye,P){const A=document.createElement("a");if(!A.click)throw new Error('DownloadManager: "a.click()" is not supported.');A.href=ye,A.target="_parent","download"in A&&(A.download=P),(document.body||document.documentElement).appendChild(A),A.click(),A.remove()}ie.DownloadManager=class Ce{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(P,A){(0,Ee.createValidAbsoluteUrl)(P,"http://example.com")?De(P+"#pdfjs.action=download",A):console.error(`downloadUrl - not a valid URL: ${P}`)}downloadData(P,A,Y){De(URL.createObjectURL(new Blob([P],{type:Y})),A)}openOrDownloadData(P,A,Y){const pe=(0,Ee.isPdfFile)(Y),J=pe?"application/pdf":"";if(pe){let Q,Re=this._openBlobUrls.get(P);Re||(Re=URL.createObjectURL(new Blob([A],{type:J})),this._openBlobUrls.set(P,Re)),Q="?file="+encodeURIComponent(Re+"#"+Y);try{return window.open(Q),!0}catch(k){console.error(`openOrDownloadData: ${k}`),URL.revokeObjectURL(Re),this._openBlobUrls.delete(P)}}return this.downloadData(A,Y,J),!1}download(P,A,Y,pe="download"){De(URL.createObjectURL(P),Y)}}},(Ie,ie)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.WaitOnType=ie.EventBus=ie.AutomationEventBus=void 0,ie.waitOnEventOrTimeout=function Ee({target:ye,name:P,delay:A=0}){return new Promise(function(Y,pe){if("object"!=typeof ye||!P||"string"!=typeof P||!(Number.isInteger(A)&&A>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function J(he){ye instanceof De?ye._off(P,Re):ye.removeEventListener(P,Re),k&&clearTimeout(k),Y(he)}const Re=J.bind(null,re.EVENT);ye instanceof De?ye._on(P,Re):ye.addEventListener(P,Re);const Q=J.bind(null,re.TIMEOUT),k=setTimeout(Q,A)})};const re={EVENT:"event",TIMEOUT:"timeout"};ie.WaitOnType=re;class De{constructor(){this._listeners=Object.create(null)}on(P,A,Y=null){this._on(P,A,{external:!0,once:Y?.once})}off(P,A,Y=null){this._off(P,A,{external:!0,once:Y?.once})}dispatch(P,A){const Y=this._listeners[P];if(!Y||0===Y.length)return;let pe;for(const{listener:J,external:Re,once:Q}of Y.slice(0))Q&&this._off(P,J),Re?(pe||=[]).push(J):J(A);if(pe){for(const J of pe)J(A);pe=null}}_on(P,A,Y=null){(this._listeners[P]||=[]).push({listener:A,external:!0===Y?.external,once:!0===Y?.once})}_off(P,A,Y=null){const pe=this._listeners[P];if(pe)for(let J=0,Re=pe.length;J<Re;J++)if(pe[J].listener===A)return void pe.splice(J,1)}}ie.EventBus=De;ie.AutomationEventBus=class Ce extends De{dispatch(P,A){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.GenericL10n=void 0,re(19);var Ee=re(4);const De=document.webL10n;ie.GenericL10n=class Ce{constructor(P){this._lang=P,this._ready=new Promise((A,Y)=>{De.setLanguage((0,Ee.fixupLangCode)(P),()=>{A(De)})})}getLanguage(){var P=this;return me(function*(){return(yield P._ready).getLanguage()})()}getDirection(){var P=this;return me(function*(){return(yield P._ready).getDirection()})()}get(P,A=null,Y=(0,Ee.getL10nFallback)(P,A)){var pe=this;return me(function*(){return(yield pe._ready).get(P,A,Y)})()}translate(P){var A=this;return me(function*(){return(yield A._ready).translate(P)})()}}},()=>{document.webL10n=function(Ie,ie,re){var Ee={},De="",Ce="textContent",ye="",P={},A="loading",Y=!0;function k(N,w,M){w=w||function(de){},M=M||function(){};var W=new XMLHttpRequest;W.open("GET",N,Y),W.overrideMimeType&&W.overrideMimeType("text/plain; charset=utf-8"),W.onreadystatechange=function(){4==W.readyState&&(200==W.status||0===W.status?w(W.responseText):M())},W.onerror=M,W.ontimeout=M;try{W.send(null)}catch{M()}}function he(N,w,M,W){var ge=N.replace(/[^\/]*$/,"")||"./";function de(We){return We.lastIndexOf("\\")<0?We:We.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}k(N,function(We){De+=We,function ee(We,Ze){var Xe={},Ke=/^\s*|\s*$/,mt=/^\s*#|^\s*$/,Lt=/^\s*\[(.*)\]\s*$/,$t=/^\s*@import\s+url\((.*)\)\s*$/i,Bt=/^([^=\s]*)\s*=\s*(.+)$/;function kt(mn,Xt,Jt){var Hn=mn.replace(Ke,"").split(/[\r\n]+/),_t="*",Me=w.split("-",1)[0],nt=!1,dt="";!function At(){for(;;){if(!Hn.length)return void Jt();var Qe=Hn.shift();if(!mt.test(Qe)){if(Xt){if(dt=Lt.exec(Qe)){_t=dt[1].toLowerCase(),nt="*"!==_t&&_t!==w&&_t!==Me;continue}if(nt)continue;if(dt=$t.exec(Qe))return void Zt(ge+dt[1],At)}var yt=Qe.match(Bt);yt&&3==yt.length&&(Xe[yt[1]]=de(yt[2]))}}}()}function Zt(mn,Xt){k(mn,function(Jt){kt(Jt,!1,Xt)},function(){console.warn(mn+" not found."),Xt()})}kt(We,!0,function(){Ze(Xe)})}(We,function(Ze){for(var Xe in Ze){var Ke,mt,Lt=Xe.lastIndexOf(".");Lt>0?(Ke=Xe.substring(0,Lt),mt=Xe.substring(Lt+1)):(Ke=Xe,mt=Ce),Ee[Ke]||(Ee[Ke]={}),Ee[Ke][mt]=Ze[Xe]}M&&M()})},W)}function Te(N,w){N&&(N=N.toLowerCase()),w=w||function(){},function ke(){Ee={},De="",ye=""}(),ye=N;var M=function pe(){return ie.querySelectorAll('link[type="application/l10n"]')}(),W=M.length;if(0!==W){var We,Ze=0;We=function(){++Ze>=W&&(w(),A="complete")};for(var Ke=0;Ke<W;Ke++)new Xe(M[Ke]).load(N,We)}else{var ge=function J(){var N=ie.querySelector('script[type="application/l10n"]');return N?JSON.parse(N.innerHTML):null}();if(ge&&ge.locales&&ge.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(Ee=ge.locales[N])){var de=ge.default_locale.toLowerCase();for(var ee in ge.locales){if((ee=ee.toLowerCase())===N){Ee=ge.locales[N];break}ee===de&&(Ee=ge.locales[de])}}w()}else console.log("no resource to load, early way out");A="complete"}function Xe(Lt){var $t=Lt.href;this.load=function(Bt,kt){he($t,Bt,kt,function(){console.warn($t+" not found."),console.warn('"'+Bt+'" resource not found'),ye="",kt()})}}}function Ue(N,w,M){var W=Ee[N];if(!W){if(console.warn("#"+N+" is undefined."),!M)return null;W=M}var ge={};for(var de in W){var ee=W[de];ee=we(ee=ot(ee,w,N,de),w,N),ge[de]=ee}return ge}function ot(N,w,M,W){var de=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(N);if(!de||!de.length)return N;var Ze,ee=de[1],We=de[2];return w&&We in w?Ze=w[We]:We in Ee&&(Ze=Ee[We]),ee in P&&(N=(0,P[ee])(N,Ze,M,W)),N}function we(N,w,M){return N.replace(/\{\{\s*(.+?)\s*\}\}/g,function(ge,de){return w&&de in w?w[de]:de in Ee?Ee[de]:(console.log("argument {{"+de+"}} for #"+M+" is undefined."),ge)})}function te(N){var w=function Q(N){if(!N)return{};var w=N.getAttribute("data-l10n-id"),M=N.getAttribute("data-l10n-args"),W={};if(M)try{W=JSON.parse(M)}catch{console.warn("could not parse arguments for #"+w)}return{id:w,args:W}}(N);if(w.id){var M=Ue(w.id,w.args);if(!M)return void console.warn("#"+w.id+" is undefined.");if(M[Ce]){if(0===function H(N){if(N.children)return N.children.length;if(typeof N.childElementCount<"u")return N.childElementCount;for(var w=0,M=0;M<N.childNodes.length;M++)w+=1===N.nodeType?1:0;return w}(N))N[Ce]=M[Ce];else{for(var W=N.childNodes,ge=!1,de=0,ee=W.length;de<ee;de++)3===W[de].nodeType&&/\S/.test(W[de].nodeValue)&&(ge?W[de].nodeValue="":(W[de].nodeValue=M[Ce],ge=!0));if(!ge){var We=ie.createTextNode(M[Ce]);N.insertBefore(We,N.firstChild)}}delete M[Ce]}for(var Ze in M)N[Ze]=M[Ze]}}return P.plural=function(N,w,M,W){var ge=parseFloat(w);if(isNaN(ge)||W!=Ce)return N;P._pluralRules||(P._pluralRules=function He(N){function M(ee,We){return-1!==We.indexOf(ee)}function W(ee,We,Ze){return We<=ee&&ee<=Ze}var ge={0:function(ee){return"other"},1:function(ee){return W(ee%100,3,10)?"few":0===ee?"zero":W(ee%100,11,99)?"many":2==ee?"two":1==ee?"one":"other"},2:function(ee){return 0!==ee&&ee%10==0?"many":2==ee?"two":1==ee?"one":"other"},3:function(ee){return 1==ee?"one":"other"},4:function(ee){return W(ee,0,1)?"one":"other"},5:function(ee){return W(ee,0,2)&&2!=ee?"one":"other"},6:function(ee){return 0===ee?"zero":ee%10==1&&ee%100!=11?"one":"other"},7:function(ee){return 2==ee?"two":1==ee?"one":"other"},8:function(ee){return W(ee,3,6)?"few":W(ee,7,10)?"many":2==ee?"two":1==ee?"one":"other"},9:function(ee){return 0===ee||1!=ee&&W(ee%100,1,19)?"few":1==ee?"one":"other"},10:function(ee){return W(ee%10,2,9)&&!W(ee%100,11,19)?"few":ee%10!=1||W(ee%100,11,19)?"other":"one"},11:function(ee){return W(ee%10,2,4)&&!W(ee%100,12,14)?"few":ee%10==0||W(ee%10,5,9)||W(ee%100,11,14)?"many":ee%10==1&&ee%100!=11?"one":"other"},12:function(ee){return W(ee,2,4)?"few":1==ee?"one":"other"},13:function(ee){return W(ee%10,2,4)&&!W(ee%100,12,14)?"few":1!=ee&&W(ee%10,0,1)||W(ee%10,5,9)||W(ee%100,12,14)?"many":1==ee?"one":"other"},14:function(ee){return W(ee%100,3,4)?"few":ee%100==2?"two":ee%100==1?"one":"other"},15:function(ee){return 0===ee||W(ee%100,2,10)?"few":W(ee%100,11,19)?"many":1==ee?"one":"other"},16:function(ee){return ee%10==1&&11!=ee?"one":"other"},17:function(ee){return 3==ee?"few":0===ee?"zero":6==ee?"many":2==ee?"two":1==ee?"one":"other"},18:function(ee){return 0===ee?"zero":W(ee,0,2)&&0!==ee&&2!=ee?"one":"other"},19:function(ee){return W(ee,2,10)?"few":W(ee,0,1)?"one":"other"},20:function(ee){return!W(ee%10,3,4)&&ee%10!=9||W(ee%100,10,19)||W(ee%100,70,79)||W(ee%100,90,99)?ee%1e6==0&&0!==ee?"many":ee%10!=2||M(ee%100,[12,72,92])?ee%10!=1||M(ee%100,[11,71,91])?"other":"one":"two":"few"},21:function(ee){return 0===ee?"zero":1==ee?"one":"other"},22:function(ee){return W(ee,0,1)||W(ee,11,99)?"one":"other"},23:function(ee){return W(ee%10,1,2)||ee%20==0?"one":"other"},24:function(ee){return W(ee,3,10)||W(ee,13,19)?"few":M(ee,[2,12])?"two":M(ee,[1,11])?"one":"other"}},de={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[N.replace(/-.*$/,"")];return de in ge?ge[de]:(console.warn("plural form unknown for ["+N+"]"),function(){return"other"})}(ye));var de="["+P._pluralRules(ge)+"]";return 0===ge&&M+"[zero]"in Ee?N=Ee[M+"[zero]"][W]:1==ge&&M+"[one]"in Ee?N=Ee[M+"[one]"][W]:2==ge&&M+"[two]"in Ee?N=Ee[M+"[two]"][W]:M+de in Ee?N=Ee[M+de][W]:M+"[other]"in Ee&&(N=Ee[M+"[other]"][W]),N},{get:function(N,w,M){var de,W=N.lastIndexOf("."),ge=Ce;W>0&&(ge=N.substring(W+1),N=N.substring(0,W)),M&&((de={})[ge]=M);var ee=Ue(N,w,de);return ee&&ge in ee?ee[ge]:"{{"+N+"}}"},getData:function(){return Ee},getText:function(){return De},getLanguage:function(){return ye},setLanguage:function(N,w){Te(N,function(){w&&w()})},getDirection:function(){var w=ye.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(w)>=0?"rtl":"ltr"},translate:function $(N){for(var w=function Re(N){return N?N.querySelectorAll("*[data-l10n-id]"):[]}(N=N||ie.documentElement),M=w.length,W=0;W<M;W++)te(w[W]);te(N)},getReadyState:function(){return A},ready:function(N){N&&("complete"==A||"interactive"==A?Ie.setTimeout(function(){N()}):ie.addEventListener&&ie.addEventListener("localized",function w(){ie.removeEventListener("localized",w),N()}))}}}(window,document)},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.PDFFindController=ie.FindState=void 0;var Ee=re(6),De=re(3),Ce=re(21);const ye={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};ie.FindState=ye;const pe={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},J=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),Re=[...J.values()].map(we=>String.fromCharCode(we)).join(""),Q=/\p{M}+/gu,k=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,he=/([^\p{M}])\p{M}*$/u,Te=/^\p{M}*([^\p{M}])/u;let ke=null;function He(we){if(!ke){const ee=Object.keys(pe).join("");ke=new RegExp(`([${ee}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const te=[];let H;for(;null!==(H=Q.exec(we));)te.push([H[0].length,H.index]);let $=we.normalize("NFD");const N=[[0,0]];let w=0,M=0,W=0,ge=0,de=!1;return $=$.replace(ke,(ee,We,Ze,Xe,Ke,mt)=>{if(mt-=W,We){const Lt=pe[ee],$t=Lt.length;for(let Bt=1;Bt<$t;Bt++)N.push([mt-M+Bt,M-Bt]);return M-=$t-1,Lt}if(Ze){const Lt=Ze.endsWith("\n"),$t=Lt?Ze.length-2:Ze.length;de=!0;let Bt=$t;mt+ge===te[w]?.[1]&&(Bt-=te[w][0],++w);for(let kt=1;kt<Bt+1;kt++)N.push([mt-1-M+kt,M-kt]);return M-=Bt,W+=Bt,Lt?(N.push([(mt+=$t-1)-M+1,1+M]),M+=1,W+=1,ge+=1,Ze.slice(0,$t)):Ze}return Xe?(N.push([mt-M+1,1+M]),M+=1,W+=1,ge+=1,Xe.charAt(0)):(N.push([mt-M+1,M-1]),M-=1,W+=1,ge+=1," ")}),N.push([$.length,M]),[$,N,de]}function Ue(we,te,H){if(!we)return[te,H];const $=te,N=te+H;let w=(0,Ee.binarySearchFirstItem)(we,W=>W[0]>=$);we[w][0]>$&&--w;let M=(0,Ee.binarySearchFirstItem)(we,W=>W[0]>=N,w);return we[M][0]>N&&--M,[$+we[w][1],H+we[M][1]-we[w][1]]}ie.PDFFindController=class ot{constructor({linkService:te,eventBus:H}){this._linkService=te,this._eventBus=H,this._reset(),H._on("find",this._onFind.bind(this)),H._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=($,N)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const w=Object.assign(Object.create(null),N,{type:$.substring(4)});this._onFind(w)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(te){this._pdfDocument&&this._reset(),te&&(this._pdfDocument=te,this._firstPageCapability.resolve())}_onFind(te){if(!te)return;const H=this._pdfDocument,{type:$}=te;(null===this._state||this._shouldDirtyMatch(te))&&(this._dirtyMatch=!0),this._state=te,"highlightallchange"!==$&&this._updateUIState(ye.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||H&&this._pdfDocument!==H)return;this._extractText();const N=!this._highlightMatches,w=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),$?this._dirtyMatch?this._nextMatch():"again"===$?(this._nextMatch(),N&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===$?(w?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:te=null,selectedLeft:H=0,pageIndex:$=-1,matchIndex:N=-1}){this._scrollMatches&&te&&-1!==N&&N===this._selected.matchIdx&&-1!==$&&$===this._selected.pageIdx&&(this._scrollMatches=!1,(0,Ee.scrollIntoView)(te,{top:-50,left:H+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,De.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=He(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(te){if(te.query!==this._state.query)return!0;switch(te.type){case"again":const H=this._selected.pageIdx+1,$=this._linkService;return H>=1&&H<=$.pagesCount&&H!==$.page&&!$.isPageVisible(H);case"highlightallchange":return!1}return!0}_isEntireWord(te,H,$){let N=te.slice(0,H).match(he);if(N){const w=te.charCodeAt(H),M=N[1].charCodeAt(0);if((0,Ce.getCharacterType)(w)===(0,Ce.getCharacterType)(M))return!1}if(N=te.slice(H+$).match(Te),N){const w=te.charCodeAt(H+$-1),M=N[1].charCodeAt(0);if((0,Ce.getCharacterType)(w)===(0,Ce.getCharacterType)(M))return!1}return!0}_calculateRegExpMatch(te,H,$,N){const w=[],M=[],W=this._pageDiffs[$];let ge;for(;null!==(ge=te.exec(N));){if(H&&!this._isEntireWord(N,ge.index,ge[0].length))continue;const[de,ee]=Ue(W,ge.index,ge[0].length);ee&&(w.push(de),M.push(ee))}this._pageMatches[$]=w,this._pageMatchesLength[$]=M}_convertToRegExpString(te,H){const{matchDiacritics:$}=this._state;let N=!1;const w="[ ]*";return(te=te.replace(k,(M,W,ge,de,ee,We)=>W?`[ ]*\\${W}[ ]*`:ge?`[ ]*${ge}[ ]*`:de?"[ ]+":$?ee||We:ee?J.has(ee.charCodeAt(0))?ee:"":H?(N=!0,`${We}\\p{M}*`):We)).endsWith(w)&&(te=te.slice(0,te.length-w.length)),$&&H&&(N=!0,te=`${te}(?=[${Re}]|[^\\p{M}]|$)`),[N,te]}_calculateMatch(te){let H=this._query;if(0===H.length)return;const{caseSensitive:$,entireWord:N,phraseSearch:w}=this._state,M=this._pageContents[te],W=this._hasDiacritics[te];let ge=!1;if(w)[ge,H]=this._convertToRegExpString(H,W);else{const We=H.match(/\S+/g);We&&(H=We.sort().reverse().map(Ze=>{const[Xe,Ke]=this._convertToRegExpString(Ze,W);return ge||=Xe,`(${Ke})`}).join("|"))}H=new RegExp(H,`g${ge?"u":""}${$?"":"i"}`),this._calculateRegExpMatch(H,N,te,M),this._state.highlightAll&&this._updatePage(te),this._resumePageIdx===te&&(this._resumePageIdx=null,this._nextPageMatch());const ee=this._pageMatches[te].length;ee>0&&(this._matchesCountTotal+=ee,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let te=Promise.resolve();for(let H=0,$=this._linkService.pagesCount;H<$;H++){const N=(0,De.createPromiseCapability)();this._extractTextPromises[H]=N.promise,te=te.then(()=>this._pdfDocument.getPage(H+1).then(w=>w.getTextContent()).then(w=>{const M=w.items,W=[];for(let ge=0,de=M.length;ge<de;ge++)W.push(M[ge].str),M[ge].hasEOL&&W.push("\n");[this._pageContents[H],this._pageDiffs[H],this._hasDiacritics[H]]=He(W.join("")),N.resolve(H)},w=>{console.error(`Unable to get text content for page ${H+1}`,w),this._pageContents[H]="",this._pageDiffs[H]=null,this._hasDiacritics[H]=!1,N.resolve(H)}))}}_updatePage(te){this._scrollMatches&&this._selected.pageIdx===te&&(this._linkService.page=te+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:te})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const te=this._state.findPrevious,H=this._linkService.page-1,$=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=H,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let w=0;w<$;w++)this._pendingFindMatches.has(w)||(this._pendingFindMatches.add(w),this._extractTextPromises[w].then(M=>{this._pendingFindMatches.delete(M),this._calculateMatch(M)}))}if(""===this._query)return void this._updateUIState(ye.FOUND);if(this._resumePageIdx)return;const N=this._offset;if(this._pagesToSearch=$,null!==N.matchIdx){if(!te&&N.matchIdx+1<this._pageMatches[N.pageIdx].length||te&&N.matchIdx>0)return N.matchIdx=te?N.matchIdx-1:N.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(te)}this._nextPageMatch()}_matchesReady(te){const H=this._offset,$=te.length,N=this._state.findPrevious;return $?(H.matchIdx=N?$-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(N),!!(H.wrapped&&(H.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let te=null;do{const H=this._offset.pageIdx;if(te=this._pageMatches[H],!te){this._resumePageIdx=H;break}}while(!this._matchesReady(te))}_advanceOffsetPage(te){const H=this._offset,$=this._linkService.pagesCount;H.pageIdx=te?H.pageIdx-1:H.pageIdx+1,H.matchIdx=null,this._pagesToSearch--,(H.pageIdx>=$||H.pageIdx<0)&&(H.pageIdx=te?$-1:0,H.wrapped=!0)}_updateMatch(te=!1){let H=ye.NOT_FOUND;const $=this._offset.wrapped;if(this._offset.wrapped=!1,te){const N=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,H=$?ye.WRAPPED:ye.FOUND,-1!==N&&N!==this._selected.pageIdx&&this._updatePage(N)}this._updateUIState(H,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(te){const H=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||H&&this._pdfDocument!==H||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(ye.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:te,matchIdx:H}=this._selected;let $=0,N=this._matchesCountTotal;if(-1!==H){for(let w=0;w<te;w++)$+=this._pageMatches[w]?.length||0;$+=H+1}return($<1||$>N)&&($=N=0),{current:$,total:N}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(te,H=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:te,previous:H,matchesCount:this._requestMatchesCount(),rawQuery:this._state?.query??null})}}},(Ie,ie)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.CharacterType=void 0,ie.getCharacterType=function Q(k){return function Ee(k){return k<11904}(k)?function De(k){return 0==(65408&k)}(k)?function P(k){return 32===k||9===k||13===k||10===k}(k)?re.SPACE:function Ce(k){return k>=97&&k<=122||k>=65&&k<=90}(k)||function ye(k){return k>=48&&k<=57}(k)||95===k?re.ALPHA_LETTER:re.PUNCT:function Re(k){return 3584==(65408&k)}(k)?re.THAI_LETTER:160===k?re.SPACE:re.ALPHA_LETTER:function A(k){return k>=13312&&k<=40959||k>=63744&&k<=64255}(k)?re.HAN_LETTER:function Y(k){return k>=12448&&k<=12543}(k)?re.KATAKANA_LETTER:function pe(k){return k>=12352&&k<=12447}(k)?re.HIRAGANA_LETTER:function J(k){return k>=65376&&k<=65439}(k)?re.HALFWIDTH_KATAKANA_LETTER:re.ALPHA_LETTER};const re={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};ie.CharacterType=re},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.PDFHistory=void 0,ie.isDestArraysEqual=J,ie.isDestHashesEqual=pe;var Ee=re(6),De=re(17);function A(){return document.location.hash}function pe(Re,Q){return"string"==typeof Re&&"string"==typeof Q&&(Re===Q||(0,Ee.parseQueryString)(Re).get("nameddest")===Q)}function J(Re,Q){function k(he,Te){if(typeof he!=typeof Te||Array.isArray(he)||Array.isArray(Te))return!1;if(null!==he&&"object"==typeof he&&null!==Te){if(Object.keys(he).length!==Object.keys(Te).length)return!1;for(const ke in he)if(!k(he[ke],Te[ke]))return!1;return!0}return he===Te||Number.isNaN(he)&&Number.isNaN(Te)}if(!Array.isArray(Re)||!Array.isArray(Q)||Re.length!==Q.length)return!1;for(let he=0,Te=Re.length;he<Te;he++)if(!k(Re[he],Q[he]))return!1;return!0}ie.PDFHistory=class Y{constructor({linkService:Q,eventBus:k}){this.linkService=Q,this.eventBus=k,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",he=>{this._isViewerInPresentationMode=he.state!==Ee.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",he=>{this._isPagesLoaded=!!he.pagesCount},{once:!0})})}initialize({fingerprint:Q,resetHistory:k=!1,updateUrl:he=!1}){if(!Q||"string"!=typeof Q)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const Te=""!==this._fingerprint&&this._fingerprint!==Q;this._fingerprint=Q,this._updateUrl=!0===he,this._initialized=!0,this._bindEvents();const ke=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=A(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(ke,!0)||k){const{hash:Ue,page:ot,rotation:we}=this._parseCurrentHash(!0);return!Ue||Te||k?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Ue,page:ot,rotation:we},!0)}const He=ke.destination;this._updateInternalState(He,ke.uid,!0),void 0!==He.rotation&&(this._initialRotation=He.rotation),He.dest?(this._initialBookmark=JSON.stringify(He.dest),this._destination.page=null):He.hash?this._initialBookmark=He.hash:He.page&&(this._initialBookmark=`page=${He.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:Q=null,explicitDest:k,pageNumber:he}){if(!this._initialized)return;if(Q&&"string"!=typeof Q)return void console.error(`PDFHistory.push: "${Q}" is not a valid namedDest parameter.`);if(!Array.isArray(k))return void console.error(`PDFHistory.push: "${k}" is not a valid explicitDest parameter.`);if(!this._isValidPage(he)&&(null!==he||this._destination))return void console.error(`PDFHistory.push: "${he}" is not a valid pageNumber parameter.`);const Te=Q||JSON.stringify(k);if(!Te)return;let ke=!1;if(this._destination&&(pe(this._destination.hash,Te)||J(this._destination.dest,k))){if(this._destination.page)return;ke=!0}this._popStateInProgress&&!ke||(this._pushOrReplaceState({dest:k,hash:Te,page:he,rotation:this.linkService.rotation},ke),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(Q){if(this._initialized){if(!this._isValidPage(Q))return void console.error(`PDFHistory.pushPage: "${Q}" is not a valid page number.`);this._destination?.page!==Q&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${Q}`,page:Q,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const Q=window.history.state;this._isValidState(Q)&&Q.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const Q=window.history.state;this._isValidState(Q)&&Q.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(Q,k=!1){const he=k||!this._destination,Te={fingerprint:this._fingerprint,uid:he?this._uid:this._uid+1,destination:Q};let ke;if(this._updateInternalState(Q,Te.uid),this._updateUrl&&Q?.hash){const He=document.location.href.split("#")[0];He.startsWith("file://")||(ke=`${He}#${Q.hash}`)}he?window.history.replaceState(Te,"",ke):window.history.pushState(Te,"",ke)}_tryPushCurrentPosition(Q=!1){if(!this._position)return;let k=this._position;if(Q&&(k=Object.assign(Object.create(null),this._position),k.temporary=!0),!this._destination)return void this._pushOrReplaceState(k);if(this._destination.temporary)return void this._pushOrReplaceState(k,!0);if(this._destination.hash===k.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let he=!1;if(this._destination.page>=k.first&&this._destination.page<=k.page){if(void 0!==this._destination.dest||!this._destination.first)return;he=!0}this._pushOrReplaceState(k,he)}_isValidPage(Q){return Number.isInteger(Q)&&Q>0&&Q<=this.linkService.pagesCount}_isValidState(Q,k=!1){if(!Q)return!1;if(Q.fingerprint!==this._fingerprint){if(!k)return!1;{if("string"!=typeof Q.fingerprint||Q.fingerprint.length!==this._fingerprint.length)return!1;const[he]=performance.getEntriesByType("navigation");if("reload"!==he?.type)return!1}}return!(!Number.isInteger(Q.uid)||Q.uid<0||null===Q.destination||"object"!=typeof Q.destination)}_updateInternalState(Q,k,he=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),he&&Q?.temporary&&delete Q.temporary,this._destination=Q,this._uid=k,this._maxUid=Math.max(this._maxUid,k),this._numPositionUpdates=0}_parseCurrentHash(Q=!1){const k=unescape(A()).substring(1),he=(0,Ee.parseQueryString)(k),Te=he.get("nameddest")||"";let ke=0|he.get("page");return(!this._isValidPage(ke)||Q&&Te.length>0)&&(ke=null),{hash:k,page:ke,rotation:this.linkService.rotation}}_updateViewarea({location:Q}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${Q.pageNumber}`:Q.pdfOpenParams.substring(1),page:this.linkService.page,first:Q.pageNumber,rotation:Q.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:Q}){const k=A(),he=this._currentHash!==k;if(this._currentHash=k,!Q){this._uid++;const{hash:ke,page:He,rotation:Ue}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:ke,page:He,rotation:Ue},!0)}if(!this._isValidState(Q))return;this._popStateInProgress=!0,he&&(this._blockHashChange++,(0,De.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const Te=Q.destination;this._updateInternalState(Te,Q.uid,!0),(0,Ee.isValidRotation)(Te.rotation)&&(this.linkService.rotation=Te.rotation),Te.dest?this.linkService.goToDestination(Te.dest):Te.hash?this.linkService.setHash(Te.hash):Te.page&&(this.linkService.page=Te.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.PDFScriptingManager=void 0;var Ee=re(6),De=re(3);ie.PDFScriptingManager=class Ce{constructor({eventBus:P,sandboxBundleSrc:A=null,scriptingFactory:Y=null,docPropertiesLookup:pe=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=P,this._sandboxBundleSrc=A,this._scriptingFactory=Y,this._docPropertiesLookup=pe,this._scriptingFactory||window.addEventListener("updatefromsandbox",J=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:J.detail})})}setViewer(P){this._pdfViewer=P}setDocument(P){var A=this;return me(function*(){if(A._pdfDocument&&(yield A._destroyScripting()),A._pdfDocument=P,!P)return;const[Y,pe,J]=yield Promise.all([P.getFieldObjects(),P.getCalculationOrderIds(),P.getJSActions()]);if(Y||J){if(P===A._pdfDocument){try{A._scripting=A._createScripting()}catch(Re){return console.error(`PDFScriptingManager.setDocument: "${Re?.message}".`),void(yield A._destroyScripting())}A._internalEvents.set("updatefromsandbox",Re=>{Re?.source===window&&A._updateFromSandbox(Re.detail)}),A._internalEvents.set("dispatcheventinsandbox",Re=>{A._scripting?.dispatchEventInSandbox(Re.detail)}),A._internalEvents.set("pagechanging",({pageNumber:Re,previous:Q})=>{Re!==Q&&(A._dispatchPageClose(Q),A._dispatchPageOpen(Re))}),A._internalEvents.set("pagerendered",({pageNumber:Re})=>{A._pageOpenPending.has(Re)&&Re===A._pdfViewer.currentPageNumber&&A._dispatchPageOpen(Re)}),A._internalEvents.set("pagesdestroy",function(){var Re=me(function*(Q){yield A._dispatchPageClose(A._pdfViewer.currentPageNumber),yield A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),A._closeCapability?.resolve()});return function(Q){return Re.apply(this,arguments)}}()),A._domEvents.set("mousedown",Re=>{A._mouseState.isDown=!0}),A._domEvents.set("mouseup",Re=>{A._mouseState.isDown=!1});for(const[Re,Q]of A._internalEvents)A._eventBus._on(Re,Q);for(const[Re,Q]of A._domEvents)window.addEventListener(Re,Q);try{const Re=yield A._getDocProperties();if(P!==A._pdfDocument)return;yield A._scripting.createSandbox({objects:Y,calculationOrder:pe,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...Re,actions:J}}),A._eventBus.dispatch("sandboxcreated",{source:A})}catch(Re){return console.error(`PDFScriptingManager.setDocument: "${Re?.message}".`),void(yield A._destroyScripting())}yield A._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield A._dispatchPageOpen(A._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{P===A._pdfDocument&&(A._ready=!0)})}}else yield A._destroyScripting()})()}dispatchWillSave(P){var A=this;return me(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(P){var A=this;return me(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(P){var A=this;return me(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(P){var A=this;return me(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,De.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,De.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,De.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,De.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(P){var A=this;return me(function*(){const Y=A._pdfViewer.isInPresentationMode||A._pdfViewer.isChangingPresentationMode,{id:pe,siblings:J,command:Re,value:Q}=P;if(!pe){switch(Re){case"clear":console.clear();break;case"error":console.error(Q);break;case"layout":if(Y)return;const he=(0,Ee.apiPageLayoutToViewerModes)(Q);A._pdfViewer.spreadMode=he.spreadMode;break;case"page-num":A._pdfViewer.currentPageNumber=Q+1;break;case"print":yield A._pdfViewer.pagesPromise,A._eventBus.dispatch("print",{source:A});break;case"println":console.log(Q);break;case"zoom":if(Y)return;A._pdfViewer.currentScaleValue=Q;break;case"SaveAs":A._eventBus.dispatch("save",{source:A});break;case"FirstPage":A._pdfViewer.currentPageNumber=1;break;case"LastPage":A._pdfViewer.currentPageNumber=A._pdfViewer.pagesCount;break;case"NextPage":A._pdfViewer.nextPage();break;case"PrevPage":A._pdfViewer.previousPage();break;case"ZoomViewIn":if(Y)return;A._pdfViewer.increaseScale();break;case"ZoomViewOut":if(Y)return;A._pdfViewer.decreaseScale()}return}if(Y&&P.focus)return;delete P.id,delete P.siblings;const k=J?[pe,...J]:[pe];for(const he of k){const Te=document.getElementById(he);Te?Te.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:P})):A._pdfDocument?.annotationStorage.setValue(he,P)}})()}_dispatchPageOpen(P,A=!1){var Y=this;return me(function*(){const pe=Y._pdfDocument,J=Y._visitedPages;if(A&&(Y._closeCapability=(0,De.createPromiseCapability)()),!Y._closeCapability)return;const Re=Y._pdfViewer.getPageView(P-1);if(Re?.renderingState!==Ee.RenderingStates.FINISHED)return void Y._pageOpenPending.add(P);Y._pageOpenPending.delete(P);const Q=me(function*(){const k=yield J.has(P)?null:Re.pdfPage?.getJSActions();pe===Y._pdfDocument&&(yield Y._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:P,actions:k}))})();J.set(P,Q)})()}_dispatchPageClose(P){var A=this;return me(function*(){const Y=A._pdfDocument,pe=A._visitedPages;if(!A._closeCapability||A._pageOpenPending.has(P))return;const J=pe.get(P);J&&(pe.set(P,null),yield J,Y===A._pdfDocument&&(yield A._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:P})))})()}_getDocProperties(){var P=this;return me(function*(){if(P._docPropertiesLookup)return P._docPropertiesLookup(P._pdfDocument);const{docPropertiesLookup:A}=re(24);return A(P._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,De.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:P}=re(24);return new P(this._sandboxBundleSrc)}_destroyScripting(){var P=this;return me(function*(){if(!P._scripting)return P._pdfDocument=null,void P._destroyCapability?.resolve();P._closeCapability&&(yield Promise.race([P._closeCapability.promise,new Promise(A=>{setTimeout(A,1e3)})]).catch(A=>{}),P._closeCapability=null),P._pdfDocument=null;try{yield P._scripting.destroySandbox()}catch{}for(const[A,Y]of P._internalEvents)P._eventBus._off(A,Y);P._internalEvents.clear();for(const[A,Y]of P._domEvents)window.removeEventListener(A,Y);P._domEvents.clear(),P._pageOpenPending.clear(),P._visitedPages.clear(),P._scripting=null,delete P._mouseState.isDown,P._ready=!1,P._destroyCapability?.resolve()})()}}},(Ie,ie,re)=>{Object.defineProperty(ie,"__esModule",{value:!0}),ie.GenericScripting=void 0,ie.docPropertiesLookup=function De(P){return Ce.apply(this,arguments)};var Ee=re(3);function Ce(){return(Ce=me(function*(P){const Y="".split("#")[0];let{info:pe,metadata:J,contentDispositionFilename:Re,contentLength:Q}=yield P.getMetadata();if(!Q){const{length:k}=yield P.getDownloadInfo();Q=k}return{...pe,baseURL:Y,filesize:Q,filename:Re||(0,Ee.getPdfFilenameFromUrl)(""),metadata:J?.getRaw(),authors:J?.get("dc:creator"),numPages:P.numPages,URL:""}})).apply(this,arguments)}ie.GenericScripting=class ye{constructor(A){this._ready=(0,Ee.loadScript)(A,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(A){var Y=this;return me(function*(){(yield Y._ready).create(A)})()}dispatchEventInSandbox(A){var Y=this;return me(function*(){const pe=yield Y._ready;setTimeout(()=>pe.dispatchEvent(A),0)})()}destroySandbox(){var A=this;return me(function*(){(yield A._ready).nukeSandbox()})()}}}],Ve={};function le(Ie){var ie=Ve[Ie];if(void 0!==ie)return ie.exports;var re=Ve[Ie]={exports:{}};return Ae[Ie](re,re.exports,le),re.exports}var ue={};return(()=>{var Ie=ue;Object.defineProperty(Ie,"__esModule",{value:!0}),Object.defineProperty(Ie,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return Ce.AnnotationLayerBuilder}}),Object.defineProperty(Ie,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return ie.DefaultAnnotationLayerFactory}}),Object.defineProperty(Ie,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return ie.DefaultStructTreeLayerFactory}}),Object.defineProperty(Ie,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return ie.DefaultTextLayerFactory}}),Object.defineProperty(Ie,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return ie.DefaultXfaLayerFactory}}),Object.defineProperty(Ie,"DownloadManager",{enumerable:!0,get:function(){return ye.DownloadManager}}),Object.defineProperty(Ie,"EventBus",{enumerable:!0,get:function(){return P.EventBus}}),Object.defineProperty(Ie,"GenericL10n",{enumerable:!0,get:function(){return A.GenericL10n}}),Object.defineProperty(Ie,"LinkTarget",{enumerable:!0,get:function(){return re.LinkTarget}}),Object.defineProperty(Ie,"NullL10n",{enumerable:!0,get:function(){return Y.NullL10n}}),Object.defineProperty(Ie,"PDFFindController",{enumerable:!0,get:function(){return pe.PDFFindController}}),Object.defineProperty(Ie,"PDFHistory",{enumerable:!0,get:function(){return J.PDFHistory}}),Object.defineProperty(Ie,"PDFLinkService",{enumerable:!0,get:function(){return re.PDFLinkService}}),Object.defineProperty(Ie,"PDFPageView",{enumerable:!0,get:function(){return Re.PDFPageView}}),Object.defineProperty(Ie,"PDFScriptingManager",{enumerable:!0,get:function(){return Q.PDFScriptingManager}}),Object.defineProperty(Ie,"PDFSinglePageViewer",{enumerable:!0,get:function(){return De.PDFSinglePageViewer}}),Object.defineProperty(Ie,"PDFViewer",{enumerable:!0,get:function(){return De.PDFViewer}}),Object.defineProperty(Ie,"ProgressBar",{enumerable:!0,get:function(){return Ee.ProgressBar}}),Object.defineProperty(Ie,"SimpleLinkService",{enumerable:!0,get:function(){return re.SimpleLinkService}}),Object.defineProperty(Ie,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return k.StructTreeLayerBuilder}}),Object.defineProperty(Ie,"TextLayerBuilder",{enumerable:!0,get:function(){return he.TextLayerBuilder}}),Object.defineProperty(Ie,"XfaLayerBuilder",{enumerable:!0,get:function(){return Te.XfaLayerBuilder}}),Object.defineProperty(Ie,"parseQueryString",{enumerable:!0,get:function(){return Ee.parseQueryString}});var ie=le(1),re=le(5),Ee=le(6),De=le(10),Ce=le(2),ye=le(16),P=le(17),A=le(18),Y=le(4),pe=le(20),J=le(22),Re=le(12),Q=le(23),k=le(7),he=le(8),Te=le(9)})(),ue})()},1135:(Be,R,V)=>{"use strict";V.d(R,{X:()=>G});var u=V(7579);class G extends u.x{constructor(f){super(),this._value=f}get value(){return this.getValue()}_subscribe(f){const be=super._subscribe(f);return!be.closed&&f.next(this._value),be}getValue(){const{hasError:f,thrownError:be,_value:Se}=this;if(f)throw be;return this._throwIfClosed(),Se}next(f){super.next(this._value=f)}}},9751:(Be,R,V)=>{"use strict";V.d(R,{y:()=>Ae});var u=V(930),G=V(727),ne=V(8822),f=V(9635),be=V(2416),Se=V(576),me=V(2806);let Ae=(()=>{class Ie{constructor(re){re&&(this._subscribe=re)}lift(re){const Ee=new Ie;return Ee.source=this,Ee.operator=re,Ee}subscribe(re,Ee,De){const Ce=function ue(Ie){return Ie&&Ie instanceof u.Lv||function le(Ie){return Ie&&(0,Se.m)(Ie.next)&&(0,Se.m)(Ie.error)&&(0,Se.m)(Ie.complete)}(Ie)&&(0,G.Nn)(Ie)}(re)?re:new u.Hp(re,Ee,De);return(0,me.x)(()=>{const{operator:ye,source:P}=this;Ce.add(ye?ye.call(Ce,P):P?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(re){try{return this._subscribe(re)}catch(Ee){re.error(Ee)}}forEach(re,Ee){return new(Ee=Ve(Ee))((De,Ce)=>{const ye=new u.Hp({next:P=>{try{re(P)}catch(A){Ce(A),ye.unsubscribe()}},error:Ce,complete:De});this.subscribe(ye)})}_subscribe(re){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(re)}[ne.L](){return this}pipe(...re){return(0,f.U)(re)(this)}toPromise(re){return new(re=Ve(re))((Ee,De)=>{let Ce;this.subscribe(ye=>Ce=ye,ye=>De(ye),()=>Ee(Ce))})}}return Ie.create=ie=>new Ie(ie),Ie})();function Ve(Ie){var ie;return null!==(ie=Ie??be.v.Promise)&&void 0!==ie?ie:Promise}},7579:(Be,R,V)=>{"use strict";V.d(R,{x:()=>me});var u=V(9751),G=V(727);const f=(0,V(3888).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=V(8737),Se=V(2806);let me=(()=>{class Ve extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Ie=new Ae(this,this);return Ie.operator=ue,Ie}_throwIfClosed(){if(this.closed)throw new f}next(ue){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ie of this.currentObservers)Ie.next(ue)}})}error(ue){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().error(ue)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Ie,isStopped:ie,observers:re}=this;return Ie||ie?G.Lc:(this.currentObservers=null,re.push(ue),new G.w0(()=>{this.currentObservers=null,(0,be.P)(re,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Ie,thrownError:ie,isStopped:re}=this;Ie?ue.error(ie):re&&ue.complete()}asObservable(){const ue=new u.y;return ue.source=this,ue}}return Ve.create=(le,ue)=>new Ae(le,ue),Ve})();class Ae extends me{constructor(le,ue){super(),this.destination=le,this.source=ue}next(le){var ue,Ie;null===(Ie=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Ie||Ie.call(ue,le)}error(le){var ue,Ie;null===(Ie=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Ie||Ie.call(ue,le)}complete(){var le,ue;null===(ue=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===ue||ue.call(le)}_subscribe(le){var ue,Ie;return null!==(Ie=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(le))&&void 0!==Ie?Ie:G.Lc}}},930:(Be,R,V)=>{"use strict";V.d(R,{Hp:()=>De,Lv:()=>Ie});var u=V(576),G=V(727),ne=V(2416),f=V(7849),be=V(5032);const Se=Ve("C",void 0,void 0);function Ve(Y,pe,J){return{kind:Y,value:pe,error:J}}var le=V(3410),ue=V(2806);class Ie extends G.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,G.Nn)(pe)&&pe.add(this)):this.destination=A}static create(pe,J,Re){return new De(pe,J,Re)}next(pe){this.isStopped?P(function Ae(Y){return Ve("N",Y,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?P(function me(Y){return Ve("E",void 0,Y)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?P(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ie=Function.prototype.bind;function re(Y,pe){return ie.call(Y,pe)}class Ee{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:J}=this;if(J.next)try{J.next(pe)}catch(Re){Ce(Re)}}error(pe){const{partialObserver:J}=this;if(J.error)try{J.error(pe)}catch(Re){Ce(Re)}else Ce(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(J){Ce(J)}}}class De extends Ie{constructor(pe,J,Re){let Q;if(super(),(0,u.m)(pe)||!pe)Q={next:pe??void 0,error:J??void 0,complete:Re??void 0};else{let k;this&&ne.v.useDeprecatedNextContext?(k=Object.create(pe),k.unsubscribe=()=>this.unsubscribe(),Q={next:pe.next&&re(pe.next,k),error:pe.error&&re(pe.error,k),complete:pe.complete&&re(pe.complete,k)}):Q=pe}this.destination=new Ee(Q)}}function Ce(Y){ne.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(Y):(0,f.h)(Y)}function P(Y,pe){const{onStoppedNotification:J}=ne.v;J&&le.z.setTimeout(()=>J(Y,pe))}const A={closed:!0,next:be.Z,error:function ye(Y){throw Y},complete:be.Z}},727:(Be,R,V)=>{"use strict";V.d(R,{Lc:()=>Se,w0:()=>be,Nn:()=>me});var u=V(576);const ne=(0,V(3888).d)(Ve=>function(ue){Ve(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Ie,ie)=>`${ie+1}) ${Ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var f=V(8737);class be{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const re of ue)re.remove(this);else ue.remove(this);const{initialTeardown:Ie}=this;if((0,u.m)(Ie))try{Ie()}catch(re){le=re instanceof ne?re.errors:[re]}const{_finalizers:ie}=this;if(ie){this._finalizers=null;for(const re of ie)try{Ae(re)}catch(Ee){le=le??[],Ee instanceof ne?le=[...le,...Ee.errors]:le.push(Ee)}}if(le)throw new ne(le)}}add(le){var ue;if(le&&le!==this)if(this.closed)Ae(le);else{if(le instanceof be){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(le)}}_hasParent(le){const{_parentage:ue}=this;return ue===le||Array.isArray(ue)&&ue.includes(le)}_addParent(le){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(le),ue):ue?[ue,le]:le}_removeParent(le){const{_parentage:ue}=this;ue===le?this._parentage=null:Array.isArray(ue)&&(0,f.P)(ue,le)}remove(le){const{_finalizers:ue}=this;ue&&(0,f.P)(ue,le),le instanceof be&&le._removeParent(this)}}be.EMPTY=(()=>{const Ve=new be;return Ve.closed=!0,Ve})();const Se=be.EMPTY;function me(Ve){return Ve instanceof be||Ve&&"closed"in Ve&&(0,u.m)(Ve.remove)&&(0,u.m)(Ve.add)&&(0,u.m)(Ve.unsubscribe)}function Ae(Ve){(0,u.m)(Ve)?Ve():Ve.unsubscribe()}},2416:(Be,R,V)=>{"use strict";V.d(R,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Be,R,V)=>{"use strict";V.d(R,{z:()=>be});var u=V(8189),ne=V(3269),f=V(2076);function be(...Se){return function G(){return(0,u.J)(1)}()((0,f.D)(Se,(0,ne.yG)(Se)))}},515:(Be,R,V)=>{"use strict";V.d(R,{E:()=>G});const G=new(V(9751).y)(be=>be.complete())},2076:(Be,R,V)=>{"use strict";V.d(R,{D:()=>Re});var u=V(8421),G=V(9672),ne=V(4482),f=V(5403);function be(Q,k=0){return(0,ne.e)((he,Te)=>{he.subscribe((0,f.x)(Te,ke=>(0,G.f)(Te,Q,()=>Te.next(ke),k),()=>(0,G.f)(Te,Q,()=>Te.complete(),k),ke=>(0,G.f)(Te,Q,()=>Te.error(ke),k)))})}function Se(Q,k=0){return(0,ne.e)((he,Te)=>{Te.add(Q.schedule(()=>he.subscribe(Te),k))})}var Ve=V(9751),ue=V(2202),Ie=V(576);function re(Q,k){if(!Q)throw new Error("Iterable cannot be null");return new Ve.y(he=>{(0,G.f)(he,k,()=>{const Te=Q[Symbol.asyncIterator]();(0,G.f)(he,k,()=>{Te.next().then(ke=>{ke.done?he.complete():he.next(ke.value)})},0,!0)})})}var Ee=V(3670),De=V(8239),Ce=V(1144),ye=V(6495),P=V(2206),A=V(4532),Y=V(3260);function Re(Q,k){return k?function J(Q,k){if(null!=Q){if((0,Ee.c)(Q))return function me(Q,k){return(0,u.Xf)(Q).pipe(Se(k),be(k))}(Q,k);if((0,Ce.z)(Q))return function le(Q,k){return new Ve.y(he=>{let Te=0;return k.schedule(function(){Te===Q.length?he.complete():(he.next(Q[Te++]),he.closed||this.schedule())})})}(Q,k);if((0,De.t)(Q))return function Ae(Q,k){return(0,u.Xf)(Q).pipe(Se(k),be(k))}(Q,k);if((0,P.D)(Q))return re(Q,k);if((0,ye.T)(Q))return function ie(Q,k){return new Ve.y(he=>{let Te;return(0,G.f)(he,k,()=>{Te=Q[ue.h](),(0,G.f)(he,k,()=>{let ke,He;try{({value:ke,done:He}=Te.next())}catch(Ue){return void he.error(Ue)}He?he.complete():he.next(ke)},0,!0)}),()=>(0,Ie.m)(Te?.return)&&Te.return()})}(Q,k);if((0,Y.L)(Q))return function pe(Q,k){return re((0,Y.Q)(Q),k)}(Q,k)}throw(0,A.z)(Q)}(Q,k):(0,u.Xf)(Q)}},8421:(Be,R,V)=>{"use strict";V.d(R,{Xf:()=>ie});var u=V(7582),G=V(1144),ne=V(8239),f=V(9751),be=V(3670),Se=V(2206),me=V(4532),Ae=V(6495),Ve=V(3260),le=V(576),ue=V(7849),Ie=V(8822);function ie(Y){if(Y instanceof f.y)return Y;if(null!=Y){if((0,be.c)(Y))return function re(Y){return new f.y(pe=>{const J=Y[Ie.L]();if((0,le.m)(J.subscribe))return J.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Y);if((0,G.z)(Y))return function Ee(Y){return new f.y(pe=>{for(let J=0;J<Y.length&&!pe.closed;J++)pe.next(Y[J]);pe.complete()})}(Y);if((0,ne.t)(Y))return function De(Y){return new f.y(pe=>{Y.then(J=>{pe.closed||(pe.next(J),pe.complete())},J=>pe.error(J)).then(null,ue.h)})}(Y);if((0,Se.D)(Y))return ye(Y);if((0,Ae.T)(Y))return function Ce(Y){return new f.y(pe=>{for(const J of Y)if(pe.next(J),pe.closed)return;pe.complete()})}(Y);if((0,Ve.L)(Y))return function P(Y){return ye((0,Ve.Q)(Y))}(Y)}throw(0,me.z)(Y)}function ye(Y){return new f.y(pe=>{(function A(Y,pe){var J,Re,Q,k;return(0,u.mG)(this,void 0,void 0,function*(){try{for(J=(0,u.KL)(Y);!(Re=yield J.next()).done;)if(pe.next(Re.value),pe.closed)return}catch(he){Q={error:he}}finally{try{Re&&!Re.done&&(k=J.return)&&(yield k.call(J))}finally{if(Q)throw Q.error}}pe.complete()})})(Y,pe).catch(J=>pe.error(J))})}},9646:(Be,R,V)=>{"use strict";V.d(R,{of:()=>ne});var u=V(3269),G=V(2076);function ne(...f){const be=(0,u.yG)(f);return(0,G.D)(f,be)}},5403:(Be,R,V)=>{"use strict";V.d(R,{x:()=>G});var u=V(930);function G(f,be,Se,me,Ae){return new ne(f,be,Se,me,Ae)}class ne extends u.Lv{constructor(be,Se,me,Ae,Ve,le){super(be),this.onFinalize=Ve,this.shouldUnsubscribe=le,this._next=Se?function(ue){try{Se(ue)}catch(Ie){be.error(Ie)}}:super._next,this._error=Ae?function(ue){try{Ae(ue)}catch(Ie){be.error(Ie)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(ue){be.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},4351:(Be,R,V)=>{"use strict";V.d(R,{b:()=>ne});var u=V(5577),G=V(576);function ne(f,be){return(0,G.m)(be)?(0,u.z)(f,be,1):(0,u.z)(f,1)}},9300:(Be,R,V)=>{"use strict";V.d(R,{h:()=>ne});var u=V(4482),G=V(5403);function ne(f,be){return(0,u.e)((Se,me)=>{let Ae=0;Se.subscribe((0,G.x)(me,Ve=>f.call(be,Ve,Ae++)&&me.next(Ve)))})}},4004:(Be,R,V)=>{"use strict";V.d(R,{U:()=>ne});var u=V(4482),G=V(5403);function ne(f,be){return(0,u.e)((Se,me)=>{let Ae=0;Se.subscribe((0,G.x)(me,Ve=>{me.next(f.call(be,Ve,Ae++))}))})}},9718:(Be,R,V)=>{"use strict";V.d(R,{h:()=>G});var u=V(4004);function G(ne){return(0,u.U)(()=>ne)}},8189:(Be,R,V)=>{"use strict";V.d(R,{J:()=>ne});var u=V(5577),G=V(4671);function ne(f=1/0){return(0,u.z)(G.y,f)}},5577:(Be,R,V)=>{"use strict";V.d(R,{z:()=>Ae});var u=V(4004),G=V(8421),ne=V(4482),f=V(9672),be=V(5403),me=V(576);function Ae(Ve,le,ue=1/0){return(0,me.m)(le)?Ae((Ie,ie)=>(0,u.U)((re,Ee)=>le(Ie,re,ie,Ee))((0,G.Xf)(Ve(Ie,ie))),ue):("number"==typeof le&&(ue=le),(0,ne.e)((Ie,ie)=>function Se(Ve,le,ue,Ie,ie,re,Ee,De){const Ce=[];let ye=0,P=0,A=!1;const Y=()=>{A&&!Ce.length&&!ye&&le.complete()},pe=Re=>ye<Ie?J(Re):Ce.push(Re),J=Re=>{re&&le.next(Re),ye++;let Q=!1;(0,G.Xf)(ue(Re,P++)).subscribe((0,be.x)(le,k=>{ie?.(k),re?pe(k):le.next(k)},()=>{Q=!0},void 0,()=>{if(Q)try{for(ye--;Ce.length&&ye<Ie;){const k=Ce.shift();Ee?(0,f.f)(le,Ee,()=>J(k)):J(k)}Y()}catch(k){le.error(k)}}))};return Ve.subscribe((0,be.x)(le,pe,()=>{A=!0,Y()})),()=>{De?.()}}(Ie,ie,Ve,ue)))}},5698:(Be,R,V)=>{"use strict";V.d(R,{q:()=>f});var u=V(515),G=V(4482),ne=V(5403);function f(be){return be<=0?()=>u.E:(0,G.e)((Se,me)=>{let Ae=0;Se.subscribe((0,ne.x)(me,Ve=>{++Ae<=be&&(me.next(Ve),be<=Ae&&me.complete())}))})}},3410:(Be,R,V)=>{"use strict";V.d(R,{z:()=>u});const u={setTimeout(G,ne,...f){const{delegate:be}=u;return be?.setTimeout?be.setTimeout(G,ne,...f):setTimeout(G,ne,...f)},clearTimeout(G){const{delegate:ne}=u;return(ne?.clearTimeout||clearTimeout)(G)},delegate:void 0}},2202:(Be,R,V)=>{"use strict";V.d(R,{h:()=>G});const G=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Be,R,V)=>{"use strict";V.d(R,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Be,R,V)=>{"use strict";V.d(R,{_6:()=>Se,jO:()=>f,yG:()=>be});var u=V(576),G=V(3532);function ne(me){return me[me.length-1]}function f(me){return(0,u.m)(ne(me))?me.pop():void 0}function be(me){return(0,G.K)(ne(me))?me.pop():void 0}function Se(me,Ae){return"number"==typeof ne(me)?me.pop():Ae}},4742:(Be,R,V)=>{"use strict";V.d(R,{D:()=>be});const{isArray:u}=Array,{getPrototypeOf:G,prototype:ne,keys:f}=Object;function be(me){if(1===me.length){const Ae=me[0];if(u(Ae))return{args:Ae,keys:null};if(function Se(me){return me&&"object"==typeof me&&G(me)===ne}(Ae)){const Ve=f(Ae);return{args:Ve.map(le=>Ae[le]),keys:Ve}}}return{args:me,keys:null}}},8737:(Be,R,V)=>{"use strict";function u(G,ne){if(G){const f=G.indexOf(ne);0<=f&&G.splice(f,1)}}V.d(R,{P:()=>u})},3888:(Be,R,V)=>{"use strict";function u(G){const f=G(be=>{Error.call(be),be.stack=(new Error).stack});return f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f}V.d(R,{d:()=>u})},1810:(Be,R,V)=>{"use strict";function u(G,ne){return G.reduce((f,be,Se)=>(f[be]=ne[Se],f),{})}V.d(R,{n:()=>u})},2806:(Be,R,V)=>{"use strict";V.d(R,{O:()=>f,x:()=>ne});var u=V(2416);let G=null;function ne(be){if(u.v.useDeprecatedSynchronousErrorHandling){const Se=!G;if(Se&&(G={errorThrown:!1,error:null}),be(),Se){const{errorThrown:me,error:Ae}=G;if(G=null,me)throw Ae}}else be()}function f(be){u.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=be)}},9672:(Be,R,V)=>{"use strict";function u(G,ne,f,be=0,Se=!1){const me=ne.schedule(function(){f(),Se?G.add(this.schedule(null,be)):this.unsubscribe()},be);if(G.add(me),!Se)return me}V.d(R,{f:()=>u})},4671:(Be,R,V)=>{"use strict";function u(G){return G}V.d(R,{y:()=>u})},1144:(Be,R,V)=>{"use strict";V.d(R,{z:()=>u});const u=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(Be,R,V)=>{"use strict";V.d(R,{D:()=>G});var u=V(576);function G(ne){return Symbol.asyncIterator&&(0,u.m)(ne?.[Symbol.asyncIterator])}},576:(Be,R,V)=>{"use strict";function u(G){return"function"==typeof G}V.d(R,{m:()=>u})},3670:(Be,R,V)=>{"use strict";V.d(R,{c:()=>ne});var u=V(8822),G=V(576);function ne(f){return(0,G.m)(f[u.L])}},6495:(Be,R,V)=>{"use strict";V.d(R,{T:()=>ne});var u=V(2202),G=V(576);function ne(f){return(0,G.m)(f?.[u.h])}},8239:(Be,R,V)=>{"use strict";V.d(R,{t:()=>G});var u=V(576);function G(ne){return(0,u.m)(ne?.then)}},3260:(Be,R,V)=>{"use strict";V.d(R,{L:()=>f,Q:()=>ne});var u=V(7582),G=V(576);function ne(be){return(0,u.FC)(this,arguments,function*(){const me=be.getReader();try{for(;;){const{value:Ae,done:Ve}=yield(0,u.qq)(me.read());if(Ve)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ae)}}finally{me.releaseLock()}})}function f(be){return(0,G.m)(be?.getReader)}},3532:(Be,R,V)=>{"use strict";V.d(R,{K:()=>G});var u=V(576);function G(ne){return ne&&(0,u.m)(ne.schedule)}},4482:(Be,R,V)=>{"use strict";V.d(R,{A:()=>G,e:()=>ne});var u=V(576);function G(f){return(0,u.m)(f?.lift)}function ne(f){return be=>{if(G(be))return be.lift(function(Se){try{return f(Se,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Be,R,V)=>{"use strict";V.d(R,{Z:()=>f});var u=V(4004);const{isArray:G}=Array;function f(be){return(0,u.U)(Se=>function ne(be,Se){return G(Se)?be(...Se):be(Se)}(be,Se))}},5032:(Be,R,V)=>{"use strict";function u(){}V.d(R,{Z:()=>u})},9635:(Be,R,V)=>{"use strict";V.d(R,{U:()=>ne,z:()=>G});var u=V(4671);function G(...f){return ne(f)}function ne(f){return 0===f.length?u.y:1===f.length?f[0]:function(Se){return f.reduce((me,Ae)=>Ae(me),Se)}}},7849:(Be,R,V)=>{"use strict";V.d(R,{h:()=>ne});var u=V(2416),G=V(3410);function ne(f){G.z.setTimeout(()=>{const{onUnhandledError:be}=u.v;if(!be)throw f;be(f)})}},4532:(Be,R,V)=>{"use strict";function u(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(R,{z:()=>u})},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:Be=>{function R(u,G,ne,f,be,Se,me){try{var Ae=u[Se](me),Ve=Ae.value}catch(le){return void ne(le)}Ae.done?G(Ve):Promise.resolve(Ve).then(f,be)}Be.exports=function V(u){return function(){var G=this,ne=arguments;return new Promise(function(f,be){var Se=u.apply(G,ne);function me(Ve){R(Se,f,be,me,Ae,"next",Ve)}function Ae(Ve){R(Se,f,be,me,Ae,"throw",Ve)}me(void 0)})}},Be.exports.__esModule=!0,Be.exports.default=Be.exports},6521:Be=>{Be.exports=function R(V,u){if(u.has(V))throw new TypeError("Cannot initialize the same private elements twice on an object")},Be.exports.__esModule=!0,Be.exports.default=Be.exports},8912:Be=>{Be.exports=function R(V,u){return u.get?u.get.call(V):u.value},Be.exports.__esModule=!0,Be.exports.default=Be.exports},3448:Be=>{Be.exports=function R(V,u,G){if(u.set)u.set.call(V,G);else{if(!u.writable)throw new TypeError("attempted to set read only private field");u.value=G}},Be.exports.__esModule=!0,Be.exports.default=Be.exports},2625:Be=>{Be.exports=function R(V,u){if(V!==u)throw new TypeError("Private static access of wrong provenance")},Be.exports.__esModule=!0,Be.exports.default=Be.exports},4069:Be=>{Be.exports=function R(V,u,G){if(!u.has(V))throw new TypeError("attempted to "+G+" private field on non-instance");return u.get(V)},Be.exports.__esModule=!0,Be.exports.default=Be.exports},468:(Be,R,V)=>{var u=V(8912),G=V(4069);Be.exports=function ne(f,be){var Se=G(f,be,"get");return u(f,Se)},Be.exports.__esModule=!0,Be.exports.default=Be.exports},9159:(Be,R,V)=>{var u=V(6521);Be.exports=function G(ne,f,be){u(ne,f),f.set(ne,be)},Be.exports.__esModule=!0,Be.exports.default=Be.exports},5661:(Be,R,V)=>{var u=V(3448),G=V(4069);Be.exports=function ne(f,be,Se){var me=G(f,be,"set");return u(f,me,Se),Se},Be.exports.__esModule=!0,Be.exports.default=Be.exports},4467:Be=>{Be.exports=function R(V,u,G){if(!u.has(V))throw new TypeError("attempted to get private field on non-instance");return G},Be.exports.__esModule=!0,Be.exports.default=Be.exports},1860:(Be,R,V)=>{var u=V(6521);Be.exports=function G(ne,f){u(ne,f),f.add(ne)},Be.exports.__esModule=!0,Be.exports.default=Be.exports},5764:(Be,R,V)=>{var u=V(2625);Be.exports=function G(ne,f,be){return u(ne,f),be},Be.exports.__esModule=!0,Be.exports.default=Be.exports},8416:(Be,R,V)=>{var u=V(4062);Be.exports=function G(ne,f,be){return(f=u(f))in ne?Object.defineProperty(ne,f,{value:be,enumerable:!0,configurable:!0,writable:!0}):ne[f]=be,ne},Be.exports.__esModule=!0,Be.exports.default=Be.exports},5036:(Be,R,V)=>{var u=V(8698).default;Be.exports=function G(ne,f){if("object"!==u(ne)||null===ne)return ne;var be=ne[Symbol.toPrimitive];if(void 0!==be){var Se=be.call(ne,f||"default");if("object"!==u(Se))return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(ne)},Be.exports.__esModule=!0,Be.exports.default=Be.exports},4062:(Be,R,V)=>{var u=V(8698).default,G=V(5036);Be.exports=function ne(f){var be=G(f,"string");return"symbol"===u(be)?be:String(be)},Be.exports.__esModule=!0,Be.exports.default=Be.exports},8698:Be=>{function R(V){return Be.exports=R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Be.exports.__esModule=!0,Be.exports.default=Be.exports,R(V)}Be.exports=R,Be.exports.__esModule=!0,Be.exports.default=Be.exports},6895:(Be,R,V)=>{"use strict";V.d(R,{Do:()=>P,EM:()=>Mo,HT:()=>f,JF:()=>ls,K0:()=>Se,Mx:()=>qr,O5:()=>Fn,Ov:()=>Qi,S$:()=>De,V_:()=>Ve,Ye:()=>A,b0:()=>ye,bD:()=>Li,ez:()=>Ho,mk:()=>Lr,q:()=>ne,sg:()=>Ki,w_:()=>be});var u=V(8256);let G=null;function ne(){return G}function f(O){G||(G=O)}class be{}const Se=new u.OlP("DocumentToken");let me=(()=>{class O{historyGo(j){throw new Error("Not implemented")}}return O.\u0275fac=function(j){return new(j||O)},O.\u0275prov=u.Yz7({token:O,factory:function(){return function Ae(){return(0,u.LFG)(le)}()},providedIn:"platform"}),O})();const Ve=new u.OlP("Location Initialized");let le=(()=>{class O extends me{constructor(j){super(),this._doc=j,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ne().getBaseHref(this._doc)}onPopState(j){const xe=ne().getGlobalEventTarget(this._doc,"window");return xe.addEventListener("popstate",j,!1),()=>xe.removeEventListener("popstate",j)}onHashChange(j){const xe=ne().getGlobalEventTarget(this._doc,"window");return xe.addEventListener("hashchange",j,!1),()=>xe.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,xe,Ye){ue()?this._history.pushState(j,xe,Ye):this._location.hash=Ye}replaceState(j,xe,Ye){ue()?this._history.replaceState(j,xe,Ye):this._location.hash=Ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return O.\u0275fac=function(j){return new(j||O)(u.LFG(Se))},O.\u0275prov=u.Yz7({token:O,factory:function(){return function Ie(){return new le((0,u.LFG)(Se))}()},providedIn:"platform"}),O})();function ue(){return!!window.history.pushState}function ie(O,ce){if(0==O.length)return ce;if(0==ce.length)return O;let j=0;return O.endsWith("/")&&j++,ce.startsWith("/")&&j++,2==j?O+ce.substring(1):1==j?O+ce:O+"/"+ce}function re(O){const ce=O.match(/#|\?|$/),j=ce&&ce.index||O.length;return O.slice(0,j-("/"===O[j-1]?1:0))+O.slice(j)}function Ee(O){return O&&"?"!==O[0]?"?"+O:O}let De=(()=>{class O{historyGo(j){throw new Error("Not implemented")}}return O.\u0275fac=function(j){return new(j||O)},O.\u0275prov=u.Yz7({token:O,factory:function(){return(0,u.f3M)(ye)},providedIn:"root"}),O})();const Ce=new u.OlP("appBaseHref");let ye=(()=>{class O extends De{constructor(j,xe){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=xe??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ie(this._baseHref,j)}path(j=!1){const xe=this._platformLocation.pathname+Ee(this._platformLocation.search),Ye=this._platformLocation.hash;return Ye&&j?`${xe}${Ye}`:xe}pushState(j,xe,Ye,It){const Ut=this.prepareExternalUrl(Ye+Ee(It));this._platformLocation.pushState(j,xe,Ut)}replaceState(j,xe,Ye,It){const Ut=this.prepareExternalUrl(Ye+Ee(It));this._platformLocation.replaceState(j,xe,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return O.\u0275fac=function(j){return new(j||O)(u.LFG(me),u.LFG(Ce,8))},O.\u0275prov=u.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),P=(()=>{class O extends De{constructor(j,xe){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=xe&&(this._baseHref=xe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let xe=this._platformLocation.hash;return null==xe&&(xe="#"),xe.length>0?xe.substring(1):xe}prepareExternalUrl(j){const xe=ie(this._baseHref,j);return xe.length>0?"#"+xe:xe}pushState(j,xe,Ye,It){let Ut=this.prepareExternalUrl(Ye+Ee(It));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.pushState(j,xe,Ut)}replaceState(j,xe,Ye,It){let Ut=this.prepareExternalUrl(Ye+Ee(It));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.replaceState(j,xe,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return O.\u0275fac=function(j){return new(j||O)(u.LFG(me),u.LFG(Ce,8))},O.\u0275prov=u.Yz7({token:O,factory:O.\u0275fac}),O})(),A=(()=>{class O{constructor(j){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const xe=this._locationStrategy.getBaseHref();this._basePath=function Re(O){if(new RegExp("^(https?:)?//").test(O)){const[,j]=O.split(/\/\/[^\/]+/);return j}return O}(re(J(xe))),this._locationStrategy.onPopState(Ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ye.state,type:Ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,xe=""){return this.path()==this.normalize(j+Ee(xe))}normalize(j){return O.stripTrailingSlash(function pe(O,ce){if(!O||!ce.startsWith(O))return ce;const j=ce.substring(O.length);return""===j||["/",";","?","#"].includes(j[0])?j:ce}(this._basePath,J(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,xe="",Ye=null){this._locationStrategy.pushState(Ye,"",j,xe),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Ee(xe)),Ye)}replaceState(j,xe="",Ye=null){this._locationStrategy.replaceState(Ye,"",j,xe),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Ee(xe)),Ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(xe=>{this._notifyUrlChangeListeners(xe.url,xe.state)})),()=>{const xe=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(xe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",xe){this._urlChangeListeners.forEach(Ye=>Ye(j,xe))}subscribe(j,xe,Ye){return this._subject.subscribe({next:j,error:xe,complete:Ye})}}return O.normalizeQueryParams=Ee,O.joinWithSlash=ie,O.stripTrailingSlash=re,O.\u0275fac=function(j){return new(j||O)(u.LFG(De))},O.\u0275prov=u.Yz7({token:O,factory:function(){return function Y(){return new A((0,u.LFG)(De))}()},providedIn:"root"}),O})();function J(O){return O.replace(/\/index.html$/,"")}function qr(O,ce){ce=encodeURIComponent(ce);for(const j of O.split(";")){const xe=j.indexOf("="),[Ye,It]=-1==xe?[j,""]:[j.slice(0,xe),j.slice(xe+1)];if(Ye.trim()===ce)return decodeURIComponent(It)}return null}const Nn=/\s+/,br=[];let Lr=(()=>{class O{constructor(j,xe,Ye,It){this._iterableDiffers=j,this._keyValueDiffers=xe,this._ngEl=Ye,this._renderer=It,this.initialClasses=br,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Nn):br}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Nn):j}ngDoCheck(){for(const xe of this.initialClasses)this._updateState(xe,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const xe of j)this._updateState(xe,!0);else if(null!=j)for(const xe of Object.keys(j))this._updateState(xe,Boolean(j[xe]));this._applyStateDiff()}_updateState(j,xe){const Ye=this.stateMap.get(j);void 0!==Ye?(Ye.enabled!==xe&&(Ye.changed=!0,Ye.enabled=xe),Ye.touched=!0):this.stateMap.set(j,{enabled:xe,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const xe=j[0],Ye=j[1];Ye.changed?(this._toggleClass(xe,Ye.enabled),Ye.changed=!1):Ye.touched||(Ye.enabled&&this._toggleClass(xe,!1),this.stateMap.delete(xe)),Ye.touched=!1}}_toggleClass(j,xe){(j=j.trim()).length>0&&j.split(Nn).forEach(Ye=>{xe?this._renderer.addClass(this._ngEl.nativeElement,Ye):this._renderer.removeClass(this._ngEl.nativeElement,Ye)})}}return O.\u0275fac=function(j){return new(j||O)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},O.\u0275dir=u.lG2({type:O,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),O})();class Vi{constructor(ce,j,xe,Ye){this.$implicit=ce,this.ngForOf=j,this.index=xe,this.count=Ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{class O{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,xe,Ye){this._viewContainer=j,this._template=xe,this._differs=Ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const xe=this._viewContainer;j.forEachOperation((Ye,It,Ut)=>{if(null==Ye.previousIndex)xe.createEmbeddedView(this._template,new Vi(Ye.item,this._ngForOf,-1,-1),null===Ut?void 0:Ut);else if(null==Ut)xe.remove(null===It?void 0:It);else if(null!==It){const dn=xe.get(It);xe.move(dn,Ut),gi(dn,Ye)}});for(let Ye=0,It=xe.length;Ye<It;Ye++){const dn=xe.get(Ye).context;dn.index=Ye,dn.count=It,dn.ngForOf=this._ngForOf}j.forEachIdentityChange(Ye=>{gi(xe.get(Ye.currentIndex),Ye)})}static ngTemplateContextGuard(j,xe){return!0}}return O.\u0275fac=function(j){return new(j||O)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},O.\u0275dir=u.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),O})();function gi(O,ce){O.context.$implicit=ce.item}let Fn=(()=>{class O{constructor(j,xe){this._viewContainer=j,this._context=new Qn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=xe}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Mn("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Mn("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,xe){return!0}}return O.\u0275fac=function(j){return new(j||O)(u.Y36(u.s_b),u.Y36(u.Rgc))},O.\u0275dir=u.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),O})();class Qn{constructor(){this.$implicit=null,this.ngIf=null}}function Mn(O,ce){if(ce&&!ce.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,u.AaK)(ce)}'.`)}class Hr{createSubscription(ce,j){return ce.subscribe({next:j,error:xe=>{throw xe}})}dispose(ce){ce.unsubscribe()}}class vr{createSubscription(ce,j){return ce.then(j,xe=>{throw xe})}dispose(ce){}}const Yi=new vr,_i=new Hr;let Qi=(()=>{class O{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,xe=>this._updateLatestValue(j,xe))}_selectStrategy(j){if((0,u.QGY)(j))return Yi;if((0,u.F4k)(j))return _i;throw function Jn(O,ce){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,xe){j===this._obj&&(this._latestValue=xe,this._ref.markForCheck())}}return O.\u0275fac=function(j){return new(j||O)(u.Y36(u.sBO,16))},O.\u0275pipe=u.Yjl({name:"async",type:O,pure:!1,standalone:!0}),O})(),Ho=(()=>{class O{}return O.\u0275fac=function(j){return new(j||O)},O.\u0275mod=u.oAB({type:O}),O.\u0275inj=u.cJS({}),O})();const Li="browser";let Mo=(()=>{class O{}return O.\u0275prov=(0,u.Yz7)({token:O,providedIn:"root",factory:()=>new ws((0,u.LFG)(Se),window)}),O})();class ws{constructor(ce,j){this.document=ce,this.window=j,this.offset=()=>[0,0]}setOffset(ce){this.offset=Array.isArray(ce)?()=>ce:ce}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ce){this.supportsScrolling()&&this.window.scrollTo(ce[0],ce[1])}scrollToAnchor(ce){if(!this.supportsScrolling())return;const j=function yi(O,ce){const j=O.getElementById(ce)||O.getElementsByName(ce)[0];if(j)return j;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const xe=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let Ye=xe.currentNode;for(;Ye;){const It=Ye.shadowRoot;if(It){const Ut=It.getElementById(ce)||It.querySelector(`[name="${ce}"]`);if(Ut)return Ut}Ye=xe.nextNode()}}return null}(this.document,ce);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ce){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=ce)}}scrollToElement(ce){const j=ce.getBoundingClientRect(),xe=j.left+this.window.pageXOffset,Ye=j.top+this.window.pageYOffset,It=this.offset();this.window.scrollTo(xe-It[0],Ye-It[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ce=Ps(this.window.history)||Ps(Object.getPrototypeOf(this.window.history));return!(!ce||!ce.writable&&!ce.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ps(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class ls{}},8256:(Be,R,V)=>{"use strict";V.d(R,{tb:()=>fC,AFp:()=>nC,ip1:()=>tC,CZH:()=>p_,hGG:()=>kb,z2F:()=>m_,sBO:()=>yb,Sil:()=>eb,_Vd:()=>td,EJc:()=>Xw,Xts:()=>Pf,SBq:()=>tu,lqb:()=>tc,qLn:()=>Qa,vpe:()=>Vl,XFs:()=>Qe,OlP:()=>Xr,zs3:()=>Il,ZZ4:()=>Iv,aQg:()=>Dv,soG:()=>g_,YKP:()=>l0,h0i:()=>ef,PXZ:()=>fb,R0b:()=>Fa,FiY:()=>Nr,Lbi:()=>Zw,g9A:()=>iC,Qsj:()=>Dg,FYo:()=>Qd,JOm:()=>Ns,tp0:()=>fi,Rgc:()=>ng,dDg:()=>cb,eoX:()=>dC,GfV:()=>Jd,s_b:()=>d_,ifc:()=>Kt,MMx:()=>tv,Lck:()=>WC,eFA:()=>gC,Gpc:()=>P,f3M:()=>it,$WT:()=>ms,MR2:()=>Qc,_c5:()=>Rb,c2e:()=>Yw,zSh:()=>qd,wAp:()=>Yn,vHH:()=>Q,lri:()=>cC,rWj:()=>uC,D6c:()=>Nb,cg1:()=>Jm,kL8:()=>Ry,dqk:()=>pt,Z0I:()=>Xt,eJc:()=>dv,CqO:()=>Im,QGY:()=>wu,F4k:()=>Tm,RDi:()=>zc,AaK:()=>De,qOj:()=>bh,TTD:()=>si,_Bn:()=>a0,jDz:()=>u0,xp6:()=>Gg,uIk:()=>Pl,ekj:()=>jm,Suo:()=>R0,Xpm:()=>Bn,lG2:()=>Br,Yz7:()=>Bt,cJS:()=>Zt,oAB:()=>Ii,Yjl:()=>qr,Y36:()=>Oa,_UZ:()=>Cu,qZA:()=>xh,TgZ:()=>vu,EpF:()=>Dp,n5z:()=>Tc,LFG:()=>$e,$8M:()=>uo,$Z:()=>cd,NdJ:()=>xp,CRH:()=>k0,O4$:()=>Ul,oxw:()=>Pp,ALo:()=>A0,lcZ:()=>S0,Q6J:()=>Tp,s9C:()=>pd,DdM:()=>_0,VKq:()=>y0,iGM:()=>M0,KtG:()=>Pi,CHM:()=>zi,oJD:()=>If,LSH:()=>Df,P3R:()=>Wd,YNc:()=>Sm,_uU:()=>$m,Oqu:()=>Hp,hij:()=>yd,Gf:()=>O0});var u=V(7579),G=V(727),ne=V(9751),f=V(8189),be=V(8421),Se=V(515),me=V(3269),Ae=V(2076),le=V(930),ue=V(4482);function ie(n,i,...a){if(!0===i)return void n();if(!1===i)return;const c=new le.Hp({next:()=>{c.unsubscribe(),n()}});return(0,be.Xf)(i(...a)).subscribe(c)}function re(n){for(let i in n)if(n[i]===re)return i;throw Error("Could not find renamed property on target object.")}function Ee(n,i){for(const a in i)i.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=i[a])}function De(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(De).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const a=i.indexOf("\n");return-1===a?i:i.substring(0,a)}function Ce(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ye=re({__forward_ref__:re});function P(n){return n.__forward_ref__=P,n.toString=function(){return De(this())},n}function A(n){return Y(n)?n():n}function Y(n){return"function"==typeof n&&n.hasOwnProperty(ye)&&n.__forward_ref__===P}function pe(n){return n&&!!n.\u0275providers}const Re="https://g.co/ng/security#xss";class Q extends Error{constructor(i,a){super(k(i,a)),this.code=i}}function k(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function he(n){return"string"==typeof n?n:null==n?"":String(n)}function ot(n,i){throw new Q(-201,!1)}function Xe(n,i){null==n&&function Ke(n,i,a,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${a} ${c} ${i} <=Actual]`))}(i,n,null,"!=")}function Bt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function mn(n){return Jt(n,Me)||Jt(n,dt)}function Xt(n){return null!==mn(n)}function Jt(n,i){return n.hasOwnProperty(i)?n[i]:null}function _t(n){return n&&(n.hasOwnProperty(nt)||n.hasOwnProperty(At))?n[nt]:null}const Me=re({\u0275prov:re}),nt=re({\u0275inj:re}),dt=re({ngInjectableDef:re}),At=re({ngInjectorDef:re});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let yt;function Nt(n){const i=yt;return yt=n,i}function yn(n,i,a){const c=mn(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Qe.Optional?null:void 0!==i?i:void ot(De(n))}const pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qt={},wn="__NG_DI_FLAG__",rn="ngTempTokenPath",In="ngTokenPath",nn=/\n/gm,Un="\u0275",$n="__source";let or;function nr(n){const i=or;return or=n,i}function ur(n,i=Qe.Default){if(void 0===or)throw new Q(-203,!1);return null===or?yn(n,void 0,i):or.get(n,i&Qe.Optional?null:void 0,i)}function $e(n,i=Qe.Default){return(function Wt(){return yt}()||ur)(A(n),i)}function it(n,i=Qe.Default){return $e(n,Pt(i))}function Pt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function vt(n){const i=[];for(let a=0;a<n.length;a++){const c=A(n[a]);if(Array.isArray(c)){if(0===c.length)throw new Q(900,!1);let d,g=Qe.Default;for(let v=0;v<c.length;v++){const I=c[v],F=rt(I);"number"==typeof F?-1===F?d=I.token:g|=F:d=I}i.push($e(d,g))}else i.push($e(c))}return i}function qt(n,i){return n[wn]=i,n.prototype[wn]=i,n}function rt(n){return n[wn]}function ft(n){return{toString:n}.toString()}var Rt=(()=>((Rt=Rt||{})[Rt.OnPush=0]="OnPush",Rt[Rt.Default=1]="Default",Rt))(),Kt=(()=>{return(n=Kt||(Kt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Kt;var n})();const En={},bn=[],hr=re({\u0275cmp:re}),zn=re({\u0275dir:re}),Tt=re({\u0275pipe:re}),Ct=re({\u0275mod:re}),Ht=re({\u0275fac:re}),fn=re({__NG_ELEMENT_ID__:re});let Rn=0;function Bn(n){return ft(()=>{const i=ii(n),a={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Rt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Kt.Emulated,id:"c"+Rn++,styles:n.styles||bn,_:null,schemas:n.schemas||null,tView:null};Vi(a);const c=n.dependencies;return a.directiveDefs=Ki(c,!1),a.pipeDefs=Ki(c,!0),a})}function Sr(n){return Nn(n)||br(n)}function fr(n){return null!==n}function Ii(n){return ft(()=>({type:n.type,bootstrap:n.bootstrap||bn,declarations:n.declarations||bn,imports:n.imports||bn,exports:n.exports||bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ss(n,i){if(null==n)return En;const a={};for(const c in n)if(n.hasOwnProperty(c)){let d=n[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=c,i&&(i[d]=g)}return a}function Br(n){return ft(()=>{const i=ii(n);return Vi(i),i})}function qr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Nn(n){return n[hr]||null}function br(n){return n[zn]||null}function Lr(n){return n[Tt]||null}function ms(n){const i=Nn(n)||br(n)||Lr(n);return null!==i&&i.standalone}function tr(n,i){const a=n[Ct]||null;if(!a&&!0===i)throw new Error(`Type ${De(n)} does not have '\u0275mod' property.`);return a}function ii(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||bn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ss(n.inputs,i),outputs:ss(n.outputs)}}function Vi(n){n.features?.forEach(i=>i(n))}function Ki(n,i){if(!n)return null;const a=i?Lr:Sr;return()=>("function"==typeof n?n():n).map(c=>a(c)).filter(fr)}const gi=0,en=1,Fn=2,Qn=3,Mn=4,mi=5,Fr=6,Di=7,Tr=8,ki=9,ci=10,jn=11,Zi=12,Ni=13,os=14,Jn=15,Hr=16,vr=17,Yi=18,_i=19,Qi=20,Js=21,Ir=22,Ui=1,Bi=2,Xi=7,ji=8,Ji=9,Ln=10;function Zr(n){return Array.isArray(n)&&"object"==typeof n[Ui]}function Gr(n){return Array.isArray(n)&&!0===n[Ui]}function Dr(n){return 0!=(4&n.flags)}function es(n){return n.componentOffset>-1}function as(n){return 1==(1&n.flags)}function Or(n){return!!n.template}function ys(n){return 0!=(256&n[Fn])}function ls(n,i){return n.hasOwnProperty(Ht)?n[Ht]:null}class Ms{constructor(i,a,c){this.previousValue=i,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function si(){return $r}function $r(n){return n.type.prototype.ngOnChanges&&(n.setInput=js),Bs}function Bs(){const n=Rr(this),i=n?.current;if(i){const a=n.previous;if(a===En)n.previous=i;else for(let c in i)a[c]=i[c];n.current=null,this.ngOnChanges(i)}}function js(n,i,a,c){const d=this.declaredInputs[a],g=Rr(n)||function io(n,i){return n[cs]=i}(n,{previous:En,current:null}),v=g.current||(g.current={}),I=g.previous,F=I[d];v[d]=new Ms(F&&F.currentValue,i,I===En),n[c]=i}si.ngInherit=!0;const cs="__ngSimpleChanges__";function Rr(n){return n[cs]||null}const vi=function(n,i,a){},vo="svg";function Pr(n){for(;Array.isArray(n);)n=n[gi];return n}function so(n,i){return Pr(i[n])}function Yr(n,i){return Pr(i[n.index])}function wi(n,i){return n.data[i]}function Jr(n,i){const a=i[n];return Zr(a)?a:a[gi]}function Os(n){return 64==(64&n[Fn])}function ns(n,i){return null==i?null:n[i]}function Ro(n){n[Yi]=0}function $i(n,i){n[mi]+=i;let a=n,c=n[Qn];for(;null!==c&&(1===i&&1===a[mi]||-1===i&&0===a[mi]);)c[mi]+=i,a=c,c=c[Qn]}const Vn={lFrame:lo(null),bindingsEnabled:!0};function Dn(){return Vn.bindingsEnabled}function jt(){return Vn.lFrame.lView}function Xn(){return Vn.lFrame.tView}function zi(n){return Vn.lFrame.contextLView=n,n[Tr]}function Pi(n){return Vn.lFrame.contextLView=null,n}function Er(){let n=_e();for(;null!==n&&64===n.type;)n=n.parent;return n}function _e(){return Vn.lFrame.currentTNode}function et(n,i){const a=Vn.lFrame;a.currentTNode=n,a.isParent=i}function gt(){return Vn.lFrame.isParent}function U(){const n=Vn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Yt(){return Vn.lFrame.bindingIndex++}function oi(n,i){const a=Vn.lFrame;a.bindingIndex=a.bindingRootIndex=n,Fi(i)}function Fi(n){Vn.lFrame.currentDirectiveIndex=n}function zr(){return Vn.lFrame.currentQueryIndex}function Do(n){Vn.lFrame.currentQueryIndex=n}function Wi(n){const i=n[en];return 2===i.type?i.declTNode:1===i.type?n[Fr]:null}function jr(n,i,a){if(a&Qe.SkipSelf){let d=i,g=n;for(;!(d=d.parent,null!==d||a&Qe.Host||(d=Wi(g),null===d||(g=g[Jn],10&d.type))););if(null===d)return!1;i=d,n=g}const c=Vn.lFrame=ao();return c.currentTNode=i,c.lView=n,!0}function ei(n){const i=ao(),a=n[en];Vn.lFrame=i,i.currentTNode=a.firstChild,i.lView=n,i.tView=a,i.contextLView=n,i.bindingIndex=a.bindingStartIndex,i.inI18n=!1}function ao(){const n=Vn.lFrame,i=null===n?null:n.child;return null===i?lo(n):i}function lo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function ta(){const n=Vn.lFrame;return Vn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Co=ta;function Va(){const n=ta();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function bs(){return Vn.lFrame.selectedIndex}function ko(n){Vn.lFrame.selectedIndex=n}function hi(){const n=Vn.lFrame;return wi(n.tView,n.selectedIndex)}function Ul(){Vn.lFrame.currentNamespace=vo}function It(n,i){for(let a=i.directiveStart,c=i.directiveEnd;a<c;a++){const g=n.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:F,ngAfterViewChecked:oe,ngOnDestroy:Pe}=g;v&&(n.contentHooks??(n.contentHooks=[])).push(-a,v),I&&((n.contentHooks??(n.contentHooks=[])).push(a,I),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(a,I)),F&&(n.viewHooks??(n.viewHooks=[])).push(-a,F),oe&&((n.viewHooks??(n.viewHooks=[])).push(a,oe),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(a,oe)),null!=Pe&&(n.destroyHooks??(n.destroyHooks=[])).push(a,Pe)}}function Ut(n,i,a){ir(n,i,3,a)}function dn(n,i,a,c){(3&n[Fn])===a&&ir(n,i,a,c)}function pr(n,i){let a=n[Fn];(3&a)===i&&(a&=2047,a+=1,n[Fn]=a)}function ir(n,i,a,c){const g=c??-1,v=i.length-1;let I=0;for(let F=void 0!==c?65535&n[Yi]:0;F<v;F++)if("number"==typeof i[F+1]){if(I=i[F],null!=c&&I>=c)break}else i[F]<0&&(n[Yi]+=65536),(I<g||-1==g)&&(mr(n,a,i,F),n[Yi]=(4294901760&n[Yi])+F+2),F++}function mr(n,i,a,c){const d=a[c]<0,g=a[c+1],I=n[d?-a[c]:a[c]];if(d){if(n[Fn]>>11<n[Yi]>>16&&(3&n[Fn])===i){n[Fn]+=2048,vi(4,I,g);try{g.call(I)}finally{vi(5,I,g)}}}else{vi(4,I,g);try{g.call(I)}finally{vi(5,I,g)}}}const ar=-1;class Vt{constructor(i,a,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function zt(n,i,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const g=a[c++],v=a[c++],I=a[c++];n.setAttribute(i,v,I,g)}else{const g=d,v=a[++c];na(g)?n.setProperty(i,g,v):n.setAttribute(i,g,v),c++}}return c}function Mi(n){return 3===n||4===n||6===n}function na(n){return 64===n.charCodeAt(0)}function ha(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let a=-1;for(let c=0;c<i.length;c++){const d=i[c];"number"==typeof d?a=d:0===a||Du(n,a,d,null,-1===a||2===a?i[++c]:null)}}return n}function Du(n,i,a,c,d){let g=0,v=n.length;if(-1===i)v=-1;else for(;g<n.length;){const I=n[g++];if("number"==typeof I){if(I===i){v=-1;break}if(I>i){v=g-1;break}}}for(;g<n.length;){const I=n[g];if("number"==typeof I)break;if(I===a){if(null===c)return void(null!==d&&(n[g+1]=d));if(c===n[g+1])return void(n[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==v&&(n.splice(v,0,i),g=v+1),n.splice(g++,0,a),null!==c&&n.splice(g++,0,c),null!==d&&n.splice(g++,0,d)}function Bl(n){return n!==ar}function ba(n){return 32767&n}function Ea(n,i){let a=function Ua(n){return n>>16}(n),c=i;for(;a>0;)c=c[Jn],a--;return c}let rl=!0;function Aa(n){const i=rl;return rl=n,i}const bi=255,er=5;let ra=0;const $s={};function Pn(n,i){const a=wr(n,i);if(-1!==a)return a;const c=i[en];c.firstCreatePass&&(n.injectorIndex=i.length,Go(c.data,n),Go(i,null),Go(c.blueprint,null));const d=jl(n,i),g=n.injectorIndex;if(Bl(d)){const v=ba(d),I=Ea(d,i),F=I[en].data;for(let oe=0;oe<8;oe++)i[g+oe]=I[v+oe]|F[v+oe]}return i[g+8]=d,g}function Go(n,i){n.push(0,0,0,0,0,0,0,0,i)}function wr(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function jl(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,c=null,d=i;for(;null!==d;){if(c=Et(d),null===c)return ar;if(a++,d=d[Jn],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return ar}function Qr(n,i,a){!function ti(n,i,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(fn)&&(c=a[fn]),null==c&&(c=a[fn]=ra++);const d=c&bi;i.data[n+(d>>er)]|=1<<d}(n,i,a)}function Ei(n,i,a){if(a&Qe.Optional||void 0!==n)return n;ot()}function fa(n,i,a,c){if(a&Qe.Optional&&void 0===c&&(c=null),!(a&(Qe.Self|Qe.Host))){const d=n[ki],g=Nt(void 0);try{return d?d.get(i,c,a&Qe.Optional):yn(i,c,a&Qe.Optional)}finally{Nt(g)}}return Ei(c,0,a)}function xo(n,i,a,c=Qe.Default,d){if(null!==n){if(1024&i[Fn]){const v=function Ic(n,i,a,c,d){let g=n,v=i;for(;null!==g&&null!==v&&1024&v[Fn]&&!(256&v[Fn]);){const I=il(g,v,a,c|Qe.Self,$s);if(I!==$s)return I;let F=g.parent;if(!F){const oe=v[Js];if(oe){const Pe=oe.get(a,$s,c);if(Pe!==$s)return Pe}F=Et(v),v=v[Jn]}g=F}return d}(n,i,a,c,$s);if(v!==$s)return v}const g=il(n,i,a,c,$s);if(g!==$s)return g}return fa(i,a,c,d)}function il(n,i,a,c,d){const g=function Hl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(fn)?n[fn]:void 0;return"number"==typeof i?i>=0?i&bi:co:i}(a);if("function"==typeof g){if(!jr(i,n,c))return c&Qe.Host?Ei(d,0,c):fa(i,a,c,d);try{const v=g(c);if(null!=v||c&Qe.Optional)return v;ot()}finally{Co()}}else if("number"==typeof g){let v=null,I=wr(n,i),F=ar,oe=c&Qe.Host?i[Hr][Fr]:null;for((-1===I||c&Qe.SkipSelf)&&(F=-1===I?jl(n,i):i[I+8],F!==ar&&Es(c,!1)?(v=i[en],I=ba(F),i=Ea(F,i)):I=-1);-1!==I;){const Pe=i[en];if(sl(g,I,Pe.data)){const ze=Ba(I,i,a,v,c,oe);if(ze!==$s)return ze}F=i[I+8],F!==ar&&Es(c,i[en].data[I+8]===oe)&&sl(g,I,i)?(v=Pe,I=ba(F),i=Ea(F,i)):I=-1}}return d}function Ba(n,i,a,c,d,g){const v=i[en],I=v.data[n+8],Pe=pa(I,v,a,null==c?es(I)&&rl:c!=v&&0!=(3&I.type),d&Qe.Host&&g===I);return null!==Pe?No(i,v,Pe,I):$s}function pa(n,i,a,c,d){const g=n.providerIndexes,v=i.data,I=1048575&g,F=n.directiveStart,Pe=g>>20,lt=d?I+Pe:n.directiveEnd;for(let wt=c?I:I+Pe;wt<lt;wt++){const Gt=v[wt];if(wt<F&&a===Gt||wt>=F&&Gt.type===a)return wt}if(d){const wt=v[F];if(wt&&Or(wt)&&wt.type===a)return F}return null}function No(n,i,a,c){let d=n[a];const g=i.data;if(function Kn(n){return n instanceof Vt}(d)){const v=d;v.resolving&&function ke(n,i){const a=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Q(-200,`Circular dependency in DI detected for ${n}${a}`)}(function Te(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():he(n)}(g[a]));const I=Aa(v.canSeeViewProviders);v.resolving=!0;const F=v.injectImpl?Nt(v.injectImpl):null;jr(n,c,Qe.Default);try{d=n[a]=v.factory(void 0,g,n,c),i.firstCreatePass&&a>=c.directiveStart&&function Ye(n,i,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=i.type.prototype;if(c){const v=$r(i);(a.preOrderHooks??(a.preOrderHooks=[])).push(n,v),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(n,v)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-n,d),g&&((a.preOrderHooks??(a.preOrderHooks=[])).push(n,g),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(n,g))}(a,g[a],i)}finally{null!==F&&Nt(F),Aa(I),v.resolving=!1,Co()}}return d}function sl(n,i,a){return!!(a[i+(n>>er)]&1<<n)}function Es(n,i){return!(n&Qe.Self||n&Qe.Host&&i)}class $o{constructor(i,a){this._tNode=i,this._lView=a}get(i,a,c){return xo(this._tNode,this._lView,i,Pt(c),a)}}function co(){return new $o(Er(),jt())}function Tc(n){return ft(()=>{const i=n.prototype.constructor,a=i[Ht]||Rs(i),c=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==c;){const g=d[Ht]||Rs(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Rs(n){return Y(n)?()=>{const i=Rs(A(n));return i&&i()}:ls(n)}function Et(n){const i=n[en],a=i.type;return 2===a?i.declTNode:1===a?n[Fr]:null}function uo(n){return function pn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const a=n.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const g=a[d];if(Mi(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(g===i)return a[d+1];d+=2}}}return null}(Er(),n)}const zo="__parameters__";function ks(n,i,a){return ft(()=>{const c=function ol(n){return function(...a){if(n){const c=n(...a);for(const d in c)this[d]=c[d]}}}(i);function d(...g){if(this instanceof d)return c.apply(this,g),this;const v=new d(...g);return I.annotation=v,I;function I(F,oe,Pe){const ze=F.hasOwnProperty(zo)?F[zo]:Object.defineProperty(F,zo,{value:[]})[zo];for(;ze.length<=Pe;)ze.push(null);return(ze[Pe]=ze[Pe]||[]).push(v),F}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class Xr{constructor(i,a){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Bt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ta(n,i){n.forEach(a=>Array.isArray(a)?Ta(a,i):i(a))}function ll(n,i,a){i>=n.length?n.push(a):n.splice(i,0,a)}function cl(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function D(n,i,a){let c=ve(n,i);return c>=0?n[1|c]=a:(c=~c,function b(n,i,a,c){let d=n.length;if(d==i)n.push(a,c);else if(1===d)n.push(c,n[0]),n[0]=a;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=a,n[i+1]=c}}(n,c,i,a)),c}function q(n,i){const a=ve(n,i);if(a>=0)return n[1|a]}function ve(n,i){return function at(n,i,a){let c=0,d=n.length>>a;for(;d!==c;){const g=c+(d-c>>1),v=n[g<<a];if(i===v)return g<<a;v>i?d=g:c=g+1}return~(d<<a)}(n,i,1)}const Nr=qt(ks("Optional"),8),fi=qt(ks("SkipSelf"),4);var Ns=(()=>((Ns=Ns||{})[Ns.Important=1]="Important",Ns[Ns.DashCase=2]="DashCase",Ns))();const Rc=new Map;let xr=0;const gl="__ngContext__";function Zs(n,i){Zr(i)?(n[gl]=i[Qi],function Ga(n){Rc.set(n[Qi],n)}(i)):n[gl]=i}let za;function _l(n,i){return za(n,i)}function yl(n){const i=n[Qn];return Gr(i)?i[Qn]:i}function ya(n){return Uc(n[Ni])}function Vc(n){return Uc(n[Mn])}function Uc(n){for(;null!==n&&!Gr(n);)n=n[Mn];return n}function E(n,i,a,c,d){if(null!=c){let g,v=!1;Gr(c)?g=c:Zr(c)&&(v=!0,c=c[gi]);const I=Pr(c);0===n&&null!==a?null==d?Hc(i,a,I):Is(i,a,I,d||null,!0):1===n&&null!==a?Is(i,a,I,d||null,!0):2===n?function Ka(n,i,a){const c=sr(n,i);c&&function Bu(n,i,a,c){n.removeChild(i,a,c)}(n,c,i,a)}(i,I,v):3===n&&i.destroyNode(I),null!=g&&function lg(n,i,a,c,d){const g=a[Xi];g!==Pr(a)&&E(i,n,c,g,d);for(let I=Ln;I<a.length;I++){const F=a[I];va(F[en],F,n,i,c,g)}}(i,n,g,a,d)}}function fe(n,i,a){return n.createElement(i,a)}function _r(n,i){const a=n[Ji],c=a.indexOf(i),d=i[Qn];512&i[Fn]&&(i[Fn]&=-513,$i(d,-1)),a.splice(c,1)}function Ys(n,i){if(n.length<=Ln)return;const a=Ln+i,c=n[a];if(c){const d=c[vr];null!==d&&d!==n&&_r(d,c),i>0&&(n[a-1][Mn]=c[Mn]);const g=cl(n,Ln+i);!function Fe(n,i){va(n,i,i[jn],2,null,null),i[gi]=null,i[Fr]=null}(c[en],c);const v=g[_i];null!==v&&v.detachView(g[en]),c[Qn]=null,c[Mn]=null,c[Fn]&=-65}return c}function Ls(n,i){if(!(128&i[Fn])){const a=i[jn];a.destroyNode&&va(n,i,a,3,null,null),function ln(n){let i=n[Ni];if(!i)return vl(n[en],n);for(;i;){let a=null;if(Zr(i))a=i[Ni];else{const c=i[Ln];c&&(a=c)}if(!a){for(;i&&!i[Mn]&&i!==n;)Zr(i)&&vl(i[en],i),i=i[Qn];null===i&&(i=n),Zr(i)&&vl(i[en],i),a=i&&i[Mn]}i=a}}(i)}}function vl(n,i){if(!(128&i[Fn])){i[Fn]&=-65,i[Fn]|=128,function Bc(n,i){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let c=0;c<a.length;c+=2){const d=i[a[c]];if(!(d instanceof Vt)){const g=a[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=d[g[v]],F=g[v+1];vi(4,I,F);try{F.call(I)}finally{vi(5,I,F)}}else{vi(4,d,g);try{g.call(d)}finally{vi(5,d,g)}}}}}(n,i),function fo(n,i){const a=n.cleanup,c=i[Di];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+3];v>=0?c[d=v]():c[d=-v].unsubscribe(),g+=2}else{const v=c[d=a[g+1]];a[g].call(v)}if(null!==c){for(let g=d+1;g<c.length;g++)(0,c[g])();i[Di]=null}}(n,i),1===i[en].type&&i[jn].destroy();const a=i[vr];if(null!==a&&Gr(i[Qn])){a!==i[Qn]&&_r(a,i);const c=i[_i];null!==c&&c.detachView(n)}!function Fu(n){Rc.delete(n[Qi])}(i)}}function Wa(n,i,a){return function jc(n,i,a){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return a[gi];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:g}=n.data[c.directiveStart+d];if(g===Kt.None||g===Kt.Emulated)return null}return Yr(c,a)}}(n,i.parent,a)}function Is(n,i,a,c,d){n.insertBefore(i,a,c,d)}function Hc(n,i,a){n.appendChild(i,a)}function qa(n,i,a,c,d){null!==c?Is(n,i,a,c,d):Hc(n,i,a)}function sr(n,i){return n.parentNode(i)}let Ld,pi,jd,$u,hf=function df(n,i,a){return 40&n.type?Yr(n,a):null};function Fd(n,i,a,c){const d=Wa(n,c,i),g=i[jn],I=function Gc(n,i,a){return hf(n,i,a)}(c.parent||i[Fr],c,i);if(null!=d)if(Array.isArray(a))for(let F=0;F<a.length;F++)qa(g,d,a[F],I,!1);else qa(g,d,a,I,!1);void 0!==Ld&&Ld(g,c,i,a,d)}function Vd(n,i){if(null!==i){const a=i.type;if(3&a)return Yr(i,n);if(4&a)return Cl(-1,n[i.index]);if(8&a){const c=i.child;if(null!==c)return Vd(n,c);{const d=n[i.index];return Gr(d)?Cl(-1,d):Pr(d)}}if(32&a)return _l(i,n)()||Pr(n[i.index]);{const c=ff(n,i);return null!==c?Array.isArray(c)?c[0]:Vd(yl(n[Hr]),c):Vd(n,i.next)}}return null}function ff(n,i){return null!==i?n[Hr][Fr].projection[i.projection]:null}function Cl(n,i){const a=Ln+n+1;if(a<i.length){const c=i[a],d=c[en].firstChild;if(null!==d)return Vd(c,d)}return i[Xi]}function Ud(n,i,a,c,d,g,v){for(;null!=a;){const I=c[a.index],F=a.type;if(v&&0===i&&(I&&Zs(Pr(I),c),a.flags|=2),32!=(32&a.flags))if(8&F)Ud(n,i,a.child,c,d,g,!1),E(i,n,d,I,g);else if(32&F){const oe=_l(a,c);let Pe;for(;Pe=oe();)E(i,n,d,Pe,g);E(i,n,d,I,g)}else 16&F?Jl(n,i,c,a,d,g):E(i,n,d,I,g);a=v?a.projectionNext:a.next}}function va(n,i,a,c,d,g){Ud(a,c,n.firstChild,i,d,g,!1)}function Jl(n,i,a,c,d,g){const v=a[Hr],F=v[Fr].projection[c.projection];if(Array.isArray(F))for(let oe=0;oe<F.length;oe++)E(i,n,d,F[oe],g);else Ud(n,i,F,v[Qn],d,g,!0)}function ug(n,i,a){""===a?n.removeAttribute(i,"class"):n.setAttribute(i,"class",a)}function dg(n,i,a){const{mergedAttrs:c,classes:d,styles:g}=a;null!==c&&zt(n,i,c),null!==d&&ug(n,i,d),null!==g&&function Gu(n,i,a){n.setAttribute(i,"style",a)}(n,i,g)}function Za(n){return function $c(){if(void 0===pi&&(pi=null,pt.trustedTypes))try{pi=pt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pi}()?.createHTML(n)||n}function zc(n){jd=n}function Hd(){if(void 0===$u&&($u=null,pt.trustedTypes))try{$u=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $u}function pf(n){return Hd()?.createHTML(n)||n}function Gd(n){return Hd()?.createScriptURL(n)||n}class $d{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Re})`}}function yr(n){return n instanceof $d?n.changingThisBreaksApplicationSecurity:n}function Wc(n,i){const a=function fg(n){return n instanceof $d&&n.getTypeName()||null}(n);if(null!=a&&a!==i){if("ResourceURL"===a&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${a} (see ${Re})`)}return a===i}class vf{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const a=(new window.DOMParser).parseFromString(Za(i),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(i):(a.removeChild(a.firstChild),a)}catch{return null}}}class zu{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const a=this.inertDocument.createElement("template");return a.innerHTML=Za(i),a}}const qu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qc(n){return(n=String(n)).match(qu)?n:"unsafe:"+n}function Ma(n){const i={};for(const a of n.split(","))i[a]=!0;return i}function Kc(...n){const i={};for(const a of n)for(const c in a)a.hasOwnProperty(c)&&(i[c]=!0);return i}const Cf=Ma("area,br,col,hr,img,wbr"),gg=Ma("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wf=Ma("rp,rt"),bf=Kc(Cf,Kc(gg,Ma("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kc(wf,Ma("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kc(wf,gg)),Ef=Ma("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Af=Kc(Ef,Ma("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ma("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),I_=Ma("script,style,template");class hs{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let a=i.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(i){const a=i.nodeName.toLowerCase();if(!bf.hasOwnProperty(a))return this.sanitizedSomething=!0,!I_.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=i.attributes;for(let d=0;d<c.length;d++){const g=c.item(d),v=g.name,I=v.toLowerCase();if(!Af.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let F=g.value;Ef[I]&&(F=qc(F)),this.buf.push(" ",v,'="',Zc(F),'"')}return this.buf.push(">"),!0}endElement(i){const a=i.nodeName.toLowerCase();bf.hasOwnProperty(a)&&!Cf.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(i){this.buf.push(Zc(i))}checkClobberedElement(i,a){if(a&&(i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return a}}const Sf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_g=/([^\#-~ |!])/g;function Zc(n){return n.replace(/&/g,"&amp;").replace(Sf,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(_g,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yo;function zd(n){return"content"in n&&function Zu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var fs=(()=>((fs=fs||{})[fs.NONE=0]="NONE",fs[fs.HTML=1]="HTML",fs[fs.STYLE=2]="STYLE",fs[fs.SCRIPT=3]="SCRIPT",fs[fs.URL=4]="URL",fs[fs.RESOURCE_URL=5]="RESOURCE_URL",fs))();function If(n){const i=Yc();return i?pf(i.sanitize(fs.HTML,n)||""):Wc(n,"HTML")?pf(yr(n)):function Tf(n,i){let a=null;try{Yo=Yo||function yf(n){const i=new zu(n);return function Wu(){try{return!!(new window.DOMParser).parseFromString(Za(""),"text/html")}catch{return!1}}()?new vf(i):i}(n);let c=i?String(i):"";a=Yo.getInertBodyElement(c);let d=5,g=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=g,g=a.innerHTML,a=Yo.getInertBodyElement(c)}while(c!==g);return Za((new hs).sanitizeChildren(zd(a)||a))}finally{if(a){const c=zd(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(function Pa(){return void 0!==jd?jd:typeof document<"u"?document:void 0}(),he(n))}function Df(n){const i=Yc();return i?i.sanitize(fs.URL,n)||"":Wc(n,"URL")?yr(n):qc(he(n))}function vg(n){const i=Yc();if(i)return Gd(i.sanitize(fs.RESOURCE_URL,n)||"");if(Wc(n,"ResourceURL"))return Gd(yr(n));throw new Q(904,!1)}function Wd(n,i,a){return function Cg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?vg:Df}(i,a)(n)}function Yc(){const n=jt();return n&&n[Zi]}const Pf=new Xr("ENVIRONMENT_INITIALIZER"),wg=new Xr("INJECTOR",-1),bg=new Xr("INJECTOR_DEF_TYPES");class Ya{get(i,a=Qt){if(a===Qt){const c=new Error(`NullInjectorError: No provider for ${De(i)}!`);throw c.name="NullInjectorError",c}return a}}function Qc(n){return{\u0275providers:n}}function Eg(...n){return{\u0275providers:Ag(0,n),\u0275fromNgModule:!0}}function Ag(n,...i){const a=[],c=new Set;let d;return Ta(i,g=>{const v=g;Ca(v,a,[],c)&&(d||(d=[]),d.push(v))}),void 0!==d&&Mf(d,a),a}function Mf(n,i){for(let a=0;a<n.length;a++){const{providers:d}=n[a];Of(d,g=>{i.push(g)})}}function Ca(n,i,a,c){if(!(n=A(n)))return!1;let d=null,g=_t(n);const v=!g&&Nn(n);if(g||v){if(v&&!v.standalone)return!1;d=n}else{const F=n.ngModule;if(g=_t(F),!g)return!1;d=F}const I=c.has(d);if(v){if(I)return!1;if(c.add(d),v.dependencies){const F="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const oe of F)Ca(oe,i,a,c)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let oe;c.add(d);try{Ta(g.imports,Pe=>{Ca(Pe,i,a,c)&&(oe||(oe=[]),oe.push(Pe))})}finally{}void 0!==oe&&Mf(oe,i)}if(!I){const oe=ls(d)||(()=>new d);i.push({provide:d,useFactory:oe,deps:bn},{provide:bg,useValue:d,multi:!0},{provide:Pf,useValue:()=>$e(d),multi:!0})}const F=g.providers;null==F||I||Of(F,Pe=>{i.push(Pe)})}}return d!==n&&void 0!==n.providers}function Of(n,i){for(let a of n)pe(a)&&(a=a.\u0275providers),Array.isArray(a)?Of(a,i):i(a)}const Sg=re({provide:String,useValue:re});function Xc(n){return null!==n&&"object"==typeof n&&Sg in n}function Qo(n){return"function"==typeof n}const qd=new Xr("Set Injector scope."),Jc={},Rf={};let Kd;function Xu(){return void 0===Kd&&(Kd=new Ya),Kd}class tc{}class kf extends tc{get destroyed(){return this._destroyed}constructor(i,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nf(i,v=>this.processProvider(v)),this.records.set(wg,eu(void 0,this)),d.has("environment")&&this.records.set(tc,eu(void 0,this));const g=this.records.get(qd);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(bg.multi,bn,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const a=nr(this),c=Nt(void 0);try{return i()}finally{nr(a),Nt(c)}}get(i,a=Qt,c=Qe.Default){this.assertNotDestroyed(),c=Pt(c);const d=nr(this),g=Nt(void 0);try{if(!(c&Qe.SkipSelf)){let I=this.records.get(i);if(void 0===I){const F=function O_(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xr}(i)&&mn(i);I=F&&this.injectableDefInScope(F)?eu(Zd(i),Jc):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(c&Qe.Self?Xu():this.parent).get(i,a=c&Qe.Optional&&a===Qt?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[rn]=v[rn]||[]).unshift(De(i)),d)throw v;return function tt(n,i,a,c){const d=n[rn];throw i[$n]&&d.unshift(i[$n]),n.message=function Ge(n,i,a,c=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Un?n.slice(2):n;let d=De(i);if(Array.isArray(i))d=i.map(De).join(" -> ");else if("object"==typeof i){let g=[];for(let v in i)if(i.hasOwnProperty(v)){let I=i[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):De(I)))}d=`{${g.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${n.replace(nn,"\n  ")}`}("\n"+n.message,d,a,c),n[In]=d,n[rn]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{Nt(g),nr(d)}}resolveInjectorInitializers(){const i=nr(this),a=Nt(void 0);try{const c=this.get(Pf.multi,bn,Qe.Self);for(const d of c)d()}finally{nr(i),Nt(a)}}toString(){const i=[],a=this.records;for(const c of a.keys())i.push(De(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(i){let a=Qo(i=A(i))?i:A(i&&i.provide);const c=function Ju(n){return Xc(n)?eu(void 0,n.useValue):eu(El(n),Jc)}(i);if(Qo(i)||!0!==i.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=eu(void 0,Jc,!0),d.factory=()=>vt(d.multi),this.records.set(a,d)),a=i,d.multi.push(i)}this.records.set(a,c)}hydrate(i,a){return a.value===Jc&&(a.value=Rf,a.value=a.factory()),"object"==typeof a.value&&a.value&&function M_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(i){if(!i.providedIn)return!1;const a=A(i.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Zd(n){const i=mn(n),a=null!==i?i.factory:ls(n);if(null!==a)return a;if(n instanceof Xr)throw new Q(204,!1);if(n instanceof Function)return function Yd(n){const i=n.length;if(i>0)throw function Po(n,i){const a=[];for(let c=0;c<n;c++)a.push(i);return a}(i,"?"),new Q(204,!1);const a=function Hn(n){return n&&(n[Me]||n[dt])||null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new Q(204,!1)}function El(n,i,a){let c;if(Qo(n)){const d=A(n);return ls(d)||Zd(d)}if(Xc(n))c=()=>A(n.useValue);else if(function bl(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...vt(n.deps||[]));else if(function wl(n){return!(!n||!n.useExisting)}(n))c=()=>$e(A(n.useExisting));else{const d=A(n&&(n.useClass||n.provide));if(!function Tg(n){return!!n.deps}(n))return ls(d)||Zd(d);c=()=>new d(...vt(n.deps))}return c}function eu(n,i,a=!1){return{factory:n,value:i,multi:a?[]:void 0}}function Nf(n,i){for(const a of n)Array.isArray(a)?Nf(a,i):a&&pe(a)?Nf(a.\u0275providers,i):i(a)}class ed{}class Al{}class Ig{resolveComponentFactory(i){throw function Sl(n){const i=Error(`No component factory found for ${De(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let td=(()=>{class n{}return n.NULL=new Ig,n})();function Ff(){return Tl(Er(),jt())}function Tl(n,i){return new tu(Yr(n,i))}let tu=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Ff,n})();function Vf(n){return n instanceof tu?n.nativeElement:n}class Qd{}let Dg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Xd(){const n=jt(),a=Jr(Er().index,n);return(Zr(a)?a:n)[jn]}(),n})(),R_=(()=>{class n{}return n.\u0275prov=Bt({token:n,providedIn:"root",factory:()=>null}),n})();class Jd{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const eh=new Jd("15.2.9"),Uf={},th="ngOriginalError";function nu(n){return n[th]}class Qa{constructor(){this._console=console}handleError(i){const a=this._findOriginalError(i);this._console.error("ERROR",i),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(i){let a=i&&nu(i);for(;a&&nu(a);)a=nu(a);return a||null}}function Fo(n){return n instanceof Function?n():n}function jf(n,i,a){let c=n.length;for(;;){const d=n.indexOf(i,a);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const g=i.length;if(d+g===c||n.charCodeAt(d+g)<=32)return d}a=d+1}}const kg="ng-template";function Ng(n,i,a){let c=0,d=!0;for(;c<n.length;){let g=n[c++];if("string"==typeof g&&d){const v=n[c++];if(a&&"class"===g&&-1!==jf(v.toLowerCase(),i,0))return!0}else{if(1===g){for(;c<n.length&&"string"==typeof(g=n[c++]);)if(g.toLowerCase()===i)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function Lg(n){return 4===n.type&&n.value!==kg}function Fg(n,i,a){return i===(4!==n.type||a?n.value:kg)}function k_(n,i,a){let c=4;const d=n.attrs||[],g=function L_(n){for(let i=0;i<n.length;i++)if(Mi(n[i]))return i;return n.length}(d);let v=!1;for(let I=0;I<i.length;I++){const F=i[I];if("number"!=typeof F){if(!v)if(4&c){if(c=2|1&c,""!==F&&!Fg(n,F,a)||""===F&&1===i.length){if(Vo(c))return!1;v=!0}}else{const oe=8&c?F:i[++I];if(8&c&&null!==n.attrs){if(!Ng(n.attrs,oe,a)){if(Vo(c))return!1;v=!0}continue}const ze=N_(8&c?"class":F,d,Lg(n),a);if(-1===ze){if(Vo(c))return!1;v=!0;continue}if(""!==oe){let lt;lt=ze>g?"":d[ze+1].toLowerCase();const wt=8&c?lt:null;if(wt&&-1!==jf(wt,oe,0)||2&c&&oe!==lt){if(Vo(c))return!1;v=!0}}}}else{if(!v&&!Vo(c)&&!Vo(F))return!1;if(v&&Vo(F))continue;v=!1,c=F|1&c}}return Vo(c)||v}function Vo(n){return 0==(1&n)}function N_(n,i,a,c){if(null===i)return-1;let d=0;if(c||!a){let g=!1;for(;d<i.length;){const v=i[d];if(v===n)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=i[++d];for(;"string"==typeof I;)I=i[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function Bg(n,i){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const c=n[a];if("number"==typeof c)return-1;if(c===i)return a;a++}return-1}(i,n)}function Vg(n,i,a=!1){for(let c=0;c<i.length;c++)if(k_(n,i[c],a))return!0;return!1}function ru(n,i){return n?":not("+i.trim()+")":i}function jg(n){let i=n[0],a=1,c=2,d="",g=!1;for(;a<n.length;){let v=n[a];if("string"==typeof v)if(2&c){const I=n[++a];d+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!Vo(v)&&(i+=ru(g,d),d=""),c=v,g=g||!Vo(c);a++}return""!==d&&(i+=ru(g,d)),i}const cr={};function Gg(n){$g(Xn(),jt(),bs()+n,!1)}function $g(n,i,a,c){if(!c)if(3==(3&i[Fn])){const g=n.preOrderCheckHooks;null!==g&&Ut(i,g,a)}else{const g=n.preOrderHooks;null!==g&&dn(i,g,0,a)}ko(a)}function sd(n,i=null,a=null,c){const d=qg(n,i,a,c);return d.resolveInjectorInitializers(),d}function qg(n,i=null,a=null,c,d=new Set){const g=[a||bn,Eg(n)];return c=c||("object"==typeof n?void 0:De(n)),new kf(g,i||Xu(),c||null,d)}let Il=(()=>{class n{static create(a,c){if(Array.isArray(a))return sd({name:""},c,a,"");{const d=a.name??"";return sd({name:d},a.parent,a.providers,d)}}}return n.THROW_IF_NOT_FOUND=Qt,n.NULL=new Ya,n.\u0275prov=Bt({token:n,providedIn:"any",factory:()=>$e(wg)}),n.__NG_ELEMENT_ID__=-1,n})();function Oa(n,i=Qe.Default){const a=jt();return null===a?$e(n,i):xo(Er(),a,A(n),i)}function cd(){throw new Error("invalid")}function ch(n,i){const a=n.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const g=a[c+1];if(-1!==g){const v=n.data[g];Do(a[c]),v.contentQueries(2,i[g],g)}}}function uh(n,i,a,c,d,g,v,I,F,oe,Pe){const ze=i.blueprint.slice();return ze[gi]=d,ze[Fn]=76|c,(null!==Pe||n&&1024&n[Fn])&&(ze[Fn]|=1024),Ro(ze),ze[Qn]=ze[Jn]=n,ze[Tr]=a,ze[ci]=v||n&&n[ci],ze[jn]=I||n&&n[jn],ze[Zi]=F||n&&n[Zi]||null,ze[ki]=oe||n&&n[ki]||null,ze[Fr]=g,ze[Qi]=function Kr(){return xr++}(),ze[Js]=Pe,ze[Hr]=2==i.type?n[Hr]:ze,ze}function ac(n,i,a,c,d){let g=n.data[i];if(null===g)g=function ou(n,i,a,c,d){const g=_e(),v=gt(),F=n.data[i]=function K_(n,i,a,c,d,g){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,i,c,d);return null===n.firstChild&&(n.firstChild=F),null!==g&&(v?null==g.child&&null!==F.parent&&(g.child=F):null===g.next&&(g.next=F,F.prev=g)),F}(n,i,a,c,d),function On(){return Vn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=a,g.value=c,g.attrs=d;const v=function je(){const n=Vn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return et(g,!0),g}function lc(n,i,a,c){if(0===a)return-1;const d=i.length;for(let g=0;g<a;g++)i.push(c),n.blueprint.push(c),n.data.push(null);return d}function Jf(n,i,a){ei(i);try{const c=n.viewQuery;null!==c&&cp(1,c,a);const d=n.template;null!==d&&po(n,i,d,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ch(n,i),n.staticViewQueries&&cp(2,n.viewQuery,a);const g=n.components;null!==g&&function tm(n,i){for(let a=0;a<i.length;a++)ty(n,i[a])}(i,g)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[Fn]&=-5,Va()}}function dh(n,i,a,c){const d=i[Fn];if(128!=(128&d)){ei(i);try{Ro(i),function st(n){return Vn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&po(n,i,a,2,c);const v=3==(3&d);if(v){const oe=n.preOrderCheckHooks;null!==oe&&Ut(i,oe,null)}else{const oe=n.preOrderHooks;null!==oe&&dn(i,oe,0,null),pr(i,0)}if(function ey(n){for(let i=ya(n);null!==i;i=Vc(i)){if(!i[Bi])continue;const a=i[Ji];for(let c=0;c<a.length;c++){const d=a[c];512&d[Fn]||$i(d[Qn],1),d[Fn]|=512}}}(i),function J_(n){for(let i=ya(n);null!==i;i=Vc(i))for(let a=Ln;a<i.length;a++){const c=i[a],d=c[en];Os(c)&&dh(d,c,d.template,c[Tr])}}(i),null!==n.contentQueries&&ch(n,i),v){const oe=n.contentCheckHooks;null!==oe&&Ut(i,oe)}else{const oe=n.contentHooks;null!==oe&&dn(i,oe,1),pr(i,1)}!function Qf(n,i){const a=n.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)ko(~d);else{const g=d,v=a[++c],I=a[++c];oi(v,g),I(2,i[g])}}}finally{ko(-1)}}(n,i);const I=n.components;null!==I&&function Xf(n,i){for(let a=0;a<i.length;a++)cm(n,i[a])}(i,I);const F=n.viewQuery;if(null!==F&&cp(2,F,c),v){const oe=n.viewCheckHooks;null!==oe&&Ut(i,oe)}else{const oe=n.viewHooks;null!==oe&&dn(i,oe,2),pr(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Fn]&=-41,512&i[Fn]&&(i[Fn]&=-513,$i(i[Qn],-1))}finally{Va()}}}function po(n,i,a,c,d){const g=bs(),v=2&c;try{ko(-1),v&&i.length>Ir&&$g(n,i,Ir,!1),vi(v?2:0,d),a(c,d)}finally{ko(g),vi(v?3:1,d)}}function ep(n,i,a){if(Dr(i)){const d=i.directiveEnd;for(let g=i.directiveStart;g<d;g++){const v=n.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}function hh(n,i,a){Dn()&&(function rp(n,i,a,c){const d=a.directiveStart,g=a.directiveEnd;es(a)&&function ap(n,i,a){const c=Yr(i,n),d=lu(a),g=n[ci],v=_h(n,uh(n,d,null,a.onPush?32:16,c,i,g,g.createRenderer(c,a),null,null,null));n[i.index]=v}(i,a,n.data[d+a.componentOffset]),n.firstCreatePass||Pn(a,i),Zs(c,i);const v=a.initialInputs;for(let I=d;I<g;I++){const F=n.data[I],oe=No(i,n,I,a);Zs(oe,i),null!==v&&lm(0,I-d,oe,F,0,v),Or(F)&&(Jr(a.index,i)[Tr]=No(i,n,I,a))}}(n,i,a,Yr(a,i)),64==(64&a.flags)&&ph(n,i,a))}function au(n,i,a=Yr){const c=i.localNames;if(null!==c){let d=i.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],I=-1===v?a(i,n):n[v];n[d++]=I}}}function lu(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=ud(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function ud(n,i,a,c,d,g,v,I,F,oe){const Pe=Ir+c,ze=Pe+d,lt=function nm(n,i){const a=[];for(let c=0;c<i;c++)a.push(c<n?null:cr);return a}(Pe,ze),wt="function"==typeof oe?oe():oe;return lt[en]={type:n,blueprint:lt,template:a,queries:null,viewQuery:I,declTNode:i,data:lt.slice().fill(null,Pe),bindingStartIndex:Pe,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:F,consts:wt,incompleteFirstPass:!1}}function rm(n,i,a,c){const d=up(i);null===a?d.push(c):(d.push(a),n.firstCreatePass&&vh(n).push(c,d.length-1))}function im(n,i,a,c){for(let d in n)if(n.hasOwnProperty(d)){a=null===a?{}:a;const g=n[d];null===c?fh(a,i,d,g):c.hasOwnProperty(d)&&fh(a,i,c[d],g)}return a}function fh(n,i,a,c){n.hasOwnProperty(a)?n[a].push(i,c):n[a]=[i,c]}function go(n,i,a,c,d,g,v,I){const F=Yr(i,a);let Pe,oe=i.inputs;!I&&null!=oe&&(Pe=oe[c])?(xl(n,a,Pe,c,d),es(i)&&function tp(n,i){const a=Jr(i,n);16&a[Fn]||(a[Fn]|=32)}(a,i.index)):3&i.type&&(c=function Y_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),d=null!=v?v(d,i.value||"",c):d,g.setProperty(F,c,d))}function uu(n,i,a,c){if(Dn()){const d=null===c?null:{"":-1},g=function am(n,i){const a=n.directiveRegistry;let c=null,d=null;if(a)for(let g=0;g<a.length;g++){const v=a[g];if(Vg(i,v.selectors,!1))if(c||(c=[]),Or(v))if(null!==v.findHostDirectiveDefs){const I=[];d=d||new Map,v.findHostDirectiveDefs(v,I,d),c.unshift(...I,v),ip(n,i,I.length)}else c.unshift(v),ip(n,i,0);else d=d||new Map,v.findHostDirectiveDefs?.(v,c,d),c.push(v)}return null===c?null:[c,d]}(n,a);let v,I;null===g?v=I=null:[v,I]=g,null!==v&&du(n,i,a,v,d,I),d&&function sp(n,i,a){if(i){const c=n.localNames=[];for(let d=0;d<i.length;d+=2){const g=a[i[d+1]];if(null==g)throw new Q(-301,!1);c.push(i[d],g)}}}(a,c,d)}a.mergedAttrs=ha(a.mergedAttrs,a.attrs)}function du(n,i,a,c,d,g){for(let oe=0;oe<c.length;oe++)Qr(Pn(a,i),n,c[oe].type);!function op(n,i,a){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+a,n.providerIndexes=i}(a,n.data.length,c.length);for(let oe=0;oe<c.length;oe++){const Pe=c[oe];Pe.providersResolver&&Pe.providersResolver(Pe)}let v=!1,I=!1,F=lc(n,i,c.length,null);for(let oe=0;oe<c.length;oe++){const Pe=c[oe];a.mergedAttrs=ha(a.mergedAttrs,Pe.hostAttrs),X_(n,a,i,F,Pe),Q_(F,Pe,d),null!==Pe.contentQueries&&(a.flags|=4),(null!==Pe.hostBindings||null!==Pe.hostAttrs||0!==Pe.hostVars)&&(a.flags|=64);const ze=Pe.type.prototype;!v&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(a.index),v=!0),!I&&(ze.ngOnChanges||ze.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(a.index),I=!0),F++}!function Z_(n,i,a){const d=i.directiveEnd,g=n.data,v=i.attrs,I=[];let F=null,oe=null;for(let Pe=i.directiveStart;Pe<d;Pe++){const ze=g[Pe],lt=a?a.get(ze):null,Gt=lt?lt.outputs:null;F=im(ze.inputs,Pe,F,lt?lt.inputs:null),oe=im(ze.outputs,Pe,oe,Gt);const an=null===F||null===v||Lg(i)?null:hu(F,Pe,v);I.push(an)}null!==F&&(F.hasOwnProperty("class")&&(i.flags|=8),F.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=I,i.inputs=F,i.outputs=oe}(n,a,g)}function ph(n,i,a){const c=a.directiveStart,d=a.directiveEnd,g=a.index,v=function oo(){return Vn.lFrame.currentDirectiveIndex}();try{ko(g);for(let I=c;I<d;I++){const F=n.data[I],oe=i[I];Fi(I),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Dl(F,oe)}}finally{ko(-1),Fi(v)}}function Dl(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function ip(n,i,a){i.componentOffset=a,(n.components??(n.components=[])).push(i.index)}function Q_(n,i,a){if(a){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)a[i.exportAs[c]]=n;Or(i)&&(a[""]=n)}}function X_(n,i,a,c,d){n.data[c]=d;const g=d.factory||(d.factory=ls(d.type)),v=new Vt(g,Or(d),Oa);n.blueprint[c]=v,a[c]=v,function np(n,i,a,c,d){const g=d.hostBindings;if(g){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const I=~i.index;(function om(n){let i=n.length;for(;i>0;){const a=n[--i];if("number"==typeof a&&a<0)return a}return 0})(v)!=I&&v.push(I),v.push(a,c,g)}}(n,i,c,lc(n,a,d.hostVars,cr),d)}function Jo(n,i,a,c,d,g){const v=Yr(n,i);!function dd(n,i,a,c,d,g,v){if(null==g)n.removeAttribute(i,d,a);else{const I=null==v?he(g):v(g,c||"",d);n.setAttribute(i,d,I,a)}}(i[jn],v,g,n.value,a,c,d)}function lm(n,i,a,c,d,g){const v=g[i];if(null!==v){const I=c.setInput;for(let F=0;F<v.length;){const oe=v[F++],Pe=v[F++],ze=v[F++];null!==I?c.setInput(a,ze,oe,Pe):a[Pe]=ze}}}function hu(n,i,a){let c=null,d=0;for(;d<a.length;){const g=a[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(n.hasOwnProperty(g)){null===c&&(c=[]);const v=n[g];for(let I=0;I<v.length;I+=2)if(v[I]===i){c.push(g,v[I+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function gh(n,i,a,c){return[n,!0,!1,i,null,0,c,a,null,null]}function cm(n,i){const a=Jr(i,n);if(Os(a)){const c=a[en];48&a[Fn]?dh(c,a,c.template,a[Tr]):a[mi]>0&&mh(a)}}function mh(n){for(let c=ya(n);null!==c;c=Vc(c))for(let d=Ln;d<c.length;d++){const g=c[d];if(Os(g))if(512&g[Fn]){const v=g[en];dh(v,g,v.template,g[Tr])}else g[mi]>0&&mh(g)}const a=n[en].components;if(null!==a)for(let c=0;c<a.length;c++){const d=Jr(a[c],n);Os(d)&&d[mi]>0&&mh(d)}}function ty(n,i){const a=Jr(i,n),c=a[en];(function lp(n,i){for(let a=i.length;a<n.blueprint.length;a++)i.push(n.blueprint[a])})(c,a),Jf(c,a,a[Tr])}function _h(n,i){return n[Ni]?n[os][Mn]=i:n[Ni]=i,n[os]=i,i}function fu(n){for(;n;){n[Fn]|=32;const i=yl(n);if(ys(n)&&!i)return n;n=i}return null}function yh(n,i,a,c=!0){const d=i[ci];d.begin&&d.begin();try{dh(n,i,n.template,a)}catch(v){throw c&&wh(i,v),v}finally{d.end&&d.end()}}function cp(n,i,a){Do(0),i(n,a)}function up(n){return n[Di]||(n[Di]=[])}function vh(n){return n.cleanup||(n.cleanup=[])}function wh(n,i){const a=n[ki],c=a?a.get(Qa,null):null;c&&c.handleError(i)}function xl(n,i,a,c,d){for(let g=0;g<a.length;){const v=a[g++],I=a[g++],F=i[v],oe=n.data[v];null!==oe.setInput?oe.setInput(F,d,c,I):F[I]=d}}function pu(n,i,a){let c=a?n.styles:null,d=a?n.classes:null,g=0;if(null!==i)for(let v=0;v<i.length;v++){const I=i[v];"number"==typeof I?g=I:1==g?d=Ce(d,I):2==g&&(c=Ce(c,I+": "+i[++v]+";"))}a?n.styles=c:n.stylesWithoutHost=c,a?n.classes=d:n.classesWithoutHost=d}function Xa(n,i,a,c,d=!1){for(;null!==a;){const g=i[a.index];if(null!==g&&c.push(Pr(g)),Gr(g))for(let I=Ln;I<g.length;I++){const F=g[I],oe=F[en].firstChild;null!==oe&&Xa(F[en],F,oe,c)}const v=a.type;if(8&v)Xa(n,i,a.child,c);else if(32&v){const I=_l(a,i);let F;for(;F=I();)c.push(F)}else if(16&v){const I=ff(i,a);if(Array.isArray(I))c.push(...I);else{const F=yl(i[Hr]);Xa(F[en],F,I,c,!0)}}a=d?a.projectionNext:a.next}return c}class Ra{get rootNodes(){const i=this._lView,a=i[en];return Xa(a,i,a.firstChild,[])}constructor(i,a){this._lView=i,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tr]}set context(i){this._lView[Tr]=i}get destroyed(){return 128==(128&this._lView[Fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Qn];if(Gr(i)){const a=i[ji],c=a?a.indexOf(this):-1;c>-1&&(Ys(i,c),cl(a,c))}this._attachedToViewContainer=!1}Ls(this._lView[en],this._lView)}onDestroy(i){rm(this._lView[en],this._lView,null,i)}markForCheck(){fu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fn]&=-65}reattach(){this._lView[Fn]|=64}detectChanges(){yh(this._lView[en],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ot(n,i){va(n,i,i[jn],2,null,null)}(this._lView[en],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=i}}class hm extends Ra{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;yh(i[en],i,i[Tr],!1)}checkNoChanges(){}get context(){return null}}class cc extends td{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const a=Nn(i);return new uc(a,this.ngModule)}}function fm(n){const i=[];for(let a in n)n.hasOwnProperty(a)&&i.push({propName:n[a],templateName:a});return i}class dp{constructor(i,a){this.injector=i,this.parentInjector=a}get(i,a,c){c=Pt(c);const d=this.injector.get(i,Uf,c);return d!==Uf||a===Uf?d:this.parentInjector.get(i,a,c)}}class uc extends Al{get inputs(){return fm(this.componentDef.inputs)}get outputs(){return fm(this.componentDef.outputs)}constructor(i,a){super(),this.componentDef=i,this.ngModule=a,this.componentType=i.type,this.selector=function Hg(n){return n.map(jg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!a}create(i,a,c,d){let g=(d=d||this.ngModule)instanceof tc?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new dp(i,g):i,I=v.get(Qd,null);if(null===I)throw new Q(407,!1);const F=v.get(R_,null),oe=I.createRenderer(null,this.componentDef),Pe=this.componentDef.selectors[0][0]||"div",ze=c?function q_(n,i,a){return n.selectRootElement(i,a===Kt.ShadowDom)}(oe,c,this.componentDef.encapsulation):fe(oe,Pe,function ny(n){const i=n.toLowerCase();return"svg"===i?vo:"math"===i?"math":null}(Pe)),lt=this.componentDef.onPush?288:272,wt=ud(0,null,null,1,0,null,null,null,null,null),Gt=uh(null,wt,null,lt,null,null,I,oe,F,v,null);let an,Cn;ei(Gt);try{const xn=this.componentDef;let qn,tn=null;xn.findHostDirectiveDefs?(qn=[],tn=new Map,xn.findHostDirectiveDefs(xn,qn,tn),qn.push(xn)):qn=[xn];const dr=function ry(n,i){const a=n[en],c=Ir;return n[c]=i,ac(a,c,2,"#host",null)}(Gt,ze),is=function iy(n,i,a,c,d,g,v,I){const F=d[en];!function fp(n,i,a,c){for(const d of n)i.mergedAttrs=ha(i.mergedAttrs,d.hostAttrs);null!==i.mergedAttrs&&(pu(i,i.mergedAttrs,!0),null!==a&&dg(c,a,i))}(c,n,i,v);const oe=g.createRenderer(i,a),Pe=uh(d,lu(a),null,a.onPush?32:16,d[n.index],n,g,oe,I||null,null,null);return F.firstCreatePass&&ip(F,n,c.length-1),_h(d,Pe),d[n.index]=Pe}(dr,ze,xn,qn,Gt,I,oe);Cn=wi(wt,Ir),ze&&function sy(n,i,a,c){if(c)zt(n,a,["ng-version",eh.full]);else{const{attrs:d,classes:g}=function F_(n){const i=[],a=[];let c=1,d=2;for(;c<n.length;){let g=n[c];if("string"==typeof g)2===d?""!==g&&i.push(g,n[++c]):8===d&&a.push(g);else{if(!Vo(d))break;d=g}c++}return{attrs:i,classes:a}}(i.selectors[0]);d&&zt(n,a,d),g&&g.length>0&&ug(n,a,g.join(" "))}}(oe,xn,ze,c),void 0!==a&&function gm(n,i,a){const c=n.projection=[];for(let d=0;d<i.length;d++){const g=a[d];c.push(null!=g?Array.from(g):null)}}(Cn,this.ngContentSelectors,a),an=function pp(n,i,a,c,d,g){const v=Er(),I=d[en],F=Yr(v,d);du(I,d,v,a,null,c);for(let Pe=0;Pe<a.length;Pe++)Zs(No(d,I,v.directiveStart+Pe,v),d);ph(I,d,v),F&&Zs(F,d);const oe=No(d,I,v.directiveStart+v.componentOffset,v);if(n[Tr]=d[Tr]=oe,null!==g)for(const Pe of g)Pe(oe,i);return ep(I,v,n),oe}(is,xn,qn,tn,Gt,[oy]),Jf(wt,Gt,null)}finally{Va()}return new hp(this.componentType,an,Tl(Cn,Gt),Gt,Cn)}}class hp extends ed{constructor(i,a,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new hm(d),this.componentType=i}setInput(i,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[i])){const g=this._rootLView;xl(g[en],g,d,i,a),fu(Jr(this._tNode.index,g))}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function oy(){const n=Er();It(jt()[en],n)}function bh(n){let i=function gp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const c=[n];for(;i;){let d;if(Or(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Q(903,!1);d=i.\u0275dir}if(d){if(a){c.push(d);const v=n;v.inputs=Eh(n.inputs),v.declaredInputs=Eh(n.declaredInputs),v.outputs=Eh(n.outputs);const I=d.hostBindings;I&&cy(n,I);const F=d.viewQuery,oe=d.contentQueries;if(F&&ay(n,F),oe&&ly(n,oe),Ee(n.inputs,d.inputs),Ee(n.declaredInputs,d.declaredInputs),Ee(n.outputs,d.outputs),Or(d)&&d.data.animation){const Pe=n.data;Pe.animation=(Pe.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(n),I===bh&&(a=!1)}}i=Object.getPrototypeOf(i)}!function mm(n){let i=0,a=null;for(let c=n.length-1;c>=0;c--){const d=n[c];d.hostVars=i+=d.hostVars,d.hostAttrs=ha(d.hostAttrs,a=ha(a,d.hostAttrs))}}(c)}function Eh(n){return n===En?{}:n===bn?[]:n}function ay(n,i){const a=n.viewQuery;n.viewQuery=a?(c,d)=>{i(c,d),a(c,d)}:i}function ly(n,i){const a=n.contentQueries;n.contentQueries=a?(c,d,g)=>{i(c,d,g),a(c,d,g)}:i}function cy(n,i){const a=n.hostBindings;n.hostBindings=a?(c,d)=>{i(c,d),a(c,d)}:i}function hd(n){return!!wp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function wp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ka(n,i,a){return n[i]=a}function Ao(n,i,a){return!Object.is(n[i],a)&&(n[i]=a,!0)}function Pl(n,i,a,c){const d=jt();return Ao(d,Yt(),i)&&(Xn(),Jo(hi(),d,n,i,a,c)),Pl}function Ml(n,i,a,c){return Ao(n,Yt(),a)?i+he(a)+c:cr}function Sm(n,i,a,c,d,g,v,I){const F=jt(),oe=Xn(),Pe=n+Ir,ze=oe.firstCreatePass?function Am(n,i,a,c,d,g,v,I,F){const oe=i.consts,Pe=ac(i,n,4,v||null,ns(oe,I));uu(i,a,Pe,ns(oe,F)),It(i,Pe);const ze=Pe.tView=ud(2,Pe,c,d,g,i.directiveRegistry,i.pipeRegistry,null,i.schemas,oe);return null!==i.queries&&(i.queries.template(i,Pe),ze.queries=i.queries.embeddedTView(Pe)),Pe}(Pe,oe,F,i,a,c,d,g,v):oe.data[Pe];et(ze,!1);const lt=F[jn].createComment("");Fd(oe,F,lt,ze),Zs(lt,F),_h(F,F[Pe]=gh(lt,F,lt,ze)),as(ze)&&hh(oe,F,ze),null!=v&&au(F,ze,I)}function Tp(n,i,a){const c=jt();return Ao(c,Yt(),i)&&go(Xn(),hi(),c,n,i,c[jn],a,!1),Tp}function fd(n,i,a,c,d){const v=d?"class":"style";xl(n,a,i.inputs[v],v,c)}function vu(n,i,a,c){const d=jt(),g=Xn(),v=Ir+n,I=d[jn],F=g.firstCreatePass?function Ip(n,i,a,c,d,g){const v=i.consts,F=ac(i,n,2,c,ns(v,d));return uu(i,a,F,ns(v,g)),null!==F.attrs&&pu(F,F.attrs,!1),null!==F.mergedAttrs&&pu(F,F.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,F),F}(v,g,d,i,a,c):g.data[v],oe=d[v]=fe(I,i,function xe(){return Vn.lFrame.currentNamespace}()),Pe=as(F);return et(F,!0),dg(I,oe,F),32!=(32&F.flags)&&Fd(g,d,oe,F),0===function B(){return Vn.lFrame.elementDepthCount}()&&Zs(oe,d),function Oe(){Vn.lFrame.elementDepthCount++}(),Pe&&(hh(g,d,F),ep(g,F,d)),null!==c&&au(d,F),vu}function xh(){let n=Er();gt()?function xt(){Vn.lFrame.isParent=!1}():(n=n.parent,et(n,!1));const i=n;!function Dt(){Vn.lFrame.elementDepthCount--}();const a=Xn();return a.firstCreatePass&&(It(a,n),Dr(n)&&a.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Sn(n){return 0!=(8&n.flags)}(i)&&fd(a,i,jt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Gs(n){return 0!=(16&n.flags)}(i)&&fd(a,i,jt(),i.stylesWithoutHost,!1),xh}function Cu(n,i,a,c){return vu(n,i,a,c),xh(),Cu}function Dp(){return jt()}function wu(n){return!!n&&"function"==typeof n.then}function Tm(n){return!!n&&"function"==typeof n.subscribe}const Im=Tm;function xp(n,i,a,c){const d=jt(),g=Xn(),v=Er();return function Rh(n,i,a,c,d,g,v){const I=as(c),oe=n.firstCreatePass&&vh(n),Pe=i[Tr],ze=up(i);let lt=!0;if(3&c.type||v){const an=Yr(c,i),Cn=v?v(an):an,xn=ze.length,qn=v?dr=>v(Pr(dr[c.index])):c.index;let tn=null;if(!v&&I&&(tn=function Oh(n,i,a,c){const d=n.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===c){const I=i[Di],F=d[g+2];return I.length>F?I[F]:null}"string"==typeof v&&(g+=2)}return null}(n,i,d,c.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=g,tn.__ngLastListenerFn__=g,lt=!1;else{g=Nh(c,i,Pe,g,!1);const dr=a.listen(Cn,d,g);ze.push(g,dr),oe&&oe.push(d,qn,xn,xn+1)}}else g=Nh(c,i,Pe,g,!1);const wt=c.outputs;let Gt;if(lt&&null!==wt&&(Gt=wt[d])){const an=Gt.length;if(an)for(let Cn=0;Cn<an;Cn+=2){const is=i[Gt[Cn]][Gt[Cn+1]].subscribe(g),Vs=ze.length;ze.push(g,is),oe&&oe.push(d,c.index,Vs,-(Vs+1))}}}(g,d,d[jn],v,n,i,c),xp}function kh(n,i,a,c){try{return vi(6,i,a),!1!==a(c)}catch(d){return wh(n,d),!1}finally{vi(7,i,a)}}function Nh(n,i,a,c,d){return function g(v){if(v===Function)return c;fu(n.componentOffset>-1?Jr(n.index,i):i);let F=kh(i,a,c,v),oe=g.__ngNextListenerFn__;for(;oe;)F=kh(i,a,oe,v)&&F,oe=oe.__ngNextListenerFn__;return d&&!1===F&&(v.preventDefault(),v.returnValue=!1),F}}function Pp(n=1){return function da(n){return(Vn.lFrame.contextLView=function Sc(n,i){for(;n>0;)i=i[Jn],n--;return i}(n,Vn.lFrame.contextLView))[Tr]}(n)}function pd(n,i,a){return Fh(n,"",i,"",a),pd}function Fh(n,i,a,c,d){const g=jt(),v=Ml(g,i,a,c);return v!==cr&&go(Xn(),hi(),g,n,v,g[jn],d,!1),Fh}function Bh(n,i){return n<<17|i<<2}function el(n){return n>>17&32767}function Np(n){return 2|n}function gc(n){return(131068&n)>>2}function Lp(n,i){return-131069&n|i<<2}function jh(n){return 1|n}function Fp(n,i,a,c,d){const g=n[a+1],v=null===i;let I=c?el(g):gc(g),F=!1;for(;0!==I&&(!1===F||v);){const Pe=n[I+1];Hh(n[I],i)&&(F=!0,n[I+1]=c?jh(Pe):Np(Pe)),I=c?el(Pe):gc(Pe)}F&&(n[a+1]=c?Np(g):jh(g))}function Hh(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&ve(n,i)>=0}function jm(n,i){return function la(n,i,a,c){const d=jt(),g=Xn(),v=function un(n){const i=Vn.lFrame,a=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,a}(2);g.firstUpdatePass&&function Up(n,i,a,c){const d=n.data;if(null===d[a+1]){const g=d[bs()],v=function wy(n,i){return i>=n.expandoStartIndex}(n,a);(function $h(n,i){return 0!=(n.flags&(i?8:16))})(g,c)&&null===i&&!v&&(i=!1),i=function Fv(n,i,a,c){const d=function Mr(n){const i=Vn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let g=c?i.residualClasses:i.residualStyles;if(null===d)0===(c?i.classBindings:i.styleBindings)&&(a=Gh(a=Hm(null,n,i,a,c),i.attrs,c),g=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==d)if(a=Hm(d,n,i,a,c),null===g){let F=function Vv(n,i,a){const c=a?i.classBindings:i.styleBindings;if(0!==gc(c))return n[el(c)]}(n,i,c);void 0!==F&&Array.isArray(F)&&(F=Hm(null,n,i,F[1],c),F=Gh(F,i.attrs,c),function Uv(n,i,a,c){n[el(a?i.classBindings:i.styleBindings)]=c}(n,i,c,F))}else g=function Bv(n,i,a){let c;const d=i.directiveEnd;for(let g=1+i.directiveStylingLast;g<d;g++)c=Gh(c,n[g].hostAttrs,a);return Gh(c,i.attrs,a)}(n,i,c)}return void 0!==g&&(c?i.residualClasses=g:i.residualStyles=g),a}(d,g,i,c),function yy(n,i,a,c,d,g){let v=g?i.classBindings:i.styleBindings,I=el(v),F=gc(v);n[c]=a;let Pe,oe=!1;if(Array.isArray(a)?(Pe=a[1],(null===Pe||ve(a,Pe)>0)&&(oe=!0)):Pe=a,d)if(0!==F){const lt=el(n[I+1]);n[c+1]=Bh(lt,I),0!==lt&&(n[lt+1]=Lp(n[lt+1],c)),n[I+1]=function Mm(n,i){return 131071&n|i<<17}(n[I+1],c)}else n[c+1]=Bh(I,0),0!==I&&(n[I+1]=Lp(n[I+1],c)),I=c;else n[c+1]=Bh(F,0),0===I?I=c:n[F+1]=Lp(n[F+1],c),F=c;oe&&(n[c+1]=Np(n[c+1])),Fp(n,Pe,c,!0),Fp(n,Pe,c,!1),function Rm(n,i,a,c,d){const g=d?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof i&&ve(g,i)>=0&&(a[c+1]=jh(a[c+1]))}(i,Pe,n,c,g),v=Bh(I,F),g?i.classBindings=v:i.styleBindings=v}(d,g,i,a,v,c)}}(g,n,v,c),i!==cr&&Ao(d,v,i)&&function Nl(n,i,a,c,d,g,v,I){if(!(3&i.type))return;const F=n.data,oe=F[I+1],Pe=function my(n){return 1==(1&n)}(oe)?mc(F,i,a,d,gc(oe),v):void 0;jp(Pe)||(jp(g)||function gy(n){return 2==(2&n)}(oe)&&(g=mc(F,null,a,d,I,v)),function cg(n,i,a,c,d){if(i)d?n.addClass(a,c):n.removeClass(a,c);else{let g=-1===c.indexOf("-")?void 0:Ns.DashCase;null==d?n.removeStyle(a,c,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=Ns.Important),n.setStyle(a,c,d,g))}}(c,v,so(bs(),a),d,g))}(g,g.data[bs()],d,d[jn],n,d[v+1]=function Gm(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=De(yr(n)))),n}(i,a),c,v)}(n,i,null,!0),jm}function Hm(n,i,a,c,d){let g=null;const v=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<v&&(g=i[I],c=Gh(c,g.hostAttrs,d),g!==n);)I++;return null!==n&&(a.directiveStylingLast=I),c}function Gh(n,i,a){const c=a?1:2;let d=-1;if(null!==i)for(let g=0;g<i.length;g++){const v=i[g];"number"==typeof v?d=v:d===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),D(n,v,!!a||i[++g]))}return void 0===n?null:n}function mc(n,i,a,c,d,g){const v=null===i;let I;for(;d>0;){const F=n[d],oe=Array.isArray(F),Pe=oe?F[1]:F,ze=null===Pe;let lt=a[d+1];lt===cr&&(lt=ze?bn:void 0);let wt=ze?q(lt,c):Pe===c?lt:void 0;if(oe&&!jp(wt)&&(wt=q(F,c)),jp(wt)&&(I=wt,v))return I;const Gt=n[d+1];d=v?el(Gt):gc(Gt)}if(null!==i){let F=g?i.residualClasses:i.residualStyles;null!=F&&(I=q(F,c))}return I}function jp(n){return void 0!==n}function $m(n,i=""){const a=jt(),c=Xn(),d=n+Ir,g=c.firstCreatePass?ac(c,d,1,i,null):c.data[d],v=a[d]=function p(n,i){return n.createText(i)}(a[jn],i);Fd(c,a,v,g),et(g,!1)}function Hp(n){return yd("",n,""),Hp}function yd(n,i,a){const c=jt(),d=Ml(c,n,i,a);return d!==cr&&function Eo(n,i,a){const c=so(i,n);!function _(n,i,a){n.setValue(i,a)}(n[jn],c,a)}(c,bs(),d),yd}const La=void 0;var Hv=["en",[["a","p"],["AM","PM"],La],[["AM","PM"],La,La],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],La,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],La,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",La,"{1} 'at' {0}",La],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Oy(n){const a=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let tl={};function Jm(n){const i=function e_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=ky(i);if(a)return a;const c=i.split("-")[0];if(a=ky(c),a)return a;if("en"===c)return Hv;throw new Q(701,!1)}function Ry(n){return Jm(n)[Yn.PluralCase]}function ky(n){return n in tl||(tl[n]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[n]),tl[n]}var Yn=(()=>((Yn=Yn||{})[Yn.LocaleId=0]="LocaleId",Yn[Yn.DayPeriodsFormat=1]="DayPeriodsFormat",Yn[Yn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Yn[Yn.DaysFormat=3]="DaysFormat",Yn[Yn.DaysStandalone=4]="DaysStandalone",Yn[Yn.MonthsFormat=5]="MonthsFormat",Yn[Yn.MonthsStandalone=6]="MonthsStandalone",Yn[Yn.Eras=7]="Eras",Yn[Yn.FirstDayOfWeek=8]="FirstDayOfWeek",Yn[Yn.WeekendRange=9]="WeekendRange",Yn[Yn.DateFormat=10]="DateFormat",Yn[Yn.TimeFormat=11]="TimeFormat",Yn[Yn.DateTimeFormat=12]="DateTimeFormat",Yn[Yn.NumberSymbols=13]="NumberSymbols",Yn[Yn.NumberFormats=14]="NumberFormats",Yn[Yn.CurrencyCode=15]="CurrencyCode",Yn[Yn.CurrencySymbol=16]="CurrencySymbol",Yn[Yn.CurrencyName=17]="CurrencyName",Yn[Yn.Currencies=18]="Currencies",Yn[Yn.Directionality=19]="Directionality",Yn[Yn.PluralCase=20]="PluralCase",Yn[Yn.ExtraData=21]="ExtraData",Yn))();const Cc="en-US";let r_=Cc;function Yy(n,i,a,c,d){if(n=A(n),Array.isArray(n))for(let g=0;g<n.length;g++)Yy(n[g],i,a,c,d);else{const g=Xn(),v=jt();let I=Qo(n)?n:A(n.provide),F=El(n);const oe=Er(),Pe=1048575&oe.providerIndexes,ze=oe.directiveStart,lt=oe.providerIndexes>>20;if(Qo(n)||!n.multi){const wt=new Vt(F,d,Oa),Gt=Xy(I,i,d?Pe:Pe+lt,ze);-1===Gt?(Qr(Pn(oe,v),g,I),Qy(g,n,i.length),i.push(I),oe.directiveStart++,oe.directiveEnd++,d&&(oe.providerIndexes+=1048576),a.push(wt),v.push(wt)):(a[Gt]=wt,v[Gt]=wt)}else{const wt=Xy(I,i,Pe+lt,ze),Gt=Xy(I,i,Pe,Pe+lt),Cn=Gt>=0&&a[Gt];if(d&&!Cn||!d&&!(wt>=0&&a[wt])){Qr(Pn(oe,v),g,I);const xn=function zC(n,i,a,c,d){const g=new Vt(n,a,Oa);return g.multi=[],g.index=i,g.componentProviders=0,o0(g,d,c&&!a),g}(d?$C:GC,a.length,d,c,F);!d&&Cn&&(a[Gt].providerFactory=xn),Qy(g,n,i.length,0),i.push(I),oe.directiveStart++,oe.directiveEnd++,d&&(oe.providerIndexes+=1048576),a.push(xn),v.push(xn)}else Qy(g,n,wt>-1?wt:Gt,o0(a[d?Gt:wt],F,!d&&c));!d&&c&&Cn&&a[Gt].componentProviders++}}}function Qy(n,i,a,c){const d=Qo(i),g=function Qu(n){return!!n.useClass}(i);if(d||g){const F=(g?A(i.useClass):i).prototype.ngOnDestroy;if(F){const oe=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const Pe=oe.indexOf(a);-1===Pe?oe.push(a,[c,F]):oe[Pe+1].push(c,F)}else oe.push(a,F)}}}function o0(n,i,a){return a&&n.componentProviders++,n.multi.push(i)-1}function Xy(n,i,a,c){for(let d=a;d<c;d++)if(i[d]===n)return d;return-1}function GC(n,i,a,c){return Jy(this.multi,[])}function $C(n,i,a,c){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=No(a,a[en],this.providerFactory.index,c);g=I.slice(0,v),Jy(d,g);for(let F=v;F<I.length;F++)g.push(I[F])}else g=[],Jy(d,g);return g}function Jy(n,i){for(let a=0;a<n.length;a++)i.push((0,n[a])());return i}function a0(n,i=[]){return a=>{a.providersResolver=(c,d)=>function HC(n,i,a){const c=Xn();if(c.firstCreatePass){const d=Or(n);Yy(a,c.data,c.blueprint,d,!0),Yy(i,c.data,c.blueprint,d,!1)}}(c,d?d(n):n,i)}}class ef{}class l0{}function WC(n,i){return new c0(n,i??null)}class c0 extends ef{constructor(i,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cc(this);const c=tr(i);this._bootstrapComponents=Fo(c.bootstrap),this._r3Injector=qg(i,a,[{provide:ef,useValue:this},{provide:td,useValue:this.componentFactoryResolver}],De(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class ev extends l0{constructor(i){super(),this.moduleType=i}create(i){return new c0(this.moduleType,i)}}class qC extends ef{constructor(i,a,c){super(),this.componentFactoryResolver=new cc(this),this.instance=null;const d=new kf([...i,{provide:ef,useValue:this},{provide:td,useValue:this.componentFactoryResolver}],a||Xu(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function tv(n,i,a=null){return new qC(n,i,a).injector}let KC=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=Ag(0,a.type),d=c.length>0?tv([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Bt({token:n,providedIn:"environment",factory:()=>new n($e(tc))}),n})();function u0(n){n.getStandaloneInjector=i=>i.get(KC).getOrCreateStandaloneInjector(n)}function _0(n,i,a){const c=U()+n,d=jt();return d[c]===cr?ka(d,c,a?i.call(a):i()):function dc(n,i){return n[i]}(d,c)}function y0(n,i,a,c){return v0(jt(),U(),n,i,a,c)}function v0(n,i,a,c,d,g){const v=i+a;return Ao(n,v,d)?ka(n,v+1,g?c.call(g,d):c(d)):function eg(n,i){const a=n[i];return a===cr?void 0:a}(n,v+1)}function A0(n,i){const a=Xn();let c;const d=n+Ir;a.firstCreatePass?(c=function dw(n,i){if(i)for(let a=i.length-1;a>=0;a--){const c=i[a];if(n===c.name)return c}}(i,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const g=c.factory||(c.factory=ls(c.type)),v=Nt(Oa);try{const I=Aa(!1),F=g();return Aa(I),function fy(n,i,a,c){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),i[a]=c}(a,jt(),d,F),F}finally{Nt(v)}}function S0(n,i,a){const c=n+Ir,d=jt(),g=function Gi(n,i){return n[i]}(d,c);return function tg(n,i){return n[en].data[i].pure}(d,c)?v0(d,U(),i,g.transform,a,g):g.transform(a)}function rv(n){return i=>{setTimeout(n,void 0,i)}}const Vl=class mw extends u.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,a,c){let d=i,g=a||(()=>null),v=c;if(i&&"object"==typeof i){const F=i;d=F.next?.bind(F),g=F.error?.bind(F),v=F.complete?.bind(F)}this.__isAsync&&(g=rv(g),d&&(d=rv(d)),v&&(v=rv(v)));const I=super.subscribe({next:d,error:g,complete:v});return i instanceof G.w0&&i.add(I),I}};function _w(){return this._results[Symbol.iterator]()}class iv{get changes(){return this._changes||(this._changes=new Vl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=iv.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=_w)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,a){return this._results.reduce(i,a)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,a){const c=this;c.dirty=!1;const d=function Ws(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function ql(n,i,a){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let d=n[c],g=i[c];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ng=(()=>{class n{}return n.__NG_ELEMENT_ID__=Cw,n})();const yw=ng,vw=class extends yw{constructor(i,a,c){super(),this._declarationLView=i,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(i,a){const c=this._declarationTContainer.tView,d=uh(this._declarationLView,c,i,16,null,c.declTNode,null,null,null,null,a||null);d[vr]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[_i];return null!==v&&(d[_i]=v.createEmbeddedView(c)),Jf(c,d,i),new Ra(d)}};function Cw(){return u_(Er(),jt())}function u_(n,i){return 4&n.type?new vw(i,n,Tl(n,i)):null}let d_=(()=>{class n{}return n.__NG_ELEMENT_ID__=ww,n})();function ww(){return D0(Er(),jt())}const bw=d_,T0=class extends bw{constructor(i,a,c){super(),this._lContainer=i,this._hostTNode=a,this._hostLView=c}get element(){return Tl(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const i=jl(this._hostTNode,this._hostLView);if(Bl(i)){const a=Ea(i,this._hostLView),c=ba(i);return new $o(a[en].data[c+8],a)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const a=I0(this._lContainer);return null!==a&&a[i]||null}get length(){return this._lContainer.length-Ln}createEmbeddedView(i,a,c){let d,g;"number"==typeof c?d=c:null!=c&&(d=c.index,g=c.injector);const v=i.createEmbeddedView(a||{},g);return this.insert(v,d),v}createComponent(i,a,c,d,g){const v=i&&!function ga(n){return"function"==typeof n}(i);let I;if(v)I=a;else{const ze=a||{};I=ze.index,c=ze.injector,d=ze.projectableNodes,g=ze.environmentInjector||ze.ngModuleRef}const F=v?i:new uc(Nn(i)),oe=c||this.parentInjector;if(!g&&null==F.ngModule){const lt=(v?oe:this.parentInjector).get(tc,null);lt&&(g=lt)}const Pe=F.create(oe,d,void 0,g);return this.insert(Pe.hostView,I),Pe}insert(i,a){const c=i._lView,d=c[en];if(function us(n){return Gr(n[Qn])}(c)){const Pe=this.indexOf(i);if(-1!==Pe)this.detach(Pe);else{const ze=c[Qn],lt=new T0(ze,ze[Fr],ze[Qn]);lt.detach(lt.indexOf(i))}}const g=this._adjustIndex(a),v=this._lContainer;!function _n(n,i,a,c){const d=Ln+c,g=a.length;c>0&&(a[d-1][Mn]=i),c<g-Ln?(i[Mn]=a[d],ll(a,Ln+c,i)):(a.push(i),i[Mn]=null),i[Qn]=a;const v=i[vr];null!==v&&a!==v&&function kn(n,i){const a=n[Ji];i[Hr]!==i[Qn][Qn][Hr]&&(n[Bi]=!0),null===a?n[Ji]=[i]:a.push(i)}(v,i);const I=i[_i];null!==I&&I.insertView(n),i[Fn]|=64}(d,c,v,g);const I=Cl(g,v),F=c[jn],oe=sr(F,v[Xi]);return null!==oe&&function ut(n,i,a,c,d,g){c[gi]=d,c[Fr]=i,va(n,c,a,1,d,g)}(d,v[Fr],F,c,oe,I),i.attachToViewContainerRef(),ll(sv(v),g,i),i}move(i,a){return this.insert(i,a)}indexOf(i){const a=I0(this._lContainer);return null!==a?a.indexOf(i):-1}remove(i){const a=this._adjustIndex(i,-1),c=Ys(this._lContainer,a);c&&(cl(sv(this._lContainer),a),Ls(c[en],c))}detach(i){const a=this._adjustIndex(i,-1),c=Ys(this._lContainer,a);return c&&null!=cl(sv(this._lContainer),a)?new Ra(c):null}_adjustIndex(i,a=0){return i??this.length+a}};function I0(n){return n[ji]}function sv(n){return n[ji]||(n[ji]=[])}function D0(n,i){let a;const c=i[n.index];if(Gr(c))a=c;else{let d;if(8&n.type)d=Pr(c);else{const g=i[jn];d=g.createComment("");const v=Yr(n,i);Is(g,sr(g,v),d,function ju(n,i){return n.nextSibling(i)}(g,v),!1)}i[n.index]=a=gh(c,i,d,n),_h(i,a)}return new T0(a,n,i)}class ov{constructor(i){this.queryList=i,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class av{constructor(i=[]){this.queries=i}createEmbeddedView(i){const a=i.queries;if(null!==a){const c=null!==i.contentQueries?i.contentQueries[0]:a.length,d=[];for(let g=0;g<c;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new av(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let a=0;a<this.queries.length;a++)null!==F0(i,a).matches&&this.queries[a].setDirty()}}class x0{constructor(i,a,c=null){this.predicate=i,this.flags=a,this.read=c}}class lv{constructor(i=[]){this.queries=i}elementStart(i,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,a)}elementEnd(i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(i)}embeddedTView(i){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,g=this.getByIndex(c).embeddedTView(i,d);g&&(g.indexInDeclarationView=c,null!==a?a.push(g):a=[g])}return null!==a?new lv(a):null}template(i,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,a)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class cv{constructor(i,a=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(i,a){this.isApplyingToNode(a)&&this.matchTNode(i,a)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,a){this.elementStart(i,a)}embeddedTView(i,a){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,a),new cv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(i,a,Ew(a,g)),this.matchTNodeWithReadOption(i,a,pa(a,i,g,!1,!1))}else c===ng?4&a.type&&this.matchTNodeWithReadOption(i,a,-1):this.matchTNodeWithReadOption(i,a,pa(a,i,c,!1,!1))}matchTNodeWithReadOption(i,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===tu||d===d_||d===ng&&4&a.type)this.addMatch(a.index,-2);else{const g=pa(a,i,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,c)}}addMatch(i,a){null===this.matches?this.matches=[i,a]:this.matches.push(i,a)}}function Ew(n,i){const a=n.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===i)return a[c+1];return null}function Sw(n,i,a,c){return-1===a?function Aw(n,i){return 11&n.type?Tl(n,i):4&n.type?u_(n,i):null}(i,n):-2===a?function Tw(n,i,a){return a===tu?Tl(i,n):a===ng?u_(i,n):a===d_?D0(i,n):void 0}(n,i,c):No(n,n[en],a,i)}function P0(n,i,a,c){const d=i[_i].queries[c];if(null===d.matches){const g=n.data,v=a.matches,I=[];for(let F=0;F<v.length;F+=2){const oe=v[F];I.push(oe<0?null:Sw(i,g[oe],v[F+1],a.metadata.read))}d.matches=I}return d.matches}function uv(n,i,a,c){const d=n.queries.getByIndex(a),g=d.matches;if(null!==g){const v=P0(n,i,d,a);for(let I=0;I<g.length;I+=2){const F=g[I];if(F>0)c.push(v[I/2]);else{const oe=g[I+1],Pe=i[-F];for(let ze=Ln;ze<Pe.length;ze++){const lt=Pe[ze];lt[vr]===lt[Qn]&&uv(lt[en],lt,oe,c)}if(null!==Pe[Ji]){const ze=Pe[Ji];for(let lt=0;lt<ze.length;lt++){const wt=ze[lt];uv(wt[en],wt,oe,c)}}}}}return c}function M0(n){const i=jt(),a=Xn(),c=zr();Do(c+1);const d=F0(a,c);if(n.dirty&&function ua(n){return 4==(4&n[Fn])}(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const g=d.crossesNgTemplate?uv(a,i,c,[]):P0(a,i,d,c);n.reset(g,Vf),n.notifyOnChanges()}return!0}return!1}function O0(n,i,a){const c=Xn();c.firstCreatePass&&(L0(c,new x0(n,i,a),-1),2==(2&i)&&(c.staticViewQueries=!0)),N0(c,jt(),i)}function R0(n,i,a,c){const d=Xn();if(d.firstCreatePass){const g=Er();L0(d,new x0(i,a,c),g.index),function Dw(n,i){const a=n.contentQueries||(n.contentQueries=[]);i!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,i)}(d,n),2==(2&a)&&(d.staticContentQueries=!0)}N0(d,jt(),a)}function k0(){return function Iw(n,i){return n[_i].queries[i].queryList}(jt(),zr())}function N0(n,i,a){const c=new iv(4==(4&a));rm(n,i,c,c.destroy),null===i[_i]&&(i[_i]=new av),i[_i].queries.push(new ov(c))}function L0(n,i,a){null===n.queries&&(n.queries=new lv),n.queries.track(new cv(i,a))}function F0(n,i){return n.queries.getByIndex(i)}function dv(n){return!!tr(n)}function f_(...n){}const tC=new Xr("Application Initializer");let p_=(()=>{class n{constructor(a){this.appInits=a,this.resolve=f_,this.reject=f_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(wu(g))a.push(g);else if(Im(g)){const v=new Promise((I,F)=>{g.subscribe({complete:I,error:F})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)($e(tC,8))},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nC=new Xr("AppId",{providedIn:"root",factory:function rC(){return`${mv()}${mv()}${mv()}`}});function mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iC=new Xr("Platform Initializer"),Zw=new Xr("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Yw=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const g_=new Xr("LocaleId",{providedIn:"root",factory:()=>it(g_,Qe.Optional|Qe.SkipSelf)||function Qw(){return typeof $localize<"u"&&$localize.locale||Cc}()}),Xw=new Xr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Jw{constructor(i,a){this.ngModuleFactory=i,this.componentFactories=a}}let eb=(()=>{class n{compileModuleSync(a){return new ev(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=Fo(tr(a).declarations).reduce((v,I)=>{const F=Nn(I);return F&&v.push(new uc(F)),v},[]);return new Jw(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rb=(()=>Promise.resolve(0))();function _v(n){typeof Zone>"u"?rb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Fa{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vl(!1),this.onMicrotaskEmpty=new Vl(!1),this.onStable=new Vl(!1),this.onError=new Vl(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ib(){let n=pt.requestAnimationFrame,i=pt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function ab(n){const i=()=>{!function ob(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vv(n),n.isCheckStableRunning=!0,yv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,g,v,I)=>{try{return aC(n),a.invokeTask(d,g,v,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&i(),lC(n)}},onInvoke:(a,c,d,g,v,I,F)=>{try{return aC(n),a.invoke(d,g,v,I,F)}finally{n.shouldCoalesceRunChangeDetection&&i(),lC(n)}},onHasTask:(a,c,d,g)=>{a.hasTask(d,g),c===d&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,vv(n),yv(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,c,d,g)=>(a.handleError(d,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fa.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(Fa.isInAngularZone())throw new Q(909,!1)}run(i,a,c){return this._inner.run(i,a,c)}runTask(i,a,c,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,i,sb,f_,f_);try{return g.runTask(v,a,c)}finally{g.cancelTask(v)}}runGuarded(i,a,c){return this._inner.runGuarded(i,a,c)}runOutsideAngular(i){return this._outer.run(i)}}const sb={};function yv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function aC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lC(n){n._nesting--,yv(n)}class lb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vl,this.onMicrotaskEmpty=new Vl,this.onStable=new Vl,this.onError=new Vl}run(i,a,c){return i.apply(a,c)}runGuarded(i,a,c){return i.apply(a,c)}runOutsideAngular(i){return i()}runTask(i,a,c,d){return i.apply(a,c)}}const cC=new Xr(""),uC=new Xr("");let Cv,cb=(()=>{class n{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cv||(function ub(n){Cv=n}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fa.assertNotInAngularZone(),_v(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_v(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return n.\u0275fac=function(a){return new(a||n)($e(Fa),$e(dC),$e(uC))},n.\u0275prov=Bt({token:n,factory:n.\u0275fac}),n})(),dC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Cv?.findTestabilityInTree(this,a,c)??null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ac=!1;let Iu=null;const hC=new Xr("AllowMultipleToken"),wv=new Xr("PlatformDestroyListeners"),fC=new Xr("appBootstrapListener");class fb{constructor(i,a){this.name=i,this.token=a}}function gC(n,i,a=[]){const c=`Platform: ${i}`,d=new Xr(c);return(g=[])=>{let v=bv();if(!v||v.injector.get(hC,!1)){const I=[...a,...g,{provide:d,useValue:!0}];n?n(I):function pb(n){if(Iu&&!Iu.get(hC,!1))throw new Q(400,!1);Iu=n;const i=n.get(_C);(function pC(n){const i=n.get(iC,null);i&&i.forEach(a=>a())})(n)}(function mC(n=[],i){return Il.create({name:i,providers:[{provide:qd,useValue:"platform"},{provide:wv,useValue:new Set([()=>Iu=null])},...n]})}(I,c))}return function mb(n){const i=bv();if(!i)throw new Q(401,!1);return i}()}}function bv(){return Iu?.get(_C)??null}let _C=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function vC(n,i){let a;return a="noop"===n?new lb:("zone.js"===n?void 0:n)||new Fa(i),a}(c?.ngZone,function yC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:Fa,useValue:d}];return d.run(()=>{const v=Il.create({providers:g,parent:this.injector,name:a.moduleType.name}),I=a.create(v),F=I.injector.get(Qa,null);if(!F)throw new Q(402,!1);return d.runOutsideAngular(()=>{const oe=d.onError.subscribe({next:Pe=>{F.handleError(Pe)}});I.onDestroy(()=>{__(this._modules,I),oe.unsubscribe()})}),function CC(n,i,a){try{const c=a();return wu(c)?c.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(F,d,()=>{const oe=I.injector.get(p_);return oe.runInitializers(),oe.donePromise.then(()=>(function Fy(n){Xe(n,"Expected localeId to be defined"),"string"==typeof n&&(r_=n.toLowerCase().replace(/_/g,"-"))}(I.injector.get(g_,Cc)||Cc),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,c=[]){const d=wC({},c);return function db(n,i,a){const c=new ev(a);return Promise.resolve(c)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const c=a.injector.get(m_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Q(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Q(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(wv,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)($e(Il))},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function wC(n,i){return Array.isArray(i)?i.reduce(wC,n):{...n,...i}}let m_=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new ne.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new ne.y(I=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Fa.assertNotInAngularZone(),_v(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const oe=this._zone.onUnstable.subscribe(()=>{Fa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{F.unsubscribe(),oe.unsubscribe()}});this.isStable=function Ve(...n){const i=(0,me.yG)(n),a=(0,me._6)(n,1/0),c=n;return c.length?1===c.length?(0,be.Xf)(c[0]):(0,f.J)(a)((0,Ae.D)(c,i)):Se.E}(g,v.pipe(function Ie(n={}){const{connector:i=(()=>new u.x),resetOnError:a=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=n;return g=>{let v,I,F,oe=0,Pe=!1,ze=!1;const lt=()=>{I?.unsubscribe(),I=void 0},wt=()=>{lt(),v=F=void 0,Pe=ze=!1},Gt=()=>{const an=v;wt(),an?.unsubscribe()};return(0,ue.e)((an,Cn)=>{oe++,!ze&&!Pe&&lt();const xn=F=F??i();Cn.add(()=>{oe--,0===oe&&!ze&&!Pe&&(I=ie(Gt,d))}),xn.subscribe(Cn),!v&&oe>0&&(v=new le.Hp({next:qn=>xn.next(qn),error:qn=>{ze=!0,lt(),I=ie(wt,a,qn),xn.error(qn)},complete:()=>{Pe=!0,lt(),I=ie(wt,c),xn.complete()}}),(0,be.Xf)(an).subscribe(v))})(g)}}()))}bootstrap(a,c){const d=a instanceof Al;if(!this._injector.get(p_).done){!d&&ms(a);throw new Q(405,Ac)}let v;v=d?a:this._injector.get(td).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const I=function hb(n){return n.isBoundToModule}(v)?void 0:this._injector.get(ef),oe=v.create(Il.NULL,[],c||v.selector,I),Pe=oe.location.nativeElement,ze=oe.injector.get(cC,null);return ze?.registerApplication(Pe),oe.onDestroy(()=>{this.detachView(oe.hostView),__(this.components,oe),ze?.unregisterApplication(Pe)}),this._loadComponent(oe),oe}tick(){if(this._runningTick)throw new Q(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;__(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(fC,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>__(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Q(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)($e(Fa),$e(tc),$e(Qa))},n.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function __(n,i){const a=n.indexOf(i);a>-1&&n.splice(a,1)}let yb=(()=>{class n{}return n.__NG_ELEMENT_ID__=vb,n})();function vb(n){return function Cb(n,i,a){if(es(n)&&!a){const c=Jr(n.index,i);return new Ra(c,c)}return 47&n.type?new Ra(i[Hr],i):null}(Er(),jt(),16==(16&n))}class TC{constructor(){}supports(i){return hd(i)}create(i){return new Tb(i)}}const Sb=(n,i)=>i;class Tb{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Sb}forEachItem(i){let a;for(a=this._itHead;null!==a;a=a._next)i(a)}forEachOperation(i){let a=this._itHead,c=this._removalsHead,d=0,g=null;for(;a||c;){const v=!c||a&&a.currentIndex<DC(c,d,g)?a:c,I=DC(v,d,g),F=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const oe=I-d,Pe=F-d;if(oe!=Pe){for(let lt=0;lt<oe;lt++){const wt=lt<g.length?g[lt]:g[lt]=0,Gt=wt+lt;Pe<=Gt&&Gt<oe&&(g[lt]=wt+1)}g[v.previousIndex]=Pe-oe}}I!==F&&i(v,I,F)}}forEachPreviousItem(i){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachMovedItem(i){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}forEachIdentityChange(i){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)i(a)}diff(i){if(null==i&&(i=[]),!hd(i))throw new Q(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,g,v,a=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)g=i[I],v=this._trackByFn(I,g),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,g,v,I)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,I),c=!0),a=a._next}else d=0,function Cp(n,i){if(Array.isArray(n))for(let a=0;a<n.length;a++)i(n[a]);else{const a=n[Symbol.iterator]();let c;for(;!(c=a.next()).done;)i(c.value)}}(i,I=>{v=this._trackByFn(d,I),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,I,v,d)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,v,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,a,c,d){let g;return null===i?g=this._itTail:(g=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._reinsertAfter(i,g,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._moveAfter(i,g,d)):i=this._addAfter(new Ib(a,c),g,d),i}_verifyReinsertion(i,a,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?i=this._reinsertAfter(g,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const a=i._next;this._addToRemovals(this._unlink(i)),i=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,g=i._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(i,a,c),this._addToMoves(i,c),i}_moveAfter(i,a,c){return this._unlink(i),this._insertAfter(i,a,c),this._addToMoves(i,c),i}_addAfter(i,a,c){return this._insertAfter(i,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,a,c){const d=null===a?this._itHead:a._next;return i._next=d,i._prev=a,null===d?this._itTail=i:d._prev=i,null===a?this._itHead=i:a._next=i,null===this._linkedRecords&&(this._linkedRecords=new IC),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const a=i._prev,c=i._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,i}_addToMoves(i,a){return i.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,a){return i.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Ib{constructor(i,a){this.item=i,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Db{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const a=i._prevDup,c=i._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class IC{constructor(){this.map=new Map}put(i){const a=i.trackById;let c=this.map.get(a);c||(c=new Db,this.map.set(a,c)),c.add(i)}get(i,a){const d=this.map.get(i);return d?d.get(i,a):null}remove(i){const a=i.trackById;return this.map.get(a).remove(i)&&this.map.delete(a),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DC(n,i,a){const c=n.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+i+d}class xC{constructor(){}supports(i){return i instanceof Map||wp(i)}create(){return new xb}}class xb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let a;for(a=this._mapHead;null!==a;a=a._next)i(a)}forEachPreviousItem(i){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)i(a)}forEachChangedItem(i){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}diff(i){if(i){if(!(i instanceof Map||wp(i)))throw new Q(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,a){if(i){const c=i._prev;return a._next=i,a._prev=c,i._prev=a,c&&(c._next=a),i===this._mapHead&&(this._mapHead=a),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(i,a){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const c=new Pb(i);return this._records.set(i,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,a){Object.is(a,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=a,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,a){i instanceof Map?i.forEach(a):Object.keys(i).forEach(c=>a(i[c],c))}}class Pb{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PC(){return new Iv([new TC])}let Iv=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||PC()),deps:[[n,new fi,new Nr]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Q(901,!1)}}return n.\u0275prov=Bt({token:n,providedIn:"root",factory:PC}),n})();function MC(){return new Dv([new xC])}let Dv=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||MC()),deps:[[n,new fi,new Nr]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Q(901,!1)}}return n.\u0275prov=Bt({token:n,providedIn:"root",factory:MC}),n})();const Rb=gC(null,"core",[]);let kb=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)($e(m_))},n.\u0275mod=Ii({type:n}),n.\u0275inj=Zt({}),n})();function Nb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Be,R,V)=>{"use strict";V.d(R,{Fj:()=>Y,u5:()=>$i,JJ:()=>dt,On:()=>Qi});var u=V(8256),G=V(6895),ne=V(2076),f=V(9751),be=V(4742),Se=V(8421),me=V(3269),Ae=V(5403),Ve=V(3268),le=V(1810),Ie=V(4004);let ie=(()=>{class Z{constructor(B,Oe){this._renderer=B,this._elementRef=Oe,this.onChange=Dt=>{},this.onTouched=()=>{}}setProperty(B,Oe){this._renderer.setProperty(this._elementRef.nativeElement,B,Oe)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}}return Z.\u0275fac=function(B){return new(B||Z)(u.Y36(u.Qsj),u.Y36(u.SBq))},Z.\u0275dir=u.lG2({type:Z}),Z})(),re=(()=>{class Z extends ie{}return Z.\u0275fac=function(){let z;return function(Oe){return(z||(z=u.n5z(Z)))(Oe||Z)}}(),Z.\u0275dir=u.lG2({type:Z,features:[u.qOj]}),Z})();const Ee=new u.OlP("NgValueAccessor"),ye={provide:Ee,useExisting:(0,u.Gpc)(()=>Y),multi:!0},A=new u.OlP("CompositionEventMode");let Y=(()=>{class Z extends ie{constructor(B,Oe,Dt){super(B,Oe),this._compositionMode=Dt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function P(){const Z=(0,G.q)()?(0,G.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}}return Z.\u0275fac=function(B){return new(B||Z)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(A,8))},Z.\u0275dir=u.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(B,Oe){1&B&&u.NdJ("input",function(Dn){return Oe._handleInput(Dn.target.value)})("blur",function(){return Oe.onTouched()})("compositionstart",function(){return Oe._compositionStart()})("compositionend",function(Dn){return Oe._compositionEnd(Dn.target.value)})},features:[u._Bn([ye]),u.qOj]}),Z})();const pe=!1,Q=new u.OlP("NgValidators"),k=new u.OlP("NgAsyncValidators");function w(Z){return null!=Z}function M(Z){const z=(0,u.QGY)(Z)?(0,ne.D)(Z):Z;if(pe&&!(0,u.CqO)(z)){let B="Expected async validator to return Promise or Observable.";throw"object"==typeof Z&&(B+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,B)}return z}function W(Z){let z={};return Z.forEach(B=>{z=null!=B?{...z,...B}:z}),0===Object.keys(z).length?null:z}function ge(Z,z){return z.map(B=>B(Z))}function ee(Z){return Z.map(z=>function de(Z){return!Z.validate}(z)?z:B=>z.validate(B))}function Ze(Z){return null!=Z?function We(Z){if(!Z)return null;const z=Z.filter(w);return 0==z.length?null:function(B){return W(ge(B,z))}}(ee(Z)):null}function Ke(Z){return null!=Z?function Xe(Z){if(!Z)return null;const z=Z.filter(w);return 0==z.length?null:function(B){return function ue(...Z){const z=(0,me.jO)(Z),{args:B,keys:Oe}=(0,be.D)(Z),Dt=new f.y(Dn=>{const{length:rr}=B;if(!rr)return void Dn.complete();const di=new Array(rr);let jt=rr,Xn=rr;for(let zi=0;zi<rr;zi++){let Pi=!1;(0,Se.Xf)(B[zi]).subscribe((0,Ae.x)(Dn,Er=>{Pi||(Pi=!0,Xn--),di[zi]=Er},()=>jt--,void 0,()=>{(!jt||!Pi)&&(Xn||Dn.next(Oe?(0,le.n)(Oe,di):di),Dn.complete())}))}});return z?Dt.pipe((0,Ve.Z)(z)):Dt}(ge(B,z).map(M)).pipe((0,Ie.U)(W))}}(ee(Z)):null}function mt(Z,z){return null===Z?[z]:Array.isArray(Z)?[...Z,z]:[Z,z]}function Bt(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function kt(Z,z){return Array.isArray(Z)?Z.includes(z):Z===z}function Zt(Z,z){const B=Bt(z);return Bt(Z).forEach(Dt=>{kt(B,Dt)||B.push(Dt)}),B}function mn(Z,z){return Bt(z).filter(B=>!kt(Z,B))}class Xt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(z){this._rawValidators=z||[],this._composedValidatorFn=Ze(this._rawValidators)}_setAsyncValidators(z){this._rawAsyncValidators=z||[],this._composedAsyncValidatorFn=Ke(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(z){this._onDestroyCallbacks.push(z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(z=>z()),this._onDestroyCallbacks=[]}reset(z){this.control&&this.control.reset(z)}hasError(z,B){return!!this.control&&this.control.hasError(z,B)}getError(z,B){return this.control?this.control.getError(z,B):null}}class Jt extends Xt{get formDirective(){return null}get path(){return null}}class Hn extends Xt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _t{constructor(z){this._cd=z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dt=(()=>{class Z extends _t{constructor(B){super(B)}}return Z.\u0275fac=function(B){return new(B||Z)(u.Y36(Hn,2))},Z.\u0275dir=u.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(B,Oe){2&B&&u.ekj("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)},features:[u.qOj]}),Z})();const nr="VALID",ur="INVALID",$e="PENDING",qe="DISABLED";function rt(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}class ft{constructor(z,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(z),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(z){this._rawValidators=this._composedValidatorFn=z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(z){this._rawAsyncValidators=this._composedAsyncValidatorFn=z}get parent(){return this._parent}get valid(){return this.status===nr}get invalid(){return this.status===ur}get pending(){return this.status==$e}get disabled(){return this.status===qe}get enabled(){return this.status!==qe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(z){this._assignValidators(z)}setAsyncValidators(z){this._assignAsyncValidators(z)}addValidators(z){this.setValidators(Zt(z,this._rawValidators))}addAsyncValidators(z){this.setAsyncValidators(Zt(z,this._rawAsyncValidators))}removeValidators(z){this.setValidators(mn(z,this._rawValidators))}removeAsyncValidators(z){this.setAsyncValidators(mn(z,this._rawAsyncValidators))}hasValidator(z){return kt(this._rawValidators,z)}hasAsyncValidator(z){return kt(this._rawAsyncValidators,z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(z={}){this.touched=!0,this._parent&&!z.onlySelf&&this._parent.markAsTouched(z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(z=>z.markAllAsTouched())}markAsUntouched(z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}markAsDirty(z={}){this.pristine=!1,this._parent&&!z.onlySelf&&this._parent.markAsDirty(z)}markAsPristine(z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}markAsPending(z={}){this.status=$e,!1!==z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!z.onlySelf&&this._parent.markAsPending(z)}disable(z={}){const B=this._parentMarkedDirty(z.onlySelf);this.status=qe,this.errors=null,this._forEachChild(Oe=>{Oe.disable({...z,onlySelf:!0})}),this._updateValue(),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...z,skipPristineCheck:B}),this._onDisabledChange.forEach(Oe=>Oe(!0))}enable(z={}){const B=this._parentMarkedDirty(z.onlySelf);this.status=nr,this._forEachChild(Oe=>{Oe.enable({...z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent}),this._updateAncestors({...z,skipPristineCheck:B}),this._onDisabledChange.forEach(Oe=>Oe(!1))}_updateAncestors(z){this._parent&&!z.onlySelf&&(this._parent.updateValueAndValidity(z),z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(z){this._parent=z}getRawValue(){return this.value}updateValueAndValidity(z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nr||this.status===$e)&&this._runAsyncValidator(z.emitEvent)),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.updateValueAndValidity(z)}_updateTreeValidity(z={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qe:nr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(z){if(this.asyncValidator){this.status=$e,this._hasOwnPendingAsyncValidator=!0;const B=M(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(Oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Oe,{emitEvent:z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(z,B={}){this.errors=z,this._updateControlsErrors(!1!==B.emitEvent)}get(z){let B=z;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((Oe,Dt)=>Oe&&Oe._find(Dt),this)}getError(z,B){const Oe=B?this.get(B):this;return Oe&&Oe.errors?Oe.errors[z]:null}hasError(z,B){return!!this.getError(z,B)}get root(){let z=this;for(;z._parent;)z=z._parent;return z}_updateControlsErrors(z){this.status=this._calculateStatus(),z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(z)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?qe:this.errors?ur:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($e)?$e:this._anyControlsHaveStatus(ur)?ur:nr}_anyControlsHaveStatus(z){return this._anyControls(B=>B.status===z)}_anyControlsDirty(){return this._anyControls(z=>z.dirty)}_anyControlsTouched(){return this._anyControls(z=>z.touched)}_updatePristine(z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}_updateTouched(z={}){this.touched=this._anyControlsTouched(),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}_registerOnCollectionChange(z){this._onCollectionChange=z}_setUpdateStrategy(z){rt(z)&&null!=z.updateOn&&(this._updateOn=z.updateOn)}_parentMarkedDirty(z){return!z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(z){return null}_assignValidators(z){this._rawValidators=Array.isArray(z)?z.slice():z,this._composedValidatorFn=function Pt(Z){return Array.isArray(Z)?Ze(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(z){this._rawAsyncValidators=Array.isArray(z)?z.slice():z,this._composedAsyncValidatorFn=function qt(Z){return Array.isArray(Z)?Ke(Z):Z||null}(this._rawAsyncValidators)}}const zn=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Tt}),Tt="always";function Ht(Z,z,B=Tt){(function Wn(Z,z){const B=function Lt(Z){return Z._rawValidators}(Z);null!==z.validator?Z.setValidators(mt(B,z.validator)):"function"==typeof B&&Z.setValidators([B]);const Oe=function $t(Z){return Z._rawAsyncValidators}(Z);null!==z.asyncValidator?Z.setAsyncValidators(mt(Oe,z.asyncValidator)):"function"==typeof Oe&&Z.setAsyncValidators([Oe]);const Dt=()=>Z.updateValueAndValidity();Rn(z._rawValidators,Dt),Rn(z._rawAsyncValidators,Dt)})(Z,z),z.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===B)&&z.valueAccessor.setDisabledState?.(Z.disabled),function fr(Z,z){z.valueAccessor.registerOnChange(B=>{Z._pendingValue=B,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&Ri(Z,z)})}(Z,z),function ss(Z,z){const B=(Oe,Dt)=>{z.valueAccessor.writeValue(Oe),Dt&&z.viewToModelUpdate(Oe)};Z.registerOnChange(B),z._registerOnDestroy(()=>{Z._unregisterOnChange(B)})}(Z,z),function Ii(Z,z){z.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&Ri(Z,z),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,z),function Bn(Z,z){if(z.valueAccessor.setDisabledState){const B=Oe=>{z.valueAccessor.setDisabledState(Oe)};Z.registerOnDisabledChange(B),z._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(B)})}}(Z,z)}function Rn(Z,z){Z.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(z)})}function Ri(Z,z){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),z.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function Fr(Z,z){const B=Z.indexOf(z);B>-1&&Z.splice(B,1)}function Di(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const Tr=class extends ft{constructor(z=null,B,Oe){super(function it(Z){return(rt(Z)?Z.validators:Z)||null}(B),function vt(Z,z){return(rt(z)?z.asyncValidators:Z)||null}(Oe,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(z),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rt(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=Di(z)?z.value:z)}setValue(z,B={}){this.value=this._pendingValue=z,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(Oe=>Oe(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(z,B={}){this.setValue(z,B)}reset(z=this.defaultValue,B={}){this._applyFormState(z),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(z){this._onChange.push(z)}_unregisterOnChange(z){Fr(this._onChange,z)}registerOnDisabledChange(z){this._onDisabledChange.push(z)}_unregisterOnDisabledChange(z){Fr(this._onDisabledChange,z)}_forEachChild(z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(z){Di(z)?(this.value=this._pendingValue=z.value,z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=z}},Yi={provide:Hn,useExisting:(0,u.Gpc)(()=>Qi)},_i=(()=>Promise.resolve())();let Qi=(()=>{class Z extends Hn{constructor(B,Oe,Dt,Dn,rr,di){super(),this._changeDetectorRef=rr,this.callSetDisabledState=di,this.control=new Tr,this._registered=!1,this.update=new u.vpe,this._parent=B,this._setValidators(Oe),this._setAsyncValidators(Dt),this.valueAccessor=function gi(Z,z){if(!z)return null;let B,Oe,Dt;return Array.isArray(z),z.forEach(Dn=>{Dn.constructor===Y?B=Dn:function Vi(Z){return Object.getPrototypeOf(Z.constructor)===re}(Dn)?Oe=Dn:Dt=Dn}),Dt||Oe||B||null}(0,Dn)}ngOnChanges(B){if(this._checkForErrors(),!this._registered||"name"in B){if(this._registered&&(this._checkName(),this.formDirective)){const Oe=B.name.previousValue;this.formDirective.removeControl({name:Oe,path:this._getPath(Oe)})}this._setUpControl()}"isDisabled"in B&&this._updateDisabled(B),function ii(Z,z){if(!Z.hasOwnProperty("model"))return!1;const B=Z.model;return!!B.isFirstChange()||!Object.is(z,B.currentValue)}(B,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ht(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(B){_i.then(()=>{this.control.setValue(B,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(B){const Oe=B.isDisabled.currentValue,Dt=0!==Oe&&(0,u.D6c)(Oe);_i.then(()=>{Dt&&!this.control.disabled?this.control.disable():!Dt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(B){return this._parent?function Ct(Z,z){return[...z.path,Z]}(B,this._parent):[B]}}return Z.\u0275fac=function(B){return new(B||Z)(u.Y36(Jt,9),u.Y36(Q,10),u.Y36(k,10),u.Y36(Ee,10),u.Y36(u.sBO,8),u.Y36(zn,8))},Z.\u0275dir=u.lG2({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Yi]),u.qOj,u.TTD]}),Z})(),Xi=(()=>{class Z{}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275mod=u.oAB({type:Z}),Z.\u0275inj=u.cJS({}),Z})(),Ci=(()=>{class Z{}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275mod=u.oAB({type:Z}),Z.\u0275inj=u.cJS({imports:[Xi]}),Z})(),$i=(()=>{class Z{static withConfig(B){return{ngModule:Z,providers:[{provide:zn,useValue:B.callSetDisabledState??Tt}]}}}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275mod=u.oAB({type:Z}),Z.\u0275inj=u.cJS({imports:[Ci]}),Z})()},1481:(Be,R,V)=>{"use strict";V.d(R,{Dx:()=>At,b2:()=>Hn,q6:()=>Zt});var u=V(6895),G=V(8256);class ne extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f extends ne{static makeCurrent(){(0,u.HT)(new f)}onAndCancel(tt,Ge,ft){return tt.addEventListener(Ge,ft,!1),()=>{tt.removeEventListener(Ge,ft,!1)}}dispatchEvent(tt,Ge){tt.dispatchEvent(Ge)}remove(tt){tt.parentNode&&tt.parentNode.removeChild(tt)}createElement(tt,Ge){return(Ge=Ge||this.getDefaultDocument()).createElement(tt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(tt){return tt.nodeType===Node.ELEMENT_NODE}isShadowRoot(tt){return tt instanceof DocumentFragment}getGlobalEventTarget(tt,Ge){return"window"===Ge?window:"document"===Ge?tt:"body"===Ge?tt.body:null}getBaseHref(tt){const Ge=function Se(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==Ge?null:function Ae(rt){me=me||document.createElement("a"),me.setAttribute("href",rt);const tt=me.pathname;return"/"===tt.charAt(0)?tt:`/${tt}`}(Ge)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(tt){return(0,u.Mx)(document.cookie,tt)}}let me,be=null;const Ve=new G.OlP("TRANSITION_ID"),ue=[{provide:G.ip1,useFactory:function le(rt,tt,Ge){return()=>{Ge.get(G.CZH).donePromise.then(()=>{const ft=(0,u.q)(),Rt=tt.querySelectorAll(`style[ng-transition="${rt}"]`);for(let Kt=0;Kt<Rt.length;Kt++)ft.remove(Rt[Kt])})}},deps:[Ve,u.K0,G.zs3],multi:!0}];let ie=(()=>{class rt{build(){return new XMLHttpRequest}}return rt.\u0275fac=function(Ge){return new(Ge||rt)},rt.\u0275prov=G.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const re=new G.OlP("EventManagerPlugins");let Ee=(()=>{class rt{constructor(Ge,ft){this._zone=ft,this._eventNameToPlugin=new Map,Ge.forEach(Rt=>{Rt.manager=this}),this._plugins=Ge.slice().reverse()}addEventListener(Ge,ft,Rt){return this._findPluginFor(ft).addEventListener(Ge,ft,Rt)}addGlobalEventListener(Ge,ft,Rt){return this._findPluginFor(ft).addGlobalEventListener(Ge,ft,Rt)}getZone(){return this._zone}_findPluginFor(Ge){const ft=this._eventNameToPlugin.get(Ge);if(ft)return ft;const Rt=this._plugins;for(let Kt=0;Kt<Rt.length;Kt++){const En=Rt[Kt];if(En.supports(Ge))return this._eventNameToPlugin.set(Ge,En),En}throw new Error(`No event manager plugin found for event ${Ge}`)}}return rt.\u0275fac=function(Ge){return new(Ge||rt)(G.LFG(re),G.LFG(G.R0b))},rt.\u0275prov=G.Yz7({token:rt,factory:rt.\u0275fac}),rt})();class De{constructor(tt){this._doc=tt}addGlobalEventListener(tt,Ge,ft){const Rt=(0,u.q)().getGlobalEventTarget(this._doc,tt);if(!Rt)throw new Error(`Unsupported event target ${Rt} for event ${Ge}`);return this.addEventListener(Rt,Ge,ft)}}let Ce=(()=>{class rt{constructor(){this.usageCount=new Map}addStyles(Ge){for(const ft of Ge)1===this.changeUsageCount(ft,1)&&this.onStyleAdded(ft)}removeStyles(Ge){for(const ft of Ge)0===this.changeUsageCount(ft,-1)&&this.onStyleRemoved(ft)}onStyleRemoved(Ge){}onStyleAdded(Ge){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Ge,ft){const Rt=this.usageCount;let Kt=Rt.get(Ge)??0;return Kt+=ft,Kt>0?Rt.set(Ge,Kt):Rt.delete(Ge),Kt}ngOnDestroy(){for(const Ge of this.getAllStyles())this.onStyleRemoved(Ge);this.usageCount.clear()}}return rt.\u0275fac=function(Ge){return new(Ge||rt)},rt.\u0275prov=G.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),ye=(()=>{class rt extends Ce{constructor(Ge){super(),this.doc=Ge,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Ge){for(const ft of this.hostNodes)this.addStyleToHost(ft,Ge)}onStyleRemoved(Ge){const ft=this.styleRef;ft.get(Ge)?.forEach(Kt=>Kt.remove()),ft.delete(Ge)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Ge){this.hostNodes.add(Ge);for(const ft of this.getAllStyles())this.addStyleToHost(Ge,ft)}removeHost(Ge){this.hostNodes.delete(Ge)}addStyleToHost(Ge,ft){const Rt=this.doc.createElement("style");Rt.textContent=ft,Ge.appendChild(Rt);const Kt=this.styleRef.get(ft);Kt?Kt.push(Rt):this.styleRef.set(ft,[Rt])}resetHostNodes(){const Ge=this.hostNodes;Ge.clear(),Ge.add(this.doc.head)}}return rt.\u0275fac=function(Ge){return new(Ge||rt)(G.LFG(u.K0))},rt.\u0275prov=G.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const P={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},A=/%COMP%/g,k=new G.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ke(rt,tt){return tt.flat(100).map(Ge=>Ge.replace(A,rt))}function He(rt){return tt=>{if("__ngUnwrap__"===tt)return rt;!1===rt(tt)&&(tt.preventDefault(),tt.returnValue=!1)}}let Ue=(()=>{class rt{constructor(Ge,ft,Rt,Kt){this.eventManager=Ge,this.sharedStylesHost=ft,this.appId=Rt,this.removeStylesOnCompDestory=Kt,this.rendererByCompId=new Map,this.defaultRenderer=new ot(Ge)}createRenderer(Ge,ft){if(!Ge||!ft)return this.defaultRenderer;const Rt=this.getOrCreateRenderer(Ge,ft);return Rt instanceof w?Rt.applyToHost(Ge):Rt instanceof N&&Rt.applyStyles(),Rt}getOrCreateRenderer(Ge,ft){const Rt=this.rendererByCompId;let Kt=Rt.get(ft.id);if(!Kt){const En=this.eventManager,bn=this.sharedStylesHost,hr=this.removeStylesOnCompDestory;switch(ft.encapsulation){case G.ifc.Emulated:Kt=new w(En,bn,ft,this.appId,hr);break;case G.ifc.ShadowDom:return new $(En,bn,Ge,ft);default:Kt=new N(En,bn,ft,hr)}Kt.onDestroy=()=>Rt.delete(ft.id),Rt.set(ft.id,Kt)}return Kt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return rt.\u0275fac=function(Ge){return new(Ge||rt)(G.LFG(Ee),G.LFG(ye),G.LFG(G.AFp),G.LFG(k))},rt.\u0275prov=G.Yz7({token:rt,factory:rt.\u0275fac}),rt})();class ot{constructor(tt){this.eventManager=tt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(tt,Ge){return Ge?document.createElementNS(P[Ge]||Ge,tt):document.createElement(tt)}createComment(tt){return document.createComment(tt)}createText(tt){return document.createTextNode(tt)}appendChild(tt,Ge){(H(tt)?tt.content:tt).appendChild(Ge)}insertBefore(tt,Ge,ft){tt&&(H(tt)?tt.content:tt).insertBefore(Ge,ft)}removeChild(tt,Ge){tt&&tt.removeChild(Ge)}selectRootElement(tt,Ge){let ft="string"==typeof tt?document.querySelector(tt):tt;if(!ft)throw new Error(`The selector "${tt}" did not match any elements`);return Ge||(ft.textContent=""),ft}parentNode(tt){return tt.parentNode}nextSibling(tt){return tt.nextSibling}setAttribute(tt,Ge,ft,Rt){if(Rt){Ge=Rt+":"+Ge;const Kt=P[Rt];Kt?tt.setAttributeNS(Kt,Ge,ft):tt.setAttribute(Ge,ft)}else tt.setAttribute(Ge,ft)}removeAttribute(tt,Ge,ft){if(ft){const Rt=P[ft];Rt?tt.removeAttributeNS(Rt,Ge):tt.removeAttribute(`${ft}:${Ge}`)}else tt.removeAttribute(Ge)}addClass(tt,Ge){tt.classList.add(Ge)}removeClass(tt,Ge){tt.classList.remove(Ge)}setStyle(tt,Ge,ft,Rt){Rt&(G.JOm.DashCase|G.JOm.Important)?tt.style.setProperty(Ge,ft,Rt&G.JOm.Important?"important":""):tt.style[Ge]=ft}removeStyle(tt,Ge,ft){ft&G.JOm.DashCase?tt.style.removeProperty(Ge):tt.style[Ge]=""}setProperty(tt,Ge,ft){tt[Ge]=ft}setValue(tt,Ge){tt.nodeValue=Ge}listen(tt,Ge,ft){return"string"==typeof tt?this.eventManager.addGlobalEventListener(tt,Ge,He(ft)):this.eventManager.addEventListener(tt,Ge,He(ft))}}function H(rt){return"TEMPLATE"===rt.tagName&&void 0!==rt.content}class $ extends ot{constructor(tt,Ge,ft,Rt){super(tt),this.sharedStylesHost=Ge,this.hostEl=ft,this.shadowRoot=ft.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kt=ke(Rt.id,Rt.styles);for(const En of Kt){const bn=document.createElement("style");bn.textContent=En,this.shadowRoot.appendChild(bn)}}nodeOrShadowRoot(tt){return tt===this.hostEl?this.shadowRoot:tt}appendChild(tt,Ge){return super.appendChild(this.nodeOrShadowRoot(tt),Ge)}insertBefore(tt,Ge,ft){return super.insertBefore(this.nodeOrShadowRoot(tt),Ge,ft)}removeChild(tt,Ge){return super.removeChild(this.nodeOrShadowRoot(tt),Ge)}parentNode(tt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(tt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class N extends ot{constructor(tt,Ge,ft,Rt,Kt=ft.id){super(tt),this.sharedStylesHost=Ge,this.removeStylesOnCompDestory=Rt,this.rendererUsageCount=0,this.styles=ke(Kt,ft.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class w extends N{constructor(tt,Ge,ft,Rt,Kt){const En=Rt+"-"+ft.id;super(tt,Ge,ft,Kt,En),this.contentAttr=function he(rt){return"_ngcontent-%COMP%".replace(A,rt)}(En),this.hostAttr=function Te(rt){return"_nghost-%COMP%".replace(A,rt)}(En)}applyToHost(tt){this.applyStyles(),this.setAttribute(tt,this.hostAttr,"")}createElement(tt,Ge){const ft=super.createElement(tt,Ge);return super.setAttribute(ft,this.contentAttr,""),ft}}let M=(()=>{class rt extends De{constructor(Ge){super(Ge)}supports(Ge){return!0}addEventListener(Ge,ft,Rt){return Ge.addEventListener(ft,Rt,!1),()=>this.removeEventListener(Ge,ft,Rt)}removeEventListener(Ge,ft,Rt){return Ge.removeEventListener(ft,Rt)}}return rt.\u0275fac=function(Ge){return new(Ge||rt)(G.LFG(u.K0))},rt.\u0275prov=G.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const W=["alt","control","meta","shift"],ge={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},de={alt:rt=>rt.altKey,control:rt=>rt.ctrlKey,meta:rt=>rt.metaKey,shift:rt=>rt.shiftKey};let ee=(()=>{class rt extends De{constructor(Ge){super(Ge)}supports(Ge){return null!=rt.parseEventName(Ge)}addEventListener(Ge,ft,Rt){const Kt=rt.parseEventName(ft),En=rt.eventCallback(Kt.fullKey,Rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(Ge,Kt.domEventName,En))}static parseEventName(Ge){const ft=Ge.toLowerCase().split("."),Rt=ft.shift();if(0===ft.length||"keydown"!==Rt&&"keyup"!==Rt)return null;const Kt=rt._normalizeKey(ft.pop());let En="",bn=ft.indexOf("code");if(bn>-1&&(ft.splice(bn,1),En="code."),W.forEach(zn=>{const Tt=ft.indexOf(zn);Tt>-1&&(ft.splice(Tt,1),En+=zn+".")}),En+=Kt,0!=ft.length||0===Kt.length)return null;const hr={};return hr.domEventName=Rt,hr.fullKey=En,hr}static matchEventFullKeyCode(Ge,ft){let Rt=ge[Ge.key]||Ge.key,Kt="";return ft.indexOf("code.")>-1&&(Rt=Ge.code,Kt="code."),!(null==Rt||!Rt)&&(Rt=Rt.toLowerCase()," "===Rt?Rt="space":"."===Rt&&(Rt="dot"),W.forEach(En=>{En!==Rt&&(0,de[En])(Ge)&&(Kt+=En+".")}),Kt+=Rt,Kt===ft)}static eventCallback(Ge,ft,Rt){return Kt=>{rt.matchEventFullKeyCode(Kt,Ge)&&Rt.runGuarded(()=>ft(Kt))}}static _normalizeKey(Ge){return"esc"===Ge?"escape":Ge}}return rt.\u0275fac=function(Ge){return new(Ge||rt)(G.LFG(u.K0))},rt.\u0275prov=G.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const Zt=(0,G.eFA)(G._c5,"browser",[{provide:G.Lbi,useValue:u.bD},{provide:G.g9A,useValue:function Lt(){f.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function Bt(){return(0,G.RDi)(document),document},deps:[]}]),mn=new G.OlP(""),Xt=[{provide:G.rWj,useClass:class Ie{addToWindow(tt){G.dqk.getAngularTestability=(ft,Rt=!0)=>{const Kt=tt.findTestabilityInTree(ft,Rt);if(null==Kt)throw new Error("Could not find testability for element.");return Kt},G.dqk.getAllAngularTestabilities=()=>tt.getAllTestabilities(),G.dqk.getAllAngularRootElements=()=>tt.getAllRootElements(),G.dqk.frameworkStabilizers||(G.dqk.frameworkStabilizers=[]),G.dqk.frameworkStabilizers.push(ft=>{const Rt=G.dqk.getAllAngularTestabilities();let Kt=Rt.length,En=!1;const bn=function(hr){En=En||hr,Kt--,0==Kt&&ft(En)};Rt.forEach(function(hr){hr.whenStable(bn)})})}findTestabilityInTree(tt,Ge,ft){return null==Ge?null:tt.getTestability(Ge)??(ft?(0,u.q)().isShadowRoot(Ge)?this.findTestabilityInTree(tt,Ge.host,!0):this.findTestabilityInTree(tt,Ge.parentElement,!0):null)}},deps:[]},{provide:G.lri,useClass:G.dDg,deps:[G.R0b,G.eoX,G.rWj]},{provide:G.dDg,useClass:G.dDg,deps:[G.R0b,G.eoX,G.rWj]}],Jt=[{provide:G.zSh,useValue:"root"},{provide:G.qLn,useFactory:function $t(){return new G.qLn},deps:[]},{provide:re,useClass:M,multi:!0,deps:[u.K0,G.R0b,G.Lbi]},{provide:re,useClass:ee,multi:!0,deps:[u.K0]},{provide:Ue,useClass:Ue,deps:[Ee,ye,G.AFp,k]},{provide:G.FYo,useExisting:Ue},{provide:Ce,useExisting:ye},{provide:ye,useClass:ye,deps:[u.K0]},{provide:Ee,useClass:Ee,deps:[re,G.R0b]},{provide:u.JF,useClass:ie,deps:[]},[]];let Hn=(()=>{class rt{constructor(Ge){}static withServerTransition(Ge){return{ngModule:rt,providers:[{provide:G.AFp,useValue:Ge.appId},{provide:Ve,useExisting:G.AFp},ue]}}}return rt.\u0275fac=function(Ge){return new(Ge||rt)(G.LFG(mn,12))},rt.\u0275mod=G.oAB({type:rt}),rt.\u0275inj=G.cJS({providers:[...Jt,...Xt],imports:[u.ez,G.hGG]}),rt})(),At=(()=>{class rt{constructor(Ge){this._doc=Ge}getTitle(){return this._doc.title}setTitle(Ge){this._doc.title=Ge||""}}return rt.\u0275fac=function(Ge){return new(Ge||rt)(G.LFG(u.K0))},rt.\u0275prov=G.Yz7({token:rt,factory:function(Ge){let ft=null;return ft=Ge?new Ge:function dt(){return new At((0,G.LFG)(u.K0))}(),ft},providedIn:"root"}),rt})();typeof window<"u"&&window},5087:(Be,R,V)=>{"use strict";V.d(R,{gz:()=>vs,m2:()=>Zi,F0:()=>Ei,rH:()=>xo,Bz:()=>Wl,lC:()=>Bs,Xs:()=>ji});var u=V(8256),G=V(2076),ne=V(9646),f=V(1135);const Se=(0,V(3888).d)(C=>function(){C(this),this.name="EmptyError",this.message="no elements in sequence"});var me=V(9751),Ae=V(4742),Ve=V(4671),le=V(3268),ue=V(3269),Ie=V(1810),ie=V(5403),re=V(9672);function Ee(...C){const b=(0,ue.yG)(C),y=(0,ue.jO)(C),{args:D,keys:q}=(0,Ae.D)(C);if(0===D.length)return(0,G.D)([],b);const ve=new me.y(function De(C,b,y=Ve.y){return D=>{Ce(b,()=>{const{length:q}=C,ve=new Array(q);let Le=q,at=q;for(let Mt=0;Mt<q;Mt++)Ce(b,()=>{const sn=(0,G.D)(C[Mt],b);let gn=!1;sn.subscribe((0,ie.x)(D,lr=>{ve[Mt]=lr,gn||(gn=!0,at--),at||D.next(y(ve.slice()))},()=>{--Le||D.complete()}))},D)},D)}}(D,b,q?Le=>(0,Ie.n)(q,Le):Ve.y));return y?ve.pipe((0,le.Z)(y)):ve}function Ce(C,b,y){C?(0,re.f)(y,C,b):b()}var ye=V(7272),P=V(8421);function A(C){return new me.y(b=>{(0,P.Xf)(C()).subscribe(b)})}var Y=V(9635),pe=V(576);function J(C,b){const y=(0,pe.m)(C)?C:()=>C,D=q=>q.error(y());return new me.y(b?q=>b.schedule(D,0,q):D)}var Re=V(515),Q=V(727),k=V(4482);function he(){return(0,k.e)((C,b)=>{let y=null;C._refCount++;const D=(0,ie.x)(b,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(y=null);const q=C._connection,ve=y;y=null,q&&(!ve||q===ve)&&q.unsubscribe(),b.unsubscribe()});C.subscribe(D),D.closed||(y=C.connect())})}class Te extends me.y{constructor(b,y){super(),this.source=b,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,k.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new Q.w0;const y=this.getSubject();b.add(this.source.subscribe((0,ie.x)(y,void 0,()=>{this._teardown(),y.complete()},D=>{this._teardown(),y.error(D)},()=>this._teardown()))),b.closed&&(this._connection=null,b=Q.w0.EMPTY)}return b}refCount(){return he()(this)}}var ke=V(7579),He=V(6895),Ue=V(4004);function ot(C,b){return(0,k.e)((y,D)=>{let q=null,ve=0,Le=!1;const at=()=>Le&&!q&&D.complete();y.subscribe((0,ie.x)(D,Mt=>{q?.unsubscribe();let sn=0;const gn=ve++;(0,P.Xf)(C(Mt,gn)).subscribe(q=(0,ie.x)(D,lr=>D.next(b?b(Mt,lr,gn,sn++):lr),()=>{q=null,at()}))},()=>{Le=!0,at()}))})}var we=V(5698),H=V(9300),$=V(5577);function N(C){return(0,k.e)((b,y)=>{let D=!1;b.subscribe((0,ie.x)(y,q=>{D=!0,y.next(q)},()=>{D||y.next(C),y.complete()}))})}function w(C=M){return(0,k.e)((b,y)=>{let D=!1;b.subscribe((0,ie.x)(y,q=>{D=!0,y.next(q)},()=>D?y.complete():y.error(C())))})}function M(){return new Se}function W(C,b){const y=arguments.length>=2;return D=>D.pipe(C?(0,H.h)((q,ve)=>C(q,ve,D)):Ve.y,(0,we.q)(1),y?N(b):w(()=>new Se))}var ge=V(4351);function de(C,b,y){const D=(0,pe.m)(C)||b||y?{next:C,error:b,complete:y}:C;return D?(0,k.e)((q,ve)=>{var Le;null===(Le=D.subscribe)||void 0===Le||Le.call(D);let at=!0;q.subscribe((0,ie.x)(ve,Mt=>{var sn;null===(sn=D.next)||void 0===sn||sn.call(D,Mt),ve.next(Mt)},()=>{var Mt;at=!1,null===(Mt=D.complete)||void 0===Mt||Mt.call(D),ve.complete()},Mt=>{var sn;at=!1,null===(sn=D.error)||void 0===sn||sn.call(D,Mt),ve.error(Mt)},()=>{var Mt,sn;at&&(null===(Mt=D.unsubscribe)||void 0===Mt||Mt.call(D)),null===(sn=D.finalize)||void 0===sn||sn.call(D)}))}):Ve.y}function ee(C){return(0,k.e)((b,y)=>{let ve,D=null,q=!1;D=b.subscribe((0,ie.x)(y,void 0,void 0,Le=>{ve=(0,P.Xf)(C(Le,ee(C)(b))),D?(D.unsubscribe(),D=null,ve.subscribe(y)):q=!0})),q&&(D.unsubscribe(),D=null,ve.subscribe(y))})}function Ze(C,b){return(0,k.e)(function We(C,b,y,D,q){return(ve,Le)=>{let at=y,Mt=b,sn=0;ve.subscribe((0,ie.x)(Le,gn=>{const lr=sn++;Mt=at?C(Mt,gn,lr):(at=!0,gn),D&&Le.next(Mt)},q&&(()=>{at&&Le.next(Mt),Le.complete()})))}}(C,b,arguments.length>=2,!0))}function Xe(C){return C<=0?()=>Re.E:(0,k.e)((b,y)=>{let D=[];b.subscribe((0,ie.x)(y,q=>{D.push(q),C<D.length&&D.shift()},()=>{for(const q of D)y.next(q);y.complete()},void 0,()=>{D=null}))})}function Ke(C,b){const y=arguments.length>=2;return D=>D.pipe(C?(0,H.h)((q,ve)=>C(q,ve,D)):Ve.y,Xe(1),y?N(b):w(()=>new Se))}var Lt=V(9718);function $t(C){return(0,k.e)((b,y)=>{try{b.subscribe(y)}finally{y.add(C)}})}var Bt=V(8189),kt=V(1481);const Zt="primary",mn=Symbol("RouteTitle");class Xt{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y[0]:y}return null}getAll(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Jt(C){return new Xt(C)}function Hn(C,b,y){const D=y.path.split("/");if(D.length>C.length||"full"===y.pathMatch&&(b.hasChildren()||D.length<C.length))return null;const q={};for(let ve=0;ve<D.length;ve++){const Le=D[ve],at=C[ve];if(Le.startsWith(":"))q[Le.substring(1)]=at;else if(Le!==at.path)return null}return{consumed:C.slice(0,D.length),posParams:q}}function Me(C,b){const y=C?Object.keys(C):void 0,D=b?Object.keys(b):void 0;if(!y||!D||y.length!=D.length)return!1;let q;for(let ve=0;ve<y.length;ve++)if(q=y[ve],!nt(C[q],b[q]))return!1;return!0}function nt(C,b){if(Array.isArray(C)&&Array.isArray(b)){if(C.length!==b.length)return!1;const y=[...C].sort(),D=[...b].sort();return y.every((q,ve)=>D[ve]===q)}return C===b}function dt(C){return Array.prototype.concat.apply([],C)}function At(C){return C.length>0?C[C.length-1]:null}function yt(C,b){for(const y in C)C.hasOwnProperty(y)&&b(C[y],y)}function Wt(C){return(0,u.CqO)(C)?C:(0,u.QGY)(C)?(0,G.D)(Promise.resolve(C)):(0,ne.of)(C)}const Nt=!1,yn={exact:function ht(C,b,y){if(!or(C.segments,b.segments)||!rn(C.segments,b.segments,y)||C.numberOfChildren!==b.numberOfChildren)return!1;for(const D in b.children)if(!C.children[D]||!ht(C.children[D],b.children[D],y))return!1;return!0},subset:Qt},Gn={exact:function ct(C,b){return Me(C,b)},subset:function cn(C,b){return Object.keys(b).length<=Object.keys(C).length&&Object.keys(b).every(y=>nt(C[y],b[y]))},ignored:()=>!0};function pt(C,b,y){return yn[y.paths](C.root,b.root,y.matrixParams)&&Gn[y.queryParams](C.queryParams,b.queryParams)&&!("exact"===y.fragment&&C.fragment!==b.fragment)}function Qt(C,b,y){return wn(C,b,b.segments,y)}function wn(C,b,y,D){if(C.segments.length>y.length){const q=C.segments.slice(0,y.length);return!(!or(q,y)||b.hasChildren()||!rn(q,y,D))}if(C.segments.length===y.length){if(!or(C.segments,y)||!rn(C.segments,y,D))return!1;for(const q in b.children)if(!C.children[q]||!Qt(C.children[q],b.children[q],D))return!1;return!0}{const q=y.slice(0,C.segments.length),ve=y.slice(C.segments.length);return!!(or(C.segments,q)&&rn(C.segments,q,D)&&C.children[Zt])&&wn(C.children[Zt],b,ve,D)}}function rn(C,b,y){return b.every((D,q)=>Gn[y](C[q].parameters,D.parameters))}class In{constructor(b=new nn([],{}),y={},D=null){this.root=b,this.queryParams=y,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jt(this.queryParams)),this._queryParamMap}toString(){return qe.serialize(this)}}class nn{constructor(b,y){this.segments=b,this.children=y,this.parent=null,yt(y,(D,q)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return it(this)}}class Un{constructor(b,y){this.path=b,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Jt(this.parameters)),this._parameterMap}toString(){return Rt(this)}}function or(C,b){return C.length===b.length&&C.every((y,D)=>y.path===b[D].path)}let ur=(()=>{class C{}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:function(){return new $e},providedIn:"root"}),C})();class $e{parse(b){const y=new fn(b);return new In(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(b){const y=`/${Pt(b.root,!0)}`,D=function En(C){const b=Object.keys(C).map(y=>{const D=C[y];return Array.isArray(D)?D.map(q=>`${qt(y)}=${qt(q)}`).join("&"):`${qt(y)}=${qt(D)}`}).filter(y=>!!y);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${y}${D}${"string"==typeof b.fragment?`#${function rt(C){return encodeURI(C)}(b.fragment)}`:""}`}}const qe=new $e;function it(C){return C.segments.map(b=>Rt(b)).join("/")}function Pt(C,b){if(!C.hasChildren())return it(C);if(b){const y=C.children[Zt]?Pt(C.children[Zt],!1):"",D=[];return yt(C.children,(q,ve)=>{ve!==Zt&&D.push(`${ve}:${Pt(q,!1)}`)}),D.length>0?`${y}(${D.join("//")})`:y}{const y=function nr(C,b){let y=[];return yt(C.children,(D,q)=>{q===Zt&&(y=y.concat(b(D,q)))}),yt(C.children,(D,q)=>{q!==Zt&&(y=y.concat(b(D,q)))}),y}(C,(D,q)=>q===Zt?[Pt(C.children[Zt],!1)]:[`${q}:${Pt(D,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Zt]?`${it(C)}/${y[0]}`:`${it(C)}/(${y.join("//")})`}}function vt(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qt(C){return vt(C).replace(/%3B/gi,";")}function tt(C){return vt(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ge(C){return decodeURIComponent(C)}function ft(C){return Ge(C.replace(/\+/g,"%20"))}function Rt(C){return`${tt(C.path)}${function Kt(C){return Object.keys(C).map(b=>`;${tt(b)}=${tt(C[b])}`).join("")}(C.parameters)}`}const bn=/^[^\/()?;=#]+/;function hr(C){const b=C.match(bn);return b?b[0]:""}const zn=/^[^=?&#]+/,Ct=/^[^&#]+/;class fn{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(b.length>0||Object.keys(y).length>0)&&(D[Zt]=new nn(b,y)),D}parseSegment(){const b=hr(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new u.vHH(4009,Nt);return this.capture(b),new Un(Ge(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const y=hr(this.remaining);if(!y)return;this.capture(y);let D="";if(this.consumeOptional("=")){const q=hr(this.remaining);q&&(D=q,this.capture(D))}b[Ge(y)]=Ge(D)}parseQueryParam(b){const y=function Tt(C){const b=C.match(zn);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let D="";if(this.consumeOptional("=")){const Le=function Ht(C){const b=C.match(Ct);return b?b[0]:""}(this.remaining);Le&&(D=Le,this.capture(D))}const q=ft(y),ve=ft(D);if(b.hasOwnProperty(q)){let Le=b[q];Array.isArray(Le)||(Le=[Le],b[q]=Le),Le.push(ve)}else b[q]=ve}parseParens(b){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=hr(this.remaining),q=this.remaining[D.length];if("/"!==q&&")"!==q&&";"!==q)throw new u.vHH(4010,Nt);let ve;D.indexOf(":")>-1?(ve=D.slice(0,D.indexOf(":")),this.capture(ve),this.capture(":")):b&&(ve=Zt);const Le=this.parseChildren();y[ve]=1===Object.keys(Le).length?Le[Zt]:new nn([],Le),this.consumeOptional("//")}return y}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new u.vHH(4011,Nt)}}function Rn(C){return C.segments.length>0?new nn([],{[Zt]:C}):C}function Bn(C){const b={};for(const D of Object.keys(C.children)){const ve=Bn(C.children[D]);(ve.segments.length>0||ve.hasChildren())&&(b[D]=ve)}return function Wn(C){if(1===C.numberOfChildren&&C.children[Zt]){const b=C.children[Zt];return new nn(C.segments.concat(b.segments),b.children)}return C}(new nn(C.segments,b))}function Sr(C){return C instanceof In}const fr=!1;function Br(C,b,y,D,q){if(0===y.length)return br(b.root,b.root,b.root,D,q);const ve=function tr(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new ms(!0,0,C);let b=0,y=!1;const D=C.reduce((q,ve,Le)=>{if("object"==typeof ve&&null!=ve){if(ve.outlets){const at={};return yt(ve.outlets,(Mt,sn)=>{at[sn]="string"==typeof Mt?Mt.split("/"):Mt}),[...q,{outlets:at}]}if(ve.segmentPath)return[...q,ve.segmentPath]}return"string"!=typeof ve?[...q,ve]:0===Le?(ve.split("/").forEach((at,Mt)=>{0==Mt&&"."===at||(0==Mt&&""===at?y=!0:".."===at?b++:""!=at&&q.push(at))}),q):[...q,ve]},[]);return new ms(y,b,D)}(y);return ve.toRoot()?br(b.root,b.root,new nn([],{}),D,q):function Le(Mt){const sn=function Ki(C,b,y,D){if(C.isAbsolute)return new ii(b.root,!0,0);if(-1===D)return new ii(y,y===b.root,0);return function gi(C,b,y){let D=C,q=b,ve=y;for(;ve>q;){if(ve-=q,D=D.parent,!D)throw new u.vHH(4005,fr&&"Invalid number of '../'");q=D.segments.length}return new ii(D,!1,q-ve)}(y,D+(qr(C.commands[0])?0:1),C.numberOfDoubleDots)}(ve,b,C.snapshot?._urlSegment,Mt),gn=sn.processChildren?Qn(sn.segmentGroup,sn.index,ve.commands):Fn(sn.segmentGroup,sn.index,ve.commands);return br(b.root,sn.segmentGroup,gn,D,q)}(C.snapshot?._lastPathIndex)}function qr(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function Nn(C){return"object"==typeof C&&null!=C&&C.outlets}function br(C,b,y,D,q){let Le,ve={};D&&yt(D,(Mt,sn)=>{ve[sn]=Array.isArray(Mt)?Mt.map(gn=>`${gn}`):`${Mt}`}),Le=C===b?y:Lr(C,b,y);const at=Rn(Bn(Le));return new In(at,ve,q)}function Lr(C,b,y){const D={};return yt(C.children,(q,ve)=>{D[ve]=q===b?y:Lr(q,b,y)}),new nn(C.segments,D)}class ms{constructor(b,y,D){if(this.isAbsolute=b,this.numberOfDoubleDots=y,this.commands=D,b&&D.length>0&&qr(D[0]))throw new u.vHH(4003,fr&&"Root segment cannot have matrix parameters");const q=D.find(Nn);if(q&&q!==At(D))throw new u.vHH(4004,fr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ii{constructor(b,y,D){this.segmentGroup=b,this.processChildren=y,this.index=D}}function Fn(C,b,y){if(C||(C=new nn([],{})),0===C.segments.length&&C.hasChildren())return Qn(C,b,y);const D=function Mn(C,b,y){let D=0,q=b;const ve={match:!1,pathIndex:0,commandIndex:0};for(;q<C.segments.length;){if(D>=y.length)return ve;const Le=C.segments[q],at=y[D];if(Nn(at))break;const Mt=`${at}`,sn=D<y.length-1?y[D+1]:null;if(q>0&&void 0===Mt)break;if(Mt&&sn&&"object"==typeof sn&&void 0===sn.outlets){if(!Tr(Mt,sn,Le))return ve;D+=2}else{if(!Tr(Mt,{},Le))return ve;D++}q++}return{match:!0,pathIndex:q,commandIndex:D}}(C,b,y),q=y.slice(D.commandIndex);if(D.match&&D.pathIndex<C.segments.length){const ve=new nn(C.segments.slice(0,D.pathIndex),{});return ve.children[Zt]=new nn(C.segments.slice(D.pathIndex),C.children),Qn(ve,0,q)}return D.match&&0===q.length?new nn(C.segments,{}):D.match&&!C.hasChildren()?mi(C,b,y):D.match?Qn(C,0,q):mi(C,b,y)}function Qn(C,b,y){if(0===y.length)return new nn(C.segments,{});{const D=function en(C){return Nn(C[0])?C[0].outlets:{[Zt]:C}}(y),q={};if(!D[Zt]&&C.children[Zt]&&1===C.numberOfChildren&&0===C.children[Zt].segments.length){const ve=Qn(C.children[Zt],b,y);return new nn(C.segments,ve.children)}return yt(D,(ve,Le)=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(q[Le]=Fn(C.children[Le],b,ve))}),yt(C.children,(ve,Le)=>{void 0===D[Le]&&(q[Le]=ve)}),new nn(C.segments,q)}}function mi(C,b,y){const D=C.segments.slice(0,b);let q=0;for(;q<y.length;){const ve=y[q];if(Nn(ve)){const Mt=Fr(ve.outlets);return new nn(D,Mt)}if(0===q&&qr(y[0])){D.push(new Un(C.segments[b].path,Di(y[0]))),q++;continue}const Le=Nn(ve)?ve.outlets[Zt]:`${ve}`,at=q<y.length-1?y[q+1]:null;Le&&at&&qr(at)?(D.push(new Un(Le,Di(at))),q+=2):(D.push(new Un(Le,{})),q++)}return new nn(D,{})}function Fr(C){const b={};return yt(C,(y,D)=>{"string"==typeof y&&(y=[y]),null!==y&&(b[D]=mi(new nn([],{}),0,y))}),b}function Di(C){const b={};return yt(C,(y,D)=>b[D]=`${y}`),b}function Tr(C,b,y){return C==y.path&&Me(b,y.parameters)}const ki="imperative";class ci{constructor(b,y){this.id=b,this.url=y}}class jn extends ci{constructor(b,y,D="imperative",q=null){super(b,y),this.type=0,this.navigationTrigger=D,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zi extends ci{constructor(b,y,D){super(b,y),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ni extends ci{constructor(b,y,D,q){super(b,y),this.reason=D,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class os extends ci{constructor(b,y,D,q){super(b,y),this.reason=D,this.code=q,this.type=16}}class Jn extends ci{constructor(b,y,D,q){super(b,y),this.error=D,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hr extends ci{constructor(b,y,D,q){super(b,y),this.urlAfterRedirects=D,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends ci{constructor(b,y,D,q){super(b,y),this.urlAfterRedirects=D,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends ci{constructor(b,y,D,q,ve){super(b,y),this.urlAfterRedirects=D,this.state=q,this.shouldActivate=ve,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _i extends ci{constructor(b,y,D,q){super(b,y),this.urlAfterRedirects=D,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi extends ci{constructor(b,y,D,q){super(b,y),this.urlAfterRedirects=D,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Js{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ir{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class So{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xi{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ji{constructor(b,y,D){this.routerEvent=b,this.position=y,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let _s=(()=>{class C{createUrlTree(y,D,q,ve,Le,at){return Br(y||D.root,q,ve,Le,at)}}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac}),C})(),Gr=(()=>{class C{}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:function(b){return _s.\u0275fac(b)},providedIn:"root"}),C})();class Dr{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const y=this.pathFromRoot(b);return y.length>1?y[y.length-2]:null}children(b){const y=es(b,this._root);return y?y.children.map(D=>D.value):[]}firstChild(b){const y=es(b,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(b){const y=as(b,this._root);return y.length<2?[]:y[y.length-2].children.map(q=>q.value).filter(q=>q!==b)}pathFromRoot(b){return as(b,this._root).map(y=>y.value)}}function es(C,b){if(C===b.value)return b;for(const y of b.children){const D=es(C,y);if(D)return D}return null}function as(C,b){if(C===b.value)return[b];for(const y of b.children){const D=as(C,y);if(D.length)return D.unshift(b),D}return[]}class Or{constructor(b,y){this.value=b,this.children=y}toString(){return`TreeNode(${this.value})`}}function ys(C){const b={};return C&&C.children.forEach(y=>b[y.value.outlet]=y),b}class eo extends Dr{constructor(b,y){super(b),this.snapshot=y,to(this,b)}toString(){return this.snapshot.toString()}}function Hi(C,b){const y=function xi(C,b){const Le=new Li([],{},{},"",{},Zt,b,null,C.root,-1,{});return new Cs("",new Or(Le,[]))}(C,b),D=new f.X([new Un("",{})]),q=new f.X({}),ve=new f.X({}),Le=new f.X({}),at=new f.X(""),Mt=new vs(D,q,Le,at,ve,Zt,b,y.root);return Mt.snapshot=y.root,new eo(new Or(Mt,[]),y)}class vs{constructor(b,y,D,q,ve,Le,at,Mt){this.url=b,this.params=y,this.queryParams=D,this.fragment=q,this.data=ve,this.outlet=Le,this.component=at,this.title=this.data?.pipe((0,Ue.U)(sn=>sn[mn]))??(0,ne.of)(void 0),this._futureSnapshot=Mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ue.U)(b=>Jt(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ue.U)(b=>Jt(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Us(C,b="emptyOnly"){const y=C.pathFromRoot;let D=0;if("always"!==b)for(D=y.length-1;D>=1;){const q=y[D],ve=y[D-1];if(q.routeConfig&&""===q.routeConfig.path)D--;else{if(ve.component)break;D--}}return function Ho(C){return C.reduce((b,y)=>({params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(D))}class Li{get title(){return this.data?.[mn]}constructor(b,y,D,q,ve,Le,at,Mt,sn,gn,lr){this.url=b,this.params=y,this.queryParams=D,this.fragment=q,this.data=ve,this.outlet=Le,this.component=at,this.routeConfig=Mt,this._urlSegment=sn,this._lastPathIndex=gn,this._resolve=lr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cs extends Dr{constructor(b,y){super(y),this.url=b,to(this,y)}toString(){return To(this._root)}}function to(C,b){b.value._routerState=C,b.children.forEach(y=>to(C,y))}function To(C){const b=C.children.length>0?` { ${C.children.map(To).join(", ")} } `:"";return`${C.value}${b}`}function ts(C){if(C.snapshot){const b=C.snapshot,y=C._futureSnapshot;C.snapshot=y,Me(b.queryParams,y.queryParams)||C.queryParams.next(y.queryParams),b.fragment!==y.fragment&&C.fragment.next(y.fragment),Me(b.params,y.params)||C.params.next(y.params),function _t(C,b){if(C.length!==b.length)return!1;for(let y=0;y<C.length;++y)if(!Me(C[y],b[y]))return!1;return!0}(b.url,y.url)||C.url.next(y.url),Me(b.data,y.data)||C.data.next(y.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function mo(C,b){const y=Me(C.params,b.params)&&function $n(C,b){return or(C,b)&&C.every((y,D)=>Me(y.parameters,b[D].parameters))}(C.url,b.url);return y&&!(!C.parent!=!b.parent)&&(!C.parent||mo(C.parent,b.parent))}function Io(C,b,y){if(y&&C.shouldReuseRoute(b.value,y.value.snapshot)){const D=y.value;D._futureSnapshot=b.value;const q=function ro(C,b,y){return b.children.map(D=>{for(const q of y.children)if(C.shouldReuseRoute(D.value,q.value.snapshot))return Io(C,D,q);return Io(C,D)})}(C,b,y);return new Or(D,q)}{if(C.shouldAttach(b.value)){const ve=C.retrieve(b.value);if(null!==ve){const Le=ve.route;return Le.value._futureSnapshot=b.value,Le.children=b.children.map(at=>Io(C,at)),Le}}const D=function Mo(C){return new vs(new f.X(C.url),new f.X(C.params),new f.X(C.queryParams),new f.X(C.fragment),new f.X(C.data),C.outlet,C.component,C)}(b.value),q=b.children.map(ve=>Io(C,ve));return new Or(D,q)}}const ws="ngNavigationCancelingError";function Ps(C,b){const{redirectTo:y,navigationBehaviorOptions:D}=Sr(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,q=yi(!1,0,b);return q.url=y,q.navigationBehaviorOptions=D,q}function yi(C,b,y){const D=new Error("NavigationCancelingError: "+(C||""));return D[ws]=!0,D.cancellationCode=b,y&&(D.url=y),D}function _o(C){return ls(C)&&Sr(C.url)}function ls(C){return C&&C[ws]}class Ms{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new si,this.attachRef=null}}let si=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(y,D){const q=this.getOrCreateContext(y);q.outlet=D,this.contexts.set(y,q)}onChildOutletDestroyed(y){const D=this.getContext(y);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let D=this.getContext(y);return D||(D=new Ms,this.contexts.set(y,D)),D}getContext(y){return this.contexts.get(y)||null}}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const $r=!1;let Bs=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Zt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(si),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(y){if(y.name){const{firstChange:D,previousValue:q}=y.name;if(D)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,$r);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,$r);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,$r);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,D){this.activated=y,this._activatedRoute=D,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,D){if(this.isActivated)throw new u.vHH(4013,$r);this._activatedRoute=y;const q=this.location,Le=y.snapshot.component,at=this.parentContexts.getOrCreateContext(this.name).children,Mt=new js(y,at,q.injector);if(D&&function cs(C){return!!C.resolveComponentFactory}(D)){const sn=D.resolveComponentFactory(Le);this.activated=q.createComponent(sn,q.length,Mt)}else this.activated=q.createComponent(Le,{index:q.length,injector:Mt,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(y){return new(y||C)},C.\u0275dir=u.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),C})();class js{constructor(b,y,D){this.route=b,this.childContexts=y,this.parent=D}get(b,y){return b===vs?this.route:b===si?this.childContexts:this.parent.get(b,y)}}let Rr=(()=>{class C{}return C.\u0275fac=function(y){return new(y||C)},C.\u0275cmp=u.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(y,D){1&y&&u._UZ(0,"router-outlet")},dependencies:[Bs],encapsulation:2}),C})();function io(C,b){return C.providers&&!C._injector&&(C._injector=(0,u.MMx)(C.providers,b,`Route: ${C.path}`)),C._injector??b}function Yr(C){const b=C.children&&C.children.map(Yr),y=b?{...C,children:b}:{...C};return!y.component&&!y.loadComponent&&(b||y.loadChildren)&&y.outlet&&y.outlet!==Zt&&(y.component=Rr),y}function Ci(C){return C.outlet||Zt}function wi(C,b){const y=C.filter(D=>Ci(D)===b);return y.push(...C.filter(D=>Ci(D)!==b)),y}function Gi(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let b=C.parent;b;b=b.parent){const y=b.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class ua{constructor(b,y,D,q){this.routeReuseStrategy=b,this.futureState=y,this.currState=D,this.forwardEvent=q}activate(b){const y=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,D,b),ts(this.futureState.root),this.activateChildRoutes(y,D,b)}deactivateChildRoutes(b,y,D){const q=ys(y);b.children.forEach(ve=>{const Le=ve.value.outlet;this.deactivateRoutes(ve,q[Le],D),delete q[Le]}),yt(q,(ve,Le)=>{this.deactivateRouteAndItsChildren(ve,D)})}deactivateRoutes(b,y,D){const q=b.value,ve=y?y.value:null;if(q===ve)if(q.component){const Le=D.getContext(q.outlet);Le&&this.deactivateChildRoutes(b,y,Le.children)}else this.deactivateChildRoutes(b,y,D);else ve&&this.deactivateRouteAndItsChildren(y,D)}deactivateRouteAndItsChildren(b,y){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,y):this.deactivateRouteAndOutlet(b,y)}detachAndStoreRouteSubtree(b,y){const D=y.getContext(b.value.outlet),q=D&&b.value.component?D.children:y,ve=ys(b);for(const Le of Object.keys(ve))this.deactivateRouteAndItsChildren(ve[Le],q);if(D&&D.outlet){const Le=D.outlet.detach(),at=D.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:Le,route:b,contexts:at})}}deactivateRouteAndOutlet(b,y){const D=y.getContext(b.value.outlet),q=D&&b.value.component?D.children:y,ve=ys(b);for(const Le of Object.keys(ve))this.deactivateRouteAndItsChildren(ve[Le],q);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(b,y,D){const q=ys(y);b.children.forEach(ve=>{this.activateRoutes(ve,q[ve.value.outlet],D),this.forwardEvent(new Xi(ve.value.snapshot))}),b.children.length&&this.forwardEvent(new Ui(b.value.snapshot))}activateRoutes(b,y,D){const q=b.value,ve=y?y.value:null;if(ts(q),q===ve)if(q.component){const Le=D.getOrCreateContext(q.outlet);this.activateChildRoutes(b,y,Le.children)}else this.activateChildRoutes(b,y,D);else if(q.component){const Le=D.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const at=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),Le.children.onOutletReAttached(at.contexts),Le.attachRef=at.componentRef,Le.route=at.route.value,Le.outlet&&Le.outlet.attach(at.componentRef,at.route.value),ts(at.route.value),this.activateChildRoutes(b,null,Le.children)}else{const at=Gi(q.snapshot),Mt=at?.get(u._Vd)??null;Le.attachRef=null,Le.route=q,Le.resolver=Mt,Le.injector=at,Le.outlet&&Le.outlet.activateWith(q,Le.injector),this.activateChildRoutes(b,null,Le.children)}}else this.activateChildRoutes(b,null,D)}}class Os{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class us{constructor(b,y){this.component=b,this.route=y}}function ns(C,b,y){const D=C._root;return Vn(D,b?b._root:null,y,[D.value])}function $i(C,b){const y=Symbol(),D=b.get(C,y);return D===y?"function"!=typeof C||(0,u.Z0I)(C)?b.get(C):C:D}function Vn(C,b,y,D,q={canDeactivateChecks:[],canActivateChecks:[]}){const ve=ys(b);return C.children.forEach(Le=>{(function Z(C,b,y,D,q={canDeactivateChecks:[],canActivateChecks:[]}){const ve=C.value,Le=b?b.value:null,at=y?y.getContext(C.value.outlet):null;if(Le&&ve.routeConfig===Le.routeConfig){const Mt=function z(C,b,y){if("function"==typeof y)return y(C,b);switch(y){case"pathParamsChange":return!or(C.url,b.url);case"pathParamsOrQueryParamsChange":return!or(C.url,b.url)||!Me(C.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mo(C,b)||!Me(C.queryParams,b.queryParams);default:return!mo(C,b)}}(Le,ve,ve.routeConfig.runGuardsAndResolvers);Mt?q.canActivateChecks.push(new Os(D)):(ve.data=Le.data,ve._resolvedData=Le._resolvedData),Vn(C,b,ve.component?at?at.children:null:y,D,q),Mt&&at&&at.outlet&&at.outlet.isActivated&&q.canDeactivateChecks.push(new us(at.outlet.component,Le))}else Le&&B(b,at,q),q.canActivateChecks.push(new Os(D)),Vn(C,null,ve.component?at?at.children:null:y,D,q)})(Le,ve[Le.value.outlet],y,D.concat([Le.value]),q),delete ve[Le.value.outlet]}),yt(ve,(Le,at)=>B(Le,y.getContext(at),q)),q}function B(C,b,y){const D=ys(C),q=C.value;yt(D,(ve,Le)=>{B(ve,q.component?b?b.children.getContext(Le):null:b,y)}),y.canDeactivateChecks.push(new us(q.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,q))}function Oe(C){return"function"==typeof C}function Er(C){return C instanceof Se||"EmptyError"===C?.name}const _e=Symbol("INITIAL_VALUE");function je(){return ot(C=>Ee(C.map(b=>b.pipe((0,we.q)(1),function te(...C){const b=(0,ue.yG)(C);return(0,k.e)((y,D)=>{(b?(0,ye.z)(C,y,b):(0,ye.z)(C,y)).subscribe(D)})}(_e)))).pipe((0,Ue.U)(b=>{for(const y of b)if(!0!==y){if(y===_e)return _e;if(!1===y||y instanceof In)return y}return!0}),(0,H.h)(b=>b!==_e),(0,we.q)(1)))}function Yt(C){return(0,Y.z)(de(b=>{if(Sr(b))throw Ps(0,b)}),(0,Ue.U)(b=>!0===b))}const On={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kr(C,b,y,D,q){const ve=oi(C,b,y);return ve.matched?function un(C,b,y,D){const q=b.canMatch;if(!q||0===q.length)return(0,ne.of)(!0);const ve=q.map(Le=>{const at=$i(Le,C);return Wt(function Xn(C){return C&&Oe(C.canMatch)}(at)?at.canMatch(b,y):C.runInContext(()=>at(b,y)))});return(0,ne.of)(ve).pipe(je(),Yt())}(D=io(b,D),b,y).pipe((0,Ue.U)(Le=>!0===Le?ve:{...On})):(0,ne.of)(ve)}function oi(C,b,y){if(""===b.path)return"full"===b.pathMatch&&(C.hasChildren()||y.length>0)?{...On}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const q=(b.matcher||Hn)(y,C,b);if(!q)return{...On};const ve={};yt(q.posParams,(at,Mt)=>{ve[Mt]=at.path});const Le=q.consumed.length>0?{...ve,...q.consumed[q.consumed.length-1].parameters}:ve;return{matched:!0,consumedSegments:q.consumed,remainingSegments:y.slice(q.consumed.length),parameters:Le,positionalParamSegments:q.posParams??{}}}function oo(C,b,y,D){if(y.length>0&&function zr(C,b,y){return y.some(D=>Wi(C,b,D)&&Ci(D)!==Zt)}(C,y,D)){const ve=new nn(b,function Mr(C,b,y,D){const q={};q[Zt]=D,D._sourceSegment=C,D._segmentIndexShift=b.length;for(const ve of y)if(""===ve.path&&Ci(ve)!==Zt){const Le=new nn([],{});Le._sourceSegment=C,Le._segmentIndexShift=b.length,q[Ci(ve)]=Le}return q}(C,b,D,new nn(y,C.children)));return ve._sourceSegment=C,ve._segmentIndexShift=b.length,{segmentGroup:ve,slicedSegments:[]}}if(0===y.length&&function Do(C,b,y){return y.some(D=>Wi(C,b,D))}(C,y,D)){const ve=new nn(C.segments,function Fi(C,b,y,D,q){const ve={};for(const Le of D)if(Wi(C,y,Le)&&!q[Ci(Le)]){const at=new nn([],{});at._sourceSegment=C,at._segmentIndexShift=b.length,ve[Ci(Le)]=at}return{...q,...ve}}(C,b,y,D,C.children));return ve._sourceSegment=C,ve._segmentIndexShift=b.length,{segmentGroup:ve,slicedSegments:y}}const q=new nn(C.segments,C.children);return q._sourceSegment=C,q._segmentIndexShift=b.length,{segmentGroup:q,slicedSegments:y}}function Wi(C,b,y){return(!(C.hasChildren()||b.length>0)||"full"!==y.pathMatch)&&""===y.path}function jr(C,b,y,D){return!!(Ci(C)===D||D!==Zt&&Wi(b,y,C))&&("**"===C.path||oi(b,C,y).matched)}function ei(C,b,y){return 0===b.length&&!C.children[y]}const ao=!1;class lo{constructor(b){this.segmentGroup=b||null}}class ta{constructor(b){this.urlTree=b}}function Co(C){return J(new lo(C))}function Va(C){return J(new ta(C))}class ko{constructor(b,y,D,q,ve){this.injector=b,this.configLoader=y,this.urlSerializer=D,this.urlTree=q,this.config=ve,this.allowRedirects=!0}apply(){const b=oo(this.urlTree.root,[],[],this.config).segmentGroup,y=new nn(b.segments,b.children);return this.expandSegmentGroup(this.injector,this.config,y,Zt).pipe((0,Ue.U)(ve=>this.createUrlTree(Bn(ve),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ee(ve=>{if(ve instanceof ta)return this.allowRedirects=!1,this.match(ve.urlTree);throw ve instanceof lo?this.noMatchError(ve):ve}))}match(b){return this.expandSegmentGroup(this.injector,this.config,b.root,Zt).pipe((0,Ue.U)(q=>this.createUrlTree(Bn(q),b.queryParams,b.fragment))).pipe(ee(q=>{throw q instanceof lo?this.noMatchError(q):q}))}noMatchError(b){return new u.vHH(4002,ao)}createUrlTree(b,y,D){const q=Rn(b);return new In(q,y,D)}expandSegmentGroup(b,y,D,q){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(b,y,D).pipe((0,Ue.U)(ve=>new nn([],ve))):this.expandSegment(b,D,y,D.segments,q,!0)}expandChildren(b,y,D){const q=[];for(const ve of Object.keys(D.children))"primary"===ve?q.unshift(ve):q.push(ve);return(0,G.D)(q).pipe((0,ge.b)(ve=>{const Le=D.children[ve],at=wi(y,ve);return this.expandSegmentGroup(b,at,Le,ve).pipe((0,Ue.U)(Mt=>({segment:Mt,outlet:ve})))}),Ze((ve,Le)=>(ve[Le.outlet]=Le.segment,ve),{}),Ke())}expandSegment(b,y,D,q,ve,Le){return(0,G.D)(D).pipe((0,ge.b)(at=>this.expandSegmentAgainstRoute(b,y,D,at,q,ve,Le).pipe(ee(sn=>{if(sn instanceof lo)return(0,ne.of)(null);throw sn}))),W(at=>!!at),ee((at,Mt)=>{if(Er(at))return ei(y,q,ve)?(0,ne.of)(new nn([],{})):Co(y);throw at}))}expandSegmentAgainstRoute(b,y,D,q,ve,Le,at){return jr(q,y,ve,Le)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(b,y,q,ve,Le):at&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,y,D,q,ve,Le):Co(y):Co(y)}expandSegmentAgainstRouteUsingRedirect(b,y,D,q,ve,Le){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,D,q,Le):this.expandRegularSegmentAgainstRouteUsingRedirect(b,y,D,q,ve,Le)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,y,D,q){const ve=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?Va(ve):this.lineralizeSegments(D,ve).pipe((0,$.z)(Le=>{const at=new nn(Le,{});return this.expandSegment(b,at,y,Le,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,y,D,q,ve,Le){const{matched:at,consumedSegments:Mt,remainingSegments:sn,positionalParamSegments:gn}=oi(y,q,ve);if(!at)return Co(y);const lr=this.applyRedirectCommands(Mt,q.redirectTo,gn);return q.redirectTo.startsWith("/")?Va(lr):this.lineralizeSegments(q,lr).pipe((0,$.z)(Ai=>this.expandSegment(b,y,D,Ai.concat(sn),Le,!1)))}matchSegmentAgainstRoute(b,y,D,q,ve){return"**"===D.path?(b=io(D,b),D.loadChildren?(D._loadedRoutes?(0,ne.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(b,D)).pipe((0,Ue.U)(at=>(D._loadedRoutes=at.routes,D._loadedInjector=at.injector,new nn(q,{})))):(0,ne.of)(new nn(q,{}))):kr(y,D,q,b).pipe(ot(({matched:Le,consumedSegments:at,remainingSegments:Mt})=>Le?this.getChildConfig(b=D._injector??b,D,q).pipe((0,$.z)(gn=>{const lr=gn.injector??b,Ai=gn.routes,{segmentGroup:ni,slicedSegments:As}=oo(y,at,Mt,Ai),ds=new nn(ni.segments,ni.children);if(0===As.length&&ds.hasChildren())return this.expandChildren(lr,Ai,ds).pipe((0,Ue.U)(fi=>new nn(at,fi)));if(0===Ai.length&&0===As.length)return(0,ne.of)(new nn(at,{}));const qs=Ci(D)===ve;return this.expandSegment(lr,ds,Ai,As,qs?Zt:ve,!0).pipe((0,Ue.U)(qo=>new nn(at.concat(qo.segments),qo.children)))})):Co(y)))}getChildConfig(b,y,D){return y.children?(0,ne.of)({routes:y.children,injector:b}):y.loadChildren?void 0!==y._loadedRoutes?(0,ne.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function st(C,b,y,D){const q=b.canLoad;if(void 0===q||0===q.length)return(0,ne.of)(!0);const ve=q.map(Le=>{const at=$i(Le,C);return Wt(function Dn(C){return C&&Oe(C.canLoad)}(at)?at.canLoad(b,y):C.runInContext(()=>at(b,y)))});return(0,ne.of)(ve).pipe(je(),Yt())}(b,y,D).pipe((0,$.z)(q=>q?this.configLoader.loadChildren(b,y).pipe(de(ve=>{y._loadedRoutes=ve.routes,y._loadedInjector=ve.injector})):function Sc(C){return J(yi(ao,3))}())):(0,ne.of)({routes:[],injector:b})}lineralizeSegments(b,y){let D=[],q=y.root;for(;;){if(D=D.concat(q.segments),0===q.numberOfChildren)return(0,ne.of)(D);if(q.numberOfChildren>1||!q.children[Zt])return b.redirectTo,J(new u.vHH(4e3,ao));q=q.children[Zt]}}applyRedirectCommands(b,y,D){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),b,D)}applyRedirectCreateUrlTree(b,y,D,q){const ve=this.createSegmentGroup(b,y.root,D,q);return new In(ve,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(b,y){const D={};return yt(b,(q,ve)=>{if("string"==typeof q&&q.startsWith(":")){const at=q.substring(1);D[ve]=y[at]}else D[ve]=q}),D}createSegmentGroup(b,y,D,q){const ve=this.createSegments(b,y.segments,D,q);let Le={};return yt(y.children,(at,Mt)=>{Le[Mt]=this.createSegmentGroup(b,at,D,q)}),new nn(ve,Le)}createSegments(b,y,D,q){return y.map(ve=>ve.path.startsWith(":")?this.findPosParam(b,ve,q):this.findOrReturn(ve,D))}findPosParam(b,y,D){const q=D[y.path.substring(1)];if(!q)throw new u.vHH(4001,ao);return q}findOrReturn(b,y){let D=0;for(const q of y){if(q.path===b.path)return y.splice(D),q;D++}return b}}class O{}class xe{constructor(b,y,D,q,ve,Le,at){this.injector=b,this.rootComponentType=y,this.config=D,this.urlTree=q,this.url=ve,this.paramsInheritanceStrategy=Le,this.urlSerializer=at}recognize(){const b=oo(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,Zt).pipe((0,Ue.U)(y=>{if(null===y)return null;const D=new Li([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new Or(D,y),ve=new Cs(this.url,q);return this.inheritParamsAndData(ve._root),ve}))}inheritParamsAndData(b){const y=b.value,D=Us(y,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data),b.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(b,y,D,q){return 0===D.segments.length&&D.hasChildren()?this.processChildren(b,y,D):this.processSegment(b,y,D,D.segments,q)}processChildren(b,y,D){return(0,G.D)(Object.keys(D.children)).pipe((0,ge.b)(q=>{const ve=D.children[q],Le=wi(y,q);return this.processSegmentGroup(b,Le,ve,q)}),Ze((q,ve)=>q&&ve?(q.push(...ve),q):null),function mt(C,b=!1){return(0,k.e)((y,D)=>{let q=0;y.subscribe((0,ie.x)(D,ve=>{const Le=C(ve,q++);(Le||b)&&D.next(ve),!Le&&D.complete()}))})}(q=>null!==q),N(null),Ke(),(0,Ue.U)(q=>{if(null===q)return null;const ve=dn(q);return function Ye(C){C.sort((b,y)=>b.value.outlet===Zt?-1:y.value.outlet===Zt?1:b.value.outlet.localeCompare(y.value.outlet))}(ve),ve}))}processSegment(b,y,D,q,ve){return(0,G.D)(y).pipe((0,ge.b)(Le=>this.processSegmentAgainstRoute(Le._injector??b,Le,D,q,ve)),W(Le=>!!Le),ee(Le=>{if(Er(Le))return ei(D,q,ve)?(0,ne.of)([]):(0,ne.of)(null);throw Le}))}processSegmentAgainstRoute(b,y,D,q,ve){if(y.redirectTo||!jr(y,D,q,ve))return(0,ne.of)(null);let Le;if("**"===y.path){const at=q.length>0?At(q).parameters:{},Mt=mr(D)+q.length,sn=new Li(q,at,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vt(y),Ci(y),y.component??y._loadedComponent??null,y,ir(D),Mt,Kn(y));Le=(0,ne.of)({snapshot:sn,consumedSegments:[],remainingSegments:[]})}else Le=kr(D,y,q,b).pipe((0,Ue.U)(({matched:at,consumedSegments:Mt,remainingSegments:sn,parameters:gn})=>{if(!at)return null;const lr=mr(D)+Mt.length;return{snapshot:new Li(Mt,gn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vt(y),Ci(y),y.component??y._loadedComponent??null,y,ir(D),lr,Kn(y)),consumedSegments:Mt,remainingSegments:sn}}));return Le.pipe(ot(at=>{if(null===at)return(0,ne.of)(null);const{snapshot:Mt,consumedSegments:sn,remainingSegments:gn}=at;b=y._injector??b;const lr=y._loadedInjector??b,Ai=function It(C){return C.children?C.children:C.loadChildren?C._loadedRoutes:[]}(y),{segmentGroup:ni,slicedSegments:As}=oo(D,sn,gn,Ai.filter(qs=>void 0===qs.redirectTo));if(0===As.length&&ni.hasChildren())return this.processChildren(lr,Ai,ni).pipe((0,Ue.U)(qs=>null===qs?null:[new Or(Mt,qs)]));if(0===Ai.length&&0===As.length)return(0,ne.of)([new Or(Mt,[])]);const ds=Ci(y)===ve;return this.processSegment(lr,Ai,ni,As,ds?Zt:ve).pipe((0,Ue.U)(qs=>null===qs?null:[new Or(Mt,qs)]))}))}}function Ut(C){const b=C.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function dn(C){const b=[],y=new Set;for(const D of C){if(!Ut(D)){b.push(D);continue}const q=b.find(ve=>D.value.routeConfig===ve.value.routeConfig);void 0!==q?(q.children.push(...D.children),y.add(q)):b.push(D)}for(const D of y){const q=dn(D.children);b.push(new Or(D.value,q))}return b.filter(D=>!y.has(D))}function ir(C){let b=C;for(;b._sourceSegment;)b=b._sourceSegment;return b}function mr(C){let b=C,y=b._segmentIndexShift??0;for(;b._sourceSegment;)b=b._sourceSegment,y+=b._segmentIndexShift??0;return y-1}function Vt(C){return C.data||{}}function Kn(C){return C.resolve||{}}function St(C){return"string"==typeof C.title||null===C.title}function zt(C){return ot(b=>{const y=C(b);return y?(0,G.D)(y).pipe((0,Ue.U)(()=>b)):(0,ne.of)(b)})}const na=new u.OlP("ROUTES");let ha=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,ne.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const D=Wt(y.loadComponent()).pipe((0,Ue.U)(Bl),de(ve=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=ve}),$t(()=>{this.componentLoaders.delete(y)})),q=new Te(D,()=>new ke.x).pipe(he());return this.componentLoaders.set(y,q),q}loadChildren(y,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,ne.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const ve=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,Ue.U)(at=>{this.onLoadEndListener&&this.onLoadEndListener(D);let Mt,sn,gn=!1;Array.isArray(at)?sn=at:(Mt=at.create(y).injector,sn=dt(Mt.get(na,[],u.XFs.Self|u.XFs.Optional)));return{routes:sn.map(Yr),injector:Mt}}),$t(()=>{this.childrenLoaders.delete(D)})),Le=new Te(ve,()=>new ke.x).pipe(he());return this.childrenLoaders.set(D,Le),Le}loadModuleFactoryOrRoutes(y){return Wt(y()).pipe((0,Ue.U)(Bl),(0,$.z)(D=>D instanceof u.YKP||Array.isArray(D)?(0,ne.of)(D):(0,G.D)(this.compiler.compileModuleAsync(D))))}}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Bl(C){return function Du(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let Ua=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ke.x,this.configLoader=(0,u.f3M)(ha),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(ur),this.rootContexts=(0,u.f3M)(si),this.navigationId=0,this.afterPreactivation=()=>(0,ne.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new Ir(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new Js(q))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:D})}setupNavigations(y){return this.transitions=new f.X({id:0,targetPageId:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ki,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,H.h)(D=>0!==D.id),(0,Ue.U)(D=>({...D,extractedUrl:y.urlHandlingStrategy.extract(D.rawUrl)})),ot(D=>{let q=!1,ve=!1;return(0,ne.of)(D).pipe(de(Le=>{this.currentNavigation={id:Le.id,initialUrl:Le.rawUrl,extractedUrl:Le.extractedUrl,trigger:Le.source,extras:Le.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ot(Le=>{const at=y.browserUrlTree.toString(),Mt=!y.navigated||Le.extractedUrl.toString()!==at||at!==y.currentUrlTree.toString();if(!Mt&&"reload"!==(Le.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const gn="";return this.events.next(new os(Le.id,y.serializeUrl(D.rawUrl),gn,0)),y.rawUrlTree=Le.rawUrl,Le.resolve(null),Re.E}if(y.urlHandlingStrategy.shouldProcessUrl(Le.rawUrl))return Ea(Le.source)&&(y.browserUrlTree=Le.extractedUrl),(0,ne.of)(Le).pipe(ot(gn=>{const lr=this.transitions?.getValue();return this.events.next(new jn(gn.id,this.urlSerializer.serialize(gn.extractedUrl),gn.source,gn.restoredState)),lr!==this.transitions?.getValue()?Re.E:Promise.resolve(gn)}),function hi(C,b,y,D){return ot(q=>function bs(C,b,y,D,q){return new ko(C,b,y,D,q).apply()}(C,b,y,q.extractedUrl,D).pipe((0,Ue.U)(ve=>({...q,urlAfterRedirects:ve}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,y.config),de(gn=>{this.currentNavigation={...this.currentNavigation,finalUrl:gn.urlAfterRedirects},D.urlAfterRedirects=gn.urlAfterRedirects}),function Wr(C,b,y,D,q){return(0,$.z)(ve=>function j(C,b,y,D,q,ve,Le="emptyOnly"){return new xe(C,b,y,D,q,Le,ve).recognize().pipe(ot(at=>null===at?function ce(C){return new me.y(b=>b.error(C))}(new O):(0,ne.of)(at)))}(C,b,y,ve.urlAfterRedirects,D.serialize(ve.urlAfterRedirects),D,q).pipe((0,Ue.U)(Le=>({...ve,targetSnapshot:Le}))))}(this.environmentInjector,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),de(gn=>{if(D.targetSnapshot=gn.targetSnapshot,"eager"===y.urlUpdateStrategy){if(!gn.extras.skipLocationChange){const Ai=y.urlHandlingStrategy.merge(gn.urlAfterRedirects,gn.rawUrl);y.setBrowserUrl(Ai,gn)}y.browserUrlTree=gn.urlAfterRedirects}const lr=new Hr(gn.id,this.urlSerializer.serialize(gn.extractedUrl),this.urlSerializer.serialize(gn.urlAfterRedirects),gn.targetSnapshot);this.events.next(lr)}));if(Mt&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:gn,extractedUrl:lr,source:Ai,restoredState:ni,extras:As}=Le,ds=new jn(gn,this.urlSerializer.serialize(lr),Ai,ni);this.events.next(ds);const qs=Hi(lr,this.rootComponentType).snapshot;return D={...Le,targetSnapshot:qs,urlAfterRedirects:lr,extras:{...As,skipLocationChange:!1,replaceUrl:!1}},(0,ne.of)(D)}{const gn="";return this.events.next(new os(Le.id,y.serializeUrl(D.extractedUrl),gn,1)),y.rawUrlTree=Le.rawUrl,Le.resolve(null),Re.E}}),de(Le=>{const at=new vr(Le.id,this.urlSerializer.serialize(Le.extractedUrl),this.urlSerializer.serialize(Le.urlAfterRedirects),Le.targetSnapshot);this.events.next(at)}),(0,Ue.U)(Le=>D={...Le,guards:ns(Le.targetSnapshot,Le.currentSnapshot,this.rootContexts)}),function et(C,b){return(0,$.z)(y=>{const{targetSnapshot:D,currentSnapshot:q,guards:{canActivateChecks:ve,canDeactivateChecks:Le}}=y;return 0===Le.length&&0===ve.length?(0,ne.of)({...y,guardsResult:!0}):function gt(C,b,y,D){return(0,G.D)(C).pipe((0,$.z)(q=>function se(C,b,y,D,q){const ve=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!ve||0===ve.length)return(0,ne.of)(!0);const Le=ve.map(at=>{const Mt=Gi(b)??q,sn=$i(at,Mt);return Wt(function jt(C){return C&&Oe(C.canDeactivate)}(sn)?sn.canDeactivate(C,b,y,D):Mt.runInContext(()=>sn(C,b,y,D))).pipe(W())});return(0,ne.of)(Le).pipe(je())}(q.component,q.route,y,b,D)),W(q=>!0!==q,!0))}(Le,D,q,C).pipe((0,$.z)(at=>at&&function Dt(C){return"boolean"==typeof C}(at)?function xt(C,b,y,D){return(0,G.D)(b).pipe((0,ge.b)(q=>(0,ye.z)(function X(C,b){return null!==C&&b&&b(new So(C)),(0,ne.of)(!0)}(q.route.parent,D),function L(C,b){return null!==C&&b&&b(new Bi(C)),(0,ne.of)(!0)}(q.route,D),function U(C,b,y){const D=b[b.length-1],ve=b.slice(0,b.length-1).reverse().map(Le=>function Ro(C){const b=C.routeConfig?C.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:C,guards:b}:null}(Le)).filter(Le=>null!==Le).map(Le=>A(()=>{const at=Le.guards.map(Mt=>{const sn=Gi(Le.node)??y,gn=$i(Mt,sn);return Wt(function di(C){return C&&Oe(C.canActivateChild)}(gn)?gn.canActivateChild(D,C):sn.runInContext(()=>gn(D,C))).pipe(W())});return(0,ne.of)(at).pipe(je())}));return(0,ne.of)(ve).pipe(je())}(C,q.path,y),function x(C,b,y){const D=b.routeConfig?b.routeConfig.canActivate:null;if(!D||0===D.length)return(0,ne.of)(!0);const q=D.map(ve=>A(()=>{const Le=Gi(b)??y,at=$i(ve,Le);return Wt(function rr(C){return C&&Oe(C.canActivate)}(at)?at.canActivate(b,C):Le.runInContext(()=>at(b,C))).pipe(W())}));return(0,ne.of)(q).pipe(je())}(C,q.route,y))),W(q=>!0!==q,!0))}(D,ve,C,b):(0,ne.of)(at)),(0,Ue.U)(at=>({...y,guardsResult:at})))})}(this.environmentInjector,Le=>this.events.next(Le)),de(Le=>{if(D.guardsResult=Le.guardsResult,Sr(Le.guardsResult))throw Ps(0,Le.guardsResult);const at=new Yi(Le.id,this.urlSerializer.serialize(Le.extractedUrl),this.urlSerializer.serialize(Le.urlAfterRedirects),Le.targetSnapshot,!!Le.guardsResult);this.events.next(at)}),(0,H.h)(Le=>!!Le.guardsResult||(y.restoreHistory(Le),this.cancelNavigationTransition(Le,"",3),!1)),zt(Le=>{if(Le.guards.canActivateChecks.length)return(0,ne.of)(Le).pipe(de(at=>{const Mt=new _i(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next(Mt)}),ot(at=>{let Mt=!1;return(0,ne.of)(at).pipe(function Hs(C,b){return(0,$.z)(y=>{const{targetSnapshot:D,guards:{canActivateChecks:q}}=y;if(!q.length)return(0,ne.of)(y);let ve=0;return(0,G.D)(q).pipe((0,ge.b)(Le=>function vn(C,b,y,D){const q=C.routeConfig,ve=C._resolve;return void 0!==q?.title&&!St(q)&&(ve[mn]=q.title),function Sn(C,b,y,D){const q=function Gs(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===q.length)return(0,ne.of)({});const ve={};return(0,G.D)(q).pipe((0,$.z)(Le=>function hn(C,b,y,D){const q=Gi(b)??D,ve=$i(C,q);return Wt(ve.resolve?ve.resolve(b,y):q.runInContext(()=>ve(b,y)))}(C[Le],b,y,D).pipe(W(),de(at=>{ve[Le]=at}))),Xe(1),(0,Lt.h)(ve),ee(Le=>Er(Le)?Re.E:J(Le)))}(ve,C,b,D).pipe((0,Ue.U)(Le=>(C._resolvedData=Le,C.data=Us(C,y).resolve,q&&St(q)&&(C.data[mn]=q.title),null)))}(Le.route,D,C,b)),de(()=>ve++),Xe(1),(0,$.z)(Le=>ve===q.length?(0,ne.of)(y):Re.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),de({next:()=>Mt=!0,complete:()=>{Mt||(y.restoreHistory(at),this.cancelNavigationTransition(at,"",2))}}))}),de(at=>{const Mt=new Qi(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next(Mt)}))}),zt(Le=>{const at=Mt=>{const sn=[];Mt.routeConfig?.loadComponent&&!Mt.routeConfig._loadedComponent&&sn.push(this.configLoader.loadComponent(Mt.routeConfig).pipe(de(gn=>{Mt.component=gn}),(0,Ue.U)(()=>{})));for(const gn of Mt.children)sn.push(...at(gn));return sn};return Ee(at(Le.targetSnapshot.root)).pipe(N(),(0,we.q)(1))}),zt(()=>this.afterPreactivation()),(0,Ue.U)(Le=>{const at=function no(C,b,y){const D=Io(C,b._root,y?y._root:void 0);return new eo(D,b)}(y.routeReuseStrategy,Le.targetSnapshot,Le.currentRouterState);return D={...Le,targetRouterState:at}}),de(Le=>{y.currentUrlTree=Le.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(Le.urlAfterRedirects,Le.rawUrl),y.routerState=Le.targetRouterState,"deferred"===y.urlUpdateStrategy&&(Le.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,Le),y.browserUrlTree=Le.urlAfterRedirects)}),((C,b,y)=>(0,Ue.U)(D=>(new ua(b,D.targetRouterState,D.currentRouterState,y).activate(C),D)))(this.rootContexts,y.routeReuseStrategy,Le=>this.events.next(Le)),(0,we.q)(1),de({next:Le=>{q=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new Zi(Le.id,this.urlSerializer.serialize(Le.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(Le.targetRouterState.snapshot),Le.resolve(!0)},complete:()=>{q=!0}}),$t(()=>{q||ve||this.cancelNavigationTransition(D,"",1),this.currentNavigation?.id===D.id&&(this.currentNavigation=null)}),ee(Le=>{if(ve=!0,ls(Le)){_o(Le)||(y.navigated=!0,y.restoreHistory(D,!0));const at=new Ni(D.id,this.urlSerializer.serialize(D.extractedUrl),Le.message,Le.cancellationCode);if(this.events.next(at),_o(Le)){const Mt=y.urlHandlingStrategy.merge(Le.url,y.rawUrlTree),sn={skipLocationChange:D.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||Ea(D.source)};y.scheduleNavigation(Mt,ki,null,sn,{resolve:D.resolve,reject:D.reject,promise:D.promise})}else D.resolve(!1)}else{y.restoreHistory(D,!0);const at=new Jn(D.id,this.urlSerializer.serialize(D.extractedUrl),Le,D.targetSnapshot??void 0);this.events.next(at);try{D.resolve(y.errorHandler(Le))}catch(Mt){D.reject(Mt)}}return Re.E}))}))}cancelNavigationTransition(y,D,q){const ve=new Ni(y.id,this.urlSerializer.serialize(y.extractedUrl),D,q);this.events.next(ve),y.resolve(!1)}}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Ea(C){return C!==ki}let rl=(()=>{class C{buildTitle(y){let D,q=y.root;for(;void 0!==q;)D=this.getResolvedTitleForRoute(q)??D,q=q.children.find(ve=>ve.outlet===Zt);return D}getResolvedTitleForRoute(y){return y.data[mn]}}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:function(){return(0,u.f3M)(Aa)},providedIn:"root"}),C})(),Aa=(()=>{class C extends rl{constructor(y){super(),this.title=y}updateTitle(y){const D=this.buildTitle(y);void 0!==D&&this.title.setTitle(D)}}return C.\u0275fac=function(y){return new(y||C)(u.LFG(kt.Dx))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Sd=(()=>{class C{}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:function(){return(0,u.f3M)(er)},providedIn:"root"}),C})();class bi{shouldDetach(b){return!1}store(b,y){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,y){return b.routeConfig===y.routeConfig}}let er=(()=>{class C extends bi{}return C.\u0275fac=function(){let b;return function(D){return(b||(b=u.n5z(C)))(D||C)}}(),C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const $s=new u.OlP("",{providedIn:"root",factory:()=>({})});let ti=(()=>{class C{}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:function(){return(0,u.f3M)(Pn)},providedIn:"root"}),C})(),Pn=(()=>{class C{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,D){return y}}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function wr(C){throw C}function jl(C,b,y){return b.parse("/")}const Qr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)($s,{optional:!0})||{},this.errorHandler=this.options.errorHandler||wr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(ti),this.routeReuseStrategy=(0,u.f3M)(Sd),this.urlCreationStrategy=(0,u.f3M)(Gr),this.titleStrategy=(0,u.f3M)(rl),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=dt((0,u.f3M)(na,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(Ua),this.urlSerializer=(0,u.f3M)(ur),this.location=(0,u.f3M)(He.Ye),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hi(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId??0},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ki,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const D="popstate"===y.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,D,y.state)},0)}))}navigateToSyncWithBrowser(y,D,q){const ve={replaceUrl:!0},Le=q?.navigationId?q:null;if(q){const Mt={...q};delete Mt.navigationId,delete Mt.\u0275routerPageId,0!==Object.keys(Mt).length&&(ve.state=Mt)}const at=this.parseUrl(y);this.scheduleNavigation(at,D,Le,ve)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(y){this.config=y.map(Yr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,D={}){const{relativeTo:q,queryParams:ve,fragment:Le,queryParamsHandling:at,preserveFragment:Mt}=D,sn=Mt?this.currentUrlTree.fragment:Le;let gn=null;switch(at){case"merge":gn={...this.currentUrlTree.queryParams,...ve};break;case"preserve":gn=this.currentUrlTree.queryParams;break;default:gn=ve||null}return null!==gn&&(gn=this.removeEmptyProps(gn)),this.urlCreationStrategy.createUrlTree(q,this.routerState,this.currentUrlTree,y,gn,sn??null)}navigateByUrl(y,D={skipLocationChange:!1}){const q=Sr(y)?y:this.parseUrl(y),ve=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(ve,ki,null,D)}navigate(y,D={skipLocationChange:!1}){return function fa(C){for(let b=0;b<C.length;b++){const y=C[b];if(null==y)throw new u.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,D),D)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let D;try{D=this.urlSerializer.parse(y)}catch(q){D=this.malformedUriErrorHandler(q,this.urlSerializer,y)}return D}isActive(y,D){let q;if(q=!0===D?{...Qr}:!1===D?{...pn}:D,Sr(y))return pt(this.currentUrlTree,y,q);const ve=this.parseUrl(y);return pt(this.currentUrlTree,ve,q)}removeEmptyProps(y){return Object.keys(y).reduce((D,q)=>{const ve=y[q];return null!=ve&&(D[q]=ve),D},{})}scheduleNavigation(y,D,q,ve,Le){if(this.disposed)return Promise.resolve(!1);let at,Mt,sn,gn;return Le?(at=Le.resolve,Mt=Le.reject,sn=Le.promise):sn=new Promise((lr,Ai)=>{at=lr,Mt=Ai}),gn="computed"===this.canceledNavigationResolution?q&&q.\u0275routerPageId?q.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:gn,source:D,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:ve,resolve:at,reject:Mt,promise:sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),sn.catch(lr=>Promise.reject(lr))}setBrowserUrl(y,D){const q=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(q)||D.extras.replaceUrl){const Le={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(q,"",Le)}else{const ve={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.go(q,"",ve)}}restoreHistory(y,D=!1){if("computed"===this.canceledNavigationResolution){const ve=this.currentPageId-(this.browserPageId??this.currentPageId);0!==ve?this.location.historyGo(ve):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ve&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,D){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:D}:{navigationId:y}}}return C.\u0275fac=function(y){return new(y||C)},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),xo=(()=>{class C{constructor(y,D,q,ve,Le,at){this.router=y,this.route=D,this.tabIndexAttribute=q,this.renderer=ve,this.el=Le,this.locationStrategy=at,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ke.x;const Mt=Le.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Mt||"area"===Mt,this.isAnchorElement?this.subscription=y.events.subscribe(sn=>{sn instanceof Zi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,u.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,u.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,u.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,D,q,ve,Le){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||D||q||ve||Le||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,D){const q=this.renderer,ve=this.el.nativeElement;null!==D?q.setAttribute(ve,y,D):q.removeAttribute(ve,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return C.\u0275fac=function(y){return new(y||C)(u.Y36(Ei),u.Y36(vs),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(He.S$))},C.\u0275dir=u.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,D){1&y&&u.NdJ("click",function(ve){return D.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&y&&u.uIk("target",D.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),C})();class pa{}let sl=(()=>{class C{constructor(y,D,q,ve,Le){this.router=y,this.injector=q,this.preloadingStrategy=ve,this.loader=Le}setUpPreloading(){this.subscription=this.router.events.pipe((0,H.h)(y=>y instanceof Zi),(0,ge.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,D){const q=[];for(const ve of D){ve.providers&&!ve._injector&&(ve._injector=(0,u.MMx)(ve.providers,y,`Route: ${ve.path}`));const Le=ve._injector??y,at=ve._loadedInjector??Le;(ve.loadChildren&&!ve._loadedRoutes&&void 0===ve.canLoad||ve.loadComponent&&!ve._loadedComponent)&&q.push(this.preloadConfig(Le,ve)),(ve.children||ve._loadedRoutes)&&q.push(this.processRoutes(at,ve.children??ve._loadedRoutes))}return(0,G.D)(q).pipe((0,Bt.J)())}preloadConfig(y,D){return this.preloadingStrategy.preload(D,()=>{let q;q=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(y,D):(0,ne.of)(null);const ve=q.pipe((0,$.z)(Le=>null===Le?(0,ne.of)(void 0):(D._loadedRoutes=Le.routes,D._loadedInjector=Le.injector,this.processRoutes(Le.injector??y,Le.routes))));if(D.loadComponent&&!D._loadedComponent){const Le=this.loader.loadComponent(D);return(0,G.D)([ve,Le]).pipe((0,Bt.J)())}return ve})}}return C.\u0275fac=function(y){return new(y||C)(u.LFG(Ei),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(pa),u.LFG(ha))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const Es=new u.OlP("");let $o=(()=>{class C{constructor(y,D,q,ve,Le={}){this.urlSerializer=y,this.transitions=D,this.viewportScroller=q,this.zone=ve,this.options=Le,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Le.scrollPositionRestoration=Le.scrollPositionRestoration||"disabled",Le.anchorScrolling=Le.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Zi&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof ji&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ji(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return C.\u0275fac=function(y){u.$Z()},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac}),C})();var co=(()=>((co=co||{})[co.COMPLETE=0]="COMPLETE",co[co.FAILED=1]="FAILED",co[co.REDIRECTING=2]="REDIRECTING",co))();const Rs=!1;function uo(C,b){return{\u0275kind:C,\u0275providers:b}}const rs=new u.OlP("",{providedIn:"root",factory:()=>!1});function ol(){const C=(0,u.f3M)(u.zs3);return b=>{const y=C.get(u.z2F);if(b!==y.components[0])return;const D=C.get(Ei),q=C.get(ks);1===C.get(Gl)&&D.initialNavigation(),C.get(ho,null,u.XFs.Optional)?.setUpPreloading(),C.get(Es,null,u.XFs.Optional)?.init(),D.resetRootComponentType(y.componentTypes[0]),q.closed||(q.next(),q.complete(),q.unsubscribe())}}const ks=new u.OlP(Rs?"bootstrap done indicator":"",{factory:()=>new ke.x}),Gl=new u.OlP(Rs?"initial navigation":"",{providedIn:"root",factory:()=>1});function Td(){let C=[];return C=Rs?[{provide:u.Xts,multi:!0,useFactory:()=>{const b=(0,u.f3M)(Ei);return()=>b.events.subscribe(y=>{console.group?.(`Router Event: ${y.constructor.name}`),console.log(function Ji(C){if(!("type"in C))return`Unknown Router Event: ${C.constructor.name}`;switch(C.type){case 14:return`ActivationEnd(path: '${C.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${C.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${C.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${C.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state}, shouldActivate: ${C.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 2:return`NavigationCancel(id: ${C.id}, url: '${C.url}')`;case 16:return`NavigationSkipped(id: ${C.id}, url: '${C.url}')`;case 1:return`NavigationEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${C.id}, url: '${C.url}', error: ${C.error})`;case 0:return`NavigationStart(id: ${C.id}, url: '${C.url}')`;case 6:return`ResolveEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 5:return`ResolveStart(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 10:return`RouteConfigLoadEnd(path: ${C.route.path})`;case 9:return`RouteConfigLoadStart(path: ${C.route.path})`;case 4:return`RoutesRecognized(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 15:return`Scroll(anchor: '${C.anchor}', position: '${C.position?`${C.position[0]}, ${C.position[1]}`:null}')`}}(y)),console.log(y),console.groupEnd?.()})}}]:[],uo(1,C)}const ho=new u.OlP(Rs?"router preloader":"");function ja(C){return uo(0,[{provide:ho,useExisting:sl},{provide:pa,useExisting:C}])}const Sa=!1,wo=new u.OlP(Sa?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Id=[He.Ye,{provide:ur,useClass:$e},Ei,si,{provide:vs,useFactory:function Et(C){return C.routerState.root},deps:[Ei]},ha,Sa?{provide:rs,useValue:!0}:[]];function ai(){return new u.PXZ("Router",Ei)}let Wl=(()=>{class C{constructor(y){}static forRoot(y,D){return{ngModule:C,providers:[Id,Sa&&D?.enableTracing?Td().\u0275providers:[],{provide:na,multi:!0,useValue:y},{provide:wo,useFactory:Ta,deps:[[Ei,new u.FiY,new u.tp0]]},{provide:$s,useValue:D||{}},D?.useHash?{provide:He.S$,useClass:He.Do}:{provide:He.S$,useClass:He.b0},{provide:Es,useFactory:()=>{const C=(0,u.f3M)(He.EM),b=(0,u.f3M)(u.R0b),y=(0,u.f3M)($s),D=(0,u.f3M)(Ua),q=(0,u.f3M)(ur);return y.scrollOffset&&C.setOffset(y.scrollOffset),new $o(q,D,C,b,y)}},D?.preloadingStrategy?ja(D.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:ai},D?.initialNavigation?ll(D):[],[{provide:cl,useFactory:ol},{provide:u.tb,multi:!0,useExisting:cl}]]}}static forChild(y){return{ngModule:C,providers:[{provide:na,multi:!0,useValue:y}]}}}return C.\u0275fac=function(y){return new(y||C)(u.LFG(wo,8))},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({imports:[Rr]}),C})();function Ta(C){if(Sa&&C)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ll(C){return["disabled"===C.initialNavigation?uo(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const b=(0,u.f3M)(Ei);return()=>{b.setUpLocationChangeListener()}}},{provide:Gl,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?uo(2,[{provide:Gl,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:b=>{const y=b.get(He.V_,Promise.resolve());return()=>y.then(()=>new Promise(D=>{const q=b.get(Ei),ve=b.get(ks);(function Tc(C,b){C.events.pipe((0,H.h)(y=>y instanceof Zi||y instanceof Ni||y instanceof Jn||y instanceof os),(0,Ue.U)(y=>y instanceof Zi||y instanceof os?co.COMPLETE:y instanceof Ni&&(0===y.code||1===y.code)?co.REDIRECTING:co.FAILED),(0,H.h)(y=>y!==co.REDIRECTING),(0,we.q)(1)).subscribe(()=>{b()})})(q,()=>{D(!0)}),b.get(Ua).afterPreactivation=()=>(D(!0),ve.closed?(0,ne.of)(void 0):ve),q.initialNavigation()}))}}]).\u0275providers:[]]}const cl=new u.OlP(Sa?"Router Initializer":"")},6881:(Be,R,V)=>{"use strict";V.d(R,{Jn:()=>cn,qX:()=>Nt,Xd:()=>Wt,Mq:()=>wn,ZF:()=>Qt,KN:()=>Un});var u=V(5861),G=V(4859),ne=V(1877),f=V(2090);const be=(Tt,Ct)=>Ct.some(Ht=>Tt instanceof Ht);let Se,me;const le=new WeakMap,ue=new WeakMap,Ie=new WeakMap,ie=new WeakMap,re=new WeakMap;let Ce={get(Tt,Ct,Ht){if(Tt instanceof IDBTransaction){if("done"===Ct)return ue.get(Tt);if("objectStoreNames"===Ct)return Tt.objectStoreNames||Ie.get(Tt);if("store"===Ct)return Ht.objectStoreNames[1]?void 0:Ht.objectStore(Ht.objectStoreNames[0])}return Y(Tt[Ct])},set:(Tt,Ct,Ht)=>(Tt[Ct]=Ht,!0),has:(Tt,Ct)=>Tt instanceof IDBTransaction&&("done"===Ct||"store"===Ct)||Ct in Tt};function A(Tt){return"function"==typeof Tt?function P(Tt){return Tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Tt)?function(...Ct){return Tt.apply(pe(this),Ct),Y(le.get(this))}:function(...Ct){return Y(Tt.apply(pe(this),Ct))}:function(Ct,...Ht){const fn=Tt.call(pe(this),Ct,...Ht);return Ie.set(fn,Ct.sort?Ct.sort():[Ct]),Y(fn)}}(Tt):(Tt instanceof IDBTransaction&&function De(Tt){if(ue.has(Tt))return;const Ct=new Promise((Ht,fn)=>{const Rn=()=>{Tt.removeEventListener("complete",Bn),Tt.removeEventListener("error",Wn),Tt.removeEventListener("abort",Wn)},Bn=()=>{Ht(),Rn()},Wn=()=>{fn(Tt.error||new DOMException("AbortError","AbortError")),Rn()};Tt.addEventListener("complete",Bn),Tt.addEventListener("error",Wn),Tt.addEventListener("abort",Wn)});ue.set(Tt,Ct)}(Tt),be(Tt,function Ae(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Tt,Ce):Tt)}function Y(Tt){if(Tt instanceof IDBRequest)return function Ee(Tt){const Ct=new Promise((Ht,fn)=>{const Rn=()=>{Tt.removeEventListener("success",Bn),Tt.removeEventListener("error",Wn)},Bn=()=>{Ht(Y(Tt.result)),Rn()},Wn=()=>{fn(Tt.error),Rn()};Tt.addEventListener("success",Bn),Tt.addEventListener("error",Wn)});return Ct.then(Ht=>{Ht instanceof IDBCursor&&le.set(Ht,Tt)}).catch(()=>{}),re.set(Ct,Tt),Ct}(Tt);if(ie.has(Tt))return ie.get(Tt);const Ct=A(Tt);return Ct!==Tt&&(ie.set(Tt,Ct),re.set(Ct,Tt)),Ct}const pe=Tt=>re.get(Tt),Q=["get","getKey","getAll","getAllKeys","count"],k=["put","add","delete","clear"],he=new Map;function Te(Tt,Ct){if(!(Tt instanceof IDBDatabase)||Ct in Tt||"string"!=typeof Ct)return;if(he.get(Ct))return he.get(Ct);const Ht=Ct.replace(/FromIndex$/,""),fn=Ct!==Ht,Rn=k.includes(Ht);if(!(Ht in(fn?IDBIndex:IDBObjectStore).prototype)||!Rn&&!Q.includes(Ht))return;const Bn=function(){var Wn=(0,u.Z)(function*(Sr,...fr){const Ii=this.transaction(Sr,Rn?"readwrite":"readonly");let Ri=Ii.store;return fn&&(Ri=Ri.index(fr.shift())),(yield Promise.all([Ri[Ht](...fr),Rn&&Ii.done]))[0]});return function(fr){return Wn.apply(this,arguments)}}();return he.set(Ct,Bn),Bn}!function ye(Tt){Ce=Tt(Ce)}(Tt=>({...Tt,get:(Ct,Ht,fn)=>Te(Ct,Ht)||Tt.get(Ct,Ht,fn),has:(Ct,Ht)=>!!Te(Ct,Ht)||Tt.has(Ct,Ht)}));class ke{constructor(Ct){this.container=Ct}getPlatformInfoString(){return this.container.getProviders().map(Ht=>{if(function He(Tt){return"VERSION"===Tt.getComponent()?.type}(Ht)){const fn=Ht.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Ht=>Ht).join(" ")}}const Ue="@firebase/app",we=new ne.Yd("@firebase/app"),Me="[DEFAULT]",nt={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,At=new Map;function Qe(Tt,Ct){try{Tt.container.addComponent(Ct)}catch(Ht){we.debug(`Component ${Ct.name} failed to register with FirebaseApp ${Tt.name}`,Ht)}}function Wt(Tt){const Ct=Tt.name;if(At.has(Ct))return we.debug(`There were multiple attempts to register component ${Ct}.`),!1;At.set(Ct,Tt);for(const Ht of dt.values())Qe(Ht,Tt);return!0}function Nt(Tt,Ct){const Ht=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ht&&Ht.triggerHeartbeat(),Tt.container.getProvider(Ct)}const ct=new f.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ht{constructor(Ct,Ht,fn){this._isDeleted=!1,this._options=Object.assign({},Ct),this._config=Object.assign({},Ht),this._name=Ht.name,this._automaticDataCollectionEnabled=Ht.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ct){this._isDeleted=Ct}checkDestroyed(){if(this.isDeleted)throw ct.create("app-deleted",{appName:this._name})}}const cn="9.23.0";function Qt(Tt,Ct={}){let Ht=Tt;"object"!=typeof Ct&&(Ct={name:Ct});const fn=Object.assign({name:Me,automaticDataCollectionEnabled:!1},Ct),Rn=fn.name;if("string"!=typeof Rn||!Rn)throw ct.create("bad-app-name",{appName:String(Rn)});if(Ht||(Ht=(0,f.aH)()),!Ht)throw ct.create("no-options");const Bn=dt.get(Rn);if(Bn){if((0,f.vZ)(Ht,Bn.options)&&(0,f.vZ)(fn,Bn.config))return Bn;throw ct.create("duplicate-app",{appName:Rn})}const Wn=new G.H0(Rn);for(const fr of At.values())Wn.addComponent(fr);const Sr=new ht(Ht,fn,Wn);return dt.set(Rn,Sr),Sr}function wn(Tt=Me){const Ct=dt.get(Tt);if(!Ct&&Tt===Me&&(0,f.aH)())return Qt();if(!Ct)throw ct.create("no-app",{appName:Tt});return Ct}function Un(Tt,Ct,Ht){var fn;let Rn=null!==(fn=nt[Tt])&&void 0!==fn?fn:Tt;Ht&&(Rn+=`-${Ht}`);const Bn=Rn.match(/\s|\//),Wn=Ct.match(/\s|\//);if(Bn||Wn){const Sr=[`Unable to register library "${Rn}" with version "${Ct}":`];return Bn&&Sr.push(`library name "${Rn}" contains illegal characters (whitespace or "/")`),Bn&&Wn&&Sr.push("and"),Wn&&Sr.push(`version name "${Ct}" contains illegal characters (whitespace or "/")`),void we.warn(Sr.join(" "))}Wt(new G.wA(`${Rn}-version`,()=>({library:Rn,version:Ct}),"VERSION"))}const nr="firebase-heartbeat-database",ur=1,$e="firebase-heartbeat-store";let qe=null;function it(){return qe||(qe=function J(Tt,Ct,{blocked:Ht,upgrade:fn,blocking:Rn,terminated:Bn}={}){const Wn=indexedDB.open(Tt,Ct),Sr=Y(Wn);return fn&&Wn.addEventListener("upgradeneeded",fr=>{fn(Y(Wn.result),fr.oldVersion,fr.newVersion,Y(Wn.transaction),fr)}),Ht&&Wn.addEventListener("blocked",fr=>Ht(fr.oldVersion,fr.newVersion,fr)),Sr.then(fr=>{Bn&&fr.addEventListener("close",()=>Bn()),Rn&&fr.addEventListener("versionchange",Ii=>Rn(Ii.oldVersion,Ii.newVersion,Ii))}).catch(()=>{}),Sr}(nr,ur,{upgrade:(Tt,Ct)=>{0===Ct&&Tt.createObjectStore($e)}}).catch(Tt=>{throw ct.create("idb-open",{originalErrorMessage:Tt.message})})),qe}function vt(){return(vt=(0,u.Z)(function*(Tt){try{return yield(yield it()).transaction($e).objectStore($e).get(tt(Tt))}catch(Ct){if(Ct instanceof f.ZR)we.warn(Ct.message);else{const Ht=ct.create("idb-get",{originalErrorMessage:Ct?.message});we.warn(Ht.message)}}})).apply(this,arguments)}function qt(Tt,Ct){return rt.apply(this,arguments)}function rt(){return(rt=(0,u.Z)(function*(Tt,Ct){try{const fn=(yield it()).transaction($e,"readwrite");yield fn.objectStore($e).put(Ct,tt(Tt)),yield fn.done}catch(Ht){if(Ht instanceof f.ZR)we.warn(Ht.message);else{const fn=ct.create("idb-set",{originalErrorMessage:Ht?.message});we.warn(fn.message)}}})).apply(this,arguments)}function tt(Tt){return`${Tt.name}!${Tt.options.appId}`}class Rt{constructor(Ct){this.container=Ct,this._heartbeatsCache=null;const Ht=this.container.getProvider("app").getImmediate();this._storage=new bn(Ht),this._heartbeatsCachePromise=this._storage.read().then(fn=>(this._heartbeatsCache=fn,fn))}triggerHeartbeat(){var Ct=this;return(0,u.Z)(function*(){const fn=Ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rn=Kt();if(null===Ct._heartbeatsCache&&(Ct._heartbeatsCache=yield Ct._heartbeatsCachePromise),Ct._heartbeatsCache.lastSentHeartbeatDate!==Rn&&!Ct._heartbeatsCache.heartbeats.some(Bn=>Bn.date===Rn))return Ct._heartbeatsCache.heartbeats.push({date:Rn,agent:fn}),Ct._heartbeatsCache.heartbeats=Ct._heartbeatsCache.heartbeats.filter(Bn=>{const Wn=new Date(Bn.date).valueOf();return Date.now()-Wn<=2592e6}),Ct._storage.overwrite(Ct._heartbeatsCache)})()}getHeartbeatsHeader(){var Ct=this;return(0,u.Z)(function*(){if(null===Ct._heartbeatsCache&&(yield Ct._heartbeatsCachePromise),null===Ct._heartbeatsCache||0===Ct._heartbeatsCache.heartbeats.length)return"";const Ht=Kt(),{heartbeatsToSend:fn,unsentEntries:Rn}=function En(Tt,Ct=1024){const Ht=[];let fn=Tt.slice();for(const Rn of Tt){const Bn=Ht.find(Wn=>Wn.agent===Rn.agent);if(Bn){if(Bn.dates.push(Rn.date),hr(Ht)>Ct){Bn.dates.pop();break}}else if(Ht.push({agent:Rn.agent,dates:[Rn.date]}),hr(Ht)>Ct){Ht.pop();break}fn=fn.slice(1)}return{heartbeatsToSend:Ht,unsentEntries:fn}}(Ct._heartbeatsCache.heartbeats),Bn=(0,f.L)(JSON.stringify({version:2,heartbeats:fn}));return Ct._heartbeatsCache.lastSentHeartbeatDate=Ht,Rn.length>0?(Ct._heartbeatsCache.heartbeats=Rn,yield Ct._storage.overwrite(Ct._heartbeatsCache)):(Ct._heartbeatsCache.heartbeats=[],Ct._storage.overwrite(Ct._heartbeatsCache)),Bn})()}}function Kt(){return(new Date).toISOString().substring(0,10)}class bn{constructor(Ct){this.app=Ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,f.hl)()&&(0,f.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ct=this;return(0,u.Z)(function*(){return(yield Ct._canUseIndexedDBPromise)&&(yield function Pt(Tt){return vt.apply(this,arguments)}(Ct.app))||{heartbeats:[]}})()}overwrite(Ct){var Ht=this;return(0,u.Z)(function*(){var fn;if(yield Ht._canUseIndexedDBPromise){const Bn=yield Ht.read();return qt(Ht.app,{lastSentHeartbeatDate:null!==(fn=Ct.lastSentHeartbeatDate)&&void 0!==fn?fn:Bn.lastSentHeartbeatDate,heartbeats:Ct.heartbeats})}})()}add(Ct){var Ht=this;return(0,u.Z)(function*(){var fn;if(yield Ht._canUseIndexedDBPromise){const Bn=yield Ht.read();return qt(Ht.app,{lastSentHeartbeatDate:null!==(fn=Ct.lastSentHeartbeatDate)&&void 0!==fn?fn:Bn.lastSentHeartbeatDate,heartbeats:[...Bn.heartbeats,...Ct.heartbeats]})}})()}}function hr(Tt){return(0,f.L)(JSON.stringify({version:2,heartbeats:Tt})).length}!function zn(Tt){Wt(new G.wA("platform-logger",Ct=>new ke(Ct),"PRIVATE")),Wt(new G.wA("heartbeat",Ct=>new Rt(Ct),"PRIVATE")),Un(Ue,"0.9.13",Tt),Un(Ue,"0.9.13","esm2017"),Un("fire-js","")}("")},4859:(Be,R,V)=>{"use strict";V.d(R,{H0:()=>Ae,wA:()=>ne});var u=V(5861),G=V(2090);class ne{constructor(le,ue,Ie){this.name=le,this.instanceFactory=ue,this.type=Ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const f="[DEFAULT]";class be{constructor(le,ue){this.name=le,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const ue=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(ue)){const Ie=new G.BH;if(this.instancesDeferred.set(ue,Ie),this.isInitialized(ue)||this.shouldAutoInitialize())try{const ie=this.getOrInitializeService({instanceIdentifier:ue});ie&&Ie.resolve(ie)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(le){var ue;const Ie=this.normalizeInstanceIdentifier(le?.identifier),ie=null!==(ue=le?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Ie)&&!this.shouldAutoInitialize()){if(ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ie})}catch(re){if(ie)return null;throw re}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function me(Ve){return"EAGER"===Ve.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:f})}catch{}for(const[ue,Ie]of this.instancesDeferred.entries()){const ie=this.normalizeInstanceIdentifier(ue);try{const re=this.getOrInitializeService({instanceIdentifier:ie});Ie.resolve(re)}catch{}}}}clearInstance(le=f){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,u.Z)(function*(){const ue=Array.from(le.instances.values());yield Promise.all([...ue.filter(Ie=>"INTERNAL"in Ie).map(Ie=>Ie.INTERNAL.delete()),...ue.filter(Ie=>"_delete"in Ie).map(Ie=>Ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=f){return this.instances.has(le)}getOptions(le=f){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:ue={}}=le,Ie=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(Ie))throw Error(`${this.name}(${Ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ie=this.getOrInitializeService({instanceIdentifier:Ie,options:ue});for(const[re,Ee]of this.instancesDeferred.entries())Ie===this.normalizeInstanceIdentifier(re)&&Ee.resolve(ie);return ie}onInit(le,ue){var Ie;const ie=this.normalizeInstanceIdentifier(ue),re=null!==(Ie=this.onInitCallbacks.get(ie))&&void 0!==Ie?Ie:new Set;re.add(le),this.onInitCallbacks.set(ie,re);const Ee=this.instances.get(ie);return Ee&&le(Ee,ie),()=>{re.delete(le)}}invokeOnInitCallbacks(le,ue){const Ie=this.onInitCallbacks.get(ue);if(Ie)for(const ie of Ie)try{ie(le,ue)}catch{}}getOrInitializeService({instanceIdentifier:le,options:ue={}}){let Ie=this.instances.get(le);if(!Ie&&this.component&&(Ie=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=le,Ve===f?void 0:Ve),options:ue}),this.instances.set(le,Ie),this.instancesOptions.set(le,ue),this.invokeOnInitCallbacks(Ie,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,Ie)}catch{}var Ve;return Ie||null}normalizeInstanceIdentifier(le=f){return this.component?this.component.multipleInstances?le:f:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const ue=this.getProvider(le.name);if(ue.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);ue.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const ue=new be(le,this);return this.providers.set(le,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(Be,R,V)=>{"use strict";V.d(R,{Yd:()=>me,in:()=>G});const u=[];var G=(()=>{return(le=G||(G={}))[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",G;var le})();const ne={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},f=G.INFO,be={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},Se=(le,ue,...Ie)=>{if(ue<le.logLevel)return;const ie=(new Date).toISOString(),re=be[ue];if(!re)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[re](`[${ie}]  ${le.name}:`,...Ie)};class me{constructor(ue){this.name=ue,this._logLevel=f,this._logHandler=Se,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in G))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?ne[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...ue),this._logHandler(this,G.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...ue),this._logHandler(this,G.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,G.INFO,...ue),this._logHandler(this,G.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,G.WARN,...ue),this._logHandler(this,G.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...ue),this._logHandler(this,G.ERROR,...ue)}}},7280:(Be,R,V)=>{"use strict";V.d(R,{hJ:()=>ro,v0:()=>Uc,rh:()=>Le,w7:()=>Ut});var u=V(5861),G=V(2090),ne=V(6881),f=V(7582),be=V(1877),Se=V(4859);const Ee=function ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},De=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new be.Yd("@firebase/auth");function A(E,...p){ye.logLevel<=be.in.ERROR&&ye.error(`Auth (${ne.Jn}): ${E}`,...p)}function Y(E,...p){throw Q(E,...p)}function pe(E,...p){return Q(E,...p)}function J(E,p,_){const S=Object.assign(Object.assign({},Ee()),{[p]:_});return new G.LL("auth","Firebase",S).create(p,{appName:E.name})}function Q(E,...p){if("string"!=typeof E){const _=p[0],S=[...p.slice(1)];return S[0]&&(S[0].appName=E.name),E._errorFactory.create(_,...S)}return De.create(E,...p)}function k(E,p,..._){if(!E)throw Q(p,..._)}function he(E){const p="INTERNAL ASSERTION FAILED: "+E;throw A(p),new Error(p)}function Te(E,p){E||he(p)}function ke(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Ue(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class te{constructor(p,_){this.shortDelay=p,this.longDelay=_,Te(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function ot(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function He(){return"http:"===Ue()||"https:"===Ue()}()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function H(E,p){Te(E.emulator,"Emulator should always be set here");const{url:_}=E.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class ${static initialize(p,_,S){this.fetchImpl=p,_&&(this.headersImpl=_),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},w=new te(3e4,6e4);function M(E,p){return E.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:E.tenantId}):p}function W(E,p,_,S){return ge.apply(this,arguments)}function ge(){return(ge=(0,u.Z)(function*(E,p,_,S,fe={}){return de(E,fe,(0,u.Z)(function*(){let Fe={},ut={};S&&("GET"===p?ut=S:Fe={body:JSON.stringify(S)});const Ot=(0,G.xO)(Object.assign({key:E.config.apiKey},ut)).slice(1),ln=yield E._getAdditionalHeaders();return ln["Content-Type"]="application/json",E.languageCode&&(ln["X-Firebase-Locale"]=E.languageCode),$.fetch()(Xe(E,E.config.apiHost,_,Ot),Object.assign({method:p,headers:ln,referrerPolicy:"no-referrer"},Fe))}))})).apply(this,arguments)}function de(E,p,_){return ee.apply(this,arguments)}function ee(){return(ee=(0,u.Z)(function*(E,p,_){E._canInitEmulator=!1;const S=Object.assign(Object.assign({},N),p);try{const fe=new Ke(E),Fe=yield Promise.race([_(),fe.promise]);fe.clearNetworkTimeout();const ut=yield Fe.json();if("needConfirmation"in ut)throw mt(E,"account-exists-with-different-credential",ut);if(Fe.ok&&!("errorMessage"in ut))return ut;{const Ot=Fe.ok?ut.errorMessage:ut.error.message,[ln,_n]=Ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ln)throw mt(E,"credential-already-in-use",ut);if("EMAIL_EXISTS"===ln)throw mt(E,"email-already-in-use",ut);if("USER_DISABLED"===ln)throw mt(E,"user-disabled",ut);const kn=S[ln]||ln.toLowerCase().replace(/[_\s]+/g,"-");if(_n)throw J(E,kn,_n);Y(E,kn)}}catch(fe){if(fe instanceof G.ZR)throw fe;Y(E,"network-request-failed",{message:String(fe)})}})).apply(this,arguments)}function We(E,p,_,S){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(E,p,_,S,fe={}){const Fe=yield W(E,p,_,S,fe);return"mfaPendingCredential"in Fe&&Y(E,"multi-factor-auth-required",{_serverResponse:Fe}),Fe})).apply(this,arguments)}function Xe(E,p,_,S){const fe=`${p}${_}?${S}`;return E.config.emulator?H(E.config,fe):`${E.config.apiScheme}://${fe}`}class Ke{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,S)=>{this.timer=setTimeout(()=>S(pe(this.auth,"network-request-failed")),w.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mt(E,p,_){const S={appName:E.name};_.email&&(S.email=_.email),_.phoneNumber&&(S.phoneNumber=_.phoneNumber);const fe=pe(E,p,S);return fe.customData._tokenResponse=_,fe}function $t(){return($t=(0,u.Z)(function*(E,p){return W(E,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(E,p){return W(E,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Xt(E){if(E)try{const p=new Date(Number(E));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function _t(){return(_t=(0,u.Z)(function*(E,p=!1){const _=(0,G.m9)(E),S=yield _.getIdToken(p),fe=nt(S);k(fe&&fe.exp&&fe.auth_time&&fe.iat,_.auth,"internal-error");const Fe="object"==typeof fe.firebase?fe.firebase:void 0,ut=Fe?.sign_in_provider;return{claims:fe,token:S,authTime:Xt(Me(fe.auth_time)),issuedAtTime:Xt(Me(fe.iat)),expirationTime:Xt(Me(fe.exp)),signInProvider:ut||null,signInSecondFactor:Fe?.sign_in_second_factor||null}})).apply(this,arguments)}function Me(E){return 1e3*Number(E)}function nt(E){const[p,_,S]=E.split(".");if(void 0===p||void 0===_||void 0===S)return A("JWT malformed, contained fewer than 3 sections"),null;try{const fe=(0,G.tV)(_);return fe?JSON.parse(fe):(A("Failed to decode base64 JWT payload"),null)}catch(fe){return A("Caught error parsing JWT payload as JSON",fe?.toString()),null}}function At(E,p){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,u.Z)(function*(E,p,_=!1){if(_)return p;try{return yield p}catch(S){throw S instanceof G.ZR&&function yt({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(S)&&E.auth.currentUser===E&&(yield E.auth.signOut()),S}})).apply(this,arguments)}class Wt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const fe=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,fe)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const S=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),S)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Nt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yn(E){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,u.Z)(function*(E){var p;const _=E.auth,S=yield E.getIdToken(),fe=yield At(E,function Zt(E,p){return mn.apply(this,arguments)}(_,{idToken:S}));k(fe?.users.length,_,"internal-error");const Fe=fe.users[0];E._notifyReloadListener(Fe);const ut=null!==(p=Fe.providerUserInfo)&&void 0!==p&&p.length?function cn(E){return E.map(p=>{var{providerId:_}=p,S=(0,f._T)(p,["providerId"]);return{providerId:_,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}(Fe.providerUserInfo):[],Ot=function ht(E,p){return[...E.filter(S=>!p.some(fe=>fe.providerId===S.providerId)),...p]}(E.providerData,ut),kn=!!E.isAnonymous&&!(E.email&&Fe.passwordHash||Ot?.length),_r={uid:Fe.localId,displayName:Fe.displayName||null,photoURL:Fe.photoUrl||null,email:Fe.email||null,emailVerified:Fe.emailVerified||!1,phoneNumber:Fe.phoneNumber||null,tenantId:Fe.tenantId||null,providerData:Ot,metadata:new Nt(Fe.createdAt,Fe.lastLoginAt),isAnonymous:kn};Object.assign(E,_r)}),Gn.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(E){const p=(0,G.m9)(E);yield yn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(E,p){const _=yield de(E,{},(0,u.Z)(function*(){const S=(0,G.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:fe,apiKey:Fe}=E.config,ut=Xe(E,fe,"/v1/token",`key=${Fe}`),Ot=yield E._getAdditionalHeaders();return Ot["Content-Type"]="application/x-www-form-urlencoded",$.fetch()(ut,{method:"POST",headers:Ot,body:S})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){k(p.idToken,"internal-error"),k(typeof p.idToken<"u","internal-error"),k(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function dt(E){const p=nt(E);return k(p,"internal-error"),k(typeof p.exp<"u","internal-error"),k(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var S=this;return(0,u.Z)(function*(){return k(!S.accessToken||S.refreshToken,p,"user-token-expired"),_||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(p,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var S=this;return(0,u.Z)(function*(){const{accessToken:fe,refreshToken:Fe,expiresIn:ut}=yield function Qt(E,p){return wn.apply(this,arguments)}(p,_);S.updateTokensAndExpiration(fe,Fe,Number(ut))})()}updateTokensAndExpiration(p,_,S){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(p,_){const{refreshToken:S,accessToken:fe,expirationTime:Fe}=_,ut=new rn;return S&&(k("string"==typeof S,"internal-error",{appName:p}),ut.refreshToken=S),fe&&(k("string"==typeof fe,"internal-error",{appName:p}),ut.accessToken=fe),Fe&&(k("number"==typeof Fe,"internal-error",{appName:p}),ut.expirationTime=Fe),ut}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new rn,this.toJSON())}_performRefresh(){return he("not implemented")}}function In(E,p){k("string"==typeof E||typeof E>"u","internal-error",{appName:p})}class nn{constructor(p){var{uid:_,auth:S,stsTokenManager:fe}=p,Fe=(0,f._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=S,this.stsTokenManager=fe,this.accessToken=fe.accessToken,this.displayName=Fe.displayName||null,this.email=Fe.email||null,this.emailVerified=Fe.emailVerified||!1,this.phoneNumber=Fe.phoneNumber||null,this.photoURL=Fe.photoURL||null,this.isAnonymous=Fe.isAnonymous||!1,this.tenantId=Fe.tenantId||null,this.providerData=Fe.providerData?[...Fe.providerData]:[],this.metadata=new Nt(Fe.createdAt||void 0,Fe.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,u.Z)(function*(){const S=yield At(_,_.stsTokenManager.getToken(_.auth,p));return k(S,_.auth,"internal-error"),_.accessToken!==S&&(_.accessToken=S,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),S})()}getIdTokenResult(p){return function Hn(E){return _t.apply(this,arguments)}(this,p)}reload(){return function pt(E){return ct.apply(this,arguments)}(this)}_assign(p){this!==p&&(k(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new nn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var S=this;return(0,u.Z)(function*(){let fe=!1;p.idToken&&p.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(p),fe=!0),_&&(yield yn(S)),yield S.auth._persistUserIfCurrent(S),fe&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var p=this;return(0,u.Z)(function*(){const _=yield p.getIdToken();return yield At(p,function Lt(E,p){return $t.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var S,fe,Fe,ut,Ot,ln,_n,kn;const _r=null!==(S=_.displayName)&&void 0!==S?S:void 0,Ys=null!==(fe=_.email)&&void 0!==fe?fe:void 0,Ls=null!==(Fe=_.phoneNumber)&&void 0!==Fe?Fe:void 0,vl=null!==(ut=_.photoURL)&&void 0!==ut?ut:void 0,fo=null!==(Ot=_.tenantId)&&void 0!==Ot?Ot:void 0,Bc=null!==(ln=_._redirectEventId)&&void 0!==ln?ln:void 0,Wa=null!==(_n=_.createdAt)&&void 0!==_n?_n:void 0,jc=null!==(kn=_.lastLoginAt)&&void 0!==kn?kn:void 0,{uid:Is,emailVerified:Hc,isAnonymous:qa,providerData:Bu,stsTokenManager:uf}=_;k(Is&&uf,p,"internal-error");const sr=rn.fromJSON(this.name,uf);k("string"==typeof Is,p,"internal-error"),In(_r,p.name),In(Ys,p.name),k("boolean"==typeof Hc,p,"internal-error"),k("boolean"==typeof qa,p,"internal-error"),In(Ls,p.name),In(vl,p.name),In(fo,p.name),In(Bc,p.name),In(Wa,p.name),In(jc,p.name);const ju=new nn({uid:Is,auth:p,email:Ys,emailVerified:Hc,displayName:_r,isAnonymous:qa,photoURL:vl,phoneNumber:Ls,tenantId:fo,stsTokenManager:sr,createdAt:Wa,lastLoginAt:jc});return Bu&&Array.isArray(Bu)&&(ju.providerData=Bu.map(Gc=>Object.assign({},Gc))),Bc&&(ju._redirectEventId=Bc),ju}static _fromIdTokenResponse(p,_,S=!1){return(0,u.Z)(function*(){const fe=new rn;fe.updateFromServerResponse(_);const Fe=new nn({uid:_.localId,auth:p,stsTokenManager:fe,isAnonymous:S});return yield yn(Fe),Fe})()}}const Un=new Map;function $n(E){Te(E instanceof Function,"Expected a class definition");let p=Un.get(E);return p?(Te(p instanceof E,"Instance stored in cache mismatched with class"),p):(p=new E,Un.set(E,p),p)}const nr=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,S){var fe=this;return(0,u.Z)(function*(){fe.storage[_]=S})()}_get(_){var S=this;return(0,u.Z)(function*(){const fe=S.storage[_];return void 0===fe?null:fe})()}_remove(_){var S=this;return(0,u.Z)(function*(){delete S.storage[_]})()}_addListener(_,S){}_removeListener(_,S){}}return E.type="NONE",E})();function ur(E,p,_){return`firebase:${E}:${p}:${_}`}class $e{constructor(p,_,S){this.persistence=p,this.auth=_,this.userKey=S;const{config:fe,name:Fe}=this.auth;this.fullUserKey=ur(this.userKey,fe.apiKey,Fe),this.fullPersistenceKey=ur("persistence",fe.apiKey,Fe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?nn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,u.Z)(function*(){if(_.persistence===p)return;const S=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,S?_.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,S="authUser"){return(0,u.Z)(function*(){if(!_.length)return new $e($n(nr),p,S);const fe=(yield Promise.all(_.map(function(){var _n=(0,u.Z)(function*(kn){if(yield kn._isAvailable())return kn});return function(kn){return _n.apply(this,arguments)}}()))).filter(_n=>_n);let Fe=fe[0]||$n(nr);const ut=ur(S,p.config.apiKey,p.name);let Ot=null;for(const _n of _)try{const kn=yield _n._get(ut);if(kn){const _r=nn._fromJSON(p,kn);_n!==Fe&&(Ot=_r),Fe=_n;break}}catch{}const ln=fe.filter(_n=>_n._shouldAllowMigration);return Fe._shouldAllowMigration&&ln.length?(Fe=ln[0],Ot&&(yield Fe._set(ut,Ot.toJSON())),yield Promise.all(_.map(function(){var _n=(0,u.Z)(function*(kn){if(kn!==Fe)try{yield kn._remove(ut)}catch{}});return function(kn){return _n.apply(this,arguments)}}())),new $e(Fe,p,S)):new $e(Fe,p,S)})()}}function qe(E){const p=E.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(qt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(it(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(tt(p))return"Blackberry";if(Ge(p))return"Webos";if(Pt(p))return"Safari";if((p.includes("chrome/")||vt(p))&&!p.includes("edge/"))return"Chrome";if(rt(p))return"Android";{const S=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function it(E=(0,G.z$)()){return/firefox\//i.test(E)}function Pt(E=(0,G.z$)()){const p=E.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function vt(E=(0,G.z$)()){return/crios\//i.test(E)}function qt(E=(0,G.z$)()){return/iemobile/i.test(E)}function rt(E=(0,G.z$)()){return/android/i.test(E)}function tt(E=(0,G.z$)()){return/blackberry/i.test(E)}function Ge(E=(0,G.z$)()){return/webos/i.test(E)}function ft(E=(0,G.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function bn(E=(0,G.z$)()){return ft(E)||rt(E)||Ge(E)||tt(E)||/windows phone/i.test(E)||qt(E)}function zn(E,p=[]){let _;switch(E){case"Browser":_=qe((0,G.z$)());break;case"Worker":_=`${qe((0,G.z$)())}-${E}`;break;default:_=E}const S=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${ne.Jn}/${S}`}function Ht(E,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(E,p){return W(E,"GET","/v2/recaptchaConfig",M(E,p))})).apply(this,arguments)}function Bn(E){return void 0!==E&&void 0!==E.enterprise}class Wn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function fr(E){return new Promise((p,_)=>{const S=document.createElement("script");S.setAttribute("src",E),S.onload=p,S.onerror=fe=>{const Fe=pe("internal-error");Fe.customData=fe,_(Fe)},S.type="text/javascript",S.charset="UTF-8",function Sr(){var E,p;return null!==(p=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==p?p:document}().appendChild(S)})}function Ii(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Br="NO_RECAPTCHA";class qr{constructor(p){this.type="recaptcha-enterprise",this.auth=tr(p)}verify(p="verify",_=!1){var S=this;return(0,u.Z)(function*(){function Fe(){return Fe=(0,u.Z)(function*(Ot){if(!_){if(null==Ot.tenantId&&null!=Ot._agentRecaptchaConfig)return Ot._agentRecaptchaConfig.siteKey;if(null!=Ot.tenantId&&void 0!==Ot._tenantRecaptchaConfigs[Ot.tenantId])return Ot._tenantRecaptchaConfigs[Ot.tenantId].siteKey}return new Promise(function(){var ln=(0,u.Z)(function*(_n,kn){Ht(Ot,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_r=>{if(void 0!==_r.recaptchaKey){const Ys=new Wn(_r);return null==Ot.tenantId?Ot._agentRecaptchaConfig=Ys:Ot._tenantRecaptchaConfigs[Ot.tenantId]=Ys,_n(Ys.siteKey)}kn(new Error("recaptcha Enterprise site key undefined"))}).catch(_r=>{kn(_r)})});return function(_n,kn){return ln.apply(this,arguments)}}())}),Fe.apply(this,arguments)}function ut(Ot,ln,_n){const kn=window.grecaptcha;Bn(kn)?kn.enterprise.ready(()=>{kn.enterprise.execute(Ot,{action:p}).then(_r=>{ln(_r)}).catch(()=>{ln(Br)})}):_n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ot,ln)=>{(function fe(Ot){return Fe.apply(this,arguments)})(S.auth).then(_n=>{if(!_&&Bn(window.grecaptcha))ut(_n,Ot,ln);else{if(typeof window>"u")return void ln(new Error("RecaptchaVerifier is only supported in browser"));fr("https://www.google.com/recaptcha/enterprise.js?render="+_n).then(()=>{ut(_n,Ot,ln)}).catch(kn=>{ln(kn)})}}).catch(_n=>{ln(_n)})})})()}}class Lr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const S=Fe=>new Promise((ut,Ot)=>{try{ut(p(Fe))}catch(ln){Ot(ln)}});S.onAbort=_,this.queue.push(S);const fe=this.queue.length-1;return()=>{this.queue[fe]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,u.Z)(function*(){if(_.auth.currentUser===p)return;const S=[];try{for(const fe of _.queue)yield fe(p),fe.onAbort&&S.push(fe.onAbort)}catch(fe){S.reverse();for(const Fe of S)try{Fe()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:fe?.message})}})()}}class ms{constructor(p,_,S,fe){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=S,this.config=fe,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ii(this),this.idTokenSubscription=new ii(this),this.beforeStateQueue=new Lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=De,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=fe.sdkClientVersion}_initializeWithPersistence(p,_){var S=this;return _&&(this._popupRedirectResolver=$n(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var fe,Fe;if(!S._deleted&&(S.persistenceManager=yield $e.create(S,p),!S._deleted)){if(null!==(fe=S._popupRedirectResolver)&&void 0!==fe&&fe._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(_),S.lastNotifiedUid=(null===(Fe=S.currentUser)||void 0===Fe?void 0:Fe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,u.Z)(function*(){var S;const fe=yield _.assertedPersistence.getCurrentUser();let Fe=fe,ut=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ot=null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId,ln=Fe?._redirectEventId,_n=yield _.tryRedirectSignIn(p);(!Ot||Ot===ln)&&_n?.user&&(Fe=_n.user,ut=!0)}if(!Fe)return _.directlySetCurrentUser(null);if(!Fe._redirectEventId){if(ut)try{yield _.beforeStateQueue.runMiddleware(Fe)}catch(Ot){Fe=fe,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ot))}return Fe?_.reloadAndSetCurrentUserOrClear(Fe):_.directlySetCurrentUser(null)}return k(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===Fe._redirectEventId?_.directlySetCurrentUser(Fe):_.reloadAndSetCurrentUserOrClear(Fe)})()}tryRedirectSignIn(p){var _=this;return(0,u.Z)(function*(){let S=null;try{S=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,u.Z)(function*(){try{yield yn(p)}catch(S){if("auth/network-request-failed"!==S?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function we(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,u.Z)(function*(){const S=p?(0,G.m9)(p):null;return S&&k(S.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(S&&S._clone(_))})()}_updateCurrentUser(p,_=!1){var S=this;return(0,u.Z)(function*(){if(!S._deleted)return p&&k(S.tenantId===p.tenantId,S,"tenant-id-mismatch"),_||(yield S.beforeStateQueue.runMiddleware(p)),S.queue((0,u.Z)(function*(){yield S.directlySetCurrentUser(p),S.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence($n(p))}))}initializeRecaptchaConfig(){var p=this;return(0,u.Z)(function*(){const _=yield Ht(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),S=new Wn(_);null==p.tenantId?p._agentRecaptchaConfig=S:p._tenantRecaptchaConfigs[p.tenantId]=S,S.emailPasswordEnabled&&new qr(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new G.LL("auth","Firebase",p())}onAuthStateChanged(p,_,S){return this.registerStateListener(this.authStateSubscription,p,_,S)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,S){return this.registerStateListener(this.idTokenSubscription,p,_,S)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var S=this;return(0,u.Z)(function*(){const fe=yield S.getOrInitRedirectPersistenceManager(_);return null===p?fe.removeCurrentUser():fe.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const S=p&&$n(p)||_._popupRedirectResolver;k(S,_,"argument-error"),_.redirectPersistenceManager=yield $e.create(_,[$n(S._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,u.Z)(function*(){var S,fe;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(S=_._currentUser)||void 0===S?void 0:S._redirectEventId)===p?_._currentUser:(null===(fe=_.redirectUser)||void 0===fe?void 0:fe._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,u.Z)(function*(){if(p===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,S,fe){if(this._deleted)return()=>{};const Fe="function"==typeof _?_:_.next.bind(_),ut=this._isInitialized?Promise.resolve():this._initializationPromise;return k(ut,this,"internal-error"),ut.then(()=>Fe(this.currentUser)),"function"==typeof _?p.addObserver(_,S,fe):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var _;const S={"X-Client-Version":p.clientVersion};p.app.options.appId&&(S["X-Firebase-gmpid"]=p.app.options.appId);const fe=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();fe&&(S["X-Firebase-Client"]=fe);const Fe=yield p._getAppCheckToken();return Fe&&(S["X-Firebase-AppCheck"]=Fe),S})()}_getAppCheckToken(){var p=this;return(0,u.Z)(function*(){var _;const S=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return S?.error&&function P(E,...p){ye.logLevel<=be.in.WARN&&ye.warn(`Auth (${ne.Jn}): ${E}`,...p)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function tr(E){return(0,G.m9)(E)}class ii{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,G.ne)(_=>this.observer=_)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function en(E){const p=E.indexOf(":");return p<0?"":E.substr(0,p+1)}function Qn(E){if(!E)return null;const p=Number(E);return isNaN(p)?null:p}class mi{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return he("not implemented")}_getIdTokenResponse(p){return he("not implemented")}_linkToIdToken(p,_){return he("not implemented")}_getReauthenticationResolver(p){return he("not implemented")}}function Ln(E,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(E,p){return We(E,"POST","/v1/accounts:signInWithIdp",M(E,p))})).apply(this,arguments)}class Gr extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Gr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Y("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:S,signInMethod:fe}=_,Fe=(0,f._T)(_,["providerId","signInMethod"]);if(!S||!fe)return null;const ut=new Gr(S,fe);return ut.idToken=Fe.idToken||void 0,ut.accessToken=Fe.accessToken||void 0,ut.secret=Fe.secret,ut.nonce=Fe.nonce,ut.pendingToken=Fe.pendingToken||null,ut}_getIdTokenResponse(p){return Ln(p,this.buildRequest())}_linkToIdToken(p,_){const S=this.buildRequest();return S.idToken=_,Ln(p,S)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Ln(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,G.xO)(_)}return p}}class ts{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class mo extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}let ro=(()=>{class E extends mo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,S){return Gr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:S})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:S,oauthAccessToken:fe}=_;if(!S&&!fe)return null;try{return E.credential(S,fe)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})();class $r{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,S,fe=!1){return(0,u.Z)(function*(){const Fe=yield nn._fromIdTokenResponse(p,S,fe),ut=Bs(S);return new $r({user:Fe,providerId:ut,_tokenResponse:S,operationType:_})})()}static _forOperation(p,_,S){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(S,!0);const fe=Bs(S);return new $r({user:p,providerId:fe,_tokenResponse:S,operationType:_})})()}}function Bs(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class Rr extends G.ZR{constructor(p,_,S,fe){var Fe;super(_.code,_.message),this.operationType=S,this.user=fe,Object.setPrototypeOf(this,Rr.prototype),this.customData={appName:p.name,tenantId:null!==(Fe=p.tenantId)&&void 0!==Fe?Fe:void 0,_serverResponse:_.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(p,_,S,fe){return new Rr(p,_,S,fe)}}function io(E,p,_,S){return("reauthenticate"===p?_._getReauthenticationResolver(E):_._getIdTokenResponse(E)).catch(Fe=>{throw"auth/multi-factor-auth-required"===Fe.code?Rr._fromErrorAndOperation(E,Fe,p,S):Fe})}function vo(E,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,u.Z)(function*(E,p,_=!1){const S=yield At(E,p._linkToIdToken(E.auth,yield E.getIdToken()),_);return $r._forOperation(E,"link",S)})).apply(this,arguments)}function so(E,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(E,p,_=!1){const{auth:S}=E,fe="reauthenticate";try{const Fe=yield At(E,io(S,fe,p,E),_);k(Fe.idToken,S,"internal-error");const ut=nt(Fe.idToken);k(ut,S,"internal-error");const{sub:Ot}=ut;return k(E.uid===Ot,S,"user-mismatch"),$r._forOperation(E,fe,Fe)}catch(Fe){throw"auth/user-not-found"===Fe?.code&&Y(S,"user-mismatch"),Fe}})).apply(this,arguments)}function Ci(E,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,u.Z)(function*(E,p,_=!1){const S="signIn",fe=yield io(E,S,p),Fe=yield $r._fromIdTokenResponse(E,S,fe);return _||(yield E._updateCurrentUser(Fe.user)),Fe})).apply(this,arguments)}function Ut(E){return(0,G.m9)(E).signOut()}const St="__sak";class zt{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(St,"1"),this.storage.removeItem(St),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bl=(()=>{class E extends zt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,S)=>this.onStorageEvent(_,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Mi(){const E=(0,G.z$)();return Pt(E)||ft(E)}()&&function hr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const S of Object.keys(this.listeners)){const fe=this.storage.getItem(S),Fe=this.localCache[S];fe!==Fe&&_(S,Fe,fe)}}onStorageEvent(_,S=!1){if(!_.key)return void this.forAllChangedKeys((Ot,ln,_n)=>{this.notifyListeners(Ot,_n)});const fe=_.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ot=this.storage.getItem(fe);if(_.newValue!==Ot)null!==_.newValue?this.storage.setItem(fe,_.newValue):this.storage.removeItem(fe);else if(this.localCache[fe]===_.newValue&&!S)return}const Fe=()=>{const Ot=this.storage.getItem(fe);!S&&this.localCache[fe]===Ot||this.notifyListeners(fe,Ot)},ut=this.storage.getItem(fe);!function En(){return(0,G.w1)()&&10===document.documentMode}()||ut===_.newValue||_.newValue===_.oldValue?Fe():setTimeout(Fe,10)}notifyListeners(_,S){this.localCache[_]=S;const fe=this.listeners[_];if(fe)for(const Fe of Array.from(fe))Fe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,S,fe)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:S,newValue:fe}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,S){var fe=()=>super._set,Fe=this;return(0,u.Z)(function*(){yield fe().call(Fe,_,S),Fe.localCache[_]=JSON.stringify(S)})()}_get(_){var S=()=>super._get,fe=this;return(0,u.Z)(function*(){const Fe=yield S().call(fe,_);return fe.localCache[_]=JSON.stringify(Fe),Fe})()}_remove(_){var S=()=>super._remove,fe=this;return(0,u.Z)(function*(){yield S().call(fe,_),delete fe.localCache[_]})()}}return E.type="LOCAL",E})(),Ua=(()=>{class E extends zt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,S){}_removeListener(_,S){}}return E.type="SESSION",E})();let rl=(()=>{class E{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const S=this.receivers.find(Fe=>Fe.isListeningto(_));if(S)return S;const fe=new E(_);return this.receivers.push(fe),fe}isListeningto(_){return this.eventTarget===_}handleEvent(_){var S=this;return(0,u.Z)(function*(){const fe=_,{eventId:Fe,eventType:ut,data:Ot}=fe.data,ln=S.handlersMap[ut];if(!ln?.size)return;fe.ports[0].postMessage({status:"ack",eventId:Fe,eventType:ut});const _n=Array.from(ln).map(function(){var _r=(0,u.Z)(function*(Ys){return Ys(fe.origin,Ot)});return function(Ys){return _r.apply(this,arguments)}}()),kn=yield function Ea(E){return Promise.all(E.map(function(){var p=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(S){return{fulfilled:!1,reason:S}}});return function(_){return p.apply(this,arguments)}}()))}(_n);fe.ports[0].postMessage({status:"done",eventId:Fe,eventType:ut,response:kn})})()}_subscribe(_,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(S)}_unsubscribe(_,S){this.handlersMap[_]&&S&&this.handlersMap[_].delete(S),(!S||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Aa(E="",p=10){let _="";for(let S=0;S<p;S++)_+=Math.floor(10*Math.random());return E+_}class Sd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,S=50){var fe=this;return(0,u.Z)(function*(){const Fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!Fe)throw new Error("connection_unavailable");let ut,Ot;return new Promise((ln,_n)=>{const kn=Aa("",20);Fe.port1.start();const _r=setTimeout(()=>{_n(new Error("unsupported_event"))},S);Ot={messageChannel:Fe,onMessage(Ys){const Ls=Ys;if(Ls.data.eventId===kn)switch(Ls.data.status){case"ack":clearTimeout(_r),ut=setTimeout(()=>{_n(new Error("timeout"))},3e3);break;case"done":clearTimeout(ut),ln(Ls.data.response);break;default:clearTimeout(_r),clearTimeout(ut),_n(new Error("invalid_response"))}}},fe.handlers.add(Ot),Fe.port1.addEventListener("message",Ot.onMessage),fe.target.postMessage({eventType:p,eventId:kn,data:_},[Fe.port2])}).finally(()=>{Ot&&fe.removeMessageHandler(Ot)})})()}}function bi(){return window}function ra(){return typeof bi().WorkerGlobalScope<"u"&&"function"==typeof bi().importScripts}function ti(){return(ti=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wr="firebaseLocalStorageDb",jl=1,Qr="firebaseLocalStorage",pn="fbase_key";class Ei{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function fa(E,p){return E.transaction([Qr],p?"readwrite":"readonly").objectStore(Qr)}function il(){const E=indexedDB.open(wr,jl);return new Promise((p,_)=>{E.addEventListener("error",()=>{_(E.error)}),E.addEventListener("upgradeneeded",()=>{const S=E.result;try{S.createObjectStore(Qr,{keyPath:pn})}catch(fe){_(fe)}}),E.addEventListener("success",(0,u.Z)(function*(){const S=E.result;S.objectStoreNames.contains(Qr)?p(S):(S.close(),yield function xo(){const E=indexedDB.deleteDatabase(wr);return new Ei(E).toPromise()}(),p(yield il()))}))})}function Ba(E,p,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(E,p,_){const S=fa(E,!0).put({[pn]:p,value:_});return new Ei(S).toPromise()})).apply(this,arguments)}function Hl(){return(Hl=(0,u.Z)(function*(E,p){const _=fa(E,!1).get(p),S=yield new Ei(_).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function sl(E,p){const _=fa(E,!0).delete(p);return new Ei(_).toPromise()}const Tc=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield il()),_.db})()}_withRetries(_){var S=this;return(0,u.Z)(function*(){let fe=0;for(;;)try{const Fe=yield S._openDb();return yield _(Fe)}catch(Fe){if(fe++>3)throw Fe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return ra()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=rl._getInstance(function Go(){return ra()?self:null}()),_.receiver._subscribe("keyChanged",function(){var S=(0,u.Z)(function*(fe,Fe){return{keyProcessed:(yield _._poll()).includes(Fe.key)}});return function(fe,Fe){return S.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var S=(0,u.Z)(function*(fe,Fe){return["keyChanged"]});return function(fe,Fe){return S.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var S,fe;if(_.activeServiceWorker=yield function $s(){return ti.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Sd(_.activeServiceWorker);const Fe=yield _.sender._send("ping",{},800);Fe&&null!==(S=Fe[0])&&void 0!==S&&S.fulfilled&&null!==(fe=Fe[0])&&void 0!==fe&&fe.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var S=this;return(0,u.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Pn(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:_},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield il();return yield Ba(_,St,"1"),yield sl(_,St),!0}catch{}return!1})()}_withPendingWrite(_){var S=this;return(0,u.Z)(function*(){S.pendingWrites++;try{yield _()}finally{S.pendingWrites--}})()}_set(_,S){var fe=this;return(0,u.Z)(function*(){return fe._withPendingWrite((0,u.Z)(function*(){return yield fe._withRetries(Fe=>Ba(Fe,_,S)),fe.localCache[_]=S,fe.notifyServiceWorker(_)}))})()}_get(_){var S=this;return(0,u.Z)(function*(){const fe=yield S._withRetries(Fe=>function No(E,p){return Hl.apply(this,arguments)}(Fe,_));return S.localCache[_]=fe,fe})()}_remove(_){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(fe=>sl(fe,_)),delete S.localCache[_],S.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const S=yield _._withRetries(ut=>{const Ot=fa(ut,!1).getAll();return new Ei(Ot).toPromise()});if(!S)return[];if(0!==_.pendingWrites)return[];const fe=[],Fe=new Set;for(const{fbase_key:ut,value:Ot}of S)Fe.add(ut),JSON.stringify(_.localCache[ut])!==JSON.stringify(Ot)&&(_.notifyListeners(ut,Ot),fe.push(ut));for(const ut of Object.keys(_.localCache))_.localCache[ut]&&!Fe.has(ut)&&(_.notifyListeners(ut,null),fe.push(ut));return fe})()}notifyListeners(_,S){this.localCache[_]=S;const fe=this.listeners[_];if(fe)for(const Fe of Array.from(fe))Fe(S)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function Po(E,p){return p?$n(p):(k(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}Ii("rcb"),new te(3e4,6e4);class Dc extends mi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ln(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Ln(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Ln(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function C(E){return Ci(E.auth,new Dc(E),E.bypassAuthState)}function b(E){const{auth:p,user:_}=E;return k(_,p,"internal-error"),so(_,new Dc(E),E.bypassAuthState)}function y(E){return D.apply(this,arguments)}function D(){return(D=(0,u.Z)(function*(E){const{auth:p,user:_}=E;return k(_,p,"internal-error"),vo(_,new Dc(E),E.bypassAuthState)})).apply(this,arguments)}class q{constructor(p,_,S,fe,Fe=!1){this.auth=p,this.resolver=S,this.user=fe,this.bypassAuthState=Fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,u.Z)(function*(S,fe){p.pendingPromise={resolve:S,reject:fe};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Fe){p.reject(Fe)}});return function(S,fe){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,u.Z)(function*(){const{urlResponse:S,sessionId:fe,postBody:Fe,tenantId:ut,error:Ot,type:ln}=p;if(Ot)return void _.reject(Ot);const _n={auth:_.auth,requestUri:S,sessionId:fe,tenantId:ut||void 0,postBody:Fe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ln)(_n))}catch(kn){_.reject(kn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return C;case"linkViaPopup":case"linkViaRedirect":return y;case"reauthViaPopup":case"reauthViaRedirect":return b;default:Y(this.auth,"internal-error")}}resolve(p){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ve=new te(2e3,1e4);function Le(E,p,_){return at.apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(E,p,_){const S=tr(E);!function Re(E,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Y(E,"argument-error"),J(E,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(E,p,ts);const fe=Po(S,_);return new Ai(S,"signInViaPopup",p,fe).executeNotNull()})).apply(this,arguments)}let Ai=(()=>{class E extends q{constructor(_,S,fe,Fe,ut){super(_,S,Fe,ut),this.provider=fe,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const S=yield _.execute();return k(S,_.auth,"internal-error"),S})()}onExecution(){var _=this;return(0,u.Z)(function*(){Te(1===_.filter.length,"Popup operations only handle one event");const S=Aa();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],S),_.authWindow.associatedEvent=S,_.resolver._originValidation(_.auth).catch(fe=>{_.reject(fe)}),_.resolver._isIframeWebStorageSupported(_.auth,fe=>{fe||_.reject(pe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const _=()=>{var S,fe;this.pollId=null!==(fe=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==fe&&fe.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,ve.get())};_()}}return E.currentPopupAction=null,E})();const ni="pendingRedirect",As=new Map;class ds extends q{constructor(p,_,S=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,S),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,u.Z)(function*(){let S=As.get(_.auth._key());if(!S){try{const Fe=(yield function qs(E,p){return Nr.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;S=()=>Promise.resolve(Fe)}catch(fe){S=()=>Promise.reject(fe)}As.set(_.auth._key(),S)}return _.bypassAuthState||As.set(_.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,S=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(S,p);if("unknown"!==p.type){if(p.eventId){const fe=yield S.auth._redirectUserForId(p.eventId);if(fe)return S.user=fe,_().call(S,p);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Nr(){return(Nr=(0,u.Z)(function*(E,p){const _=function Ss(E){return ur(ni,E.config.apiKey,E.name)}(p),S=function Ko(E){return $n(E._redirectPersistence)}(E);if(!(yield S._isAvailable()))return!1;const fe="true"===(yield S._get(_));return yield S._remove(_),fe})).apply(this,arguments)}function xu(E,p){As.set(E._key(),p)}function Ia(E,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(E,p,_=!1){const S=tr(E),fe=Po(S,p),ut=yield new ds(S,fe,_).execute();return ut&&!_&&(delete ut.user._redirectEventId,yield S._persistUserIfCurrent(ut.user),yield S._setRedirectUser(null,p)),ut})).apply(this,arguments)}class dl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(p,S)&&(_=!0,this.sendToConsumer(p,S),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Yl(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xc(E);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var S;if(p.error&&!xc(p)){const fe=(null===(S=p.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";_.onError(pe(this.auth,fe))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const S=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&S}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xa(p))}saveEventToCache(p){this.cachedEventUids.add(xa(p)),this.lastProcessedEventTime=Date.now()}}function xa(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(p=>p).join("-")}function xc({type:E,error:p}){return"unknown"===E&&"auth/no-auth-event"===p?.code}function hl(){return(hl=(0,u.Z)(function*(E,p={}){return W(E,"GET","/v1/projects",p)})).apply(this,arguments)}const ma=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xd=/^https?/;function fl(){return fl=(0,u.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:p}=yield function Ou(E){return hl.apply(this,arguments)}(E);for(const _ of p)try{if(sf(_))return}catch{}Y(E,"unauthorized-domain")}),fl.apply(this,arguments)}function sf(E){const p=ke(),{protocol:_,hostname:S}=new URL(p);if(E.startsWith("chrome-extension://")){const ut=new URL(E);return""===ut.hostname&&""===S?"chrome-extension:"===_&&E.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&ut.hostname===S}if(!xd.test(_))return!1;if(ma.test(E))return S===E;const fe=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+fe+"|"+fe+")$","i").test(S)}const Ru=new te(3e4,6e4);function Ql(){const E=bi().___jsl;if(E?.H)for(const p of Object.keys(E.H))if(E.H[p].r=E.H[p].r||[],E.H[p].L=E.H[p].L||[],E.H[p].r=[...E.H[p].L],E.CP)for(let _=0;_<E.CP.length;_++)E.CP[_]=null}let ku=null;const Nu=new te(5e3,15e3),Mc="__/auth/iframe",Ts="emulator/auth/iframe",Lu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},li=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ns(E){const p=E.config;k(p.authDomain,E,"auth-domain-config-required");const _=p.emulator?H(p,Ts):`https://${E.config.authDomain}/${Mc}`,S={apiKey:p.apiKey,appName:E.name,v:ne.Jn},fe=li.get(E.config.apiHost);fe&&(S.eid=fe);const Fe=E._getFrameworks();return Fe.length&&(S.fw=Fe.join(",")),`${_}?${(0,G.xO)(S).slice(1)}`}function Oc(){return Oc=(0,u.Z)(function*(E){const p=yield function lf(E){return ku=ku||function af(E){return new Promise((p,_)=>{var S,fe,Fe;function ut(){Ql(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ql(),_(pe(E,"network-request-failed"))},timeout:Ru.get()})}if(null!==(fe=null===(S=bi().gapi)||void 0===S?void 0:S.iframes)&&void 0!==fe&&fe.Iframe)p(gapi.iframes.getContext());else{if(null===(Fe=bi().gapi)||void 0===Fe||!Fe.load){const Ot=Ii("iframefcb");return bi()[Ot]=()=>{gapi.load?ut():_(pe(E,"network-request-failed"))},fr(`https://apis.google.com/js/api.js?onload=${Ot}`).catch(ln=>_(ln))}ut()}}).catch(p=>{throw ku=null,p})}(E),ku}(E),_=bi().gapi;return k(_,E,"internal-error"),p.open({where:document.body,url:Ns(E),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lu,dontclear:!0},S=>new Promise(function(){var fe=(0,u.Z)(function*(Fe,ut){yield S.restyle({setHideOnLeave:!1});const Ot=pe(E,"network-request-failed"),ln=bi().setTimeout(()=>{ut(Ot)},Nu.get());function _n(){bi().clearTimeout(ln),Fe(S)}S.ping(_n).then(_n,()=>{ut(Ot)})});return function(Fe,ut){return fe.apply(this,arguments)}}()))}),Oc.apply(this,arguments)}const pl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Md=500,Rc=600,xr="_blank",Kr="http://localhost";class Ga{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Od="__/auth/handler",Ks="emulator/auth/handler",Nc=encodeURIComponent("fac");function Lc(E,p,_,S,fe,Fe){return gl.apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(E,p,_,S,fe,Fe){k(E.config.authDomain,E,"auth-domain-config-required"),k(E.config.apiKey,E,"invalid-api-key");const ut={apiKey:E.config.apiKey,appName:E.name,authType:_,redirectUrl:S,v:ne.Jn,eventId:fe};if(p instanceof ts){p.setDefaultLanguage(E.languageCode),ut.providerId=p.providerId||"",(0,G.xb)(p.getCustomParameters())||(ut.customParameters=JSON.stringify(p.getCustomParameters()));for(const[kn,_r]of Object.entries(Fe||{}))ut[kn]=_r}if(p instanceof mo){const kn=p.getScopes().filter(_r=>""!==_r);kn.length>0&&(ut.scopes=kn.join(","))}E.tenantId&&(ut.tid=E.tenantId);const Ot=ut;for(const kn of Object.keys(Ot))void 0===Ot[kn]&&delete Ot[kn];const ln=yield E._getAppCheckToken(),_n=ln?`#${Nc}=${encodeURIComponent(ln)}`:"";return`${function Zs({config:E}){return E.emulator?H(E,Ks):`https://${E.authDomain}/${Od}`}(E)}?${(0,G.xO)(Ot).slice(1)}${_n}`})).apply(this,arguments)}const $a="webStorageSupport",Vu=class Rd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ua,this._completeRedirectFn=Ia,this._overrideRedirectResult=xu}_openPopup(p,_,S,fe){var Fe=this;return(0,u.Z)(function*(){var ut;Te(null===(ut=Fe.eventManagers[p._key()])||void 0===ut?void 0:ut.manager,"_initialize() not called before _openPopup()");const Ot=yield Lc(p,_,S,ke(),fe);return function kc(E,p,_,S=Md,fe=Rc){const Fe=Math.max((window.screen.availHeight-fe)/2,0).toString(),ut=Math.max((window.screen.availWidth-S)/2,0).toString();let Ot="";const ln=Object.assign(Object.assign({},pl),{width:S.toString(),height:fe.toString(),top:Fe,left:ut}),_n=(0,G.z$)().toLowerCase();_&&(Ot=vt(_n)?xr:_),it(_n)&&(p=p||Kr,ln.scrollbars="yes");const kn=Object.entries(ln).reduce((Ys,[Ls,vl])=>`${Ys}${Ls}=${vl},`,"");if(function Kt(E=(0,G.z$)()){var p;return ft(E)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(_n)&&"_self"!==Ot)return function Fu(E,p){const _=document.createElement("a");_.href=E,_.target=p;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(S)}(p||"",Ot),new Ga(null);const _r=window.open(p||"",Ot,kn);k(_r,E,"popup-blocked");try{_r.focus()}catch{}return new Ga(_r)}(p,Ot,Aa())})()}_openRedirect(p,_,S,fe){var Fe=this;return(0,u.Z)(function*(){return yield Fe._originValidation(p),function er(E){bi().location.href=E}(yield Lc(p,_,S,ke(),fe)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:fe,promise:Fe}=this.eventManagers[_];return fe?Promise.resolve(fe):(Te(Fe,"If manager is not set, promise should be"),Fe)}const S=this.initAndGetManager(p);return this.eventManagers[_]={promise:S},S.catch(()=>{delete this.eventManagers[_]}),S}initAndGetManager(p){var _=this;return(0,u.Z)(function*(){const S=yield function Pd(E){return Oc.apply(this,arguments)}(p),fe=new dl(p);return S.register("authEvent",Fe=>(k(Fe?.authEvent,p,"invalid-auth-event"),{status:fe.onEvent(Fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:fe},_.iframes[p._key()]=S,fe})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send($a,{type:$a},fe=>{var Fe;const ut=null===(Fe=fe?.[0])||void 0===Fe?void 0:Fe[$a];void 0!==ut&&_(!!ut),Y(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Pc(E){return fl.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return bn()||Pt()||ft()}};var ml="@firebase/auth";class _l{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(S=>{p(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nd=(0,G.Pz)("authIdTokenMaxAge")||300;let ya=null;const Vc=E=>function(){var p=(0,u.Z)(function*(_){const S=_&&(yield _.getIdTokenResult()),fe=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(fe&&fe>Nd)return;const Fe=S?.token;ya!==Fe&&(ya=Fe,yield fetch(E,{method:Fe?"POST":"DELETE",headers:Fe?{Authorization:`Bearer ${Fe}`}:{}}))});return function(_){return p.apply(this,arguments)}}();function Uc(E=(0,ne.Mq)()){const p=(0,ne.qX)(E,"auth");if(p.isInitialized())return p.getImmediate();const _=function Vi(E,p){const _=(0,ne.qX)(E,"auth");if(_.isInitialized()){const fe=_.getImmediate(),Fe=_.getOptions();if((0,G.vZ)(Fe,p??{}))return fe;Y(fe,"already-initialized")}return _.initialize({options:p})}(E,{popupRedirectResolver:Vu,persistence:[Tc,Bl,Ua]}),S=(0,G.Pz)("authTokenSyncURL");if(S){const Fe=Vc(S);(function j(E,p,_){(0,G.m9)(E).beforeAuthStateChanged(p,_)})(_,Fe,()=>Fe(_.currentUser)),function ce(E,p,_,S){(0,G.m9)(E).onIdTokenChanged(p,_,S)}(_,ut=>Fe(ut))}const fe=(0,G.q4)("auth");return fe&&function gi(E,p,_){const S=tr(E);k(S._canInitEmulator,S,"emulator-config-failed"),k(/^https?:\/\//.test(p),S,"invalid-emulator-scheme");const fe=!!_?.disableWarnings,Fe=en(p),{host:ut,port:Ot}=function Fn(E){const p=en(E),_=/(\/\/)?([^?#/]+)/.exec(E.substr(p.length));if(!_)return{host:"",port:null};const S=_[2].split("@").pop()||"",fe=/^(\[[^\]]+\])(:|$)/.exec(S);if(fe){const Fe=fe[1];return{host:Fe,port:Qn(S.substr(Fe.length+1))}}{const[Fe,ut]=S.split(":");return{host:Fe,port:Qn(ut)}}}(p);S.config.emulator={url:`${Fe}//${ut}${null===Ot?"":`:${Ot}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ut,port:Ot,protocol:Fe.replace(":",""),options:Object.freeze({disableWarnings:fe})}),fe||function Mn(){function E(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(_,`http://${fe}`),_}!function yl(E){(0,ne.Xd)(new Se.wA("auth",(p,{options:_})=>{const S=p.getProvider("app").getImmediate(),fe=p.getProvider("heartbeat"),Fe=p.getProvider("app-check-internal"),{apiKey:ut,authDomain:Ot}=S.options;k(ut&&!ut.includes(":"),"invalid-api-key",{appName:S.name});const ln={apiKey:ut,authDomain:Ot,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(E)},_n=new ms(S,fe,Fe,ln);return function Ki(E,p){const _=p?.persistence||[],S=(Array.isArray(_)?_:[_]).map($n);p?.errorMap&&E._updateErrorMap(p.errorMap),E._initializeWithPersistence(S,p?.popupRedirectResolver)}(_n,_),_n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,S)=>{p.getProvider("auth-internal").initialize()})),(0,ne.Xd)(new Se.wA("auth-internal",p=>{const _=tr(p.getProvider("auth").getImmediate());return new _l(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.KN)(ml,"0.23.2",function kd(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,ne.KN)(ml,"0.23.2","esm2017")}("Browser")},7396:(Be,R,V)=>{"use strict";V.d(R,{ET:()=>bd,hJ:()=>bu,oe:()=>Gy,JU:()=>Lm,QT:()=>Uy,PL:()=>By,ad:()=>Cy,b9:()=>Oy,IO:()=>Xm,pl:()=>i_});var Ae,u=V(5861),G=V(6881),ne=V(4859),f=V(1877),be=V(2090),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me={},Ve=Ve||{},le=Se||self;function ue(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Ie(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var re="closure_uid_"+(1e9*Math.random()>>>0),Ee=0;function De(r,e,t){return r.call.apply(r.bind,arguments)}function Ce(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function ye(r,e,t){return(ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?De:Ce).apply(null,arguments)}function P(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function A(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,l,h){for(var m=Array(arguments.length-2),T=2;T<arguments.length;T++)m[T-2]=arguments[T];return e.prototype[l].apply(o,m)}}function Y(){this.s=this.s,this.o=this.o}Y.prototype.s=!1,Y.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ie(r){Object.prototype.hasOwnProperty.call(r,re)&&r[re]||(r[re]=++Ee)}(this)},Y.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const J=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Re(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Q(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ue(o)){const l=r.length||0,h=o.length||0;r.length=l+h;for(let m=0;m<h;m++)r[l+m]=o[m]}else r.push(o)}}function k(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{le.addEventListener("test",()=>{},e),le.removeEventListener("test",()=>{},e)}catch{}return r}();function Te(r){return/^[\s\xa0]*$/.test(r)}function ke(){var r=le.navigator;return r&&(r=r.userAgent)?r:""}function He(r){return-1!=ke().indexOf(r)}function Ue(r){return Ue[" "](r),r}Ue[" "]=function(){};var W,r,we=He("Opera"),te=He("Trident")||He("MSIE"),H=He("Edge"),$=H||te,N=He("Gecko")&&!(-1!=ke().toLowerCase().indexOf("webkit")&&!He("Edge"))&&!(He("Trident")||He("MSIE"))&&!He("Edge"),w=-1!=ke().toLowerCase().indexOf("webkit")&&!He("Edge");function M(){var r=le.document;return r?r.documentMode:void 0}e:{var ge="",de=(r=ke(),N?/rv:([^\);]+)(\)|;)/.exec(r):H?/Edge\/([\d\.]+)/.exec(r):te?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):w?/WebKit\/(\S+)/.exec(r):we?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(de&&(ge=de?de[1]:""),te){var ee=M();if(null!=ee&&ee>parseFloat(ge)){W=String(ee);break e}}W=ge}var Xe=le.document&&te&&(M()||parseInt(W,10))||void 0;function Ke(r,e){if(k.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(N){e:{try{Ue(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:mt[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Ke.$.h.call(this)}}A(Ke,k);var mt={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Bt(r,e,t,o,l){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=l,this.key=++$t,this.fa=this.ia=!1}function kt(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Zt(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function Xt(r){const e={};for(const t in r)e[t]=r[t];return e}const Jt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hn(r,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)r[t]=o[t];for(let h=0;h<Jt.length;h++)t=Jt[h],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function _t(r){this.src=r,this.g={},this.h=0}function Me(r,e){var t=e.type;if(t in r.g){var h,o=r.g[t],l=J(o,e);(h=0<=l)&&Array.prototype.splice.call(o,l,1),h&&(kt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function nt(r,e,t,o){for(var l=0;l<r.length;++l){var h=r[l];if(!h.fa&&h.listener==e&&h.capture==!!t&&h.la==o)return l}return-1}_t.prototype.add=function(r,e,t,o,l){var h=r.toString();(r=this.g[h])||(r=this.g[h]=[],this.h++);var m=nt(r,e,o,l);return-1<m?(e=r[m],t||(e.ia=!1)):((e=new Bt(e,this.src,h,!!o,l)).ia=t,r.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),At={};function Qe(r,e,t,o,l){if(o&&o.once)return Nt(r,e,t,o,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)Qe(r,e[h],t,o,l);return null}return t=Qt(t),r&&r[Lt]?r.O(e,t,Ie(o)?!!o.capture:!!o,l):yt(r,e,t,!1,o,l)}function yt(r,e,t,o,l,h){if(!e)throw Error("Invalid event type");var m=Ie(l)?!!l.capture:!!l,T=ht(r);if(T||(r[dt]=T=new _t(r)),(t=T.add(e,t,o,m,h)).proxy)return t;if(o=function Wt(){const e=ct;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)he||(l=m),void 0===l&&(l=!1),r.addEventListener(e.toString(),o,l);else if(r.attachEvent)r.attachEvent(pt(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function Nt(r,e,t,o,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)Nt(r,e[h],t,o,l);return null}return t=Qt(t),r&&r[Lt]?r.P(e,t,Ie(o)?!!o.capture:!!o,l):yt(r,e,t,!0,o,l)}function yn(r,e,t,o,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)yn(r,e[h],t,o,l);else o=Ie(o)?!!o.capture:!!o,t=Qt(t),r&&r[Lt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=nt(h=r.g[e],t,o,l))&&(kt(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete r.g[e],r.h--))):r&&(r=ht(r))&&(e=r.g[e.toString()],r=-1,e&&(r=nt(e,t,o,l)),(t=-1<r?e[r]:null)&&Gn(t))}function Gn(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Lt])Me(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(pt(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ht(e))?(Me(t,r),0==t.h&&(t.src=null,e[dt]=null)):kt(r)}}}function pt(r){return r in At?At[r]:At[r]="on"+r}function ct(r,e){if(r.fa)r=!0;else{e=new Ke(e,this);var t=r.listener,o=r.la||r.src;r.ia&&Gn(r),r=t.call(o,e)}return r}function ht(r){return(r=r[dt])instanceof _t?r:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qt(r){return"function"==typeof r?r:(r[cn]||(r[cn]=function(e){return r.handleEvent(e)}),r[cn])}function wn(){Y.call(this),this.i=new _t(this),this.S=this,this.J=null}function rn(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new k(e,r);else if(e instanceof k)e.target=e.target||r;else{var l=e;Hn(e=new k(o,r),l)}if(l=!0,t)for(var h=t.length-1;0<=h;h--){var m=e.g=t[h];l=In(m,o,!0,e)&&l}if(l=In(m=e.g=r,o,!0,e)&&l,l=In(m,o,!1,e)&&l,t)for(h=0;h<t.length;h++)l=In(m=e.g=t[h],o,!1,e)&&l}function In(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var m=e[h];if(m&&!m.fa&&m.capture==t){var T=m.listener,K=m.la||m.src;m.ia&&Me(r.i,m),l=!1!==T.call(K,o)&&l}}return l&&!o.defaultPrevented}A(wn,Y),wn.prototype[Lt]=!0,wn.prototype.removeEventListener=function(r,e,t,o){yn(this,r,e,t,o)},wn.prototype.N=function(){if(wn.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)kt(t[o]);delete r.g[e],r.h--}}this.J=null},wn.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},wn.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var nn=le.JSON.stringify;function $n(){var r=vt;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var nr=new class Un{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ur,r=>r.reset());class ur{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $e(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function qe(r){le.setTimeout(()=>{throw r},0)}let it,Pt=!1,vt=new class or{constructor(){this.h=this.g=null}add(e,t){const o=nr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},qt=()=>{const r=le.Promise.resolve(void 0);it=()=>{r.then(rt)}};var rt=()=>{for(var r;r=$n();){try{r.h.call(r.g)}catch(t){qe(t)}var e=nr;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Pt=!1};function tt(r,e){wn.call(this),this.h=r||1,this.g=e||le,this.j=ye(this.qb,this),this.l=Date.now()}function Ge(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function ft(r,e,t){if("function"==typeof r)t&&(r=ye(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ye(r.handleEvent,r)}return 2147483647<Number(e)?-1:le.setTimeout(r,e||0)}function Rt(r){r.g=ft(()=>{r.g=null,r.i&&(r.i=!1,Rt(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}A(tt,wn),(Ae=tt.prototype).ga=!1,Ae.T=null,Ae.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rn(this,"tick"),this.ga&&(Ge(this),this.start()))}},Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.N=function(){tt.$.N.call(this),Ge(this),delete this.g};class Kt extends Y{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Rt(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(r){Y.call(this),this.h=r,this.g={}}A(En,Y);var bn=[];function hr(r,e,t,o){Array.isArray(t)||(t&&(bn[0]=t.toString()),t=bn);for(var l=0;l<t.length;l++){var h=Qe(e,t[l],o||r.handleEvent,!1,r.h||r);if(!h)break;r.g[h.key]=h}}function zn(r){Zt(r.g,function(e,t){this.g.hasOwnProperty(t)&&Gn(e)},r),r.g={}}function Tt(){this.g=!0}function fn(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Bn(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<l.length;m++)l[m]=""}}}return nn(t)}catch{return e}}(r,t)+(o?" "+o:"")})}En.prototype.N=function(){En.$.N.call(this),zn(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tt.prototype.Ea=function(){this.g=!1},Tt.prototype.info=function(){};var Wn={},Sr=null;function fr(){return Sr=Sr||new wn}function Ii(r){k.call(this,Wn.Ta,r)}function Ri(r){const e=fr();rn(e,new Ii(e))}function ss(r,e){k.call(this,Wn.STAT_EVENT,r),this.stat=e}function Br(r){const e=fr();rn(e,new ss(e,r))}function qr(r,e){k.call(this,Wn.Ua,r),this.size=e}function Nn(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){r()},e)}Wn.Ta="serverreachability",A(Ii,k),Wn.STAT_EVENT="statevent",A(ss,k),Wn.Ua="timingevent",A(qr,k);var br={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Lr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ms(){}function ii(){}ms.prototype.h=null;var en,Vi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ki(){k.call(this,"d")}function gi(){k.call(this,"c")}function Fn(){}function Qn(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new En(this),this.P=mi,this.V=new tt(r=$?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Mn}function Mn(){this.i=null,this.g="",this.h=!1}A(Ki,k),A(gi,k),A(Fn,ms),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},en=new Fn;var mi=45e3,Fr={},Di={};function Tr(r,e,t){r.L=1,r.v=_s(Bi(e)),r.s=t,r.S=!0,ki(r,null)}function ki(r,e){r.G=Date.now(),Ni(r),r.A=Bi(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),Ho(t.i,"t",o),r.C=0,t=r.l.J,r.h=new Mn,r.g=et(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Kt(ye(r.Pa,r,r.g),r.O)),hr(r.U,r.g,"readystatechange",r.nb),e=r.I?Xt(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Ri(),function Ct(r,e,t,o,l,h){r.info(function(){if(r.g)if(h)for(var m="",T=h.split("&"),K=0;K<T.length;K++){var ae=T[K].split("=");if(1<ae.length){var Ne=ae[0];ae=ae[1];var Je=Ne.split("_");m=2<=Je.length&&"type"==Je[1]?m+(Ne+"=")+ae+"&":m+(Ne+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+m})}(r.j,r.u,r.A,r.m,r.W,r.s)}function ci(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function jn(r,e,t){let l,o=!0;for(;!r.J&&r.C<t.length;){if(l=Zi(r,t),l==Di){4==e&&(r.o=4,Br(14),o=!1),fn(r.j,r.m,null,"[Incomplete Response]");break}if(l==Fr){r.o=4,Br(15),fn(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}fn(r.j,r.m,l,null),Yi(r,l)}ci(r)&&l!=Di&&l!=Fr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Br(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),di(e),e.M=!0,Br(11))):(fn(r.j,r.m,t,"[Invalid Chunked Response]"),vr(r),Hr(r))}function Zi(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?Di:(t=Number(e.substring(t,o)),isNaN(t)?Fr:(o+=1)+t>e.length?Di:(e=e.slice(o,o+t),r.C=o+t,e))}function Ni(r){r.Y=Date.now()+r.P,os(r,r.P)}function os(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Nn(ye(r.lb,r),e)}function Jn(r){r.B&&(le.clearTimeout(r.B),r.B=null)}function Hr(r){0==r.l.H||r.J||zi(r.l,r)}function vr(r){Jn(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Ge(r.V),zn(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Yi(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Io(t.i,r)))if(!r.K&&Io(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Xn(t),$i(t)}rr(t),Br(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=Nn(ye(t.ib,t),6e3));if(1>=no(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Er(t,11)}else if((r.K||t.g==r)&&Xn(t),!Te(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let ae=l[e];if(t.V=ae[0],ae=ae[1],2==t.H)if("c"==ae[0]){t.K=ae[1],t.pa=ae[2];const Ne=ae[3];null!=Ne&&(t.ra=Ne,t.l.info("VER="+t.ra));const Je=ae[4];null!=Je&&(t.Ga=Je,t.l.info("SVER="+t.Ga));const bt=ae[5];null!=bt&&"number"==typeof bt&&0<bt&&(t.L=o=1.5*bt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const Ft=r.g;if(Ft){const on=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(on){var h=o.i;h.g||-1==on.indexOf("spdy")&&-1==on.indexOf("quic")&&-1==on.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(ro(h,h.h),h.h=null))}if(o.F){const An=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;An&&(o.Da=An,Ln(o.I,o.F,An))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var m=r;if((o=t).wa=je(o,o.J?o.pa:null,o.Y),m.K){Mo(o.i,m);var T=m,K=o.L;K&&T.setTimeout(K),T.B&&(Jn(T),Ni(T)),o.g=m}else Dn(o);0<t.j.length&&Z(t)}else"stop"!=ae[0]&&"close"!=ae[0]||Er(t,7);else 3==t.H&&("stop"==ae[0]||"close"==ae[0]?"stop"==ae[0]?Er(t,7):Ro(t):"noop"!=ae[0]&&t.h&&t.h.Aa(ae),t.A=0)}Ri()}catch{}}function Js(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ue(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Qi(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ue(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function _i(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ue(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),l=o.length,h=0;h<l;h++)e.call(void 0,o[h],t&&t[h],r)}(Ae=Qn.prototype).setTimeout=function(r){this.P=r},Ae.nb=function(r){r=r.target;const e=this.M;e&&3==wi(r)?e.l():this.Pa(r)},Ae.Pa=function(r){try{if(r==this.g)e:{const Ne=wi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ne)&&(3!=Ne||$||this.g&&(this.h.h||this.g.ja()||Gi(this.g)))){this.J||4!=Ne||7==e||Ri(),Jn(this);var t=this.g.da();this.ca=t;t:if(ci(this)){var o=Gi(this.g);r="";var l=o.length,h=4==wi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),Hr(this);var m="";break t}this.h.i=new le.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:h&&e==l-1});o.splice(0,l),this.h.g+=r,this.C=0,m=this.h.g}else m=this.g.ja();if(this.i=200==t,function Ht(r,e,t,o,l,h,m){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.W,Ne,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,K=this.g;if((T=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Te(T)){var ae=T;break t}}ae=null}if(!(t=ae)){this.i=!1,this.o=3,Br(12),vr(this),Hr(this);break e}fn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yi(this,t)}this.S?(jn(this,Ne,m),$&&this.i&&3==Ne&&(hr(this.U,this.V,"tick",this.mb),this.V.start())):(fn(this.j,this.m,m,null),Yi(this,m)),4==Ne&&vr(this),this.i&&!this.J&&(4==Ne?zi(this.l,this):(this.i=!1,Ni(this)))}else(function Jr(r){const e={};r=(r.g&&2<=wi(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(Te(r[o]))continue;var t=$e(r[o]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const h=e[l]||[];e[l]=h,h.push(t)}!function mn(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<m.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),vr(this),Hr(this)}}}catch{}},Ae.mb=function(){if(this.g){var r=wi(this.g),e=this.g.ja();this.C<e.length&&(Jn(this),jn(this,r,e),this.i&&4!=r&&Ni(this))}},Ae.cancel=function(){this.J=!0,vr(this)},Ae.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Rn(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ri(),Br(17)),vr(this),this.o=2,Hr(this)):os(this,this.Y-r)};var Ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ui(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Ui){this.h=r.h,Xi(this,r.j),this.s=r.s,this.g=r.g,ji(this,r.m),this.l=r.l;var e=r.i,t=new Hi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ji(this,t),this.o=r.o}else r&&(e=String(r).match(Ir))?(this.h=!1,Xi(this,e[1]||"",!0),this.s=Zr(e[2]||""),this.g=Zr(e[3]||"",!0),ji(this,e[4]),this.l=Zr(e[5]||"",!0),Ji(this,e[6]||"",!0),this.o=Zr(e[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}function Bi(r){return new Ui(r)}function Xi(r,e,t){r.j=t?Zr(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ji(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ji(r,e,t){e instanceof Hi?(r.i=e,function Cs(r,e){e&&!r.j&&(xi(r),r.i=null,r.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(vs(this,o),Ho(this,l,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Gr(e,ys)),r.i=new Hi(e,r.h))}function Ln(r,e,t){r.i.set(e,t)}function _s(r){return Ln(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Zr(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Gr(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Dr),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Dr(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ui.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Gr(e,es,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Gr(e,es,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Gr(t,"/"==t.charAt(0)?Or:as,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Gr(t,eo)),r.join("")};var es=/[#\/\?@]/g,as=/[#\?:]/g,Or=/[#\?]/g,ys=/[#\?@]/g,eo=/#/g;function Hi(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function xi(r){r.g||(r.g=new Map,r.h=0,r.i&&function So(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),l=null;if(0<=o){var h=r[t].substring(0,o);l=r[t].substring(o+1)}else h=r[t];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vs(r,e){xi(r),e=Li(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Us(r,e){return xi(r),e=Li(r,e),r.g.has(e)}function Ho(r,e,t){vs(r,e),0<t.length&&(r.i=null,r.g.set(Li(r,e),Re(t)),r.h+=t.length)}function Li(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function To(r){this.l=r||ts,r=le.PerformanceNavigationTiming?0<(r=le.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ae=Hi.prototype).add=function(r,e){xi(this),this.i=null,r=Li(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Ae.forEach=function(r,e){xi(this),this.g.forEach(function(t,o){t.forEach(function(l){r.call(e,l,o,this)},this)},this)},Ae.ta=function(){xi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=r[o];for(let h=0;h<l.length;h++)t.push(e[o])}return t},Ae.Z=function(r){xi(this);let e=[];if("string"==typeof r)Us(this,r)&&(e=e.concat(this.g.get(Li(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Ae.set=function(r,e){return xi(this),this.i=null,Us(this,r=Li(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Ae.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const h=encodeURIComponent(String(o)),m=this.Z(o);for(o=0;o<m.length;o++){var l=h;""!==m[o]&&(l+="="+encodeURIComponent(String(m[o]))),r.push(l)}}return this.i=r.join("&")};var ts=10;function mo(r){return!!r.h||!!r.g&&r.g.size>=r.j}function no(r){return r.h?1:r.g?r.g.size:0}function Io(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ro(r,e){r.g?r.g.add(e):r.h=e}function Mo(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function ws(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Re(r.i)}To.prototype.cancel=function(){if(this.i=ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Ps=class{stringify(r){return le.JSON.stringify(r,void 0)}parse(r){return le.JSON.parse(r,void 0)}};function yi(){this.g=new Ps}function _o(r,e,t){const o=t||"";try{Js(r,function(l,h){let m=l;Ie(l)&&(m=nn(l)),e.push(o+h+"="+encodeURIComponent(m))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Ms(r,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function si(r){this.l=r.fc||null,this.j=r.ob||!1}function $r(r,e){wn.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Bs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}A(si,ms),si.prototype.g=function(){return new $r(this.l,this.j)},si.prototype.i=function(r){return function(){return r}}({}),A($r,wn);var Bs=0;function js(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function cs(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Rr(r)}function Rr(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Ae=$r.prototype).open=function(r,e){if(this.readyState!=Bs)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Rr(this)},Ae.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cs(this)),this.readyState=Bs},Ae.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;js(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Ae.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?cs(this):Rr(this),3==this.readyState&&js(this)}},Ae.Za=function(r){this.g&&(this.response=this.responseText=r,cs(this))},Ae.Ya=function(r){this.g&&(this.response=r,cs(this))},Ae.ka=function(){this.g&&cs(this)},Ae.setRequestHeader=function(r,e){this.v.append(r,e)},Ae.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty($r.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var io=le.JSON.parse;function Cr(r){wn.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yo,this.L=this.M=!1}A(Cr,wn);var yo="",vi=/^https?$/i,vo=["POST","PUT"];function Pr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Oo(r),Yr(r)}function Oo(r){r.F||(r.F=!0,rn(r,"complete"),rn(r,"error"))}function so(r){if(r.h&&typeof Ve<"u"&&(!r.C[1]||4!=wi(r)||2!=r.da()))if(r.v&&4==wi(r))ft(r.La,0,r);else if(rn(r,"readystatechange"),4==wi(r)){r.h=!1;try{const m=r.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===m){var l=String(r.I).match(Ir)[1]||null;!l&&le.self&&le.self.location&&(l=le.self.location.protocol.slice(0,-1)),o=!vi.test(l?l.toLowerCase():"")}t=o}if(t)rn(r,"complete"),rn(r,"success");else{r.m=6;try{var h=2<wi(r)?r.g.statusText:""}catch{h=""}r.j=h+" ["+r.da()+"]",Oo(r)}}finally{Yr(r)}}}function Yr(r,e){if(r.g){Ci(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||rn(r,"ready");try{t.onreadystatechange=o}catch{}}}function Ci(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(le.clearTimeout(r.A),r.A=null)}function wi(r){return r.g?r.g.readyState:0}function Gi(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case yo:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function ua(r){let e="";return Zt(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Os(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=ua(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ln(r,e,t))}function us(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function ns(r){this.Ga=0,this.j=[],this.l=new Tt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=us("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=us("baseRetryDelayMs",5e3,r),this.hb=us("retryDelaySeedMs",1e4,r),this.eb=us("forwardChannelMaxRetries",2,r),this.xa=us("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new To(r&&r.concurrentRequestLimit),this.Ja=new yi,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ro(r){if(Vn(r),3==r.H){var e=r.W++,t=Bi(r.I);if(Ln(t,"SID",r.K),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),Oe(r,t),(e=new Qn(r,r.l,e)).L=2,e.v=_s(Bi(t)),t=!1,le.navigator&&le.navigator.sendBeacon)try{t=le.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&le.Image&&((new Image).src=e.v,t=!0),t||(e.g=et(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ni(e)}_e(r)}function $i(r){r.g&&(di(r),r.g.cancel(),r.g=null)}function Vn(r){$i(r),r.u&&(le.clearTimeout(r.u),r.u=null),Xn(r),r.i.cancel(),r.m&&("number"==typeof r.m&&le.clearTimeout(r.m),r.m=null)}function Z(r){if(!mo(r.i)&&!r.m){r.m=!0;var e=r.Na;it||qt(),Pt||(it(),Pt=!0),vt.add(e,r),r.C=0}}function B(r,e){var t;t=e?e.m:r.W++;const o=Bi(r.I);Ln(o,"SID",r.K),Ln(o,"RID",t),Ln(o,"AID",r.V),Oe(r,o),r.o&&r.s&&Os(o,r.o,r.s),t=new Qn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Dt(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),ro(r.i,t),Tr(t,o,e)}function Oe(r,e){r.na&&Zt(r.na,function(t,o){Ln(e,o,t)}),r.h&&Js({},function(t,o){Ln(e,o,t)})}function Dt(r,e,t){t=Math.min(r.j.length,t);var o=r.h?ye(r.h.Va,r.h,r):null;e:{var l=r.j;let h=-1;for(;;){const m=["count="+t];-1==h?0<t?(h=l[0].g,m.push("ofs="+h)):h=0:m.push("ofs="+h);let T=!0;for(let K=0;K<t;K++){let ae=l[K].g;const Ne=l[K].map;if(ae-=h,0>ae)h=Math.max(0,l[K].g-100),T=!1;else try{_o(Ne,m,"req"+ae+"_")}catch{o&&o(Ne)}}if(T){o=m.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function Dn(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;it||qt(),Pt||(it(),Pt=!0),vt.add(e,r),r.A=0}}function rr(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Nn(ye(r.Ma,r),Pi(r,r.A)),r.A++,0))}function di(r){null!=r.B&&(le.clearTimeout(r.B),r.B=null)}function jt(r){r.g=new Qn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Bi(r.wa);Ln(e,"RID","rpc"),Ln(e,"SID",r.K),Ln(e,"AID",r.V),Ln(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Ln(e,"TO",r.qa),Ln(e,"TYPE","xmlhttp"),Oe(r,e),r.o&&r.s&&Os(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=_s(Bi(e)),t.s=null,t.S=!0,ki(t,r)}function Xn(r){null!=r.v&&(le.clearTimeout(r.v),r.v=null)}function zi(r,e){var t=null;if(r.g==e){Xn(r),di(r),r.g=null;var o=2}else{if(!Io(r.i,e))return;t=e.F,Mo(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=r.C;rn(o=fr(),new qr(o,t)),Z(r)}else Dn(r);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==o&&function z(r,e){return!(no(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Nn(ye(r.Na,r,e),Pi(r,r.C)),r.C++,0)))}(r,e)||2==o&&rr(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),l){case 1:Er(r,5);break;case 4:Er(r,10);break;case 3:Er(r,6);break;default:Er(r,2)}}function Pi(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Er(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=ye(r.pb,r);t||(t=new Ui("//www.google.com/images/cleardot.gif"),le.location&&"http"==le.location.protocol||Xi(t,"https"),_s(t)),function ls(r,e){const t=new Tt;if(le.Image){const o=new Image;o.onload=P(Ms,t,o,"TestLoadImage: loaded",!0,e),o.onerror=P(Ms,t,o,"TestLoadImage: error",!1,e),o.onabort=P(Ms,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=P(Ms,t,o,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else Br(2);r.H=0,r.h&&r.h.za(e),_e(r),Vn(r)}function _e(r){if(r.H=0,r.ma=[],r.h){const e=ws(r.i);(0!=e.length||0!=r.j.length)&&(Q(r.ma,e),Q(r.ma,r.j),r.i.i.length=0,Re(r.j),r.j.length=0),r.h.ya()}}function je(r,e,t){var o=t instanceof Ui?Bi(t):new Ui(t);if(""!=o.g)e&&(o.g=e+"."+o.g),ji(o,o.m);else{var l=le.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var h=new Ui(null);o&&Xi(h,o),e&&(h.g=e),l&&ji(h,l),t&&(h.l=t),o=h}return e=r.Da,(t=r.F)&&e&&Ln(o,t,e),Ln(o,"VER",r.ra),Oe(r,o),o}function et(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cr(t&&r.Ha&&!r.va?new si({ob:!0}):r.va)).Oa(r.J),e}function gt(){}function xt(){if(te&&!(10<=Number(Xe)))throw Error("Environmental error: no available transport.")}function L(r,e){wn.call(this),this.g=new ns(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Te(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Te(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new U(this)}function X(r){Ki.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function x(){gi.call(this),this.status=1}function U(r){this.g=r}function st(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yt(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)o[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)o[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var h=r.g[3],m=(e=r.g[0])+(h^(t=r.g[1])&((l=r.g[2])^h))+o[0]+3614090360&4294967295;m=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=t+(m<<7&4294967295|m>>>25))+((m=h+(l^e&(t^l))+o[1]+3905402710&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^h&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(h^e))+o[3]+3250441966&4294967295)<<22&4294967295|m>>>10))+((m=e+(h^t&(l^h))+o[4]+4118548399&4294967295)<<7&4294967295|m>>>25))+((m=h+(l^e&(t^l))+o[5]+1200080426&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^h&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(h^e))+o[7]+4249261313&4294967295)<<22&4294967295|m>>>10))+((m=e+(h^t&(l^h))+o[8]+1770035416&4294967295)<<7&4294967295|m>>>25))+((m=h+(l^e&(t^l))+o[9]+2336552879&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^h&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(h^e))+o[11]+2304563134&4294967295)<<22&4294967295|m>>>10))+((m=e+(h^t&(l^h))+o[12]+1804603682&4294967295)<<7&4294967295|m>>>25))+((m=h+(l^e&(t^l))+o[13]+4254626195&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^h&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(h^e))+o[15]+1236535329&4294967295)<<22&4294967295|m>>>10))+((m=e+(l^h&(t^l))+o[1]+4129170786&4294967295)<<5&4294967295|m>>>27))+((m=h+(t^l&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(h^e))+o[11]+643717713&4294967295)<<14&4294967295|m>>>18))+((m=t+(h^e&(l^h))+o[0]+3921069994&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^h&(t^l))+o[5]+3593408605&4294967295)<<5&4294967295|m>>>27))+((m=h+(t^l&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(h^e))+o[15]+3634488961&4294967295)<<14&4294967295|m>>>18))+((m=t+(h^e&(l^h))+o[4]+3889429448&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^h&(t^l))+o[9]+568446438&4294967295)<<5&4294967295|m>>>27))+((m=h+(t^l&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(h^e))+o[3]+4107603335&4294967295)<<14&4294967295|m>>>18))+((m=t+(h^e&(l^h))+o[8]+1163531501&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^h&(t^l))+o[13]+2850285829&4294967295)<<5&4294967295|m>>>27))+((m=h+(t^l&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(h^e))+o[7]+1735328473&4294967295)<<14&4294967295|m>>>18))+((m=t+(h^e&(l^h))+o[12]+2368359562&4294967295)<<20&4294967295|m>>>12))+((m=e+(t^l^h)+o[5]+4294588738&4294967295)<<4&4294967295|m>>>28))+((m=h+(e^t^l)+o[8]+2272392833&4294967295)<<11&4294967295|m>>>21))+((m=l+(h^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^h^e)+o[14]+4259657740&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^l^h)+o[1]+2763975236&4294967295)<<4&4294967295|m>>>28))+((m=h+(e^t^l)+o[4]+1272893353&4294967295)<<11&4294967295|m>>>21))+((m=l+(h^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^h^e)+o[10]+3200236656&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^l^h)+o[13]+681279174&4294967295)<<4&4294967295|m>>>28))+((m=h+(e^t^l)+o[0]+3936430074&4294967295)<<11&4294967295|m>>>21))+((m=l+(h^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^h^e)+o[6]+76029189&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^l^h)+o[9]+3654602809&4294967295)<<4&4294967295|m>>>28))+((m=h+(e^t^l)+o[12]+3873151461&4294967295)<<11&4294967295|m>>>21))+((m=l+(h^e^t)+o[15]+530742520&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^h^e)+o[2]+3299628645&4294967295)<<23&4294967295|m>>>9))+((m=e+(l^(t|~h))+o[0]+4096336452&4294967295)<<6&4294967295|m>>>26))+((m=h+(t^(e|~l))+o[7]+1126891415&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(h|~t))+o[14]+2878612391&4294967295)<<15&4294967295|m>>>17))+((m=t+(h^(l|~e))+o[5]+4237533241&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(t|~h))+o[12]+1700485571&4294967295)<<6&4294967295|m>>>26))+((m=h+(t^(e|~l))+o[3]+2399980690&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(h|~t))+o[10]+4293915773&4294967295)<<15&4294967295|m>>>17))+((m=t+(h^(l|~e))+o[1]+2240044497&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(t|~h))+o[8]+1873313359&4294967295)<<6&4294967295|m>>>26))+((m=h+(t^(e|~l))+o[15]+4264355552&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(h|~t))+o[6]+2734768916&4294967295)<<15&4294967295|m>>>17))+((m=t+(h^(l|~e))+o[13]+1309151649&4294967295)<<21&4294967295|m>>>11))+((h=(e=t+((m=e+(l^(t|~h))+o[4]+4149444226&4294967295)<<6&4294967295|m>>>26))+((m=h+(t^(e|~l))+o[11]+3174756917&4294967295)<<10&4294967295|m>>>22))^((l=h+((m=l+(e^(h|~t))+o[2]+718787259&4294967295)<<15&4294967295|m>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(l+(m<<21&4294967295|m>>>11))&4294967295,r.g[2]=r.g[2]+l&4294967295,r.g[3]=r.g[3]+h&4294967295}function un(r,e){this.h=e;for(var t=[],o=!0,l=r.length-1;0<=l;l--){var h=0|r[l];o&&h==e||(t[l]=h,o=!1)}this.g=t}(Ae=Cr.prototype).Oa=function(r){this.M=r},Ae.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():en.g(),this.C=function tr(r){return r.h||(r.h=r.i())}(this.u?this.u:en),this.g.onreadystatechange=ye(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(h){return void Pr(this,h)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const h of o.keys())t.set(h,o.get(h))}o=Array.from(t.keys()).find(h=>"content-type"==h.toLowerCase()),l=le.FormData&&r instanceof le.FormData,!(0<=J(vo,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,m]of t)this.g.setRequestHeader(h,m);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ci(this),0<this.B&&((this.L=function ui(r){return te&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ye(this.ua,this)):this.A=ft(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(h){Pr(this,h)}},Ae.ua=function(){typeof Ve<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))},Ae.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,rn(this,"complete"),rn(this,"abort"),Yr(this))},Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yr(this,!0)),Cr.$.N.call(this)},Ae.La=function(){this.s||(this.G||this.v||this.l?so(this):this.kb())},Ae.kb=function(){so(this)},Ae.isActive=function(){return!!this.g},Ae.da=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ae.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),io(e)}},Ae.Ia=function(){return this.m},Ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=ns.prototype).ra=8,Ae.H=1,Ae.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const l=new Qn(this,this.l,r);let h=this.s;if(this.U&&(h?(h=Xt(h),Hn(h,this.U)):h=this.U),null!==this.o||this.O||(l.I=h,h=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Dt(this,l,e),Ln(t=Bi(this.I),"RID",r),Ln(t,"CVER",22),this.F&&Ln(t,"X-HTTP-Session-Id",this.F),Oe(this,t),h&&(this.O?e="headers="+encodeURIComponent(String(ua(h)))+"&"+e:this.o&&Os(t,this.o,h)),ro(this.i,l),this.bb&&Ln(t,"TYPE","init"),this.P?(Ln(t,"$req",e),Ln(t,"SID","null"),l.aa=!0,Tr(l,t,null)):Tr(l,t,e),this.H=2}}else 3==this.H&&(r?B(this,r):0==this.j.length||mo(this.i)||B(this))},Ae.Ma=function(){if(this.u=null,jt(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Nn(ye(this.jb,this),r)}},Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Br(10),$i(this),jt(this))},Ae.ib=function(){null!=this.v&&(this.v=null,$i(this),rr(this),Br(19))},Ae.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Br(2)):(this.l.info("Failed to ping google.com"),Br(1))},Ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ae=gt.prototype).Ba=function(){},Ae.Aa=function(){},Ae.za=function(){},Ae.ya=function(){},Ae.isActive=function(){return!0},Ae.Va=function(){},xt.prototype.g=function(r,e){return new L(r,e)},A(L,wn),L.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;Br(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=je(r,null,r.Y),Z(r)},L.prototype.close=function(){Ro(this.g)},L.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=nn(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Z(e)},L.prototype.N=function(){this.g.h=null,delete this.j,Ro(this.g),delete this.g,L.$.N.call(this)},A(X,Ki),A(x,gi),A(U,gt),U.prototype.Ba=function(){rn(this.g,"a")},U.prototype.Aa=function(r){rn(this.g,new X(r))},U.prototype.za=function(r){rn(this.g,new x)},U.prototype.ya=function(){rn(this.g,"b")},A(st,function se(){this.blockSize=-1}),st.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},st.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,l=this.h,h=0;h<e;){if(0==l)for(;h<=t;)Yt(this,r,h),h+=this.blockSize;if("string"==typeof r){for(;h<e;)if(o[l++]=r.charCodeAt(h++),l==this.blockSize){Yt(this,o),l=0;break}}else for(;h<e;)if(o[l++]=r[h++],l==this.blockSize){Yt(this,o),l=0;break}}this.h=l,this.i+=e},st.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var On={};function kr(r){return-128<=r&&128>r?function ot(r,e){var t=On;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new un([0|e],0>e?-1:0)}):new un([0|r],0>r?-1:0)}function oi(r){if(isNaN(r)||!isFinite(r))return Mr;if(0>r)return ei(oi(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=Fi;return new un(e,0)}var Fi=4294967296,Mr=kr(0),zr=kr(1),Do=kr(16777216);function Wi(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function jr(r){return-1==r.h}function ei(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new un(t,~r.h).add(zr)}function ao(r,e){return r.add(ei(e))}function lo(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function ta(r,e){this.g=r,this.h=e}function Co(r,e){if(Wi(e))throw Error("division by zero");if(Wi(r))return new ta(Mr,Mr);if(jr(r))return e=Co(ei(r),e),new ta(ei(e.g),ei(e.h));if(jr(e))return e=Co(r,ei(e)),new ta(ei(e.g),e.h);if(30<r.g.length){if(jr(r)||jr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=zr,o=e;0>=o.X(r);)t=Va(t),o=Va(o);var l=da(t,1),h=da(o,1);for(o=da(o,2),t=da(t,2);!Wi(o);){var m=h.add(o);0>=m.X(r)&&(l=l.add(t),h=m),o=da(o,1),t=da(t,1)}return e=ao(r,l.R(e)),new ta(l,e)}for(l=Mr;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),m=(h=oi(t)).R(e);jr(m)||0<m.X(r);)m=(h=oi(t-=o)).R(e);Wi(h)&&(h=zr),l=l.add(h),r=ao(r,m)}return new ta(l,r)}function Va(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new un(t,r.h)}function da(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,l=[],h=0;h<o;h++)l[h]=0<e?r.D(h+t)>>>e|r.D(h+t+1)<<32-e:r.D(h+t);return new un(l,r.h)}(Ae=un.prototype).ea=function(){if(jr(this))return-ei(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:Fi+o)*e,e*=Fi}return r},Ae.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Wi(this))return"0";if(jr(this))return"-"+ei(this).toString(r);for(var e=oi(Math.pow(r,6)),t=this,o="";;){var l=Co(t,e).g,h=((0<(t=ao(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Wi(t=l))return h+o;for(;6>h.length;)h="0"+h;o=h+o}},Ae.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Ae.X=function(r){return jr(r=ao(this,r))?-1:Wi(r)?0:1},Ae.abs=function(){return jr(this)?ei(this):this},Ae.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,l=0;l<=e;l++){var h=o+(65535&this.D(l))+(65535&r.D(l)),m=(h>>>16)+(this.D(l)>>>16)+(r.D(l)>>>16);o=m>>>16,t[l]=(m&=65535)<<16|(h&=65535)}return new un(t,-2147483648&t[t.length-1]?-1:0)},Ae.R=function(r){if(Wi(this)||Wi(r))return Mr;if(jr(this))return jr(r)?ei(this).R(ei(r)):ei(ei(this).R(r));if(jr(r))return ei(this.R(ei(r)));if(0>this.X(Do)&&0>r.X(Do))return oi(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var l=0;l<r.g.length;l++){var h=this.D(o)>>>16,m=65535&this.D(o),T=r.D(l)>>>16,K=65535&r.D(l);t[2*o+2*l]+=m*K,lo(t,2*o+2*l),t[2*o+2*l+1]+=h*K,lo(t,2*o+2*l+1),t[2*o+2*l+1]+=m*T,lo(t,2*o+2*l+1),t[2*o+2*l+2]+=h*T,lo(t,2*o+2*l+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new un(t,0)},Ae.gb=function(r){return Co(this,r).h},Ae.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new un(t,this.h&r.h)},Ae.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new un(t,this.h|r.h)},Ae.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new un(t,this.h^r.h)},xt.prototype.createWebChannel=xt.prototype.g,L.prototype.send=L.prototype.u,L.prototype.open=L.prototype.m,L.prototype.close=L.prototype.close,br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Lr.COMPLETE="complete",ii.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",wn.prototype.listen=wn.prototype.O,Cr.prototype.listenOnce=Cr.prototype.P,Cr.prototype.getLastError=Cr.prototype.Sa,Cr.prototype.getLastErrorCode=Cr.prototype.Ia,Cr.prototype.getStatus=Cr.prototype.da,Cr.prototype.getResponseJson=Cr.prototype.Wa,Cr.prototype.getResponseText=Cr.prototype.ja,Cr.prototype.send=Cr.prototype.ha,Cr.prototype.setWithCredentials=Cr.prototype.Oa,st.prototype.digest=st.prototype.l,st.prototype.reset=st.prototype.reset,st.prototype.update=st.prototype.j,un.prototype.add=un.prototype.add,un.prototype.multiply=un.prototype.R,un.prototype.modulo=un.prototype.gb,un.prototype.compare=un.prototype.X,un.prototype.toNumber=un.prototype.ea,un.prototype.toString=un.prototype.toString,un.prototype.getBits=un.prototype.D,un.fromNumber=oi,un.fromString=function oo(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return ei(oo(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=oi(Math.pow(e,8)),o=Mr,l=0;l<r.length;l+=8){var h=Math.min(8,r.length-l),m=parseInt(r.substring(l,l+h),e);8>h?(h=oi(Math.pow(e,h)),o=o.R(h).add(oi(m))):o=(o=o.R(t)).add(oi(m))}return o};var Sc=me.createWebChannelTransport=function(){return new xt},bs=me.getStatEventTarget=function(){return fr()},ko=me.ErrorCode=br,hi=me.EventType=Lr,Ul=me.Event=Wn,O=me.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ce=me.FetchXmlHttpFactory=si,j=me.WebChannel=ii,xe=me.XhrIo=Cr,Ye=me.Md5=st,It=me.Integer=un;const Ut="@firebase/firestore";class dn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let pr="9.23.0";const ir=new f.Yd("@firebase/firestore");function mr(){return ir.logLevel}function Vt(r,...e){if(ir.logLevel<=f.in.DEBUG){const t=e.map(Hs);ir.debug(`Firestore (${pr}): ${r}`,...t)}}function Kn(r,...e){if(ir.logLevel<=f.in.ERROR){const t=e.map(Hs);ir.error(`Firestore (${pr}): ${r}`,...t)}}function Wr(r,...e){if(ir.logLevel<=f.in.WARN){const t=e.map(Hs);ir.warn(`Firestore (${pr}): ${r}`,...t)}}function Hs(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function vn(r="Unexpected state"){const e=`FIRESTORE (${pr}) INTERNAL ASSERTION FAILED: `+r;throw Kn(e),new Error(e)}function Sn(r,e){r||vn()}function hn(r,e){return r}const St={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class na{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ha{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class Du{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Bl{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const h=ae=>this.i!==l?(l=this.i,t(ae)):Promise.resolve();let m=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Mi,e.enqueueRetryable(()=>h(this.currentUser))};const T=()=>{const ae=m;e.enqueueRetryable((0,u.Z)(function*(){yield ae.promise,yield h(o.currentUser)}))},K=ae=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ae,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(ae=>K(ae)),setTimeout(()=>{if(!this.auth){const ae=this.t.getImmediate({optional:!0});ae?K(ae):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Mi)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Sn("string"==typeof o.accessToken),new na(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sn(null===e||"string"==typeof e),new dn(e)}}class ba{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ua{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new ba(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ea{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=h=>{null!=h.error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.T;return this.T=h.token,Vt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const l=h=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.I.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.I.getImmediate({optional:!0});h?l(h):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Sn("string"==typeof t.token),this.T=t.token,new Ea(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Sd(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class bi{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Sd(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<t&&(o+=e.charAt(l[h]%e.length))}return o}}function er(r,e){return r<e?-1:r>e?1:0}function ra(r,e,t){return r.length===e.length&&r.every((o,l)=>t(o,e[l]))}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zt(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zt(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new zt(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zt(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ti(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?er(this.nanoseconds,e.nanoseconds):er(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pn(e)}static min(){return new Pn(new ti(0,0))}static max(){return new Pn(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Go{constructor(e,t,o){void 0===t?t=0:t>e.length&&vn(),void 0===o?o=e.length-t:o>e.length-t&&vn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Go.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const h=e.get(l),m=t.get(l);if(h<m)return-1;if(h>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wr extends Go{construct(e,t,o){return new wr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new zt(St.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new wr(t)}static emptyPath(){return new wr([])}}const jl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends Go{construct(e,t,o){return new Qr(e,t,o)}static isValidIdentifier(e){return jl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const h=()=>{if(0===o.length)throw new zt(St.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let m=!1;for(;l<e.length;){const T=e[l];if("\\"===T){if(l+1===e.length)throw new zt(St.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const K=e[l+1];if("\\"!==K&&"."!==K&&"`"!==K)throw new zt(St.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=K,l+=2}else"`"===T?(m=!m,l++):"."!==T||m?(o+=T,l++):(h(),l++)}if(h(),m)throw new zt(St.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(t)}static emptyPath(){return new Qr([])}}class pn{constructor(e){this.path=e}static fromPath(e){return new pn(wr.fromString(e))}static fromName(e){return new pn(wr.fromString(e).popFirst(5))}static empty(){return new pn(wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pn(new wr(e.slice()))}}function sl(r){return new Es(r.readTime,r.key,-1)}class Es{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Es(Pn.min(),pn.empty(),-1)}static max(){return new Es(Pn.max(),pn.empty(),-1)}}function $o(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=pn.comparator(r.documentKey,e.documentKey),0!==t?t:er(r.largestBatchId,e.largestBatchId))}const co="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rs(r){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,u.Z)(function*(r){if(r.code!==St.FAILED_PRECONDITION||r.message!==co)throw r;Vt("LocalStore","Unexpectedly lost primary lease")}),Ic.apply(this,arguments)}class Et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Et((o,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Et?t:Et.resolve(t)}catch(t){return Et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.reject(t)}static resolve(e){return new Et((t,o)=>{t(e)})}static reject(e){return new Et((t,o)=>{o(e)})}static waitFor(e){return new Et((t,o)=>{let l=0,h=0,m=!1;e.forEach(T=>{++l,T.next(()=>{++h,m&&h===l&&t()},K=>o(K))}),m=!0,h===l&&t()})}static or(e){let t=Et.resolve(!1);for(const o of e)t=t.next(l=>l?Et.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,h)=>{o.push(t.call(this,l,h))}),this.waitFor(o)}static mapArray(e,t){return new Et((o,l)=>{const h=e.length,m=new Array(h);let T=0;for(let K=0;K<h;K++){const ae=K;t(e[ae]).next(Ne=>{m[ae]=Ne,++T,T===h&&o(m)},Ne=>l(Ne))}})}static doWhile(e,t){return new Et((o,l)=>{const h=()=>{!0===e()?t().next(()=>{h()},l):o()};h()})}}function ia(r){return"IndexedDbTransactionError"===r.name}let ho=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>o.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function ja(r){return null==r}function zl(r){return 0===r&&1/r==-1/0}function As(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ds(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function qs(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Nr{constructor(e,t){this.comparator=e,this.root=t||fi.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fi.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qo(this.root,e,this.comparator,!0)}}class qo{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?o(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fi{constructor(e,t,o,l,h){this.key=e,this.value=t,this.color=o??fi.RED,this.left=l??fi.EMPTY,this.right=h??fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,h){return new fi(e??this.key,t??this.value,o??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===h?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return fi.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vn();const e=this.left.check();if(e!==this.right.check())throw vn();return e+(this.isRed()?0:1)}}fi.EMPTY=null,fi.RED=!0,fi.BLACK=!1,fi.EMPTY=new class{constructor(){this.size=0}get key(){throw vn()}get value(){throw vn()}get color(){throw vn()}get left(){throw vn()}get right(){throw vn()}copy(r,e,t,o,l){return this}insert(r,e,t){return new fi(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Si{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xu(this.data.getIterator())}getIteratorFrom(e){return new xu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Si(this.comparator);return t.data=e,t}}class xu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ss{constructor(e){this.fields=e,e.sort(Qr.comparator)}static empty(){return new Ss([])}unionWith(e){let t=new Si(Qr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Dd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Dd("Invalid base64 string: "+l):l}}(e);return new qi(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new qi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return er(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const Kl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(r){if(Sn(!!r),"string"==typeof r){let e=0;const t=Kl.exec(r);if(Sn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ti(r.seconds),nanos:Ti(r.nanos)}}function Ti(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ha(r){return"string"==typeof r?qi.fromBase64String(r):qi.fromUint8Array(r)}function Zl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ul(r){const e=r.mapValue.fields.__previous_value__;return Zl(e)?ul(e):e}function Pu(r){const e=Lo(r.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}class Mu{constructor(e,t,o,l,h,m,T,K,ae){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=T,this.longPollingOptions=K,this.useFetchStreams=ae}}class Ia{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}const sa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zl(r)?4:af(r)?9007199254740991:10:vn()}function oa(r,e){if(r===e)return!0;const t=Zo(r);if(t!==Zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pu(r).isEqual(Pu(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Lo(o.timestampValue),m=Lo(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return l=e,Ha(r.bytesValue).isEqual(Ha(l.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Ti(o.geoPointValue.latitude)===Ti(l.geoPointValue.latitude)&&Ti(o.geoPointValue.longitude)===Ti(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ti(o.integerValue)===Ti(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Ti(o.doubleValue),m=Ti(l.doubleValue);return h===m?zl(h)===zl(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return ra(r.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(As(h)!==As(m))return!1;for(const T in h)if(h.hasOwnProperty(T)&&(void 0===m[T]||!oa(h[T],m[T])))return!1;return!0}(r,e);default:return vn()}var l}function dl(r,e){return void 0!==(r.values||[]).find(t=>oa(t,e))}function xa(r,e){if(r===e)return 0;const t=Zo(r),o=Zo(e);if(t!==o)return er(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return er(r.booleanValue,e.booleanValue);case 2:return function(l,h){const m=Ti(l.integerValue||l.doubleValue),T=Ti(h.integerValue||h.doubleValue);return m<T?-1:m>T?1:m===T?0:isNaN(m)?isNaN(T)?0:-1:1}(r,e);case 3:return xc(r.timestampValue,e.timestampValue);case 4:return xc(Pu(r),Pu(e));case 5:return er(r.stringValue,e.stringValue);case 6:return function(l,h){const m=Ha(l),T=Ha(h);return m.compareTo(T)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const m=l.split("/"),T=h.split("/");for(let K=0;K<m.length&&K<T.length;K++){const ae=er(m[K],T[K]);if(0!==ae)return ae}return er(m.length,T.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const m=er(Ti(l.latitude),Ti(h.latitude));return 0!==m?m:er(Ti(l.longitude),Ti(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(l,h){const m=l.values||[],T=h.values||[];for(let K=0;K<m.length&&K<T.length;++K){const ae=xa(m[K],T[K]);if(ae)return ae}return er(m.length,T.length)}(r.arrayValue,e.arrayValue);case 10:return function(l,h){if(l===sa.mapValue&&h===sa.mapValue)return 0;if(l===sa.mapValue)return 1;if(h===sa.mapValue)return-1;const m=l.fields||{},T=Object.keys(m),K=h.fields||{},ae=Object.keys(K);T.sort(),ae.sort();for(let Ne=0;Ne<T.length&&Ne<ae.length;++Ne){const Je=er(T[Ne],ae[Ne]);if(0!==Je)return Je;const bt=xa(m[T[Ne]],K[ae[Ne]]);if(0!==bt)return bt}return er(T.length,ae.length)}(r.mapValue,e.mapValue);default:throw vn()}}function xc(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return er(r,e);const t=Lo(r),o=Lo(e),l=er(t.seconds,o.seconds);return 0!==l?l:er(t.nanos,o.nanos)}function Yl(r){return Ou(r)}function Ou(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const l=Lo(o);return`time(${l.seconds},${l.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ha(r.bytesValue).toBase64():"referenceValue"in r?pn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let l="[",h=!0;for(const m of o.values||[])h?h=!1:l+=",",l+=Ou(m);return l+"]"}(r.arrayValue):"mapValue"in r?function(o){const l=Object.keys(o.fields||{}).sort();let h="{",m=!0;for(const T of l)m?m=!1:h+=",",h+=`${T}:${Ou(o.fields[T])}`;return h+"}"}(r.mapValue):vn();var e}function ma(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xd(r){return!!r&&"integerValue"in r}function Pc(r){return!!r&&"arrayValue"in r}function fl(r){return!!r&&"nullValue"in r}function sf(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ru(r){return!!r&&"mapValue"in r}function Ql(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ds(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Ql(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ql(r.arrayValue.values[t]);return e}return Object.assign({},r)}function af(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ts{constructor(e){this.value=e}static empty(){return new Ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ru(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(t)}setAll(e){let t=Qr.emptyPath(),o={},l=[];e.forEach((m,T)=>{if(!t.isImmediateParentOf(T)){const K=this.getFieldsMap(t);this.applyChanges(K,o,l),o={},l=[],t=T.popLast()}m?o[T.lastSegment()]=Ql(m):l.push(T.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,o,l)}delete(e){const t=this.field(e.popLast());Ru(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];Ru(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){ds(t,(l,h)=>e[l]=h);for(const l of o)delete e[l]}clone(){return new Ts(Ql(this.value))}}function Lu(r){const e=[];return ds(r.fields,(t,o)=>{const l=new Qr([t]);if(Ru(o)){const h=Lu(o.mapValue).fields;if(0===h.length)e.push(l);else for(const m of h)e.push(l.child(m))}else e.push(l)}),new Ss(e)}class li{constructor(e,t,o,l,h,m,T){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=h,this.data=m,this.documentState=T}static newInvalidDocument(e){return new li(e,0,Pn.min(),Pn.min(),Pn.min(),Ts.empty(),0)}static newFoundDocument(e,t,o,l){return new li(e,1,t,Pn.min(),o,l,0)}static newNoDocument(e,t){return new li(e,2,t,Pn.min(),Pn.min(),Ts.empty(),0)}static newUnknownDocument(e,t){return new li(e,3,t,Pn.min(),Pn.min(),Ts.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ns{constructor(e,t){this.position=e,this.inclusive=t}}function Pd(r,e,t){let o=0;for(let l=0;l<r.position.length;l++){const h=e[l],m=r.position[l];if(o=h.field.isKeyField()?pn.comparator(pn.fromName(m.referenceValue),t.key):xa(m,t.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function Oc(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oa(r.position[t],e.position[t]))return!1;return!0}class pl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Md(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Rc{}class xr extends Rc{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Zs(e,t,o):"array-contains"===t?new sg(e,o):"in"===t?new Fc(e,o):"not-in"===t?new og(e,o):"array-contains-any"===t?new cf(e,o):new xr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new $a(e,o):new Rd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xa(t,this.value)):null!==t&&Zo(this.value)===Zo(t)&&this.matchesComparison(xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kr extends Rc{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Kr(e,t)}matches(e){return Ga(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ga(r){return"and"===r.op}function Fu(r){return function Od(r){for(const e of r.filters)if(e instanceof Kr)return!1;return!0}(r)&&Ga(r)}function Ks(r){if(r instanceof xr)return r.field.canonicalString()+r.op.toString()+Yl(r.value);if(Fu(r))return r.filters.map(e=>Ks(e)).join(",");{const e=r.filters.map(t=>Ks(t)).join(",");return`${r.op}(${e})`}}function Nc(r,e){return r instanceof xr?(t=r,(o=e)instanceof xr&&t.op===o.op&&t.field.isEqual(o.field)&&oa(t.value,o.value)):r instanceof Kr?function(t,o){return o instanceof Kr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,h,m)=>l&&Nc(h,o.filters[m]),!0)}(r,e):void vn();var t,o}function gl(r){return r instanceof xr?`${(e=r).field.canonicalString()} ${e.op} ${Yl(e.value)}`:r instanceof Kr?function(e){return e.op.toString()+" {"+e.getFilters().map(gl).join(" ,")+"}"}(r):"Filter";var e}class Zs extends xr{constructor(e,t,o){super(e,t,o),this.key=pn.fromName(o.referenceValue)}matches(e){const t=pn.comparator(e.key,this.key);return this.matchesComparison(t)}}class $a extends xr{constructor(e,t){super(e,"in",t),this.keys=Vu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Rd extends xr{constructor(e,t){super(e,"not-in",t),this.keys=Vu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vu(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>pn.fromName(o.referenceValue))}class sg extends xr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pc(t)&&dl(t.arrayValue,this.value)}}class Fc extends xr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&dl(this.value.arrayValue,t)}}class og extends xr{constructor(e,t){super(e,"not-in",t)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!dl(this.value.arrayValue,t)}}class cf extends xr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>dl(this.value.arrayValue,o))}}class Uu{constructor(e,t=null,o=[],l=[],h=null,m=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=h,this.startAt=m,this.endAt=T,this.dt=null}}function Xl(r,e=null,t=[],o=[],l=null,h=null,m=null){return new Uu(r,e,t,o,l,h,m)}function aa(r){const e=hn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Ks(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),ja(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Yl(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Yl(o)).join(",")),e.dt=t}return e.dt}function ml(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Md(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Nc(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Oc(r.startAt,e.startAt)&&Oc(r.endAt,e.endAt)}function za(r){return pn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class _a{constructor(e,t=null,o=[],l=[],h=null,m="F",T=null,K=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=m,this.startAt=T,this.endAt=K,this.wt=null,this._t=null}}function ya(r){return new _a(r)}function Vc(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Uc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function E(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function p(r){return null!==r.collectionGroup}function _(r){const e=hn(r);if(null===e.wt){e.wt=[];const t=E(e),o=Uc(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new pl(t)),e.wt.push(new pl(Qr.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e.wt.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new pl(Qr.keyField(),h))}}}return e.wt}function S(r){const e=hn(r);if(!e._t)if("F"===e.limitType)e._t=Xl(e.path,e.collectionGroup,_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of _(e))t.push(new pl(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new Ns(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ns(e.startAt.position,e.startAt.inclusive):null;e._t=Xl(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function fe(r,e){e.getFirstInequalityField(),E(r);const t=r.filters.concat([e]);return new _a(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Fe(r,e,t){return new _a(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ut(r,e){return ml(S(r),S(e))&&r.limitType===e.limitType}function Ot(r){return`${aa(S(r))}|lt:${r.limitType}`}function ln(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>gl(o)).join(", ")}]`),ja(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Yl(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Yl(o)).join(",")),`Target(${t})`}(S(r))}; limitType=${r.limitType})`}function _n(r,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):pn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(r,e)&&function(t,o){for(const l of _(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(r,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(l,h,m){const T=Pd(l,h,m);return l.inclusive?T<=0:T<0}(t.startAt,_(t),o)||t.endAt&&!function(l,h,m){const T=Pd(l,h,m);return l.inclusive?T>=0:T>0}(t.endAt,_(t),o)));var t,o}function _r(r){return(e,t)=>{let o=!1;for(const l of _(r)){const h=Ys(l,e,t);if(0!==h)return h;o=o||l.field.isKeyField()}return 0}}function Ys(r,e,t){const o=r.field.isKeyField()?pn.comparator(e.key,t.key):function(l,h,m){const T=h.data.field(l),K=m.data.field(l);return null!==T&&null!==K?xa(T,K):vn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return vn()}}class Ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,h]of o)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(t,o)=>{for(const[l,h]of o)e(l,h)})}isEmpty(){return qs(this.inner)}size(){return this.innerSize}}const vl=new Nr(pn.comparator);function fo(){return vl}const Bc=new Nr(pn.comparator);function Wa(...r){let e=Bc;for(const t of r)e=e.insert(t.key,t);return e}function jc(r){let e=Bc;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Is(){return qa()}function Hc(){return qa()}function qa(){return new Ls(r=>r.toString(),(r,e)=>r.isEqual(e))}const Bu=new Nr(pn.comparator),uf=new Si(pn.comparator);function sr(...r){let e=uf;for(const t of r)e=e.add(t);return e}const ju=new Si(er);function df(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function hf(r){return{integerValue:""+r}}function Ld(r,e){return function rf(r){return"number"==typeof r&&Number.isInteger(r)&&!zl(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?hf(e):df(r,e)}class Hu{constructor(){this._=void 0}}function Fd(r,e,t){return r instanceof Cl?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Zl(l)&&(l=ul(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof Ka?Ud(r,e):r instanceof va?ag(r,e):function(o,l){const h=ff(o,l),m=lg(h)+lg(o.gt);return xd(h)&&xd(o.gt)?hf(m):df(o.serializer,m)}(r,e)}function Vd(r,e,t){return r instanceof Ka?Ud(r,e):r instanceof va?ag(r,e):t}function ff(r,e){return r instanceof Jl?xd(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Cl extends Hu{}class Ka extends Hu{constructor(e){super(),this.elements=e}}function Ud(r,e){const t=cg(e);for(const o of r.elements)t.some(l=>oa(l,o))||t.push(o);return{arrayValue:{values:t}}}class va extends Hu{constructor(e){super(),this.elements=e}}function ag(r,e){let t=cg(e);for(const o of r.elements)t=t.filter(l=>!oa(l,o));return{arrayValue:{values:t}}}class Jl extends Hu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function lg(r){return Ti(r.integerValue||r.doubleValue)}function cg(r){return Pc(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class dg{constructor(e,t){this.version=e,this.transformResults=t}}class pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Za{}function hg(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new ec(r.key,pi.none()):new zc(r.key,r.data,pi.none());{const t=r.data,o=Ts.empty();let l=new Si(Qr.comparator);for(let h of e.fields)if(!l.has(h)){let m=t.field(h);null===m&&h.length>1&&(h=h.popLast(),m=t.field(h)),null===m?o.delete(h):o.set(h,m),l=l.add(h)}return new Pa(r.key,o,new Ss(l.toArray()),pi.none())}}function C_(r,e,t){r instanceof zc?function(o,l,h){const m=o.value.clone(),T=Hd(o.fieldTransforms,l,h.transformResults);m.setAll(T),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof Pa?function(o,l,h){if(!$c(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=Hd(o.fieldTransforms,l,h.transformResults),T=l.data;T.setAll($u(o)),T.setAll(m),l.convertToFoundDocument(h.version,T).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bd(r,e,t,o){return r instanceof zc?function(l,h,m,T){if(!$c(l.precondition,h))return m;const K=l.value.clone(),ae=pf(l.fieldTransforms,T,h);return K.setAll(ae),h.convertToFoundDocument(h.version,K).setHasLocalMutations(),null}(r,e,t,o):r instanceof Pa?function(l,h,m,T){if(!$c(l.precondition,h))return m;const K=pf(l.fieldTransforms,T,h),ae=h.data;return ae.setAll($u(l)),ae.setAll(K),h.convertToFoundDocument(h.version,ae).setHasLocalMutations(),null===m?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(Ne=>Ne.field))}(r,e,t,o):(m=t,$c(r.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m);var h,m}function w_(r,e){let t=null;for(const o of r.fieldTransforms){const l=e.data.field(o.field),h=ff(o.transform,l||null);null!=h&&(null===t&&(t=Ts.empty()),t.set(o.field,h))}return t||null}function jd(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&ra(t,o,(l,h)=>function ug(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Ka&&o instanceof Ka||t instanceof va&&o instanceof va?ra(t.elements,o.elements,oa):t instanceof Jl&&o instanceof Jl?oa(t.gt,o.gt):t instanceof Cl&&o instanceof Cl);var t,o}(l,h))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class zc extends Za{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Pa extends Za{constructor(e,t,o,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function $u(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function Hd(r,e,t){const o=new Map;Sn(r.length===t.length);for(let l=0;l<t.length;l++){const h=r[l],m=h.transform,T=e.data.field(h.field);o.set(h.field,Vd(m,T,t[l]))}return o}function pf(r,e,t){const o=new Map;for(const l of r){const h=l.transform,m=t.data.field(l.field);o.set(l.field,Fd(h,m,e))}return o}class ec extends Za{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gd extends Za{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $d{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&C_(h,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Bd(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Bd(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Hc();return this.mutations.forEach(l=>{const h=e.get(l.key),m=h.overlayedDocument;let T=this.applyToLocalView(m,h.mutatedFields);T=t.has(l.key)?null:T;const K=hg(m,T);null!==K&&o.set(l.key,K),m.isValidDocument()||m.convertToNoDocument(Pn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sr())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(t,o)=>jd(t,o))&&ra(this.baseMutations,e.baseMutations,(t,o)=>jd(t,o))}}class gf{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){Sn(e.mutations.length===o.length);let l=Bu;const h=e.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,o[m].version);return new gf(e,t,o,l)}}class mf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class E_{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ds,yr;function fg(r){if(void 0===r)return Kn("GRPC error has no .code"),St.UNKNOWN;switch(r){case Ds.OK:return St.OK;case Ds.CANCELLED:return St.CANCELLED;case Ds.UNKNOWN:return St.UNKNOWN;case Ds.DEADLINE_EXCEEDED:return St.DEADLINE_EXCEEDED;case Ds.RESOURCE_EXHAUSTED:return St.RESOURCE_EXHAUSTED;case Ds.INTERNAL:return St.INTERNAL;case Ds.UNAVAILABLE:return St.UNAVAILABLE;case Ds.UNAUTHENTICATED:return St.UNAUTHENTICATED;case Ds.INVALID_ARGUMENT:return St.INVALID_ARGUMENT;case Ds.NOT_FOUND:return St.NOT_FOUND;case Ds.ALREADY_EXISTS:return St.ALREADY_EXISTS;case Ds.PERMISSION_DENIED:return St.PERMISSION_DENIED;case Ds.FAILED_PRECONDITION:return St.FAILED_PRECONDITION;case Ds.ABORTED:return St.ABORTED;case Ds.OUT_OF_RANGE:return St.OUT_OF_RANGE;case Ds.UNIMPLEMENTED:return St.UNIMPLEMENTED;case Ds.DATA_LOSS:return St.DATA_LOSS;default:return vn()}}(yr=Ds||(Ds={}))[yr.OK=0]="OK",yr[yr.CANCELLED=1]="CANCELLED",yr[yr.UNKNOWN=2]="UNKNOWN",yr[yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yr[yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yr[yr.NOT_FOUND=5]="NOT_FOUND",yr[yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",yr[yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",yr[yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",yr[yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yr[yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yr[yr.ABORTED=10]="ABORTED",yr[yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",yr[yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",yr[yr.INTERNAL=13]="INTERNAL",yr[yr.UNAVAILABLE=14]="UNAVAILABLE",yr[yr.DATA_LOSS=15]="DATA_LOSS";class pg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return _f}static getOrCreateInstance(){return null===_f&&(_f=new pg),_f}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let _f=null;const xv=new It([4294967295,4294967295],0);function S_(r){const e=function A_(){return new TextEncoder}().encode(r),t=new Ye;return t.update(e),new Uint8Array(t.digest())}function yf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new It([t,o],0),new It([l,h],0)]}class vf{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new zu(`Invalid padding: ${t}`);if(o<0)throw new zu(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new zu(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new zu(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=It.fromNumber(this.It)}Et(e,t,o){let l=e.add(t.multiply(It.fromNumber(o)));return 1===l.compare(xv)&&(l=new It([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=S_(e),[o,l]=yf(t);for(let h=0;h<this.hashCount;h++){const m=this.Et(o,l,h);if(!this.At(m))return!1}return!0}static create(e,t,o){const l=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),m=new vf(h,l,t);return o.forEach(T=>m.insert(T)),m}insert(e){if(0===this.It)return;const t=S_(e),[o,l]=yf(t);for(let h=0;h<this.hashCount;h++){const m=this.Et(o,l,h);this.Rt(m)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wu{constructor(e,t,o,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Wu(Pn.min(),l,new Nr(er),fo(),sr())}}class qu{constructor(e,t,o,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new qu(o,t,sr(),sr(),sr())}}class qc{constructor(e,t,o,l){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=l}}class Ma{constructor(e,t){this.targetId=e,this.Vt=t}}class Kc{constructor(e,t,o=qi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Cf{constructor(){this.St=0,this.Dt=T_(),this.Ct=qi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=sr(),t=sr(),o=sr();return this.Dt.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:vn()}}),new qu(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=T_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gg{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=fo(),this.zt=wf(),this.Wt=new Nr(er)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:vn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,l)=>{this.te(l)&&t(l)})}ne(e){var t;const o=e.targetId,l=e.Vt.count,h=this.se(o);if(h){const m=h.target;if(za(m))if(0===l){const T=new pn(m.path);this.Yt(o,T,li.newNoDocument(T,Pn.min()))}else Sn(1===l);else{const T=this.ie(o);if(T!==l){const K=this.re(e,T);0!==K&&(this.ee(o),this.Wt=this.Wt.insert(o,2===K?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=pg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(ae,Ne,Je){var bt,Ft,on,An,Tn,gr;const Ur={localCacheCount:Ne,existenceFilterCount:Je.count},Ar=Je.unchangedNames;return Ar&&(Ur.bloomFilter={applied:0===ae,hashCount:null!==(bt=Ar?.hashCount)&&void 0!==bt?bt:0,bitmapLength:null!==(An=null===(on=null===(Ft=Ar?.bits)||void 0===Ft?void 0:Ft.bitmap)||void 0===on?void 0:on.length)&&void 0!==An?An:0,padding:null!==(gr=null===(Tn=Ar?.bits)||void 0===Tn?void 0:Tn.padding)&&void 0!==gr?gr:0}),Ur}(K,T,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:l}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:h="",padding:m=0},hashCount:T=0}=o;let K,ae;try{K=Ha(h).toUint8Array()}catch(Ne){if(Ne instanceof Dd)return Wr("Decoding the base64 bloom filter in existence filter failed ("+Ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Ne}try{ae=new vf(K,m,T)}catch(Ne){return Wr(Ne instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",Ne),1}return 0===ae.It?1:l!==t-this.oe(e.targetId,ae)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let l=0;return o.forEach(h=>{const m=this.Gt.ue(),T=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.vt(T)||(this.Yt(e,h,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((h,m)=>{const T=this.se(m);if(T){if(h.current&&za(T.target)){const K=new pn(T.target.path);null!==this.jt.get(K)||this.ae(m,K)||this.Yt(m,K,li.newNoDocument(K,e))}h.Mt&&(t.set(m,h.Ot()),h.Ft())}});let o=sr();this.zt.forEach((h,m)=>{let T=!0;m.forEachWhile(K=>{const ae=this.se(K);return!ae||"TargetPurposeLimboResolution"===ae.purpose||(T=!1,!1)}),T&&(o=o.add(h))}),this.jt.forEach((h,m)=>m.setReadTime(e));const l=new Wu(e,t,this.Wt,this.jt,o);return this.jt=fo(),this.zt=wf(),this.Wt=new Nr(er),l}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Cf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Si(er),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Vt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Cf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function wf(){return new Nr(pn.comparator)}function T_(){return new Nr(pn.comparator)}const Pv={asc:"ASCENDING",desc:"DESCENDING"},Mv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bf={and:"AND",or:"OR"};class Ef{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mg(r,e){return r.useProto3Json||ja(e)?e:{value:e}}function Ku(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Af(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function I_(r,e){return Ku(r,e.toTimestamp())}function hs(r){return Sn(!!r),Pn.fromTimestamp(function(e){const t=Lo(e);return new ti(t.seconds,t.nanos)}(r))}function Sf(r,e){return(t=r,new wr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _g(r){const e=wr.fromString(r);return Sn(Mf(e)),e}function Zc(r,e){return Sf(r.databaseId,e.path)}function Yo(r,e){const t=_g(e);if(t.get(1)!==r.databaseId.projectId)throw new zt(St.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new zt(St.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pn(fs(t))}function Tf(r,e){return Sf(r.databaseId,e)}function Zu(r){return new wr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fs(r){return Sn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function If(r,e,t){return{name:Zc(r,e),fields:t.value.mapValue.fields}}function Cg(r,e){return{documents:[Tf(r,e.path)]}}function Wd(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Tf(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Tf(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(K){if(0!==K.length)return Eg(Kr.create(K,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(K){if(0!==K.length)return K.map(ae=>{return{field:Ya((Ne=ae).field),direction:Pf(Ne.dir)};var Ne})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=mg(r,e.limit);var T,K;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(K=e.endAt).inclusive,values:K.position}),t}function x_(r){let e=function zd(r){const e=_g(r);return 4===e.length?wr.emptyPath():fs(e)}(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){Sn(1===o);const Ne=t.from[0];Ne.allDescendants?l=Ne.collectionId:e=e.child(Ne.collectionId)}let h=[];t.where&&(h=function(Ne){const Je=Yc(Ne);return Je instanceof Kr&&Fu(Je)?Je.getFilters():[Je]}(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(Ne=>{return new pl(Qc((Je=Ne).field),function(bt){switch(bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Je.direction));var Je}));let T=null;t.limit&&(T=function(Ne){let Je;return Je="object"==typeof Ne?Ne.value:Ne,ja(Je)?null:Je}(t.limit));let K=null;var Ne;t.startAt&&(K=new Ns((Ne=t.startAt).values||[],!!Ne.before));let ae=null;return t.endAt&&(ae=function(Ne){return new Ns(Ne.values||[],!Ne.before)}(t.endAt)),function Nd(r,e,t,o,l,h,m,T){return new _a(r,e,t,o,l,h,m,T)}(e,l,m,h,T,"F",K,ae)}function Yc(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Qc(e.unaryFilter.field);return xr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Qc(e.unaryFilter.field);return xr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qc(e.unaryFilter.field);return xr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Qc(e.unaryFilter.field);return xr.create(h,"!=",{nullValue:"NULL_VALUE"});default:return vn()}}(r):void 0!==r.fieldFilter?xr.create(Qc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Kr.create(e.compositeFilter.filters.map(t=>Yc(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return vn()}}(e.compositeFilter.op))}(r):vn();var e}function Pf(r){return Pv[r]}function wg(r){return Mv[r]}function bg(r){return bf[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Qc(r){return Qr.fromServerFormat(r.fieldPath)}function Eg(r){return r instanceof xr?function(e){if("=="===e.op){if(sf(e.value))return{unaryFilter:{field:Ya(e.field),op:"IS_NAN"}};if(fl(e.value))return{unaryFilter:{field:Ya(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sf(e.value))return{unaryFilter:{field:Ya(e.field),op:"IS_NOT_NAN"}};if(fl(e.value))return{unaryFilter:{field:Ya(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(e.field),op:wg(e.op),value:e.value}}}(r):r instanceof Kr?function(e){const t=e.getFilters().map(o=>Eg(o));return 1===t.length?t[0]:{compositeFilter:{op:bg(e.op),filters:t}}}(r):vn()}function Ag(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Mf(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Ca{constructor(e,t,o,l,h=Pn.min(),m=Pn.min(),T=qi.EMPTY_BYTE_STRING,K=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=T,this.expectedCount=K}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class P_{constructor(e){this.fe=e}}function Jc(r){const e=x_({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Fe(e,e.limit,"L"):e}class El{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ti(e.integerValue));else if("doubleValue"in e){const o=Ti(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),zl(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ha(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?af(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):vn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const l of Object.keys(o))this.Te(l,t),this.me(o[l],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const l of o)this.me(l,t)}ve(e,t){this.ye(t,37),pn.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}El.Ve=new El;class R_{constructor(){this.rn=new Jd}addToCollectionParentIndex(e,t){return this.rn.add(t),Et.resolve()}getCollectionParents(e,t){return Et.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Et.resolve()}deleteFieldIndex(e,t){return Et.resolve()}getDocumentsMatchingTarget(e,t){return Et.resolve(null)}getIndexType(e,t){return Et.resolve(0)}getFieldIndexes(e,t){return Et.resolve([])}getNextCollectionGroupToUpdate(e){return Et.resolve(null)}getMinOffset(e,t){return Et.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return Et.resolve(Es.min())}updateCollectionGroup(e,t,o){return Et.resolve()}updateIndexEntries(e,t){return Et.resolve()}}class Jd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new Si(wr.comparator),h=!l.has(o);return this.index[t]=l.add(o),h}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Si(wr.comparator)).toArray()}}new Uint8Array(0);class bo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new bo(e,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}bo.DEFAULT_COLLECTION_PERCENTILE=10,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bo.DEFAULT=new bo(41943040,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bo.DISABLED=new bo(-1,0,0);class nc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new nc(0)}static Mn(){return new nc(-1)}}class N_{constructor(){this.changes=new Ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Et.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class F_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cr{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&Bd(o.mutation,l,Ss.empty(),ti.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,sr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=sr()){const l=Is();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(h=>{let m=Wa();return h.forEach((T,K)=>{m=m.insert(T,K.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const o=Is();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,sr()))}populateOverlays(e,t,o){const l=[];return o.forEach(h=>{t.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(e,l).next(h=>{h.forEach((m,T)=>{t.set(m,T)})})}computeViews(e,t,o,l){let h=fo();const m=qa(),T=qa();return t.forEach((K,ae)=>{const Ne=o.get(ae.key);l.has(ae.key)&&(void 0===Ne||Ne.mutation instanceof Pa)?h=h.insert(ae.key,ae):void 0!==Ne?(m.set(ae.key,Ne.mutation.getFieldMask()),Bd(Ne.mutation,ae,Ne.mutation.getFieldMask(),ti.now())):m.set(ae.key,Ss.empty())}),this.recalculateAndSaveOverlays(e,h).next(K=>(K.forEach((ae,Ne)=>m.set(ae,Ne)),t.forEach((ae,Ne)=>{var Je;return T.set(ae,new F_(Ne,null!==(Je=m.get(ae))&&void 0!==Je?Je:null))}),T))}recalculateAndSaveOverlays(e,t){const o=qa();let l=new Nr((m,T)=>m-T),h=sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const T of m)T.keys().forEach(K=>{const ae=t.get(K);if(null===ae)return;let Ne=o.get(K)||Ss.empty();Ne=T.applyToLocalView(ae,Ne),o.set(K,Ne);const Je=(l.get(T.batchId)||sr()).add(K);l=l.insert(T.batchId,Je)})}).next(()=>{const m=[],T=l.getReverseIterator();for(;T.hasNext();){const K=T.getNext(),ae=K.key,Ne=K.value,Je=Hc();Ne.forEach(bt=>{if(!h.has(bt)){const Ft=hg(t.get(bt),o.get(bt));null!==Ft&&Je.set(bt,Ft),h=h.add(bt)}}),m.push(this.documentOverlayCache.saveOverlays(e,ae,Je))}return Et.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return pn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):p(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-h.size):Et.resolve(Is());let T=-1,K=h;return m.next(ae=>Et.forEach(ae,(Ne,Je)=>(T<Je.largestBatchId&&(T=Je.largestBatchId),h.get(Ne)?Et.resolve():this.remoteDocumentCache.getEntry(e,Ne).next(bt=>{K=K.insert(Ne,bt)}))).next(()=>this.populateOverlays(e,ae,h)).next(()=>this.computeViews(e,K,ae,sr())).next(Ne=>({batchId:T,changes:jc(Ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pn(t)).next(o=>{let l=Wa();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let h=Wa();return this.indexManager.getCollectionParents(e,l).next(m=>Et.forEach(m,T=>{const K=(ae=t,Ne=T.child(l),new _a(Ne,null,ae.explicitOrderBy.slice(),ae.filters.slice(),ae.limit,ae.limitType,ae.startAt,ae.endAt));var ae,Ne;return this.getDocumentsMatchingCollectionQuery(e,K,o).next(ae=>{ae.forEach((Ne,Je)=>{h=h.insert(Ne,Je)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(h=>{l.forEach((T,K)=>{const ae=K.getKey();null===h.get(ae)&&(h=h.insert(ae,li.newInvalidDocument(ae)))});let m=Wa();return h.forEach((T,K)=>{const ae=l.get(T);void 0!==ae&&Bd(ae.mutation,K,Ss.empty(),ti.now()),_n(t,K)&&(m=m.insert(T,K))}),m})}}class Gg{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Et.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:hs(o.createTime)}),Et.resolve()}getNamedQuery(e,t){return Et.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:Jc(o.bundledQuery),readTime:hs(o.readTime)}),Et.resolve();var o}}class $g{constructor(){this.overlays=new Nr(pn.comparator),this.ls=new Map}getOverlay(e,t){return Et.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Is();return Et.forEach(t,l=>this.getOverlay(e,l).next(h=>{null!==h&&o.set(l,h)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,h)=>{this.we(e,t,h)}),Et.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.ls.get(o);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.ls.delete(o)),Et.resolve()}getOverlaysForCollection(e,t,o){const l=Is(),h=t.length+1,m=new pn(t.child("")),T=this.overlays.getIteratorFrom(m);for(;T.hasNext();){const K=T.getNext().value,ae=K.getKey();if(!t.isPrefixOf(ae.path))break;ae.path.length===h&&K.largestBatchId>o&&l.set(K.getKey(),K)}return Et.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let h=new Nr((ae,Ne)=>ae-Ne);const m=this.overlays.getIterator();for(;m.hasNext();){const ae=m.getNext().value;if(ae.getKey().getCollectionGroup()===t&&ae.largestBatchId>o){let Ne=h.get(ae.largestBatchId);null===Ne&&(Ne=Is(),h=h.insert(ae.largestBatchId,Ne)),Ne.set(ae.getKey(),ae)}}const T=Is(),K=h.getIterator();for(;K.hasNext()&&(K.getNext().value.forEach((ae,Ne)=>T.set(ae,Ne)),!(T.size()>=l)););return Et.resolve(T)}we(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const m=this.ls.get(l.largestBatchId).delete(o.key);this.ls.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new mf(t,o));let h=this.ls.get(t);void 0===h&&(h=sr(),this.ls.set(t,h)),this.ls.set(t,h.add(o.key))}}class ih{constructor(){this.fs=new Si(Qs.ds),this.ws=new Si(Qs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Qs(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Qs(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new pn(new wr([])),o=new Qs(t,e),l=new Qs(t,e+1),h=[];return this.ws.forEachInRange([o,l],m=>{this.ys(m),h.push(m.key)}),h}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new pn(new wr([])),o=new Qs(t,e),l=new Qs(t,e+1);let h=sr();return this.ws.forEachInRange([o,l],m=>{h=h.add(m.key)}),h}containsKey(e){const t=new Qs(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Qs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return pn.comparator(e.key,t.key)||er(e.As,t.As)}static _s(e,t){return er(e.As,t.As)||pn.comparator(e.key,t.key)}}class V_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Si(Qs.ds)}checkEmpty(e){return Et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const h=this.vs;this.vs++;const m=new $d(h,t,o,l);this.mutationQueue.push(m);for(const T of l)this.Rs=this.Rs.add(new Qs(T.key,h)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Et.resolve(m)}lookupMutationBatch(e,t){return Et.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),h=l<0?0:l;return Et.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Qs(t,0),l=new Qs(t,Number.POSITIVE_INFINITY),h=[];return this.Rs.forEachInRange([o,l],m=>{const T=this.Ps(m.As);h.push(T)}),Et.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Si(er);return t.forEach(l=>{const h=new Qs(l,0),m=new Qs(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([h,m],T=>{o=o.add(T.As)})}),Et.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let h=o;pn.isDocumentKey(h)||(h=h.child(""));const m=new Qs(new pn(h),0);let T=new Si(er);return this.Rs.forEachWhile(K=>{const ae=K.key.path;return!!o.isPrefixOf(ae)&&(ae.length===l&&(T=T.add(K.As)),!0)},m),Et.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(o=>{const l=this.Ps(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Sn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Et.forEach(t.mutations,l=>{const h=new Qs(l.key,t.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Qs(t,0),l=this.Rs.firstAfterOrEqual(o);return Et.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return Et.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zg{constructor(e){this.Ds=e,this.docs=new Nr(pn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),h=l?l.size:0,m=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Et.resolve(o?o.document.mutableCopy():li.newInvalidDocument(t))}getEntries(e,t){let o=fo();return t.forEach(l=>{const h=this.docs.get(l);o=o.insert(l,h?h.document.mutableCopy():li.newInvalidDocument(l))}),Et.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let h=fo();const m=t.path,T=new pn(m.child("")),K=this.docs.getIteratorFrom(T);for(;K.hasNext();){const{key:ae,value:{document:Ne}}=K.getNext();if(!m.isPrefixOf(ae.path))break;ae.path.length>m.length+1||$o(sl(Ne),o)<=0||(l.has(Ne.key)||_n(t,Ne))&&(h=h.insert(Ne.key,Ne.mutableCopy()))}return Et.resolve(h)}getAllFromCollectionGroup(e,t,o,l){vn()}Cs(e,t){return Et.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new U_(this)}getSize(e){return Et.resolve(this.size)}}class U_ extends N_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(o)}),Et.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Wg{constructor(e){this.persistence=e,this.xs=new Ls(t=>aa(t),ml),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ih,this.targetCount=0,this.Ms=nc.kn()}forEachTarget(e,t){return this.xs.forEach((o,l)=>t(l)),Et.resolve()}getLastRemoteSnapshotVersion(e){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Et.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),Et.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new nc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Et.resolve()}updateTargetData(e,t){return this.Fn(t),Et.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Et.resolve()}removeTargets(e,t,o){let l=0;const h=[];return this.xs.forEach((m,T)=>{T.sequenceNumber<=t&&null===o.get(T.targetId)&&(this.xs.delete(m),h.push(this.removeMatchingKeysForTargetId(e,T.targetId)),l++)}),Et.waitFor(h).next(()=>l)}getTargetCount(e){return Et.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return Et.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),Et.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(m=>{h.push(l.markPotentiallyOrphaned(e,m))}),Et.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Et.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return Et.resolve(o)}containsKey(e,t){return Et.resolve(this.ks.containsKey(t))}}class Hf{constructor(e,t){this.$s={},this.overlays={},this.Os=new ho(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wg(this),this.indexManager=new R_,this.remoteDocumentCache=new zg(o=>this.referenceDelegate.Ls(o)),this.serializer=new P_(t),this.qs=new Gg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $g,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new V_(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){Vt("MemoryPersistence","Starting transaction:",e);const l=new B_(this.Os.next());return this.referenceDelegate.Us(),o(l).next(h=>this.referenceDelegate.Ks(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Gs(e,t){return Et.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class B_ extends Tc{constructor(e){super(),this.currentSequenceNumber=e}}class Gf{constructor(e){this.persistence=e,this.Qs=new ih,this.js=null}static zs(e){return new Gf(e)}get Ws(){if(this.js)return this.js;throw vn()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),Et.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),Et.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Et.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.Ws.add(h.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.Ws,o=>{const l=pn.fromPath(o);return this.Hs(e,l).next(h=>{h||t.removeEntry(l,Pn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Et.or([()=>Et.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Zg{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=l}static Li(e,t){let o=sr(),l=sr();for(const h of t.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Zg(e,t.fromCache,o,l)}}class j_{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.Ki(e,t).next(h=>h||this.Gi(e,t,l,o)).next(h=>h||this.Qi(e,t))}Ki(e,t){if(Vc(t))return Et.resolve(null);let o=S(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=Fe(t,null,"F"),o=S(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(h=>{const m=sr(...h);return this.Ui.getDocuments(e,m).next(T=>this.indexManager.getMinOffset(e,o).next(K=>{const ae=this.ji(t,T);return this.zi(t,ae,m,K.readTime)?this.Ki(e,Fe(t,null,"F")):this.Wi(e,ae,t,K)}))})))}Gi(e,t,o,l){return Vc(t)||l.isEqual(Pn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(h=>{const m=this.ji(t,h);return this.zi(t,m,o,l)?this.Qi(e,t):(mr()<=f.in.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ln(t)),this.Wi(e,m,t,function Hl(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,l=Pn.fromTimestamp(1e9===o?new ti(t+1,0):new ti(t,o));return new Es(l,pn.empty(),e)}(l,-1)))})}ji(e,t){let o=new Si(_r(e));return t.forEach((l,h)=>{_n(e,h)&&(o=o.add(h))}),o}zi(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Qi(e,t){return mr()<=f.in.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",ln(t)),this.Ui.getDocumentsMatchingQuery(e,t,Es.min())}Wi(e,t,o,l){return this.Ui.getDocumentsMatchingQuery(e,o,l).next(h=>(t.forEach(m=>{h=h.insert(m.key,m)}),h))}}class H_{constructor(e,t,o,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new Nr(er),this.Yi=new Ls(h=>aa(h),ml),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cr(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function G_(r,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,u.Z)(function*(r,e){const t=hn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(h=>(l=h,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(h=>{const m=[],T=[];let K=sr();for(const ae of l){m.push(ae.batchId);for(const Ne of ae.mutations)K=K.add(Ne.key)}for(const ae of h){T.push(ae.batchId);for(const Ne of ae.mutations)K=K.add(Ne.key)}return t.localDocuments.getDocuments(o,K).next(ae=>({er:ae,removedBatchIds:m,addedBatchIds:T}))})})}),Wf.apply(this,arguments)}function Yg(r){const e=hn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function $_(r,e){const t=hn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function su(r,e,t){return qf.apply(this,arguments)}function qf(){return qf=(0,u.Z)(function*(r,e,t){const o=hn(r),l=o.Ji.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",h,m=>o.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!ia(m))throw m;Vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(l.target)}),qf.apply(this,arguments)}function oh(r,e,t){const o=hn(r);let l=Pn.min(),h=sr();return o.persistence.runTransaction("Execute query","readonly",m=>function(T,K,ae){const Ne=hn(T),Je=Ne.Yi.get(ae);return void 0!==Je?Et.resolve(Ne.Ji.get(Je)):Ne.Bs.getTargetData(K,ae)}(o,m,S(e)).next(T=>{if(T)return l=T.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(m,T.targetId).next(K=>{h=K})}).next(()=>o.Hi.getDocumentsMatchingQuery(m,e,t?l:Pn.min(),t?h:sr())).next(T=>(function Kf(r,e,t){let o=r.Xi.get(e)||Pn.min();t.forEach((l,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),r.Xi.set(e,o)}(o,function kn(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),T),{documents:T,ir:h})))}class ch{constructor(){this.activeTargetIds=function Gc(){return ju}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tm{constructor(){this.Hr=new ch,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ch,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uh{Yr(e){}shutdown(){}}class ac{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ou=null;function lc(){return null===ou?ou=268435456+Math.round(2147483648*Math.random()):ou++,"0x"+ou.toString(16)}const Jf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dh{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const po="WebChannelConnection";class ep extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,l,h){const m=lc(),T=this.To(e,t);Vt("RestConnection",`Sending RPC '${e}' ${m}:`,T,o);const K={};return this.Eo(K,l,h),this.Ao(e,T,K,o).then(ae=>(Vt("RestConnection",`Received RPC '${e}' ${m}: `,ae),ae),ae=>{throw Wr("RestConnection",`RPC '${e}' ${m} failed with error: `,ae,"url: ",T,"request:",o),ae})}vo(e,t,o,l,h,m){return this.Io(e,t,o,l,h)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+pr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),o&&o.headers.forEach((l,h)=>e[h]=l)}To(e,t){return`${this.mo}/v1/${t}:${Jf[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,l){const h=lc();return new Promise((m,T)=>{const K=new xe;K.setWithCredentials(!0),K.listenOnce(hi.COMPLETE,()=>{try{switch(K.getLastErrorCode()){case ko.NO_ERROR:const Ne=K.getResponseJson();Vt(po,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(Ne)),m(Ne);break;case ko.TIMEOUT:Vt(po,`RPC '${e}' ${h} timed out`),T(new zt(St.DEADLINE_EXCEEDED,"Request time out"));break;case ko.HTTP_ERROR:const Je=K.getStatus();if(Vt(po,`RPC '${e}' ${h} failed with status:`,Je,"response text:",K.getResponseText()),Je>0){let bt=K.getResponseJson();Array.isArray(bt)&&(bt=bt[0]);const Ft=bt?.error;if(Ft&&Ft.status&&Ft.message){const on=function(An){const Tn=An.toLowerCase().replace(/_/g,"-");return Object.values(St).indexOf(Tn)>=0?Tn:St.UNKNOWN}(Ft.status);T(new zt(on,Ft.message))}else T(new zt(St.UNKNOWN,"Server responded with status "+K.getStatus()))}else T(new zt(St.UNAVAILABLE,"Connection failed."));break;default:vn()}}finally{Vt(po,`RPC '${e}' ${h} completed.`)}});const ae=JSON.stringify(l);Vt(po,`RPC '${e}' ${h} sending request:`,l),K.send(t,"POST",ae,o,15)})}Ro(e,t,o){const l=lc(),h=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Sc(),T=bs(),K={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ae=this.longPollingOptions.timeoutSeconds;void 0!==ae&&(K.longPollingTimeout=Math.round(1e3*ae)),this.useFetchStreams&&(K.xmlHttpFactory=new ce({})),this.Eo(K.initMessageHeaders,t,o),K.encodeInitMessageHeaders=!0;const Ne=h.join("");Vt(po,`Creating RPC '${e}' stream ${l}: ${Ne}`,K);const Je=m.createWebChannel(Ne,K);let bt=!1,Ft=!1;const on=new dh({ro:Tn=>{Ft?Vt(po,`Not sending because RPC '${e}' stream ${l} is closed:`,Tn):(bt||(Vt(po,`Opening RPC '${e}' stream ${l} transport.`),Je.open(),bt=!0),Vt(po,`RPC '${e}' stream ${l} sending:`,Tn),Je.send(Tn))},oo:()=>Je.close()}),An=(Tn,gr,Ur)=>{Tn.listen(gr,Ar=>{try{Ur(Ar)}catch(Fs){setTimeout(()=>{throw Fs},0)}})};return An(Je,j.EventType.OPEN,()=>{Ft||Vt(po,`RPC '${e}' stream ${l} transport opened.`)}),An(Je,j.EventType.CLOSE,()=>{Ft||(Ft=!0,Vt(po,`RPC '${e}' stream ${l} transport closed`),on.wo())}),An(Je,j.EventType.ERROR,Tn=>{Ft||(Ft=!0,Wr(po,`RPC '${e}' stream ${l} transport errored:`,Tn),on.wo(new zt(St.UNAVAILABLE,"The operation could not be completed")))}),An(Je,j.EventType.MESSAGE,Tn=>{var gr;if(!Ft){const Ur=Tn.data[0];Sn(!!Ur);const Fs=Ur.error||(null===(gr=Ur[0])||void 0===gr?void 0:gr.error);if(Fs){Vt(po,`RPC '${e}' stream ${l} received error:`,Fs);const xs=Fs.status;let Oi=function(Ec){const Jp=Ds[Ec];if(void 0!==Jp)return fg(Jp)}(xs),jo=Fs.message;void 0===Oi&&(Oi=St.INTERNAL,jo="Unknown error status: "+xs+" with message "+Fs.message),Ft=!0,on.wo(new zt(Oi,jo)),Je.close()}else Vt(po,`RPC '${e}' stream ${l} received:`,Ur),on._o(Ur)}}),An(T,Ul.STAT_EVENT,Tn=>{Tn.stat===O.PROXY?Vt(po,`RPC '${e}' stream ${l} detected buffering proxy`):Tn.stat===O.NOPROXY&&Vt(po,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{on.fo()},0),on}}function au(){return typeof document<"u"?document:null}function lu(r){return new Ef(r,!0)}class ud{constructor(e,t,o=1e3,l=1.5,h=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=l,this.Vo=h,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-o);l>0&&Vt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class nm{constructor(e,t,o,l,h,m,T,K){this.ii=e,this.$o=o,this.Oo=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=T,this.listener=K,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ud(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,u.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,u.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,u.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===St.RESOURCE_EXHAUSTED?(Kn(t.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===St.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Fo===t&&this.Zo(o,l)},o=>{e(()=>{const l=new zt(St.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(l)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{o(()=>this.tu(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,u.Z)(function*(){e.state=0,e.start()}))}tu(e){return Vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q_ extends nm{constructor(e,t,o,l,h,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,m),this.serializer=h}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function vg(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:vn(),l=e.targetChange.targetIds||[],h=function(K,ae){return K.useProto3Json?(Sn(void 0===ae||"string"==typeof ae),qi.fromBase64String(ae||"")):(Sn(void 0===ae||ae instanceof Uint8Array),qi.fromUint8Array(ae||new Uint8Array))}(r,e.targetChange.resumeToken),m=e.targetChange.cause,T=m&&function(K){const ae=void 0===K.code?St.UNKNOWN:fg(K.code);return new zt(ae,K.message||"")}(m);t=new Kc(o,l,h,T||null)}else if("documentChange"in e){const o=e.documentChange,l=Yo(r,o.document.name),h=hs(o.document.updateTime),m=o.document.createTime?hs(o.document.createTime):Pn.min(),T=new Ts({mapValue:{fields:o.document.fields}}),K=li.newFoundDocument(l,h,m,T);t=new qc(o.targetIds||[],o.removedTargetIds||[],K.key,K)}else if("documentDelete"in e){const o=e.documentDelete,l=Yo(r,o.document),h=o.readTime?hs(o.readTime):Pn.min(),m=li.newNoDocument(l,h);t=new qc([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,l=Yo(r,o.document);t=new qc([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return vn();{const o=e.filter,{count:l=0,unchangedNames:h}=o,m=new E_(l,h);t=new Ma(o.targetId,m)}}var K;return t}(this.serializer,e),o=function(l){if(!("targetChange"in l))return Pn.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Pn.min():h.readTime?hs(h.readTime):Pn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Zu(this.serializer),t.addTarget=function(l,h){let m;const T=h.target;if(m=za(T)?{documents:Cg(l,T)}:{query:Wd(l,T)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Af(l,h.resumeToken);const K=mg(l,h.expectedCount);null!==K&&(m.expectedCount=K)}else if(h.snapshotVersion.compareTo(Pn.min())>0){m.readTime=Ku(l,h.snapshotVersion.toTimestamp());const K=mg(l,h.expectedCount);null!==K&&(m.expectedCount=K)}return m}(this.serializer,e);const o=function Ov(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Zu(this.serializer),t.removeTarget=e,this.Wo(t)}}class rm extends nm{constructor(e,t,o,l,h,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,m),this.serializer=h,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function D_(r,e){return r&&r.length>0?(Sn(void 0!==e),r.map(t=>function(o,l){let h=hs(o.updateTime?o.updateTime:l);return h.isEqual(Pn.min())&&(h=hs(l)),new dg(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=hs(e.commitTime);return this.listener.cu(o,t)}return Sn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Zu(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function Yu(r,e){let t;if(e instanceof zc)t={update:If(r,e.key,e.value)};else if(e instanceof ec)t={delete:Zc(r,e.key)};else if(e instanceof Pa)t={update:If(r,e.key,e.data),updateMask:Ag(e.fieldMask)};else{if(!(e instanceof Gd))return vn();t={verify:Zc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const m=h.transform;if(m instanceof Cl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ka)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof va)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jl)return{fieldPath:h.field.canonicalString(),increment:m.gt};throw vn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:I_(r,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:vn()),t;var l}(this.serializer,o))};this.Wo(t)}}class K_ extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new zt(St.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Io(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new zt(St.UNKNOWN,l.toString())})}vo(e,t,o,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.vo(e,t,o,h,m,l)).catch(h=>{throw"FirebaseError"===h.name?(h.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new zt(St.UNKNOWN,h.toString())})}terminate(){this.lu=!0}}class Z_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Kn(t),this.mu=!1):Vt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Y_{constructor(e,t,o,l,h){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=h,this.Pu.Yr(T=>{o.enqueueAndForget((0,u.Z)(function*(){var K;Dl(m)&&(Vt("RemoteStore","Restarting streams for network reachability change."),yield(K=(0,u.Z)(function*(ae){const Ne=hn(ae);Ne.vu.add(4),yield cu(Ne),Ne.bu.set("Unknown"),Ne.vu.delete(4),yield go(Ne)}),function(ae){return K.apply(this,arguments)})(m))}))}),this.bu=new Z_(o,l)}}function go(r){return tp.apply(this,arguments)}function tp(){return tp=(0,u.Z)(function*(r){if(Dl(r))for(const e of r.Ru)yield e(!0)}),tp.apply(this,arguments)}function cu(r){return sm.apply(this,arguments)}function sm(){return sm=(0,u.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),sm.apply(this,arguments)}function uu(r,e){const t=hn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),ph(t)?rp(t):xl(t).Ko()&&np(t,e))}function du(r,e){const t=hn(r),o=xl(t);t.Au.delete(e),o.Ko()&&om(t,e),0===t.Au.size&&(o.Ko()?o.jo():Dl(t)&&t.bu.set("Unknown"))}function np(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xl(r).su(e)}function om(r,e){r.Vu.qt(e),xl(r).iu(e)}function rp(r){r.Vu=new gg({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),xl(r).start(),r.bu.gu()}function ph(r){return Dl(r)&&!xl(r).Uo()&&r.Au.size>0}function Dl(r){return 0===hn(r).vu.size}function am(r){r.Vu=void 0}function ip(r){return sp.apply(this,arguments)}function sp(){return sp=(0,u.Z)(function*(r){r.Au.forEach((e,t)=>{np(r,e)})}),sp.apply(this,arguments)}function Q_(r,e){return op.apply(this,arguments)}function op(){return op=(0,u.Z)(function*(r,e){am(r),ph(r)?(r.bu.Iu(e),rp(r)):r.bu.set("Unknown")}),op.apply(this,arguments)}function X_(r,e,t){return ap.apply(this,arguments)}function ap(){return ap=(0,u.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Kc&&2===e.state&&e.cause)try{yield(o=(0,u.Z)(function*(l,h){const m=h.cause;for(const T of h.targetIds)l.Au.has(T)&&(yield l.remoteSyncer.rejectListen(T,m),l.Au.delete(T),l.Vu.removeTarget(T))}),function(l,h){return o.apply(this,arguments)})(r,e)}catch(o){Vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Jo(r,o)}else if(e instanceof qc?r.Vu.Ht(e):e instanceof Ma?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Pn.min()))try{const o=yield Yg(r.localStore);t.compareTo(o)>=0&&(yield function(l,h){const m=l.Vu.ce(h);return m.targetChanges.forEach((T,K)=>{if(T.resumeToken.approximateByteSize()>0){const ae=l.Au.get(K);ae&&l.Au.set(K,ae.withResumeToken(T.resumeToken,h))}}),m.targetMismatches.forEach((T,K)=>{const ae=l.Au.get(T);if(!ae)return;l.Au.set(T,ae.withResumeToken(qi.EMPTY_BYTE_STRING,ae.snapshotVersion)),om(l,T);const Ne=new Ca(ae.target,T,K,ae.sequenceNumber);np(l,Ne)}),l.remoteSyncer.applyRemoteEvent(m)}(r,t))}catch(o){Vt("RemoteStore","Failed to raise snapshot:",o),yield Jo(r,o)}var o}),ap.apply(this,arguments)}function Jo(r,e,t){return dd.apply(this,arguments)}function dd(){return dd=(0,u.Z)(function*(r,e,t){if(!ia(e))throw e;r.vu.add(1),yield cu(r),r.bu.set("Offline"),t||(t=()=>Yg(r.localStore)),r.asyncQueue.enqueueRetryable((0,u.Z)(function*(){Vt("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield go(r)}))}),dd.apply(this,arguments)}function lm(r,e){return e().catch(t=>Jo(r,t,e))}function hu(r){return gh.apply(this,arguments)}function gh(){return gh=(0,u.Z)(function*(r){const e=hn(r),t=Eo(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;J_(e);)try{const l=yield $_(e.localStore,o);if(null===l){0===e.Eu.length&&t.jo();break}o=l.batchId,ey(e,l)}catch(l){yield Jo(e,l)}cm(e)&&mh(e)}),gh.apply(this,arguments)}function J_(r){return Dl(r)&&r.Eu.length<10}function ey(r,e){r.Eu.push(e);const t=Eo(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function cm(r){return Dl(r)&&!Eo(r).Uo()&&r.Eu.length>0}function mh(r){Eo(r).start()}function ty(r){return lp.apply(this,arguments)}function lp(){return lp=(0,u.Z)(function*(r){Eo(r).hu()}),lp.apply(this,arguments)}function _h(r){return fu.apply(this,arguments)}function fu(){return fu=(0,u.Z)(function*(r){const e=Eo(r);for(const t of r.Eu)e.uu(t.mutations)}),fu.apply(this,arguments)}function yh(r,e,t){return um.apply(this,arguments)}function um(){return um=(0,u.Z)(function*(r,e,t){const o=r.Eu.shift(),l=gf.from(o,e,t);yield lm(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield hu(r)}),um.apply(this,arguments)}function cp(r,e){return dm.apply(this,arguments)}function dm(){return dm=(0,u.Z)(function*(r,e){var t;e&&Eo(r).ou&&(yield(t=(0,u.Z)(function*(o,l){if(function Wc(r){switch(r){default:return vn();case St.CANCELLED:case St.UNKNOWN:case St.DEADLINE_EXCEEDED:case St.RESOURCE_EXHAUSTED:case St.INTERNAL:case St.UNAVAILABLE:case St.UNAUTHENTICATED:return!1;case St.INVALID_ARGUMENT:case St.NOT_FOUND:case St.ALREADY_EXISTS:case St.PERMISSION_DENIED:case St.FAILED_PRECONDITION:case St.ABORTED:case St.OUT_OF_RANGE:case St.UNIMPLEMENTED:case St.DATA_LOSS:return!0}}(h=l.code)&&h!==St.ABORTED){const m=o.Eu.shift();Eo(o).Qo(),yield lm(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield hu(o)}var h}),function(o,l){return t.apply(this,arguments)})(r,e)),cm(r)&&mh(r)}),dm.apply(this,arguments)}function up(r,e){return vh.apply(this,arguments)}function vh(){return vh=(0,u.Z)(function*(r,e){const t=hn(r);t.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const o=Dl(t);t.vu.add(3),yield cu(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield go(t)}),vh.apply(this,arguments)}function wh(){return wh=(0,u.Z)(function*(r,e){const t=hn(r);e?(t.vu.delete(2),yield go(t)):e||(t.vu.add(2),yield cu(t),t.bu.set("Unknown"))}),wh.apply(this,arguments)}function xl(r){return r.Su||(r.Su=function(e,t,o){const l=hn(e);return l.fu(),new q_(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{uo:ip.bind(null,r),ao:Q_.bind(null,r),nu:X_.bind(null,r)}),r.Ru.push(function(){var e=(0,u.Z)(function*(t){t?(r.Su.Qo(),ph(r)?rp(r):r.bu.set("Unknown")):(yield r.Su.stop(),am(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Eo(r){return r.Du||(r.Du=function(e,t,o){const l=hn(e);return l.fu(),new rm(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{uo:ty.bind(null,r),ao:cp.bind(null,r),au:_h.bind(null,r),cu:yh.bind(null,r)}),r.Ru.push(function(){var e=(0,u.Z)(function*(t){t?(r.Du.Qo(),yield hu(r)):(yield r.Du.stop(),r.Eu.length>0&&(Vt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class pu{constructor(e,t,o,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,o,l,h){const m=Date.now()+o,T=new pu(e,t,m,l,h);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zt(St.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xa(r,e){if(Kn("AsyncQueue",`${e}: ${r}`),ia(r))return new zt(St.UNAVAILABLE,`${e}: ${r}`);throw r}class Ra{constructor(e){this.comparator=e?(t,o)=>e(t,o)||pn.comparator(t.key,o.key):(t,o)=>pn.comparator(t.key,o.key),this.keyedMap=Wa(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new Ra(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Ra;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class hm{constructor(){this.Cu=new Nr(pn.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):vn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class cc{constructor(e,t,o,l,h,m,T,K,ae){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=T,this.excludesMetadataChanges=K,this.hasCachedResults=ae}static fromInitialDocuments(e,t,o,l,h){const m=[];return t.forEach(T=>{m.push({type:0,doc:T})}),new cc(e,t,Ra.emptySet(t),m,o,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ut(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class fm{constructor(){this.Nu=void 0,this.listeners=[]}}class ny{constructor(){this.queries=new Ls(e=>Ot(e),ut),this.onlineState="Unknown",this.ku=new Set}}function dp(r,e){return uc.apply(this,arguments)}function uc(){return uc=(0,u.Z)(function*(r,e){const t=hn(r),o=e.query;let l=!1,h=t.queries.get(o);if(h||(l=!0,h=new fm),l)try{h.Nu=yield t.onListen(o)}catch(m){const T=Xa(m,`Initialization of query '${ln(e.query)}' failed`);return void e.onError(T)}t.queries.set(o,h),h.listeners.push(e),e.Mu(t.onlineState),h.Nu&&e.$u(h.Nu)&&fp(t)}),uc.apply(this,arguments)}function hp(r,e){return pm.apply(this,arguments)}function pm(){return pm=(0,u.Z)(function*(r,e){const t=hn(r),o=e.query;let l=!1;const h=t.queries.get(o);if(h){const m=h.listeners.indexOf(e);m>=0&&(h.listeners.splice(m,1),l=0===h.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),pm.apply(this,arguments)}function ry(r,e){const t=hn(r);let o=!1;for(const l of e){const m=t.queries.get(l.query);if(m){for(const T of m.listeners)T.$u(l)&&(o=!0);m.Nu=l}}o&&fp(t)}function iy(r,e,t){const o=hn(r),l=o.queries.get(e);if(l)for(const h of l.listeners)h.onError(t);o.queries.delete(e)}function fp(r){r.ku.forEach(e=>{e.next()})}class pp{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new cc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class bh{constructor(e){this.key=e}}class mm{constructor(e){this.key=e}}class Eh{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=sr(),this.mutatedKeys=sr(),this.tc=_r(e),this.ec=new Ra(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new hm,l=t?t.ec:this.ec;let h=t?t.mutatedKeys:this.mutatedKeys,m=l,T=!1;const K="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,ae="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Ne,Je)=>{const bt=l.get(Ne),Ft=_n(this.query,Je)?Je:null,on=!!bt&&this.mutatedKeys.has(bt.key),An=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let Tn=!1;bt&&Ft?bt.data.isEqual(Ft.data)?on!==An&&(o.track({type:3,doc:Ft}),Tn=!0):this.rc(bt,Ft)||(o.track({type:2,doc:Ft}),Tn=!0,(K&&this.tc(Ft,K)>0||ae&&this.tc(Ft,ae)<0)&&(T=!0)):!bt&&Ft?(o.track({type:0,doc:Ft}),Tn=!0):bt&&!Ft&&(o.track({type:1,doc:bt}),Tn=!0,(K||ae)&&(T=!0)),Tn&&(Ft?(m=m.add(Ft),h=An?h.add(Ne):h.delete(Ne)):(m=m.delete(Ne),h=h.delete(Ne)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const Ne="F"===this.query.limitType?m.last():m.first();m=m.delete(Ne.key),h=h.delete(Ne.key),o.track({type:1,doc:Ne})}return{ec:m,ic:o,zi:T,mutatedKeys:h}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const h=e.ic.xu();h.sort((ae,Ne)=>function(Je,bt){const Ft=on=>{switch(on){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vn()}};return Ft(Je)-Ft(bt)}(ae.type,Ne.type)||this.tc(ae.doc,Ne.doc)),this.oc(o);const m=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,K=T!==this.Xu;return this.Xu=T,0!==h.length||K?{snapshot:new cc(this.query,e.ec,l,h,e.mutatedKeys,0===T,K,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:m}:{cc:m}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new hm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=sr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new mm(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new bh(o))}),t}hc(e){this.Yu=e.ir,this.Zu=sr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return cc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ay{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class ly{constructor(e){this.key=e,this.fc=!1}}class cy{constructor(e,t,o,l,h,m){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.dc={},this.wc=new Ls(T=>Ot(T),ut),this._c=new Map,this.mc=new Set,this.gc=new Nr(pn.comparator),this.yc=new Map,this.Ic=new ih,this.Tc={},this.Ec=new Map,this.Ac=nc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function uy(r,e){return mp.apply(this,arguments)}function mp(){return mp=(0,u.Z)(function*(r,e){const t=function Ip(r){const e=hn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=vp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hy.bind(null,e),e.dc.nu=ry.bind(null,e.eventManager),e.dc.Pc=iy.bind(null,e.eventManager),e}(r);let o,l;const h=t.wc.get(e);if(h)o=h.targetId,t.sharedClientState.addLocalQueryTarget(o),l=h.view.lc();else{const m=yield function oc(r,e){const t=hn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Bs.getTargetData(o,e).next(h=>h?(l=h,Et.resolve(l)):t.Bs.allocateTargetId(o).next(m=>(l=new Ca(e,m,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.Ji.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}(t.localStore,S(e)),T=t.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,l=yield function _p(r,e,t,o,l){return yp.apply(this,arguments)}(t,e,o,"current"===T,m.resumeToken),t.isPrimaryClient&&uu(t.remoteStore,m)}return l}),mp.apply(this,arguments)}function yp(){return yp=(0,u.Z)(function*(r,e,t,o,l){r.Rc=(Je,bt,Ft)=>{return(on=(0,u.Z)(function*(An,Tn,gr,Ur){let Ar=Tn.view.sc(gr);Ar.zi&&(Ar=yield oh(An.localStore,Tn.query,!1).then(({documents:Oi})=>Tn.view.sc(Oi,Ar)));const Fs=Ur&&Ur.targetChanges.get(Tn.targetId),xs=Tn.view.applyChanges(Ar,An.isPrimaryClient,Fs);return Ml(An,Tn.targetId,xs.cc),xs.snapshot}),function(An,Tn,gr,Ur){return on.apply(this,arguments)})(r,Je,bt,Ft);var on};const h=yield oh(r.localStore,e,!0),m=new Eh(e,h.ir),T=m.sc(h.documents),K=qu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,l),ae=m.applyChanges(T,r.isPrimaryClient,K);Ml(r,t,ae.cc);const Ne=new ay(e,t,m);return r.wc.set(e,Ne),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),ae.snapshot}),yp.apply(this,arguments)}function _m(r,e){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,u.Z)(function*(r,e){const t=hn(r),o=t.wc.get(e),l=t._c.get(o.targetId);if(l.length>1)return t._c.set(o.targetId,l.filter(h=>!ut(h,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield su(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),du(t.remoteStore,o.targetId),Pl(t,o.targetId)}).catch(Rs))):(Pl(t,o.targetId),yield su(t.localStore,o.targetId,!0))}),Ah.apply(this,arguments)}function ym(){return ym=(0,u.Z)(function*(r,e,t){const o=function vu(r){const e=hn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ka.bind(null,e),e}(r);try{const l=yield function(h,m){const T=hn(h),K=ti.now(),ae=m.reduce((bt,Ft)=>bt.add(Ft.key),sr());let Ne,Je;return T.persistence.runTransaction("Locally write mutations","readwrite",bt=>{let Ft=fo(),on=sr();return T.Zi.getEntries(bt,ae).next(An=>{Ft=An,Ft.forEach((Tn,gr)=>{gr.isValidDocument()||(on=on.add(Tn))})}).next(()=>T.localDocuments.getOverlayedDocuments(bt,Ft)).next(An=>{Ne=An;const Tn=[];for(const gr of m){const Ur=w_(gr,Ne.get(gr.key).overlayedDocument);null!=Ur&&Tn.push(new Pa(gr.key,Ur,Lu(Ur.value.mapValue),pi.exists(!0)))}return T.mutationQueue.addMutationBatch(bt,K,Tn,m)}).next(An=>{Je=An;const Tn=An.applyToLocalDocumentSet(Ne,on);return T.documentOverlayCache.saveOverlays(bt,An.batchId,Tn)})}).then(()=>({batchId:Je.batchId,changes:jc(Ne)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(h,m,T){let K=h.Tc[h.currentUser.toKey()];K||(K=new Nr(er)),K=K.insert(m,T),h.Tc[h.currentUser.toKey()]=K}(o,l.batchId,t),yield Bo(o,l.changes),yield hu(o.remoteStore)}catch(l){const h=Xa(l,"Failed to persist write");t.reject(h)}}),ym.apply(this,arguments)}function vp(r,e){return vm.apply(this,arguments)}function vm(){return vm=(0,u.Z)(function*(r,e){const t=hn(r);try{const o=yield function Qg(r,e){const t=hn(r),o=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const T=[];e.targetChanges.forEach((Ne,Je)=>{const bt=l.get(Je);if(!bt)return;T.push(t.Bs.removeMatchingKeys(h,Ne.removedDocuments,Je).next(()=>t.Bs.addMatchingKeys(h,Ne.addedDocuments,Je)));let Ft=bt.withSequenceNumber(h.currentSequenceNumber);var on,An,Tn;null!==e.targetMismatches.get(Je)?Ft=Ft.withResumeToken(qi.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):Ne.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(Ne.resumeToken,o)),l=l.insert(Je,Ft),An=Ft,Tn=Ne,(0===(on=bt).resumeToken.approximateByteSize()||An.snapshotVersion.toMicroseconds()-on.snapshotVersion.toMicroseconds()>=3e8||Tn.addedDocuments.size+Tn.modifiedDocuments.size+Tn.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(h,Ft))});let K=fo(),ae=sr();if(e.documentUpdates.forEach(Ne=>{e.resolvedLimboDocuments.has(Ne)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(h,Ne))}),T.push(function ad(r,e,t){let o=sr(),l=sr();return t.forEach(h=>o=o.add(h)),e.getEntries(r,o).next(h=>{let m=fo();return t.forEach((T,K)=>{const ae=h.get(T);K.isFoundDocument()!==ae.isFoundDocument()&&(l=l.add(T)),K.isNoDocument()&&K.version.isEqual(Pn.min())?(e.removeEntry(T,K.readTime),m=m.insert(T,K)):!ae.isValidDocument()||K.version.compareTo(ae.version)>0||0===K.version.compareTo(ae.version)&&ae.hasPendingWrites?(e.addEntry(K),m=m.insert(T,K)):Vt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",ae.version," Watch version:",K.version)}),{nr:m,sr:l}})}(h,m,e.documentUpdates).next(Ne=>{K=Ne.nr,ae=Ne.sr})),!o.isEqual(Pn.min())){const Ne=t.Bs.getLastRemoteSnapshotVersion(h).next(Je=>t.Bs.setTargetsMetadata(h,h.currentSequenceNumber,o));T.push(Ne)}return Et.waitFor(T).next(()=>m.apply(h)).next(()=>t.localDocuments.getLocalViewOfDocuments(h,K,ae)).next(()=>K)}).then(h=>(t.Ji=l,h))}(t.localStore,e);e.targetChanges.forEach((l,h)=>{const m=t.yc.get(h);m&&(Sn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.fc=!0:l.modifiedDocuments.size>0?Sn(m.fc):l.removedDocuments.size>0&&(Sn(m.fc),m.fc=!1))}),yield Bo(t,o,e)}catch(o){yield Rs(o)}}),vm.apply(this,arguments)}function hd(r,e,t){const o=hn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.wc.forEach((h,m)=>{const T=m.view.Mu(e);T.snapshot&&l.push(T.snapshot)}),function(h,m){const T=hn(h);T.onlineState=m;let K=!1;T.queries.forEach((ae,Ne)=>{for(const Je of Ne.listeners)Je.Mu(m)&&(K=!0)}),K&&fp(T)}(o.eventManager,e),l.length&&o.dc.nu(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function hy(r,e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,u.Z)(function*(r,e,t){const o=hn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.yc.get(e),h=l&&l.key;if(h){let m=new Nr(pn.comparator);m=m.insert(h,li.newNoDocument(h,Pn.min()));const T=sr().add(h),K=new Wu(Pn.min(),new Map,new Nr(er),m,T);yield vp(o,K),o.gc=o.gc.remove(h),o.yc.delete(e),Ol(o)}else yield su(o.localStore,e,!1).then(()=>Pl(o,e,t)).catch(Rs)}),Cp.apply(this,arguments)}function wp(r,e){return bp.apply(this,arguments)}function bp(){return bp=(0,u.Z)(function*(r,e){const t=hn(r),o=e.batch.batchId;try{const l=yield function iu(r,e){const t=hn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),h=t.Zi.newChangeBuffer({trackRemovals:!0});return function(m,T,K,ae){const Ne=K.batch,Je=Ne.keys();let bt=Et.resolve();return Je.forEach(Ft=>{bt=bt.next(()=>ae.getEntry(T,Ft)).next(on=>{const An=K.docVersions.get(Ft);Sn(null!==An),on.version.compareTo(An)<0&&(Ne.applyToRemoteDocument(on,K),on.isValidDocument()&&(on.setReadTime(K.commitVersion),ae.addEntry(on)))})}),bt.next(()=>m.mutationQueue.removeMutationBatch(T,Ne))}(t,o,e,h).next(()=>h.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(m){let T=sr();for(let K=0;K<m.mutationResults.length;++K)m.mutationResults[K].transformResults.length>0&&(T=T.add(m.batch.mutations[K].key));return T}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}(t.localStore,e);Uo(t,o,null),gu(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Bo(t,l)}catch(l){yield Rs(l)}}),bp.apply(this,arguments)}function ka(r,e,t){return dc.apply(this,arguments)}function dc(){return dc=(0,u.Z)(function*(r,e,t){const o=hn(r);try{const l=yield function(h,m){const T=hn(h);return T.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ae;return T.mutationQueue.lookupMutationBatch(K,m).next(Ne=>(Sn(null!==Ne),ae=Ne.keys(),T.mutationQueue.removeMutationBatch(K,Ne))).next(()=>T.mutationQueue.performConsistencyCheck(K)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(K,ae,m)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ae)).next(()=>T.localDocuments.getDocuments(K,ae))})}(o.localStore,e);Uo(o,e,t),gu(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Bo(o,l)}catch(l){yield Rs(l)}}),dc.apply(this,arguments)}function gu(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Uo(r,e,t){const o=hn(r);let l=o.Tc[o.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),o.Tc[o.currentUser.toKey()]=l}}function Pl(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||hc(r,o)})}function hc(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(du(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ol(r))}function Ml(r,e,t){for(const o of t)o instanceof bh?(r.Ic.addReference(o.key,e),mu(r,o)):o instanceof mm?(Vt("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||hc(r,o.key)):vn()}function mu(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(Vt("SyncEngine","New document in limbo: "+t),r.mc.add(o),Ol(r))}function Ol(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new pn(wr.fromString(e)),o=r.Ac.next();r.yc.set(o,new ly(t)),r.gc=r.gc.insert(t,o),uu(r.remoteStore,new Ca(S(ya(t.path)),o,"TargetPurposeLimboResolution",ho.ct))}}function Bo(r,e,t){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,u.Z)(function*(r,e,t){const o=hn(r),l=[],h=[],m=[];var T;o.wc.isEmpty()||(o.wc.forEach((T,K)=>{m.push(o.Rc(K,e,t).then(ae=>{if((ae||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(K.targetId,ae?.fromCache?"not-current":"current"),ae){l.push(ae);const Ne=Zg.Li(K.targetId,ae);h.push(Ne)}}))}),yield Promise.all(m),o.dc.nu(l),yield(T=(0,u.Z)(function*(K,ae){const Ne=hn(K);try{yield Ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",Je=>Et.forEach(ae,bt=>Et.forEach(bt.Fi,Ft=>Ne.persistence.referenceDelegate.addReference(Je,bt.targetId,Ft)).next(()=>Et.forEach(bt.Bi,Ft=>Ne.persistence.referenceDelegate.removeReference(Je,bt.targetId,Ft)))))}catch(Je){if(!ia(Je))throw Je;Vt("LocalStore","Failed to update sequence numbers: "+Je)}for(const Je of ae){const bt=Je.targetId;if(!Je.fromCache){const Ft=Ne.Ji.get(bt),An=Ft.withLastLimboFreeSnapshotVersion(Ft.snapshotVersion);Ne.Ji=Ne.Ji.insert(bt,An)}}}),function(K,ae){return T.apply(this,arguments)})(o.localStore,h))}),Rl.apply(this,arguments)}function _u(r,e){return kl.apply(this,arguments)}function kl(){return kl=(0,u.Z)(function*(r,e){const t=hn(r);if(!t.currentUser.isEqual(e)){Vt("SyncEngine","User change. New user:",e.toKey());const o=yield G_(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(m=>{m.forEach(T=>{T.reject(new zt(St.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Bo(t,o.er)}var l}),kl.apply(this,arguments)}function yu(r,e){const t=hn(r),o=t.yc.get(e);if(o&&o.fc)return sr().add(o.key);{let l=sr();const h=t._c.get(e);if(!h)return l;for(const m of h){const T=t.wc.get(m);l=l.unionWith(T.view.nc)}return l}}class Cu{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,u.Z)(function*(){t.serializer=lu(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function zf(r,e,t,o){return new H_(r,e,t,o)}(this.persistence,new j_,e.initialUser,this.serializer)}createPersistence(e){return new Hf(Gf.zs,this.serializer)}createSharedClientState(e){return new tm}terminate(){var e=this;return(0,u.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fc{initialize(e,t){var o=this;return(0,u.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>hd(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=_u.bind(null,o.syncEngine),yield function Ch(r,e){return wh.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ny}createDatastore(e){const t=lu(e.databaseInfo.databaseId),o=new ep(e.databaseInfo);return new K_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,h=T=>hd(this.syncEngine,T,0),m=ac.D()?new ac:new uh,new Y_(t,o,l,h,m);var t,o,l,h,m}createSyncEngine(e,t){return function(o,l,h,m,T,K,ae){const Ne=new cy(o,l,h,m,T,K);return ae&&(Ne.vc=!0),Ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,u.Z)(function*(t){const o=hn(t);Vt("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield cu(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class wu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dm{constructor(e,t,o,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=dn.UNAUTHENTICATED,this.clientId=bi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,u.Z)(function*(T){Vt("FirestoreClient","Received user=",T.uid),yield h.authCredentialListener(T),h.user=T});return function(T){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(Vt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,u.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zt(St.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,u.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=Xa(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Oh(r,e){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,u.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var l=(0,u.Z)(function*(h){o.isEqual(h)||(yield G_(e.localStore,h),o=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Rh.apply(this,arguments)}function kh(r,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,u.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Mp(r){return Op.apply(this,arguments)}(r);Vt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(l=>up(e.remoteStore,l)),r.setAppCheckTokenChangeListener((l,h)=>up(e.remoteStore,h)),r._onlineComponents=e}),Nh.apply(this,arguments)}function Op(){return Op=(0,u.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Vt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Oh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Pp(r){return"FirebaseError"===r.name?r.code===St.FAILED_PRECONDITION||r.code===St.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;Wr("Error using user provided cache. Falling back to memory cache: "+t),yield Oh(r,new Cu)}}else Vt("FirestoreClient","Using default OfflineComponentProvider"),yield Oh(r,new Cu);return r._offlineComponents}),Op.apply(this,arguments)}function Lh(r){return pd.apply(this,arguments)}function pd(){return pd=(0,u.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Vt("FirestoreClient","Using user provided OnlineComponentProvider"),yield kh(r,r._uninitializedComponentsProvider._online)):(Vt("FirestoreClient","Using default OnlineComponentProvider"),yield kh(r,new fc))),r._onlineComponents}),pd.apply(this,arguments)}function pc(r){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,u.Z)(function*(r){const e=yield Lh(r),t=e.eventManager;return t.onListen=uy.bind(null,e.syncEngine),t.onUnlisten=_m.bind(null,e.syncEngine),t}),Uh.apply(this,arguments)}function jh(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const _y=new Map;function Om(r,e,t){if(!t)throw new zt(St.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Rm(r){if(!pn.isDocumentKey(r))throw new zt(St.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Fp(r){if(pn.isDocumentKey(r))throw new zt(St.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Hh(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":vn()}function Zn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new zt(St.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hh(r);throw new zt(St.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class km{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new zt(St.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new zt(St.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yy(r,e,t,o){if(!0===e&&!0===o)throw new zt(St.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jh(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new zt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new zt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new zt(St.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new km({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new zt(St.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zt(St.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new km(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ha;switch(t.type){case"firstParty":return new Ua(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new zt(St.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_y.get(e);t&&(Vt("ComponentProvider","Removing Datastore"),_y.delete(e),t.terminate())}(this),Promise.resolve()}}class ps{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ps(this.firestore,e,this._key)}}class Xs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class wa extends Xs{constructor(e,t,o){super(e,t,ya(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ps(this.firestore,null,new pn(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function bu(r,e,...t){if(r=(0,be.m9)(r),Om("collection","path",e),r instanceof md){const o=wr.fromString(e,...t);return Fp(o),new wa(r,null,o)}{if(!(r instanceof ps||r instanceof wa))throw new zt(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(wr.fromString(e,...t));return Fp(o),new wa(r.firestore,null,o)}}function Lm(r,e,...t){if(r=(0,be.m9)(r),1===arguments.length&&(e=bi.A()),Om("doc","path",e),r instanceof md){const o=wr.fromString(e,...t);return Rm(o),new ps(r,null,new pn(o))}{if(!(r instanceof ps||r instanceof wa))throw new zt(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(wr.fromString(e,...t));return Rm(o),new ps(r.firestore,r instanceof wa?r.converter:null,new pn(o))}}class Vm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ud(this,"async_queue_retry"),this.Xc=()=>{const t=au();t&&Vt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=au();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=au();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Mi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,u.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ia(t))throw t;Vt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Kn("INTERNAL UNHANDLED ERROR: ",function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),m}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=pu.createAndSchedule(this,e,t,o,h=>this.na(h));return this.zc.push(l),l}Zc(){this.Wc&&vn()}verifyOperationInProgress(){}sa(){var e=this;return(0,u.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Vr extends md{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new Vm,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||la(this),this._firestoreClient.terminate()}}function Cy(r,e){const t="object"==typeof r?r:(0,G.Mq)(),o="string"==typeof r?r:e||"(default)",l=(0,G.qX)(t,"firestore").getImmediate({identifier:o});if(!l._initialized){const h=(0,be.P0)("firestore");h&&function Nm(r,e,t,o={}){var l;const h=(r=Zn(r,md))._getSettings(),m=`${e}:${t}`;if("firestore.googleapis.com"!==h.host&&h.host!==m&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},h),{host:m,ssl:!1})),o.mockUserToken){let T,K;if("string"==typeof o.mockUserToken)T=o.mockUserToken,K=dn.MOCK_USER;else{T=(0,be.Sg)(o.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const ae=o.mockUserToken.sub||o.mockUserToken.user_id;if(!ae)throw new zt(St.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");K=new dn(ae)}r._authCredentials=new Du(new na(T,K))}}(l,...h)}return l}function ri(r){return r._firestoreClient||la(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function la(r){var e,t,o;const l=r._freezeSettings(),h=(T=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Mu(r._databaseId,T,r._persistenceKey,(ae=l).host,ae.ssl,ae.experimentalForceLongPolling,ae.experimentalAutoDetectLongPolling,jh(ae.experimentalLongPollingOptions),ae.useFetchStreams));var T,ae;r._firestoreClient=new Dm(r._authCredentials,r._appCheckCredentials,r._queue,h),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=l.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}class Nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nl(qi.fromBase64String(e))}catch(t){throw new zt(St.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nl(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new zt(St.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gm{constructor(e){this._methodName=e}}class $h{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zt(St.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zt(St.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return er(this._lat,e._lat)||er(this._long,e._long)}}const $m=/^__.*__$/;class Hp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms):new zc(e,this.data,t,this.fieldTransforms)}}function Gp(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vn()}}class vd{constructor(e,t,o,l,h,m){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=l,void 0===h&&this.ua(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.fa(e),l}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Gp(this.ca)&&$m.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||lu(e)}ya(e,t,o,l=!1){return new vd({ca:e,methodName:t,ga:o,path:Qr.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _c(r){const e=r._freezeSettings(),t=lu(r._databaseId);return new zm(r._databaseId,!!e.ignoreUndefinedProperties,t)}function zh(r,e,t,o,l,h={}){const m=r.ya(h.merge||h.mergeFields?2:0,e,t,l);zp("Data must be an object, but it was:",m,o);const T=Zm(o,m);let K,ae;if(h.merge)K=new Ss(m.fieldMask),ae=m.fieldTransforms;else if(h.mergeFields){const Ne=[];for(const Je of h.mergeFields){const bt=Cd(e,Je,t);if(!m.contains(bt))throw new zt(St.INVALID_ARGUMENT,`Field '${bt}' is specified in your field mask but missing from your input data.`);Qm(Ne,bt)||Ne.push(bt)}K=new Ss(Ne),ae=m.fieldTransforms.filter(Je=>K.covers(Je.field))}else K=null,ae=m.fieldTransforms;return new Hp(new Ts(T),K,ae)}function yc(r,e){if(Ym(r=(0,be.m9)(r)))return zp("Unsupported field value:",e,r),Zm(r,e);if(r instanceof Gm)return function(t,o){if(!Gp(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const l=[];let h=0;for(const m of t){let T=yc(m,o.wa(h));null==T&&(T={nullValue:"NULL_VALUE"}),l.push(T),h++}return{arrayValue:{values:l}}}(r,e)}return function(t,o){if(null===(t=(0,be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ld(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=ti.fromDate(t);return{timestampValue:Ku(o.serializer,l)}}if(t instanceof ti){const l=new ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ku(o.serializer,l)}}if(t instanceof $h)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nl)return{bytesValue:Af(o.serializer,t._byteString)};if(t instanceof ps){const l=o.databaseId,h=t.firestore._databaseId;if(!h.isEqual(l))throw o._a(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sf(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${Hh(t)}`)}(r,e)}function Zm(r,e){const t={};return qs(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(r,(o,l)=>{const h=yc(l,e.ha(o));null!=h&&(t[o]=h)}),{mapValue:{fields:t}}}function Ym(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ti||r instanceof $h||r instanceof Nl||r instanceof ps||r instanceof Gm)}function zp(r,e,t){if(!Ym(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Hh(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Cd(r,e,t){if((e=(0,be.m9)(e))instanceof mc)return e._internalPath;if("string"==typeof e)return qh(r,e);throw Kh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Ty=new RegExp("[~\\*/\\[\\]]");function qh(r,e,t){if(e.search(Ty)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new mc(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Kh(r,e,t,o,l){const h=o&&!o.isEmpty(),m=void 0!==l;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let K="";return(h||m)&&(K+=" (found",h&&(K+=` in field ${o}`),m&&(K+=` in document ${l}`),K+=")"),new zt(St.INVALID_ARGUMENT,T+r+K)}function Qm(r,e){return r.some(t=>t.isEqual(e))}class Wp{constructor(e,t,o,l,h){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ps(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Iy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Iy extends Wp{data(){return super.data()}}function Zh(r,e){return"string"==typeof e?qh(r,e):e instanceof mc?e._internalPath:e._delegate._internalPath}class Yh{}class Kp extends Yh{}function Xm(r,e,...t){let o=[];e instanceof Yh&&o.push(e),o=o.concat(t),function(l){const h=l.filter(T=>T instanceof vc).length,m=l.filter(T=>T instanceof Au).length;if(h>1||h>0&&m>0)throw new zt(St.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)r=l._apply(r);return r}class Au extends Kp{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Au(e,t,o)}_apply(e){const t=this._parse(e);return t_(e._query,t),new Xs(e.firestore,e.converter,fe(e._query,t))}_parse(e){const t=_c(e.firestore);return function(l,h,m,T,K,ae,Ne){let Je;if(K.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new zt(St.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on documentId().`);if("in"===ae||"not-in"===ae){e_(Ne,ae);const bt=[];for(const Ft of Ne)bt.push(Yn(T,l,Ft));Je={arrayValue:{values:bt}}}else Je=Yn(T,l,Ne)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||e_(Ne,ae),Je=function Km(r,e,t,o=!1){return yc(t,r.ya(o?4:3,e))}(m,"where",Ne,"in"===ae||"not-in"===ae);return xr.create(K,ae,Je)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class vc extends Yh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vc(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Kr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let h=o;const m=l.getFlattenedFilters();for(const T of m)t_(h,T),h=fe(h,T)}(e._query,t),new Xs(e.firestore,e.converter,fe(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class La extends Kp{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new La(e,t,o)}_apply(e){return new Xs(e.firestore,e.converter,Fe(e._query,this._limit,this._limitType))}}function Oy(r){return function Vp(r,e){if(e<=0)throw new zt(St.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}("limit",r),La._create("limit",r,"F")}function Yn(r,e,t){if("string"==typeof(t=(0,be.m9)(t))){if(""===t)throw new zt(St.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p(e)&&-1!==t.indexOf("/"))throw new zt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(wr.fromString(t));if(!pn.isDocumentKey(o))throw new zt(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ma(r,new pn(o))}if(t instanceof ps)return ma(r,t._key);throw new zt(St.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(t)}.`)}function e_(r,e){if(!Array.isArray(r)||0===r.length)throw new zt(St.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t_(r,e){if(e.isInequality()){const o=E(r),l=e.field;if(null!==o&&!o.isEqual(l))throw new zt(St.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const h=Uc(r);null!==h&&function n_(r,e,t){if(!t.isEqual(e))throw new zt(St.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,l,h)}const t=function(o,l){for(const h of o)for(const m of h.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new zt(St.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ly{convertValue(e,t="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return ds(e,(l,h)=>{o[l]=this.convertValue(h,t)}),o}convertGeoPoint(e){return new $h(Ti(e.latitude),Ti(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ul(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const t=Lo(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=wr.fromString(e);Sn(Mf(o));const l=new Ia(o.get(1),o.get(3)),h=new pn(o.popFirst(5));return l.isEqual(t)||Kn(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function Su(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wc extends Wp{constructor(e,t,o,l,h,m){super(e,t,o,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Zh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class wd extends wc{data(e={}){return super.data(e)}}class bc{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Ll(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new wd(this._firestore,this._userDataWriter,o.key,o,new Ll(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zt(St.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new wd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const T=new wd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let K=-1,ae=-1;return 0!==m.type&&(K=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),ae=h.indexOf(m.doc.key)),{type:Vy(m.type),doc:T,oldIndex:K,newIndex:ae}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vy(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vn()}}function Uy(r){r=Zn(r,ps);const e=Zn(r.firestore,Vr);return function el(r,e,t={}){const o=new Mi;return r.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(l,h,m,T,K){const ae=new wu({next:Je=>{h.enqueueAndForget(()=>hp(l,Ne));const bt=Je.docs.has(m);!bt&&Je.fromCache?K.reject(new zt(St.UNAVAILABLE,"Failed to get document because the client is offline.")):bt&&Je.fromCache&&T&&"server"===T.source?K.reject(new zt(St.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Je)},error:Je=>K.reject(Je)}),Ne=new pp(ya(m.path),ae,{includeMetadataChanges:!0,Ku:!0});return dp(l,Ne)}(yield pc(r),r.asyncQueue,e,t,o)})),o.promise}(ri(e),r._key).then(t=>function Xp(r,e,t){const o=t.docs.get(e._key),l=new ca(r);return new wc(r,l,e._key,o,new Ll(t.hasPendingWrites,t.fromCache),e.converter)}(e,r,t))}class ca extends Ly{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ps(this.firestore,null,t)}}function By(r){r=Zn(r,Xs);const e=Zn(r.firestore,Vr),t=ri(e),o=new ca(e);return function qp(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new zt(St.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query),function Mm(r,e,t={}){const o=new Mi;return r.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function(l,h,m,T,K){const ae=new wu({next:Je=>{h.enqueueAndForget(()=>hp(l,Ne)),Je.fromCache&&"server"===T.source?K.reject(new zt(St.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Je)},error:Je=>K.reject(Je)}),Ne=new pp(m,ae,{includeMetadataChanges:!0,Ku:!0});return dp(l,Ne)}(yield pc(r),r.asyncQueue,e,t,o)})),o.promise}(t,r._query).then(l=>new bc(e,o,r,l))}function i_(r,e,t){r=Zn(r,ps);const o=Zn(r.firestore,Vr),l=Su(r.converter,e,t);return Ed(o,[zh(_c(o),"setDoc",r._key,l,null!==r.converter,t).toMutation(r._key,pi.none())])}function Gy(r){return Ed(Zn(r.firestore,Vr),[new ec(r._key,pi.none())])}function bd(r,e){const t=Zn(r.firestore,Vr),o=Lm(r),l=Su(r.converter,e);return Ed(t,[zh(_c(r.firestore),"addDoc",o._key,l,null!==r.converter,{}).toMutation(o._key,pi.exists(!1))]).then(()=>o)}function Ed(r,e){return function(t,o){const l=new Mi;return t.asyncQueue.enqueueAndForget((0,u.Z)(function*(){return function dy(r,e,t){return ym.apply(this,arguments)}(yield function Vh(r){return Lh(r).then(e=>e.syncEngine)}(t),o,l)})),l.promise}(ri(r),e)}!function(r,e=!0){pr=G.Jn,(0,G.Xd)(new ne.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const h=t.getProvider("app").getImmediate(),m=new Vr(new Bl(t.getProvider("auth-internal")),new rl(t.getProvider("app-check-internal")),function(T,K){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new zt(St.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(T.options.projectId,K)}(h,o),h);return l=Object.assign({useFetchStreams:e},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),(0,G.KN)(Ut,"3.13.0",r),(0,G.KN)(Ut,"3.13.0","esm2017")}()},5861:(Be,R,V)=>{"use strict";function u(ne,f,be,Se,me,Ae,Ve){try{var le=ne[Ae](Ve),ue=le.value}catch(Ie){return void be(Ie)}le.done?f(ue):Promise.resolve(ue).then(Se,me)}function G(ne){return function(){var f=this,be=arguments;return new Promise(function(Se,me){var Ae=ne.apply(f,be);function Ve(ue){u(Ae,Se,me,Ve,le,"next",ue)}function le(ue){u(Ae,Se,me,Ve,le,"throw",ue)}Ve(void 0)})}}V.d(R,{Z:()=>G})},7582:(Be,R,V)=>{"use strict";function f($,N){var w={};for(var M in $)Object.prototype.hasOwnProperty.call($,M)&&N.indexOf(M)<0&&(w[M]=$[M]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var W=0;for(M=Object.getOwnPropertySymbols($);W<M.length;W++)N.indexOf(M[W])<0&&Object.prototype.propertyIsEnumerable.call($,M[W])&&(w[M[W]]=$[M[W]])}return w}function Ie($,N,w,M){return new(w||(w=Promise))(function(ge,de){function ee(Xe){try{Ze(M.next(Xe))}catch(Ke){de(Ke)}}function We(Xe){try{Ze(M.throw(Xe))}catch(Ke){de(Ke)}}function Ze(Xe){Xe.done?ge(Xe.value):function W(ge){return ge instanceof w?ge:new w(function(de){de(ge)})}(Xe.value).then(ee,We)}Ze((M=M.apply($,N||[])).next())})}function Y($){return this instanceof Y?(this.v=$,this):new Y($)}function pe($,N,w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,M=w.apply($,N||[]),ge=[];return W={},de("next"),de("throw"),de("return"),W[Symbol.asyncIterator]=function(){return this},W;function de(mt){M[mt]&&(W[mt]=function(Lt){return new Promise(function($t,Bt){ge.push([mt,Lt,$t,Bt])>1||ee(mt,Lt)})})}function ee(mt,Lt){try{!function We(mt){mt.value instanceof Y?Promise.resolve(mt.value.v).then(Ze,Xe):Ke(ge[0][2],mt)}(M[mt](Lt))}catch($t){Ke(ge[0][3],$t)}}function Ze(mt){ee("next",mt)}function Xe(mt){ee("throw",mt)}function Ke(mt,Lt){mt(Lt),ge.shift(),ge.length&&ee(ge[0][0],ge[0][1])}}function Re($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w,N=$[Symbol.asyncIterator];return N?N.call($):($=function De($){var N="function"==typeof Symbol&&Symbol.iterator,w=N&&$[N],M=0;if(w)return w.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&M>=$.length&&($=void 0),{value:$&&$[M++],done:!$}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")}($),w={},M("next"),M("throw"),M("return"),w[Symbol.asyncIterator]=function(){return this},w);function M(ge){w[ge]=$[ge]&&function(de){return new Promise(function(ee,We){!function W(ge,de,ee,We){Promise.resolve(We).then(function(Ze){ge({value:Ze,done:ee})},de)}(ee,We,(de=$[ge](de)).done,de.value)})}}}V.d(R,{FC:()=>pe,KL:()=>Re,_T:()=>f,mG:()=>Ie,qq:()=>Y}),"function"==typeof SuppressedError&&SuppressedError}},Be=>{Be(Be.s=4396)}]);