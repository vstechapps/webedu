(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{2090:(Ue,F,j)=>{"use strict";j.d(F,{$s:()=>Wn,BH:()=>X,L:()=>ke,LL:()=>he,P0:()=>D,Pz:()=>ue,Sg:()=>xe,ZR:()=>W,aH:()=>K,b$:()=>Ve,eu:()=>V,hl:()=>G,m9:()=>fr,ne:()=>bt,q4:()=>O,ru:()=>Oe,tV:()=>se,uI:()=>L,vZ:()=>qt,w1:()=>nt,xO:()=>ut,xb:()=>zt,z$:()=>Z,zI:()=>S});const Re=function(Be){const Ge=[];let et=0;for(let It=0;It<Be.length;It++){let gt=Be.charCodeAt(It);gt<128?Ge[et++]=gt:gt<2048?(Ge[et++]=gt>>6|192,Ge[et++]=63&gt|128):55296==(64512&gt)&&It+1<Be.length&&56320==(64512&Be.charCodeAt(It+1))?(gt=65536+((1023&gt)<<10)+(1023&Be.charCodeAt(++It)),Ge[et++]=gt>>18|240,Ge[et++]=gt>>12&63|128,Ge[et++]=gt>>6&63|128,Ge[et++]=63&gt|128):(Ge[et++]=gt>>12|224,Ge[et++]=gt>>6&63|128,Ge[et++]=63&gt|128)}return Ge},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Be,Ge){if(!Array.isArray(Be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const et=Ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,It=[];for(let gt=0;gt<Be.length;gt+=3){const en=Be[gt],tt=gt+1<Be.length,Xe=tt?Be[gt+1]:0,Fe=gt+2<Be.length,ct=Fe?Be[gt+2]:0;let Cn=(15&Xe)<<2|ct>>6,En=63&ct;Fe||(En=64,tt||(Cn=64)),It.push(et[en>>2],et[(3&en)<<4|Xe>>4],et[Cn],et[En])}return It.join("")},encodeString(Be,Ge){return this.HAS_NATIVE_SUPPORT&&!Ge?btoa(Be):this.encodeByteArray(Re(Be),Ge)},decodeString(Be,Ge){return this.HAS_NATIVE_SUPPORT&&!Ge?atob(Be):function(Be){const Ge=[];let et=0,It=0;for(;et<Be.length;){const gt=Be[et++];if(gt<128)Ge[It++]=String.fromCharCode(gt);else if(gt>191&&gt<224){const en=Be[et++];Ge[It++]=String.fromCharCode((31&gt)<<6|63&en)}else if(gt>239&&gt<365){const Fe=((7&gt)<<18|(63&Be[et++])<<12|(63&Be[et++])<<6|63&Be[et++])-65536;Ge[It++]=String.fromCharCode(55296+(Fe>>10)),Ge[It++]=String.fromCharCode(56320+(1023&Fe))}else{const en=Be[et++],tt=Be[et++];Ge[It++]=String.fromCharCode((15&gt)<<12|(63&en)<<6|63&tt)}}return Ge.join("")}(this.decodeStringToByteArray(Be,Ge))},decodeStringToByteArray(Be,Ge){this.init_();const et=Ge?this.charToByteMapWebSafe_:this.charToByteMap_,It=[];for(let gt=0;gt<Be.length;){const en=et[Be.charAt(gt++)],Xe=gt<Be.length?et[Be.charAt(gt)]:0;++gt;const ct=gt<Be.length?et[Be.charAt(gt)]:64;++gt;const Ht=gt<Be.length?et[Be.charAt(gt)]:64;if(++gt,null==en||null==Xe||null==ct||null==Ht)throw new fe;It.push(en<<2|Xe>>4),64!==ct&&(It.push(Xe<<4&240|ct>>2),64!==Ht&&It.push(ct<<6&192|Ht))}return It},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Be=0;Be<this.ENCODED_VALS.length;Be++)this.byteToCharMap_[Be]=this.ENCODED_VALS.charAt(Be),this.charToByteMap_[this.byteToCharMap_[Be]]=Be,this.byteToCharMapWebSafe_[Be]=this.ENCODED_VALS_WEBSAFE.charAt(Be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Be]]=Be,Be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Be)]=Be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Be)]=Be)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ke=function(Be){return function(Be){const Ge=Re(Be);return Ee.encodeByteArray(Ge,!0)}(Be).replace(/\./g,"")},se=function(Be){try{return Ee.decodeString(Be,!0)}catch(Ge){console.error("base64Decode failed: ",Ge)}return null},ge=()=>{try{return function ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Be=process.env.__FIREBASE_DEFAULTS__;return Be?JSON.parse(Be):void 0})()||(()=>{if(typeof document>"u")return;let Be;try{Be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ge=Be&&se(Be[1]);return Ge&&JSON.parse(Ge)})()}catch(Be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Be}`)}},O=Be=>{var Ge,et;return null===(et=null===(Ge=ge())||void 0===Ge?void 0:Ge.emulatorHosts)||void 0===et?void 0:et[Be]},D=Be=>{const Ge=O(Be);if(!Ge)return;const et=Ge.lastIndexOf(":");if(et<=0||et+1===Ge.length)throw new Error(`Invalid host ${Ge} with no separate hostname and port!`);const It=parseInt(Ge.substring(et+1),10);return"["===Ge[0]?[Ge.substring(1,et-1),It]:[Ge.substring(0,et),It]},K=()=>{var Be;return null===(Be=ge())||void 0===Be?void 0:Be.config},ue=Be=>{var Ge;return null===(Ge=ge())||void 0===Ge?void 0:Ge[`_${Be}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ge,et)=>{this.resolve=Ge,this.reject=et})}wrapCallback(Ge){return(et,It)=>{et?this.reject(et):this.resolve(It),"function"==typeof Ge&&(this.promise.catch(()=>{}),1===Ge.length?Ge(et):Ge(et,It))}}}function xe(Be,Ge){if(Be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const It=Ge||"demo-project",gt=Be.iat||0,en=Be.sub||Be.user_id;if(!en)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${It}`,aud:It,iat:gt,exp:gt+3600,auth_time:gt,sub:en,user_id:en,firebase:{sign_in_provider:"custom",identities:{}}},Be);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(tt)),""].join(".")}function Z(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function L(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())}function Oe(){const Be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Be&&void 0!==Be.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nt(){const Be=Z();return Be.indexOf("MSIE ")>=0||Be.indexOf("Trident/")>=0}function G(){try{return"object"==typeof indexedDB}catch{return!1}}function V(){return new Promise((Be,Ge)=>{try{let et=!0;const It="validate-browser-context-for-indexeddb-analytics-module",gt=self.indexedDB.open(It);gt.onsuccess=()=>{gt.result.close(),et||self.indexedDB.deleteDatabase(It),Be(!0)},gt.onupgradeneeded=()=>{et=!1},gt.onerror=()=>{var en;Ge((null===(en=gt.error)||void 0===en?void 0:en.message)||"")}}catch(et){Ge(et)}})}function S(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class W extends Error{constructor(Ge,et,It){super(et),this.code=Ge,this.customData=It,this.name="FirebaseError",Object.setPrototypeOf(this,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(Ge,et,It){this.service=Ge,this.serviceName=et,this.errors=It}create(Ge,...et){const It=et[0]||{},gt=`${this.service}/${Ge}`,en=this.errors[Ge],tt=en?function le(Be,Ge){return Be.replace(Y,(et,It)=>{const gt=Ge[It];return null!=gt?String(gt):`<${It}?>`})}(en,It):"Error";return new W(gt,`${this.serviceName}: ${tt} (${gt}).`,It)}}const Y=/\{\$([^}]+)}/g;function zt(Be){for(const Ge in Be)if(Object.prototype.hasOwnProperty.call(Be,Ge))return!1;return!0}function qt(Be,Ge){if(Be===Ge)return!0;const et=Object.keys(Be),It=Object.keys(Ge);for(const gt of et){if(!It.includes(gt))return!1;const en=Be[gt],tt=Ge[gt];if(sn(en)&&sn(tt)){if(!qt(en,tt))return!1}else if(en!==tt)return!1}for(const gt of It)if(!et.includes(gt))return!1;return!0}function sn(Be){return null!==Be&&"object"==typeof Be}function ut(Be){const Ge=[];for(const[et,It]of Object.entries(Be))Array.isArray(It)?It.forEach(gt=>{Ge.push(encodeURIComponent(et)+"="+encodeURIComponent(gt))}):Ge.push(encodeURIComponent(et)+"="+encodeURIComponent(It));return Ge.length?"&"+Ge.join("&"):""}function bt(Be,Ge){const et=new Ke(Be,Ge);return et.subscribe.bind(et)}class Ke{constructor(Ge,et){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=et,this.task.then(()=>{Ge(this)}).catch(It=>{this.error(It)})}next(Ge){this.forEachObserver(et=>{et.next(Ge)})}error(Ge){this.forEachObserver(et=>{et.error(Ge)}),this.close(Ge)}complete(){this.forEachObserver(Ge=>{Ge.complete()}),this.close()}subscribe(Ge,et,It){let gt;if(void 0===Ge&&void 0===et&&void 0===It)throw new Error("Missing Observer.");gt=function Lt(Be,Ge){if("object"!=typeof Be||null===Be)return!1;for(const et of Ge)if(et in Be&&"function"==typeof Be[et])return!0;return!1}(Ge,["next","error","complete"])?Ge:{next:Ge,error:et,complete:It},void 0===gt.next&&(gt.next=$t),void 0===gt.error&&(gt.error=$t),void 0===gt.complete&&(gt.complete=$t);const en=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?gt.error(this.finalError):gt.complete()}catch{}}),this.observers.push(gt),en}unsubscribeOne(Ge){void 0===this.observers||void 0===this.observers[Ge]||(delete this.observers[Ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ge){if(!this.finalized)for(let et=0;et<this.observers.length;et++)this.sendOne(et,Ge)}sendOne(Ge,et){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ge])try{et(this.observers[Ge])}catch(It){typeof console<"u"&&console.error&&console.error(It)}})}close(Ge){this.finalized||(this.finalized=!0,void 0!==Ge&&(this.finalError=Ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $t(){}const Xt=1e3,An=2,Yt=144e5,Un=.5;function Wn(Be,Ge=Xt,et=An){const It=Ge*Math.pow(et,Be),gt=Math.round(Un*It*(Math.random()-.5)*2);return Math.min(Yt,It+gt)}function fr(Be){return Be&&Be._delegate?Be._delegate:Be}},1986:(Ue,F,j)=>{"use strict";j.d(F,{u:()=>f,z:()=>u});var f=(()=>{return(J=f||(f={})).USER="USER",J.CLIENT="CLIENT",J.ADMIN="ADMIN",f;var J})(),u=(()=>{return(J=u||(u={})).HTML="HTML",J.PDF="PDF",J.URL="URL",u;var J})()},4724:(Ue,F,j)=>{"use strict";j.d(F,{nW:()=>cs,zW:()=>eo,C5:()=>rr});var f=j(5861),u=j(8256),J=j(6881);(0,J.KN)("firebase","9.23.0","app");var Ee=j(1877),fe=j(2090),ve=j(4859);const ke=(de,Ne)=>Ne.some(Qe=>de instanceof Qe);let se,oe;const ee=new WeakMap,we=new WeakMap,be=new WeakMap,me=new WeakMap,ge=new WeakMap;let K={get(de,Ne,Qe){if(de instanceof IDBTransaction){if("done"===Ne)return we.get(de);if("objectStoreNames"===Ne)return de.objectStoreNames||be.get(de);if("store"===Ne)return Qe.objectStoreNames[1]?void 0:Qe.objectStore(Qe.objectStoreNames[0])}return Z(de[Ne])},set:(de,Ne,Qe)=>(de[Ne]=Qe,!0),has:(de,Ne)=>de instanceof IDBTransaction&&("done"===Ne||"store"===Ne)||Ne in de};function xe(de){return"function"==typeof de?function X(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...Ne){return de.apply(L(this),Ne),Z(ee.get(this))}:function(...Ne){return Z(de.apply(L(this),Ne))}:function(Ne,...Qe){const ht=de.call(L(this),Ne,...Qe);return be.set(ht,Ne.sort?Ne.sort():[Ne]),Z(ht)}}(de):(de instanceof IDBTransaction&&function D(de){if(we.has(de))return;const Ne=new Promise((Qe,ht)=>{const St=()=>{de.removeEventListener("complete",Vt),de.removeEventListener("error",nn),de.removeEventListener("abort",nn)},Vt=()=>{Qe(),St()},nn=()=>{ht(de.error||new DOMException("AbortError","AbortError")),St()};de.addEventListener("complete",Vt),de.addEventListener("error",nn),de.addEventListener("abort",nn)});we.set(de,Ne)}(de),ke(de,function De(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,K):de)}function Z(de){if(de instanceof IDBRequest)return function O(de){const Ne=new Promise((Qe,ht)=>{const St=()=>{de.removeEventListener("success",Vt),de.removeEventListener("error",nn)},Vt=()=>{Qe(Z(de.result)),St()},nn=()=>{ht(de.error),St()};de.addEventListener("success",Vt),de.addEventListener("error",nn)});return Ne.then(Qe=>{Qe instanceof IDBCursor&&ee.set(Qe,de)}).catch(()=>{}),ge.set(Ne,de),Ne}(de);if(me.has(de))return me.get(de);const Ne=xe(de);return Ne!==de&&(me.set(de,Ne),ge.set(Ne,de)),Ne}const L=de=>ge.get(de),Oe=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],Le=new Map;function nt(de,Ne){if(!(de instanceof IDBDatabase)||Ne in de||"string"!=typeof Ne)return;if(Le.get(Ne))return Le.get(Ne);const Qe=Ne.replace(/FromIndex$/,""),ht=Ne!==Qe,St=Ve.includes(Qe);if(!(Qe in(ht?IDBIndex:IDBObjectStore).prototype)||!St&&!Oe.includes(Qe))return;const Vt=function(){var nn=(0,f.Z)(function*(Sn,...fn){const Nn=this.transaction(Sn,St?"readwrite":"readonly");let Fn=Nn.store;return ht&&(Fn=Fn.index(fn.shift())),(yield Promise.all([Fn[Qe](...fn),St&&Nn.done]))[0]});return function(fn){return nn.apply(this,arguments)}}();return Le.set(Ne,Vt),Vt}!function ue(de){K=de(K)}(de=>({...de,get:(Ne,Qe,ht)=>nt(Ne,Qe)||de.get(Ne,Qe,ht),has:(Ne,Qe)=>!!nt(Ne,Qe)||de.has(Ne,Qe)}));const ye="@firebase/installations",Q="0.6.4",H=1e4,G=`w:${Q}`,V="FIS_v2",S="https://firebaseinstallations.googleapis.com/v1",N=36e5,Y=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(de){return de instanceof fe.ZR&&de.code.includes("request-failed")}function We({projectId:de}){return`${S}/projects/${de}/installations`}function qe(de){return{token:de.token,requestStatus:2,expiresIn:zt(de.expiresIn),creationTime:Date.now()}}function ze(de,Ne){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(de,Ne){const ht=(yield Ne.json()).error;return Y.create("request-failed",{requestName:de,serverCode:ht.code,serverMessage:ht.message,serverStatus:ht.status})})).apply(this,arguments)}function Rt({apiKey:de}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":de})}function Nt(de){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,f.Z)(function*(de){const Ne=yield de();return Ne.status>=500&&Ne.status<600?de():Ne})).apply(this,arguments)}function zt(de){return Number(de.replace("s","000"))}function sn(){return(sn=(0,f.Z)(function*({appConfig:de,heartbeatServiceProvider:Ne},{fid:Qe}){const ht=We(de),St=Rt(de),Vt=Ne.getImmediate({optional:!0});if(Vt){const Nn=yield Vt.getHeartbeatsHeader();Nn&&St.append("x-firebase-client",Nn)}const Sn={method:"POST",headers:St,body:JSON.stringify({fid:Qe,authVersion:V,appId:de.appId,sdkVersion:G})},fn=yield Nt(()=>fetch(ht,Sn));if(fn.ok){const Nn=yield fn.json();return{fid:Nn.fid||Qe,registrationStatus:2,refreshToken:Nn.refreshToken,authToken:qe(Nn.authToken)}}throw yield ze("Create Installation",fn)})).apply(this,arguments)}function Vn(de){return new Promise(Ne=>{setTimeout(Ne,de)})}const Ie=/^[cdef][\w-]{21}$/,Je="";function at(){try{const de=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(de),de[0]=112+de[0]%16;const Qe=function bt(de){return function ut(de){return btoa(String.fromCharCode(...de)).replace(/\+/g,"-").replace(/\//g,"_")}(de).substr(0,22)}(de);return Ie.test(Qe)?Qe:Je}catch{return Je}}function Ke(de){return`${de.appName}!${de.appId}`}const pt=new Map;function Lt(de,Ne){const Qe=Ke(de);zn(Qe,Ne),function dt(de,Ne){const Qe=function lt(){return!st&&"BroadcastChannel"in self&&(st=new BroadcastChannel("[Firebase] FID Change"),st.onmessage=de=>{zn(de.data.key,de.data.fid)}),st}();Qe&&Qe.postMessage({key:de,fid:Ne}),function ln(){0===pt.size&&st&&(st.close(),st=null)}()}(Qe,Ne)}function zn(de,Ne){const Qe=pt.get(de);if(Qe)for(const ht of Qe)ht(Ne)}let st=null;const Wt="firebase-installations-database",_n=1,Xt="firebase-installations-store";let An=null;function Yt(){return An||(An=function ae(de,Ne,{blocked:Qe,upgrade:ht,blocking:St,terminated:Vt}={}){const nn=indexedDB.open(de,Ne),Sn=Z(nn);return ht&&nn.addEventListener("upgradeneeded",fn=>{ht(Z(nn.result),fn.oldVersion,fn.newVersion,Z(nn.transaction))}),Qe&&nn.addEventListener("blocked",()=>Qe()),Sn.then(fn=>{Vt&&fn.addEventListener("close",()=>Vt()),St&&fn.addEventListener("versionchange",()=>St())}).catch(()=>{}),Sn}(Wt,_n,{upgrade:(de,Ne)=>{0===Ne&&de.createObjectStore(Xt)}})),An}function Un(de,Ne){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(de,Ne){const Qe=Ke(de),St=(yield Yt()).transaction(Xt,"readwrite"),Vt=St.objectStore(Xt),nn=yield Vt.get(Qe);return yield Vt.put(Ne,Qe),yield St.done,(!nn||nn.fid!==Ne.fid)&&Lt(de,Ne.fid),Ne})).apply(this,arguments)}function yr(de){return cr.apply(this,arguments)}function cr(){return(cr=(0,f.Z)(function*(de){const Ne=Ke(de),ht=(yield Yt()).transaction(Xt,"readwrite");yield ht.objectStore(Xt).delete(Ne),yield ht.done})).apply(this,arguments)}function fr(de,Ne){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(de,Ne){const Qe=Ke(de),St=(yield Yt()).transaction(Xt,"readwrite"),Vt=St.objectStore(Xt),nn=yield Vt.get(Qe),Sn=Ne(nn);return void 0===Sn?yield Vt.delete(Qe):yield Vt.put(Sn,Qe),yield St.done,Sn&&(!nn||nn.fid!==Sn.fid)&&Lt(de,Sn.fid),Sn})).apply(this,arguments)}function Ge(de){return et.apply(this,arguments)}function et(){return et=(0,f.Z)(function*(de){let Ne;const Qe=yield fr(de.appConfig,ht=>{const St=function It(de){return xt(de||{fid:at(),registrationStatus:0})}(ht),Vt=function gt(de,Ne){if(0===Ne.registrationStatus){if(!navigator.onLine)return{installationEntry:Ne,registrationPromise:Promise.reject(Y.create("app-offline"))};const Qe={fid:Ne.fid,registrationStatus:1,registrationTime:Date.now()},ht=function en(de,Ne){return tt.apply(this,arguments)}(de,Qe);return{installationEntry:Qe,registrationPromise:ht}}return 1===Ne.registrationStatus?{installationEntry:Ne,registrationPromise:Xe(de)}:{installationEntry:Ne}}(de,St);return Ne=Vt.registrationPromise,Vt.installationEntry});return Qe.fid===Je?{installationEntry:yield Ne}:{installationEntry:Qe,registrationPromise:Ne}}),et.apply(this,arguments)}function tt(){return tt=(0,f.Z)(function*(de,Ne){try{const Qe=yield function qt(de,Ne){return sn.apply(this,arguments)}(de,Ne);return Un(de.appConfig,Qe)}catch(Qe){throw He(Qe)&&409===Qe.customData.serverCode?yield yr(de.appConfig):yield Un(de.appConfig,{fid:Ne.fid,registrationStatus:0}),Qe}}),tt.apply(this,arguments)}function Xe(de){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,f.Z)(function*(de){let Ne=yield ct(de.appConfig);for(;1===Ne.registrationStatus;)yield Vn(100),Ne=yield ct(de.appConfig);if(0===Ne.registrationStatus){const{installationEntry:Qe,registrationPromise:ht}=yield Ge(de);return ht||Qe}return Ne})).apply(this,arguments)}function ct(de){return fr(de,Ne=>{if(!Ne)throw Y.create("installation-not-found");return xt(Ne)})}function xt(de){return function Ht(de){return 1===de.registrationStatus&&de.registrationTime+H<Date.now()}(de)?{fid:de.fid,registrationStatus:0}:de}function En(){return(En=(0,f.Z)(function*({appConfig:de,heartbeatServiceProvider:Ne},Qe){const ht=function vr(de,{fid:Ne}){return`${We(de)}/${Ne}/authTokens:generate`}(de,Qe),St=function Ut(de,{refreshToken:Ne}){const Qe=Rt(de);return Qe.append("Authorization",function gn(de){return`${V} ${de}`}(Ne)),Qe}(de,Qe),Vt=Ne.getImmediate({optional:!0});if(Vt){const Nn=yield Vt.getHeartbeatsHeader();Nn&&St.append("x-firebase-client",Nn)}const Sn={method:"POST",headers:St,body:JSON.stringify({installation:{sdkVersion:G,appId:de.appId}})},fn=yield Nt(()=>fetch(ht,Sn));if(fn.ok)return qe(yield fn.json());throw yield ze("Generate Auth Token",fn)})).apply(this,arguments)}function rs(de){return Et.apply(this,arguments)}function Et(){return Et=(0,f.Z)(function*(de,Ne=!1){let Qe;const ht=yield fr(de.appConfig,Vt=>{if(!nr(Vt))throw Y.create("not-registered");const nn=Vt.authToken;if(!Ne&&function Pr(de){return 2===de.requestStatus&&!function gr(de){const Ne=Date.now();return Ne<de.creationTime||de.creationTime+de.expiresIn<Ne+N}(de)}(nn))return Vt;if(1===nn.requestStatus)return Qe=function mt(de,Ne){return Bt.apply(this,arguments)}(de,Ne),Vt;{if(!navigator.onLine)throw Y.create("app-offline");const Sn=function ki(de){const Ne={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},de),{authToken:Ne})}(Vt);return Qe=function xn(de,Ne){return Bn.apply(this,arguments)}(de,Sn),Sn}});return Qe?yield Qe:ht.authToken}),Et.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(de,Ne){let Qe=yield un(de.appConfig);for(;1===Qe.authToken.requestStatus;)yield Vn(100),Qe=yield un(de.appConfig);const ht=Qe.authToken;return 0===ht.requestStatus?rs(de,Ne):ht})).apply(this,arguments)}function un(de){return fr(de,Ne=>{if(!nr(Ne))throw Y.create("not-registered");return function is(de){return 1===de.requestStatus&&de.requestTime+H<Date.now()}(Ne.authToken)?Object.assign(Object.assign({},Ne),{authToken:{requestStatus:0}}):Ne})}function Bn(){return Bn=(0,f.Z)(function*(de,Ne){try{const Qe=yield function Cn(de,Ne){return En.apply(this,arguments)}(de,Ne),ht=Object.assign(Object.assign({},Ne),{authToken:Qe});return yield Un(de.appConfig,ht),Qe}catch(Qe){if(!He(Qe)||401!==Qe.customData.serverCode&&404!==Qe.customData.serverCode){const ht=Object.assign(Object.assign({},Ne),{authToken:{requestStatus:0}});yield Un(de.appConfig,ht)}else yield yr(de.appConfig);throw Qe}}),Bn.apply(this,arguments)}function nr(de){return void 0!==de&&2===de.registrationStatus}function hi(){return(hi=(0,f.Z)(function*(de){const Ne=de,{installationEntry:Qe,registrationPromise:ht}=yield Ge(Ne);return ht?ht.catch(console.error):rs(Ne).catch(console.error),Qe.fid})).apply(this,arguments)}function kn(){return kn=(0,f.Z)(function*(de,Ne=!1){const Qe=de;return yield function Ir(de){return Xr.apply(this,arguments)}(Qe),(yield rs(Qe,Ne)).token}),kn.apply(this,arguments)}function Xr(){return(Xr=(0,f.Z)(function*(de){const{registrationPromise:Ne}=yield Ge(de);Ne&&(yield Ne)})).apply(this,arguments)}function ur(de){return Y.create("missing-app-config-values",{valueName:de})}const Di="installations",Fr=de=>{const Ne=de.getProvider("app").getImmediate(),Qe=function jn(de){if(!de||!de.options)throw ur("App Configuration");if(!de.name)throw ur("App Name");const Ne=["projectId","apiKey","appId"];for(const Qe of Ne)if(!de.options[Qe])throw ur(Qe);return{appName:de.name,projectId:de.options.projectId,apiKey:de.options.apiKey,appId:de.options.appId}}(Ne);return{app:Ne,appConfig:Qe,heartbeatServiceProvider:(0,J.qX)(Ne,"heartbeat"),_delete:()=>Promise.resolve()}},Li=de=>{const Ne=de.getProvider("app").getImmediate(),Qe=(0,J.qX)(Ne,Di).getImmediate();return{getId:()=>function Ro(de){return hi.apply(this,arguments)}(Qe),getToken:St=>function Ms(de){return kn.apply(this,arguments)}(Qe,St)}};(function Dr(){(0,J.Xd)(new ve.wA(Di,Fr,"PUBLIC")),(0,J.Xd)(new ve.wA("installations-internal",Li,"PRIVATE"))})(),(0,J.KN)(ye,Q),(0,J.KN)(ye,Q,"esm2017");const xi="analytics",Pi="firebase_id",Gn="origin",Gi=6e4,$i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ks="https://www.googletagmanager.com/gtag/js",Xn=new Ee.Yd("@firebase/analytics"),Ar=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function os(de){if(!de.startsWith(ks)){const Ne=Ar.create("invalid-gtag-resource",{gtagURL:de});return Xn.warn(Ne.message),""}return de}function Fi(de){return Promise.all(de.map(Ne=>Ne.catch(Qe=>Qe)))}function zi(){return(zi=(0,f.Z)(function*(de,Ne,Qe,ht,St,Vt){const nn=ht[St];try{if(nn)yield Ne[nn];else{const fn=(yield Fi(Qe)).find(Nn=>Nn.measurementId===St);fn&&(yield Ne[fn.appId])}}catch(Sn){Xn.error(Sn)}de("config",St,Vt)})).apply(this,arguments)}function Ys(){return(Ys=(0,f.Z)(function*(de,Ne,Qe,ht,St){try{let Vt=[];if(St&&St.send_to){let nn=St.send_to;Array.isArray(nn)||(nn=[nn]);const Sn=yield Fi(Qe);for(const fn of nn){const Nn=Sn.find(ai=>ai.measurementId===fn),Fn=Nn&&Ne[Nn.appId];if(!Fn){Vt=[];break}Vt.push(Fn)}}0===Vt.length&&(Vt=Object.values(Ne)),yield Promise.all(Vt),de("event",ht,St||{})}catch(Vt){Xn.error(Vt)}})).apply(this,arguments)}const Oo=30,ko=new class Gr{constructor(Ne={},Qe=1e3){this.throttleMetadata=Ne,this.intervalMillis=Qe}getThrottleMetadata(Ne){return this.throttleMetadata[Ne]}setThrottleMetadata(Ne,Qe){this.throttleMetadata[Ne]=Qe}deleteThrottleMetadata(Ne){delete this.throttleMetadata[Ne]}};function as(de){return new Headers({Accept:"application/json","x-goog-api-key":de})}function Mr(){return(Mr=(0,f.Z)(function*(de){var Ne;const{appId:Qe,apiKey:ht}=de,St={method:"GET",headers:as(ht)},Vt=$i.replace("{app-id}",Qe),nn=yield fetch(Vt,St);if(200!==nn.status&&304!==nn.status){let Sn="";try{const fn=yield nn.json();null!==(Ne=fn.error)&&void 0!==Ne&&Ne.message&&(Sn=fn.error.message)}catch{}throw Ar.create("config-fetch-failed",{httpStatus:nn.status,responseMessage:Sn})}return nn.json()})).apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(de,Ne=ko,Qe){const{appId:ht,apiKey:St,measurementId:Vt}=de.options;if(!ht)throw Ar.create("no-app-id");if(!St){if(Vt)return{measurementId:Vt,appId:ht};throw Ar.create("no-api-key")}const nn=Ne.getThrottleMetadata(ht)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Sn=new Sa;return setTimeout((0,f.Z)(function*(){Sn.abort()}),void 0!==Qe?Qe:Gi),Vs({appId:ht,apiKey:St,measurementId:Vt},nn,Sn,Ne)})).apply(this,arguments)}function Vs(de,Ne,Qe){return Mi.apply(this,arguments)}function Mi(){return Mi=(0,f.Z)(function*(de,{throttleEndTimeMillis:Ne,backoffCount:Qe},ht,St=ko){var Vt;const{appId:nn,measurementId:Sn}=de;try{yield function Us(de,Ne){return new Promise((Qe,ht)=>{const St=Math.max(Ne-Date.now(),0),Vt=setTimeout(Qe,St);de.addEventListener(()=>{clearTimeout(Vt),ht(Ar.create("fetch-throttle",{throttleEndTimeMillis:Ne}))})})}(ht,Ne)}catch(fn){if(Sn)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Sn} provided in the "measurementId" field in the local Firebase config. [${fn?.message}]`),{appId:nn,measurementId:Sn};throw fn}try{const fn=yield function lo(de){return Mr.apply(this,arguments)}(de);return St.deleteThrottleMetadata(nn),fn}catch(fn){const Nn=fn;if(!function No(de){if(!(de instanceof fe.ZR&&de.customData))return!1;const Ne=Number(de.customData.httpStatus);return 429===Ne||500===Ne||503===Ne||504===Ne}(Nn)){if(St.deleteThrottleMetadata(nn),Sn)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Sn} provided in the "measurementId" field in the local Firebase config. [${Nn?.message}]`),{appId:nn,measurementId:Sn};throw fn}const Fn=503===Number(null===(Vt=Nn?.customData)||void 0===Vt?void 0:Vt.httpStatus)?(0,fe.$s)(Qe,St.intervalMillis,Oo):(0,fe.$s)(Qe,St.intervalMillis),ai={throttleEndTimeMillis:Date.now()+Fn,backoffCount:Qe+1};return St.setThrottleMetadata(nn,ai),Xn.debug(`Calling attemptFetch again in ${Fn} millis`),Vs(de,ai,ht,St)}}),Mi.apply(this,arguments)}class Sa{constructor(){this.listeners=[]}addEventListener(Ne){this.listeners.push(Ne)}abort(){this.listeners.forEach(Ne=>Ne())}}let ls,_s;function la(){return(la=(0,f.Z)(function*(de,Ne,Qe,ht,St){if(St&&St.global)de("event",Qe,ht);else{const Vt=yield Ne;de("event",Qe,Object.assign(Object.assign({},ht),{send_to:Vt}))}})).apply(this,arguments)}function $r(){return($r=(0,f.Z)(function*(){if(!(0,fe.hl)())return Xn.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(de){return Xn.warn(Ar.create("indexeddb-unavailable",{errorInfo:de?.toString()}).message),!1}return!0})).apply(this,arguments)}function ua(){return ua=(0,f.Z)(function*(de,Ne,Qe,ht,St,Vt,nn){var Sn;const fn=function bo(de){return co.apply(this,arguments)}(de);fn.then(Oi=>{Qe[Oi.measurementId]=Oi.appId,de.options.measurementId&&Oi.measurementId!==de.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${de.options.measurementId}) does not match the measurement ID fetched from the server (${Oi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Oi=>Xn.error(Oi)),Ne.push(fn);const Nn=function Ei(){return $r.apply(this,arguments)}().then(Oi=>{if(Oi)return ht.getId()}),[Fn,ai]=yield Promise.all([fn,Nn]);(function Ln(de){const Ne=window.document.getElementsByTagName("script");for(const Qe of Object.values(Ne))if(Qe.src&&Qe.src.includes(ks)&&Qe.src.includes(de))return Qe;return null})(Vt)||function Ls(de,Ne){const Qe=function Ns(de,Ne){let Qe;return window.trustedTypes&&(Qe=window.trustedTypes.createPolicy(de,Ne)),Qe}("firebase-js-sdk-policy",{createScriptURL:os}),ht=document.createElement("script"),St=`${ks}?l=${de}&id=${Ne}`;ht.src=Qe?Qe?.createScriptURL(St):St,ht.async=!0,document.head.appendChild(ht)}(Vt,Fn.measurementId),_s&&(St("consent","default",_s),function Qs(de){_s=de}(void 0)),St("js",new Date);const Yn=null!==(Sn=nn?.config)&&void 0!==Sn?Sn:{};return Yn[Gn]="firebase",Yn.update=!0,null!=ai&&(Yn[Pi]=ai),St("config",Fn.measurementId,Yn),ls&&(St("set",ls),function Xs(de){ls=de}(void 0)),Fn.measurementId}),ua.apply(this,arguments)}class ys{constructor(Ne){this.app=Ne}_delete(){return delete Or[this.app.options.appId],Promise.resolve()}}let Or={},Qo=[];const br={};let ha,yi,da="dataLayer",Ai="gtag",Vr=!1;function oi(de,Ne,Qe){!function Vo(){const de=[];if((0,fe.ru)()&&de.push("This is a browser extension environment."),(0,fe.zI)()||de.push("Cookies are not available."),de.length>0){const Ne=de.map((ht,St)=>`(${St+1}) ${ht}`).join(" "),Qe=Ar.create("invalid-analytics-context",{errorInfo:Ne});Xn.warn(Qe.message)}}();const ht=de.options.appId;if(!ht)throw Ar.create("no-app-id");if(!de.options.apiKey){if(!de.options.measurementId)throw Ar.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${de.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Or[ht])throw Ar.create("already-exists",{id:ht});if(!Vr){!function xr(de){let Ne=[];Array.isArray(window[de])?Ne=window[de]:window[de]=Ne}(da);const{wrappedGtag:Vt,gtagCore:nn}=function Fs(de,Ne,Qe,ht,St){let Vt=function(...nn){window[ht].push(arguments)};return window[St]&&"function"==typeof window[St]&&(Vt=window[St]),window[St]=function qi(de,Ne,Qe,ht){function Vt(){return Vt=(0,f.Z)(function*(nn,...Sn){try{if("event"===nn){const[fn,Nn]=Sn;yield function Wi(de,Ne,Qe,ht,St){return Ys.apply(this,arguments)}(de,Ne,Qe,fn,Nn)}else if("config"===nn){const[fn,Nn]=Sn;yield function Aa(de,Ne,Qe,ht,St,Vt){return zi.apply(this,arguments)}(de,Ne,Qe,ht,fn,Nn)}else if("consent"===nn){const[fn]=Sn;de("consent","update",fn)}else if("get"===nn){const[fn,Nn,Fn]=Sn;de("get",fn,Nn,Fn)}else if("set"===nn){const[fn]=Sn;de("set",fn)}else de(nn,...Sn)}catch(fn){Xn.error(fn)}}),Vt.apply(this,arguments)}return function St(nn){return Vt.apply(this,arguments)}}(Vt,de,Ne,Qe),{gtagCore:Vt,wrappedGtag:window[St]}}(Or,Qo,br,da,Ai);yi=Vt,ha=nn,Vr=!0}return Or[ht]=function Eo(de,Ne,Qe,ht,St,Vt,nn){return ua.apply(this,arguments)}(de,Qo,br,Ne,ha,da,Qe),new ys(de)}function Sr(de,Ne,Qe,ht){de=(0,fe.m9)(de),function Lo(de,Ne,Qe,ht,St){return la.apply(this,arguments)}(yi,Or[de.app.options.appId],Ne,Qe,ht).catch(St=>Xn.error(St))}const Js="@firebase/analytics";!function Hs(){(0,J.Xd)(new ve.wA(xi,(Ne,{options:Qe})=>oi(Ne.getProvider("app").getImmediate(),Ne.getProvider("installations-internal").getImmediate(),Qe),"PUBLIC")),(0,J.Xd)(new ve.wA("analytics-internal",function de(Ne){try{const Qe=Ne.getProvider(xi).getImmediate();return{logEvent:(ht,St,Vt)=>Sr(Qe,ht,St,Vt)}}catch(Qe){throw Ar.create("interop-component-reg-failed",{reason:Qe})}},"PRIVATE")),(0,J.KN)(Js,"0.10.0"),(0,J.KN)(Js,"0.10.0","esm2017")}();var fa=j(7280),zr=j(7396),Da=j(1986),jt=j(184);let rr=(()=>{var de;class Ne{constructor(ht){this.loader=ht,this.app=(0,J.ZF)(Er),this.analytics=function Vi(de=(0,J.Mq)()){de=(0,fe.m9)(de);const Ne=(0,J.qX)(de,xi);return Ne.isInitialized()?Ne.getImmediate():function Ri(de,Ne={}){const Qe=(0,J.qX)(de,xi);if(Qe.isInitialized()){const St=Qe.getImmediate();if((0,fe.vZ)(Ne,Qe.getOptions()))return St;throw Ar.create("already-initialized")}return Qe.initialize({options:Ne})}(de)}(this.app),this.firestore=(0,zr.ad)(this.app),this.auth=(0,fa.v0)(this.app),this.isAdmin=!1,this.data={},this.cursors={},this.refreshEvent=new u.vpe,this.refreshUser=new u.vpe,this.refreshUserSession();var St=[cs.CATEGORIES,cs.COURSES,cs.TOPICS,cs.PAGES];for(var Vt in St)this.init(St[Vt]),this.refresh(St[Vt])}init(ht){this.cursors[ht]={order:0,limit:20}}refreshUserSession(){this.auth.onAuthStateChanged(ht=>{null==ht?(this.user=void 0,this.isAdmin=!1,this.refreshUser.emit(void 0)):(console.log("FirestoreService:refreshUserSession:: Auth State Changed ",ht),this.loader.show(),this.login({id:ht.uid,email:ht.email,name:ht.displayName,contact:ht.phoneNumber,image:ht.photoURL,role:Da.u.USER}))})}refresh(ht){console.log("Refreshing "+ht);let St=(0,zr.hJ)(this.firestore,ht);const Vt=(0,zr.IO)(St,(0,zr.b9)(this.cursors[ht].limit));(0,zr.PL)(Vt).then(nn=>{this.data[ht]=[],nn.forEach(Sn=>{let fn=Sn.data();fn.id=Sn.id,this.data[ht].push(fn)}),this.refreshEvent.emit(ht)})}fetch(ht,St,Vt){if(null!=ht&&null!=St&&null!=Vt&&null!=this.data[ht])return this.data[ht].filter(nn=>nn[St]==Vt)[0]}login(ht){var St=this;return(0,f.Z)(function*(){const Vt=(0,zr.JU)(St.firestore,"users",ht.id),nn=yield(0,zr.QT)(Vt);if(nn.exists()){let Sn=nn.data();console.log("FirestoreService:login:: Existing User :",Sn),St.user={id:Sn.id,name:Sn.name,email:Sn.email,contact:Sn.contact,role:Sn.role,image:Sn.image},St.refreshUser.emit(St.user),sessionStorage.setItem("user",JSON.stringify(St.user)),St.isAdmin=St.user.role==Da.u.ADMIN,St.loader.hide()}else console.log("FirestoreService:login:: Create new user: "+ht.email),St.user=ht,yield(0,zr.pl)((0,zr.JU)((0,zr.hJ)(St.firestore,"users"),ht.id),St.user),console.log("FirestoreService:login:: Created new user: "+ht.email),St.refreshUser.emit(St.user),sessionStorage.setItem("user",JSON.stringify(St.user)),St.log(eo.SIGN_UP,St.user),St.loader.hide()})()}logout(){var ht=this;return(0,f.Z)(function*(){console.log("FirestoreService:logout:: Logging out user: "+ht.user?.email),ht.user=void 0,sessionStorage.clear(),ht.isAdmin=!1,ht.log(eo.LOGOUT,ht.user),ht.refreshUser.emit(ht.user)})()}log(ht,St=null){let Vt={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:ht};St&&(Vt.data=St),console.log("Sending Event to Analytics: ",Vt),Sr(this.analytics,ht,Vt)}}return(de=Ne).\u0275fac=function(ht){return new(ht||de)(u.LFG(jt.D))},de.\u0275prov=u.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),Ne})();var eo=(()=>{return(de=eo||(eo={})).PAGE_VIEW="PAGE_VIEW",de.LOGIN="login",de.SIGN_UP="sign_up",de.LOGOUT="logout",eo;var de})(),cs=(()=>{return(de=cs||(cs={})).USERS="users",de.CATEGORIES="categories",de.COURSES="courses",de.TOPICS="topics",de.PAGES="pages",de.ASSESSMENTS="assessments",cs;var de})();const Er={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"}},184:(Ue,F,j)=>{"use strict";j.d(F,{D:()=>J});var f=j(1135),u=j(8256);let J=(()=>{var Re;class _e{constructor(){this.isLoading=new f.X(!1)}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return(Re=_e).\u0275fac=function(fe){return new(fe||Re)},Re.\u0275prov=u.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),_e})()},1527:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>PageComponent});var _firestore_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4724),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8256),_angular_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5087),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6895);function PageComponent_div_0_div_1_Template(Ue,F){if(1&Ue&&_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(0,"div",2),2&Ue){const j=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("innerHTML",j.page.html,_angular_core__WEBPACK_IMPORTED_MODULE_1__.oJD)}}function PageComponent_div_0_Template(Ue,F){if(1&Ue&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(1,PageComponent_div_0_div_1_Template,1,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&Ue){const j=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf",j.page.html)}}let PageComponent=(()=>{var _class;class PageComponent{constructor(Ue,F){this.route=Ue,this.firestore=F}ngOnInit(){let Ue=this.route.snapshot.paramMap.get("id");console.log("Loading Page: "+Ue),Ue&&(null==this.firestore.data[_firestore_service__WEBPACK_IMPORTED_MODULE_0__.nW.PAGES]?(this.firestore.loader.show(),this.firestore.refreshEvent.subscribe(F=>{Ue&&F==_firestore_service__WEBPACK_IMPORTED_MODULE_0__.nW.PAGES&&(this.firestore.loader.hide(),this.refresh(Ue))})):this.refresh(Ue))}refresh(id){var page=this.firestore.fetch(_firestore_service__WEBPACK_IMPORTED_MODULE_0__.nW.PAGES,"id",id);if(page&&(console.log(page),this.page=page,page.header||window.postMessage("ToggleHeader"),page.script&&eval(page.script),page.style)){var s=document.createElement("style");s.innerText=page.style,document.head.appendChild(s)}}}return _class=PageComponent,_class.\u0275fac=function Ue(F){return new(F||_class)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_2__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_firestore_service__WEBPACK_IMPORTED_MODULE_0__.C5))},_class.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:_class,selectors:[["app-page"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function Ue(F,j){1&F&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,PageComponent_div_0_Template,2,1,"div",0),2&F&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngIf",j.page)},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.O5]}),PageComponent})()},8948:(Ue,F,j)=>{"use strict";var f=j(1481),u=j(8256),J=j(6895),Re=j(2076),_e=j(9751),Ee=j(4742),fe=j(8421),ve=j(3269),ke=j(5403),se=j(3268),oe=j(1810),te=j(4004);let ee=(()=>{class v{constructor(g,E){this._renderer=g,this._elementRef=E,this.onChange=$=>{},this.onTouched=()=>{}}setProperty(g,E){this._renderer.setProperty(this._elementRef.nativeElement,g,E)}registerOnTouched(g){this.onTouched=g}registerOnChange(g){this.onChange=g}setDisabledState(g){this.setProperty("disabled",g)}}return v.\u0275fac=function(g){return new(g||v)(u.Y36(u.Qsj),u.Y36(u.SBq))},v.\u0275dir=u.lG2({type:v}),v})(),we=(()=>{class v extends ee{}return v.\u0275fac=function(){let w;return function(E){return(w||(w=u.n5z(v)))(E||v)}}(),v.\u0275dir=u.lG2({type:v,features:[u.qOj]}),v})();const be=new u.OlP("NgValueAccessor"),O={provide:be,useExisting:(0,u.Gpc)(()=>ue),multi:!0},K=new u.OlP("CompositionEventMode");let ue=(()=>{class v extends ee{constructor(g,E,$){super(g,E),this._compositionMode=$,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function D(){const v=(0,J.q)()?(0,J.q)().getUserAgent():"";return/android (\d+)/.test(v.toLowerCase())}())}writeValue(g){this.setProperty("value",g??"")}_handleInput(g){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(g)}_compositionStart(){this._composing=!0}_compositionEnd(g){this._composing=!1,this._compositionMode&&this.onChange(g)}}return v.\u0275fac=function(g){return new(g||v)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(K,8))},v.\u0275dir=u.lG2({type:v,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(g,E){1&g&&u.NdJ("input",function(Ye){return E._handleInput(Ye.target.value)})("blur",function(){return E.onTouched()})("compositionstart",function(){return E._compositionStart()})("compositionend",function(Ye){return E._compositionEnd(Ye.target.value)})},features:[u._Bn([O]),u.qOj]}),v})();const X=!1,L=new u.OlP("NgValidators"),ae=new u.OlP("NgAsyncValidators");function N(v){return null!=v}function W(v){const w=(0,u.QGY)(v)?(0,Re.D)(v):v;if(X&&!(0,u.CqO)(w)){let g="Expected async validator to return Promise or Observable.";throw"object"==typeof v&&(g+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,g)}return w}function he(v){let w={};return v.forEach(g=>{w=null!=g?{...w,...g}:w}),0===Object.keys(w).length?null:w}function le(v,w){return w.map(g=>g(v))}function He(v){return v.map(w=>function Y(v){return!v.validate}(w)?w:g=>w.validate(g))}function qe(v){return null!=v?function We(v){if(!v)return null;const w=v.filter(N);return 0==w.length?null:function(g){return he(le(g,w))}}(He(v)):null}function ft(v){return null!=v?function ze(v){if(!v)return null;const w=v.filter(N);return 0==w.length?null:function(g){return function De(...v){const w=(0,ve.jO)(v),{args:g,keys:E}=(0,Ee.D)(v),$=new _e.y(Ye=>{const{length:Gt}=g;if(!Gt)return void Ye.complete();const On=new Array(Gt);let Mn=Gt,sr=Gt;for(let es=0;es<Gt;es++){let ds=!1;(0,fe.Xf)(g[es]).subscribe((0,ke.x)(Ye,ts=>{ds||(ds=!0,sr--),On[es]=ts},()=>Mn--,void 0,()=>{(!Mn||!ds)&&(sr||Ye.next(E?(0,oe.n)(E,On):On),Ye.complete())}))}});return w?$.pipe((0,se.Z)(w)):$}(le(g,w).map(W)).pipe((0,te.U)(he))}}(He(v)):null}function Rt(v,w){return null===v?[w]:Array.isArray(v)?[...v,w]:[v,w]}function Pt(v){return v?Array.isArray(v)?v:[v]:[]}function zt(v,w){return Array.isArray(v)?v.includes(w):v===w}function gn(v,w){const g=Pt(w);return Pt(v).forEach($=>{zt(g,$)||g.push($)}),g}function qt(v,w){return Pt(w).filter(g=>!zt(v,g))}class sn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(w){this._rawValidators=w||[],this._composedValidatorFn=qe(this._rawValidators)}_setAsyncValidators(w){this._rawAsyncValidators=w||[],this._composedAsyncValidatorFn=ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(w){this._onDestroyCallbacks.push(w)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(w=>w()),this._onDestroyCallbacks=[]}reset(w){this.control&&this.control.reset(w)}hasError(w,g){return!!this.control&&this.control.hasError(w,g)}getError(w,g){return this.control?this.control.getError(w,g):null}}class Vn extends sn{get formDirective(){return null}get path(){return null}}class ut extends sn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ie{constructor(w){this._cd=w}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bt=(()=>{class v extends Ie{constructor(g){super(g)}}return v.\u0275fac=function(g){return new(g||v)(u.Y36(ut,2))},v.\u0275dir=u.lG2({type:v,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(g,E){2&g&&u.ekj("ng-untouched",E.isUntouched)("ng-touched",E.isTouched)("ng-pristine",E.isPristine)("ng-dirty",E.isDirty)("ng-valid",E.isValid)("ng-invalid",E.isInvalid)("ng-pending",E.isPending)},features:[u.qOj]}),v})();const fr="VALID",Be="INVALID",Ge="PENDING",et="DISABLED";function Xe(v){return null!=v&&!Array.isArray(v)&&"object"==typeof v}class xt{constructor(w,g){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(w),this._assignAsyncValidators(g)}get validator(){return this._composedValidatorFn}set validator(w){this._rawValidators=this._composedValidatorFn=w}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(w){this._rawAsyncValidators=this._composedAsyncValidatorFn=w}get parent(){return this._parent}get valid(){return this.status===fr}get invalid(){return this.status===Be}get pending(){return this.status==Ge}get disabled(){return this.status===et}get enabled(){return this.status!==et}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(w){this._assignValidators(w)}setAsyncValidators(w){this._assignAsyncValidators(w)}addValidators(w){this.setValidators(gn(w,this._rawValidators))}addAsyncValidators(w){this.setAsyncValidators(gn(w,this._rawAsyncValidators))}removeValidators(w){this.setValidators(qt(w,this._rawValidators))}removeAsyncValidators(w){this.setAsyncValidators(qt(w,this._rawAsyncValidators))}hasValidator(w){return zt(this._rawValidators,w)}hasAsyncValidator(w){return zt(this._rawAsyncValidators,w)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(w={}){this.touched=!0,this._parent&&!w.onlySelf&&this._parent.markAsTouched(w)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(w=>w.markAllAsTouched())}markAsUntouched(w={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(g=>{g.markAsUntouched({onlySelf:!0})}),this._parent&&!w.onlySelf&&this._parent._updateTouched(w)}markAsDirty(w={}){this.pristine=!1,this._parent&&!w.onlySelf&&this._parent.markAsDirty(w)}markAsPristine(w={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(g=>{g.markAsPristine({onlySelf:!0})}),this._parent&&!w.onlySelf&&this._parent._updatePristine(w)}markAsPending(w={}){this.status=Ge,!1!==w.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!w.onlySelf&&this._parent.markAsPending(w)}disable(w={}){const g=this._parentMarkedDirty(w.onlySelf);this.status=et,this.errors=null,this._forEachChild(E=>{E.disable({...w,onlySelf:!0})}),this._updateValue(),!1!==w.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...w,skipPristineCheck:g}),this._onDisabledChange.forEach(E=>E(!0))}enable(w={}){const g=this._parentMarkedDirty(w.onlySelf);this.status=fr,this._forEachChild(E=>{E.enable({...w,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:w.emitEvent}),this._updateAncestors({...w,skipPristineCheck:g}),this._onDisabledChange.forEach(E=>E(!1))}_updateAncestors(w){this._parent&&!w.onlySelf&&(this._parent.updateValueAndValidity(w),w.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(w){this._parent=w}getRawValue(){return this.value}updateValueAndValidity(w={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fr||this.status===Ge)&&this._runAsyncValidator(w.emitEvent)),!1!==w.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!w.onlySelf&&this._parent.updateValueAndValidity(w)}_updateTreeValidity(w={emitEvent:!0}){this._forEachChild(g=>g._updateTreeValidity(w)),this.updateValueAndValidity({onlySelf:!0,emitEvent:w.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?et:fr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(w){if(this.asyncValidator){this.status=Ge,this._hasOwnPendingAsyncValidator=!0;const g=W(this.asyncValidator(this));this._asyncValidationSubscription=g.subscribe(E=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(E,{emitEvent:w})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(w,g={}){this.errors=w,this._updateControlsErrors(!1!==g.emitEvent)}get(w){let g=w;return null==g||(Array.isArray(g)||(g=g.split(".")),0===g.length)?null:g.reduce((E,$)=>E&&E._find($),this)}getError(w,g){const E=g?this.get(g):this;return E&&E.errors?E.errors[w]:null}hasError(w,g){return!!this.getError(w,g)}get root(){let w=this;for(;w._parent;)w=w._parent;return w}_updateControlsErrors(w){this.status=this._calculateStatus(),w&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(w)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?et:this.errors?Be:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ge)?Ge:this._anyControlsHaveStatus(Be)?Be:fr}_anyControlsHaveStatus(w){return this._anyControls(g=>g.status===w)}_anyControlsDirty(){return this._anyControls(w=>w.dirty)}_anyControlsTouched(){return this._anyControls(w=>w.touched)}_updatePristine(w={}){this.pristine=!this._anyControlsDirty(),this._parent&&!w.onlySelf&&this._parent._updatePristine(w)}_updateTouched(w={}){this.touched=this._anyControlsTouched(),this._parent&&!w.onlySelf&&this._parent._updateTouched(w)}_registerOnCollectionChange(w){this._onCollectionChange=w}_setUpdateStrategy(w){Xe(w)&&null!=w.updateOn&&(this._updateOn=w.updateOn)}_parentMarkedDirty(w){return!w&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(w){return null}_assignValidators(w){this._rawValidators=Array.isArray(w)?w.slice():w,this._composedValidatorFn=function gt(v){return Array.isArray(v)?qe(v):v||null}(this._rawValidators)}_assignAsyncValidators(w){this._rawAsyncValidators=Array.isArray(w)?w.slice():w,this._composedAsyncValidatorFn=function tt(v){return Array.isArray(v)?ft(v):v||null}(this._rawAsyncValidators)}}const Et=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>mt}),mt="always";function un(v,w,g=mt){(function Pr(v,w){const g=function Ut(v){return v._rawValidators}(v);null!==w.validator?v.setValidators(Rt(g,w.validator)):"function"==typeof g&&v.setValidators([g]);const E=function Nt(v){return v._rawAsyncValidators}(v);null!==w.asyncValidator?v.setAsyncValidators(Rt(E,w.asyncValidator)):"function"==typeof E&&v.setAsyncValidators([E]);const $=()=>v.updateValueAndValidity();Bn(w._rawValidators,$),Bn(w._rawAsyncValidators,$)})(v,w),w.valueAccessor.writeValue(v.value),(v.disabled||"always"===g)&&w.valueAccessor.setDisabledState?.(v.disabled),function ki(v,w){w.valueAccessor.registerOnChange(g=>{v._pendingValue=g,v._pendingChange=!0,v._pendingDirty=!0,"change"===v.updateOn&&Ro(v,w)})}(v,w),function hi(v,w){const g=(E,$)=>{w.valueAccessor.writeValue(E),$&&w.viewToModelUpdate(E)};v.registerOnChange(g),w._registerOnDestroy(()=>{v._unregisterOnChange(g)})}(v,w),function is(v,w){w.valueAccessor.registerOnTouched(()=>{v._pendingTouched=!0,"blur"===v.updateOn&&v._pendingChange&&Ro(v,w),"submit"!==v.updateOn&&v.markAsTouched()})}(v,w),function nr(v,w){if(w.valueAccessor.setDisabledState){const g=E=>{w.valueAccessor.setDisabledState(E)};v.registerOnDisabledChange(g),w._registerOnDestroy(()=>{v._unregisterOnDisabledChange(g)})}}(v,w)}function Bn(v,w){v.forEach(g=>{g.registerOnValidatorChange&&g.registerOnValidatorChange(w)})}function Ro(v,w){v._pendingDirty&&v.markAsDirty(),v.setValue(v._pendingValue,{emitModelToViewChange:!1}),w.viewToModelUpdate(v._pendingValue),v._pendingChange=!1}function Li(v,w){const g=v.indexOf(w);g>-1&&v.splice(g,1)}function Dr(v){return"object"==typeof v&&null!==v&&2===Object.keys(v).length&&"value"in v&&"disabled"in v}const xi=class extends xt{constructor(w=null,g,E){super(function It(v){return(Xe(v)?v.validators:v)||null}(g),function en(v,w){return(Xe(w)?w.asyncValidators:v)||null}(E,g)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(w),this._setUpdateStrategy(g),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xe(g)&&(g.nonNullable||g.initialValueIsDefault)&&(this.defaultValue=Dr(w)?w.value:w)}setValue(w,g={}){this.value=this._pendingValue=w,this._onChange.length&&!1!==g.emitModelToViewChange&&this._onChange.forEach(E=>E(this.value,!1!==g.emitViewToModelChange)),this.updateValueAndValidity(g)}patchValue(w,g={}){this.setValue(w,g)}reset(w=this.defaultValue,g={}){this._applyFormState(w),this.markAsPristine(g),this.markAsUntouched(g),this.setValue(this.value,g),this._pendingChange=!1}_updateValue(){}_anyControls(w){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(w){this._onChange.push(w)}_unregisterOnChange(w){Li(this._onChange,w)}registerOnDisabledChange(w){this._onDisabledChange.push(w)}_unregisterOnDisabledChange(w){Li(this._onDisabledChange,w)}_forEachChild(w){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(w){Dr(w)?(this.value=this._pendingValue=w.value,w.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=w}},Fi={provide:ut,useExisting:(0,u.Gpc)(()=>Ls)},Ns=(()=>Promise.resolve())();let Ls=(()=>{class v extends ut{constructor(g,E,$,Ye,Gt,On){super(),this._changeDetectorRef=Gt,this.callSetDisabledState=On,this.control=new xi,this._registered=!1,this.update=new u.vpe,this._parent=g,this._setValidators(E),this._setAsyncValidators($),this.valueAccessor=function hn(v,w){if(!w)return null;let g,E,$;return Array.isArray(w),w.forEach(Ye=>{Ye.constructor===ue?g=Ye:function Os(v){return Object.getPrototypeOf(v.constructor)===we}(Ye)?E=Ye:$=Ye}),$||E||g||null}(0,Ye)}ngOnChanges(g){if(this._checkForErrors(),!this._registered||"name"in g){if(this._registered&&(this._checkName(),this.formDirective)){const E=g.name.previousValue;this.formDirective.removeControl({name:E,path:this._getPath(E)})}this._setUpControl()}"isDisabled"in g&&this._updateDisabled(g),function ao(v,w){if(!v.hasOwnProperty("model"))return!1;const g=v.model;return!!g.isFirstChange()||!Object.is(w,g.currentValue)}(g,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(g){this.viewModel=g,this.update.emit(g)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){un(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(g){Ns.then(()=>{this.control.setValue(g,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(g){const E=g.isDisabled.currentValue,$=0!==E&&(0,u.D6c)(E);Ns.then(()=>{$&&!this.control.disabled?this.control.disable():!$&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(g){return this._parent?function Bt(v,w){return[...w.path,v]}(g,this._parent):[g]}}return v.\u0275fac=function(g){return new(g||v)(u.Y36(Vn,9),u.Y36(L,10),u.Y36(ae,10),u.Y36(be,10),u.Y36(u.sBO,8),u.Y36(Et,8))},v.\u0275dir=u.lG2({type:v,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Fi]),u.qOj,u.TTD]}),v})(),qi=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({}),v})(),Ri=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({imports:[qi]}),v})(),Hn=(()=>{class v{static withConfig(g){return{ngModule:v,providers:[{provide:Et,useValue:g.callSetDisabledState??mt}]}}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({imports:[Ri]}),v})();var Qa=j(9646),Js=j(4351),Ui=j(9300);class Hs{}class fa{}class zr{constructor(w){this.normalizedNames=new Map,this.lazyUpdate=null,w?this.lazyInit="string"==typeof w?()=>{this.headers=new Map,w.split("\n").forEach(g=>{const E=g.indexOf(":");if(E>0){const $=g.slice(0,E),Ye=$.toLowerCase(),Gt=g.slice(E+1).trim();this.maybeSetNormalizedName($,Ye),this.headers.has(Ye)?this.headers.get(Ye).push(Gt):this.headers.set(Ye,[Gt])}})}:()=>{this.headers=new Map,Object.entries(w).forEach(([g,E])=>{let $;if($="string"==typeof E?[E]:"number"==typeof E?[E.toString()]:E.map(Ye=>Ye.toString()),$.length>0){const Ye=g.toLowerCase();this.headers.set(Ye,$),this.maybeSetNormalizedName(g,Ye)}})}:this.headers=new Map}has(w){return this.init(),this.headers.has(w.toLowerCase())}get(w){this.init();const g=this.headers.get(w.toLowerCase());return g&&g.length>0?g[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(w){return this.init(),this.headers.get(w.toLowerCase())||null}append(w,g){return this.clone({name:w,value:g,op:"a"})}set(w,g){return this.clone({name:w,value:g,op:"s"})}delete(w,g){return this.clone({name:w,value:g,op:"d"})}maybeSetNormalizedName(w,g){this.normalizedNames.has(g)||this.normalizedNames.set(g,w)}init(){this.lazyInit&&(this.lazyInit instanceof zr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(w=>this.applyUpdate(w)),this.lazyUpdate=null))}copyFrom(w){w.init(),Array.from(w.headers.keys()).forEach(g=>{this.headers.set(g,w.headers.get(g)),this.normalizedNames.set(g,w.normalizedNames.get(g))})}clone(w){const g=new zr;return g.lazyInit=this.lazyInit&&this.lazyInit instanceof zr?this.lazyInit:this,g.lazyUpdate=(this.lazyUpdate||[]).concat([w]),g}applyUpdate(w){const g=w.name.toLowerCase();switch(w.op){case"a":case"s":let E=w.value;if("string"==typeof E&&(E=[E]),0===E.length)return;this.maybeSetNormalizedName(w.name,g);const $=("a"===w.op?this.headers.get(g):void 0)||[];$.push(...E),this.headers.set(g,$);break;case"d":const Ye=w.value;if(Ye){let Gt=this.headers.get(g);if(!Gt)return;Gt=Gt.filter(On=>-1===Ye.indexOf(On)),0===Gt.length?(this.headers.delete(g),this.normalizedNames.delete(g)):this.headers.set(g,Gt)}else this.headers.delete(g),this.normalizedNames.delete(g)}}forEach(w){this.init(),Array.from(this.normalizedNames.keys()).forEach(g=>w(this.normalizedNames.get(g),this.headers.get(g)))}}class jt{encodeKey(w){return Er(w)}encodeValue(w){return Er(w)}decodeKey(w){return decodeURIComponent(w)}decodeValue(w){return decodeURIComponent(w)}}const eo=/%(\d[a-f0-9])/gi,cs={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Er(v){return encodeURIComponent(v).replace(eo,(w,g)=>cs[g]??w)}function de(v){return`${v}`}class Ne{constructor(w={}){if(this.updates=null,this.cloneFrom=null,this.encoder=w.encoder||new jt,w.fromString){if(w.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rr(v,w){const g=new Map;return v.length>0&&v.replace(/^\?/,"").split("&").forEach($=>{const Ye=$.indexOf("="),[Gt,On]=-1==Ye?[w.decodeKey($),""]:[w.decodeKey($.slice(0,Ye)),w.decodeValue($.slice(Ye+1))],Mn=g.get(Gt)||[];Mn.push(On),g.set(Gt,Mn)}),g}(w.fromString,this.encoder)}else w.fromObject?(this.map=new Map,Object.keys(w.fromObject).forEach(g=>{const E=w.fromObject[g],$=Array.isArray(E)?E.map(de):[de(E)];this.map.set(g,$)})):this.map=null}has(w){return this.init(),this.map.has(w)}get(w){this.init();const g=this.map.get(w);return g?g[0]:null}getAll(w){return this.init(),this.map.get(w)||null}keys(){return this.init(),Array.from(this.map.keys())}append(w,g){return this.clone({param:w,value:g,op:"a"})}appendAll(w){const g=[];return Object.keys(w).forEach(E=>{const $=w[E];Array.isArray($)?$.forEach(Ye=>{g.push({param:E,value:Ye,op:"a"})}):g.push({param:E,value:$,op:"a"})}),this.clone(g)}set(w,g){return this.clone({param:w,value:g,op:"s"})}delete(w,g){return this.clone({param:w,value:g,op:"d"})}toString(){return this.init(),this.keys().map(w=>{const g=this.encoder.encodeKey(w);return this.map.get(w).map(E=>g+"="+this.encoder.encodeValue(E)).join("&")}).filter(w=>""!==w).join("&")}clone(w){const g=new Ne({encoder:this.encoder});return g.cloneFrom=this.cloneFrom||this,g.updates=(this.updates||[]).concat(w),g}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(w=>this.map.set(w,this.cloneFrom.map.get(w))),this.updates.forEach(w=>{switch(w.op){case"a":case"s":const g=("a"===w.op?this.map.get(w.param):void 0)||[];g.push(de(w.value)),this.map.set(w.param,g);break;case"d":if(void 0===w.value){this.map.delete(w.param);break}{let E=this.map.get(w.param)||[];const $=E.indexOf(de(w.value));-1!==$&&E.splice($,1),E.length>0?this.map.set(w.param,E):this.map.delete(w.param)}}}),this.cloneFrom=this.updates=null)}}class ht{constructor(){this.map=new Map}set(w,g){return this.map.set(w,g),this}get(w){return this.map.has(w)||this.map.set(w,w.defaultValue()),this.map.get(w)}delete(w){return this.map.delete(w),this}has(w){return this.map.has(w)}keys(){return this.map.keys()}}function Vt(v){return typeof ArrayBuffer<"u"&&v instanceof ArrayBuffer}function nn(v){return typeof Blob<"u"&&v instanceof Blob}function Sn(v){return typeof FormData<"u"&&v instanceof FormData}class Nn{constructor(w,g,E,$){let Ye;if(this.url=g,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=w.toUpperCase(),function St(v){switch(v){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||$?(this.body=void 0!==E?E:null,Ye=$):Ye=E,Ye&&(this.reportProgress=!!Ye.reportProgress,this.withCredentials=!!Ye.withCredentials,Ye.responseType&&(this.responseType=Ye.responseType),Ye.headers&&(this.headers=Ye.headers),Ye.context&&(this.context=Ye.context),Ye.params&&(this.params=Ye.params)),this.headers||(this.headers=new zr),this.context||(this.context=new ht),this.params){const Gt=this.params.toString();if(0===Gt.length)this.urlWithParams=g;else{const On=g.indexOf("?");this.urlWithParams=g+(-1===On?"?":On<g.length-1?"&":"")+Gt}}else this.params=new Ne,this.urlWithParams=g}serializeBody(){return null===this.body?null:Vt(this.body)||nn(this.body)||Sn(this.body)||function fn(v){return typeof URLSearchParams<"u"&&v instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ne?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Sn(this.body)?null:nn(this.body)?this.body.type||null:Vt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ne?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(w={}){const g=w.method||this.method,E=w.url||this.url,$=w.responseType||this.responseType,Ye=void 0!==w.body?w.body:this.body,Gt=void 0!==w.withCredentials?w.withCredentials:this.withCredentials,On=void 0!==w.reportProgress?w.reportProgress:this.reportProgress;let Mn=w.headers||this.headers,sr=w.params||this.params;const es=w.context??this.context;return void 0!==w.setHeaders&&(Mn=Object.keys(w.setHeaders).reduce((ds,ts)=>ds.set(ts,w.setHeaders[ts]),Mn)),w.setParams&&(sr=Object.keys(w.setParams).reduce((ds,ts)=>ds.set(ts,w.setParams[ts]),sr)),new Nn(g,E,Ye,{params:sr,headers:Mn,context:es,reportProgress:On,responseType:$,withCredentials:Gt})}}var Fn=(()=>((Fn=Fn||{})[Fn.Sent=0]="Sent",Fn[Fn.UploadProgress=1]="UploadProgress",Fn[Fn.ResponseHeader=2]="ResponseHeader",Fn[Fn.DownloadProgress=3]="DownloadProgress",Fn[Fn.Response=4]="Response",Fn[Fn.User=5]="User",Fn))();class ai{constructor(w,g=200,E="OK"){this.headers=w.headers||new zr,this.status=void 0!==w.status?w.status:g,this.statusText=w.statusText||E,this.url=w.url||null,this.ok=this.status>=200&&this.status<300}}class Yn extends ai{constructor(w={}){super(w),this.type=Fn.ResponseHeader}clone(w={}){return new Yn({headers:w.headers||this.headers,status:void 0!==w.status?w.status:this.status,statusText:w.statusText||this.statusText,url:w.url||this.url||void 0})}}class Oi extends ai{constructor(w={}){super(w),this.type=Fn.Response,this.body=void 0!==w.body?w.body:null}clone(w={}){return new Oi({body:void 0!==w.body?w.body:this.body,headers:w.headers||this.headers,status:void 0!==w.status?w.status:this.status,statusText:w.statusText||this.statusText,url:w.url||this.url||void 0})}}class xa extends ai{constructor(w){super(w,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${w.url||"(unknown url)"}`:`Http failure response for ${w.url||"(unknown url)"}: ${w.status} ${w.statusText}`,this.error=w.error||null}}function Bi(v,w){return{body:w,headers:v.headers,context:v.context,observe:v.observe,params:v.params,reportProgress:v.reportProgress,responseType:v.responseType,withCredentials:v.withCredentials}}let Pa=(()=>{class v{constructor(g){this.handler=g}request(g,E,$={}){let Ye;if(g instanceof Nn)Ye=g;else{let Mn,sr;Mn=$.headers instanceof zr?$.headers:new zr($.headers),$.params&&(sr=$.params instanceof Ne?$.params:new Ne({fromObject:$.params})),Ye=new Nn(g,E,void 0!==$.body?$.body:null,{headers:Mn,context:$.context,params:sr,reportProgress:$.reportProgress,responseType:$.responseType||"json",withCredentials:$.withCredentials})}const Gt=(0,Qa.of)(Ye).pipe((0,Js.b)(Mn=>this.handler.handle(Mn)));if(g instanceof Nn||"events"===$.observe)return Gt;const On=Gt.pipe((0,Ui.h)(Mn=>Mn instanceof Oi));switch($.observe||"body"){case"body":switch(Ye.responseType){case"arraybuffer":return On.pipe((0,te.U)(Mn=>{if(null!==Mn.body&&!(Mn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Mn.body}));case"blob":return On.pipe((0,te.U)(Mn=>{if(null!==Mn.body&&!(Mn.body instanceof Blob))throw new Error("Response is not a Blob.");return Mn.body}));case"text":return On.pipe((0,te.U)(Mn=>{if(null!==Mn.body&&"string"!=typeof Mn.body)throw new Error("Response is not a string.");return Mn.body}));default:return On.pipe((0,te.U)(Mn=>Mn.body))}case"response":return On;default:throw new Error(`Unreachable: unhandled observe type ${$.observe}}`)}}delete(g,E={}){return this.request("DELETE",g,E)}get(g,E={}){return this.request("GET",g,E)}head(g,E={}){return this.request("HEAD",g,E)}jsonp(g,E){return this.request("JSONP",g,{params:(new Ne).append(E,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(g,E={}){return this.request("OPTIONS",g,E)}patch(g,E,$={}){return this.request("PATCH",g,Bi($,E))}post(g,E,$={}){return this.request("POST",g,Bi($,E))}put(g,E,$={}){return this.request("PUT",g,Bi($,E))}}return v.\u0275fac=function(g){return new(g||v)(u.LFG(Hs))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac}),v})();function Uo(v,w){return w(v)}function Bo(v,w){return(g,E)=>w.intercept(g,{handle:$=>v($,E)})}const Xa=new u.OlP("HTTP_INTERCEPTORS"),vi=new u.OlP("HTTP_INTERCEPTOR_FNS");function ws(){let v=null;return(w,g)=>(null===v&&(v=((0,u.f3M)(Xa,{optional:!0})??[]).reduceRight(Bo,Uo)),v(w,g))}let li=(()=>{class v extends Hs{constructor(g,E){super(),this.backend=g,this.injector=E,this.chain=null}handle(g){if(null===this.chain){const E=Array.from(new Set(this.injector.get(vi)));this.chain=E.reduceRight(($,Ye)=>function pa(v,w,g){return(E,$)=>g.runInContext(()=>w(E,Ye=>v(Ye,$)))}($,Ye,this.injector),Uo)}return this.chain(g,E=>this.backend.handle(E))}}return v.\u0275fac=function(g){return new(g||v)(u.LFG(fa),u.LFG(u.lqb))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac}),v})();const k=/^\)\]\}',?\n/;let B=(()=>{class v{constructor(g){this.xhrFactory=g}handle(g){if("JSONP"===g.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _e.y(E=>{const $=this.xhrFactory.build();if($.open(g.method,g.urlWithParams),g.withCredentials&&($.withCredentials=!0),g.headers.forEach((gi,ri)=>$.setRequestHeader(gi,ri.join(","))),g.headers.has("Accept")||$.setRequestHeader("Accept","application/json, text/plain, */*"),!g.headers.has("Content-Type")){const gi=g.detectContentTypeHeader();null!==gi&&$.setRequestHeader("Content-Type",gi)}if(g.responseType){const gi=g.responseType.toLowerCase();$.responseType="json"!==gi?gi:"text"}const Ye=g.serializeBody();let Gt=null;const On=()=>{if(null!==Gt)return Gt;const gi=$.statusText||"OK",ri=new zr($.getAllResponseHeaders()),ro=function ie(v){return"responseURL"in v&&v.responseURL?v.responseURL:/^X-Request-URL:/m.test(v.getAllResponseHeaders())?v.getResponseHeader("X-Request-URL"):null}($)||g.url;return Gt=new Yn({headers:ri,status:$.status,statusText:gi,url:ro}),Gt},Mn=()=>{let{headers:gi,status:ri,statusText:ro,url:Mc}=On(),Ci=null;204!==ri&&(Ci=typeof $.response>"u"?$.responseText:$.response),0===ri&&(ri=Ci?200:0);let dl=ri>=200&&ri<300;if("json"===g.responseType&&"string"==typeof Ci){const rc=Ci;Ci=Ci.replace(k,"");try{Ci=""!==Ci?JSON.parse(Ci):null}catch(I){Ci=rc,dl&&(dl=!1,Ci={error:I,text:Ci})}}dl?(E.next(new Oi({body:Ci,headers:gi,status:ri,statusText:ro,url:Mc||void 0})),E.complete()):E.error(new xa({error:Ci,headers:gi,status:ri,statusText:ro,url:Mc||void 0}))},sr=gi=>{const{url:ri}=On(),ro=new xa({error:gi,status:$.status||0,statusText:$.statusText||"Unknown Error",url:ri||void 0});E.error(ro)};let es=!1;const ds=gi=>{es||(E.next(On()),es=!0);let ri={type:Fn.DownloadProgress,loaded:gi.loaded};gi.lengthComputable&&(ri.total=gi.total),"text"===g.responseType&&$.responseText&&(ri.partialText=$.responseText),E.next(ri)},ts=gi=>{let ri={type:Fn.UploadProgress,loaded:gi.loaded};gi.lengthComputable&&(ri.total=gi.total),E.next(ri)};return $.addEventListener("load",Mn),$.addEventListener("error",sr),$.addEventListener("timeout",sr),$.addEventListener("abort",sr),g.reportProgress&&($.addEventListener("progress",ds),null!==Ye&&$.upload&&$.upload.addEventListener("progress",ts)),$.send(Ye),E.next({type:Fn.Sent}),()=>{$.removeEventListener("error",sr),$.removeEventListener("abort",sr),$.removeEventListener("load",Mn),$.removeEventListener("timeout",sr),g.reportProgress&&($.removeEventListener("progress",ds),null!==Ye&&$.upload&&$.upload.removeEventListener("progress",ts)),$.readyState!==$.DONE&&$.abort()}})}}return v.\u0275fac=function(g){return new(g||v)(u.LFG(J.JF))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac}),v})();const Ae=new u.OlP("XSRF_ENABLED"),Ct=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rn=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ir{}let Qn=(()=>{class v{constructor(g,E,$){this.doc=g,this.platform=E,this.cookieName=$,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const g=this.doc.cookie||"";return g!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,J.Mx)(g,this.cookieName),this.lastCookieString=g),this.lastToken}}return v.\u0275fac=function(g){return new(g||v)(u.LFG(J.K0),u.LFG(u.Lbi),u.LFG(Ct))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac}),v})();function dr(v,w){const g=v.url.toLowerCase();if(!(0,u.f3M)(Ae)||"GET"===v.method||"HEAD"===v.method||g.startsWith("http://")||g.startsWith("https://"))return w(v);const E=(0,u.f3M)(ir).getToken(),$=(0,u.f3M)(rn);return null!=E&&!v.headers.has($)&&(v=v.clone({headers:v.headers.set($,E)})),w(v)}var At=(()=>((At=At||{})[At.Interceptors=0]="Interceptors",At[At.LegacyInterceptors=1]="LegacyInterceptors",At[At.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",At[At.NoXsrfProtection=3]="NoXsrfProtection",At[At.JsonpSupport=4]="JsonpSupport",At[At.RequestsMadeViaParent=5]="RequestsMadeViaParent",At))();function Rn(v,w){return{\u0275kind:v,\u0275providers:w}}function kr(...v){const w=[Pa,B,li,{provide:Hs,useExisting:li},{provide:fa,useExisting:B},{provide:vi,useValue:dr,multi:!0},{provide:Ae,useValue:!0},{provide:ir,useClass:Qn}];for(const g of v)w.push(...g.\u0275providers);return(0,u.MR2)(w)}const dn=new u.OlP("LEGACY_INTERCEPTOR_FN");let Jo=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({providers:[kr(Rn(At.LegacyInterceptors,[{provide:dn,useFactory:ws},{provide:vi,useExisting:dn,multi:!0}]))]}),v})();var el=j(5577),Oa=j(1144),mo=j(576);const ka=["addListener","removeListener"],tl=["addEventListener","removeEventListener"],Na=["on","off"];function Wr(v,w,g,E){if((0,mo.m)(g)&&(E=g,g=void 0),E)return Wr(v,w,g).pipe((0,se.Z)(E));const[$,Ye]=function bs(v){return(0,mo.m)(v.addEventListener)&&(0,mo.m)(v.removeEventListener)}(v)?tl.map(Gt=>On=>v[Gt](w,On,g)):function qn(v){return(0,mo.m)(v.addListener)&&(0,mo.m)(v.removeListener)}(v)?ka.map(ti(v,w)):function ea(v){return(0,mo.m)(v.on)&&(0,mo.m)(v.off)}(v)?Na.map(ti(v,w)):[];if(!$&&(0,Oa.z)(v))return(0,el.z)(Gt=>Wr(Gt,w,g))((0,fe.Xf)(v));if(!$)throw new TypeError("Invalid event target");return new _e.y(Gt=>{const On=(...Mn)=>Gt.next(1<Mn.length?Mn:Mn[0]);return $(On),()=>Ye(On)})}function ti(v,w){return g=>E=>v[g](w,E)}var qr=j(7579),Tn=j(4482),To=j(5032);function Dn(v){return(0,Tn.e)((w,g)=>{(0,fe.Xf)(v).subscribe((0,ke.x)(g,()=>g.complete(),To.Z)),!g.closed&&w.subscribe(g)})}var bl=j(727);class jr extends bl.w0{constructor(w,g){super()}schedule(w,g=0){return this}}const an={setInterval(v,w,...g){const{delegate:E}=an;return E?.setInterval?E.setInterval(v,w,...g):setInterval(v,w,...g)},clearInterval(v){const{delegate:w}=an;return(w?.clearInterval||clearInterval)(v)},delegate:void 0};var ci=j(8737);const to={now:()=>(to.delegate||Date).now(),delegate:void 0};class ta{constructor(w,g=ta.now){this.schedulerActionCtor=w,this.now=g}schedule(w,g=0,E){return new this.schedulerActionCtor(this,w).schedule(E,g)}}ta.now=to.now;const jo=new class Ga extends ta{constructor(w,g=ta.now){super(w,g),this.actions=[],this._active=!1}flush(w){const{actions:g}=this;if(this._active)return void g.push(w);let E;this._active=!0;do{if(E=w.execute(w.state,w.delay))break}while(w=g.shift());if(this._active=!1,E){for(;w=g.shift();)w.unsubscribe();throw E}}}(class ma extends jr{constructor(w,g){super(w,g),this.scheduler=w,this.work=g,this.pending=!1}schedule(w,g=0){var E;if(this.closed)return this;this.state=w;const $=this.id,Ye=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(Ye,$,g)),this.pending=!0,this.delay=g,this.id=null!==(E=this.id)&&void 0!==E?E:this.requestAsyncId(Ye,this.id,g),this}requestAsyncId(w,g,E=0){return an.setInterval(w.flush.bind(w,this),E)}recycleAsyncId(w,g,E=0){if(null!=E&&this.delay===E&&!1===this.pending)return g;null!=g&&an.clearInterval(g)}execute(w,g){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(w,g);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(w,g){let $,E=!1;try{this.work(w)}catch(Ye){E=!0,$=Ye||new Error("Scheduled action threw falsy error")}if(E)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:w,scheduler:g}=this,{actions:E}=g;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ci.P)(E,this),null!=w&&(this.id=this.recycleAsyncId(g,w,null)),this.delay=null,super.unsubscribe()}}}),Io=jo;var Ho=j(6036),Si=j.t(Ho,2),bi=j(2813),Cs=j.t(bi,2);const $l=["pdfViewerContainer"];function Yi(v,w){const g=new v.EventBus;return function zl(v,w){Wr(v,"documentload").pipe(Dn(w)).subscribe(()=>{const g=document.createEvent("CustomEvent");g.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(g)}),Wr(v,"pagerendered").pipe(Dn(w)).subscribe(({pageNumber:g,cssTransform:E,source:$})=>{const Ye=document.createEvent("CustomEvent");Ye.initCustomEvent("pagerendered",!0,!0,{pageNumber:g,cssTransform:E}),$.div.dispatchEvent(Ye)}),Wr(v,"textlayerrendered").pipe(Dn(w)).subscribe(({pageNumber:g,source:E})=>{const $=document.createEvent("CustomEvent");$.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:g}),E.textLayerDiv.dispatchEvent($)}),Wr(v,"pagechanging").pipe(Dn(w)).subscribe(({pageNumber:g,source:E})=>{const $=document.createEvent("UIEvents");$.initEvent("pagechanging",!0,!0),$.pageNumber=g,E.container.dispatchEvent($)}),Wr(v,"pagesinit").pipe(Dn(w)).subscribe(({source:g})=>{const E=document.createEvent("CustomEvent");E.initCustomEvent("pagesinit",!0,!0,null),g.container.dispatchEvent(E)}),Wr(v,"pagesloaded").pipe(Dn(w)).subscribe(({pagesCount:g,source:E})=>{const $=document.createEvent("CustomEvent");$.initCustomEvent("pagesloaded",!0,!0,{pagesCount:g}),E.container.dispatchEvent($)}),Wr(v,"scalechange").pipe(Dn(w)).subscribe(({scale:g,presetValue:E,source:$})=>{const Ye=document.createEvent("UIEvents");Ye.initEvent("scalechange",!0,!0),Ye.scale=g,Ye.presetValue=E,$.container.dispatchEvent(Ye)}),Wr(v,"updateviewarea").pipe(Dn(w)).subscribe(({location:g,source:E})=>{const $=document.createEvent("UIEvents");$.initEvent("updateviewarea",!0,!0),$.location=g,E.container.dispatchEvent($)}),Wr(v,"find").pipe(Dn(w)).subscribe(({source:g,type:E,query:$,phraseSearch:Ye,caseSensitive:Gt,highlightAll:On,findPrevious:Mn})=>{if(g===window)return;const sr=document.createEvent("CustomEvent");sr.initCustomEvent("find"+E,!0,!0,{query:$,phraseSearch:Ye,caseSensitive:Gt,highlightAll:On,findPrevious:Mn}),window.dispatchEvent(sr)}),Wr(v,"attachmentsloaded").pipe(Dn(w)).subscribe(({attachmentsCount:g,source:E})=>{const $=document.createEvent("CustomEvent");$.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:g}),E.container.dispatchEvent($)}),Wr(v,"sidebarviewchanged").pipe(Dn(w)).subscribe(({view:g,source:E})=>{const $=document.createEvent("CustomEvent");$.initCustomEvent("sidebarviewchanged",!0,!0,{view:g}),E.outerContainer.dispatchEvent($)}),Wr(v,"pagemode").pipe(Dn(w)).subscribe(({mode:g,source:E})=>{const $=document.createEvent("CustomEvent");$.initCustomEvent("pagemode",!0,!0,{mode:g}),E.pdfViewer.container.dispatchEvent($)}),Wr(v,"namedaction").pipe(Dn(w)).subscribe(({action:g,source:E})=>{const $=document.createEvent("CustomEvent");$.initCustomEvent("namedaction",!0,!0,{action:g}),E.pdfViewer.container.dispatchEvent($)}),Wr(v,"presentationmodechanged").pipe(Dn(w)).subscribe(({active:g,switchInProgress:E})=>{const $=document.createEvent("CustomEvent");$.initCustomEvent("presentationmodechanged",!0,!0,{active:g,switchInProgress:E}),window.dispatchEvent($)}),Wr(v,"outlineloaded").pipe(Dn(w)).subscribe(({outlineCount:g,source:E})=>{const $=document.createEvent("CustomEvent");$.initCustomEvent("outlineloaded",!0,!0,{outlineCount:g}),E.container.dispatchEvent($)})}(g,w),g}function _t(v,w,g){v[w]=g}function ji(){return typeof window>"u"}ji()||_t(Si,"verbosity",Ho.VerbosityLevel.INFOS);var Zr=(()=>{return(v=Zr||(Zr={}))[v.DISABLED=0]="DISABLED",v[v.ENABLED=1]="ENABLED",v[v.ENHANCED=2]="ENHANCED",Zr;var v})();let Go=(()=>{class v{constructor(g,E){if(this.element=g,this.ngZone=E,this.isVisible=!1,this._cMapsUrl=typeof Si<"u"?`https://unpkg.com/pdfjs-dist@${Ho.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=Zr.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new qr.x,this.afterLoadComplete=new u.vpe,this.pageRendered=new u.vpe,this.pageInitialized=new u.vpe,this.textLayerRendered=new u.vpe,this.onError=new u.vpe,this.onProgress=new u.vpe,this.pageChange=new u.vpe(!0),ji())return;let $;$=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${Ho.version}/legacy/build/pdf.worker.min.js`,_t(Ho.GlobalWorkerOptions,"workerSrc",$)}set cMapsUrl(g){this._cMapsUrl=g}set page(g){const E=g=parseInt(g,10)||1;this._pdf&&(g=this.getValidPageNumber(g)),this._page=g,E!==g&&this.pageChange.emit(g)}set renderText(g){this._renderText=g}set renderTextMode(g){this._renderTextMode=g}set originalSize(g){this._originalSize=g}set showAll(g){this._showAll=g}set stickToPage(g){this._stickToPage=g}set zoom(g){g<=0||(this._zoom=g)}get zoom(){return this._zoom}set zoomScale(g){this._zoomScale=g}get zoomScale(){return this._zoomScale}set rotation(g){"number"==typeof g&&g%90==0?this._rotation=g:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(g){this._externalLinkTarget=g}set autoresize(g){this._canAutoResize=Boolean(g)}set fitToPage(g){this._fitToPage=Boolean(g)}set showBorders(g){this._showBorders=Boolean(g)}static getLinkTarget(g){switch(g){case"blank":return bi.LinkTarget.BLANK;case"none":return bi.LinkTarget.NONE;case"self":return bi.LinkTarget.SELF;case"parent":return bi.LinkTarget.PARENT;case"top":return bi.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const g=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=g?!1===this.isVisible&&null!=g&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(g){if(!ji()&&this.isVisible)if("src"in g)this.loadPDF();else if(this._pdf){if("renderText"in g?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:Zr.DISABLED,this.resetPdfDocument()):"showAll"in g&&this.resetPdfDocument(),"page"in g){const{page:E}=g;if(E.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const g=this.getCurrentViewer();(0,Re.D)(this._pdf.getPage(g.currentPageNumber)).pipe(Dn(this.destroy$)).subscribe({next:E=>{const $=this._rotation||E.rotate,Ye=E.getViewport({scale:this._zoom,rotation:$}).width*v.CSS_UNITS;let Gt=this._zoom,On=!0;if(!this._originalSize||this._fitToPage&&Ye>this.pdfViewerContainer.nativeElement.clientWidth){const Mn=E.getViewport({scale:1,rotation:$});Gt=this.getScale(Mn.width,Mn.height),On=!this._stickToPage}g._setScale(Gt,On)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const g={},E=v.getLinkTarget(this._externalLinkTarget);return E&&(g.externalLinkTarget=E),g}setupMultiPageViewer(){_t(Si,"disableTextLayer",!this._renderText);const g=Yi(Cs,this.destroy$);Wr(g,"pagerendered").pipe(Dn(this.destroy$)).subscribe($=>{this.pageRendered.emit($)}),Wr(g,"pagesinit").pipe(Dn(this.destroy$)).subscribe($=>{this.pageInitialized.emit($)}),Wr(g,"pagechanging").pipe(Dn(this.destroy$)).subscribe(({pageNumber:$})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=$,this.pageChange.emit($)},100)}),Wr(g,"textlayerrendered").pipe(Dn(this.destroy$)).subscribe($=>{this.textLayerRendered.emit($)}),this.pdfMultiPageLinkService=new bi.PDFLinkService({eventBus:g,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new bi.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:g});const E={eventBus:g,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:Zr.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new bi.PDFViewer(E),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){_t(Si,"disableTextLayer",!this._renderText);const g=Yi(Cs,this.destroy$);Wr(g,"pagechanging").pipe(Dn(this.destroy$)).subscribe(({pageNumber:$})=>{$!==this._page&&(this.page=$)}),Wr(g,"pagerendered").pipe(Dn(this.destroy$)).subscribe($=>{this.pageRendered.emit($)}),Wr(g,"pagesinit").pipe(Dn(this.destroy$)).subscribe($=>{this.pageInitialized.emit($)}),Wr(g,"textlayerrendered").pipe(Dn(this.destroy$)).subscribe($=>{this.textLayerRendered.emit($)}),this.pdfSinglePageLinkService=new bi.PDFLinkService({eventBus:g,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new bi.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:g});const E={eventBus:g,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:Zr.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new bi.PDFSinglePageViewer(E),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(g){return g<1?1:g>this._pdf.numPages?this._pdf.numPages:g}getDocumentParams(){const g=typeof this.src;if(!this._cMapsUrl)return this.src;const E={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===g?E.url=this.src:"object"===g&&(void 0!==this.src.byteLength?E.data=this.src:Object.assign(E,this.src)),E}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=Ho.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=E=>{this.onProgress.emit(E)};const g=this.src;(0,Re.D)(this.loadingTask.promise).pipe(Dn(this.destroy$)).subscribe({next:E=>{this._pdf=E,this.lastLoaded=g,this.afterLoadComplete.emit(E),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:E=>{this.lastLoaded=null,this.onError.emit(E)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const g=this.getCurrentViewer();(0!==this._rotation||g.pagesRotation!==this._rotation)&&setTimeout(()=>{g.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{g.currentPageNumber=this._page}),this.updateSize()}getScale(g,E){const $=this._showBorders?2*v.BORDER_WIDTH:0,Ye=this.pdfViewerContainer.nativeElement.clientWidth-$,Gt=this.pdfViewerContainer.nativeElement.clientHeight-$;if(0===Gt||0===E||0===Ye||0===g)return 1;let On=1;switch(this._zoomScale){case"page-fit":On=Math.min(Gt/E,Ye/g);break;case"page-height":On=Gt/E;break;default:On=Ye/g}return this._zoom*On/v.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){ji()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){ji()||this.ngZone.runOutsideAngular(()=>{Wr(window,"resize").pipe(function Cl(v,w=jo){return(0,Tn.e)((g,E)=>{let $=null,Ye=null,Gt=null;const On=()=>{if($){$.unsubscribe(),$=null;const sr=Ye;Ye=null,E.next(sr)}};function Mn(){const sr=Gt+v,es=w.now();if(es<sr)return $=this.schedule(void 0,sr-es),void E.add($);On()}g.subscribe((0,ke.x)(E,sr=>{Ye=sr,Gt=w.now(),$||($=w.schedule(Mn,v),E.add($))},()=>{On(),E.complete()},void 0,()=>{Ye=$=null}))})}(100),(0,Ui.h)(()=>this._canAutoResize&&!!this._pdf),Dn(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return v.CSS_UNITS=96/72,v.BORDER_WIDTH=9,v.\u0275fac=function(g){return new(g||v)(u.Y36(u.SBq),u.Y36(u.R0b))},v.\u0275cmp=u.Xpm({type:v,selectors:[["pdf-viewer"]],viewQuery:function(g,E){if(1&g&&u.Gf($l,5),2&g){let $;u.iGM($=u.CRH())&&(E.pdfViewerContainer=$.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[u.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(g,E){1&g&&(u.TgZ(0,"div",0,1),u._UZ(2,"div",2),u.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),v})(),$o=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({}),v})();var Rr=j(5087);const $a_mobileAndTabletCheck=function(){let v=!1;return w=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(w)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(w.substr(0,4)))&&(v=!0),v;var w};var pi=j(1986),lr=j(4724);function El(v,w){1&v&&(u.TgZ(0,"div",6)(1,"div",7)(2,"span",8),u._uU(3,"Trending"),u.qZA(),u.TgZ(4,"i",9),u._uU(5," trending_up"),u.qZA()()())}function Hr(v,w){if(1&v&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&v){const g=u.oxw().$implicit;u.xp6(1),u.Oqu(g.label)}}function su(v,w){if(1&v&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&v){const g=u.oxw().$implicit;u.xp6(1),u.Oqu(g.description)}}function zs(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",22),u.NdJ("click",function(){u.CHM(g);const $=u.oxw().$implicit,Ye=u.oxw(2);return u.KtG(Ye.launch($))}),u.TgZ(1,"a"),u._uU(2,"View Topics"),u.qZA()()}}function za(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",12)(1,"div",13)(2,"div",14),u._uU(3),u.YNc(4,Hr,2,1,"span",15),u.qZA(),u.YNc(5,su,2,1,"div",16),u.YNc(6,zs,3,0,"div",17),u.TgZ(7,"div",18)(8,"button",19),u.NdJ("click",function(){const Ye=u.CHM(g).$implicit,Gt=u.oxw(2);return u.KtG(Gt.launch(Ye))}),u._uU(9),u.qZA()()()()}if(2&v){const g=w.$implicit;u.xp6(3),u.hij("",g.name," "),u.xp6(1),u.Q6J("ngIf",g.label),u.xp6(1),u.Q6J("ngIf",g.description),u.xp6(1),u.Q6J("ngIf",g.link),u.xp6(3),u.Oqu(g.btn?g.btn:"Launch course")}}function Al(v,w){if(1&v&&(u.TgZ(0,"div",10),u.YNc(1,za,10,5,"div",11),u.qZA()),2&v){const g=u.oxw();u.xp6(1),u.Q6J("ngForOf",g.trending)}}function ed(v,w){1&v&&(u.TgZ(0,"div",23)(1,"div",7)(2,"span",8),u._uU(3,"Design"),u.qZA()()())}function Es(v,w){if(1&v&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&v){const g=u.oxw().$implicit;u.xp6(1),u.Oqu(g.label)}}function La(v,w){if(1&v&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&v){const g=u.oxw().$implicit;u.xp6(1),u.Oqu(g.description)}}function nl(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",22),u.NdJ("click",function(){u.CHM(g);const $=u.oxw().$implicit,Ye=u.oxw(2);return u.KtG(Ye.launch($))}),u.TgZ(1,"a"),u._uU(2,"View Topics"),u.qZA()()}}function no(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",12)(1,"div",13)(2,"div",14),u._uU(3),u.YNc(4,Es,2,1,"span",15),u.qZA(),u.YNc(5,La,2,1,"div",16),u.YNc(6,nl,3,0,"div",17),u.TgZ(7,"div",18)(8,"button",19),u.NdJ("click",function(){const Ye=u.CHM(g).$implicit,Gt=u.oxw(2);return u.KtG(Gt.launch(Ye))}),u._uU(9),u.qZA()()()()}if(2&v){const g=w.$implicit;u.xp6(3),u.hij("",g.name," "),u.xp6(1),u.Q6J("ngIf",g.label),u.xp6(1),u.Q6J("ngIf",g.description),u.xp6(1),u.Q6J("ngIf",g.link),u.xp6(3),u.Oqu(g.btn?g.btn:"Launch course")}}function ou(v,w){if(1&v&&(u.TgZ(0,"div",10),u.YNc(1,no,10,5,"div",11),u.qZA()),2&v){const g=u.oxw();u.xp6(1),u.Q6J("ngForOf",g.design)}}function Yr(v,w){1&v&&(u.TgZ(0,"div",24)(1,"div",7)(2,"span",8),u._uU(3,"Develop"),u.qZA()()())}function Sl(v,w){if(1&v&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&v){const g=u.oxw().$implicit;u.xp6(1),u.Oqu(g.label)}}function _a(v,w){if(1&v&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&v){const g=u.oxw().$implicit;u.xp6(1),u.Oqu(g.description)}}function Tl(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",22),u.NdJ("click",function(){u.CHM(g);const $=u.oxw().$implicit,Ye=u.oxw(2);return u.KtG(Ye.launch($))}),u.TgZ(1,"a"),u._uU(2,"View Topics"),u.qZA()()}}function As(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",12)(1,"div",13)(2,"div",14),u._uU(3),u.YNc(4,Sl,2,1,"span",15),u.qZA(),u.YNc(5,_a,2,1,"div",16),u.YNc(6,Tl,3,0,"div",17),u.TgZ(7,"div",18)(8,"button",19),u.NdJ("click",function(){const Ye=u.CHM(g).$implicit,Gt=u.oxw(2);return u.KtG(Gt.launch(Ye))}),u._uU(9),u.qZA()()()()}if(2&v){const g=w.$implicit;u.xp6(3),u.hij("",g.name," "),u.xp6(1),u.Q6J("ngIf",g.label),u.xp6(1),u.Q6J("ngIf",g.description),u.xp6(1),u.Q6J("ngIf",g.link),u.xp6(3),u.Oqu(g.btn?g.btn:"Launch course")}}function Fa(v,w){if(1&v&&(u.TgZ(0,"div",10),u.YNc(1,As,10,5,"div",11),u.qZA()),2&v){const g=u.oxw();u.xp6(1),u.Q6J("ngForOf",g.develop)}}function rl(v,w){1&v&&(u.TgZ(0,"div",25)(1,"div",7)(2,"span",8),u._uU(3,"Deploy"),u.qZA()()())}function il(v,w){if(1&v&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&v){const g=u.oxw().$implicit;u.xp6(1),u.Oqu(g.label)}}function _o(v,w){if(1&v&&(u.TgZ(0,"div",28),u._uU(1),u.qZA()),2&v){const g=u.oxw().$implicit;u.xp6(1),u.Oqu(g.description)}}function Wl(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",29),u.NdJ("click",function(){u.CHM(g);const $=u.oxw().$implicit,Ye=u.oxw(2);return u.KtG(Ye.launch($))}),u.TgZ(1,"a"),u._uU(2,"View Topics"),u.qZA()()}}function A(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",12)(1,"div",13)(2,"div",14),u._uU(3),u.YNc(4,il,2,1,"span",15),u.qZA(),u.YNc(5,_o,2,1,"div",26),u.YNc(6,Wl,3,0,"div",27),u.TgZ(7,"div",18)(8,"button",19),u.NdJ("click",function(){const Ye=u.CHM(g).$implicit,Gt=u.oxw(2);return u.KtG(Gt.launch(Ye))}),u._uU(9),u.qZA()()()()}if(2&v){const g=w.$implicit;u.xp6(3),u.hij("",g.name," "),u.xp6(1),u.Q6J("ngIf",g.label),u.xp6(1),u.Q6J("ngIf",g.description),u.xp6(1),u.Q6J("ngIf",g.link),u.xp6(3),u.Oqu(g.btn?g.btn:"Launch course")}}function T(v,w){if(1&v&&(u.TgZ(0,"div",10),u.YNc(1,A,10,5,"div",11),u.qZA()),2&v){const g=u.oxw();u.xp6(1),u.Q6J("ngForOf",g.deploy)}}let b=(()=>{var v;class w{constructor(E,$){this.firestore=E,this.router=$,this.trending=[],this.design=[],this.develop=[],this.deploy=[],this.courses=[],this.expand={d:!0,d1:!1,d2:!1,d3:!1},null!=this.firestore.data[lr.nW.COURSES]&&(this.courses=this.firestore.data[lr.nW.COURSES],this.sortOrder()),this.firestore.refreshEvent.subscribe(Ye=>{Ye==lr.nW.COURSES&&(this.courses=this.firestore.data[lr.nW.COURSES],this.sortOrder())}),this.router.events.subscribe(Ye=>{Ye instanceof Rr.m2&&this.updateView(this.router.url)})}sortOrder(){this.courses=this.courses.sort((E,$)=>E.order-$.order),this.trending=this.courses.filter(E=>E.category&&E.category.includes("trending")),this.design=this.courses.filter(E=>E.category&&E.category.includes("design")),this.develop=this.courses.filter(E=>E.category&&E.category.includes("develop")),this.deploy=this.courses.filter(E=>E.category&&E.category.includes("deploy"))}updateView(E){let $=E&&E.includes("/home/")?E.replace("/home/",""):null;if($)switch($){case"design":this.expand={d:!1,d1:!0,d2:!1,d3:!1};break;case"develop":this.expand={d:!1,d1:!1,d2:!0,d3:!1};break;case"deploy":this.expand={d:!1,d1:!1,d2:!1,d3:!0};break;default:this.expand={d:!0,d1:!1,d2:!1,d3:!1}}}launch(E){var $=this.firestore.data[lr.nW.TOPICS];if(null==E.topics||0==E.topics.length)this.router.navigateByUrl("/pages/wip");else if(null!=E.topics&&1==E.topics.length){var Ye=$.filter(Gt=>null!=E.topics&&Gt.id==E.topics[0])[0];Ye&&this.launchTopic(Ye)}else this.router.navigateByUrl("courses/"+E.id)}launchTopic(E){if(E.lock)window.location.href="https://learn.vvsk.in";else if(E.type==pi.z.PDF){let $="/pdfviewer?url="+E.url+"&back="+window.location.href;E.cors&&($+="&cors=true"),this.router.navigateByUrl($)}else E.type==pi.z.URL?window.open(E.url):E.type==pi.z.HTML&&this.router.navigateByUrl("pages/"+E.id)}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(lr.C5),u.Y36(Rr.F0))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-courses"]],decls:9,vars:8,consts:[[1,"c"],["class","row m-0 p-1 py-2 d design",4,"ngIf"],["class","row m-0 px-1",4,"ngIf"],["class","row m-0 p-1 py-2 d1 design",4,"ngIf"],["class","row m-0 py-2 d2 develop",4,"ngIf"],["class","row m-0 py-2 d3 deploy",4,"ngIf"],[1,"row","m-0","p-1","py-2","d","design"],[1,"text-center","pointer"],[1,"align-middle"],[1,"mx-1","material-icons","align-middle"],[1,"row","m-0","px-1"],["class","col-12 col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4"],[1,"m-2","p-3","border","border-secondary","bg-light"],[1,"n"],["class","badge rounded-pill bg-info text-dark","style","font-size: 10px;vertical-align: middle;",4,"ngIf"],["class","t",4,"ngIf"],["class","v pointer",3,"click",4,"ngIf"],[1,"b","text-center","mt-2"],[1,"btn","btn-primary",3,"click"],[1,"badge","rounded-pill","bg-info","text-dark",2,"font-size","10px","vertical-align","middle"],[1,"t"],[1,"v","pointer",3,"click"],[1,"row","m-0","p-1","py-2","d1","design"],[1,"row","m-0","py-2","d2","develop"],[1,"row","m-0","py-2","d3","deploy"],["class","t mt-2",4,"ngIf"],["class","v mt-2 pointer",3,"click",4,"ngIf"],[1,"t","mt-2"],[1,"v","mt-2","pointer",3,"click"]],template:function(E,$){1&E&&(u.TgZ(0,"div",0),u.YNc(1,El,6,0,"div",1),u.YNc(2,Al,2,1,"div",2),u.YNc(3,ed,4,0,"div",3),u.YNc(4,ou,2,1,"div",2),u.YNc(5,Yr,4,0,"div",4),u.YNc(6,Fa,2,1,"div",2),u.YNc(7,rl,4,0,"div",5),u.YNc(8,T,2,1,"div",2),u.qZA()),2&E&&(u.xp6(1),u.Q6J("ngIf",$.expand.d),u.xp6(1),u.Q6J("ngIf",$.expand.d),u.xp6(1),u.Q6J("ngIf",$.expand.d1),u.xp6(1),u.Q6J("ngIf",$.expand.d1),u.xp6(1),u.Q6J("ngIf",$.expand.d2),u.xp6(1),u.Q6J("ngIf",$.expand.d2),u.xp6(1),u.Q6J("ngIf",$.expand.d3),u.xp6(1),u.Q6J("ngIf",$.expand.d3))},dependencies:[J.sg,J.O5],styles:[".n[_ngcontent-%COMP%]{font-weight:600;font-size:24px}.v[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:underline}.d[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-weight:600;background-color:#252526;border-bottom:3px solid goldenrod}.d1[_ngcontent-%COMP%], .d2[_ngcontent-%COMP%], .d3[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600;background-color:#252526;border-bottom:3px solid goldenrod}"]}),w})(),M=(()=>{var v;class w{constructor(E){this.router=E,this.isMobile=$a_mobileAndTabletCheck(),this.menu=!this.isMobile;var $=sessionStorage.getItem("redirect");$&&(sessionStorage.removeItem("redirect"),this.router.navigateByUrl($))}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(Rr.F0))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-home"]],decls:34,vars:0,consts:[[1,"row","m-0"],[1,"c","p-3","shadow","bg-card"],[1,"row"],[1,"col-12","text-center"],[2,"font-size","24px","font-weight","600"],["href","https://impulse.vvsk.in"],[2,"color","grey","font-size","20px","font-weight","600"],["href","https://vvsk.in"],[1,"col-12","text-center","mt-1"],["routerLink","/home/design",1,"pointer"],[1,"r"],[1,"p"],[2,"font-size","20px"],["routerLink","/home/develop",1,"pointer"],["routerLink","/home/deploy",1,"pointer"]],template:function(E,$){1&E&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u._uU(5,"Welcome to "),u.TgZ(6,"a",5),u._uU(7,"IMPULSE"),u.qZA()(),u.TgZ(8,"div",6),u._uU(9,"Self Learning Platform "),u.qZA(),u.TgZ(10,"div")(11,"a",7),u._uU(12,"V.V.S.K Chaitanya"),u.qZA()()(),u.TgZ(13,"div",8)(14,"span",9)(15,"span",10),u._uU(16,"De"),u.qZA(),u.TgZ(17,"span",11),u._uU(18,"sign"),u.qZA()(),u.TgZ(19,"span",12),u._uU(20," \u2192 "),u.qZA(),u.TgZ(21,"span",13)(22,"span",10),u._uU(23,"De"),u.qZA(),u.TgZ(24,"span",11),u._uU(25,"velop"),u.qZA()(),u.TgZ(26,"span",12),u._uU(27," \u2192 "),u.qZA(),u.TgZ(28,"span",14)(29,"span",10),u._uU(30,"De"),u.qZA(),u.TgZ(31,"span",11),u._uU(32,"ploy"),u.qZA()()()()()(),u._UZ(33,"app-courses"))},dependencies:[Rr.rH,b],styles:[".bg-card[_ngcontent-%COMP%]{background:linear-gradient(45deg,cornsilk,white)}.txl[_ngcontent-%COMP%]{font-weight:bolder;font-size:1rem;color:#b8860b;padding:5px;border:3px solid goldenrod;border-radius:10px}.r[_ngcontent-%COMP%], .p[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.r[_ngcontent-%COMP%]{color:red}.p[_ngcontent-%COMP%]{color:#5f9ea0}"]}),w})(),z=(()=>{var v;class w{}return(v=w).\u0275fac=function(E){return new(E||v)},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(E,$){1&E&&(u._UZ(0,"div",0),u.TgZ(1,"div",1)(2,"div",2),u._UZ(3,"img",3),u.TgZ(4,"span",4)(5,"i",5),u._uU(6,"edit"),u.qZA()(),u.TgZ(7,"div",6)(8,"div",7),u._uU(9,"V.V.S.K Chaitanya"),u.qZA(),u.TgZ(10,"div",8),u._uU(11,"Software Engineer"),u.qZA()()()(),u.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),u._uU(16,"menu_book"),u.qZA(),u.TgZ(17,"span"),u._uU(18,"Courses"),u.qZA()(),u.TgZ(19,"div",12)(20,"i",5),u._uU(21,"assignment"),u.qZA(),u.TgZ(22,"span"),u._uU(23,"Assessments"),u.qZA()(),u.TgZ(24,"div",13)(25,"i",5),u._uU(26,"notifications"),u.qZA(),u.TgZ(27,"span"),u._uU(28,"Notifications"),u.qZA()(),u.TgZ(29,"div",14)(30,"i",5),u._uU(31,"person"),u.qZA(),u.TgZ(32,"span"),u._uU(33,"Update Profile"),u.qZA()(),u.TgZ(34,"div",15)(35,"i",5),u._uU(36,"logout"),u.qZA(),u.TgZ(37,"span"),u._uU(38,"Logout"),u.qZA()()()())},dependencies:[Rr.rH],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),w})(),pe=(()=>{var v;class w{}return(v=w).\u0275fac=function(E){return new(E||v)},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(E,$){1&E&&u._UZ(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),w})();var Ce=j(7396);function rt(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"i",6),u.NdJ("click",function(){u.CHM(g);const $=u.oxw(2);return u.KtG($.expand=!$.expand)}),u._uU(1),u.qZA()}if(2&v){const g=u.oxw(2);u.xp6(1),u.Oqu(g.expand?"expand_more":"chevron_right")}}function Tt(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div")(1,"app-category",9),u.NdJ("select",function($){u.CHM(g);const Ye=u.oxw(3);return u.KtG(Ye.select.emit($))}),u.qZA()()}if(2&v){const g=w.$implicit,E=u.oxw(3);u.xp6(1),u.Q6J("category",g)("current",E.current)}}function Zt(v,w){if(1&v&&(u.TgZ(0,"div",7),u.YNc(1,Tt,2,2,"div",8),u.qZA()),2&v){const g=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",g.category.categories)}}const cn=function(v){return{"active-node":v}};function er(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",1)(1,"div",2),u.YNc(2,rt,2,1,"i",3),u.TgZ(3,"span",4),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.select.emit($.category))}),u._uU(4),u.qZA()(),u.YNc(5,Zt,2,1,"div",5),u.qZA()}if(2&v){const g=u.oxw();u.xp6(1),u.Q6J("ngClass",u.VKq(4,cn,null!=g.current&&g.category.id==g.current.id)),u.xp6(1),u.Q6J("ngIf",null!=g.category.categories&&g.category.categories.length>=0),u.xp6(2),u.Oqu(g.category.name),u.xp6(1),u.Q6J("ngIf",g.expand)}}let ui=(()=>{var v;class w{constructor(){this.select=new u.vpe,this.expand=!1}}return(v=w).\u0275fac=function(E){return new(E||v)},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(E,$){1&E&&u.YNc(0,er,6,6,"div",0),2&E&&u.Q6J("ngIf",$.category)},dependencies:[J.mk,J.sg,J.O5,v],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),w})();function Kr(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",11)(1,"app-category",12),u.NdJ("select",function($){u.CHM(g);const Ye=u.oxw();return u.KtG(Ye.select($))}),u.qZA()()}if(2&v){const g=w.$implicit,E=u.oxw();u.xp6(1),u.Q6J("category",g)("current",E.category)}}function Qi(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.deleteConfirm=!0)}),u.TgZ(1,"i",8),u._uU(2,"delete"),u.qZA()()}}function Hi(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),u._uU(5,"New Category"),u.qZA(),u.TgZ(6,"button",19),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.addCategoryModal=!1)}),u.qZA()(),u.TgZ(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),u.NdJ("ngModelChange",function($){u.CHM(g);const Ye=u.oxw();return u.KtG(Ye.categoryName=$)}),u.qZA()()()(),u.TgZ(11,"div",24)(12,"button",25),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.addCategory())}),u._uU(13,"Add"),u.qZA()()()()()}if(2&v){const g=u.oxw();u.xp6(10),u.Q6J("ngModel",g.categoryName)}}function Ss(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),u._uU(5,"Delete Category"),u.qZA(),u.TgZ(6,"button",19),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.deleteConfirm=!1)}),u.qZA()(),u.TgZ(7,"div",20)(8,"div",21)(9,"div",22),u._uU(10),u.qZA()()(),u.TgZ(11,"div",24)(12,"button",25),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.deleteCategory())}),u._uU(13,"Delete"),u.qZA()()()()()}if(2&v){const g=u.oxw();u.xp6(10),u.hij(" Confirm to delete ",null==g.category?null:g.category.name," ")}}let Tr=(()=>{var v;class w{constructor(E){this.firestore=E,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh(),this.firestore.refreshEvent.subscribe($=>{$==lr.nW.CATEGORIES&&this.refresh()})}refresh(){this.categories=[];let E=this.firestore.data[lr.nW.CATEGORIES];E.filter($=>null==$.parent).forEach($=>this.categories.push($)),this.categories.forEach($=>this.linkCategories($,E)),console.log(this.categories)}linkCategories(E,$){E.categories=[],$.filter(Ye=>null!=Ye.parent&&Ye.parent==E.id).forEach(Ye=>{this.linkCategories(Ye,$),E.categories?.push(Ye)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let E={name:this.categoryName,active:!0};this.category&&(E.parent=this.category.id),(0,Ce.ET)((0,Ce.hJ)(this.firestore.firestore,lr.nW.CATEGORIES),E).then($=>{alert("Category has been added succesfully ID:"+$.id),this.firestore.refresh(lr.nW.CATEGORIES)})}else alert("Please enter category name")}isNotEmpty(E){return null!=E&&""!=E}select(E){console.log("Selected Category",E),this.category=E}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&(0,Ce.oe)((0,Ce.JU)(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.firestore.refresh(lr.nW.CATEGORIES)})}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(lr.C5))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(E,$){1&E&&(u.TgZ(0,"div",0)(1,"div",1)(2,"span"),u._uU(3,"Categories"),u.qZA()()(),u.TgZ(4,"div",2)(5,"div",3),u.YNc(6,Kr,2,2,"div",4),u.qZA()(),u.TgZ(7,"div",5)(8,"div",6)(9,"button",7),u.NdJ("click",function(){return $.addCategoryModal=!0}),u.TgZ(10,"i",8),u._uU(11,"add"),u.qZA()(),u.YNc(12,Qi,3,0,"button",9),u.qZA()(),u.YNc(13,Hi,14,1,"div",10),u.YNc(14,Ss,14,1,"div",10)),2&E&&(u.xp6(6),u.Q6J("ngForOf",$.categories),u.xp6(6),u.Q6J("ngIf",null!=$.category),u.xp6(1),u.Q6J("ngIf",$.addCategoryModal),u.xp6(1),u.Q6J("ngIf",$.deleteConfirm))},dependencies:[J.sg,J.O5,ue,bt,Ls,ui],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),w})();var Ws=j(7280);let ni=(()=>{var v;class w{constructor(E,$){this.router=E,this.fs=$,this.provider=new Ws.hJ;var Ye=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect"),$.refreshUser.subscribe(Gt=>{null!=Gt&&Ye?(console.log("Login Success, Redirecting to ",Ye),this.router.navigateByUrl(Ye)):(console.log("Login Success, Redirecting to home"),this.router.navigate(["home"]))})}login(){this.fs.loader.show(),(0,Ws.rh)(this.fs.auth,this.provider).then(E=>{Ws.hJ.credentialFromResult(E);let Gt=E.user;console.log("LoginComponent: SignInUser",Gt),this.fs.log(lr.zW.LOGIN,{id:Gt.uid,email:Gt.email,name:Gt.displayName,contact:Gt.phoneNumber,image:Gt.photoURL,role:pi.u.USER})}).catch(E=>{this.fs.loader.hide(),console.error(E),Ws.hJ.credentialFromError(E)})}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(Rr.F0),u.Y36(lr.C5))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-login"]],decls:13,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],["src","../../assets/icons/google-logo.png"],[3,"click"]],template:function(E,$){1&E&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h5"),u._uU(4,"Welcome to "),u.TgZ(5,"b"),u._uU(6,"IMPULSE"),u.qZA(),u._uU(7," Network"),u.qZA(),u.TgZ(8,"p",2),u._uU(9,"To access course contents, login with your google account"),u.qZA()(),u._UZ(10,"img",3),u.TgZ(11,"button",4),u.NdJ("click",function(){return $.login()}),u._uU(12,"Sign in"),u.qZA()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]}),w})(),di=(()=>{var v;class w{constructor(E,$){this.firestore=E,this.router=$,this.html=""}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(lr.C5),u.Y36(Rr.F0))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(E,$){}}),w})(),Ac=(()=>{var v;class w{constructor(E,$){this.router=E,this.fs=$,$.refreshUser.subscribe(Ye=>this.router.navigate(Ye?["dashboard"]:["home"]))}logout(){(0,Ws.w7)(this.fs.auth).then(()=>this.fs.logout())}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(Rr.F0),u.Y36(lr.C5))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-logout"]],decls:7,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],[3,"click"]],template:function(E,$){1&E&&(u.TgZ(0,"div",0)(1,"div",1)(2,"p",2),u._uU(3," Are you sure you want to log-off? "),u._UZ(4,"br"),u.qZA(),u.TgZ(5,"button",3),u.NdJ("click",function(){return $.logout()}),u._uU(6,"Logout"),u.qZA()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]}),w})(),zo=(()=>{var v;class w{}return(v=w).\u0275fac=function(E){return new(E||v)},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-assessment"]],decls:2,vars:0,template:function(E,$){1&E&&(u.TgZ(0,"p"),u._uU(1,"assessment works!"),u.qZA())}}),w})();function Xi(v,w){if(1&v&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td")(6,"i",3),u._uU(7,"open_in_new"),u.qZA(),u.TgZ(8,"i",4),u._uU(9,"edit"),u.qZA(),u.TgZ(10,"i",5),u._uU(11,"delete"),u.qZA()()()),2&v){const g=w.$implicit;u.xp6(2),u.Oqu(g.name),u.xp6(2),u.Oqu(g.course)}}let au=(()=>{var v;class w{constructor(){this.assessments=[],this.assessments.push({id:"asdf",name:"Assess 1",course:"Course 1",content:""})}}return(v=w).\u0275fac=function(E){return new(E||v)},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-assessments"]],decls:14,vars:1,consts:[[1,"container","mt-3"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","pointer"],[1,"material-icons","mx-2","pointer","text-info"],[1,"material-icons","mx-2","pointer","text-danger"]],template:function(E,$){1&E&&(u.TgZ(0,"div",0)(1,"h2"),u._uU(2,"Assessments"),u.qZA(),u.TgZ(3,"table",1)(4,"thead")(5,"tr")(6,"th"),u._uU(7,"Name"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"Course"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"Actions"),u.qZA()()(),u.TgZ(12,"tbody"),u.YNc(13,Xi,12,2,"tr",2),u.qZA()()()),2&E&&(u.xp6(13),u.Q6J("ngForOf",$.assessments))},dependencies:[J.sg]}),w})();function Gd(v,w){if(1&v&&(u.TgZ(0,"div",6)(1,"i",7),u._uU(2,"home"),u.qZA(),u.TgZ(3,"i",8),u._uU(4,"chevron_right"),u.qZA(),u.TgZ(5,"span",9),u._uU(6),u.qZA()()),2&v){const g=u.oxw();u.xp6(1),u.Q6J("routerLink","/home"),u.xp6(5),u.Oqu(g.course.name)}}function Ti(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",10)(1,"div",11),u.NdJ("click",function(){const Ye=u.CHM(g).$implicit,Gt=u.oxw();return u.KtG(Gt.launch(Ye))}),u.TgZ(2,"span",12),u._uU(3),u.qZA(),u.TgZ(4,"span",13)(5,"i",14),u._uU(6,"open_in_new"),u.qZA()()()()}if(2&v){const g=w.$implicit;u.xp6(3),u.Oqu(g.name)}}let Il=(()=>{var v;class w{constructor(E,$,Ye){this.firestore=E,this.route=$,this.router=Ye,this.courses=[],this.id=null,this.topics=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),null!=this.firestore.data[lr.nW.COURSES]&&(this.courses=this.firestore.data[lr.nW.COURSES],this.course=this.courses.filter(E=>E.id==this.id)[0]),null!=this.firestore.data[lr.nW.TOPICS]&&this.setTopics(),this.firestore.refreshEvent.subscribe(E=>{E==lr.nW.COURSES&&(this.courses=this.firestore.data[lr.nW.COURSES],this.course=this.courses.filter($=>$.id==this.id)[0]),E==lr.nW.TOPICS&&this.setTopics()})}setTopics(){let E=[];E=this.firestore.data[lr.nW.TOPICS];let $=E.filter(Ye=>null!=Ye.id&&this.course?.topics?.includes(Ye.id));this.course?.topics?.forEach(Ye=>{$.forEach(Gt=>{Ye==Gt.id&&this.topics.push(Gt)})})}launch(E){if(E.lock)window.location.href="https://learn.vvsk.in";else if(E.type==pi.z.PDF){let $="/pdfviewer?url="+E.url+"&back="+window.location.href;E.cors&&($+="&cors=true"),this.router.navigateByUrl($)}else E.type==pi.z.URL?window.open(E.url):E.type==pi.z.HTML&&this.router.navigateByUrl("pages/"+E.id)}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(lr.C5),u.Y36(Rr.gz),u.Y36(Rr.F0))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-course"]],decls:6,vars:2,consts:[[1,"row","m-0","px-2"],["class","col-12 mt-3",4,"ngIf"],[1,"container"],[1,"row","mt-3","px-2"],[1,"p-0"],["class","","style","border-top:solid 3px #6495ed",4,"ngFor","ngForOf"],[1,"col-12","mt-3"],[1,"material-icons","ml-2","b","i","align-middle","pointer",3,"routerLink"],[1,"material-icons","ml-2","b","i","align-middle","pointer"],[1,"b","mx-2","align-middle","d-inline-block","text-decoration-underline","pointer"],[1,"",2,"border-top","solid 3px #6495ed"],[1,"p-3","mb-3","pointer",2,"border","1px solid lightgray",3,"click"],[1,"l","fs-5","fw-bold"],[1,"float-end"],[1,"material-icons"]],template:function(E,$){1&E&&(u.TgZ(0,"div",0),u.YNc(1,Gd,7,2,"div",1),u.qZA(),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4),u.YNc(5,Ti,7,1,"div",5),u.qZA()()()),2&E&&(u.xp6(1),u.Q6J("ngIf",$.course),u.xp6(4),u.Q6J("ngForOf",$.topics))},dependencies:[J.sg,J.O5,Rr.rH],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:#6495ed;font-size:25px;font-weight:500}.b[_ngcontent-%COMP%]{font-weight:400;font-size:28px;color:#2185d0}.i[_ngcontent-%COMP%]{font-size:35px}.t[_ngcontent-%COMP%]{font-size:30px}"]}),w})(),Do=(()=>{var v;class w{constructor(E,$){this.firestore=E,this.router=$}canActivate(E,$){if(null==this.firestore.user){if(E.url.length>0){let Ye=[];E.url.forEach(Gt=>Ye.push(Gt.path)),sessionStorage.setItem("redirect",Ye.join("/"))}this.router.navigateByUrl("login")}return!0}}return(v=w).\u0275fac=function(E){return new(E||v)(u.LFG(lr.C5),u.LFG(Rr.F0))},v.\u0275prov=u.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),w})();var Ur=j(5861);function Wa(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"span",6),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.goback())}),u.TgZ(1,"i",7),u._uU(2,"cancel"),u.qZA()()}}function Dl(v,w){1&v&&(u.TgZ(0,"div",8)(1,"div",9)(2,"span")(3,"i",10),u._uU(4,"chevron_left"),u.qZA(),u._uU(5,"PREV"),u.qZA()(),u.TgZ(6,"div",9)(7,"span",11),u._uU(8,"NEXT"),u.TgZ(9,"i",10),u._uU(10,"chevron_right"),u.qZA()()()())}function sl(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"button",17),u.NdJ("click",function(){u.CHM(g);const $=u.oxw(2);return u.KtG($.editPageModal=!0)}),u.TgZ(1,"i",16),u._uU(2,"edit"),u.qZA()()}}function Sc(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",12)(1,"div",13),u.YNc(2,sl,3,0,"button",14),u.TgZ(3,"button",15),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.addPageModal=!0)}),u.TgZ(4,"i",16),u._uU(5,"add"),u.qZA()()()()}if(2&v){const g=u.oxw();u.xp6(2),u.Q6J("ngIf",g.page)}}function Tc(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h4",22),u._uU(5,"Add Page"),u.qZA(),u.TgZ(6,"button",23),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.addPageModal=!1)}),u.qZA()(),u.TgZ(7,"div",24)(8,"div",25)(9,"div",26)(10,"textarea",27),u.NdJ("ngModelChange",function($){u.CHM(g);const Ye=u.oxw();return u.KtG(Ye.newPage=$)}),u.qZA()()()(),u.TgZ(11,"div",28)(12,"button",29),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.addPage())}),u._uU(13,"Add"),u.qZA()()()()()}if(2&v){const g=u.oxw();u.xp6(10),u.Q6J("ngModel",g.newPage)}}function Va(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",18)(1,"div",30)(2,"div",20)(3,"div",21)(4,"h4",22),u._uU(5,"Edit Page"),u.qZA(),u.TgZ(6,"button",23),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.editPageModal=!1)}),u.qZA()(),u.TgZ(7,"div",24)(8,"div",25)(9,"div",26)(10,"textarea",27),u.NdJ("ngModelChange",function($){u.CHM(g);const Ye=u.oxw();return u.KtG(Ye.page=$)}),u.qZA()()()(),u.TgZ(11,"div",28)(12,"button",31),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.deletePage())}),u._uU(13,"Delete"),u.qZA(),u.TgZ(14,"button",29),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.editPage())}),u._uU(15,"Update"),u.qZA()()()()()}if(2&v){const g=u.oxw();u.xp6(10),u.Q6J("ngModel",g.page)}}let Wo=(()=>{var v;class w{constructor(E,$){this.firestore=E,this.route=$,this.id=null,this.page=void 0,this.newPage="",this.pageIndex=0,this.addPageModal=!1,this.editPageModal=!1,this.referenceWidth=window.innerWidth/3,this.back=this.route.snapshot.queryParamMap.get("back")}ngOnDestroy(){}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),console.log("Topic ID: "+this.id),null==this.firestore.data[lr.nW.TOPICS]?this.firestore.refreshEvent.subscribe(E=>{E==lr.nW.TOPICS&&this.refresh()}):this.refresh()}refresh(){var E=void 0;this.id&&null!=this.firestore.data[lr.nW.TOPICS]&&(E=this.firestore.data[lr.nW.TOPICS].filter($=>$.id==this.id)[0]),E&&(this.topic=E),this.topic?.pages&&this.topic?.pages[0]&&(this.page=this.topic.pages[0],this.updateView(),E.head&&window.postMessage("ToggleHeader"))}save(){var E=this;return(0,Ur.Z)(function*(){E.topic&&(yield(0,Ce.pl)((0,Ce.JU)((0,Ce.hJ)(E.firestore.firestore,lr.nW.TOPICS),E.topic.id),E.topic))})()}updateView(){if(this.topic?.id){var E=document.getElementById("3593661b72952003");console.log(E),E&&this.page&&(E.innerHTML=this.page),E&&(E.style.height=window.innerHeight-130+"px")}}react(E){console.log("Click Event: ",E);let $=E.target;$&&"close"==$.id&&(this.goback(),E.stopImmediatePropagation()),E.clientX<this.referenceWidth?this.prev():E.clientX>2*this.referenceWidth&&this.next()}goback(){this.back&&(console.log("redirecting to "+this.back),window.location.href=this.back)}next(){this.topic&&null!=this.topic.pages&&this.pageIndex!=this.topic?.pages?.length-1&&(this.pageIndex++,this.page=this.topic.pages[this.pageIndex],this.updateView())}prev(){this.topic&&null!=this.topic.pages&&0!=this.pageIndex&&(this.pageIndex--,this.page=this.topic.pages[this.pageIndex],this.updateView())}addPage(){var E=this;return(0,Ur.Z)(function*(){E.topic&&(null==E.topic.pages&&(E.topic.pages=[]),E.topic.pages.push(E.newPage),yield E.save(),alert("Page Added"),E.pageIndex=E.topic.pages.length-1,E.page=E.topic.pages[E.pageIndex],E.addPageModal=!1,E.newPage="")})()}deletePage(){var E=this;return(0,Ur.Z)(function*(){E.topic&&null!=E.topic.pages&&E.page&&(E.topic.pages.splice(E.pageIndex,1),yield E.save(),alert("Page Deleted"),E.pageIndex=0,E.page=E.topic.pages[E.pageIndex],E.editPageModal=!1)})()}editPage(){var E=this;return(0,Ur.Z)(function*(){E.topic&&null!=E.topic.pages&&E.page&&(E.topic.pages[E.pageIndex]=E.page,yield E.save(),alert("Page Updated"),E.page=E.topic.pages[E.pageIndex],E.editPageModal=!1)})()}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(lr.C5),u.Y36(Rr.gz))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-topic"]],decls:7,vars:5,consts:[[3,"click"],["style","position: absolute; top: 80px; right:10px;z-index:1000;",3,"click",4,"ngIf"],["id","3593661b72952003",2,"overflow-y","auto"],["class","row m-0 fo",4,"ngIf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[2,"position","absolute","top","80px","right","10px","z-index","1000",3,"click"],["id","close",1,"material-icons","pointer","text-primary"],[1,"row","m-0","fo"],[1,"col-6"],[1,"material-icons"],[2,"float","right"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],[1,"btn","btn-warning",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-dialog","modal-lg"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(E,$){1&E&&(u.TgZ(0,"div",0),u.NdJ("click",function(Gt){return $.react(Gt)}),u.YNc(1,Wa,3,0,"span",1),u._UZ(2,"div",2),u.YNc(3,Dl,11,0,"div",3),u.qZA(),u.YNc(4,Sc,6,1,"div",4),u.YNc(5,Tc,14,1,"div",5),u.YNc(6,Va,16,1,"div",5)),2&E&&(u.xp6(1),u.Q6J("ngIf",$.back),u.xp6(2),u.Q6J("ngIf",$.topic&&$.topic.pages&&$.topic.pages.length>1),u.xp6(1),u.Q6J("ngIf",$.firestore.isAdmin),u.xp6(1),u.Q6J("ngIf",$.addPageModal),u.xp6(1),u.Q6J("ngIf",$.editPageModal))},dependencies:[J.O5,ue,bt,Ls],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]{float:right;font-size:20px;padding:10px;cursor:pointer}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{vertical-align:sub;margin-right:5px}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin:0 10px;padding:5px;vertical-align:sub}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:60px;right:30px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.fo[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}"]}),w})();function Ua(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",2)(1,"div",3)(2,"input",4),u.NdJ("ngModelChange",function($){u.CHM(g);const Ye=u.oxw();return u.KtG(Ye.key=$)}),u.qZA()(),u.TgZ(3,"div",5)(4,"button",6),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.fetch())}),u._uU(5,"Fetch"),u.qZA()()()}if(2&v){const g=u.oxw();u.xp6(2),u.Q6J("ngModel",g.key)}}function qo(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td")(4,"i",11),u.NdJ("click",function(){const Ye=u.CHM(g).$implicit,Gt=u.oxw(2);return u.KtG(Gt.edit(Ye))}),u._uU(5,"edit"),u.qZA()()()}if(2&v){const g=w.$implicit;u.xp6(2),u.Oqu(g.id)}}function na(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",2)(1,"div",7)(2,"table",8)(3,"thead")(4,"tr")(5,"th"),u._uU(6,"Document Key"),u.qZA(),u.TgZ(7,"th"),u._uU(8,"Action"),u.qZA()()(),u.TgZ(9,"tbody"),u.YNc(10,qo,6,1,"tr",9),u.TgZ(11,"tr")(12,"th"),u._uU(13,"Add New Document"),u.qZA(),u.TgZ(14,"th")(15,"i",10),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.edit({}))}),u._uU(16,"add"),u.qZA()()()()()()()}if(2&v){const g=u.oxw();u.xp6(10),u.Q6J("ngForOf",g.documents)}}function ol(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h4",16),u._uU(5,"Document Data"),u.qZA(),u.TgZ(6,"button",17),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.document=void 0)}),u.qZA()(),u.TgZ(7,"div",18)(8,"div",19)(9,"div",20)(10,"textarea",21),u.NdJ("ngModelChange",function($){u.CHM(g);const Ye=u.oxw();return u.KtG(Ye.data=$)}),u.qZA()()()(),u.TgZ(11,"div",22)(12,"i",23),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.save())}),u._uU(13,"save"),u.qZA(),u.TgZ(14,"i",24),u.NdJ("click",function(){u.CHM(g);const $=u.oxw();return u.KtG($.delete())}),u._uU(15,"delete"),u.qZA()()()()()}if(2&v){const g=u.oxw();u.xp6(10),u.Q6J("ngModel",g.data)}}let Ba=(()=>{var v;class w{constructor(E){this.firestore=E,this.documents=[]}edit(E){this.document=E,this.data=JSON.stringify(this.document?.data(),null,1)}fetch(){if(!this.key)return;this.documents=[];let E=(0,Ce.hJ)(this.firestore.firestore,this.key);const $=(0,Ce.IO)(E);(0,Ce.PL)($).then(Ye=>{Ye.forEach(Gt=>{this.documents.push(Gt)})})}save(){var E=this;return(0,Ur.Z)(function*(){if(E.data&&E.key&&E.document){var $=void 0;try{$=JSON.parse(E.data)}catch(Ye){return console.error(Ye),void alert("Error while parsing document data, please check and retry")}E.document?.id?(yield(0,Ce.pl)((0,Ce.JU)((0,Ce.hJ)(E.firestore.firestore,E.key),E.document?.id),$),alert("Document Updated.")):$.id?(yield(0,Ce.pl)((0,Ce.JU)((0,Ce.hJ)(E.firestore.firestore,E.key),$.id),$),alert("Document Added.")):(yield(0,Ce.ET)((0,Ce.hJ)(E.firestore.firestore,E.key),$),alert("Document Added.")),E.document=void 0}})()}delete(){var E=this;return(0,Ur.Z)(function*(){E.data&&(!E.key||!E.document||(yield(0,Ce.oe)((0,Ce.JU)((0,Ce.hJ)(E.firestore.firestore,E.key),E.document?.id)),E.document=void 0))})()}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(lr.C5))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-admin"]],decls:3,vars:3,consts:[["class","row m-0",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"row","m-0"],[1,"mt-3","col-6","text-end"],["type","text","placeholder","Collection",3,"ngModel","ngModelChange"],[1,"mt-3","col-6"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"p-3"],[1,"table"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","text-info","pointer",3,"click"],[1,"m-2","material-icons","pointer",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"m-2","text-primary","material-icons","pointer",3,"click"],[1,"m-2","text-danger","material-icons","pointer",3,"click"]],template:function(E,$){1&E&&(u.YNc(0,Ua,6,1,"div",0),u.YNc(1,na,17,1,"div",0),u.YNc(2,ol,16,1,"div",1)),2&E&&(u.Q6J("ngIf",$.firestore.isAdmin),u.xp6(1),u.Q6J("ngIf",$.firestore.isAdmin),u.xp6(1),u.Q6J("ngIf",$.document))},dependencies:[J.sg,J.O5,ue,bt,Ls],styles:[".modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),w})();function ql(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"span",7),u.NdJ("click",function(){u.CHM(g);const $=u.oxw(2);return u.KtG($.goback())}),u.TgZ(1,"i",8),u._uU(2,"cancel"),u.qZA()()}}function xl(v,w){if(1&v&&(u.TgZ(0,"span",9),u._UZ(1,"button",10),u.qZA()),2&v){const g=w.index,E=u.oxw(2);u.xp6(1),u.Q6J("ngClass",g+1==E.page?"bg-primary":"bg-secondary")}}function Ic(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"pdf-viewer",11),u.NdJ("after-load-complete",function($){u.CHM(g);const Ye=u.oxw(2);return u.KtG(Ye.callBackFn($))}),u.qZA()}if(2&v){const g=u.oxw(2);u.Q6J("src",g.url)("rotation",0)("original-size",!1)("show-all",!1)("page",g.page)("fit-to-page",!0)("zoom",1)("zoom-scale","page-height")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function al(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"pdf-viewer",11),u.NdJ("after-load-complete",function($){u.CHM(g);const Ye=u.oxw(2);return u.KtG(Ye.callBackFn($))}),u.qZA()}if(2&v){const g=u.oxw(2);u.Q6J("src",g.url)("rotation",0)("original-size",!1)("show-all",!1)("page",g.page)("fit-to-page",!1)("zoom",.8)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function ya(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"span",1),u.NdJ("click",function(){u.CHM(g);const $=u.oxw(3);return u.KtG($.prev())}),u.TgZ(1,"i",15),u._uU(2,"chevron_left"),u.qZA(),u.TgZ(3,"span",16),u._uU(4,"PREV"),u.qZA()()}}function lu(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"span",17),u.NdJ("click",function(){u.CHM(g);const $=u.oxw(3);return u.KtG($.next())}),u.TgZ(1,"span",16),u._uU(2,"NEXT"),u.qZA(),u.TgZ(3,"i",15),u._uU(4,"chevron_right"),u.qZA()()}}function Kl(v,w){if(1&v&&(u.TgZ(0,"div",12)(1,"div",13),u.YNc(2,ya,5,0,"span",0),u.qZA(),u.TgZ(3,"div",13),u.YNc(4,lu,5,0,"span",14),u.qZA()()),2&v){const g=u.oxw(2);u.xp6(2),u.Q6J("ngIf",g.page>1),u.xp6(2),u.Q6J("ngIf",g.page<g.numPages)}}const ll=function(){return[]};function td(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",1),u.NdJ("click",function($){u.CHM(g);const Ye=u.oxw();return u.KtG(Ye.react($))}),u.TgZ(1,"div"),u.YNc(2,ql,3,0,"span",2),u.TgZ(3,"div",3),u.YNc(4,xl,2,1,"span",4),u.qZA(),u.YNc(5,Ic,1,13,"pdf-viewer",5),u.YNc(6,al,1,13,"pdf-viewer",5),u.qZA(),u.YNc(7,Kl,5,2,"div",6),u.qZA()}if(2&v){const g=u.oxw();u.xp6(2),u.Q6J("ngIf",g.back),u.xp6(2),u.Q6J("ngForOf",u.DdM(5,ll).constructor(g.numPages)),u.xp6(1),u.Q6J("ngIf",!g.isMobile),u.xp6(1),u.Q6J("ngIf",g.isMobile),u.xp6(1),u.Q6J("ngIf",0!=g.numPages)}}let Dc=(()=>{var v;class w{constructor(E,$){this.route=E,this.http=$,this.numPages=0,this.isMobile=$a_mobileAndTabletCheck(),this.page=1,this.referenceWidth=window.innerWidth/3,console.log("isMobile: "+this.isMobile),this.url=this.route.snapshot.queryParamMap.get("url"),this.back=this.route.snapshot.queryParamMap.get("back"),this.cors=this.route.snapshot.queryParamMap.get("cors"),this.url&&this.cors&&this.http.get(this.url).subscribe({next:Ye=>{console.log(Ye)},error:Ye=>{console.error(Ye)},complete:()=>{console.log("complete")}})}callBackFn(E){this.numPages=E.numPages}react(E){console.log("Click Event: ",E);let $=E.target;$&&"close"==$.id&&(this.goback(),E.stopImmediatePropagation()),E.clientX<this.referenceWidth?this.prev():E.clientX>2*this.referenceWidth&&this.next()}next(){this.page>=this.numPages||this.page++}prev(){this.page<=1||this.page--}goback(){this.back&&(console.log("redirecting to "+this.back),window.location.href=this.back)}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(Rr.gz),u.Y36(Pa))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-viewer"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],["style","position: absolute; top: 80px; right:10px;z-index:1000;",3,"click",4,"ngIf"],["id","navs",1,"text-center"],["class","mx-1",4,"ngFor","ngForOf"],[3,"src","rotation","original-size","show-all","page","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders","after-load-complete",4,"ngIf"],["class","row m-0 fo",4,"ngIf"],[2,"position","absolute","top","80px","right","10px","z-index","1000",3,"click"],["id","close",1,"material-icons","pointer","text-primary"],[1,"mx-1"],[2,"border","none","height","5px",3,"ngClass"],[3,"src","rotation","original-size","show-all","page","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders","after-load-complete"],[1,"row","m-0","fo"],[1,"col-6"],["style","float:right",3,"click",4,"ngIf"],[1,"material-icons"],[1,"align-midde"],[2,"float","right",3,"click"]],template:function(E,$){1&E&&u.YNc(0,td,8,6,"div",0),2&E&&u.Q6J("ngIf",$.url)},dependencies:[J.mk,J.sg,J.O5,Go],styles:["pdf-viewer[_ngcontent-%COMP%]{height:80vh;margin-left:-5px;margin-top:10px}#navs[_ngcontent-%COMP%]{margin-top:30px}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin:0 10px;padding:5px;vertical-align:sub}.fo[_ngcontent-%COMP%]{position:sticky;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}#close[_ngcontent-%COMP%]{border-radius:15px}"]}),w})();const nd=[{path:"",component:M},{path:"home",component:M},{path:"home/:focus",component:M},{path:"admin",component:Ba},{path:"login",component:ni},{path:"dashboard",component:di},{path:"logout",component:Ac},{path:"account",component:z},{path:"profile",component:pe},{path:"categories",component:Tr},{path:"topics/:id",component:Wo},{path:"pages/:id",component:Wo},{path:"page/:id",component:j(1527).I},{path:"courses",component:b},{path:"courses/:id",component:Il,canActivate:[Do]},{path:"assessments",component:au},{path:"assessments/:id",component:zo},{path:"pdfviewer",component:Dc}];let xc=(()=>{var v;class w{}return(v=w).\u0275fac=function(E){return new(E||v)},v.\u0275mod=u.oAB({type:v}),v.\u0275inj=u.cJS({imports:[Rr.Bz.forRoot(nd),Rr.Bz]}),w})();var rd=j(7272),Zl=j(5698),Ji=j(9718);function Ql(v,w){return w?g=>(0,rd.z)(w.pipe((0,Zl.q)(1),function Yl(){return(0,Tn.e)((v,w)=>{v.subscribe((0,ke.x)(w,To.Z))})}()),g.pipe(Ql(v))):(0,el.z)((g,E)=>(0,fe.Xf)(v(g,E)).pipe((0,Zl.q)(1),(0,Ji.h)(g)))}var Qr=j(3532);function cl(v,w){if(1&v&&(u.TgZ(0,"div",4)(1,"h4",6),u._uU(2),u.qZA()()),2&v){const g=u.oxw();u.xp6(2),u.Oqu(g.firestore.user.name)}}const uu=function(v){return{active:v}};function Jl(v,w){if(1&v){const g=u.EpF();u.TgZ(0,"div",7),u.NdJ("click",function(){const Ye=u.CHM(g).$implicit,Gt=u.oxw();return u.KtG(Gt.focus(Ye.route))}),u.TgZ(1,"i",8),u._uU(2),u.qZA(),u.TgZ(3,"span",9),u._uU(4),u.qZA()()}if(2&v){const g=w.$implicit,E=u.oxw();u.Q6J("ngClass",u.VKq(3,uu,E.active=="/"+g.route)),u.xp6(2),u.Oqu(g.icon),u.xp6(2),u.Oqu(g.name)}}let wr=(()=>{var v;class w{constructor(E,$,Ye){this.router=E,this.route=$,this.firestore=Ye,this.close=new u.vpe,this.active="",this.menus=[],this.active=this.router.url,this.user=Ye.user,this.load(),this.router.events.subscribe(Gt=>{Gt instanceof Rr.m2&&(this.active=this.router.url)}),Ye.refreshUser.subscribe(Gt=>{this.user=Gt,this.load()})}load(){this.menus=[],this.user?"ADMIN"==this.user.role?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Admin",icon:"settings",route:"admin"}),this.menus.push({name:"Categories",icon:"category",route:"categories"}),this.menus.push({name:"Courses",icon:"menu_book",route:"courses"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):"CLIENT"==this.user.role?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Assessments",icon:"assignment",route:"assessments"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):"USER"==this.user.role&&(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Design",icon:"architecture",route:"home/design"}),this.menus.push({name:"Develop",icon:"code",route:"home/develop"}),this.menus.push({name:"Deploy",icon:"construction",route:"home/deploy"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Design",icon:"architecture",route:"home/design"}),this.menus.push({name:"Develop",icon:"code",route:"home/develop"}),this.menus.push({name:"Deploy",icon:"construction",route:"home/deploy"}),this.menus.push({name:"Login",icon:"login",route:"login"}))}focus(E){this.router.navigate([E]),setTimeout(()=>this.close.emit(),100)}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(Rr.F0),u.Y36(Rr.gz),u.Y36(lr.C5))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-menu"]],outputs:{close:"close"},decls:7,vars:2,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],["class","m",4,"ngIf"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"margin-left","10px"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(E,$){1&E&&(u.TgZ(0,"div",0)(1,"div",1)(2,"i",2),u.NdJ("click",function(){return $.close.emit(!0)}),u._uU(3,"close"),u.qZA()(),u.YNc(4,cl,3,1,"div",3),u.TgZ(5,"div",4),u.YNc(6,Jl,5,5,"div",5),u.qZA()()),2&E&&(u.xp6(4),u.Q6J("ngIf",$.firestore.user),u.xp6(2),u.Q6J("ngForOf",$.menus))},dependencies:[J.mk,J.sg,J.O5],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),w})(),Br=(()=>{var v;class w{}return(v=w).\u0275fac=function(E){return new(E||v)},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-logo"]],decls:10,vars:0,consts:[["width","200","height","80","viewBox","0 0 400 150"],["id","SvgjsG6266","featurekey","rootContainer","transform","matrix(1,0,0,1,0,0)","fill","#f9e1cf"],["y","0","height","1","width","1","opacity","0"],["y","122","width","370","height","5"],["id","SvgjsG6267","featurekey","symbolFeature-0","transform","matrix(1.028017879379319,0,0,1.028017879379319,-5.140089396896595,12.444349912652363)","fill","#fdfaa4"],["xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd","d","M5,78.067c0-7.466,0-49.264,0-56.729C5,10.333,11.833,5.333,20.933,5.405  c7.466,0,50.264,0,57.729,0c10.837,0,15.933,7.095,15.933,14.933c0,7.466,0,52.264,0,59.729C94.595,90.333,88.667,95,78.662,95  c-7.466,0-50.263,0-57.729,0C11,95,5,88.667,5,78.067z M23.399,12.872c-7.419,0-10.933,2.466-10.933,9.932  c0,7.466,0,34.865,0,34.865h7.466l7.466-14.933l17.976,20.389l11.889-42.787L73,61l3.5-3.331h10.629c0,0,0-26.399,0-33.865  c0-7.466-2.467-10.932-9.933-10.932H23.399z M71.5,71.875l-13.125-29.25L48.25,77.25L28.399,54.669l-4,10.466H12.466  c0,0,0,4,0,11.467c0,7.466,3.466,10.933,10.933,10.933c7.466,0,44.598,0,52.428,0c7.835,0,11.302-3.467,11.302-10.933  c0-7.467,0-11.467,0-11.467L78.125,65L71.5,71.875z"],["id","SvgjsG6268","featurekey","nameFeature-0","transform","matrix(1.5633774866697607,0,0,1.5633774866697607,111.18704373675078,9.114959226611326)","fill","#fde300"],["_ngcontent-ibt-c17","","d","M0.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.4 -1.88 4.76 l0 18.48 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M13.32 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l12.16 0 s-0.454 1.5708 0.23641 4.2232 l3.6836 11.817 l3.6836 -11.817 c0.69 -2.6524 0.23641 -4.2232 0.23641 -4.2232 l12.16 0 s-1.88 2.4 -1.88 4.8 l0 18.44 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 s1.88 -2.36 1.88 -4.76 l0 -10.76 l-5 11.92 l-4 0 l-5 -11.92 l0 10.76 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 z M26.240000000000002 36.4 c0 0 0.36 -1.88 -0.84 -4.76 l2 4.76 l-1.16 0 z M31.400000000000002 36.4 l2 -4.76 c-1.2 2.88 -0.84 4.76 -0.84 4.76 l-1.16 0 z M46.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l12.4 0 c6.6 0 12.24 2.68 12.24 8.88 c0 4.16 -2.08 6.84 -5.2 8.4 c-1.8 0.88 -3.92 1.36 -6.24 1.56 c-0.72 0.08 -2.6 0.08 -3.32 0.08 l0 4.32 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M56.4 25.6 l1.44 0 c2.84 0 4.96 -1.36 4.96 -3.92 c0 -3 -2.44 -3.96 -5.28 -3.96 l-1.12 0 l0 7.88 z M85.92 40.56 c-6.56 0 -11.56 -3.72 -11.56 -10.56 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 3.24 1.16 4.72 3.56 4.72 c2.44 0 3.6 -1.48 3.6 -4.72 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 6.84 -5 10.56 -11.6 10.56 z M100.03999999999999 40 c0 0 1.88 -2.4 1.88 -4.8 l0 -18.44 c0 -2.4 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.36 -1.88 4.76 l0 16.84 l6.04 0 c2.36 0 4.76 -1.88 4.76 -1.88 l0 8.28 l-20.68 0 z M130.12 40.64 c-3.44 0 -8.2 -1.48 -8.2 -1.48 l2.8 -7.96 s1.88 3.8 5.2 3.8 c2.68 0 4.36 -1.16 4.36 -2.92 c0 -3.2 -11.76 -3.3984 -11.76 -11.52 c0 -5.96 4.92 -9.12 11.64 -9.12 c3.32 0 7.36 1.8 7.36 1.8 l-2.76 7.52 s-2.24 -3.96 -4.8 -3.96 c-2.16 0 -3.36 1.36 -3.36 2.68 c0 3.12 12.08 3.64 12.08 11.6 c0 5.92 -5.52 9.56 -12.56 9.56 z M144.00000000000003 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l21.48 0 l0 8.28 s-2.4 -1.88 -4.8 -1.88 l-6.8 0 l0 5.2 l2.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 9.36 s-2.4 -1.88 -4.8 -1.88 l-2.8 0 l0 4.4 l6.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 8.28 l-21.48 0 z"],["id","SvgjsG6269","featurekey","sloganFeature-0","transform","matrix(1.2395395249917074,0,0,1.2395395249917074,109.73635290905752,75.94291572161438)","fill","#f4ee39"],["_ngcontent-ibt-c17","","d","M1.8262 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M18.037265625 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M32.929203125 8.467 l-5.3711 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 5.7813 l-2.9492 0 l0 -14.111 l8.3203 0 l0 2.5781 z M35.429715625 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M51.64078125 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M58.21291875 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M72.968984375 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z M83.369375 8.467 l-5.2344 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 3.1934 l5.2344 0 l0 2.5879 l-8.1836 0 l0 -14.111 l8.1836 0 l0 2.5781 z M91.582059375 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M114.326125 20 l-2.9199 0 l-0.92773 -10.635 l-3.5742 10.635 l-1.8945 0 l-3.5742 -10.635 l-0.9375 10.635 l-2.9297 0 l1.1816 -14.111 l4.1797 0 l3.0078 8.8574 l3.0469 -8.8574 l4.1797 0 z M123.26170625 5.888999999999999 c2.7637 0 4.4824 2.0508 4.4824 4.5605 c0 2.5684 -1.7188 4.4922 -4.4824 4.4922 l-2.9395 0 l0 5.0586 l-2.9297 0 l0 -14.111 l5.8691 0 z M122.77340625 12.4902 c1.4648 0 2.1484 -0.81055 2.1484 -2.0801 c0 -1.2207 -0.68359 -2.0703 -2.1484 -2.0703 l-2.4512 0 l0 4.1504 l2.4512 0 z M139.64890625 20 l-1.0254 -2.9102 l-5.9277 0 l-1.0254 2.9102 l-2.998 0 l5.1953 -14.111 l3.584 0 l5.1953 14.111 l-2.998 0 z M133.55470625 14.6387 l4.209 0 l-2.0996 -5.9863 z M151.015653125 20.19531 c-4.1504 0 -7.2168 -2.8223 -7.2168 -7.2559 s3.0664 -7.2461 7.2168 -7.2461 c3.1445 0 5.6641 1.6113 6.6699 4.2871 l-2.7344 0.99609 c-0.625 -1.6406 -2.1191 -2.5879 -3.9355 -2.5879 c-2.4316 0 -4.2969 1.6992 -4.2969 4.5508 s1.8652 4.5605 4.2969 4.5605 c1.8164 0 3.3105 -0.95703 3.9355 -2.5977 l2.7344 0.99609 c-1.0059 2.6758 -3.5254 4.2969 -6.6699 4.2969 z M168.27171875 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z"]],template:function(E,$){1&E&&(u.O4$(),u.TgZ(0,"svg",0)(1,"g",1),u._UZ(2,"rect",2)(3,"rect",3),u.qZA(),u.TgZ(4,"g",4),u._UZ(5,"path",5),u.qZA(),u.TgZ(6,"g",6),u._UZ(7,"path",7),u.qZA(),u.TgZ(8,"g",8),u._UZ(9,"path",9),u.qZA()())}}),w})();function qa(v,w){1&v&&(u.TgZ(0,"i",9),u._uU(1,"menu"),u.qZA())}function ec(v,w){if(1&v&&u._UZ(0,"img",10),2&v){const g=u.oxw();u.s9C("src",g.firestore.user.image,u.LSH)}}let Pc=(()=>{var v;class w{constructor(E){this.firestore=E,this.menu=!1}home(){window.location.href=window.location.origin}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(lr.C5))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-header"]],decls:9,vars:3,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],["class","material-icons text-light",4,"ngIf"],[3,"src",4,"ngIf"],[1,"col-12","p-0","text-center"],[3,"click"],[3,"hidden","close"],[1,"material-icons","text-light"],[3,"src"]],template:function(E,$){1&E&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("click",function(){return $.menu=!$.menu}),u.YNc(4,qa,2,0,"i",4),u.YNc(5,ec,1,1,"img",5),u.qZA()(),u.TgZ(6,"div",6)(7,"app-logo",7),u.NdJ("click",function(){return $.home()}),u.qZA()()()(),u.TgZ(8,"app-menu",8),u.NdJ("close",function(){return $.menu=!1}),u.qZA()),2&E&&(u.xp6(4),u.Q6J("ngIf",!$.firestore.user),u.xp6(1),u.Q6J("ngIf",$.firestore.user&&$.firestore.user.image),u.xp6(3),u.Q6J("hidden",!$.menu))},dependencies:[J.O5,wr,Br],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]{padding:0}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:50px;height:50px}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:5px}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8.5rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),w})();var du=j(184);function Ts(v,w){1&v&&(u.TgZ(0,"div",1),u._UZ(1,"div",2),u.qZA())}let tc=(()=>{var v;class w{constructor(E){this.loaderService=E,this.isLoading=this.loaderService.isLoading}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(du.D))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","c d-flex align-items-center justify-content-center",4,"ngIf"],[1,"c","d-flex","align-items-center","justify-content-center"],[1,"loader"]],template:function(E,$){1&E&&(u.YNc(0,Ts,2,0,"div",0),u.ALo(1,"async")),2&E&&u.Q6J("ngIf",u.lcZ(1,1,$.isLoading))},dependencies:[J.O5,J.Ov],styles:[".c[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;text-align:center;background:black;opacity:.5}.loader[_ngcontent-%COMP%]{border:15px solid #f3f3f3;border-radius:50%;border-top:15px solid #3498db;width:100px;height:100px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}"]}),w})();function nc(v,w){1&v&&u._UZ(0,"app-header")}let ul=(()=>{var v;class w{constructor(E,$,Ye){this.firestore=E,this.header=!0,this.firestore.log(lr.zW.PAGE_VIEW),this.handleScroll($,Ye),window.addEventListener("message",Gt=>{console.log("Window Message:",Gt),Gt.origin===window.location.origin&&"ToggleHeader"==Gt.data&&(this.header=!this.header)},!1)}handleScroll(E,$){E.events.pipe((0,Ui.h)(Ye=>Ye instanceof Rr.Xs)).pipe(function Xl(v,w=jo){const g=function cu(v=0,w,g=Io){let E=-1;return null!=w&&((0,Qr.K)(w)?g=w:E=w),new _e.y($=>{let Ye=function us(v){return v instanceof Date&&!isNaN(v)}(v)?+v-g.now():v;Ye<0&&(Ye=0);let Gt=0;return g.schedule(function(){$.closed||($.next(Gt++),0<=E?this.schedule(void 0,E):$.complete())},Ye)})}(v,w);return Ql(()=>g)}(1)).subscribe(Ye=>{Ye.position?$.scrollToPosition(Ye.position):Ye.anchor?$.scrollToAnchor(Ye.anchor):$.scrollToPosition([0,0])})}}return(v=w).\u0275fac=function(E){return new(E||v)(u.Y36(lr.C5),u.Y36(Rr.F0),u.Y36(J.EM))},v.\u0275cmp=u.Xpm({type:v,selectors:[["app-root"]],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(E,$){1&E&&(u.YNc(0,nc,1,0,"app-header",0),u._UZ(1,"app-loader")(2,"router-outlet")),2&E&&u.Q6J("ngIf",$.header)},dependencies:[J.O5,Rr.lC,Pc,tc],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),w})(),Is=(()=>{var v;class w{}return(v=w).\u0275fac=function(E){return new(E||v)},v.\u0275mod=u.oAB({type:v,bootstrap:[ul]}),v.\u0275inj=u.cJS({imports:[f.b2,xc,Hn,Jo,$o]}),w})();f.q6().bootstrapModule(Is).catch(v=>console.error(v))},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_asyncToGenerator=__webpack_require__(7156).default,j;j=function(){return(()=>{"use strict";var __webpack_modules__=[,(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.VerbosityLevel=F.Util=F.UnknownErrorException=F.UnexpectedResponseException=F.UNSUPPORTED_FEATURES=F.TextRenderingMode=F.StreamType=F.RenderingIntentFlag=F.PermissionFlag=F.PasswordResponses=F.PasswordException=F.PageActionEventType=F.OPS=F.MissingPDFException=F.IsLittleEndianCached=F.IsEvalSupportedCached=F.InvalidPDFException=F.ImageKind=F.IDENTITY_MATRIX=F.FormatError=F.FontType=F.FONT_IDENTITY_MATRIX=F.DocumentActionEventType=F.CMapCompressionType=F.BaseException=F.AnnotationType=F.AnnotationStateModelType=F.AnnotationReviewState=F.AnnotationReplyType=F.AnnotationMode=F.AnnotationMarkedState=F.AnnotationFlag=F.AnnotationFieldFlag=F.AnnotationBorderStyleType=F.AnnotationActionEventType=F.AbortException=void 0,F.arrayByteLength=ze,F.arraysToBytes=function ft(dt){const st=dt.length;if(1===st&&dt[0]instanceof Uint8Array)return dt[0];let lt=0;for(let _n=0;_n<st;_n++)lt+=ze(dt[_n]);let ln=0;const Wt=new Uint8Array(lt);for(let _n=0;_n<st;_n++){let Xt=dt[_n];Xt instanceof Uint8Array||(Xt="string"==typeof Xt?qe(Xt):new Uint8Array(Xt));const An=Xt.byteLength;Wt.set(Xt,ln),ln+=An}return Wt},F.assert=function nt(dt,st){dt||Le(st)},F.bytesToString=function We(dt){("object"!=typeof dt||null===dt||void 0===dt.length)&&Le("Invalid argument for bytesToString");const st=dt.length;if(st<8192)return String.fromCharCode.apply(null,dt);const ln=[];for(let Wt=0;Wt<st;Wt+=8192){const _n=Math.min(Wt+8192,st),Xt=dt.subarray(Wt,_n);ln.push(String.fromCharCode.apply(null,Xt))}return ln.join("")},F.createPromiseCapability=function zn(){const dt=Object.create(null);let st=!1;return Object.defineProperty(dt,"settled",{get:()=>st}),dt.promise=new Promise(function(lt,ln){dt.resolve=function(Wt){st=!0,lt(Wt)},dt.reject=function(Wt){st=!0,ln(Wt)}}),dt},F.createValidAbsoluteUrl=function H(dt,st=null,lt=null){if(!dt)return null;try{if(lt&&"string"==typeof dt){if(lt.addDefaultProtocol&&dt.startsWith("www.")){const Wt=dt.match(/\./g);Wt&&Wt.length>=2&&(dt=`http://${dt}`)}if(lt.tryConvertEncoding)try{dt=Ke(dt)}catch{}}const ln=st?new URL(dt,st):new URL(dt);if(function Q(dt){if(!dt)return!1;switch(dt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ln))return ln}catch{}return null},F.escapeString=function Je(dt){return dt.replace(/([()\\\n\r])/g,st=>"\n"===st?"\\n":"\r"===st?"\\r":`\\${st}`)},F.getModificationDate=function vn(dt=new Date){return[dt.getUTCFullYear().toString(),(dt.getUTCMonth()+1).toString().padStart(2,"0"),dt.getUTCDate().toString().padStart(2,"0"),dt.getUTCHours().toString().padStart(2,"0"),dt.getUTCMinutes().toString().padStart(2,"0"),dt.getUTCSeconds().toString().padStart(2,"0")].join("")},F.getVerbosityLevel=function Se(){return L},F.info=function Oe(dt){L>=K.INFOS&&console.log(`Info: ${dt}`)},F.isArrayBuffer=function Lt(dt){return"object"==typeof dt&&null!==dt&&void 0!==dt.byteLength},F.isArrayEqual=function $t(dt,st){if(dt.length!==st.length)return!1;for(let lt=0,ln=dt.length;lt<ln;lt++)if(dt[lt]!==st[lt])return!1;return!0},F.isAscii=function at(dt){return/^[\x00-\x7F]*$/.test(dt)},F.isSameOrigin=function ye(dt,st){let lt;try{if(lt=new URL(dt),!lt.origin||"null"===lt.origin)return!1}catch{return!1}const ln=new URL(st,lt);return lt.origin===ln.origin},F.objectFromMap=function Nt(dt){const st=Object.create(null);for(const[lt,ln]of dt)st[lt]=ln;return st},F.objectSize=function Ut(dt){return Object.keys(dt).length},F.setVerbosityLevel=function ae(dt){Number.isInteger(dt)&&(L=dt)},F.shadow=G,F.string32=function Rt(dt){return String.fromCharCode(dt>>24&255,dt>>16&255,dt>>8&255,255&dt)},F.stringToBytes=qe,F.stringToPDFString=function Ie(dt){if(dt[0]>="\xef"){let lt;if("\xfe"===dt[0]&&"\xff"===dt[1]?lt="utf-16be":"\xff"===dt[0]&&"\xfe"===dt[1]?lt="utf-16le":"\xef"===dt[0]&&"\xbb"===dt[1]&&"\xbf"===dt[2]&&(lt="utf-8"),lt)try{const ln=new TextDecoder(lt,{fatal:!0}),Wt=qe(dt);return ln.decode(Wt)}catch(ln){Ve(`stringToPDFString: "${ln}".`)}}const st=[];for(let lt=0,ln=dt.length;lt<ln;lt++){const Wt=ut[dt.charCodeAt(lt)];st.push(Wt?String.fromCharCode(Wt):dt.charAt(lt))}return st.join("")},F.stringToUTF16BEString=function bt(dt){const st=["\xfe\xff"];for(let lt=0,ln=dt.length;lt<ln;lt++){const Wt=dt.charCodeAt(lt);st.push(String.fromCharCode(Wt>>8&255),String.fromCharCode(255&Wt))}return st.join("")},F.stringToUTF8String=Ke,F.unreachable=Le,F.utf8StringToString=function pt(dt){return unescape(encodeURIComponent(dt))},F.warn=Ve,j(2),F.IDENTITY_MATRIX=[1,0,0,1,0,0],F.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],F.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},F.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},F.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},F.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},F.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},F.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},F.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},F.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},F.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},F.AnnotationReplyType={GROUP:"Group",REPLY:"R"},F.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},F.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},F.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},F.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},F.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},F.PageActionEventType={O:"PageOpen",C:"PageClose"},F.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},F.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const K={ERRORS:0,WARNINGS:1,INFOS:5};F.VerbosityLevel=K,F.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},F.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},F.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},F.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let L=K.WARNINGS;function Ve(dt){L>=K.WARNINGS&&console.log(`Warning: ${dt}`)}function Le(dt){throw new Error(dt)}function G(dt,st,lt){return Object.defineProperty(dt,st,{value:lt,enumerable:!0,configurable:!0,writable:!1}),lt}const V=function(){function st(lt,ln){this.constructor===st&&Le("Cannot initialize BaseException."),this.message=lt,this.name=ln}return st.prototype=new Error,st.constructor=st,st}();function qe(dt){"string"!=typeof dt&&Le("Invalid argument for stringToBytes");const st=dt.length,lt=new Uint8Array(st);for(let ln=0;ln<st;++ln)lt[ln]=255&dt.charCodeAt(ln);return lt}function ze(dt){return void 0!==dt.length?dt.length:void 0!==dt.byteLength?dt.byteLength:void Le("Invalid argument for arrayByteLength")}F.BaseException=V,F.PasswordException=class S extends V{constructor(st,lt){super(st,"PasswordException"),this.code=lt}},F.UnknownErrorException=class N extends V{constructor(st,lt){super(st,"UnknownErrorException"),this.details=lt}},F.InvalidPDFException=class W extends V{constructor(st){super(st,"InvalidPDFException")}},F.MissingPDFException=class he extends V{constructor(st){super(st,"MissingPDFException")}},F.UnexpectedResponseException=class le extends V{constructor(st,lt){super(st,"UnexpectedResponseException"),this.status=lt}},F.FormatError=class Y extends V{constructor(st){super(st,"FormatError")}},F.AbortException=class He extends V{constructor(st){super(st,"AbortException")}},F.IsLittleEndianCached={get value(){return G(this,"value",function Pt(){const dt=new Uint8Array(4);return dt[0]=1,1===new Uint32Array(dt.buffer,0,1)[0]}())}},F.IsEvalSupportedCached={get value(){return G(this,"value",function gn(){try{return new Function(""),!0}catch{return!1}}())}};const sn=[...Array(256).keys()].map(dt=>dt.toString(16).padStart(2,"0"));class Vn{static makeHexColor(st,lt,ln){return`#${sn[st]}${sn[lt]}${sn[ln]}`}static transform(st,lt){return[st[0]*lt[0]+st[2]*lt[1],st[1]*lt[0]+st[3]*lt[1],st[0]*lt[2]+st[2]*lt[3],st[1]*lt[2]+st[3]*lt[3],st[0]*lt[4]+st[2]*lt[5]+st[4],st[1]*lt[4]+st[3]*lt[5]+st[5]]}static applyTransform(st,lt){return[st[0]*lt[0]+st[1]*lt[2]+lt[4],st[0]*lt[1]+st[1]*lt[3]+lt[5]]}static applyInverseTransform(st,lt){const ln=lt[0]*lt[3]-lt[1]*lt[2];return[(st[0]*lt[3]-st[1]*lt[2]+lt[2]*lt[5]-lt[4]*lt[3])/ln,(-st[0]*lt[1]+st[1]*lt[0]+lt[4]*lt[1]-lt[5]*lt[0])/ln]}static getAxialAlignedBoundingBox(st,lt){const ln=Vn.applyTransform(st,lt),Wt=Vn.applyTransform(st.slice(2,4),lt),_n=Vn.applyTransform([st[0],st[3]],lt),Xt=Vn.applyTransform([st[2],st[1]],lt);return[Math.min(ln[0],Wt[0],_n[0],Xt[0]),Math.min(ln[1],Wt[1],_n[1],Xt[1]),Math.max(ln[0],Wt[0],_n[0],Xt[0]),Math.max(ln[1],Wt[1],_n[1],Xt[1])]}static inverseTransform(st){const lt=st[0]*st[3]-st[1]*st[2];return[st[3]/lt,-st[1]/lt,-st[2]/lt,st[0]/lt,(st[2]*st[5]-st[4]*st[3])/lt,(st[4]*st[1]-st[5]*st[0])/lt]}static apply3dTransform(st,lt){return[st[0]*lt[0]+st[1]*lt[1]+st[2]*lt[2],st[3]*lt[0]+st[4]*lt[1]+st[5]*lt[2],st[6]*lt[0]+st[7]*lt[1]+st[8]*lt[2]]}static singularValueDecompose2dScale(st){const lt=[st[0],st[2],st[1],st[3]],ln=st[0]*lt[0]+st[1]*lt[2],Xt=st[2]*lt[1]+st[3]*lt[3],An=(ln+Xt)/2,Yt=Math.sqrt((ln+Xt)**2-4*(ln*Xt-(st[2]*lt[0]+st[3]*lt[2])*(st[0]*lt[1]+st[1]*lt[3])))/2,Wn=An-Yt||1;return[Math.sqrt(An+Yt||1),Math.sqrt(Wn)]}static normalizeRect(st){const lt=st.slice(0);return st[0]>st[2]&&(lt[0]=st[2],lt[2]=st[0]),st[1]>st[3]&&(lt[1]=st[3],lt[3]=st[1]),lt}static intersect(st,lt){function ln(An,Yt){return An-Yt}const Wt=[st[0],st[2],lt[0],lt[2]].sort(ln),_n=[st[1],st[3],lt[1],lt[3]].sort(ln),Xt=[];return st=Vn.normalizeRect(st),lt=Vn.normalizeRect(lt),Wt[0]===st[0]&&Wt[1]===lt[0]||Wt[0]===lt[0]&&Wt[1]===st[0]?(Xt[0]=Wt[1],Xt[2]=Wt[2],_n[0]===st[1]&&_n[1]===lt[1]||_n[0]===lt[1]&&_n[1]===st[1]?(Xt[1]=_n[1],Xt[3]=_n[2],Xt):null):null}static bezierBoundingBox(st,lt,ln,Wt,_n,Xt,An,Yt){const Un=[],Wn=[[],[]];let yr,cr,fr,Be,Ge,et,It,gt;for(let Fe=0;Fe<2;++Fe)if(0===Fe?(cr=6*st-12*ln+6*_n,yr=-3*st+9*ln-9*_n+3*An,fr=3*ln-3*st):(cr=6*lt-12*Wt+6*Xt,yr=-3*lt+9*Wt-9*Xt+3*Yt,fr=3*Wt-3*lt),Math.abs(yr)<1e-12){if(Math.abs(cr)<1e-12)continue;Be=-fr/cr,0<Be&&Be<1&&Un.push(Be)}else It=cr*cr-4*fr*yr,gt=Math.sqrt(It),!(It<0)&&(Ge=(-cr+gt)/(2*yr),0<Ge&&Ge<1&&Un.push(Ge),et=(-cr-gt)/(2*yr),0<et&&et<1&&Un.push(et));let tt,en=Un.length;const Xe=en;for(;en--;)Be=Un[en],tt=1-Be,Wn[0][en]=tt*tt*tt*st+3*tt*tt*Be*ln+3*tt*Be*Be*_n+Be*Be*Be*An,Wn[1][en]=tt*tt*tt*lt+3*tt*tt*Be*Wt+3*tt*Be*Be*Xt+Be*Be*Be*Yt;return Wn[0][Xe]=st,Wn[1][Xe]=lt,Wn[0][Xe+1]=An,Wn[1][Xe+1]=Yt,Wn[0].length=Wn[1].length=Xe+2,[Math.min(...Wn[0]),Math.min(...Wn[1]),Math.max(...Wn[0]),Math.max(...Wn[1])]}}F.Util=Vn;const ut=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ke(dt){return decodeURIComponent(escape(dt))}},(Ue,F,j)=>{j(3)},(Ue,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.isNodeJS=void 0;const j=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);F.isNodeJS=j},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(Ue){createPDFNetworkStream=Ue}function getDocument(Ue){const F=new PDFDocumentLoadingTask;let j;if("string"==typeof Ue||Ue instanceof URL)j={url:Ue};else if((0,_util.isArrayBuffer)(Ue))j={data:Ue};else if(Ue instanceof PDFDataRangeTransport)j={range:Ue};else{if("object"!=typeof Ue)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!Ue.url&&!Ue.data&&!Ue.range)throw new Error("Invalid parameter object: need either .data, .range or .url");j=Ue}const f=Object.create(null);let u=null,J=null;for(const _e in j){const Ee=j[_e];switch(_e){case"url":if(typeof window<"u")try{f[_e]=new URL(Ee,window.location).href;continue}catch(fe){(0,_util.warn)(`Cannot create valid URL: "${fe}".`)}else if("string"==typeof Ee||Ee instanceof URL){f[_e]=Ee.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":u=Ee;continue;case"worker":J=Ee;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&Ee instanceof Buffer)f[_e]=new Uint8Array(Ee);else{if(Ee instanceof Uint8Array)break;if("string"==typeof Ee)f[_e]=(0,_util.stringToBytes)(Ee);else if("object"!=typeof Ee||null===Ee||isNaN(Ee.length)){if(!(0,_util.isArrayBuffer)(Ee))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");f[_e]=new Uint8Array(Ee)}else f[_e]=new Uint8Array(Ee)}continue}f[_e]=Ee}if(f.rangeChunkSize=f.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,f.CMapReaderFactory=f.CMapReaderFactory||DefaultCMapReaderFactory,f.StandardFontDataFactory=f.StandardFontDataFactory||DefaultStandardFontDataFactory,f.ignoreErrors=!0!==f.stopAtErrors,f.fontExtraProperties=!0===f.fontExtraProperties,f.pdfBug=!0===f.pdfBug,f.enableXfa=!0===f.enableXfa,("string"!=typeof f.docBaseUrl||(0,_display_utils.isDataScheme)(f.docBaseUrl))&&(f.docBaseUrl=null),Number.isInteger(f.maxImageSize)||(f.maxImageSize=-1),"boolean"!=typeof f.useWorkerFetch&&(f.useWorkerFetch=f.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&f.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof f.isEvalSupported&&(f.isEvalSupported=!0),"boolean"!=typeof f.disableFontFace&&(f.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof f.useSystemFonts&&(f.useSystemFonts=!_is_node.isNodeJS&&!f.disableFontFace),typeof f.ownerDocument>"u"&&(f.ownerDocument=globalThis.document),"boolean"!=typeof f.disableRange&&(f.disableRange=!1),"boolean"!=typeof f.disableStream&&(f.disableStream=!1),"boolean"!=typeof f.disableAutoFetch&&(f.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(f.verbosity),!J){const _e={verbosity:f.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};J=_e.port?_PDFWorker.fromPort(_e):new _PDFWorker(_e),F._worker=J}const Re=F.docId;return J.promise.then(function(){if(F.destroyed)throw new Error("Loading aborted");const _e=_fetchDocument(J,f,u,Re),Ee=new Promise(function(fe){let ve;u?ve=new _transport_stream.PDFDataTransportStream({length:f.length,initialData:f.initialData,progressiveDone:f.progressiveDone,contentDispositionFilename:f.contentDispositionFilename,disableRange:f.disableRange,disableStream:f.disableStream},u):f.data||(ve=createPDFNetworkStream({url:f.url,length:f.length,httpHeaders:f.httpHeaders,withCredentials:f.withCredentials,rangeChunkSize:f.rangeChunkSize,disableRange:f.disableRange,disableStream:f.disableStream})),fe(ve)});return Promise.all([_e,Ee]).then(function([fe,ve]){if(F.destroyed)throw new Error("Loading aborted");const ke=new _message_handler.MessageHandler(Re,fe,J.port),se=new WorkerTransport(ke,F,ve,f);F._transport=se,ke.send("Ready",null)})}).catch(F._capability.reject),F}function _fetchDocument(Ue,F,j,f){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(Ue,F,j,f){if(Ue.destroyed)throw new Error("Worker was destroyed");j&&(F.length=j.length,F.initialData=j.initialData,F.progressiveDone=j.progressiveDone,F.contentDispositionFilename=j.contentDispositionFilename);const u=yield Ue.messageHandler.sendWithPromise("GetDocRequest",{docId:f,apiVersion:"2.13.216",source:{data:F.data,url:F.url,password:F.password,disableAutoFetch:F.disableAutoFetch,rangeChunkSize:F.rangeChunkSize,length:F.length},maxImageSize:F.maxImageSize,disableFontFace:F.disableFontFace,docBaseUrl:F.docBaseUrl,ignoreErrors:F.ignoreErrors,isEvalSupported:F.isEvalSupported,fontExtraProperties:F.fontExtraProperties,enableXfa:F.enableXfa,useSystemFonts:F.useSystemFonts,cMapUrl:F.useWorkerFetch?F.cMapUrl:null,standardFontDataUrl:F.useWorkerFetch?F.standardFontDataUrl:null});if(Ue.destroyed)throw new Error("Worker was destroyed");return u})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var F=this;return _asyncToGenerator(function*(){F.destroyed=!0,yield F._transport?.destroy(),F._transport=null,F._worker&&(F._worker.destroy(),F._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(F,j,f=!1,u=null){this.length=F,this.initialData=j,this.progressiveDone=f,this.contentDispositionFilename=u,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(F){this._rangeListeners.push(F)}addProgressListener(F){this._progressListeners.push(F)}addProgressiveReadListener(F){this._progressiveReadListeners.push(F)}addProgressiveDoneListener(F){this._progressiveDoneListeners.push(F)}onDataRange(F,j){for(const f of this._rangeListeners)f(F,j)}onDataProgress(F,j){this._readyCapability.promise.then(()=>{for(const f of this._progressListeners)f(F,j)})}onDataProgressiveRead(F){this._readyCapability.promise.then(()=>{for(const j of this._progressiveReadListeners)j(F)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const F of this._progressiveDoneListeners)F()})}transportReady(){this._readyCapability.resolve()}requestDataRange(F,j){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(F,j){var u,f=this;this._pdfInfo=F,this._transport=j,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(u=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),f.stats||{streamTypes:{},fontTypes:{}}}),function(){return u.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(F){return this._transport.getPage(F)}getPageIndex(F){return this._transport.getPageIndex(F)}getDestinations(){return this._transport.getDestinations()}getDestination(F){return this._transport.getDestination(F)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(F=!1){return this._transport.startCleanup(F||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(F,j,f,u,J=!1){this._pageIndex=F,this._pageInfo=j,this._ownerDocument=u,this._transport=f,this._stats=J?new _display_utils.StatTimer:null,this._pdfBug=J,this.commonObjs=f.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:F,rotation:j=this.rotate,offsetX:f=0,offsetY:u=0,dontFlip:J=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:F,rotation:j,offsetX:f,offsetY:u,dontFlip:J})}getAnnotations({intent:F="display"}={}){const j=this._transport.getRenderingIntent(F);let f=this._annotationPromises.get(j.cacheKey);return f||(f=this._transport.getAnnotations(this._pageIndex,j.renderingIntent),this._annotationPromises.set(j.cacheKey,f),f=f.then(u=>{for(const J of u)void 0!==J.titleObj&&Object.defineProperty(J,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),J.titleObj.str)}),void 0!==J.contentsObj&&Object.defineProperty(J,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),J.contentsObj.str)});return u})),f}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var F=this;return _asyncToGenerator(function*(){return F._transport._htmlForXfa?.children[F._pageIndex]||null})()}render({canvasContext:F,viewport:j,intent:f="display",annotationMode:u=_util.AnnotationMode.ENABLE,transform:J=null,imageLayer:Re=null,canvasFactory:_e=null,background:Ee=null,optionalContentConfigPromise:fe=null,annotationCanvasMap:ve=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&u===_util.AnnotationMode.ENABLE&&(u=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&u===_util.AnnotationMode.ENABLE&&(u=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const ke=this._transport.getRenderingIntent(f,u);this.pendingCleanup=!1,fe||(fe=this._transport.getOptionalContentConfig());let se=this._intentStates.get(ke.cacheKey);se||(se=Object.create(null),this._intentStates.set(ke.cacheKey,se)),se.streamReaderCancelTimeout&&(clearTimeout(se.streamReaderCancelTimeout),se.streamReaderCancelTimeout=null);const oe=_e||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),De=!!(ke.renderingIntent&_util.RenderingIntentFlag.PRINT);se.displayReadyCapability||(se.displayReadyCapability=(0,_util.createPromiseCapability)(),se.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ke));const te=be=>{se.renderTasks.delete(ee),(this.cleanupAfterRender||De)&&(this.pendingCleanup=!0),this._tryCleanup(),be?(ee.capability.reject(be),this._abortOperatorList({intentState:se,reason:be instanceof Error?be:new Error(be)})):ee.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},ee=new InternalRenderTask({callback:te,params:{canvasContext:F,viewport:j,transform:J,imageLayer:Re,background:Ee},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ve,operatorList:se.operatorList,pageIndex:this._pageIndex,canvasFactory:oe,useRequestAnimationFrame:!De,pdfBug:this._pdfBug});(se.renderTasks||=new Set).add(ee);const we=ee.task;return Promise.all([se.displayReadyCapability.promise,fe]).then(([be,me])=>{this.pendingCleanup?te():(this._stats&&this._stats.time("Rendering"),ee.initializeGraphics({transparency:be,optionalContentConfig:me}),ee.operatorListChanged())}).catch(te),we}getOperatorList({intent:F="display",annotationMode:j=_util.AnnotationMode.ENABLE}={}){const u=this._transport.getRenderingIntent(F,j,!0);let Re,J=this._intentStates.get(u.cacheKey);return J||(J=Object.create(null),this._intentStates.set(u.cacheKey,J)),J.opListReadCapability||(Re=Object.create(null),Re.operatorListChanged=function f(){J.operatorList.lastChunk&&(J.opListReadCapability.resolve(J.operatorList),J.renderTasks.delete(Re))},J.opListReadCapability=(0,_util.createPromiseCapability)(),(J.renderTasks||=new Set).add(Re),J.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(u)),J.opListReadCapability.promise}streamTextContent({disableCombineTextItems:F=!1,includeMarkedContent:j=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==F,includeMarkedContent:!0===j},{highWaterMark:100,size:u=>u.items.length})}getTextContent(F={}){if(this._transport._htmlForXfa)return this.getXfa().then(f=>_xfa_text.XfaText.textContent(f));const j=this.streamTextContent(F);return new Promise(function(f,u){const Re=j.getReader(),_e={items:[],styles:Object.create(null)};!function J(){Re.read().then(function({value:Ee,done:fe}){fe?f(_e):(Object.assign(_e.styles,Ee.styles),_e.items.push(...Ee.items),J())},u)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const F=[];for(const j of this._intentStates.values())if(this._abortOperatorList({intentState:j,reason:new Error("Page was destroyed."),force:!0}),!j.opListReadCapability)for(const f of j.renderTasks)F.push(f.completed),f.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(F)}cleanup(F=!1){return this.pendingCleanup=!0,this._tryCleanup(F)}_tryCleanup(F=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:j,operatorList:f}of this._intentStates.values())if(j.size>0||!f.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,F&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(F,j){const f=this._intentStates.get(j);f&&(this._stats&&this._stats.timeEnd("Page Request"),f.displayReadyCapability&&f.displayReadyCapability.resolve(F))}_renderPageChunk(F,j){for(let f=0,u=F.length;f<u;f++)j.operatorList.fnArray.push(F.fnArray[f]),j.operatorList.argsArray.push(F.argsArray[f]);j.operatorList.lastChunk=F.lastChunk;for(const f of j.renderTasks)f.operatorListChanged();F.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:F,cacheKey:j}){const u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:F,cacheKey:j,annotationStorage:F&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),J=this._intentStates.get(j);J.streamReader=u;const Re=()=>{u.read().then(({value:_e,done:Ee})=>{Ee?J.streamReader=null:this._transport.destroyed||(this._renderPageChunk(_e,J),Re())},_e=>{if(J.streamReader=null,!this._transport.destroyed){if(J.operatorList){J.operatorList.lastChunk=!0;for(const Ee of J.renderTasks)Ee.operatorListChanged();this._tryCleanup()}if(J.displayReadyCapability)J.displayReadyCapability.reject(_e);else{if(!J.opListReadCapability)throw _e;J.opListReadCapability.reject(_e)}}})};Re()}_abortOperatorList({intentState:F,reason:j,force:f=!1}){if(F.streamReader){if(!f){if(F.renderTasks.size>0)return;if(j instanceof _display_utils.RenderingCancelledException)return void(F.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:F,reason:j,force:!0}),F.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(F.streamReader.cancel(new _util.AbortException(j.message)).catch(()=>{}),F.streamReader=null,!this._transport.destroyed){for(const[u,J]of this._intentStates)if(J===F){this._intentStates.delete(u);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(F,j){const f={data:structuredClone(F,j)};this._deferred.then(()=>{for(const u of this._listeners)u.call(this,f)})}addEventListener(F,j){this._listeners.push(j)}removeEventListener(F,j){const f=this._listeners.indexOf(j);this._listeners.splice(f,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const Ue=document?.currentScript?.src;Ue&&(PDFWorkerUtil.fallbackWorkerSrc=Ue.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(Ue){return URL.createObjectURL(new Blob([`importScripts("${Ue}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:Ue=null,port:F=null,verbosity:j=(0,_util.getVerbosityLevel)()}={}){if(F&&_PDFWorker._workerPorts.has(F))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Ue,this.destroyed=!1,this.verbosity=j,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,F)return _PDFWorker._workerPorts.set(F,this),void this._initializeFromPort(F);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ue){this._port=Ue,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ue),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let Ue=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,Ue)||(Ue=PDFWorkerUtil.createCDNWrapper(new URL(Ue,window.location).href));const F=new Worker(Ue),j=new _message_handler.MessageHandler("main","worker",F),f=()=>{F.removeEventListener("error",u),j.destroy(),F.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},u=()=>{this._webWorker||f()};F.addEventListener("error",u),j.on("test",Re=>{F.removeEventListener("error",u),this.destroyed?f():Re?(this._messageHandler=j,this._port=F,this._webWorker=F,this._readyCapability.resolve(),j.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),j.destroy(),F.terminate())}),j.on("ready",Re=>{if(F.removeEventListener("error",u),this.destroyed)f();else try{J()}catch{this._setupFakeWorker()}});const J=()=>{const Re=new Uint8Array([255]);try{j.send("test",Re,[Re.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),Re[0]=0,j.send("test",Re)}};return void J()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Ue=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const F=new LoopbackPort;this._port=F;const j="fake"+PDFWorkerUtil.fakeWorkerId++,f=new _message_handler.MessageHandler(j+"_worker",j,F);Ue.setup(f,F);const u=new _message_handler.MessageHandler(j,j+"_worker",F);this._messageHandler=u,this._readyCapability.resolve(),u.send("configure",{verbosity:this.verbosity})}).catch(Ue=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ue.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ue){if(!Ue?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(Ue.port)?this._workerPorts.get(Ue.port):new _PDFWorker(Ue)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function Ue(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(F,j,f,u){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=F,this.loadingTask=j,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:j.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:u.ownerDocument,styleElement:u.styleElement}),this._params=u,u.useWorkerFetch||(this.CMapReaderFactory=new u.CMapReaderFactory({baseUrl:u.cMapUrl,isCompressed:u.cMapPacked}),this.StandardFontDataFactory=new u.StandardFontDataFactory({baseUrl:u.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=f,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(F,j=_util.AnnotationMode.ENABLE,f=!1){let u=_util.RenderingIntentFlag.DISPLAY,J="";switch(F){case"any":u=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":u=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${F}`)}switch(j){case _util.AnnotationMode.DISABLE:u+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:u+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:u+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,J=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${j}`)}return f&&(u+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:u,cacheKey:`${u}_${J}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const F=[];for(const f of _classPrivateFieldGet(this,_pageCache).values())F.push(f._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const j=this.messageHandler.sendWithPromise("Terminate",null);return F.push(j),Promise.all(F).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:F,loadingTask:j}=this;F.on("GetReader",(f,u)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=J=>{this._lastProgress={loaded:J.loaded,total:J.total}},u.onPull=()=>{this._fullReader.read().then(function({value:J,done:Re}){Re?u.close():((0,_util.assert)((0,_util.isArrayBuffer)(J),"GetReader - expected an ArrayBuffer."),u.enqueue(new Uint8Array(J),1,[J]))}).catch(J=>{u.error(J)})},u.onCancel=J=>{this._fullReader.cancel(J),u.ready.catch(Re=>{if(!this.destroyed)throw Re})}}),F.on("ReaderHeadersReady",f=>{const u=(0,_util.createPromiseCapability)(),J=this._fullReader;return J.headersReady.then(()=>{(!J.isStreamingSupported||!J.isRangeSupported)&&(this._lastProgress&&j.onProgress?.(this._lastProgress),J.onProgress=Re=>{j.onProgress?.({loaded:Re.loaded,total:Re.total})}),u.resolve({isStreamingSupported:J.isStreamingSupported,isRangeSupported:J.isRangeSupported,contentLength:J.contentLength})},u.reject),u.promise}),F.on("GetRangeReader",(f,u)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const J=this._networkStream.getRangeReader(f.begin,f.end);J?(u.onPull=()=>{J.read().then(function({value:Re,done:_e}){_e?u.close():((0,_util.assert)((0,_util.isArrayBuffer)(Re),"GetRangeReader - expected an ArrayBuffer."),u.enqueue(new Uint8Array(Re),1,[Re]))}).catch(Re=>{u.error(Re)})},u.onCancel=Re=>{J.cancel(Re),u.ready.catch(_e=>{if(!this.destroyed)throw _e})}):u.close()}),F.on("GetDoc",({pdfInfo:f})=>{this._numPages=f.numPages,this._htmlForXfa=f.htmlForXfa,delete f.htmlForXfa,j._capability.resolve(new PDFDocumentProxy(f,this))}),F.on("DocException",function(f){let u;switch(f.name){case"PasswordException":u=new _util.PasswordException(f.message,f.code);break;case"InvalidPDFException":u=new _util.InvalidPDFException(f.message);break;case"MissingPDFException":u=new _util.MissingPDFException(f.message);break;case"UnexpectedResponseException":u=new _util.UnexpectedResponseException(f.message,f.status);break;case"UnknownErrorException":u=new _util.UnknownErrorException(f.message,f.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}j._capability.reject(u)}),F.on("PasswordRequest",f=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),j.onPassword){const u=J=>{J instanceof Error?this._passwordCapability.reject(J):this._passwordCapability.resolve({password:J})};try{j.onPassword(u,f.code)}catch(J){this._passwordCapability.reject(J)}}else this._passwordCapability.reject(new _util.PasswordException(f.message,f.code));return this._passwordCapability.promise}),F.on("DataLoaded",f=>{j.onProgress?.({loaded:f.length,total:f.length}),this.downloadInfoCapability.resolve(f)}),F.on("StartRenderPage",f=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(f.pageIndex)._startRenderPage(f.transparency,f.cacheKey)}),F.on("commonobj",([f,u,J])=>{if(!this.destroyed&&!this.commonObjs.has(f))switch(u){case"Font":const Re=this._params;if("error"in J){const fe=J.error;(0,_util.warn)(`Error during font loading: ${fe}`),this.commonObjs.resolve(f,fe);break}let _e=null;Re.pdfBug&&globalThis.FontInspector?.enabled&&(_e={registerFont(fe,ve){globalThis.FontInspector.fontAdded(fe,ve)}});const Ee=new _font_loader.FontFaceObject(J,{isEvalSupported:Re.isEvalSupported,disableFontFace:Re.disableFontFace,ignoreErrors:Re.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:_e});this.fontLoader.bind(Ee).catch(fe=>F.sendWithPromise("FontFallback",{id:f})).finally(()=>{!Re.fontExtraProperties&&Ee.data&&(Ee.data=null),this.commonObjs.resolve(f,Ee)});break;case"FontPath":case"Image":this.commonObjs.resolve(f,J);break;default:throw new Error(`Got unknown common object type ${u}`)}}),F.on("obj",([f,u,J,Re])=>{if(this.destroyed)return;const _e=_classPrivateFieldGet(this,_pageCache).get(u);if(!_e.objs.has(f))switch(J){case"Image":_e.objs.resolve(f,Re),Re?.data?.length>8e6&&(_e.cleanupAfterRender=!0);break;case"Pattern":_e.objs.resolve(f,Re);break;default:throw new Error(`Got unknown object type ${J}`)}}),F.on("DocProgress",f=>{this.destroyed||j.onProgress?.({loaded:f.loaded,total:f.total})}),F.on("DocStats",f=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(f.streamTypes),fontTypes:Object.freeze(f.fontTypes)}))}),F.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),F.on("FetchBuiltInCMap",f=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(f):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),F.on("FetchStandardFontData",f=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(f):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:F}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(F)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(F){if(!Number.isInteger(F)||F<=0||F>this._numPages)return Promise.reject(new Error("Invalid page request."));const j=F-1,f=_classPrivateFieldGet(this,_pagePromises).get(j);if(f)return f;const u=this.messageHandler.sendWithPromise("GetPage",{pageIndex:j}).then(J=>{if(this.destroyed)throw new Error("Transport destroyed");const Re=new PDFPageProxy(j,J,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(j,Re),Re});return _classPrivateFieldGet(this,_pagePromises).set(j,u),u}getPageIndex(F){return"object"!=typeof F||null===F||!Number.isInteger(F.num)||F.num<0||!Number.isInteger(F.gen)||F.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:F.num,gen:F.gen})}getAnnotations(F,j){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:F,intent:j})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(F){return"string"!=typeof F?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:F})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(F){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:F})}getStructTree(F){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:F})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(F=>new _optional_content_config.OptionalContentConfig(F))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(F=>({info:F[0],metadata:F[1]?new _metadata.Metadata(F[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(F=!1){var j=this;return _asyncToGenerator(function*(){if(yield j.messageHandler.sendWithPromise("Cleanup",null),!j.destroyed){for(const f of _classPrivateFieldGet(j,_pageCache).values())if(!f.cleanup())throw new Error(`startCleanup: Page ${f.pageNumber} is currently rendering.`);j.commonObjs.clear(),F||j.fontLoader.clear(),_classPrivateFieldSet(j,_metadataPromise,null),j._getFieldObjectsPromise=null,j._hasJSActionsPromise=null}})()}get loadingParams(){const F=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:F.disableAutoFetch,enableXfa:F.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(F,j=null){if(j){const u=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,F);return u.capability.promise.then(()=>j(u.data)),null}const f=_classPrivateFieldGet(this,_objs)[F];if(!f?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${F}.`);return f.data}has(F){return _classPrivateFieldGet(this,_objs)[F]?.capability.settled||!1}resolve(F,j=null){const f=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,F);f.data=j,f.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(Ue){return _classPrivateFieldGet(this,_objs)[Ue]||(_classPrivateFieldGet(this,_objs)[Ue]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(F){this._internalRenderTask=F,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:F,params:j,objs:f,commonObjs:u,annotationCanvasMap:J,operatorList:Re,pageIndex:_e,canvasFactory:Ee,useRequestAnimationFrame:fe=!1,pdfBug:ve=!1}){this.callback=F,this.params=j,this.objs=f,this.commonObjs=u,this.annotationCanvasMap=J,this.operatorListIdx=null,this.operatorList=Re,this._pageIndex=_e,this.canvasFactory=Ee,this._pdfBug=ve,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===fe&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=j.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:F=!1,optionalContentConfig:j}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:f,viewport:u,transform:J,imageLayer:Re,background:_e}=this.params;this.gfx=new _canvas.CanvasGraphics(f,this.commonObjs,this.objs,this.canvasFactory,Re,j,this.annotationCanvasMap),this.gfx.beginDrawing({transform:J,viewport:u,transparency:F,background:_e}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(F=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(F||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var F=this;return _asyncToGenerator(function*(){F.cancelled||(F.operatorListIdx=F.gfx.executeOperatorList(F.operatorList,F.operatorListIdx,F._continueBound,F.stepper),F.operatorListIdx===F.operatorList.argsArray.length&&(F.running=!1,F.operatorList.lastChunk&&(F.gfx.endDrawing(),F._canvas&&InternalRenderTask.canvasInUse.delete(F._canvas),F.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(Ue,F,j)=>{var f;Object.defineProperty(F,"__esModule",{value:!0}),F.StatTimer=F.RenderingCancelledException=F.PixelsPerInch=F.PageViewport=F.PDFDateString=F.DOMStandardFontDataFactory=F.DOMSVGFactory=F.DOMCanvasFactory=F.DOMCMapReaderFactory=void 0,F.deprecated=function K(Z){console.log("Deprecated API usage: "+Z)},F.getFilenameFromUrl=function be(Z){const L=Z.indexOf("#"),ae=Z.indexOf("?"),Se=Math.min(L>0?L:Z.length,ae>0?ae:Z.length);return Z.substring(Z.lastIndexOf("/",Se)+1,Se)},F.getPdfFilenameFromUrl=function me(Z,L="document.pdf"){if("string"!=typeof Z)return L;if(ee(Z))return(0,J.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),L;const Se=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Oe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(Z);let Ve=Se.exec(Oe[1])||Se.exec(Oe[2])||Se.exec(Oe[3]);if(Ve&&(Ve=Ve[0],Ve.includes("%")))try{Ve=Se.exec(decodeURIComponent(Ve))[0]}catch{}return Ve||L},F.getXfaPageViewport=function xe(Z,{scale:L=1,rotation:ae=0}){const{width:Se,height:Oe}=Z.attributes.style,Ve=[0,0,parseInt(Se),parseInt(Oe)];return new De({viewBox:Ve,scale:L,rotation:ae})},F.isDataScheme=ee,F.isPdfFile=function we(Z){return"string"==typeof Z&&/\.pdf$/i.test(Z)},F.isValidFetchUrl=O,F.loadScript=function D(Z,L=!1){return new Promise((ae,Se)=>{const Oe=document.createElement("script");Oe.src=Z,Oe.onload=function(Ve){L&&Oe.remove(),ae(Ve)},Oe.onerror=function(){Se(new Error(`Cannot load script at: ${Oe.src}`))},(document.head||document.documentElement).appendChild(Oe)})};var u=j(6),J=j(1);class _e{}function fe(Z){return ve.apply(this,arguments)}function ve(){return(ve=_asyncToGenerator(function*(Z,L=!1){if(O(Z,document.baseURI)){const ae=yield fetch(Z);if(!ae.ok)throw new Error(ae.statusText);return L?new Uint8Array(yield ae.arrayBuffer()):(0,J.stringToBytes)(yield ae.text())}return new Promise((ae,Se)=>{const Oe=new XMLHttpRequest;Oe.open("GET",Z,!0),L&&(Oe.responseType="arraybuffer"),Oe.onreadystatechange=()=>{if(Oe.readyState===XMLHttpRequest.DONE){if(200===Oe.status||0===Oe.status){let Ve;if(L&&Oe.response?Ve=new Uint8Array(Oe.response):!L&&Oe.responseText&&(Ve=(0,J.stringToBytes)(Oe.responseText)),Ve)return void ae(Ve)}Se(new Error(Oe.statusText))}},Oe.send(null)})})).apply(this,arguments)}f=_e,_defineProperty(_e,"CSS",96),_defineProperty(_e,"PDF",72),_defineProperty(_e,"PDF_TO_CSS_UNITS",f.CSS/f.PDF),F.PixelsPerInch=_e,F.DOMCanvasFactory=class Ee extends u.BaseCanvasFactory{constructor({ownerDocument:L=globalThis.document}={}){super(),this._document=L}_createCanvas(L,ae){const Se=this._document.createElement("canvas");return Se.width=L,Se.height=ae,Se}},F.DOMCMapReaderFactory=class ke extends u.BaseCMapReaderFactory{_fetchData(L,ae){return fe(L,this.isCompressed).then(Se=>({cMapData:Se,compressionType:ae}))}},F.DOMStandardFontDataFactory=class se extends u.BaseStandardFontDataFactory{_fetchData(L){return fe(L,!0)}},F.DOMSVGFactory=class oe extends u.BaseSVGFactory{_createSVG(L){return document.createElementNS("http://www.w3.org/2000/svg",L)}};class De{constructor({viewBox:L,scale:ae,rotation:Se,offsetX:Oe=0,offsetY:Ve=0,dontFlip:Le=!1}){this.viewBox=L,this.scale=ae,this.rotation=Se,this.offsetX=Oe,this.offsetY=Ve;const nt=(L[2]+L[0])/2,ye=(L[3]+L[1])/2;let Q,H,G,V,S,N,W,he;switch((Se%=360)<0&&(Se+=360),Se){case 180:Q=-1,H=0,G=0,V=1;break;case 90:Q=0,H=1,G=1,V=0;break;case 270:Q=0,H=-1,G=-1,V=0;break;case 0:Q=1,H=0,G=0,V=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Le&&(G=-G,V=-V),0===Q?(S=Math.abs(ye-L[1])*ae+Oe,N=Math.abs(nt-L[0])*ae+Ve,W=Math.abs(L[3]-L[1])*ae,he=Math.abs(L[2]-L[0])*ae):(S=Math.abs(nt-L[0])*ae+Oe,N=Math.abs(ye-L[1])*ae+Ve,W=Math.abs(L[2]-L[0])*ae,he=Math.abs(L[3]-L[1])*ae),this.transform=[Q*ae,H*ae,G*ae,V*ae,S-Q*ae*nt-G*ae*ye,N-H*ae*nt-V*ae*ye],this.width=W,this.height=he}clone({scale:L=this.scale,rotation:ae=this.rotation,offsetX:Se=this.offsetX,offsetY:Oe=this.offsetY,dontFlip:Ve=!1}={}){return new De({viewBox:this.viewBox.slice(),scale:L,rotation:ae,offsetX:Se,offsetY:Oe,dontFlip:Ve})}convertToViewportPoint(L,ae){return J.Util.applyTransform([L,ae],this.transform)}convertToViewportRectangle(L){const ae=J.Util.applyTransform([L[0],L[1]],this.transform),Se=J.Util.applyTransform([L[2],L[3]],this.transform);return[ae[0],ae[1],Se[0],Se[1]]}convertToPdfPoint(L,ae){return J.Util.applyInverseTransform([L,ae],this.transform)}}function ee(Z){const L=Z.length;let ae=0;for(;ae<L&&""===Z[ae].trim();)ae++;return"data:"===Z.substring(ae,ae+5).toLowerCase()}function O(Z,L){try{const{protocol:ae}=L?new URL(Z,L):new URL(Z);return"http:"===ae||"https:"===ae}catch{return!1}}let ue;F.PageViewport=De,F.RenderingCancelledException=class te extends J.BaseException{constructor(L,ae){super(L,"RenderingCancelledException"),this.type=ae}},F.StatTimer=class ge{constructor(){this.started=Object.create(null),this.times=[]}time(L){L in this.started&&(0,J.warn)(`Timer is already running for ${L}`),this.started[L]=Date.now()}timeEnd(L){L in this.started||(0,J.warn)(`Timer has not been started for ${L}`),this.times.push({name:L,start:this.started[L],end:Date.now()}),delete this.started[L]}toString(){const L=[];let ae=0;for(const Se of this.times){const Oe=Se.name;Oe.length>ae&&(ae=Oe.length)}for(const Se of this.times){const Oe=Se.end-Se.start;L.push(`${Se.name.padEnd(ae)} ${Oe}ms\n`)}return L.join("")}},F.PDFDateString=class X{static toDateObject(L){if(!L||"string"!=typeof L)return null;ue||(ue=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ae=ue.exec(L);if(!ae)return null;const Se=parseInt(ae[1],10);let Oe=parseInt(ae[2],10);Oe=Oe>=1&&Oe<=12?Oe-1:0;let Ve=parseInt(ae[3],10);Ve=Ve>=1&&Ve<=31?Ve:1;let Le=parseInt(ae[4],10);Le=Le>=0&&Le<=23?Le:0;let nt=parseInt(ae[5],10);nt=nt>=0&&nt<=59?nt:0;let ye=parseInt(ae[6],10);ye=ye>=0&&ye<=59?ye:0;const Q=ae[7]||"Z";let H=parseInt(ae[8],10);H=H>=0&&H<=23?H:0;let G=parseInt(ae[9],10)||0;return G=G>=0&&G<=59?G:0,"-"===Q?(Le+=H,nt+=G):"+"===Q&&(Le-=H,nt-=G),new Date(Date.UTC(Se,Oe,Ve,Le,nt,ye))}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.BaseStandardFontDataFactory=F.BaseSVGFactory=F.BaseCanvasFactory=F.BaseCMapReaderFactory=void 0;var f=j(1);class u{constructor(){this.constructor===u&&(0,f.unreachable)("Cannot initialize BaseCanvasFactory.")}create(fe,ve){if(fe<=0||ve<=0)throw new Error("Invalid canvas size");const ke=this._createCanvas(fe,ve);return{canvas:ke,context:ke.getContext("2d")}}reset(fe,ve,ke){if(!fe.canvas)throw new Error("Canvas is not specified");if(ve<=0||ke<=0)throw new Error("Invalid canvas size");fe.canvas.width=ve,fe.canvas.height=ke}destroy(fe){if(!fe.canvas)throw new Error("Canvas is not specified");fe.canvas.width=0,fe.canvas.height=0,fe.canvas=null,fe.context=null}_createCanvas(fe,ve){(0,f.unreachable)("Abstract method `_createCanvas` called.")}}F.BaseCanvasFactory=u;class J{constructor({baseUrl:fe=null,isCompressed:ve=!1}){this.constructor===J&&(0,f.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=fe,this.isCompressed=ve}fetch({name:fe}){var ve=this;return _asyncToGenerator(function*(){if(!ve.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!fe)throw new Error("CMap name must be specified.");const ke=ve.baseUrl+fe+(ve.isCompressed?".bcmap":"");return ve._fetchData(ke,ve.isCompressed?f.CMapCompressionType.BINARY:f.CMapCompressionType.NONE).catch(oe=>{throw new Error(`Unable to load ${ve.isCompressed?"binary ":""}CMap at: ${ke}`)})})()}_fetchData(fe,ve){(0,f.unreachable)("Abstract method `_fetchData` called.")}}F.BaseCMapReaderFactory=J;class Re{constructor({baseUrl:fe=null}){this.constructor===Re&&(0,f.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=fe}fetch({filename:fe}){var ve=this;return _asyncToGenerator(function*(){if(!ve.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!fe)throw new Error("Font filename must be specified.");const ke=`${ve.baseUrl}${fe}`;return ve._fetchData(ke).catch(se=>{throw new Error(`Unable to load font data at: ${ke}`)})})()}_fetchData(fe){(0,f.unreachable)("Abstract method `_fetchData` called.")}}F.BaseStandardFontDataFactory=Re;class _e{constructor(){this.constructor===_e&&(0,f.unreachable)("Cannot initialize BaseSVGFactory.")}create(fe,ve){if(fe<=0||ve<=0)throw new Error("Invalid SVG dimensions");const ke=this._createSVG("svg:svg");return ke.setAttribute("version","1.1"),ke.setAttribute("width",`${fe}px`),ke.setAttribute("height",`${ve}px`),ke.setAttribute("preserveAspectRatio","none"),ke.setAttribute("viewBox",`0 0 ${fe} ${ve}`),ke}createElement(fe){if("string"!=typeof fe)throw new Error("Invalid SVG element type");return this._createSVG(fe)}_createSVG(fe){(0,f.unreachable)("Abstract method `_createSVG` called.")}}F.BaseSVGFactory=_e},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.FontLoader=F.FontFaceObject=void 0;var f=j(1);class u{constructor({docId:Ee,onUnsupportedFeature:fe,ownerDocument:ve=globalThis.document,styleElement:ke=null}){this.constructor===u&&(0,f.unreachable)("Cannot initialize BaseFontLoader."),this.docId=Ee,this._onUnsupportedFeature=fe,this._document=ve,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(Ee){this.nativeFontFaces.push(Ee),this._document.fonts.add(Ee)}insertRule(Ee){let fe=this.styleElement;fe||(fe=this.styleElement=this._document.createElement("style"),fe.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(fe));const ve=fe.sheet;ve.insertRule(Ee,ve.cssRules.length)}clear(){for(const Ee of this.nativeFontFaces)this._document.fonts.delete(Ee);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(Ee){var fe=this;return _asyncToGenerator(function*(){if(Ee.attached||Ee.missingFile)return;if(Ee.attached=!0,fe.isFontLoadingAPISupported){const ke=Ee.createNativeFontFace();if(ke){fe.addNativeFontFace(ke);try{yield ke.loaded}catch(se){throw fe._onUnsupportedFeature({featureId:f.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,f.warn)(`Failed to load font '${ke.family}': '${se}'.`),Ee.disableFontFace=!0,se}}return}const ve=Ee.createFontFaceRule();if(ve){if(fe.insertRule(ve),fe.isSyncFontLoadingSupported)return;yield new Promise(ke=>{const se=fe._queueLoadingCallback(ke);fe._prepareFontLoadEvent([ve],[Ee],se)})}})()}_queueLoadingCallback(Ee){(0,f.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,f.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,f.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,f.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(Ee,fe,ve){(0,f.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let J;F.FontLoader=J,F.FontLoader=J=class extends u{constructor(Ee){super(Ee),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let Ee=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(Ee=!0),(0,f.shadow)(this,"isSyncFontLoadingSupported",Ee)}_queueLoadingCallback(Ee){const ve=this.loadingContext,ke={id:"pdfjs-font-loading-"+ve.nextRequestId++,done:!1,complete:function fe(){for((0,f.assert)(!ke.done,"completeRequest() cannot be called twice."),ke.done=!0;ve.requests.length>0&&ve.requests[0].done;){const se=ve.requests.shift();setTimeout(se.callback,0)}},callback:Ee};return ve.requests.push(ke),ke}get _loadTestFont(){return(0,f.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(Ee,fe,ve){function ke(ae,Se){return ae.charCodeAt(Se)<<24|ae.charCodeAt(Se+1)<<16|ae.charCodeAt(Se+2)<<8|255&ae.charCodeAt(Se+3)}function se(ae,Se,Oe,Ve){return ae.substring(0,Se)+Ve+ae.substring(Se+Oe)}let oe,De;const te=this._document.createElement("canvas");te.width=1,te.height=1;const ee=te.getContext("2d");let we=0;const me=`lt${Date.now()}${this.loadTestFontId++}`;let ge=this._loadTestFont;ge=se(ge,976,me.length,me);const K=1482184792;let ue=ke(ge,16);for(oe=0,De=me.length-3;oe<De;oe+=4)ue=ue-K+ke(me,oe)|0;oe<me.length&&(ue=ue-K+ke(me+"XXX",oe)|0),ge=se(ge,16,4,(0,f.string32)(ue));const X=`url(data:font/opentype;base64,${btoa(ge)});`;this.insertRule(`@font-face {font-family:"${me}";src:${X}}`);const Z=[];for(const ae of fe)Z.push(ae.loadedName);Z.push(me);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const ae of Z){const Se=this._document.createElement("span");Se.textContent="Hi",Se.style.fontFamily=ae,L.appendChild(Se)}this._document.body.appendChild(L),function be(ae,Se){if(we++,we>30)return(0,f.warn)("Load test font never loaded."),void Se();ee.font="30px "+ae,ee.fillText(".",0,20),ee.getImageData(0,0,1,1).data[3]>0?Se():setTimeout(be.bind(null,ae,Se))}(me,()=>{L.remove(),ve.complete()})}},F.FontFaceObject=class Re{constructor(Ee,{isEvalSupported:fe=!0,disableFontFace:ve=!1,ignoreErrors:ke=!1,onUnsupportedFeature:se,fontRegistry:oe=null}){this.compiledGlyphs=Object.create(null);for(const De in Ee)this[De]=Ee[De];this.isEvalSupported=!1!==fe,this.disableFontFace=!0===ve,this.ignoreErrors=!0===ke,this._onUnsupportedFeature=se,this.fontRegistry=oe}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let Ee;if(this.cssFontInfo){const fe={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(fe.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Ee=new FontFace(this.cssFontInfo.fontFamily,this.data,fe)}else Ee=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),Ee}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const Ee=(0,f.bytesToString)(this.data),fe=`url(data:${this.mimetype};base64,${btoa(Ee)});`;let ve;if(this.cssFontInfo){let ke=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ke+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ve=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ke}src:${fe}}`}else ve=`@font-face {font-family:"${this.loadedName}";src:${fe}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,fe),ve}getPathGenerator(Ee,fe){if(void 0!==this.compiledGlyphs[fe])return this.compiledGlyphs[fe];let ve;try{ve=Ee.get(this.loadedName+"_path_"+fe)}catch(ke){if(!this.ignoreErrors)throw ke;return this._onUnsupportedFeature({featureId:f.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,f.warn)(`getPathGenerator - ignoring character: "${ke}".`),this.compiledGlyphs[fe]=function(se,oe){}}if(this.isEvalSupported&&f.IsEvalSupportedCached.value){const ke=[];for(const se of ve){const oe=void 0!==se.args?se.args.join(","):"";ke.push("c.",se.cmd,"(",oe,");\n")}return this.compiledGlyphs[fe]=new Function("c","size",ke.join(""))}return this.compiledGlyphs[fe]=function(ke,se){for(const oe of ve)"scale"===oe.cmd&&(oe.args=[se,-se]),ke[oe.cmd].apply(ke,oe.args)}}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.NodeStandardFontDataFactory=F.NodeCanvasFactory=F.NodeCMapReaderFactory=void 0;var f=j(6),u=j(3),J=j(1);let Re=class{constructor(){(0,J.unreachable)("Not implemented: NodeCanvasFactory")}};F.NodeCanvasFactory=Re;let _e=class{constructor(){(0,J.unreachable)("Not implemented: NodeCMapReaderFactory")}};F.NodeCMapReaderFactory=_e;let Ee=class{constructor(){(0,J.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(F.NodeStandardFontDataFactory=Ee,u.isNodeJS){const fe=function(ve){return new Promise((ke,se)=>{__webpack_require__(172).readFile(ve,(De,te)=>{!De&&te?ke(new Uint8Array(te)):se(new Error(De))})})};F.NodeCanvasFactory=Re=class extends f.BaseCanvasFactory{_createCanvas(ve,ke){return __webpack_require__(3414).createCanvas(ve,ke)}},F.NodeCMapReaderFactory=_e=class extends f.BaseCMapReaderFactory{_fetchData(ve,ke){return fe(ve).then(se=>({cMapData:se,compressionType:ke}))}},F.NodeStandardFontDataFactory=Ee=class extends f.BaseStandardFontDataFactory{_fetchData(ve){return fe(ve)}}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.AnnotationStorage=void 0;var f=j(1);F.AnnotationStorage=class u{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(Re,_e){const Ee=this._storage.get(Re);return void 0===Ee?_e:Object.assign(_e,Ee)}setValue(Re,_e){const Ee=this._storage.get(Re);let fe=!1;if(void 0!==Ee)for(const[ve,ke]of Object.entries(_e))Ee[ve]!==ke&&(fe=!0,Ee[ve]=ke);else fe=!0,this._storage.set(Re,_e);fe&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,f.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.CanvasGraphics=void 0;var f=j(1),u=j(11),J=j(5);const Ee=4096,oe=16,De=1.000001;function ee(ye){if(ye._transformStack&&(ye._transformStack=[]),!ye.mozCurrentTransform){ye._originalSave=ye.save,ye._originalRestore=ye.restore,ye._originalRotate=ye.rotate,ye._originalScale=ye.scale,ye._originalTranslate=ye.translate,ye._originalTransform=ye.transform,ye._originalSetTransform=ye.setTransform,ye._originalResetTransform=ye.resetTransform,ye._transformMatrix=ye._transformMatrix||[1,0,0,1,0,0],ye._transformStack=[];try{const Q=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ye),"lineWidth");ye._setLineWidth=Q.set,ye._getLineWidth=Q.get,Object.defineProperty(ye,"lineWidth",{set:function(G){this._setLineWidth(G*De)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(ye,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ye,"mozCurrentTransformInverse",{get:function(){const[H,G,V,S,N,W]=this._transformMatrix,he=H*S-G*V,le=G*V-H*S;return[S/he,G/le,V/le,H/he,(S*N-V*W)/le,(G*N-H*W)/he]}}),ye.save=function(){const H=this._transformMatrix;this._transformStack.push(H),this._transformMatrix=H.slice(0,6),this._originalSave()},ye.restore=function(){0===this._transformStack.length&&(0,f.warn)("Tried to restore a ctx when the stack was already empty.");const H=this._transformStack.pop();H&&(this._transformMatrix=H,this._originalRestore())},ye.translate=function(H,G){const V=this._transformMatrix;V[4]=V[0]*H+V[2]*G+V[4],V[5]=V[1]*H+V[3]*G+V[5],this._originalTranslate(H,G)},ye.scale=function(H,G){const V=this._transformMatrix;V[0]*=H,V[1]*=H,V[2]*=G,V[3]*=G,this._originalScale(H,G)},ye.transform=function(H,G,V,S,N,W){const he=this._transformMatrix;this._transformMatrix=[he[0]*H+he[2]*G,he[1]*H+he[3]*G,he[0]*V+he[2]*S,he[1]*V+he[3]*S,he[0]*N+he[2]*W+he[4],he[1]*N+he[3]*W+he[5]],ye._originalTransform(H,G,V,S,N,W)},ye.setTransform=function(H,G,V,S,N,W){this._transformMatrix=[H,G,V,S,N,W],ye._originalSetTransform(H,G,V,S,N,W)},ye.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],ye._originalResetTransform()},ye.rotate=function(H){const G=Math.cos(H),V=Math.sin(H),S=this._transformMatrix;this._transformMatrix=[S[0]*G+S[2]*V,S[1]*G+S[3]*V,S[0]*-V+S[2]*G,S[1]*-V+S[3]*G,S[4],S[5]],this._originalRotate(H)}}}class we{constructor(Q){this.canvasFactory=Q,this.cache=Object.create(null)}getCanvas(Q,H,G,V){let S;return void 0!==this.cache[Q]?(S=this.cache[Q],this.canvasFactory.reset(S,H,G),S.context.setTransform(1,0,0,1,0,0)):(S=this.canvasFactory.create(H,G),this.cache[Q]=S),V&&ee(S.context),S}clear(){for(const Q in this.cache)this.canvasFactory.destroy(this.cache[Q]),delete this.cache[Q]}}class me{constructor(Q,H){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=f.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=f.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Q,H])}clone(){const Q=Object.create(this);return Q.clipBox=this.clipBox.slice(),Q}setCurrentPoint(Q,H){this.x=Q,this.y=H}updatePathMinMax(Q,H,G){[H,G]=f.Util.applyTransform([H,G],Q),this.minX=Math.min(this.minX,H),this.minY=Math.min(this.minY,G),this.maxX=Math.max(this.maxX,H),this.maxY=Math.max(this.maxY,G)}updateCurvePathMinMax(Q,H,G,V,S,N,W,he,le){const Y=f.Util.bezierBoundingBox(H,G,V,S,N,W,he,le);this.updatePathMinMax(Q,Y[0],Y[1]),this.updatePathMinMax(Q,Y[2],Y[3])}getPathBoundingBox(Q=u.PathType.FILL,H=null){const G=[this.minX,this.minY,this.maxX,this.maxY];if(Q===u.PathType.STROKE){H||(0,f.unreachable)("Stroke bounding box must include transform.");const V=f.Util.singularValueDecompose2dScale(H),S=V[0]*this.lineWidth/2,N=V[1]*this.lineWidth/2;G[0]-=S,G[1]-=N,G[2]+=S,G[3]+=N}return G}updateClipFromPath(){const Q=f.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Q||[0,0,0,0])}startNewPathAndClipBox(Q){this.clipBox=Q,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Q=u.PathType.FILL,H=null){return f.Util.intersect(this.clipBox,this.getPathBoundingBox(Q,H))}}function ge(ye,Q,H=null){if(typeof ImageData<"u"&&Q instanceof ImageData)return void ye.putImageData(Q,0,0);const G=Q.height,V=Q.width,S=G%oe,N=(G-S)/oe,W=0===S?N:N+1,he=ye.createImageData(V,oe);let Y,le=0;const He=Q.data,We=he.data;let qe,ze,ft,Rt,Ut,Nt,Pt,zt;if(H)switch(H.length){case 1:Ut=H[0],Nt=H[0],Pt=H[0],zt=H[0];break;case 4:Ut=H[0],Nt=H[1],Pt=H[2],zt=H[3]}if(Q.kind===f.ImageKind.GRAYSCALE_1BPP){const gn=He.byteLength,qt=new Uint32Array(We.buffer,0,We.byteLength>>2),sn=qt.length,Vn=V+7>>3;let ut=4294967295,Ie=f.IsLittleEndianCached.value?4278190080:255;for(zt&&255===zt[0]&&0===zt[255]&&([ut,Ie]=[Ie,ut]),qe=0;qe<W;qe++){for(ft=qe<N?oe:S,Y=0,ze=0;ze<ft;ze++){const Je=gn-le;let at=0;const bt=Je>Vn?V:8*Je-7,Ke=-8&bt;let pt=0,Lt=0;for(;at<Ke;at+=8)Lt=He[le++],qt[Y++]=128&Lt?ut:Ie,qt[Y++]=64&Lt?ut:Ie,qt[Y++]=32&Lt?ut:Ie,qt[Y++]=16&Lt?ut:Ie,qt[Y++]=8&Lt?ut:Ie,qt[Y++]=4&Lt?ut:Ie,qt[Y++]=2&Lt?ut:Ie,qt[Y++]=1&Lt?ut:Ie;for(;at<bt;at++)0===pt&&(Lt=He[le++],pt=128),qt[Y++]=Lt&pt?ut:Ie,pt>>=1}for(;Y<sn;)qt[Y++]=0;ye.putImageData(he,0,qe*oe)}}else if(Q.kind===f.ImageKind.RGBA_32BPP){const gn=!!(Ut||Nt||Pt);for(ze=0,Rt=V*oe*4,qe=0;qe<N;qe++){if(We.set(He.subarray(le,le+Rt)),le+=Rt,gn)for(let qt=0;qt<Rt;qt+=4)Ut&&(We[qt+0]=Ut[We[qt+0]]),Nt&&(We[qt+1]=Nt[We[qt+1]]),Pt&&(We[qt+2]=Pt[We[qt+2]]);ye.putImageData(he,0,ze),ze+=oe}if(qe<W){if(Rt=V*S*4,We.set(He.subarray(le,le+Rt)),gn)for(let qt=0;qt<Rt;qt+=4)Ut&&(We[qt+0]=Ut[We[qt+0]]),Nt&&(We[qt+1]=Nt[We[qt+1]]),Pt&&(We[qt+2]=Pt[We[qt+2]]);ye.putImageData(he,0,ze)}}else{if(Q.kind!==f.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${Q.kind}`);{const gn=!!(Ut||Nt||Pt);for(ft=oe,Rt=V*ft,qe=0;qe<W;qe++){for(qe>=N&&(ft=S,Rt=V*ft),Y=0,ze=Rt;ze--;)We[Y++]=He[le++],We[Y++]=He[le++],We[Y++]=He[le++],We[Y++]=255;if(gn)for(let qt=0;qt<Y;qt+=4)Ut&&(We[qt+0]=Ut[We[qt+0]]),Nt&&(We[qt+1]=Nt[We[qt+1]]),Pt&&(We[qt+2]=Pt[We[qt+2]]);ye.putImageData(he,0,qe*oe)}}}}function O(ye,Q){const H=Q.height,G=Q.width,V=H%oe,S=(H-V)/oe,N=0===V?S:S+1,W=ye.createImageData(G,oe);let he=0;const le=Q.data,Y=W.data;for(let He=0;He<N;He++){const We=He<S?oe:V;let qe=3;for(let ze=0;ze<We;ze++){let ft,Rt=0;for(let Ut=0;Ut<G;Ut++)Rt||(ft=le[he++],Rt=128),Y[qe]=ft&Rt?0:255,qe+=4,Rt>>=1}ye.putImageData(W,0,He*oe)}}function D(ye,Q){const H=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let G=0,V=H.length;G<V;G++){const S=H[G];void 0!==ye[S]&&(Q[S]=ye[S])}void 0!==ye.setLineDash&&(Q.setLineDash(ye.getLineDash()),Q.lineDashOffset=ye.lineDashOffset)}function K(ye){ye.strokeStyle="#000000",ye.fillStyle="#000000",ye.fillRule="nonzero",ye.globalAlpha=1,ye.lineWidth=1,ye.lineCap="butt",ye.lineJoin="miter",ye.miterLimit=10,ye.globalCompositeOperation="source-over",ye.font="10px sans-serif",void 0!==ye.setLineDash&&(ye.setLineDash([]),ye.lineDashOffset=0)}function ue(ye,Q,H,G){const V=ye.length;for(let S=3;S<V;S+=4){const N=ye[S];if(0===N)ye[S-3]=Q,ye[S-2]=H,ye[S-1]=G;else if(N<255){const W=255-N;ye[S-3]=ye[S-3]*N+Q*W>>8,ye[S-2]=ye[S-2]*N+H*W>>8,ye[S-1]=ye[S-1]*N+G*W>>8}}}function X(ye,Q,H){const G=ye.length;for(let S=3;S<G;S+=4)Q[S]=Q[S]*(H?H[ye[S]]:ye[S])*.00392156862745098|0}function xe(ye,Q,H){const G=ye.length;for(let V=3;V<G;V+=4){const S=77*ye[V-3]+152*ye[V-2]+28*ye[V-1];Q[V]=H?Q[V]*H[S>>8]>>8:Q[V]*S>>16}}function ae(ye,Q){const H=f.Util.singularValueDecompose2dScale(ye);H[0]=Math.fround(H[0]),H[1]=Math.fround(H[1]);const G=Math.fround((globalThis.devicePixelRatio||1)*J.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==Q?Q:H[0]<=G||H[1]<=G}const Se=["butt","round","square"],Oe=["miter","round","bevel"],Ve={},Le={};class nt{constructor(Q,H,G,V,S,N,W){this.ctx=Q,this.current=new me(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=H,this.objs=G,this.canvasFactory=V,this.imageLayer=S,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=N,this.cachedCanvases=new we(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=W,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,Q&&ee(Q),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:Q,viewport:H,transparency:G=!1,background:V=null}){const S=this.ctx.canvas.width,N=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=V||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,S,N),this.ctx.restore(),G){const W=this.cachedCanvases.getCanvas("transparent",S,N,!0);this.compositeCtx=this.ctx,this.transparentCanvas=W.canvas,this.ctx=W.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),K(this.ctx),Q&&(this.ctx.transform.apply(this.ctx,Q),this.outputScaleX=Q[0],this.outputScaleY=Q[0]),this.ctx.transform.apply(this.ctx,H.transform),this.viewportScale=H.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(Q,H,G,V){const S=Q.argsArray,N=Q.fnArray;let W=H||0;const he=S.length;if(he===W)return W;const le=he-W>10&&"function"==typeof G,Y=le?Date.now()+15:0;let He=0;const We=this.commonObjs,qe=this.objs;let ze;for(;;){if(void 0!==V&&W===V.nextBreakPoint)return V.breakIt(W,G),W;if(ze=N[W],ze!==f.OPS.dependency)this[ze].apply(this,S[W]);else for(const ft of S[W]){const Rt=ft.startsWith("g_")?We:qe;if(!Rt.has(ft))return Rt.get(ft,G),W}if(W++,W===he)return W;if(le&&++He>10){if(Date.now()>Y)return G(),W;He=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(Q,H){const G=Q.width,V=Q.height;let Y,He,S=Math.max(Math.hypot(H[0],H[1]),1),N=Math.max(Math.hypot(H[2],H[3]),1),W=G,he=V,le="prescale1";for(;S>2&&W>1||N>2&&he>1;){let We=W,qe=he;S>2&&W>1&&(We=Math.ceil(W/2),S/=W/We),N>2&&he>1&&(qe=Math.ceil(he/2),N/=he/qe),Y=this.cachedCanvases.getCanvas(le,We,qe),He=Y.context,He.clearRect(0,0,We,qe),He.drawImage(Q,0,0,W,he,0,0,We,qe),Q=Y.canvas,W=We,he=qe,le="prescale1"===le?"prescale2":"prescale1"}return{img:Q,paintWidth:W,paintHeight:he}}_createMaskCanvas(Q){const H=this.ctx,G=Q.width,V=Q.height,S=this.current.fillColor,N=this.current.patternFill,W=this.cachedCanvases.getCanvas("maskCanvas",G,V);O(W.context,Q);let Y=f.Util.transform(H.mozCurrentTransform,[1/G,0,0,-1/V,0,0]);Y=f.Util.transform(Y,[1,0,0,1,0,-V]);const He=f.Util.applyTransform([0,0],Y),We=f.Util.applyTransform([G,V],Y),qe=f.Util.normalizeRect([He[0],He[1],We[0],We[1]]),ze=Math.ceil(qe[2]-qe[0]),ft=Math.ceil(qe[3]-qe[1]),Rt=this.cachedCanvases.getCanvas("fillCanvas",ze,ft,!0),Ut=Rt.context,Nt=Math.min(He[0],We[0]),Pt=Math.min(He[1],We[1]);Ut.translate(-Nt,-Pt),Ut.transform.apply(Ut,Y);const zt=this._scaleImage(W.canvas,Ut.mozCurrentTransformInverse);Ut.imageSmoothingEnabled=ae(Ut.mozCurrentTransform,Q.interpolate),Ut.drawImage(zt.img,0,0,zt.img.width,zt.img.height,0,0,G,V),Ut.globalCompositeOperation="source-in";const gn=f.Util.transform(Ut.mozCurrentTransformInverse,[1,0,0,1,-Nt,-Pt]);return Ut.fillStyle=N?S.getPattern(H,this,gn,u.PathType.FILL):S,Ut.fillRect(0,0,G,V),{canvas:Rt.canvas,offsetX:Math.round(Nt),offsetY:Math.round(Pt)}}setLineWidth(Q){this.current.lineWidth=Q,this.ctx.lineWidth=Q}setLineCap(Q){this.ctx.lineCap=Se[Q]}setLineJoin(Q){this.ctx.lineJoin=Oe[Q]}setMiterLimit(Q){this.ctx.miterLimit=Q}setDash(Q,H){const G=this.ctx;void 0!==G.setLineDash&&(G.setLineDash(Q),G.lineDashOffset=H)}setRenderingIntent(Q){}setFlatness(Q){}setGState(Q){for(let H=0,G=Q.length;H<G;H++){const V=Q[H],N=V[1];switch(V[0]){case"LW":this.setLineWidth(N);break;case"LC":this.setLineCap(N);break;case"LJ":this.setLineJoin(N);break;case"ML":this.setMiterLimit(N);break;case"D":this.setDash(N[0],N[1]);break;case"RI":this.setRenderingIntent(N);break;case"FL":this.setFlatness(N);break;case"Font":this.setFont(N[0],N[1]);break;case"CA":this.current.strokeAlpha=V[1];break;case"ca":this.current.fillAlpha=V[1],this.ctx.globalAlpha=V[1];break;case"BM":this.ctx.globalCompositeOperation=N;break;case"SMask":this.current.activeSMask=N?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=N}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Q=this.inSMaskMode;this.current.activeSMask&&!Q?this.beginSMaskMode():!this.current.activeSMask&&Q&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const V=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=V.context;const S=this.ctx;S.setTransform.apply(S,this.suspendedCtx.mozCurrentTransform),D(this.suspendedCtx,S),function te(ye,Q){if(ye._removeMirroring)throw new Error("Context is already forwarding operations.");ye.__originalSave=ye.save,ye.__originalRestore=ye.restore,ye.__originalRotate=ye.rotate,ye.__originalScale=ye.scale,ye.__originalTranslate=ye.translate,ye.__originalTransform=ye.transform,ye.__originalSetTransform=ye.setTransform,ye.__originalResetTransform=ye.resetTransform,ye.__originalClip=ye.clip,ye.__originalMoveTo=ye.moveTo,ye.__originalLineTo=ye.lineTo,ye.__originalBezierCurveTo=ye.bezierCurveTo,ye.__originalRect=ye.rect,ye.__originalClosePath=ye.closePath,ye.__originalBeginPath=ye.beginPath,ye._removeMirroring=()=>{ye.save=ye.__originalSave,ye.restore=ye.__originalRestore,ye.rotate=ye.__originalRotate,ye.scale=ye.__originalScale,ye.translate=ye.__originalTranslate,ye.transform=ye.__originalTransform,ye.setTransform=ye.__originalSetTransform,ye.resetTransform=ye.__originalResetTransform,ye.clip=ye.__originalClip,ye.moveTo=ye.__originalMoveTo,ye.lineTo=ye.__originalLineTo,ye.bezierCurveTo=ye.__originalBezierCurveTo,ye.rect=ye.__originalRect,ye.closePath=ye.__originalClosePath,ye.beginPath=ye.__originalBeginPath,delete ye._removeMirroring},ye.save=function(){Q.save(),this.__originalSave()},ye.restore=function(){Q.restore(),this.__originalRestore()},ye.translate=function(G,V){Q.translate(G,V),this.__originalTranslate(G,V)},ye.scale=function(G,V){Q.scale(G,V),this.__originalScale(G,V)},ye.transform=function(G,V,S,N,W,he){Q.transform(G,V,S,N,W,he),this.__originalTransform(G,V,S,N,W,he)},ye.setTransform=function(G,V,S,N,W,he){Q.setTransform(G,V,S,N,W,he),this.__originalSetTransform(G,V,S,N,W,he)},ye.resetTransform=function(){Q.resetTransform(),this.__originalResetTransform()},ye.rotate=function(G){Q.rotate(G),this.__originalRotate(G)},ye.clip=function(G){Q.clip(G),this.__originalClip(G)},ye.moveTo=function(H,G){Q.moveTo(H,G),this.__originalMoveTo(H,G)},ye.lineTo=function(H,G){Q.lineTo(H,G),this.__originalLineTo(H,G)},ye.bezierCurveTo=function(H,G,V,S,N,W){Q.bezierCurveTo(H,G,V,S,N,W),this.__originalBezierCurveTo(H,G,V,S,N,W)},ye.rect=function(H,G,V,S){Q.rect(H,G,V,S),this.__originalRect(H,G,V,S)},ye.closePath=function(){Q.closePath(),this.__originalClosePath()},ye.beginPath=function(){Q.beginPath(),this.__originalBeginPath()}}(S,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),D(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Q){this.current.activeSMask&&(Q?(Q[0]=Math.floor(Q[0]),Q[1]=Math.floor(Q[1]),Q[2]=Math.ceil(Q[2]),Q[3]=Math.ceil(Q[3])):Q=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function L(ye,Q,H,G){const V=G[0],S=G[1],N=G[2]-V,W=G[3]-S;0===N||0===W||(function Z(ye,Q,H,G,V,S,N,W,he,le,Y){const He=!!S,We=He?S[0]:0,qe=He?S[1]:0,ze=He?S[2]:0;let ft;ft="Luminosity"===V?xe:X;const Ut=Math.min(G,Math.ceil(1048576/H));for(let Nt=0;Nt<G;Nt+=Ut){const Pt=Math.min(Ut,G-Nt),zt=ye.getImageData(W-le,Nt+(he-Y),H,Pt),gn=Q.getImageData(W,Nt+he,H,Pt);He&&ue(zt.data,We,qe,ze),ft(zt.data,gn.data,N),Q.putImageData(gn,W,Nt+he)}}(Q.context,H,N,W,Q.subtype,Q.backdrop,Q.transferMap,V,S,Q.offsetX,Q.offsetY),ye.save(),ye.globalAlpha=1,ye.globalCompositeOperation="source-over",ye.setTransform(1,0,0,1,0,0),ye.drawImage(H.canvas,0,0),ye.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,Q),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(D(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Q=this.current;this.stateStack.push(Q),this.current=Q.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),D(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(Q,H,G,V,S,N){this.ctx.transform(Q,H,G,V,S,N),this._cachedGetSinglePixelWidth=null}constructPath(Q,H){const G=this.ctx,V=this.current;let W,he,S=V.x,N=V.y;for(let le=0,Y=0,He=Q.length;le<He;le++)switch(0|Q[le]){case f.OPS.rectangle:S=H[Y++],N=H[Y++];const We=H[Y++],qe=H[Y++],ze=S+We,ft=N+qe;G.moveTo(S,N),0===We||0===qe?G.lineTo(ze,ft):(G.lineTo(ze,N),G.lineTo(ze,ft),G.lineTo(S,ft)),V.updatePathMinMax(G.mozCurrentTransform,S,N),V.updatePathMinMax(G.mozCurrentTransform,ze,ft),G.closePath();break;case f.OPS.moveTo:S=H[Y++],N=H[Y++],G.moveTo(S,N),V.updatePathMinMax(G.mozCurrentTransform,S,N);break;case f.OPS.lineTo:S=H[Y++],N=H[Y++],G.lineTo(S,N),V.updatePathMinMax(G.mozCurrentTransform,S,N);break;case f.OPS.curveTo:W=S,he=N,S=H[Y+4],N=H[Y+5],G.bezierCurveTo(H[Y],H[Y+1],H[Y+2],H[Y+3],S,N),V.updateCurvePathMinMax(G.mozCurrentTransform,W,he,H[Y],H[Y+1],H[Y+2],H[Y+3],S,N),Y+=6;break;case f.OPS.curveTo2:W=S,he=N,G.bezierCurveTo(S,N,H[Y],H[Y+1],H[Y+2],H[Y+3]),V.updateCurvePathMinMax(G.mozCurrentTransform,W,he,S,N,H[Y],H[Y+1],H[Y+2],H[Y+3]),S=H[Y+2],N=H[Y+3],Y+=4;break;case f.OPS.curveTo3:W=S,he=N,S=H[Y+2],N=H[Y+3],G.bezierCurveTo(H[Y],H[Y+1],S,N,S,N),V.updateCurvePathMinMax(G.mozCurrentTransform,W,he,H[Y],H[Y+1],S,N,S,N),Y+=4;break;case f.OPS.closePath:G.closePath()}V.setCurrentPoint(S,N)}closePath(){this.ctx.closePath()}stroke(Q){Q=!(typeof Q<"u")||Q;const H=this.ctx,G=this.current.strokeColor;if(H.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof G&&G?.getPattern){const V=this.getSinglePixelWidth();H.save(),H.strokeStyle=G.getPattern(H,this,H.mozCurrentTransformInverse,u.PathType.STROKE),H.lineWidth=Math.max(V,this.current.lineWidth),H.stroke(),H.restore()}else{const V=this.getSinglePixelWidth();V<0&&-V>=this.current.lineWidth?(H.save(),H.resetTransform(),H.lineWidth=Math.floor(this._combinedScaleFactor),H.stroke(),H.restore()):(H.lineWidth=Math.max(V,this.current.lineWidth),H.stroke())}Q&&this.consumePath(this.current.getClippedPathBoundingBox()),H.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Q){Q=!(typeof Q<"u")||Q;const H=this.ctx,G=this.current.fillColor;let S=!1;this.current.patternFill&&(H.save(),H.fillStyle=G.getPattern(H,this,H.mozCurrentTransformInverse,u.PathType.FILL),S=!0);const N=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==N&&(this.pendingEOFill?(H.fill("evenodd"),this.pendingEOFill=!1):H.fill()),S&&H.restore(),Q&&this.consumePath(N)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ve}eoClip(){this.pendingClip=Le}beginText(){this.current.textMatrix=f.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Q=this.pendingTextPaths,H=this.ctx;if(void 0!==Q){H.save(),H.beginPath();for(let G=0;G<Q.length;G++){const V=Q[G];H.setTransform.apply(H,V.transform),H.translate(V.x,V.y),V.addToPath(H,V.fontSize)}H.restore(),H.clip(),H.beginPath(),delete this.pendingTextPaths}else H.beginPath()}setCharSpacing(Q){this.current.charSpacing=Q}setWordSpacing(Q){this.current.wordSpacing=Q}setHScale(Q){this.current.textHScale=Q/100}setLeading(Q){this.current.leading=-Q}setFont(Q,H){const G=this.commonObjs.get(Q),V=this.current;if(!G)throw new Error(`Can't find font for ${Q}`);if(V.fontMatrix=G.fontMatrix||f.FONT_IDENTITY_MATRIX,(0===V.fontMatrix[0]||0===V.fontMatrix[3])&&(0,f.warn)("Invalid font matrix for font "+Q),H<0?(H=-H,V.fontDirection=-1):V.fontDirection=1,this.current.font=G,this.current.fontSize=H,G.isType3Font)return;let N="normal";G.black?N="900":G.bold&&(N="bold");const W=G.italic?"italic":"normal",he=`"${G.loadedName||"sans-serif"}", ${G.fallbackName}`;let le=H;H<16?le=16:H>100&&(le=100),this.current.fontSizeScale=H/le,this.ctx.font=`${W} ${N} ${le}px ${he}`}setTextRenderingMode(Q){this.current.textRenderingMode=Q}setTextRise(Q){this.current.textRise=Q}moveText(Q,H){this.current.x=this.current.lineX+=Q,this.current.y=this.current.lineY+=H}setLeadingMoveText(Q,H){this.setLeading(-H),this.moveText(Q,H)}setTextMatrix(Q,H,G,V,S,N){this.current.textMatrix=[Q,H,G,V,S,N],this.current.textMatrixScale=Math.hypot(Q,H),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Q,H,G,V,S){const N=this.ctx,W=this.current,he=W.font,le=W.textRenderingMode,Y=W.fontSize/W.fontSizeScale,He=le&f.TextRenderingMode.FILL_STROKE_MASK,We=!!(le&f.TextRenderingMode.ADD_TO_PATH_FLAG),qe=W.patternFill&&!he.missingFile;let ze;(he.disableFontFace||We||qe)&&(ze=he.getPathGenerator(this.commonObjs,Q)),he.disableFontFace||qe?(N.save(),N.translate(H,G),N.beginPath(),ze(N,Y),V&&N.setTransform.apply(N,V),(He===f.TextRenderingMode.FILL||He===f.TextRenderingMode.FILL_STROKE)&&N.fill(),(He===f.TextRenderingMode.STROKE||He===f.TextRenderingMode.FILL_STROKE)&&(S&&(N.resetTransform(),N.lineWidth=Math.floor(this._combinedScaleFactor)),N.stroke()),N.restore()):((He===f.TextRenderingMode.FILL||He===f.TextRenderingMode.FILL_STROKE)&&N.fillText(Q,H,G),(He===f.TextRenderingMode.STROKE||He===f.TextRenderingMode.FILL_STROKE)&&(S?(N.save(),N.moveTo(H,G),N.resetTransform(),N.lineWidth=Math.floor(this._combinedScaleFactor),N.strokeText(Q,0,0),N.restore()):N.strokeText(Q,H,G))),We&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:N.mozCurrentTransform,x:H,y:G,fontSize:Y,addToPath:ze})}get isFontSubpixelAAEnabled(){const{context:Q}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Q.scale(1.5,1),Q.fillText("I",0,10);const H=Q.getImageData(0,0,10,10).data;let G=!1;for(let V=3;V<H.length;V+=4)if(H[V]>0&&H[V]<255){G=!0;break}return(0,f.shadow)(this,"isFontSubpixelAAEnabled",G)}showText(Q){const H=this.current,G=H.font;if(G.isType3Font)return this.showType3Text(Q);const V=H.fontSize;if(0===V)return;const S=this.ctx,N=H.fontSizeScale,W=H.charSpacing,he=H.wordSpacing,le=H.fontDirection,Y=H.textHScale*le,He=Q.length,We=G.vertical,qe=We?1:-1,ze=G.defaultVMetrics,ft=V*H.fontMatrix[0],Rt=H.textRenderingMode===f.TextRenderingMode.FILL&&!G.disableFontFace&&!H.patternFill;let Ut;if(S.save(),S.transform.apply(S,H.textMatrix),S.translate(H.x,H.y+H.textRise),S.scale(Y,le>0?-1:1),H.patternFill){S.save();const sn=H.fillColor.getPattern(S,this,S.mozCurrentTransformInverse,u.PathType.FILL);Ut=S.mozCurrentTransform,S.restore(),S.fillStyle=sn}let Nt=H.lineWidth,Pt=!1;const zt=H.textMatrixScale;if(0===zt||0===Nt){const sn=H.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;(sn===f.TextRenderingMode.STROKE||sn===f.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,Nt=this.getSinglePixelWidth(),Pt=Nt<0)}else Nt/=zt;1!==N&&(S.scale(N,N),Nt/=N),S.lineWidth=Nt;let qt,gn=0;for(qt=0;qt<He;++qt){const sn=Q[qt];if("number"==typeof sn){gn+=qe*sn*V/1e3;continue}let Vn=!1;const ut=(sn.isSpace?he:0)+W,Ie=sn.fontChar,Je=sn.accent;let at,bt,pt,Ke=sn.width;if(We){const Lt=sn.vmetric||ze,$t=-(sn.vmetric?Lt[1]:.5*Ke)*ft;Ke=Lt?-Lt[0]:Ke,at=$t/N,bt=(gn+Lt[2]*ft)/N}else at=gn/N,bt=0;if(G.remeasure&&Ke>0){const Lt=1e3*S.measureText(Ie).width/V*N;if(Ke<Lt&&this.isFontSubpixelAAEnabled){const $t=Ke/Lt;Vn=!0,S.save(),S.scale($t,1),at/=$t}else Ke!==Lt&&(at+=(Ke-Lt)/2e3*V/N)}this.contentVisible&&(sn.isInFont||G.missingFile)&&(Rt&&!Je?S.fillText(Ie,at,bt):(this.paintChar(Ie,at,bt,Ut,Pt),Je&&this.paintChar(Je.fontChar,at+V*Je.offset.x/N,bt-V*Je.offset.y/N,Ut,Pt))),pt=We?Ke*ft-ut*le:Ke*ft+ut*le,gn+=pt,Vn&&S.restore()}We?H.y-=gn:H.x+=gn*Y,S.restore(),this.compose()}showType3Text(Q){const H=this.ctx,G=this.current,V=G.font,S=G.fontSize,N=G.fontDirection,W=V.vertical?1:-1,he=G.charSpacing,le=G.wordSpacing,Y=G.textHScale*N,He=G.fontMatrix||f.FONT_IDENTITY_MATRIX,We=Q.length;let ze,ft,Rt,Ut;if(G.textRenderingMode!==f.TextRenderingMode.INVISIBLE&&0!==S){for(this._cachedGetSinglePixelWidth=null,H.save(),H.transform.apply(H,G.textMatrix),H.translate(G.x,G.y),H.scale(Y,N),ze=0;ze<We;++ze){if(ft=Q[ze],"number"==typeof ft){Ut=W*ft*S/1e3,this.ctx.translate(Ut,0),G.x+=Ut*Y;continue}const Nt=(ft.isSpace?le:0)+he,Pt=V.charProcOperatorList[ft.operatorListId];Pt?(this.contentVisible&&(this.processingType3=ft,this.save(),H.scale(S,S),H.transform.apply(H,He),this.executeOperatorList(Pt),this.restore()),Rt=f.Util.applyTransform([ft.width,0],He)[0]*S+Nt,H.translate(Rt,0),G.x+=Rt*Y):(0,f.warn)(`Type3 character "${ft.operatorListId}" is not available.`)}H.restore(),this.processingType3=null}}setCharWidth(Q,H){}setCharWidthAndBounds(Q,H,G,V,S,N){this.ctx.rect(G,V,S-G,N-V),this.clip(),this.endPath()}getColorN_Pattern(Q){let H;if("TilingPattern"===Q[0]){const G=Q[1],V=this.baseTransform||this.ctx.mozCurrentTransform.slice();H=new u.TilingPattern(Q,G,this.ctx,{createCanvasGraphics:N=>new nt(N,this.commonObjs,this.objs,this.canvasFactory)},V)}else H=this._getPattern(Q[1],Q[2]);return H}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Q,H,G){const V=f.Util.makeHexColor(Q,H,G);this.ctx.strokeStyle=V,this.current.strokeColor=V}setFillRGBColor(Q,H,G){const V=f.Util.makeHexColor(Q,H,G);this.ctx.fillStyle=V,this.current.fillColor=V,this.current.patternFill=!1}_getPattern(Q,H=null){let G;return this.cachedPatterns.has(Q)?G=this.cachedPatterns.get(Q):(G=(0,u.getShadingPattern)(this.objs.get(Q)),this.cachedPatterns.set(Q,G)),H&&(G.matrix=H),G}shadingFill(Q){if(!this.contentVisible)return;const H=this.ctx;this.save();const G=this._getPattern(Q);H.fillStyle=G.getPattern(H,this,H.mozCurrentTransformInverse,u.PathType.SHADING);const V=H.mozCurrentTransformInverse;if(V){const S=H.canvas,N=S.width,W=S.height,he=f.Util.applyTransform([0,0],V),le=f.Util.applyTransform([0,W],V),Y=f.Util.applyTransform([N,0],V),He=f.Util.applyTransform([N,W],V),We=Math.min(he[0],le[0],Y[0],He[0]),qe=Math.min(he[1],le[1],Y[1],He[1]),ze=Math.max(he[0],le[0],Y[0],He[0]),ft=Math.max(he[1],le[1],Y[1],He[1]);this.ctx.fillRect(We,qe,ze-We,ft-qe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,f.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,f.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Q,H){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Q)&&6===Q.length&&this.transform.apply(this,Q),this.baseTransform=this.ctx.mozCurrentTransform,H)&&(this.ctx.rect(H[0],H[1],H[2]-H[0],H[3]-H[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,H[0],H[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,H[2],H[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Q){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const H=this.ctx;Q.isolated||(0,f.info)("TODO: Support non-isolated groups."),Q.knockout&&(0,f.warn)("Knockout groups not supported.");const G=H.mozCurrentTransform;if(Q.matrix&&H.transform.apply(H,Q.matrix),!Q.bbox)throw new Error("Bounding box is required.");let V=f.Util.getAxialAlignedBoundingBox(Q.bbox,H.mozCurrentTransform);V=f.Util.intersect(V,[0,0,H.canvas.width,H.canvas.height])||[0,0,0,0];const N=Math.floor(V[0]),W=Math.floor(V[1]);let he=Math.max(Math.ceil(V[2])-N,1),le=Math.max(Math.ceil(V[3])-W,1),Y=1,He=1;he>Ee&&(Y=he/Ee,he=Ee),le>Ee&&(He=le/Ee,le=Ee),this.current.startNewPathAndClipBox([0,0,he,le]);let We="groupAt"+this.groupLevel;Q.smask&&(We+="_smask_"+this.smaskCounter++%2);const qe=this.cachedCanvases.getCanvas(We,he,le,!0),ze=qe.context;ze.scale(1/Y,1/He),ze.translate(-N,-W),ze.transform.apply(ze,G),Q.smask?this.smaskStack.push({canvas:qe.canvas,context:ze,offsetX:N,offsetY:W,scaleX:Y,scaleY:He,subtype:Q.smask.subtype,backdrop:Q.smask.backdrop,transferMap:Q.smask.transferMap||null,startTransformInverse:null}):(H.setTransform(1,0,0,1,0,0),H.translate(N,W),H.scale(Y,He),H.save()),D(H,ze),this.ctx=ze,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(H),this.groupLevel++}endGroup(Q){if(!this.contentVisible)return;this.groupLevel--;const H=this.ctx,G=this.groupStack.pop();if(this.ctx=G,this.ctx.imageSmoothingEnabled=!1,Q.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const V=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,V);const S=f.Util.getAxialAlignedBoundingBox([0,0,H.canvas.width,H.canvas.height],V);this.ctx.drawImage(H.canvas,0,0),this.ctx.restore(),this.compose(S)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(Q,H,G,V,S){if(this.save(),Array.isArray(H)&&4===H.length){const N=H[2]-H[0],W=H[3]-H[1];if(S&&this.annotationCanvasMap){(G=G.slice())[4]-=H[0],G[5]-=H[1],(H=H.slice())[0]=H[1]=0,H[2]=N,H[3]=W;const[he,le]=f.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:Y}=this,He=Math.ceil(N*this.outputScaleX*Y),We=Math.ceil(W*this.outputScaleY*Y);this.annotationCanvas=this.canvasFactory.create(He,We);const{canvas:qe,context:ze}=this.annotationCanvas;qe.style.width=`calc(${N}px * var(--viewport-scale-factor))`,qe.style.height=`calc(${W}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(Q,qe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ze,this.ctx.setTransform(he,0,0,-le,0,W*le),ee(this.ctx),K(this.ctx)}else K(this.ctx),this.ctx.rect(H[0],H[1],N,W),this.clip(),this.endPath()}this.current=new me(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,G),this.transform.apply(this,V)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(Q){if(!this.contentVisible)return;const H=this.ctx,G=Q.width,V=Q.height,S=this.processingType3;if(S&&void 0===S.compiled&&(S.compiled=G<=1e3&&V<=1e3?function be(ye){const H=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),G=ye.width,V=ye.height,S=G+1;let N,W,he,le;const Y=new Uint8Array(S*(V+1)),He=G+7&-8,We=ye.data,qe=new Uint8Array(He*V);let ze=0;for(N=0,W=We.length;N<W;N++){const Pt=We[N];let zt=128;for(;zt>0;)qe[ze++]=Pt&zt?0:255,zt>>=1}let ft=0;for(ze=0,0!==qe[ze]&&(Y[0]=1,++ft),he=1;he<G;he++)qe[ze]!==qe[ze+1]&&(Y[he]=qe[ze]?2:1,++ft),ze++;for(0!==qe[ze]&&(Y[he]=2,++ft),N=1;N<V;N++){ze=N*He,le=N*S,qe[ze-He]!==qe[ze]&&(Y[le]=qe[ze]?1:8,++ft);let Pt=(qe[ze]?4:0)+(qe[ze-He]?8:0);for(he=1;he<G;he++)Pt=(Pt>>2)+(qe[ze+1]?4:0)+(qe[ze-He+1]?8:0),H[Pt]&&(Y[le+he]=H[Pt],++ft),ze++;if(qe[ze-He]!==qe[ze]&&(Y[le+he]=qe[ze]?2:4,++ft),ft>1e3)return null}for(ze=He*(V-1),le=N*S,0!==qe[ze]&&(Y[le]=8,++ft),he=1;he<G;he++)qe[ze]!==qe[ze+1]&&(Y[le+he]=qe[ze]?4:8,++ft),ze++;if(0!==qe[ze]&&(Y[le+he]=4,++ft),ft>1e3)return null;const Rt=new Int32Array([0,S,-1,0,-S,0,0,0,1]),Ut=[];for(N=0;ft&&N<=V;N++){let Pt=N*S;const zt=Pt+G;for(;Pt<zt&&!Y[Pt];)Pt++;if(Pt===zt)continue;const gn=[Pt%S,N],qt=Pt;let sn=Y[Pt];do{const Vn=Rt[sn];do{Pt+=Vn}while(!Y[Pt]);const ut=Y[Pt];5!==ut&&10!==ut?(sn=ut,Y[Pt]=0):(sn=ut&51*sn>>4,Y[Pt]&=sn>>2|sn<<2),gn.push(Pt%S,Pt/S|0),Y[Pt]||--ft}while(qt!==Pt);Ut.push(gn),--N}return function(Pt){Pt.save(),Pt.scale(1/G,-1/V),Pt.translate(0,-V),Pt.beginPath();for(let zt=0,gn=Ut.length;zt<gn;zt++){const qt=Ut[zt];Pt.moveTo(qt[0],qt[1]);for(let sn=2,Vn=qt.length;sn<Vn;sn+=2)Pt.lineTo(qt[sn],qt[sn+1])}Pt.fill(),Pt.beginPath(),Pt.restore()}}({data:Q.data,width:G,height:V}):null),S?.compiled)return void S.compiled(H);const N=this._createMaskCanvas(Q),W=N.canvas;H.save(),H.setTransform(1,0,0,1,0,0),H.drawImage(W,N.offsetX,N.offsetY),H.restore(),this.compose()}paintImageMaskXObjectRepeat(Q,H,G=0,V=0,S,N){if(!this.contentVisible)return;const W=this.ctx;W.save();const he=W.mozCurrentTransform;W.transform(H,G,V,S,0,0);const le=this._createMaskCanvas(Q);W.setTransform(1,0,0,1,0,0);for(let Y=0,He=N.length;Y<He;Y+=2){const We=f.Util.transform(he,[H,G,V,S,N[Y],N[Y+1]]),[qe,ze]=f.Util.applyTransform([0,0],We);W.drawImage(le.canvas,qe,ze)}W.restore(),this.compose()}paintImageMaskXObjectGroup(Q){if(!this.contentVisible)return;const H=this.ctx,G=this.current.fillColor,V=this.current.patternFill;for(let S=0,N=Q.length;S<N;S++){const W=Q[S],he=W.width,le=W.height,Y=this.cachedCanvases.getCanvas("maskCanvas",he,le),He=Y.context;He.save(),O(He,W),He.globalCompositeOperation="source-in",He.fillStyle=V?G.getPattern(He,this,H.mozCurrentTransformInverse,u.PathType.FILL):G,He.fillRect(0,0,he,le),He.restore(),H.save(),H.transform.apply(H,W.transform),H.scale(1,-1),H.drawImage(Y.canvas,0,0,he,le,0,-1,1,1),H.restore()}this.compose()}paintImageXObject(Q){if(!this.contentVisible)return;const H=Q.startsWith("g_")?this.commonObjs.get(Q):this.objs.get(Q);H?this.paintInlineImageXObject(H):(0,f.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(Q,H,G,V){if(!this.contentVisible)return;const S=Q.startsWith("g_")?this.commonObjs.get(Q):this.objs.get(Q);if(!S)return void(0,f.warn)("Dependent image isn't ready yet");const N=S.width,W=S.height,he=[];for(let le=0,Y=V.length;le<Y;le+=2)he.push({transform:[H,0,0,G,V[le],V[le+1]],x:0,y:0,w:N,h:W});this.paintInlineImageXObjectGroup(S,he)}paintInlineImageXObject(Q){if(!this.contentVisible)return;const H=Q.width,G=Q.height,V=this.ctx;let S;if(this.save(),V.scale(1/H,-1/G),"function"==typeof HTMLElement&&Q instanceof HTMLElement||!Q.data)S=Q;else{const W=this.cachedCanvases.getCanvas("inlineImage",H,G);ge(W.context,Q,this.current.transferMaps),S=W.canvas}const N=this._scaleImage(S,V.mozCurrentTransformInverse);if(V.imageSmoothingEnabled=ae(V.mozCurrentTransform,Q.interpolate),V.drawImage(N.img,0,0,N.paintWidth,N.paintHeight,0,-G,H,G),this.imageLayer){const W=this.getCanvasPosition(0,-G);this.imageLayer.appendImage({imgData:Q,left:W[0],top:W[1],width:H/V.mozCurrentTransformInverse[0],height:G/V.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(Q,H){if(!this.contentVisible)return;const G=this.ctx,V=Q.width,S=Q.height,N=this.cachedCanvases.getCanvas("inlineImage",V,S);ge(N.context,Q,this.current.transferMaps);for(let he=0,le=H.length;he<le;he++){const Y=H[he];if(G.save(),G.transform.apply(G,Y.transform),G.scale(1,-1),G.drawImage(N.canvas,Y.x,Y.y,Y.w,Y.h,0,-1,1,1),this.imageLayer){const He=this.getCanvasPosition(Y.x,Y.y);this.imageLayer.appendImage({imgData:Q,left:He[0],top:He[1],width:V,height:S})}G.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Q){}markPointProps(Q,H){}beginMarkedContent(Q){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Q,H){this.markedContentStack.push("OC"===Q?{visible:this.optionalContentConfig.isVisible(H)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Q){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Q);const H=this.ctx;this.pendingClip&&(this.pendingClip===Le?H.clip("evenodd"):H.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),H.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const Q=this.ctx.mozCurrentTransform,H=Math.abs(Q[0]*Q[3]-Q[2]*Q[1]),G=Q[0]**2+Q[2]**2,V=Q[1]**2+Q[3]**2,S=Math.sqrt(Math.max(G,V))/H;this._cachedGetSinglePixelWidth=G!==V&&this._combinedScaleFactor*S>1?-this._combinedScaleFactor*S:H>Number.EPSILON?S:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(Q,H){const G=this.ctx.mozCurrentTransform;return[G[0]*Q+G[2]*H+G[4],G[1]*Q+G[3]*H+G[5]]}isContentVisible(){for(let Q=this.markedContentStack.length-1;Q>=0;Q--)if(!this.markedContentStack[Q].visible)return!1;return!0}}F.CanvasGraphics=nt;for(const ye in f.OPS)void 0!==nt.prototype[ye]&&(nt.prototype[f.OPS[ye]]=nt.prototype[ye])},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.TilingPattern=F.PathType=void 0,F.getShadingPattern=function se(te){switch(te[0]){case"RadialAxial":return new _e(te);case"Mesh":return new ve(te);case"Dummy":return new ke}throw new Error(`Unknown IR type: ${te[0]}`)};var f=j(1);const u={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function J(te,ee){if(!ee||typeof Path2D>"u")return;const we=ee[2]-ee[0],be=ee[3]-ee[1],me=new Path2D;me.rect(ee[0],ee[1],we,be),te.clip(me)}F.PathType=u;class Re{constructor(){this.constructor===Re&&(0,f.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,f.unreachable)("Abstract method `getPattern` called.")}}class _e extends Re{constructor(ee){super(),this._type=ee[1],this._bbox=ee[2],this._colorStops=ee[3],this._p0=ee[4],this._p1=ee[5],this._r0=ee[6],this._r1=ee[7],this.matrix=null}_createGradient(ee){let we;"axial"===this._type?we=ee.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(we=ee.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const be of this._colorStops)we.addColorStop(be[0],be[1]);return we}getPattern(ee,we,be,me){let ge;if(me===u.STROKE||me===u.FILL){const O=we.current.getClippedPathBoundingBox(me,ee.mozCurrentTransform)||[0,0,0,0],D=Math.ceil(O[2]-O[0])||1,K=Math.ceil(O[3]-O[1])||1,ue=we.cachedCanvases.getCanvas("pattern",D,K,!0),X=ue.context;X.clearRect(0,0,X.canvas.width,X.canvas.height),X.beginPath(),X.rect(0,0,X.canvas.width,X.canvas.height),X.translate(-O[0],-O[1]),be=f.Util.transform(be,[1,0,0,1,O[0],O[1]]),X.transform.apply(X,we.baseTransform),this.matrix&&X.transform.apply(X,this.matrix),J(X,this._bbox),X.fillStyle=this._createGradient(X),X.fill(),ge=ee.createPattern(ue.canvas,"no-repeat");const xe=new DOMMatrix(be);try{ge.setTransform(xe)}catch(Z){(0,f.warn)(`RadialAxialShadingPattern.getPattern: "${Z?.message}".`)}}else J(ee,this._bbox),ge=this._createGradient(ee);return ge}}function Ee(te,ee,we,be,me,ge,O,D){const K=ee.coords,ue=ee.colors,X=te.data,xe=4*te.width;let Z;K[we+1]>K[be+1]&&(Z=we,we=be,be=Z,Z=ge,ge=O,O=Z),K[be+1]>K[me+1]&&(Z=be,be=me,me=Z,Z=O,O=D,D=Z),K[we+1]>K[be+1]&&(Z=we,we=be,be=Z,Z=ge,ge=O,O=Z);const L=(K[we]+ee.offsetX)*ee.scaleX,ae=(K[we+1]+ee.offsetY)*ee.scaleY,Se=(K[be]+ee.offsetX)*ee.scaleX,Oe=(K[be+1]+ee.offsetY)*ee.scaleY,Ve=(K[me]+ee.offsetX)*ee.scaleX,Le=(K[me+1]+ee.offsetY)*ee.scaleY;if(ae>=Le)return;const nt=ue[ge],ye=ue[ge+1],Q=ue[ge+2],H=ue[O],G=ue[O+1],V=ue[O+2],S=ue[D],N=ue[D+1],W=ue[D+2],he=Math.round(ae),le=Math.round(Le);let Y,He,We,qe,ze,ft,Rt,Ut;for(let Nt=he;Nt<=le;Nt++){if(Nt<Oe){let sn;sn=Nt<ae?0:(ae-Nt)/(ae-Oe),Y=L-(L-Se)*sn,He=nt-(nt-H)*sn,We=ye-(ye-G)*sn,qe=Q-(Q-V)*sn}else{let sn;sn=Nt>Le?1:Oe===Le?0:(Oe-Nt)/(Oe-Le),Y=Se-(Se-Ve)*sn,He=H-(H-S)*sn,We=G-(G-N)*sn,qe=V-(V-W)*sn}let Pt;Pt=Nt<ae?0:Nt>Le?1:(ae-Nt)/(ae-Le),ze=L-(L-Ve)*Pt,ft=nt-(nt-S)*Pt,Rt=ye-(ye-N)*Pt,Ut=Q-(Q-W)*Pt;const zt=Math.round(Math.min(Y,ze)),gn=Math.round(Math.max(Y,ze));let qt=xe*Nt+4*zt;for(let sn=zt;sn<=gn;sn++)Pt=(Y-sn)/(Y-ze),Pt<0?Pt=0:Pt>1&&(Pt=1),X[qt++]=He-(He-ft)*Pt|0,X[qt++]=We-(We-Rt)*Pt|0,X[qt++]=qe-(qe-Ut)*Pt|0,X[qt++]=255}}function fe(te,ee,we){const be=ee.coords,me=ee.colors;let ge,O;switch(ee.type){case"lattice":const D=ee.verticesPerRow,K=Math.floor(be.length/D)-1,ue=D-1;for(ge=0;ge<K;ge++){let X=ge*D;for(let xe=0;xe<ue;xe++,X++)Ee(te,we,be[X],be[X+1],be[X+D],me[X],me[X+1],me[X+D]),Ee(te,we,be[X+D+1],be[X+1],be[X+D],me[X+D+1],me[X+1],me[X+D])}break;case"triangles":for(ge=0,O=be.length;ge<O;ge+=3)Ee(te,we,be[ge],be[ge+1],be[ge+2],me[ge],me[ge+1],me[ge+2]);break;default:throw new Error("illegal figure")}}class ve extends Re{constructor(ee){super(),this._coords=ee[2],this._colors=ee[3],this._figures=ee[4],this._bounds=ee[5],this._bbox=ee[7],this._background=ee[8],this.matrix=null}_createMeshCanvas(ee,we,be){const D=Math.floor(this._bounds[0]),K=Math.floor(this._bounds[1]),ue=Math.ceil(this._bounds[2])-D,X=Math.ceil(this._bounds[3])-K,xe=Math.min(Math.ceil(Math.abs(ue*ee[0]*1.1)),3e3),Z=Math.min(Math.ceil(Math.abs(X*ee[1]*1.1)),3e3),L=ue/xe,ae=X/Z,Se={coords:this._coords,colors:this._colors,offsetX:-D,offsetY:-K,scaleX:1/L,scaleY:1/ae},Le=be.getCanvas("mesh",xe+4,Z+4,!1),nt=Le.context,ye=nt.createImageData(xe,Z);if(we){const H=ye.data;for(let G=0,V=H.length;G<V;G+=4)H[G]=we[0],H[G+1]=we[1],H[G+2]=we[2],H[G+3]=255}for(const H of this._figures)fe(ye,H,Se);return nt.putImageData(ye,2,2),{canvas:Le.canvas,offsetX:D-2*L,offsetY:K-2*ae,scaleX:L,scaleY:ae}}getPattern(ee,we,be,me){let ge;if(J(ee,this._bbox),me===u.SHADING)ge=f.Util.singularValueDecompose2dScale(ee.mozCurrentTransform);else if(ge=f.Util.singularValueDecompose2dScale(we.baseTransform),this.matrix){const D=f.Util.singularValueDecompose2dScale(this.matrix);ge=[ge[0]*D[0],ge[1]*D[1]]}const O=this._createMeshCanvas(ge,me===u.SHADING?null:this._background,we.cachedCanvases);return me!==u.SHADING&&(ee.setTransform.apply(ee,we.baseTransform),this.matrix&&ee.transform.apply(ee,this.matrix)),ee.translate(O.offsetX,O.offsetY),ee.scale(O.scaleX,O.scaleY),ee.createPattern(O.canvas,"no-repeat")}}class ke extends Re{getPattern(){return"hotpink"}}class De{static get MAX_PATTERN_SIZE(){return(0,f.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(ee,we,be,me,ge){this.operatorList=ee[2],this.matrix=ee[3]||[1,0,0,1,0,0],this.bbox=ee[4],this.xstep=ee[5],this.ystep=ee[6],this.paintType=ee[7],this.tilingType=ee[8],this.color=we,this.ctx=be,this.canvasGraphicsFactory=me,this.baseTransform=ge}createPatternCanvas(ee){const we=this.operatorList,be=this.bbox,me=this.xstep,ge=this.ystep,O=this.paintType,K=this.color,ue=this.canvasGraphicsFactory;(0,f.info)("TilingType: "+this.tilingType);const X=be[0],xe=be[1],Z=be[2],L=be[3],ae=f.Util.singularValueDecompose2dScale(this.matrix),Se=f.Util.singularValueDecompose2dScale(this.baseTransform),Oe=[ae[0]*Se[0],ae[1]*Se[1]],Ve=this.getSizeAndScale(me,this.ctx.canvas.width,Oe[0]),Le=this.getSizeAndScale(ge,this.ctx.canvas.height,Oe[1]),nt=ee.cachedCanvases.getCanvas("pattern",Ve.size,Le.size,!0),ye=nt.context,Q=ue.createCanvasGraphics(ye);Q.groupLevel=ee.groupLevel,this.setFillAndStrokeStyleToContext(Q,O,K);let H=X,G=xe,V=Z,S=L;return X<0&&(H=0,V+=Math.abs(X)),xe<0&&(G=0,S+=Math.abs(xe)),ye.translate(-Ve.scale*H,-Le.scale*G),Q.transform(Ve.scale,0,0,Le.scale,0,0),ye.save(),this.clipBbox(Q,H,G,V,S),Q.baseTransform=Q.ctx.mozCurrentTransform.slice(),Q.executeOperatorList(we),Q.endDrawing(),{canvas:nt.canvas,scaleX:Ve.scale,scaleY:Le.scale,offsetX:H,offsetY:G}}getSizeAndScale(ee,we,be){ee=Math.abs(ee);const me=Math.max(De.MAX_PATTERN_SIZE,we);let ge=Math.ceil(ee*be);return ge>=me?ge=me:be=ge/ee,{scale:be,size:ge}}clipBbox(ee,we,be,me,ge){ee.ctx.rect(we,be,me-we,ge-be),ee.clip(),ee.endPath()}setFillAndStrokeStyleToContext(ee,we,be){const me=ee.ctx,ge=ee.current;switch(we){case 1:const O=this.ctx;me.fillStyle=O.fillStyle,me.strokeStyle=O.strokeStyle,ge.fillColor=O.fillStyle,ge.strokeColor=O.strokeStyle;break;case 2:const D=f.Util.makeHexColor(be[0],be[1],be[2]);me.fillStyle=D,me.strokeStyle=D,ge.fillColor=D,ge.strokeColor=D;break;default:throw new f.FormatError(`Unsupported paint type: ${we}`)}}getPattern(ee,we,be,me){let ge=be;me!==u.SHADING&&(ge=f.Util.transform(ge,we.baseTransform),this.matrix&&(ge=f.Util.transform(ge,this.matrix)));const O=this.createPatternCanvas(we);let D=new DOMMatrix(ge);D=D.translate(O.offsetX,O.offsetY),D=D.scale(1/O.scaleX,1/O.scaleY);const K=ee.createPattern(O.canvas,"repeat");try{K.setTransform(D)}catch(ue){(0,f.warn)(`TilingPattern.getPattern: "${ue?.message}".`)}return K}}F.TilingPattern=De},(Ue,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.GlobalWorkerOptions=void 0;const j=Object.create(null);F.GlobalWorkerOptions=j,j.workerPort=void 0===j.workerPort?null:j.workerPort,j.workerSrc=void 0===j.workerSrc?"":j.workerSrc},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.MessageHandler=void 0;var f=j(1);function Re(Ee){switch(Ee instanceof Error||"object"==typeof Ee&&null!==Ee||(0,f.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Ee.name){case"AbortException":return new f.AbortException(Ee.message);case"MissingPDFException":return new f.MissingPDFException(Ee.message);case"PasswordException":return new f.PasswordException(Ee.message,Ee.code);case"UnexpectedResponseException":return new f.UnexpectedResponseException(Ee.message,Ee.status);case"UnknownErrorException":return new f.UnknownErrorException(Ee.message,Ee.details);default:return new f.UnknownErrorException(Ee.message,Ee.toString())}}F.MessageHandler=class _e{constructor(fe,ve,ke){this.sourceName=fe,this.targetName=ve,this.comObj=ke,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=se=>{const oe=se.data;if(oe.targetName!==this.sourceName)return;if(oe.stream)return void this._processStreamMessage(oe);if(oe.callback){const te=oe.callbackId,ee=this.callbackCapabilities[te];if(!ee)throw new Error(`Cannot resolve callback ${te}`);if(delete this.callbackCapabilities[te],1===oe.callback)ee.resolve(oe.data);else{if(2!==oe.callback)throw new Error("Unexpected callback case");ee.reject(Re(oe.reason))}return}const De=this.actionHandler[oe.action];if(!De)throw new Error(`Unknown action from worker: ${oe.action}`);if(oe.callbackId){const te=this.sourceName,ee=oe.sourceName;new Promise(function(we){we(De(oe.data))}).then(function(we){ke.postMessage({sourceName:te,targetName:ee,callback:1,callbackId:oe.callbackId,data:we})},function(we){ke.postMessage({sourceName:te,targetName:ee,callback:2,callbackId:oe.callbackId,reason:Re(we)})})}else oe.streamId?this._createStreamSink(oe):De(oe.data)},ke.addEventListener("message",this._onComObjOnMessage)}on(fe,ve){const ke=this.actionHandler;if(ke[fe])throw new Error(`There is already an actionName called "${fe}"`);ke[fe]=ve}send(fe,ve,ke){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:fe,data:ve},ke)}sendWithPromise(fe,ve,ke){const se=this.callbackId++,oe=(0,f.createPromiseCapability)();this.callbackCapabilities[se]=oe;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:fe,callbackId:se,data:ve},ke)}catch(De){oe.reject(De)}return oe.promise}sendWithStream(fe,ve,ke,se){const oe=this.streamId++,De=this.sourceName,te=this.targetName,ee=this.comObj;return new ReadableStream({start:we=>{const be=(0,f.createPromiseCapability)();return this.streamControllers[oe]={controller:we,startCall:be,pullCall:null,cancelCall:null,isClosed:!1},ee.postMessage({sourceName:De,targetName:te,action:fe,streamId:oe,data:ve,desiredSize:we.desiredSize},se),be.promise},pull:we=>{const be=(0,f.createPromiseCapability)();return this.streamControllers[oe].pullCall=be,ee.postMessage({sourceName:De,targetName:te,stream:6,streamId:oe,desiredSize:we.desiredSize}),be.promise},cancel:we=>{(0,f.assert)(we instanceof Error,"cancel must have a valid reason");const be=(0,f.createPromiseCapability)();return this.streamControllers[oe].cancelCall=be,this.streamControllers[oe].isClosed=!0,ee.postMessage({sourceName:De,targetName:te,stream:1,streamId:oe,reason:Re(we)}),be.promise}},ke)}_createStreamSink(fe){const ve=fe.streamId,ke=this.sourceName,se=fe.sourceName,oe=this.comObj,De=this,te=this.actionHandler[fe.action],ee={enqueue(we,be=1,me){if(this.isCancelled)return;const ge=this.desiredSize;this.desiredSize-=be,ge>0&&this.desiredSize<=0&&(this.sinkCapability=(0,f.createPromiseCapability)(),this.ready=this.sinkCapability.promise),oe.postMessage({sourceName:ke,targetName:se,stream:4,streamId:ve,chunk:we},me)},close(){this.isCancelled||(this.isCancelled=!0,oe.postMessage({sourceName:ke,targetName:se,stream:3,streamId:ve}),delete De.streamSinks[ve])},error(we){(0,f.assert)(we instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,oe.postMessage({sourceName:ke,targetName:se,stream:5,streamId:ve,reason:Re(we)}))},sinkCapability:(0,f.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:fe.desiredSize,ready:null};ee.sinkCapability.resolve(),ee.ready=ee.sinkCapability.promise,this.streamSinks[ve]=ee,new Promise(function(we){we(te(fe.data,ee))}).then(function(){oe.postMessage({sourceName:ke,targetName:se,stream:8,streamId:ve,success:!0})},function(we){oe.postMessage({sourceName:ke,targetName:se,stream:8,streamId:ve,reason:Re(we)})})}_processStreamMessage(fe){const ve=fe.streamId,ke=this.sourceName,se=fe.sourceName,oe=this.comObj,De=this.streamControllers[ve],te=this.streamSinks[ve];switch(fe.stream){case 8:fe.success?De.startCall.resolve():De.startCall.reject(Re(fe.reason));break;case 7:fe.success?De.pullCall.resolve():De.pullCall.reject(Re(fe.reason));break;case 6:if(!te){oe.postMessage({sourceName:ke,targetName:se,stream:7,streamId:ve,success:!0});break}te.desiredSize<=0&&fe.desiredSize>0&&te.sinkCapability.resolve(),te.desiredSize=fe.desiredSize,new Promise(function(ee){ee(te.onPull&&te.onPull())}).then(function(){oe.postMessage({sourceName:ke,targetName:se,stream:7,streamId:ve,success:!0})},function(ee){oe.postMessage({sourceName:ke,targetName:se,stream:7,streamId:ve,reason:Re(ee)})});break;case 4:if((0,f.assert)(De,"enqueue should have stream controller"),De.isClosed)break;De.controller.enqueue(fe.chunk);break;case 3:if((0,f.assert)(De,"close should have stream controller"),De.isClosed)break;De.isClosed=!0,De.controller.close(),this._deleteStreamController(De,ve);break;case 5:(0,f.assert)(De,"error should have stream controller"),De.controller.error(Re(fe.reason)),this._deleteStreamController(De,ve);break;case 2:fe.success?De.cancelCall.resolve():De.cancelCall.reject(Re(fe.reason)),this._deleteStreamController(De,ve);break;case 1:if(!te)break;new Promise(function(ee){ee(te.onCancel&&te.onCancel(Re(fe.reason)))}).then(function(){oe.postMessage({sourceName:ke,targetName:se,stream:2,streamId:ve,success:!0})},function(ee){oe.postMessage({sourceName:ke,targetName:se,stream:2,streamId:ve,reason:Re(ee)})}),te.sinkCapability.reject(Re(fe.reason)),te.isCancelled=!0,delete this.streamSinks[ve];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(fe,ve){var ke=this;return _asyncToGenerator(function*(){yield Promise.allSettled([fe.startCall&&fe.startCall.promise,fe.pullCall&&fe.pullCall.promise,fe.cancelCall&&fe.cancelCall.promise]),delete ke.streamControllers[ve]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.Metadata=void 0;var f=j(1),u=new WeakMap,J=new WeakMap;F.Metadata=class Re{constructor({parsedData:Ee,rawData:fe}){_classPrivateFieldInitSpec(this,u,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,J,{writable:!0,value:void 0}),_classPrivateFieldSet(this,u,Ee),_classPrivateFieldSet(this,J,fe)}getRaw(){return _classPrivateFieldGet(this,J)}get(Ee){return _classPrivateFieldGet(this,u).get(Ee)??null}getAll(){return(0,f.objectFromMap)(_classPrivateFieldGet(this,u))}has(Ee){return _classPrivateFieldGet(this,u).has(Ee)}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.OptionalContentConfig=void 0;var f=j(1);class u{constructor(_e,Ee){this.visible=!0,this.name=_e,this.intent=Ee}}F.OptionalContentConfig=class J{constructor(_e){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==_e){this.name=_e.name,this.creator=_e.creator,this._order=_e.order;for(const Ee of _e.groups)this._groups.set(Ee.id,new u(Ee.name,Ee.intent));if("OFF"===_e.baseState)for(const Ee of this._groups)Ee.visible=!1;for(const Ee of _e.on)this._groups.get(Ee).visible=!0;for(const Ee of _e.off)this._groups.get(Ee).visible=!1}}_evaluateVisibilityExpression(_e){const Ee=_e.length;if(Ee<2)return!0;const fe=_e[0];for(let ve=1;ve<Ee;ve++){const ke=_e[ve];let se;if(Array.isArray(ke))se=this._evaluateVisibilityExpression(ke);else{if(!this._groups.has(ke))return(0,f.warn)(`Optional content group not found: ${ke}`),!0;se=this._groups.get(ke).visible}switch(fe){case"And":if(!se)return!1;break;case"Or":if(se)return!0;break;case"Not":return!se;default:return!0}}return"And"===fe}isVisible(_e){if(0===this._groups.size)return!0;if(!_e)return(0,f.warn)("Optional content group not defined."),!0;if("OCG"===_e.type)return this._groups.has(_e.id)?this._groups.get(_e.id).visible:((0,f.warn)(`Optional content group not found: ${_e.id}`),!0);if("OCMD"===_e.type){if(_e.expression)return this._evaluateVisibilityExpression(_e.expression);if(!_e.policy||"AnyOn"===_e.policy){for(const Ee of _e.ids){if(!this._groups.has(Ee))return(0,f.warn)(`Optional content group not found: ${Ee}`),!0;if(this._groups.get(Ee).visible)return!0}return!1}if("AllOn"===_e.policy){for(const Ee of _e.ids){if(!this._groups.has(Ee))return(0,f.warn)(`Optional content group not found: ${Ee}`),!0;if(!this._groups.get(Ee).visible)return!1}return!0}if("AnyOff"===_e.policy){for(const Ee of _e.ids){if(!this._groups.has(Ee))return(0,f.warn)(`Optional content group not found: ${Ee}`),!0;if(!this._groups.get(Ee).visible)return!0}return!1}if("AllOff"===_e.policy){for(const Ee of _e.ids){if(!this._groups.has(Ee))return(0,f.warn)(`Optional content group not found: ${Ee}`),!0;if(this._groups.get(Ee).visible)return!1}return!0}return(0,f.warn)(`Unknown optional content policy ${_e.policy}.`),!0}return(0,f.warn)(`Unknown group type ${_e.type}.`),!0}setVisibility(_e,Ee=!0){this._groups.has(_e)?this._groups.get(_e).visible=!!Ee:(0,f.warn)(`Optional content group not found: ${_e}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,f.objectFromMap)(this._groups):null}getGroup(_e){return this._groups.get(_e)||null}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFDataTransportStream=void 0;var f=j(1),u=j(5);F.PDFDataTransportStream=class J{constructor(fe,ve){(0,f.assert)(ve,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=fe.progressiveDone||!1,this._contentDispositionFilename=fe.contentDispositionFilename||null;const ke=fe.initialData;if(ke?.length>0){const se=new Uint8Array(ke).buffer;this._queuedChunks.push(se)}this._pdfDataRangeTransport=ve,this._isStreamingSupported=!fe.disableStream,this._isRangeSupported=!fe.disableRange,this._contentLength=fe.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((se,oe)=>{this._onReceiveData({begin:se,chunk:oe})}),this._pdfDataRangeTransport.addProgressListener((se,oe)=>{this._onProgress({loaded:se,total:oe})}),this._pdfDataRangeTransport.addProgressiveReadListener(se=>{this._onReceiveData({chunk:se})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(fe){const ve=new Uint8Array(fe.chunk).buffer;if(void 0===fe.begin)this._fullRequestReader?this._fullRequestReader._enqueue(ve):this._queuedChunks.push(ve);else{const ke=this._rangeReaders.some(function(se){return se._begin===fe.begin&&(se._enqueue(ve),!0)});(0,f.assert)(ke,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(fe){if(void 0===fe.total){const ve=this._rangeReaders[0];ve?.onProgress&&ve.onProgress({loaded:fe.loaded})}else{const ve=this._fullRequestReader;ve?.onProgress&&ve.onProgress({loaded:fe.loaded,total:fe.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(fe){const ve=this._rangeReaders.indexOf(fe);ve>=0&&this._rangeReaders.splice(ve,1)}getFullReader(){(0,f.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const fe=this._queuedChunks;return this._queuedChunks=null,new Re(this,fe,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(fe,ve){if(ve<=this._progressiveDataLength)return null;const ke=new _e(this,fe,ve);return this._pdfDataRangeTransport.requestDataRange(fe,ve),this._rangeReaders.push(ke),ke}cancelAllRequests(fe){this._fullRequestReader&&this._fullRequestReader.cancel(fe);for(const ve of this._rangeReaders.slice(0))ve.cancel(fe);this._pdfDataRangeTransport.abort()}};class Re{constructor(fe,ve,ke=!1,se=null){this._stream=fe,this._done=ke||!1,this._filename=(0,u.isPdfFile)(se)?se:null,this._queuedChunks=ve||[],this._loaded=0;for(const oe of this._queuedChunks)this._loaded+=oe.byteLength;this._requests=[],this._headersReady=Promise.resolve(),fe._fullRequestReader=this,this.onProgress=null}_enqueue(fe){this._done||(this._requests.length>0?this._requests.shift().resolve({value:fe,done:!1}):this._queuedChunks.push(fe),this._loaded+=fe.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var fe=this;return _asyncToGenerator(function*(){if(fe._queuedChunks.length>0)return{value:fe._queuedChunks.shift(),done:!1};if(fe._done)return{value:void 0,done:!0};const ve=(0,f.createPromiseCapability)();return fe._requests.push(ve),ve.promise})()}cancel(fe){this._done=!0;for(const ve of this._requests)ve.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _e{constructor(fe,ve,ke){this._stream=fe,this._begin=ve,this._end=ke,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(fe){if(!this._done){if(0===this._requests.length)this._queuedChunk=fe;else{this._requests.shift().resolve({value:fe,done:!1});for(const ke of this._requests)ke.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var fe=this;return _asyncToGenerator(function*(){if(fe._queuedChunk){const ke=fe._queuedChunk;return fe._queuedChunk=null,{value:ke,done:!1}}if(fe._done)return{value:void 0,done:!0};const ve=(0,f.createPromiseCapability)();return fe._requests.push(ve),ve.promise})()}cancel(fe){this._done=!0;for(const ve of this._requests)ve.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ue,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.XfaText=void 0;class j{static textContent(u){const J=[],Re={items:J,styles:Object.create(null)};return function _e(Ee){if(!Ee)return;let fe=null;const ve=Ee.name;if("#text"===ve)fe=Ee.value;else{if(!j.shouldBuildText(ve))return;Ee?.attributes?.textContent?fe=Ee.attributes.textContent:Ee.value&&(fe=Ee.value)}if(null!==fe&&J.push({str:fe}),Ee.children)for(const ke of Ee.children)_e(ke)}(u),Re}static shouldBuildText(u){return!("textarea"===u||"input"===u||"option"===u||"select"===u)}}F.XfaText=j},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.AnnotationLayer=void 0;var f=j(1),u=j(5),J=j(9),Re=j(19),_e=j(20);const fe=new WeakSet;function ve(V){return{width:V[2]-V[0],height:V[3]-V[1]}}class ke{static create(S){switch(S.data.annotationType){case f.AnnotationType.LINK:return new oe(S);case f.AnnotationType.TEXT:return new De(S);case f.AnnotationType.WIDGET:switch(S.data.fieldType){case"Tx":return new ee(S);case"Btn":return S.data.radioButton?new be(S):S.data.checkBox?new we(S):new me(S);case"Ch":return new ge(S)}return new te(S);case f.AnnotationType.POPUP:return new O(S);case f.AnnotationType.FREETEXT:return new K(S);case f.AnnotationType.LINE:return new ue(S);case f.AnnotationType.SQUARE:return new X(S);case f.AnnotationType.CIRCLE:return new xe(S);case f.AnnotationType.POLYLINE:return new Z(S);case f.AnnotationType.CARET:return new ae(S);case f.AnnotationType.INK:return new Se(S);case f.AnnotationType.POLYGON:return new L(S);case f.AnnotationType.HIGHLIGHT:return new Oe(S);case f.AnnotationType.UNDERLINE:return new Ve(S);case f.AnnotationType.SQUIGGLY:return new Le(S);case f.AnnotationType.STRIKEOUT:return new nt(S);case f.AnnotationType.STAMP:return new ye(S);case f.AnnotationType.FILEATTACHMENT:return new Q(S);default:return new se(S)}}}class se{constructor(S,{isRenderable:N=!1,ignoreBorder:W=!1,createQuadrilaterals:he=!1}={}){this.isRenderable=N,this.data=S.data,this.layer=S.layer,this.page=S.page,this.viewport=S.viewport,this.linkService=S.linkService,this.downloadManager=S.downloadManager,this.imageResourcesPath=S.imageResourcesPath,this.renderForms=S.renderForms,this.svgFactory=S.svgFactory,this.annotationStorage=S.annotationStorage,this.enableScripting=S.enableScripting,this.hasJSActions=S.hasJSActions,this._fieldObjects=S.fieldObjects,this._mouseState=S.mouseState,N&&(this.container=this._createContainer(W)),he&&(this.quadrilaterals=this._createQuadrilaterals(W))}_createContainer(S=!1){const N=this.data,W=this.page,he=this.viewport,le=document.createElement("section");let{width:Y,height:He}=ve(N.rect);le.setAttribute("data-annotation-id",N.id);const We=f.Util.normalizeRect([N.rect[0],W.view[3]-N.rect[1]+W.view[1],N.rect[2],W.view[3]-N.rect[3]+W.view[1]]);if(N.hasOwnCanvas){const qe=he.transform.slice(),[ze,ft]=f.Util.singularValueDecompose2dScale(qe);Y=Math.ceil(Y*ze),He=Math.ceil(He*ft),We[0]*=ze,We[1]*=ft;for(let Rt=0;Rt<4;Rt++)qe[Rt]=Math.sign(qe[Rt]);le.style.transform=`matrix(${qe.join(",")})`}else le.style.transform=`matrix(${he.transform.join(",")})`;if(le.style.transformOrigin=`${-We[0]}px ${-We[1]}px`,!S&&N.borderStyle.width>0){le.style.borderWidth=`${N.borderStyle.width}px`,N.borderStyle.style!==f.AnnotationBorderStyleType.UNDERLINE&&(Y-=2*N.borderStyle.width,He-=2*N.borderStyle.width);const qe=N.borderStyle.horizontalCornerRadius,ze=N.borderStyle.verticalCornerRadius;switch((qe>0||ze>0)&&(le.style.borderRadius=`${qe}px / ${ze}px`),N.borderStyle.style){case f.AnnotationBorderStyleType.SOLID:le.style.borderStyle="solid";break;case f.AnnotationBorderStyleType.DASHED:le.style.borderStyle="dashed";break;case f.AnnotationBorderStyleType.BEVELED:(0,f.warn)("Unimplemented border style: beveled");break;case f.AnnotationBorderStyleType.INSET:(0,f.warn)("Unimplemented border style: inset");break;case f.AnnotationBorderStyleType.UNDERLINE:le.style.borderBottomStyle="solid"}N.borderColor||N.color?le.style.borderColor=f.Util.makeHexColor(0|N.color[0],0|N.color[1],0|N.color[2]):le.style.borderWidth=0}return le.style.left=`${We[0]}px`,le.style.top=`${We[1]}px`,N.hasOwnCanvas?le.style.width=le.style.height="auto":(le.style.width=`${Y}px`,le.style.height=`${He}px`),le}_createQuadrilaterals(S=!1){if(!this.data.quadPoints)return null;const N=[],W=this.data.rect;for(const he of this.data.quadPoints)this.data.rect=[he[2].x,he[2].y,he[1].x,he[1].y],N.push(this._createContainer(S));return this.data.rect=W,N}_createPopup(S,N){let W=this.container;this.quadrilaterals&&(S=S||this.quadrilaterals,W=this.quadrilaterals[0]),S||((S=document.createElement("div")).style.height=W.style.height,S.style.width=W.style.width,W.appendChild(S));const le=new D({container:W,trigger:S,color:N.color,titleObj:N.titleObj,modificationDate:N.modificationDate,contentsObj:N.contentsObj,richText:N.richText,hideWrapper:!0}).render();le.style.left=W.style.width,W.appendChild(le)}_renderQuadrilaterals(S){for(const N of this.quadrilaterals)N.className=S;return this.quadrilaterals}render(){(0,f.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(S,N=null){const W=[];if(this._fieldObjects){const he=this._fieldObjects[S];if(he)for(const{page:le,id:Y,exportValues:He}of he){if(-1===le||Y===N)continue;const We="string"==typeof He?He:null,qe=document.getElementById(Y);!qe||fe.has(qe)?W.push({id:Y,exportValue:We,domElement:qe}):(0,f.warn)(`_getElementsByName - element not allowed: ${Y}`)}return W}for(const he of document.getElementsByName(S)){const{id:le,exportValue:Y}=he;le!==N&&fe.has(he)&&W.push({id:le,exportValue:Y,domElement:he})}return W}static get platform(){const S=typeof navigator<"u"?navigator.platform:"";return(0,f.shadow)(this,"platform",{isWin:S.includes("Win"),isMac:S.includes("Mac")})}}class oe extends se{constructor(S,N=null){super(S,{isRenderable:!!(S.data.url||S.data.dest||S.data.action||S.data.isTooltipOnly||S.data.resetForm||S.data.actions&&(S.data.actions.Action||S.data.actions["Mouse Up"]||S.data.actions["Mouse Down"])),ignoreBorder:!!N?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:S,linkService:N}=this,W=document.createElement("a");if(S.url)N.addLinkAttributes||(0,f.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),N.addLinkAttributes?.(W,S.url,S.newWindow);else if(S.action)this._bindNamedAction(W,S.action);else if(S.dest)this._bindLink(W,S.dest);else{let he=!1;S.actions&&(S.actions.Action||S.actions["Mouse Up"]||S.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(he=!0,this._bindJSAction(W,S)),S.resetForm?this._bindResetFormAction(W,S.resetForm):he||this._bindLink(W,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((he,le)=>{const Y=0===le?W:W.cloneNode();return he.appendChild(Y),he}):(this.container.className="linkAnnotation",this.container.appendChild(W),this.container)}_bindLink(S,N){S.href=this.linkService.getDestinationHash(N),S.onclick=()=>(N&&this.linkService.goToDestination(N),!1),(N||""===N)&&(S.className="internalLink")}_bindNamedAction(S,N){S.href=this.linkService.getAnchorUrl(""),S.onclick=()=>(this.linkService.executeNamedAction(N),!1),S.className="internalLink"}_bindJSAction(S,N){S.href=this.linkService.getAnchorUrl("");const W=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const he of Object.keys(N.actions)){const le=W.get(he);le&&(S[le]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N.id,name:he}}),!1))}S.onclick||(S.onclick=()=>!1),S.className="internalLink"}_bindResetFormAction(S,N){const W=S.onclick;if(W||(S.href=this.linkService.getAnchorUrl("")),S.className="internalLink",!this._fieldObjects)return(0,f.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(W||(S.onclick=()=>!1));S.onclick=()=>{W&&W();const{fields:he,refs:le,include:Y}=N,He=[];if(0!==he.length||0!==le.length){const ze=new Set(le);for(const ft of he){const Rt=this._fieldObjects[ft]||[];for(const{id:Ut}of Rt)ze.add(Ut)}for(const ft of Object.values(this._fieldObjects))for(const Rt of ft)ze.has(Rt.id)===Y&&He.push(Rt)}else for(const ze of Object.values(this._fieldObjects))He.push(...ze);const We=this.annotationStorage,qe=[];for(const ze of He){const{id:ft}=ze;switch(qe.push(ft),ze.type){case"text":{const Ut=ze.defaultValue||"";We.setValue(ft,{value:Ut,valueAsString:Ut});break}case"checkbox":case"radiobutton":We.setValue(ft,{value:ze.defaultValue===ze.exportValues});break;case"combobox":case"listbox":We.setValue(ft,{value:ze.defaultValue||""});break;default:continue}const Rt=document.getElementById(ft);!Rt||!fe.has(Rt)||Rt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:qe,name:"ResetForm"}}),!1}}}class De extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str)})}render(){this.container.className="textAnnotation";const S=document.createElement("img");return S.style.height=this.container.style.height,S.style.width=this.container.style.width,S.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",S.alt="[{{type}} Annotation]",S.dataset.l10nId="text_annotation_type",S.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(S,this.data),this.container.appendChild(S),this.container}}class te extends se{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(S){const{isWin:N,isMac:W}=se.platform;return N&&S.ctrlKey||W&&S.metaKey}_setEventListener(S,N,W,he){N.includes("mouse")?S.addEventListener(N,le=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:W,value:he(le),shift:le.shiftKey,modifier:this._getKeyModifier(le)}})}):S.addEventListener(N,le=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:W,value:he(le)}})})}_setEventListeners(S,N,W){for(const[he,le]of N)("Action"===le||this.data.actions?.[le])&&this._setEventListener(S,he,le,W)}_setBackgroundColor(S){const N=this.data.backgroundColor||null;S.style.backgroundColor=null===N?"transparent":f.Util.makeHexColor(N[0],N[1],N[2])}_dispatchEventFromSandbox(S,N){const W=(le,Y,He)=>{const We=He.detail[le];He.target.style[Y]=Re.ColorConverters[`${We[0]}_HTML`](We.slice(1))},he={display:le=>{const Y=le.detail.display%2==1;le.target.style.visibility=Y?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Y,print:0===le.detail.display||3===le.detail.display})},print:le=>{this.annotationStorage.setValue(this.data.id,{print:le.detail.print})},hidden:le=>{le.target.style.visibility=le.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:le.detail.hidden})},focus:le=>{setTimeout(()=>le.target.focus({preventScroll:!1}),0)},userName:le=>{le.target.title=le.detail.userName},readonly:le=>{le.detail.readonly?le.target.setAttribute("readonly",""):le.target.removeAttribute("readonly")},required:le=>{le.detail.required?le.target.setAttribute("required",""):le.target.removeAttribute("required")},bgColor:le=>{W("bgColor","backgroundColor",le)},fillColor:le=>{W("fillColor","backgroundColor",le)},fgColor:le=>{W("fgColor","color",le)},textColor:le=>{W("textColor","color",le)},borderColor:le=>{W("borderColor","borderColor",le)},strokeColor:le=>{W("strokeColor","borderColor",le)}};for(const le of Object.keys(N.detail)){const Y=S[le]||he[le];Y&&Y(N)}}}class ee extends te{constructor(S){super(S,{isRenderable:S.renderForms||!S.data.hasAppearance&&!!S.data.fieldValue})}setPropertyOnSiblings(S,N,W,he){const le=this.annotationStorage;for(const Y of this._getElementsByName(S.name,S.id))Y.domElement&&(Y.domElement[N]=W),le.setValue(Y.id,{[he]:W})}render(){const S=this.annotationStorage,N=this.data.id;this.container.className="textWidgetAnnotation";let W=null;if(this.renderForms){const he=S.getValue(N,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),le=he.valueAsString||he.value||"",Y={userValue:null,formattedValue:null};this.data.multiLine?(W=document.createElement("textarea"),W.textContent=le):(W=document.createElement("input"),W.type="text",W.setAttribute("value",le)),fe.add(W),W.disabled=this.data.readOnly,W.name=this.data.fieldName,W.tabIndex=1e3,Y.userValue=le,W.setAttribute("id",N),W.addEventListener("input",We=>{S.setValue(N,{value:We.target.value}),this.setPropertyOnSiblings(W,"value",We.target.value,"value")}),W.addEventListener("resetform",We=>{W.value=Y.userValue=this.data.defaultFieldValue||"",delete Y.formattedValue});let He=We=>{Y.formattedValue&&(We.target.value=Y.formattedValue),We.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){W.addEventListener("focus",qe=>{Y.userValue&&(qe.target.value=Y.userValue)}),W.addEventListener("updatefromsandbox",qe=>{this._dispatchEventFromSandbox({value(ft){Y.userValue=ft.detail.value||"",S.setValue(N,{value:Y.userValue.toString()}),Y.formattedValue||(ft.target.value=Y.userValue)},valueAsString(ft){Y.formattedValue=ft.detail.valueAsString||"",ft.target!==document.activeElement&&(ft.target.value=Y.formattedValue),S.setValue(N,{formattedValue:Y.formattedValue})},selRange(ft){const[Rt,Ut]=ft.detail.selRange;Rt>=0&&Ut<ft.target.value.length&&ft.target.setSelectionRange(Rt,Ut)}},qe)}),W.addEventListener("keydown",qe=>{let ze=-1;"Escape"===qe.key?ze=0:"Enter"===qe.key?ze=2:"Tab"===qe.key&&(ze=3),-1!==ze&&(Y.userValue=qe.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:qe.target.value,willCommit:!0,commitKey:ze,selStart:qe.target.selectionStart,selEnd:qe.target.selectionEnd}}))});const We=He;He=null,W.addEventListener("blur",qe=>{Y.userValue=qe.target.value,this._mouseState.isDown&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:qe.target.value,willCommit:!0,commitKey:1,selStart:qe.target.selectionStart,selEnd:qe.target.selectionEnd}}),We(qe)}),this.data.actions?.Keystroke&&W.addEventListener("beforeinput",qe=>{Y.formattedValue="";const{data:ze,target:ft}=qe,{value:Rt,selectionStart:Ut,selectionEnd:Nt}=ft;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:Rt,change:ze,willCommit:!1,selStart:Ut,selEnd:Nt}})}),this._setEventListeners(W,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],qe=>qe.target.value)}if(He&&W.addEventListener("blur",He),null!==this.data.maxLen&&(W.maxLength=this.data.maxLen),this.data.comb){const qe=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;W.classList.add("comb"),W.style.letterSpacing=`calc(${qe}px - 1ch)`}}else W=document.createElement("div"),W.textContent=this.data.fieldValue,W.style.verticalAlign="middle",W.style.display="table-cell";return this._setTextStyle(W),this._setBackgroundColor(W),this.container.appendChild(W),this.container}_setTextStyle(S){const{fontSize:W,fontColor:he}=this.data.defaultAppearanceData,le=S.style;W&&(le.fontSize=`${W}px`),le.color=f.Util.makeHexColor(he[0],he[1],he[2]),null!==this.data.textAlignment&&(le.textAlign=["left","center","right"][this.data.textAlignment])}}class we extends te{constructor(S){super(S,{isRenderable:S.renderForms})}render(){const S=this.annotationStorage,N=this.data,W=N.id;let he=S.getValue(W,{value:N.exportValue===N.fieldValue}).value;"string"==typeof he&&(he="Off"!==he,S.setValue(W,{value:he})),this.container.className="buttonWidgetAnnotation checkBox";const le=document.createElement("input");return fe.add(le),le.disabled=N.readOnly,le.type="checkbox",le.name=N.fieldName,he&&le.setAttribute("checked",!0),le.setAttribute("id",W),le.setAttribute("exportValue",N.exportValue),le.tabIndex=1e3,le.addEventListener("change",Y=>{const{name:He,checked:We}=Y.target;for(const qe of this._getElementsByName(He,W)){const ze=We&&qe.exportValue===N.exportValue;qe.domElement&&(qe.domElement.checked=ze),S.setValue(qe.id,{value:ze})}S.setValue(W,{value:We})}),le.addEventListener("resetform",Y=>{Y.target.checked=(N.defaultFieldValue||"Off")===N.exportValue}),this.enableScripting&&this.hasJSActions&&(le.addEventListener("updatefromsandbox",Y=>{this._dispatchEventFromSandbox({value(We){We.target.checked="Off"!==We.detail.value,S.setValue(W,{value:We.target.checked})}},Y)}),this._setEventListeners(le,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.checked)),this._setBackgroundColor(le),this.container.appendChild(le),this.container}}class be extends te{constructor(S){super(S,{isRenderable:S.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const S=this.annotationStorage,N=this.data,W=N.id;let he=S.getValue(W,{value:N.fieldValue===N.buttonValue}).value;"string"==typeof he&&(he=he!==N.buttonValue,S.setValue(W,{value:he}));const le=document.createElement("input");if(fe.add(le),le.disabled=N.readOnly,le.type="radio",le.name=N.fieldName,he&&le.setAttribute("checked",!0),le.setAttribute("id",W),le.tabIndex=1e3,le.addEventListener("change",Y=>{const{name:He,checked:We}=Y.target;for(const qe of this._getElementsByName(He,W))S.setValue(qe.id,{value:!1});S.setValue(W,{value:We})}),le.addEventListener("resetform",Y=>{const He=N.defaultFieldValue;Y.target.checked=null!=He&&He===N.buttonValue}),this.enableScripting&&this.hasJSActions){const Y=N.buttonValue;le.addEventListener("updatefromsandbox",He=>{this._dispatchEventFromSandbox({value:qe=>{const ze=Y===qe.detail.value;for(const ft of this._getElementsByName(qe.target.name)){const Rt=ze&&ft.id===W;ft.domElement&&(ft.domElement.checked=Rt),S.setValue(ft.id,{value:Rt})}}},He)}),this._setEventListeners(le,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],He=>He.target.checked)}return this._setBackgroundColor(le),this.container.appendChild(le),this.container}}class me extends oe{constructor(S){super(S,{ignoreBorder:S.data.hasAppearance})}render(){const S=super.render();return S.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(S.title=this.data.alternativeText),S}}class ge extends te{constructor(S){super(S,{isRenderable:S.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const S=this.annotationStorage,N=this.data.id;S.getValue(N,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:W}=this.data.defaultAppearanceData;W||(W=9);const he=`calc(${W}px * var(--zoom-factor))`,le=document.createElement("select");fe.add(le),le.disabled=this.data.readOnly,le.name=this.data.fieldName,le.setAttribute("id",N),le.tabIndex=1e3,le.style.fontSize=`${W}px`,this.data.combo||(le.size=this.data.options.length,this.data.multiSelect&&(le.multiple=!0)),le.addEventListener("resetform",We=>{const qe=this.data.defaultFieldValue;for(const ze of le.options)ze.selected=ze.value===qe});for(const We of this.data.options){const qe=document.createElement("option");qe.textContent=We.displayValue,qe.value=We.exportValue,this.data.combo&&(qe.style.fontSize=he),this.data.fieldValue.includes(We.exportValue)&&qe.setAttribute("selected",!0),le.appendChild(qe)}const Y=(We,qe)=>{const ze=qe?"value":"textContent",ft=We.target.options;return We.target.multiple?Array.prototype.filter.call(ft,Rt=>Rt.selected).map(Rt=>Rt[ze]):-1===ft.selectedIndex?null:ft[ft.selectedIndex][ze]},He=We=>Array.prototype.map.call(We.target.options,ze=>({displayValue:ze.textContent,exportValue:ze.value}));return this.enableScripting&&this.hasJSActions?(le.addEventListener("updatefromsandbox",We=>{this._dispatchEventFromSandbox({value(ze){const ft=ze.detail.value,Rt=new Set(Array.isArray(ft)?ft:[ft]);for(const Ut of le.options)Ut.selected=Rt.has(Ut.value);S.setValue(N,{value:Y(ze,!0)})},multipleSelection(ze){le.multiple=!0},remove(ze){const ft=le.options,Rt=ze.detail.remove;ft[Rt].selected=!1,le.remove(Rt),ft.length>0&&-1===Array.prototype.findIndex.call(ft,Nt=>Nt.selected)&&(ft[0].selected=!0),S.setValue(N,{value:Y(ze,!0),items:He(ze)})},clear(ze){for(;0!==le.length;)le.remove(0);S.setValue(N,{value:null,items:[]})},insert(ze){const{index:ft,displayValue:Rt,exportValue:Ut}=ze.detail.insert,Nt=document.createElement("option");Nt.textContent=Rt,Nt.value=Ut,le.insertBefore(Nt,le.children[ft]),S.setValue(N,{value:Y(ze,!0),items:He(ze)})},items(ze){const{items:ft}=ze.detail;for(;0!==le.length;)le.remove(0);for(const Rt of ft){const{displayValue:Ut,exportValue:Nt}=Rt,Pt=document.createElement("option");Pt.textContent=Ut,Pt.value=Nt,le.appendChild(Pt)}le.options.length>0&&(le.options[0].selected=!0),S.setValue(N,{value:Y(ze,!0),items:He(ze)})},indices(ze){const ft=new Set(ze.detail.indices);for(const Rt of ze.target.options)Rt.selected=ft.has(Rt.index);S.setValue(N,{value:Y(ze,!0)})},editable(ze){ze.target.disabled=!ze.detail.editable}},We)}),le.addEventListener("input",We=>{const qe=Y(We,!0),ze=Y(We,!1);S.setValue(N,{value:qe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:ze,changeEx:qe,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(le,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],We=>We.target.checked)):le.addEventListener("input",function(We){S.setValue(N,{value:Y(We)})}),this._setBackgroundColor(le),this.container.appendChild(le),this.container}}class O extends se{constructor(S){super(S,{isRenderable:!!(S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const W=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===W.length)return this.container;const he=new D({container:this.container,trigger:Array.from(W),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),le=this.page,Y=f.Util.normalizeRect([this.data.parentRect[0],le.view[3]-this.data.parentRect[1]+le.view[1],this.data.parentRect[2],le.view[3]-this.data.parentRect[3]+le.view[1]]),He=Y[0]+this.data.parentRect[2]-this.data.parentRect[0],We=Y[1];return this.container.style.transformOrigin=`${-He}px ${-We}px`,this.container.style.left=`${He}px`,this.container.style.top=`${We}px`,this.container.appendChild(he.render()),this.container}}class D{constructor(S){this.container=S.container,this.trigger=S.trigger,this.color=S.color,this.titleObj=S.titleObj,this.modificationDate=S.modificationDate,this.contentsObj=S.contentsObj,this.richText=S.richText,this.hideWrapper=S.hideWrapper||!1,this.pinned=!1}render(){const N=document.createElement("div");N.className="popupWrapper",this.hideElement=this.hideWrapper?N:this.container,this.hideElement.hidden=!0;const W=document.createElement("div");W.className="popup";const he=this.color;he&&(W.style.backgroundColor=f.Util.makeHexColor(0|.7*(255-he[0])+he[0],0|.7*(255-he[1])+he[1],0|.7*(255-he[2])+he[2]));const le=document.createElement("h1");le.dir=this.titleObj.dir,le.textContent=this.titleObj.str,W.appendChild(le);const Y=u.PDFDateString.toDateObject(this.modificationDate);if(Y){const He=document.createElement("span");He.className="popupDate",He.textContent="{{date}}, {{time}}",He.dataset.l10nId="annotation_date_string",He.dataset.l10nArgs=JSON.stringify({date:Y.toLocaleDateString(),time:Y.toLocaleTimeString()}),W.appendChild(He)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const He=this._formatContents(this.contentsObj);W.appendChild(He)}else _e.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:W}),W.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const He of this.trigger)He.addEventListener("click",this._toggle.bind(this)),He.addEventListener("mouseover",this._show.bind(this,!1)),He.addEventListener("mouseout",this._hide.bind(this,!1));return W.addEventListener("click",this._hide.bind(this,!0)),N.appendChild(W),N}_formatContents({str:S,dir:N}){const W=document.createElement("p");W.className="popupContent",W.dir=N;const he=S.split(/(?:\r\n?|\n)/);for(let le=0,Y=he.length;le<Y;++le)W.appendChild(document.createTextNode(he[le])),le<Y-1&&W.appendChild(document.createElement("br"));return W}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(S=!1){S&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(S=!0){S&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class K extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ue extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const S=this.data,{width:N,height:W}=ve(S.rect),he=this.svgFactory.create(N,W),le=this.svgFactory.createElement("svg:line");return le.setAttribute("x1",S.rect[2]-S.lineCoordinates[0]),le.setAttribute("y1",S.rect[3]-S.lineCoordinates[1]),le.setAttribute("x2",S.rect[2]-S.lineCoordinates[2]),le.setAttribute("y2",S.rect[3]-S.lineCoordinates[3]),le.setAttribute("stroke-width",S.borderStyle.width||1),le.setAttribute("stroke","transparent"),le.setAttribute("fill","transparent"),he.appendChild(le),this.container.append(he),this._createPopup(le,S),this.container}}class X extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const S=this.data,{width:N,height:W}=ve(S.rect),he=this.svgFactory.create(N,W),le=S.borderStyle.width,Y=this.svgFactory.createElement("svg:rect");return Y.setAttribute("x",le/2),Y.setAttribute("y",le/2),Y.setAttribute("width",N-le),Y.setAttribute("height",W-le),Y.setAttribute("stroke-width",le||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),he.appendChild(Y),this.container.append(he),this._createPopup(Y,S),this.container}}class xe extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const S=this.data,{width:N,height:W}=ve(S.rect),he=this.svgFactory.create(N,W),le=S.borderStyle.width,Y=this.svgFactory.createElement("svg:ellipse");return Y.setAttribute("cx",N/2),Y.setAttribute("cy",W/2),Y.setAttribute("rx",N/2-le/2),Y.setAttribute("ry",W/2-le/2),Y.setAttribute("stroke-width",le||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),he.appendChild(Y),this.container.append(he),this._createPopup(Y,S),this.container}}class Z extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const S=this.data,{width:N,height:W}=ve(S.rect),he=this.svgFactory.create(N,W);let le=[];for(const He of S.vertices)le.push(He.x-S.rect[0]+","+(S.rect[3]-He.y));le=le.join(" ");const Y=this.svgFactory.createElement(this.svgElementName);return Y.setAttribute("points",le),Y.setAttribute("stroke-width",S.borderStyle.width||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),he.appendChild(Y),this.container.append(he),this._createPopup(Y,S),this.container}}class L extends Z{constructor(S){super(S),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ae extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Se extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const S=this.data,{width:N,height:W}=ve(S.rect),he=this.svgFactory.create(N,W);for(const le of S.inkLists){let Y=[];for(const We of le)Y.push(`${We.x-S.rect[0]},${S.rect[3]-We.y}`);Y=Y.join(" ");const He=this.svgFactory.createElement(this.svgElementName);He.setAttribute("points",Y),He.setAttribute("stroke-width",S.borderStyle.width||1),He.setAttribute("stroke","transparent"),He.setAttribute("fill","transparent"),this._createPopup(He,S),he.appendChild(He)}return this.container.append(he),this.container}}class Oe extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Ve extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Le extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class nt extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ye extends se{constructor(S){super(S,{isRenderable:!!(S.data.hasPopup||S.data.titleObj?.str||S.data.contentsObj?.str||S.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Q extends se{constructor(S){super(S,{isRenderable:!0});const{filename:N,content:W}=this.data.file;this.filename=(0,u.getFilenameFromUrl)(N),this.content=W,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,f.stringToPDFString)(N),filename:N,content:W})}render(){this.container.className="fileAttachmentAnnotation";const S=document.createElement("div");return S.style.height=this.container.style.height,S.style.width=this.container.style.width,S.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(S,this.data),this.container.appendChild(S),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class H{static render(S){const N=[],W=[];for(const le of S.annotations){if(!le)continue;const{width:Y,height:He}=ve(le.rect);if(!(Y<=0||He<=0)){if(le.annotationType===f.AnnotationType.POPUP){W.push(le);continue}N.push(le)}}W.length&&N.push(...W);const he=S.div;for(const le of N){const Y=ke.create({data:le,layer:he,page:S.page,viewport:S.viewport,linkService:S.linkService,downloadManager:S.downloadManager,imageResourcesPath:S.imageResourcesPath||"",renderForms:!1!==S.renderForms,svgFactory:new u.DOMSVGFactory,annotationStorage:S.annotationStorage||new J.AnnotationStorage,enableScripting:S.enableScripting,hasJSActions:S.hasJSActions,fieldObjects:S.fieldObjects,mouseState:S.mouseState||{isDown:!1}});if(Y.isRenderable){const He=Y.render();if(le.hidden&&(He.style.visibility="hidden"),Array.isArray(He))for(const We of He)he.appendChild(We);else Y instanceof O?he.prepend(He):he.appendChild(He)}}_classStaticPrivateMethodGet(this,H,G).call(this,he,S.annotationCanvasMap)}static update(S){const{page:N,viewport:W,annotations:he,annotationCanvasMap:le,div:Y}=S,He=W.transform,We=`matrix(${He.join(",")})`;let qe,ze;for(const ft of he){const Rt=Y.querySelectorAll(`[data-annotation-id="${ft.id}"]`);if(Rt)for(const Ut of Rt)if(ft.hasOwnCanvas){const Nt=f.Util.normalizeRect([ft.rect[0],N.view[3]-ft.rect[1]+N.view[1],ft.rect[2],N.view[3]-ft.rect[3]+N.view[1]]);if(!ze){qe=Math.abs(He[0]||He[1]);const gn=He.slice();for(let qt=0;qt<4;qt++)gn[qt]=Math.sign(gn[qt]);ze=`matrix(${gn.join(",")})`}const Pt=Nt[0]*qe,zt=Nt[1]*qe;Ut.style.left=`${Pt}px`,Ut.style.top=`${zt}px`,Ut.style.transformOrigin=`${-Pt}px ${-zt}px`,Ut.style.transform=ze}else Ut.style.transform=We}_classStaticPrivateMethodGet(this,H,G).call(this,Y,le),Y.hidden=!1}}function G(V,S){if(S){for(const[N,W]of S){const he=V.querySelector(`[data-annotation-id="${N}"]`);if(!he)continue;const{firstChild:le}=he;"CANVAS"===le.nodeName?he.replaceChild(W,le):he.insertBefore(W,le)}S.clear()}}F.AnnotationLayer=H},(Ue,F)=>{function j(u){return Math.floor(255*Math.max(0,Math.min(1,u))).toString(16).padStart(2,"0")}Object.defineProperty(F,"__esModule",{value:!0}),F.ColorConverters=void 0,F.ColorConverters=class f{static CMYK_G([J,Re,_e,Ee]){return["G",1-Math.min(1,.3*J+.59*_e+.11*Re+Ee)]}static G_CMYK([J]){return["CMYK",0,0,0,1-J]}static G_RGB([J]){return["RGB",J,J,J]}static G_HTML([J]){const Re=j(J);return`#${Re}${Re}${Re}`}static RGB_G([J,Re,_e]){return["G",.3*J+.59*Re+.11*_e]}static RGB_HTML([J,Re,_e]){return`#${j(J)}${j(Re)}${j(_e)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([J,Re,_e,Ee]){return["RGB",1-Math.min(1,J+Ee),1-Math.min(1,_e+Ee),1-Math.min(1,Re+Ee)]}static CMYK_HTML(J){return this.RGB_HTML(this.CMYK_RGB(J))}static RGB_CMYK([J,Re,_e]){const Ee=1-J,fe=1-Re,ve=1-_e;return["CMYK",Ee,fe,ve,Math.min(Ee,fe,ve)]}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.XfaLayer=void 0;var f=j(1),u=j(17);F.XfaLayer=class J{static setupStorage(_e,Ee,fe,ve,ke){const se=ve.getValue(Ee,{value:null});switch(fe.name){case"textarea":if(null!==se.value&&(_e.textContent=se.value),"print"===ke)break;_e.addEventListener("input",oe=>{ve.setValue(Ee,{value:oe.target.value})});break;case"input":if("radio"===fe.attributes.type||"checkbox"===fe.attributes.type){if(se.value===fe.attributes.xfaOn?_e.setAttribute("checked",!0):se.value===fe.attributes.xfaOff&&_e.removeAttribute("checked"),"print"===ke)break;_e.addEventListener("change",oe=>{ve.setValue(Ee,{value:oe.target.getAttribute(oe.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==se.value&&_e.setAttribute("value",se.value),"print"===ke)break;_e.addEventListener("input",oe=>{ve.setValue(Ee,{value:oe.target.value})})}break;case"select":if(null!==se.value)for(const oe of fe.children)oe.attributes.value===se.value&&(oe.attributes.selected=!0);_e.addEventListener("input",oe=>{const De=oe.target.options;ve.setValue(Ee,{value:-1===De.selectedIndex?"":De[De.selectedIndex].value})})}}static setAttributes({html:_e,element:Ee,storage:fe=null,intent:ve,linkService:ke}){const{attributes:se}=Ee,oe=_e instanceof HTMLAnchorElement;"radio"===se.type&&(se.name=`${se.name}-${ve}`);for(const[De,te]of Object.entries(se))if(null!=te&&"dataId"!==De)if("style"!==De)if("textContent"===De)_e.textContent=te;else if("class"===De)te.length&&_e.setAttribute(De,te.join(" "));else{if(oe&&("href"===De||"newWindow"===De))continue;_e.setAttribute(De,te)}else Object.assign(_e.style,te);oe&&(ke.addLinkAttributes||(0,f.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),ke.addLinkAttributes?.(_e,se.href,se.newWindow)),fe&&se.dataId&&this.setupStorage(_e,se.dataId,Ee,fe)}static render(_e){const Ee=_e.annotationStorage,fe=_e.linkService,ve=_e.xfaHtml,ke=_e.intent||"display",se=document.createElement(ve.name);ve.attributes&&this.setAttributes({html:se,element:ve,intent:ke,linkService:fe});const oe=[[ve,-1,se]],De=_e.div;if(De.appendChild(se),_e.viewport){const ee=`matrix(${_e.viewport.transform.join(",")})`;De.style.transform=ee}"richText"!==ke&&De.setAttribute("class","xfaLayer xfaFont");const te=[];for(;oe.length>0;){const[ee,we,be]=oe[oe.length-1];if(we+1===ee.children.length){oe.pop();continue}const me=ee.children[++oe[oe.length-1][1]];if(null===me)continue;const{name:ge}=me;if("#text"===ge){const D=document.createTextNode(me.value);te.push(D),be.appendChild(D);continue}let O;if(O=me?.attributes?.xmlns?document.createElementNS(me.attributes.xmlns,ge):document.createElement(ge),be.appendChild(O),me.attributes&&this.setAttributes({html:O,element:me,storage:Ee,intent:ke,linkService:fe}),me.children&&me.children.length>0)oe.push([me,-1,O]);else if(me.value){const D=document.createTextNode(me.value);u.XfaText.shouldBuildText(ge)&&te.push(D),O.appendChild(D)}}for(const ee of De.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))ee.setAttribute("readOnly",!0);return{textDivs:te}}static update(_e){const Ee=`matrix(${_e.viewport.transform.join(",")})`;_e.div.style.transform=Ee,_e.div.hidden=!1}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.renderTextLayer=function we(be){const me=new ee({textContent:be.textContent,textContentStream:be.textContentStream,container:be.container,viewport:be.viewport,textDivs:be.textDivs,textContentItemsStr:be.textContentItemsStr,enhanceTextSelection:be.enhanceTextSelection});return me._render(be.timeout),me};var f=j(1);const u=1e5,J=30,Re=.8,_e=new Map,Ee=/^\s+$/g;function ve(be,me,ge,O){const D=document.createElement("span"),K=be._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==me.str,hasEOL:me.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==me.str,hasEOL:me.hasEOL};be._textDivs.push(D);const ue=f.Util.transform(be._viewport.transform,me.transform);let X=Math.atan2(ue[1],ue[0]);const xe=ge[me.fontName];xe.vertical&&(X+=Math.PI/2);const Z=Math.hypot(ue[2],ue[3]),L=Z*function fe(be,me){const ge=_e.get(be);if(ge)return ge;me.save(),me.font=`${J}px ${be}`;const O=me.measureText("");let D=O.fontBoundingBoxAscent,K=Math.abs(O.fontBoundingBoxDescent);if(D){me.restore();const X=D/(D+K);return _e.set(be,X),X}me.strokeStyle="red",me.clearRect(0,0,J,J),me.strokeText("g",0,0);let ue=me.getImageData(0,0,J,J).data;K=0;for(let X=ue.length-1-3;X>=0;X-=4)if(ue[X]>0){K=Math.ceil(X/4/J);break}me.clearRect(0,0,J,J),me.strokeText("A",0,J),ue=me.getImageData(0,0,J,J).data,D=0;for(let X=0,xe=ue.length;X<xe;X+=4)if(ue[X]>0){D=J-Math.floor(X/4/J);break}if(me.restore(),D){const X=D/(D+K);return _e.set(be,X),X}return _e.set(be,Re),Re}(xe.fontFamily,O);let ae,Se;0===X?(ae=ue[4],Se=ue[5]-L):(ae=ue[4]+L*Math.sin(X),Se=ue[5]-L*Math.cos(X)),D.style.left=`${ae}px`,D.style.top=`${Se}px`,D.style.fontSize=`${Z}px`,D.style.fontFamily=xe.fontFamily,D.setAttribute("role","presentation"),D.textContent=me.str,D.dir=me.dir,be._fontInspectorEnabled&&(D.dataset.fontName=me.fontName),0!==X&&(K.angle=X*(180/Math.PI));let Oe=!1;if(me.str.length>1||be._enhanceTextSelection&&Ee.test(me.str))Oe=!0;else if(" "!==me.str&&me.transform[0]!==me.transform[3]){const Ve=Math.abs(me.transform[0]),Le=Math.abs(me.transform[3]);Ve!==Le&&Math.max(Ve,Le)/Math.min(Ve,Le)>1.5&&(Oe=!0)}if(Oe&&(K.canvasWidth=xe.vertical?me.height*be._viewport.scale:me.width*be._viewport.scale),be._textDivProperties.set(D,K),be._textContentStream&&be._layoutText(D),be._enhanceTextSelection&&K.hasText){let Ve=1,Le=0;0!==X&&(Ve=Math.cos(X),Le=Math.sin(X));const nt=(xe.vertical?me.height:me.width)*be._viewport.scale,ye=Z;let Q,H;0!==X?(Q=[Ve,Le,-Le,Ve,ae,Se],H=f.Util.getAxialAlignedBoundingBox([0,0,nt,ye],Q)):H=[ae,Se,ae+nt,Se+ye],be._bounds.push({left:H[0],top:H[1],right:H[2],bottom:H[3],div:D,size:[nt,ye],m:Q})}}function ke(be){if(be._canceled)return;const me=be._textDivs,ge=be._capability,O=me.length;if(O>u)return be._renderingDone=!0,void ge.resolve();if(!be._textContentStream)for(let D=0;D<O;D++)be._layoutText(me[D]);be._renderingDone=!0,ge.resolve()}function se(be,me,ge){let O=0;for(let D=0;D<ge;D++){const K=be[me++];K>0&&(O=O?Math.min(K,O):K)}return O}function te(be,me){me.sort(function(D,K){return D.x1-K.x1||D.index-K.index});const O=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const D of me){let K=0;for(;K<O.length&&O[K].end<=D.y1;)K++;let ue=O.length-1;for(;ue>=0&&O[ue].start>=D.y2;)ue--;let X,xe,Z,L,ae=-1/0;for(Z=K;Z<=ue;Z++){let Ve;X=O[Z],xe=X.boundary,Ve=xe.x2>D.x1?xe.index>D.index?xe.x1New:D.x1:void 0===xe.x2New?(xe.x2+D.x1)/2:xe.x2New,Ve>ae&&(ae=Ve)}for(D.x1New=ae,Z=K;Z<=ue;Z++)X=O[Z],xe=X.boundary,void 0===xe.x2New?xe.x2>D.x1?xe.index>D.index&&(xe.x2New=xe.x2):xe.x2New=ae:xe.x2New>ae&&(xe.x2New=Math.max(ae,xe.x2));const Se=[];let Oe=null;for(Z=K;Z<=ue;Z++){X=O[Z],xe=X.boundary;const Ve=xe.x2>D.x2?xe:D;Oe===Ve?Se[Se.length-1].end=X.end:(Se.push({start:X.start,end:X.end,boundary:Ve}),Oe=Ve)}for(O[K].start<D.y1&&(Se[0].start=D.y1,Se.unshift({start:O[K].start,end:D.y1,boundary:O[K].boundary})),D.y2<O[ue].end&&(Se[Se.length-1].end=D.y2,Se.push({start:D.y2,end:O[ue].end,boundary:O[ue].boundary})),Z=K;Z<=ue;Z++){if(X=O[Z],xe=X.boundary,void 0!==xe.x2New)continue;let Ve=!1;for(L=K-1;!Ve&&L>=0&&O[L].start>=xe.y1;L--)Ve=O[L].boundary===xe;for(L=ue+1;!Ve&&L<O.length&&O[L].end<=xe.y2;L++)Ve=O[L].boundary===xe;for(L=0;!Ve&&L<Se.length;L++)Ve=Se[L].boundary===xe;Ve||(xe.x2New=ae)}Array.prototype.splice.apply(O,[K,ue-K+1].concat(Se))}for(const D of O){const K=D.boundary;void 0===K.x2New&&(K.x2New=Math.max(be,K.x2))}}class ee{constructor({textContent:me,textContentStream:ge,container:O,viewport:D,textDivs:K,textContentItemsStr:ue,enhanceTextSelection:X}){this._textContent=me,this._textContentStream=ge,this._container=O,this._document=O.ownerDocument,this._viewport=D,this._textDivs=K||[],this._textContentItemsStr=ue||[],this._enhanceTextSelection=!!X,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,f.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new f.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(me,ge){for(let O=0,D=me.length;O<D;O++)if(void 0!==me[O].str)this._textContentItemsStr.push(me[O].str),ve(this,me[O],ge,this._layoutTextCtx);else if("beginMarkedContentProps"===me[O].type||"beginMarkedContent"===me[O].type){const K=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==me[O].id&&this._container.setAttribute("id",`${me[O].id}`),K.appendChild(this._container)}else"endMarkedContent"===me[O].type&&(this._container=this._container.parentNode)}_layoutText(me){const ge=this._textDivProperties.get(me);let O="";if(0!==ge.canvasWidth&&ge.hasText){const{fontSize:D,fontFamily:K}=me.style;(D!==this._layoutTextLastFontSize||K!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${D} ${K}`,this._layoutTextLastFontSize=D,this._layoutTextLastFontFamily=K);const{width:ue}=this._layoutTextCtx.measureText(me.textContent);if(ue>0){const X=ge.canvasWidth/ue;this._enhanceTextSelection&&(ge.scale=X),O=`scaleX(${X})`}}if(0!==ge.angle&&(O=`rotate(${ge.angle}deg) ${O}`),O.length>0&&(this._enhanceTextSelection&&(ge.originalTransform=O),me.style.transform=O),ge.hasText&&this._container.appendChild(me),ge.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),this._container.appendChild(D)}}_render(me=0){const ge=(0,f.createPromiseCapability)();let O=Object.create(null);const D=this._document.createElement("canvas");if(D.height=D.width=J,D.mozOpaque=!0,this._layoutTextCtx=D.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),ge.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const K=()=>{this._reader.read().then(({value:ue,done:X})=>{X?ge.resolve():(Object.assign(O,ue.styles),this._processItems(ue.items,O),K())},ge.reject)};this._reader=this._textContentStream.getReader(),K()}}ge.promise.then(()=>{O=null,me?this._renderTimer=setTimeout(()=>{ke(this),this._renderTimer=null},me):ke(this)},this._capability.reject)}expandTextDivs(me=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function oe(be){const me=be._bounds,ge=be._viewport,O=function De(be,me,ge){const O=ge.map(function(K,ue){return{x1:K.left,y1:K.top,x2:K.right,y2:K.bottom,index:ue,x1New:void 0,x2New:void 0}});te(be,O);const D=new Array(ge.length);for(const K of O)D[K.index]={left:K.x1New,top:0,right:K.x2New,bottom:0};ge.map(function(K,ue){const X=D[ue],xe=O[ue];xe.x1=K.top,xe.y1=be-X.right,xe.x2=K.bottom,xe.y2=be-X.left,xe.index=ue,xe.x1New=void 0,xe.x2New=void 0}),te(me,O);for(const K of O){const ue=K.index;D[ue].top=K.x1New,D[ue].bottom=K.x2New}return D}(ge.width,ge.height,me);for(let D=0;D<O.length;D++){const K=me[D].div,ue=be._textDivProperties.get(K);if(0===ue.angle){ue.paddingLeft=me[D].left-O[D].left,ue.paddingTop=me[D].top-O[D].top,ue.paddingRight=O[D].right-me[D].right,ue.paddingBottom=O[D].bottom-me[D].bottom,be._textDivProperties.set(K,ue);continue}const X=O[D],xe=me[D],Z=xe.m,L=Z[0],ae=Z[1],Se=[[0,0],[0,xe.size[1]],[xe.size[0],0],xe.size],Oe=new Float64Array(64);for(let Le=0,nt=Se.length;Le<nt;Le++){const ye=f.Util.applyTransform(Se[Le],Z);Oe[Le+0]=L&&(X.left-ye[0])/L,Oe[Le+4]=ae&&(X.top-ye[1])/ae,Oe[Le+8]=L&&(X.right-ye[0])/L,Oe[Le+12]=ae&&(X.bottom-ye[1])/ae,Oe[Le+16]=ae&&(X.left-ye[0])/-ae,Oe[Le+20]=L&&(X.top-ye[1])/L,Oe[Le+24]=ae&&(X.right-ye[0])/-ae,Oe[Le+28]=L&&(X.bottom-ye[1])/L,Oe[Le+32]=L&&(X.left-ye[0])/-L,Oe[Le+36]=ae&&(X.top-ye[1])/-ae,Oe[Le+40]=L&&(X.right-ye[0])/-L,Oe[Le+44]=ae&&(X.bottom-ye[1])/-ae,Oe[Le+48]=ae&&(X.left-ye[0])/ae,Oe[Le+52]=L&&(X.top-ye[1])/-L,Oe[Le+56]=ae&&(X.right-ye[0])/ae,Oe[Le+60]=L&&(X.bottom-ye[1])/-L}const Ve=1+Math.min(Math.abs(L),Math.abs(ae));ue.paddingLeft=se(Oe,32,16)/Ve,ue.paddingTop=se(Oe,48,16)/Ve,ue.paddingRight=se(Oe,0,16)/Ve,ue.paddingBottom=se(Oe,16,16)/Ve,be._textDivProperties.set(K,ue)}}(this),this._bounds=null);const ge=[],O=[];for(let D=0,K=this._textDivs.length;D<K;D++){const ue=this._textDivs[D],X=this._textDivProperties.get(ue);X.hasText&&(me?(ge.length=0,O.length=0,X.originalTransform&&ge.push(X.originalTransform),X.paddingTop>0?(O.push(`${X.paddingTop}px`),ge.push(`translateY(${-X.paddingTop}px)`)):O.push(0),O.push(X.paddingRight>0?X.paddingRight/X.scale+"px":0),O.push(X.paddingBottom>0?`${X.paddingBottom}px`:0),X.paddingLeft>0?(O.push(X.paddingLeft/X.scale+"px"),ge.push(`translateX(${-X.paddingLeft/X.scale}px)`)):O.push(0),ue.style.padding=O.join(" "),ge.length&&(ue.style.transform=ge.join(" "))):(ue.style.padding=null,ue.style.transform=X.originalTransform))}}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.SVGGraphics=void 0;var f=j(1),u=j(5),J=j(3);let Re=class{constructor(){(0,f.unreachable)("Not implemented: SVGGraphics")}};F.SVGGraphics=Re;{let te=function(O){let D=[];const K=[];for(const ue of O)"save"!==ue.fn?"restore"===ue.fn?D=K.pop():D.push(ue):(D.push({fnId:92,fn:"group",items:[]}),K.push(D),D=D[D.length-1].items);return D},ee=function(O){if(Number.isInteger(O))return O.toString();const D=O.toFixed(10);let K=D.length-1;if("0"!==D[K])return D;do{K--}while("0"===D[K]);return D.substring(0,"."===D[K]?K:K+1)},we=function(O){if(0===O[4]&&0===O[5]){if(0===O[1]&&0===O[2])return 1===O[0]&&1===O[3]?"":`scale(${ee(O[0])} ${ee(O[3])})`;if(O[0]===O[3]&&O[1]===-O[2]){const D=180*Math.acos(O[0])/Math.PI;return`rotate(${ee(D)})`}}else if(1===O[0]&&0===O[1]&&0===O[2]&&1===O[3])return`translate(${ee(O[4])} ${ee(O[5])})`;return`matrix(${ee(O[0])} ${ee(O[1])} ${ee(O[2])} ${ee(O[3])} ${ee(O[4])} ${ee(O[5])})`};const _e={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Ee="http://www.w3.org/XML/1998/namespace",fe="http://www.w3.org/1999/xlink",ve=["butt","round","square"],ke=["miter","round","bevel"],se=function(O,D="",K=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!K)return URL.createObjectURL(new Blob([O],{type:D}));const ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let X=`data:${D};base64,`;for(let xe=0,Z=O.length;xe<Z;xe+=3){const L=255&O[xe],ae=255&O[xe+1],Se=255&O[xe+2];X+=ue[L>>2]+ue[(3&L)<<4|ae>>4]+ue[xe+1<Z?(15&ae)<<2|Se>>6:64]+ue[xe+2<Z?63&Se:64]}return X},oe=function(){const O=new Uint8Array([137,80,78,71,13,10,26,10]),D=12,K=new Int32Array(256);for(let Se=0;Se<256;Se++){let Oe=Se;for(let Ve=0;Ve<8;Ve++)Oe=1&Oe?3988292384^Oe>>1&2147483647:Oe>>1&2147483647;K[Se]=Oe}function X(Se,Oe,Ve,Le){let nt=Le;const ye=Oe.length;Ve[nt]=ye>>24&255,Ve[nt+1]=ye>>16&255,Ve[nt+2]=ye>>8&255,Ve[nt+3]=255&ye,nt+=4,Ve[nt]=255&Se.charCodeAt(0),Ve[nt+1]=255&Se.charCodeAt(1),Ve[nt+2]=255&Se.charCodeAt(2),Ve[nt+3]=255&Se.charCodeAt(3),nt+=4,Ve.set(Oe,nt),nt+=Oe.length;const Q=function ue(Se,Oe,Ve){let Le=-1;for(let nt=Oe;nt<Ve;nt++)Le=Le>>>8^K[255&(Le^Se[nt])];return-1^Le}(Ve,Le+4,nt);Ve[nt]=Q>>24&255,Ve[nt+1]=Q>>16&255,Ve[nt+2]=Q>>8&255,Ve[nt+3]=255&Q}function L(Se){let Oe=Se.length;const Ve=65535,Le=Math.ceil(Oe/Ve),nt=new Uint8Array(2+Oe+5*Le+4);let ye=0;nt[ye++]=120,nt[ye++]=156;let Q=0;for(;Oe>Ve;)nt[ye++]=0,nt[ye++]=255,nt[ye++]=255,nt[ye++]=0,nt[ye++]=0,nt.set(Se.subarray(Q,Q+Ve),ye),ye+=Ve,Q+=Ve,Oe-=Ve;nt[ye++]=1,nt[ye++]=255&Oe,nt[ye++]=Oe>>8&255,nt[ye++]=255&~Oe,nt[ye++]=(65535&~Oe)>>8&255,nt.set(Se.subarray(Q),ye),ye+=Se.length-Q;const H=function xe(Se,Oe,Ve){let Le=1,nt=0;for(let ye=Oe;ye<Ve;++ye)Le=(Le+(255&Se[ye]))%65521,nt=(nt+Le)%65521;return nt<<16|Le}(Se,0,Se.length);return nt[ye++]=H>>24&255,nt[ye++]=H>>16&255,nt[ye++]=H>>8&255,nt[ye++]=255&H,nt}return function(Oe,Ve,Le){return function ae(Se,Oe,Ve,Le){const nt=Se.width,ye=Se.height;let Q,H,G;const V=Se.data;switch(Oe){case f.ImageKind.GRAYSCALE_1BPP:H=0,Q=1,G=nt+7>>3;break;case f.ImageKind.RGB_24BPP:H=2,Q=8,G=3*nt;break;case f.ImageKind.RGBA_32BPP:H=6,Q=8,G=4*nt;break;default:throw new Error("invalid format")}const S=new Uint8Array((1+G)*ye);let N=0,W=0;for(let qe=0;qe<ye;++qe)S[N++]=0,S.set(V.subarray(W,W+G),N),W+=G,N+=G;if(Oe===f.ImageKind.GRAYSCALE_1BPP&&Le){N=0;for(let qe=0;qe<ye;qe++){N++;for(let ze=0;ze<G;ze++)S[N++]^=255}}const he=new Uint8Array([nt>>24&255,nt>>16&255,nt>>8&255,255&nt,ye>>24&255,ye>>16&255,ye>>8&255,255&ye,Q,H,0,0,0]),le=function Z(Se){if(!J.isNodeJS)return L(Se);try{let Oe;Oe=parseInt(process.versions.node)>=8?Se:Buffer.from(Se);const Ve=__webpack_require__(2258).deflateSync(Oe,{level:9});return Ve instanceof Uint8Array?Ve:new Uint8Array(Ve)}catch(Oe){(0,f.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Oe)}return L(Se)}(S),He=new Uint8Array(O.length+3*D+he.length+le.length);let We=0;return He.set(O,We),We+=O.length,X("IHDR",he,He,We),We+=D+he.length,X("IDATA",le,He,We),We+=D+le.length,X("IEND",new Uint8Array(0),He,We),se(He,"image/png",Ve)}(Oe,void 0===Oe.kind?f.ImageKind.GRAYSCALE_1BPP:Oe.kind,Ve,Le)}}();class De{constructor(){this.fontSizeScale=1,this.fontWeight=_e.fontWeight,this.fontSize=0,this.textMatrix=f.IDENTITY_MATRIX,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=f.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=_e.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(D,K){this.x=D,this.y=K}}let be=0,me=0,ge=0;F.SVGGraphics=Re=class{constructor(O,D,K=!1){this.svgFactory=new u.DOMSVGFactory,this.current=new De,this.transformMatrix=f.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=O,this.objs=D,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!K,this._operatorIdMapping=[];for(const ue in f.OPS)this._operatorIdMapping[f.OPS[ue]]=ue}save(){this.transformStack.push(this.transformMatrix);const O=this.current;this.extraStack.push(O),this.current=O.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(O){this.save(),this.executeOpTree(O),this.restore()}loadDependencies(O){const D=O.fnArray,K=O.argsArray;for(let ue=0,X=D.length;ue<X;ue++)if(D[ue]===f.OPS.dependency)for(const xe of K[ue]){const Z=xe.startsWith("g_")?this.commonObjs:this.objs,L=new Promise(ae=>{Z.get(xe,ae)});this.current.dependencies.push(L)}return Promise.all(this.current.dependencies)}transform(O,D,K,ue,X,xe){this.transformMatrix=f.Util.transform(this.transformMatrix,[O,D,K,ue,X,xe]),this.tgrp=null}getSVG(O,D){this.viewport=D;const K=this._initialize(D);return this.loadDependencies(O).then(()=>(this.transformMatrix=f.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(O)),K))}convertOpList(O){const D=this._operatorIdMapping,K=O.argsArray,ue=O.fnArray,X=[];for(let xe=0,Z=ue.length;xe<Z;xe++){const L=ue[xe];X.push({fnId:L,fn:D[L],args:K[xe]})}return te(X)}executeOpTree(O){for(const D of O){const K=D.fn,X=D.args;switch(0|D.fnId){case f.OPS.beginText:this.beginText();break;case f.OPS.dependency:break;case f.OPS.setLeading:this.setLeading(X);break;case f.OPS.setLeadingMoveText:this.setLeadingMoveText(X[0],X[1]);break;case f.OPS.setFont:this.setFont(X);break;case f.OPS.showText:case f.OPS.showSpacedText:this.showText(X[0]);break;case f.OPS.endText:this.endText();break;case f.OPS.moveText:this.moveText(X[0],X[1]);break;case f.OPS.setCharSpacing:this.setCharSpacing(X[0]);break;case f.OPS.setWordSpacing:this.setWordSpacing(X[0]);break;case f.OPS.setHScale:this.setHScale(X[0]);break;case f.OPS.setTextMatrix:this.setTextMatrix(X[0],X[1],X[2],X[3],X[4],X[5]);break;case f.OPS.setTextRise:this.setTextRise(X[0]);break;case f.OPS.setTextRenderingMode:this.setTextRenderingMode(X[0]);break;case f.OPS.setLineWidth:this.setLineWidth(X[0]);break;case f.OPS.setLineJoin:this.setLineJoin(X[0]);break;case f.OPS.setLineCap:this.setLineCap(X[0]);break;case f.OPS.setMiterLimit:this.setMiterLimit(X[0]);break;case f.OPS.setFillRGBColor:this.setFillRGBColor(X[0],X[1],X[2]);break;case f.OPS.setStrokeRGBColor:this.setStrokeRGBColor(X[0],X[1],X[2]);break;case f.OPS.setStrokeColorN:this.setStrokeColorN(X);break;case f.OPS.setFillColorN:this.setFillColorN(X);break;case f.OPS.shadingFill:this.shadingFill(X[0]);break;case f.OPS.setDash:this.setDash(X[0],X[1]);break;case f.OPS.setRenderingIntent:this.setRenderingIntent(X[0]);break;case f.OPS.setFlatness:this.setFlatness(X[0]);break;case f.OPS.setGState:this.setGState(X[0]);break;case f.OPS.fill:this.fill();break;case f.OPS.eoFill:this.eoFill();break;case f.OPS.stroke:this.stroke();break;case f.OPS.fillStroke:this.fillStroke();break;case f.OPS.eoFillStroke:this.eoFillStroke();break;case f.OPS.clip:this.clip("nonzero");break;case f.OPS.eoClip:this.clip("evenodd");break;case f.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case f.OPS.paintImageXObject:this.paintImageXObject(X[0]);break;case f.OPS.paintInlineImageXObject:this.paintInlineImageXObject(X[0]);break;case f.OPS.paintImageMaskXObject:this.paintImageMaskXObject(X[0]);break;case f.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(X[0],X[1]);break;case f.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case f.OPS.closePath:this.closePath();break;case f.OPS.closeStroke:this.closeStroke();break;case f.OPS.closeFillStroke:this.closeFillStroke();break;case f.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case f.OPS.nextLine:this.nextLine();break;case f.OPS.transform:this.transform(X[0],X[1],X[2],X[3],X[4],X[5]);break;case f.OPS.constructPath:this.constructPath(X[0],X[1]);break;case f.OPS.endPath:this.endPath();break;case 92:this.group(D.items);break;default:(0,f.warn)(`Unimplemented operator ${K}`)}}}setWordSpacing(O){this.current.wordSpacing=O}setCharSpacing(O){this.current.charSpacing=O}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(O,D,K,ue,X,xe){const Z=this.current;Z.textMatrix=Z.lineMatrix=[O,D,K,ue,X,xe],Z.textMatrixScale=Math.hypot(O,D),Z.x=Z.lineX=0,Z.y=Z.lineY=0,Z.xcoords=[],Z.ycoords=[],Z.tspan=this.svgFactory.createElement("svg:tspan"),Z.tspan.setAttributeNS(null,"font-family",Z.fontFamily),Z.tspan.setAttributeNS(null,"font-size",`${ee(Z.fontSize)}px`),Z.tspan.setAttributeNS(null,"y",ee(-Z.y)),Z.txtElement=this.svgFactory.createElement("svg:text"),Z.txtElement.appendChild(Z.tspan)}beginText(){const O=this.current;O.x=O.lineX=0,O.y=O.lineY=0,O.textMatrix=f.IDENTITY_MATRIX,O.lineMatrix=f.IDENTITY_MATRIX,O.textMatrixScale=1,O.tspan=this.svgFactory.createElement("svg:tspan"),O.txtElement=this.svgFactory.createElement("svg:text"),O.txtgrp=this.svgFactory.createElement("svg:g"),O.xcoords=[],O.ycoords=[]}moveText(O,D){const K=this.current;K.x=K.lineX+=O,K.y=K.lineY+=D,K.xcoords=[],K.ycoords=[],K.tspan=this.svgFactory.createElement("svg:tspan"),K.tspan.setAttributeNS(null,"font-family",K.fontFamily),K.tspan.setAttributeNS(null,"font-size",`${ee(K.fontSize)}px`),K.tspan.setAttributeNS(null,"y",ee(-K.y))}showText(O){const D=this.current,K=D.font,ue=D.fontSize;if(0===ue)return;const X=D.fontSizeScale,xe=D.charSpacing,Z=D.wordSpacing,L=D.fontDirection,ae=D.textHScale*L,Se=K.vertical,Oe=Se?1:-1,Ve=K.defaultVMetrics,Le=ue*D.fontMatrix[0];let nt=0;for(const H of O){if(null===H){nt+=L*Z;continue}if("number"==typeof H){nt+=Oe*H*ue/1e3;continue}const G=(H.isSpace?Z:0)+xe,V=H.fontChar;let S,N,he,W=H.width;if(Se){let le;const Y=H.vmetric||Ve;le=H.vmetric?Y[1]:.5*W,le=-le*Le,W=Y?-Y[0]:W,S=le/X,N=(nt+Y[2]*Le)/X}else S=nt/X,N=0;(H.isInFont||K.missingFile)&&(D.xcoords.push(D.x+S),Se&&D.ycoords.push(-D.y+N),D.tspan.textContent+=V),he=Se?W*Le-G*L:W*Le+G*L,nt+=he}D.tspan.setAttributeNS(null,"x",D.xcoords.map(ee).join(" ")),D.tspan.setAttributeNS(null,"y",Se?D.ycoords.map(ee).join(" "):ee(-D.y)),Se?D.y-=nt:D.x+=nt*ae,D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${ee(D.fontSize)}px`),D.fontStyle!==_e.fontStyle&&D.tspan.setAttributeNS(null,"font-style",D.fontStyle),D.fontWeight!==_e.fontWeight&&D.tspan.setAttributeNS(null,"font-weight",D.fontWeight);const ye=D.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;ye===f.TextRenderingMode.FILL||ye===f.TextRenderingMode.FILL_STROKE?(D.fillColor!==_e.fillColor&&D.tspan.setAttributeNS(null,"fill",D.fillColor),D.fillAlpha<1&&D.tspan.setAttributeNS(null,"fill-opacity",D.fillAlpha)):D.tspan.setAttributeNS(null,"fill",D.textRenderingMode===f.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(ye===f.TextRenderingMode.STROKE||ye===f.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(D.tspan,1/(D.textMatrixScale||1));let Q=D.textMatrix;0!==D.textRise&&(Q=Q.slice(),Q[5]+=D.textRise),D.txtElement.setAttributeNS(null,"transform",`${we(Q)} scale(${ee(ae)}, -1)`),D.txtElement.setAttributeNS(Ee,"xml:space","preserve"),D.txtElement.appendChild(D.tspan),D.txtgrp.appendChild(D.txtElement),this._ensureTransformGroup().appendChild(D.txtElement)}setLeadingMoveText(O,D){this.setLeading(-D),this.moveText(O,D)}addFontStyle(O){if(!O.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const D=se(O.data,O.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${O.loadedName}"; src: url(${D}); }\n`}setFont(O){const D=this.current,K=this.commonObjs.get(O[0]);let ue=O[1];D.font=K,this.embedFonts&&!K.missingFile&&!this.embeddedFonts[K.loadedName]&&(this.addFontStyle(K),this.embeddedFonts[K.loadedName]=K),D.fontMatrix=K.fontMatrix||f.FONT_IDENTITY_MATRIX;let X="normal";K.black?X="900":K.bold&&(X="bold");const xe=K.italic?"italic":"normal";ue<0?(ue=-ue,D.fontDirection=-1):D.fontDirection=1,D.fontSize=ue,D.fontFamily=K.loadedName,D.fontWeight=X,D.fontStyle=xe,D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"y",ee(-D.y)),D.xcoords=[],D.ycoords=[]}endText(){const O=this.current;O.textRenderingMode&f.TextRenderingMode.ADD_TO_PATH_FLAG&&O.txtElement?.hasChildNodes()&&(O.element=O.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(O){O>0&&(this.current.lineWidth=O)}setLineCap(O){this.current.lineCap=ve[O]}setLineJoin(O){this.current.lineJoin=ke[O]}setMiterLimit(O){this.current.miterLimit=O}setStrokeAlpha(O){this.current.strokeAlpha=O}setStrokeRGBColor(O,D,K){this.current.strokeColor=f.Util.makeHexColor(O,D,K)}setFillAlpha(O){this.current.fillAlpha=O}setFillRGBColor(O,D,K){this.current.fillColor=f.Util.makeHexColor(O,D,K),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(O){this.current.strokeColor=this._makeColorN_Pattern(O)}setFillColorN(O){this.current.fillColor=this._makeColorN_Pattern(O)}shadingFill(O){const D=this.viewport.width,K=this.viewport.height,ue=f.Util.inverseTransform(this.transformMatrix),X=f.Util.applyTransform([0,0],ue),xe=f.Util.applyTransform([0,K],ue),Z=f.Util.applyTransform([D,0],ue),L=f.Util.applyTransform([D,K],ue),ae=Math.min(X[0],xe[0],Z[0],L[0]),Se=Math.min(X[1],xe[1],Z[1],L[1]),Oe=Math.max(X[0],xe[0],Z[0],L[0]),Ve=Math.max(X[1],xe[1],Z[1],L[1]),Le=this.svgFactory.createElement("svg:rect");Le.setAttributeNS(null,"x",ae),Le.setAttributeNS(null,"y",Se),Le.setAttributeNS(null,"width",Oe-ae),Le.setAttributeNS(null,"height",Ve-Se),Le.setAttributeNS(null,"fill",this._makeShadingPattern(O)),this.current.fillAlpha<1&&Le.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Le)}_makeColorN_Pattern(O){return"TilingPattern"===O[0]?this._makeTilingPattern(O):this._makeShadingPattern(O)}_makeTilingPattern(O){const D=O[1],K=O[2],ue=O[3]||f.IDENTITY_MATRIX,[X,xe,Z,L]=O[4],ae=O[5],Se=O[6],Oe=O[7],Ve="shading"+ge++,[Le,nt,ye,Q]=f.Util.normalizeRect([...f.Util.applyTransform([X,xe],ue),...f.Util.applyTransform([Z,L],ue)]),[H,G]=f.Util.singularValueDecompose2dScale(ue),V=ae*H,S=Se*G,N=this.svgFactory.createElement("svg:pattern");N.setAttributeNS(null,"id",Ve),N.setAttributeNS(null,"patternUnits","userSpaceOnUse"),N.setAttributeNS(null,"width",V),N.setAttributeNS(null,"height",S),N.setAttributeNS(null,"x",`${Le}`),N.setAttributeNS(null,"y",`${nt}`);const W=this.svg,he=this.transformMatrix,le=this.current.fillColor,Y=this.current.strokeColor,He=this.svgFactory.create(ye-Le,Q-nt);if(this.svg=He,this.transformMatrix=ue,2===Oe){const We=f.Util.makeHexColor(...D);this.current.fillColor=We,this.current.strokeColor=We}return this.executeOpTree(this.convertOpList(K)),this.svg=W,this.transformMatrix=he,this.current.fillColor=le,this.current.strokeColor=Y,N.appendChild(He.childNodes[0]),this.defs.appendChild(N),`url(#${Ve})`}_makeShadingPattern(O){switch("string"==typeof O&&(O=this.objs.get(O)),O[0]){case"RadialAxial":const D="shading"+ge++,K=O[3];let ue;switch(O[1]){case"axial":const X=O[4],xe=O[5];ue=this.svgFactory.createElement("svg:linearGradient"),ue.setAttributeNS(null,"id",D),ue.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ue.setAttributeNS(null,"x1",X[0]),ue.setAttributeNS(null,"y1",X[1]),ue.setAttributeNS(null,"x2",xe[0]),ue.setAttributeNS(null,"y2",xe[1]);break;case"radial":const Z=O[4],L=O[5],ae=O[6],Se=O[7];ue=this.svgFactory.createElement("svg:radialGradient"),ue.setAttributeNS(null,"id",D),ue.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ue.setAttributeNS(null,"cx",L[0]),ue.setAttributeNS(null,"cy",L[1]),ue.setAttributeNS(null,"r",Se),ue.setAttributeNS(null,"fx",Z[0]),ue.setAttributeNS(null,"fy",Z[1]),ue.setAttributeNS(null,"fr",ae);break;default:throw new Error(`Unknown RadialAxial type: ${O[1]}`)}for(const X of K){const xe=this.svgFactory.createElement("svg:stop");xe.setAttributeNS(null,"offset",X[0]),xe.setAttributeNS(null,"stop-color",X[1]),ue.appendChild(xe)}return this.defs.appendChild(ue),`url(#${D})`;case"Mesh":return(0,f.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${O[0]}`)}}setDash(O,D){this.current.dashArray=O,this.current.dashPhase=D}constructPath(O,D){const K=this.current;let ue=K.x,X=K.y,xe=[],Z=0;for(const L of O)switch(0|L){case f.OPS.rectangle:ue=D[Z++],X=D[Z++];const Oe=ue+D[Z++],Ve=X+D[Z++];xe.push("M",ee(ue),ee(X),"L",ee(Oe),ee(X),"L",ee(Oe),ee(Ve),"L",ee(ue),ee(Ve),"Z");break;case f.OPS.moveTo:ue=D[Z++],X=D[Z++],xe.push("M",ee(ue),ee(X));break;case f.OPS.lineTo:ue=D[Z++],X=D[Z++],xe.push("L",ee(ue),ee(X));break;case f.OPS.curveTo:ue=D[Z+4],X=D[Z+5],xe.push("C",ee(D[Z]),ee(D[Z+1]),ee(D[Z+2]),ee(D[Z+3]),ee(ue),ee(X)),Z+=6;break;case f.OPS.curveTo2:xe.push("C",ee(ue),ee(X),ee(D[Z]),ee(D[Z+1]),ee(D[Z+2]),ee(D[Z+3])),ue=D[Z+2],X=D[Z+3],Z+=4;break;case f.OPS.curveTo3:ue=D[Z+2],X=D[Z+3],xe.push("C",ee(D[Z]),ee(D[Z+1]),ee(ue),ee(X),ee(ue),ee(X)),Z+=4;break;case f.OPS.closePath:xe.push("Z")}xe=xe.join(" "),K.path&&O.length>0&&O[0]!==f.OPS.rectangle&&O[0]!==f.OPS.moveTo?xe=K.path.getAttributeNS(null,"d")+xe:(K.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(K.path)),K.path.setAttributeNS(null,"d",xe),K.path.setAttributeNS(null,"fill","none"),K.element=K.path,K.setCurrentPoint(ue,X)}endPath(){const O=this.current;if(O.path=null,!this.pendingClip)return;if(!O.element)return void(this.pendingClip=null);const D="clippath"+be++,K=this.svgFactory.createElement("svg:clipPath");K.setAttributeNS(null,"id",D),K.setAttributeNS(null,"transform",we(this.transformMatrix));const ue=O.element.cloneNode(!0);if(ue.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,K.appendChild(ue),this.defs.appendChild(K),O.activeClipUrl){O.clipGroup=null;for(const X of this.extraStack)X.clipGroup=null;K.setAttributeNS(null,"clip-path",O.activeClipUrl)}O.activeClipUrl=`url(#${D})`,this.tgrp=null}clip(O){this.pendingClip=O}closePath(){const O=this.current;if(O.path){const D=`${O.path.getAttributeNS(null,"d")}Z`;O.path.setAttributeNS(null,"d",D)}}setLeading(O){this.current.leading=-O}setTextRise(O){this.current.textRise=O}setTextRenderingMode(O){this.current.textRenderingMode=O}setHScale(O){this.current.textHScale=O/100}setRenderingIntent(O){}setFlatness(O){}setGState(O){for(const[D,K]of O)switch(D){case"LW":this.setLineWidth(K);break;case"LC":this.setLineCap(K);break;case"LJ":this.setLineJoin(K);break;case"ML":this.setMiterLimit(K);break;case"D":this.setDash(K[0],K[1]);break;case"RI":this.setRenderingIntent(K);break;case"FL":this.setFlatness(K);break;case"Font":this.setFont(K);break;case"CA":this.setStrokeAlpha(K);break;case"ca":this.setFillAlpha(K);break;default:(0,f.warn)(`Unimplemented graphic state operator ${D}`)}}fill(){const O=this.current;O.element&&(O.element.setAttributeNS(null,"fill",O.fillColor),O.element.setAttributeNS(null,"fill-opacity",O.fillAlpha),this.endPath())}stroke(){const O=this.current;O.element&&(this._setStrokeAttributes(O.element),O.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(O,D=1){const K=this.current;let ue=K.dashArray;1!==D&&ue.length>0&&(ue=ue.map(function(X){return D*X})),O.setAttributeNS(null,"stroke",K.strokeColor),O.setAttributeNS(null,"stroke-opacity",K.strokeAlpha),O.setAttributeNS(null,"stroke-miterlimit",ee(K.miterLimit)),O.setAttributeNS(null,"stroke-linecap",K.lineCap),O.setAttributeNS(null,"stroke-linejoin",K.lineJoin),O.setAttributeNS(null,"stroke-width",ee(D*K.lineWidth)+"px"),O.setAttributeNS(null,"stroke-dasharray",ue.map(ee).join(" ")),O.setAttributeNS(null,"stroke-dashoffset",ee(D*K.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width","1px"),O.setAttributeNS(null,"height","1px"),O.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(O)}paintImageXObject(O){const D=O.startsWith("g_")?this.commonObjs.get(O):this.objs.get(O);D?this.paintInlineImageXObject(D):(0,f.warn)(`Dependent image with object ID ${O} is not ready yet`)}paintInlineImageXObject(O,D){const K=O.width,ue=O.height,X=oe(O,this.forceDataSchema,!!D),xe=this.svgFactory.createElement("svg:rect");xe.setAttributeNS(null,"x","0"),xe.setAttributeNS(null,"y","0"),xe.setAttributeNS(null,"width",ee(K)),xe.setAttributeNS(null,"height",ee(ue)),this.current.element=xe,this.clip("nonzero");const Z=this.svgFactory.createElement("svg:image");Z.setAttributeNS(fe,"xlink:href",X),Z.setAttributeNS(null,"x","0"),Z.setAttributeNS(null,"y",ee(-ue)),Z.setAttributeNS(null,"width",ee(K)+"px"),Z.setAttributeNS(null,"height",ee(ue)+"px"),Z.setAttributeNS(null,"transform",`scale(${ee(1/K)} ${ee(-1/ue)})`),D?D.appendChild(Z):this._ensureTransformGroup().appendChild(Z)}paintImageMaskXObject(O){const D=this.current,K=O.width,ue=O.height,X=D.fillColor;D.maskId="mask"+me++;const xe=this.svgFactory.createElement("svg:mask");xe.setAttributeNS(null,"id",D.maskId);const Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x","0"),Z.setAttributeNS(null,"y","0"),Z.setAttributeNS(null,"width",ee(K)),Z.setAttributeNS(null,"height",ee(ue)),Z.setAttributeNS(null,"fill",X),Z.setAttributeNS(null,"mask",`url(#${D.maskId})`),this.defs.appendChild(xe),this._ensureTransformGroup().appendChild(Z),this.paintInlineImageXObject(O,xe)}paintFormXObjectBegin(O,D){if(Array.isArray(O)&&6===O.length&&this.transform(O[0],O[1],O[2],O[3],O[4],O[5]),D){const K=D[2]-D[0],ue=D[3]-D[1],X=this.svgFactory.createElement("svg:rect");X.setAttributeNS(null,"x",D[0]),X.setAttributeNS(null,"y",D[1]),X.setAttributeNS(null,"width",ee(K)),X.setAttributeNS(null,"height",ee(ue)),this.current.element=X,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(O){const D=this.svgFactory.create(O.width,O.height),K=this.svgFactory.createElement("svg:defs");D.appendChild(K),this.defs=K;const ue=this.svgFactory.createElement("svg:g");return ue.setAttributeNS(null,"transform",we(O.transform)),D.appendChild(ue),this.svg=ue,D}_ensureClipGroup(){if(!this.current.clipGroup){const O=this.svgFactory.createElement("svg:g");O.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(O),this.current.clipGroup=O}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",we(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFNodeStream=void 0;var f=j(1),u=j(24);const J=__webpack_require__(172),Re=__webpack_require__(2001),_e=__webpack_require__(3779),Ee=__webpack_require__(6558),fe=/^file:\/\/\/[a-zA-Z]:\//;F.PDFNodeStream=class ke{constructor(ge){this.source=ge,this.url=function ve(me){const ge=Ee.parse(me);return"file:"===ge.protocol||ge.host?ge:/^[a-z]:[/\\]/i.test(me)?Ee.parse(`file:///${me}`):(ge.host||(ge.protocol="file:"),ge)}(ge.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&ge.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new we(this):new te(this),this._fullRequestReader}getRangeReader(ge,O){if(O<=this._progressiveDataLength)return null;const D=this.isFsUrl?new be(this,ge,O):new ee(this,ge,O);return this._rangeRequestReaders.push(D),D}cancelAllRequests(ge){this._fullRequestReader&&this._fullRequestReader.cancel(ge);for(const O of this._rangeRequestReaders.slice(0))O.cancel(ge)}};class se{constructor(ge){this._url=ge.url,this._done=!1,this._storedError=null,this.onProgress=null;const O=ge.source;this._contentLength=O.length,this._loaded=0,this._filename=null,this._disableRange=O.disableRange||!1,this._rangeChunkSize=O.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!O.disableStream,this._isRangeSupported=!O.disableRange,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._headersCapability=(0,f.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var ge=this;return _asyncToGenerator(function*(){if(yield ge._readCapability.promise,ge._done)return{value:void 0,done:!0};if(ge._storedError)throw ge._storedError;const O=ge._readableStream.read();return null===O?(ge._readCapability=(0,f.createPromiseCapability)(),ge.read()):(ge._loaded+=O.length,ge.onProgress&&ge.onProgress({loaded:ge._loaded,total:ge._contentLength}),{value:new Uint8Array(O).buffer,done:!1})})()}cancel(ge){this._readableStream?this._readableStream.destroy(ge):this._error(ge)}_error(ge){this._storedError=ge,this._readCapability.resolve()}_setReadableStream(ge){this._readableStream=ge,ge.on("readable",()=>{this._readCapability.resolve()}),ge.on("end",()=>{ge.destroy(),this._done=!0,this._readCapability.resolve()}),ge.on("error",O=>{this._error(O)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new f.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class oe{constructor(ge){this._url=ge.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!ge.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var ge=this;return _asyncToGenerator(function*(){if(yield ge._readCapability.promise,ge._done)return{value:void 0,done:!0};if(ge._storedError)throw ge._storedError;const O=ge._readableStream.read();return null===O?(ge._readCapability=(0,f.createPromiseCapability)(),ge.read()):(ge._loaded+=O.length,ge.onProgress&&ge.onProgress({loaded:ge._loaded}),{value:new Uint8Array(O).buffer,done:!1})})()}cancel(ge){this._readableStream?this._readableStream.destroy(ge):this._error(ge)}_error(ge){this._storedError=ge,this._readCapability.resolve()}_setReadableStream(ge){this._readableStream=ge,ge.on("readable",()=>{this._readCapability.resolve()}),ge.on("end",()=>{ge.destroy(),this._done=!0,this._readCapability.resolve()}),ge.on("error",O=>{this._error(O)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function De(me,ge){return{protocol:me.protocol,auth:me.auth,host:me.hostname,port:me.port,path:me.path,method:"GET",headers:ge}}class te extends se{constructor(ge){super(ge);const O=D=>{if(404===D.statusCode){const xe=new f.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=xe,void this._headersCapability.reject(xe)}this._headersCapability.resolve(),this._setReadableStream(D);const K=xe=>this._readableStream.headers[xe.toLowerCase()],{allowRangeRequests:ue,suggestedLength:X}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:K,isHttp:ge.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ue,this._contentLength=X||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(K)};this._request=null,this._request="http:"===this._url.protocol?Re.request(De(this._url,ge.httpHeaders),O):_e.request(De(this._url,ge.httpHeaders),O),this._request.on("error",D=>{this._storedError=D,this._headersCapability.reject(D)}),this._request.end()}}class ee extends oe{constructor(ge,O,D){super(ge),this._httpHeaders={};for(const ue in ge.httpHeaders){const X=ge.httpHeaders[ue];typeof X>"u"||(this._httpHeaders[ue]=X)}this._httpHeaders.Range=`bytes=${O}-${D-1}`;const K=ue=>{if(404!==ue.statusCode)this._setReadableStream(ue);else{const X=new f.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=X}};this._request=null,this._request="http:"===this._url.protocol?Re.request(De(this._url,this._httpHeaders),K):_e.request(De(this._url,this._httpHeaders),K),this._request.on("error",ue=>{this._storedError=ue}),this._request.end()}}class we extends se{constructor(ge){super(ge);let O=decodeURIComponent(this._url.path);fe.test(this._url.href)&&(O=O.replace(/^\//,"")),J.lstat(O,(D,K)=>{if(D)return"ENOENT"===D.code&&(D=new f.MissingPDFException(`Missing PDF "${O}".`)),this._storedError=D,void this._headersCapability.reject(D);this._contentLength=K.size,this._setReadableStream(J.createReadStream(O)),this._headersCapability.resolve()})}}class be extends oe{constructor(ge,O,D){super(ge);let K=decodeURIComponent(this._url.path);fe.test(this._url.href)&&(K=K.replace(/^\//,"")),this._setReadableStream(J.createReadStream(K,{start:O,end:D-1}))}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.createResponseStatusError=function Ee(ve,ke){return 404===ve||0===ve&&ke.startsWith("file:")?new f.MissingPDFException('Missing PDF "'+ke+'".'):new f.UnexpectedResponseException(`Unexpected server response (${ve}) while retrieving PDF "${ke}".`,ve)},F.extractFilenameFromHeader=function _e(ve){const ke=ve("Content-Disposition");if(ke){let se=(0,u.getFilenameFromContentDispositionHeader)(ke);if(se.includes("%"))try{se=decodeURIComponent(se)}catch{}if((0,J.isPdfFile)(se))return se}return null},F.validateRangeRequestCapabilities=function Re({getResponseHeader:ve,isHttp:ke,rangeChunkSize:se,disableRange:oe}){(0,f.assert)(se>0,"Range chunk size must be larger than zero");const De={allowRangeRequests:!1,suggestedLength:void 0},te=parseInt(ve("Content-Length"),10);return!Number.isInteger(te)||(De.suggestedLength=te,te<=2*se)||oe||!ke||"bytes"!==ve("Accept-Ranges")||"identity"!==(ve("Content-Encoding")||"identity")||(De.allowRangeRequests=!0),De},F.validateResponseStatus=function fe(ve){return 200===ve||206===ve};var f=j(1),u=j(25),J=j(5)},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.getFilenameFromContentDispositionHeader=function u(J){let Re=!0,_e=Ee("filename\\*","i").exec(J);if(_e){_e=_e[1];let te=se(_e);return te=unescape(te),te=oe(te),te=De(te),ve(te)}if(_e=function ke(te){const ee=[];let we;const be=Ee("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(we=be.exec(te));){let[,ge,O,D]=we;if(ge=parseInt(ge,10),ge in ee){if(0===ge)break}else ee[ge]=[O,D]}const me=[];for(let ge=0;ge<ee.length&&ge in ee;++ge){let[O,D]=ee[ge];D=se(D),O&&(D=unescape(D),0===ge&&(D=oe(D))),me.push(D)}return me.join("")}(J),_e)return ve(De(_e));if(_e=Ee("filename","i").exec(J),_e){_e=_e[1];let te=se(_e);return te=De(te),ve(te)}function Ee(te,ee){return new RegExp("(?:^|;)\\s*"+te+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ee)}function fe(te,ee){if(te){if(!/^[\x00-\xFF]+$/.test(ee))return ee;try{const we=new TextDecoder(te,{fatal:!0}),be=(0,f.stringToBytes)(ee);ee=we.decode(be),Re=!1}catch{}}return ee}function ve(te){return Re&&/[\x80-\xff]/.test(te)&&(te=fe("utf-8",te),Re&&(te=fe("iso-8859-1",te))),te}function se(te){if(te.startsWith('"')){const ee=te.slice(1).split('\\"');for(let we=0;we<ee.length;++we){const be=ee[we].indexOf('"');-1!==be&&(ee[we]=ee[we].slice(0,be),ee.length=we+1),ee[we]=ee[we].replace(/\\(.)/g,"$1")}te=ee.join('"')}return te}function oe(te){const ee=te.indexOf("'");return-1===ee?te:fe(te.slice(0,ee),te.slice(ee+1).replace(/^[^']*'/,""))}function De(te){return!te.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(te)?te:te.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ee,we,be,me){if("q"===be||"Q"===be)return fe(we,me=(me=me.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(ge,O){return String.fromCharCode(parseInt(O,16))}));try{me=atob(me)}catch{}return fe(we,me)})}return""};var f=j(1)},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFNetworkStream=void 0;var f=j(1),u=j(24);class Ee{constructor(oe,De={}){this.url=oe,this.isHttp=/^https?:/i.test(oe),this.httpHeaders=this.isHttp&&De.httpHeaders||Object.create(null),this.withCredentials=De.withCredentials||!1,this.getXhr=De.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(oe,De,te){const ee={begin:oe,end:De};for(const we in te)ee[we]=te[we];return this.request(ee)}requestFull(oe){return this.request(oe)}request(oe){const De=this.getXhr(),te=this.currXhrId++,ee=this.pendingRequests[te]={xhr:De};De.open("GET",this.url),De.withCredentials=this.withCredentials;for(const we in this.httpHeaders){const be=this.httpHeaders[we];typeof be>"u"||De.setRequestHeader(we,be)}return this.isHttp&&"begin"in oe&&"end"in oe?(De.setRequestHeader("Range",`bytes=${oe.begin}-${oe.end-1}`),ee.expectedStatus=206):ee.expectedStatus=200,De.responseType="arraybuffer",oe.onError&&(De.onerror=function(we){oe.onError(De.status)}),De.onreadystatechange=this.onStateChange.bind(this,te),De.onprogress=this.onProgress.bind(this,te),ee.onHeadersReceived=oe.onHeadersReceived,ee.onDone=oe.onDone,ee.onError=oe.onError,ee.onProgress=oe.onProgress,De.send(null),te}onProgress(oe,De){const te=this.pendingRequests[oe];te&&te.onProgress?.(De)}onStateChange(oe,De){const te=this.pendingRequests[oe];if(!te)return;const ee=te.xhr;if(ee.readyState>=2&&te.onHeadersReceived&&(te.onHeadersReceived(),delete te.onHeadersReceived),4!==ee.readyState||!(oe in this.pendingRequests))return;if(delete this.pendingRequests[oe],0===ee.status&&this.isHttp)return void te.onError?.(ee.status);const we=ee.status||200;if((200!==we||206!==te.expectedStatus)&&we!==te.expectedStatus)return void te.onError?.(ee.status);const me=function _e(se){const oe=se.response;return"string"!=typeof oe?oe:(0,f.stringToBytes)(oe).buffer}(ee);if(206===we){const ge=ee.getResponseHeader("Content-Range"),O=/bytes (\d+)-(\d+)\/(\d+)/.exec(ge);te.onDone({begin:parseInt(O[1],10),chunk:me})}else me?te.onDone({begin:0,chunk:me}):te.onError?.(ee.status)}getRequestXhr(oe){return this.pendingRequests[oe].xhr}isPendingRequest(oe){return oe in this.pendingRequests}abortRequest(oe){const De=this.pendingRequests[oe].xhr;delete this.pendingRequests[oe],De.abort()}}F.PDFNetworkStream=class fe{constructor(oe){this._source=oe,this._manager=new Ee(oe.url,{httpHeaders:oe.httpHeaders,withCredentials:oe.withCredentials}),this._rangeChunkSize=oe.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(oe){const De=this._rangeRequestReaders.indexOf(oe);De>=0&&this._rangeRequestReaders.splice(De,1)}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ve(this._manager,this._source),this._fullRequestReader}getRangeReader(oe,De){const te=new ke(this._manager,oe,De);return te.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(te),te}cancelAllRequests(oe){this._fullRequestReader?.cancel(oe);for(const De of this._rangeRequestReaders.slice(0))De.cancel(oe)}};class ve{constructor(oe,De){this._manager=oe;const te={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=De.url,this._fullRequestId=oe.requestFull(te),this._headersReceivedCapability=(0,f.createPromiseCapability)(),this._disableRange=De.disableRange||!1,this._contentLength=De.length,this._rangeChunkSize=De.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const oe=this._fullRequestId,De=this._manager.getRequestXhr(oe),te=be=>De.getResponseHeader(be),{allowRangeRequests:ee,suggestedLength:we}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:te,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ee&&(this._isRangeSupported=!0),this._contentLength=we||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(te),this._isRangeSupported&&this._manager.abortRequest(oe),this._headersReceivedCapability.resolve()}_onDone(oe){if(oe&&(this._requests.length>0?this._requests.shift().resolve({value:oe.chunk,done:!1}):this._cachedChunks.push(oe.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const De of this._requests)De.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(oe){this._storedError=(0,u.createResponseStatusError)(oe,this._url),this._headersReceivedCapability.reject(this._storedError);for(const De of this._requests)De.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(oe){this.onProgress?.({loaded:oe.loaded,total:oe.lengthComputable?oe.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var oe=this;return _asyncToGenerator(function*(){if(oe._storedError)throw oe._storedError;if(oe._cachedChunks.length>0)return{value:oe._cachedChunks.shift(),done:!1};if(oe._done)return{value:void 0,done:!0};const De=(0,f.createPromiseCapability)();return oe._requests.push(De),De.promise})()}cancel(oe){this._done=!0,this._headersReceivedCapability.reject(oe);for(const De of this._requests)De.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ke{constructor(oe,De,te){this._manager=oe;const ee={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=oe.url,this._requestId=oe.requestRange(De,te,ee),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(oe){const De=oe.chunk;this._requests.length>0?this._requests.shift().resolve({value:De,done:!1}):this._queuedChunk=De,this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(oe){this._storedError=(0,u.createResponseStatusError)(oe,this._url);for(const De of this._requests)De.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(oe){this.isStreamingSupported||this.onProgress?.({loaded:oe.loaded})}get isStreamingSupported(){return!1}read(){var oe=this;return _asyncToGenerator(function*(){if(oe._storedError)throw oe._storedError;if(null!==oe._queuedChunk){const te=oe._queuedChunk;return oe._queuedChunk=null,{value:te,done:!1}}if(oe._done)return{value:void 0,done:!0};const De=(0,f.createPromiseCapability)();return oe._requests.push(De),De.promise})()}cancel(oe){this._done=!0;for(const De of this._requests)De.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ue,F,j)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFFetchStream=void 0;var f=j(1),u=j(24);function J(ve,ke,se){return{method:"GET",headers:ve,signal:se?.signal,mode:"cors",credentials:ke?"include":"same-origin",redirect:"follow"}}function Re(ve){const ke=new Headers;for(const se in ve){const oe=ve[se];typeof oe>"u"||ke.append(se,oe)}return ke}F.PDFFetchStream=class _e{constructor(ke){this.source=ke,this.isHttp=/^https?:/i.test(ke.url),this.httpHeaders=this.isHttp&&ke.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ee(this),this._fullRequestReader}getRangeReader(ke,se){if(se<=this._progressiveDataLength)return null;const oe=new fe(this,ke,se);return this._rangeRequestReaders.push(oe),oe}cancelAllRequests(ke){this._fullRequestReader&&this._fullRequestReader.cancel(ke);for(const se of this._rangeRequestReaders.slice(0))se.cancel(ke)}};class Ee{constructor(ke){this._stream=ke,this._reader=null,this._loaded=0,this._filename=null;const se=ke.source;this._withCredentials=se.withCredentials||!1,this._contentLength=se.length,this._headersCapability=(0,f.createPromiseCapability)(),this._disableRange=se.disableRange||!1,this._rangeChunkSize=se.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!se.disableStream,this._isRangeSupported=!se.disableRange,this._headers=Re(this._stream.httpHeaders);const oe=se.url;fetch(oe,J(this._headers,this._withCredentials,this._abortController)).then(De=>{if(!(0,u.validateResponseStatus)(De.status))throw(0,u.createResponseStatusError)(De.status,oe);this._reader=De.body.getReader(),this._headersCapability.resolve();const te=be=>De.headers.get(be),{allowRangeRequests:ee,suggestedLength:we}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:te,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ee,this._contentLength=we||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(te),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new f.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var ke=this;return _asyncToGenerator(function*(){yield ke._headersCapability.promise;const{value:se,done:oe}=yield ke._reader.read();return oe?{value:se,done:oe}:(ke._loaded+=se.byteLength,ke.onProgress&&ke.onProgress({loaded:ke._loaded,total:ke._contentLength}),{value:new Uint8Array(se).buffer,done:!1})})()}cancel(ke){this._reader&&this._reader.cancel(ke),this._abortController&&this._abortController.abort()}}class fe{constructor(ke,se,oe){this._stream=ke,this._reader=null,this._loaded=0;const De=ke.source;this._withCredentials=De.withCredentials||!1,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!De.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=Re(this._stream.httpHeaders),this._headers.append("Range",`bytes=${se}-${oe-1}`);const te=De.url;fetch(te,J(this._headers,this._withCredentials,this._abortController)).then(ee=>{if(!(0,u.validateResponseStatus)(ee.status))throw(0,u.createResponseStatusError)(ee.status,te);this._readCapability.resolve(),this._reader=ee.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var ke=this;return _asyncToGenerator(function*(){yield ke._readCapability.promise;const{value:se,done:oe}=yield ke._reader.read();return oe?{value:se,done:oe}:(ke._loaded+=se.byteLength,ke.onProgress&&ke.onProgress({loaded:ke._loaded}),{value:new Uint8Array(se).buffer,done:!1})})()}cancel(ke){this._reader&&this._reader.cancel(ke),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Ue){var F=__webpack_module_cache__[Ue];if(void 0!==F)return F.exports;var j=__webpack_module_cache__[Ue]={exports:{}};return __webpack_modules__[Ue](j,j.exports,__w_pdfjs_require__),j.exports}var __webpack_exports__={};return(()=>{var Ue=__webpack_exports__;Object.defineProperty(Ue,"__esModule",{value:!0}),Object.defineProperty(Ue,"AnnotationLayer",{enumerable:!0,get:function(){return u.AnnotationLayer}}),Object.defineProperty(Ue,"AnnotationMode",{enumerable:!0,get:function(){return F.AnnotationMode}}),Object.defineProperty(Ue,"CMapCompressionType",{enumerable:!0,get:function(){return F.CMapCompressionType}}),Object.defineProperty(Ue,"GlobalWorkerOptions",{enumerable:!0,get:function(){return J.GlobalWorkerOptions}}),Object.defineProperty(Ue,"InvalidPDFException",{enumerable:!0,get:function(){return F.InvalidPDFException}}),Object.defineProperty(Ue,"LoopbackPort",{enumerable:!0,get:function(){return j.LoopbackPort}}),Object.defineProperty(Ue,"MissingPDFException",{enumerable:!0,get:function(){return F.MissingPDFException}}),Object.defineProperty(Ue,"OPS",{enumerable:!0,get:function(){return F.OPS}}),Object.defineProperty(Ue,"PDFDataRangeTransport",{enumerable:!0,get:function(){return j.PDFDataRangeTransport}}),Object.defineProperty(Ue,"PDFDateString",{enumerable:!0,get:function(){return f.PDFDateString}}),Object.defineProperty(Ue,"PDFWorker",{enumerable:!0,get:function(){return j.PDFWorker}}),Object.defineProperty(Ue,"PasswordResponses",{enumerable:!0,get:function(){return F.PasswordResponses}}),Object.defineProperty(Ue,"PermissionFlag",{enumerable:!0,get:function(){return F.PermissionFlag}}),Object.defineProperty(Ue,"PixelsPerInch",{enumerable:!0,get:function(){return f.PixelsPerInch}}),Object.defineProperty(Ue,"RenderingCancelledException",{enumerable:!0,get:function(){return f.RenderingCancelledException}}),Object.defineProperty(Ue,"SVGGraphics",{enumerable:!0,get:function(){return Ee.SVGGraphics}}),Object.defineProperty(Ue,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return F.UNSUPPORTED_FEATURES}}),Object.defineProperty(Ue,"UnexpectedResponseException",{enumerable:!0,get:function(){return F.UnexpectedResponseException}}),Object.defineProperty(Ue,"Util",{enumerable:!0,get:function(){return F.Util}}),Object.defineProperty(Ue,"VerbosityLevel",{enumerable:!0,get:function(){return F.VerbosityLevel}}),Object.defineProperty(Ue,"XfaLayer",{enumerable:!0,get:function(){return fe.XfaLayer}}),Object.defineProperty(Ue,"build",{enumerable:!0,get:function(){return j.build}}),Object.defineProperty(Ue,"createPromiseCapability",{enumerable:!0,get:function(){return F.createPromiseCapability}}),Object.defineProperty(Ue,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return F.createValidAbsoluteUrl}}),Object.defineProperty(Ue,"getDocument",{enumerable:!0,get:function(){return j.getDocument}}),Object.defineProperty(Ue,"getFilenameFromUrl",{enumerable:!0,get:function(){return f.getFilenameFromUrl}}),Object.defineProperty(Ue,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return f.getPdfFilenameFromUrl}}),Object.defineProperty(Ue,"getXfaPageViewport",{enumerable:!0,get:function(){return f.getXfaPageViewport}}),Object.defineProperty(Ue,"isPdfFile",{enumerable:!0,get:function(){return f.isPdfFile}}),Object.defineProperty(Ue,"loadScript",{enumerable:!0,get:function(){return f.loadScript}}),Object.defineProperty(Ue,"renderTextLayer",{enumerable:!0,get:function(){return _e.renderTextLayer}}),Object.defineProperty(Ue,"shadow",{enumerable:!0,get:function(){return F.shadow}}),Object.defineProperty(Ue,"version",{enumerable:!0,get:function(){return j.version}});var F=__w_pdfjs_require__(1),j=__w_pdfjs_require__(4),f=__w_pdfjs_require__(5),u=__w_pdfjs_require__(18),J=__w_pdfjs_require__(12),Re=__w_pdfjs_require__(3),_e=__w_pdfjs_require__(21),Ee=__w_pdfjs_require__(22),fe=__w_pdfjs_require__(20);if(Re.isNodeJS){const{PDFNodeStream:se}=__w_pdfjs_require__(23);(0,j.setPDFNetworkStreamFactory)(oe=>new se(oe))}else{const{PDFNetworkStream:se}=__w_pdfjs_require__(26),{PDFFetchStream:oe}=__w_pdfjs_require__(27);(0,j.setPDFNetworkStreamFactory)(De=>(0,f.isValidFetchUrl)(De.url)?new oe(De):new se(De))}})(),__webpack_exports__})()},module.exports=j()},2813:function(Ue,F,j){var f=j(5661).default,u=j(1860).default,J=j(9159).default,Re=j(5764).default,_e=j(4467).default,Ee=j(468).default,fe=j(7156).default;Ue.exports=(()=>{"use strict";var ve=[,(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.DefaultXfaLayerFactory=te.DefaultTextLayerFactory=te.DefaultStructTreeLayerFactory=te.DefaultAnnotationLayerFactory=void 0;var we=ee(2),be=ee(4),me=ee(5),ge=ee(7),O=ee(8),D=ee(9);te.DefaultAnnotationLayerFactory=class K{createAnnotationLayerBuilder(L,ae,Se=null,Oe="",Ve=!0,Le=be.NullL10n,nt=!1,ye=null,Q=null,H=null,G=null){return new we.AnnotationLayerBuilder({pageDiv:L,pdfPage:ae,imageResourcesPath:Oe,renderForms:Ve,linkService:new me.SimpleLinkService,l10n:Le,annotationStorage:Se,enableScripting:nt,hasJSActionsPromise:ye,fieldObjectsPromise:H,mouseState:Q,annotationCanvasMap:G})}};te.DefaultStructTreeLayerFactory=class ue{createStructTreeLayerBuilder(L){return new ge.StructTreeLayerBuilder({pdfPage:L})}};te.DefaultTextLayerFactory=class X{createTextLayerBuilder(L,ae,Se,Oe=!1,Ve,Le){return new O.TextLayerBuilder({textLayerDiv:L,pageIndex:ae,viewport:Se,enhanceTextSelection:Oe,eventBus:Ve,highlighter:Le})}};te.DefaultXfaLayerFactory=class xe{createXfaLayerBuilder(L,ae,Se=null,Oe=null){return new D.XfaLayerBuilder({pageDiv:L,pdfPage:ae,annotationStorage:Se,linkService:new me.SimpleLinkService,xfaHtml:Oe})}}},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.AnnotationLayerBuilder=void 0;var we=ee(3),be=ee(4);te.AnnotationLayerBuilder=class me{constructor({pageDiv:O,pdfPage:D,linkService:K,downloadManager:ue,annotationStorage:X=null,imageResourcesPath:xe="",renderForms:Z=!0,l10n:L=be.NullL10n,enableScripting:ae=!1,hasJSActionsPromise:Se=null,fieldObjectsPromise:Oe=null,mouseState:Ve=null,annotationCanvasMap:Le=null}){this.pageDiv=O,this.pdfPage=D,this.linkService=K,this.downloadManager=ue,this.imageResourcesPath=xe,this.renderForms=Z,this.l10n=L,this.annotationStorage=X,this.enableScripting=ae,this._hasJSActionsPromise=Se,this._fieldObjectsPromise=Oe,this._mouseState=Ve,this._annotationCanvasMap=Le,this.div=null,this._cancelled=!1}render(O,D="display"){var K=this;return fe(function*(){const[ue,X=!1,xe=null]=yield Promise.all([K.pdfPage.getAnnotations({intent:D}),K._hasJSActionsPromise,K._fieldObjectsPromise]);if(K._cancelled||0===ue.length)return;const Z={viewport:O.clone({dontFlip:!0}),div:K.div,annotations:ue,page:K.pdfPage,imageResourcesPath:K.imageResourcesPath,renderForms:K.renderForms,linkService:K.linkService,downloadManager:K.downloadManager,annotationStorage:K.annotationStorage,enableScripting:K.enableScripting,hasJSActions:X,fieldObjects:xe,mouseState:K._mouseState,annotationCanvasMap:K._annotationCanvasMap};K.div?we.AnnotationLayer.update(Z):(K.div=document.createElement("div"),K.div.className="annotationLayer",K.pageDiv.appendChild(K.div),Z.div=K.div,we.AnnotationLayer.render(Z),K.l10n.translate(K.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},De=>{let te;te=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:j(6036),De.exports=te},(De,te)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.NullL10n=void 0,te.fixupLangCode=function me(D){return be[D?.toLowerCase()]||D},te.getL10nFallback=we;const ee={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function we(D,K){switch(D){case"find_match_count":D=`find_match_count[${1===K.total?"one":"other"}]`;break;case"find_match_count_limit":D=`find_match_count_limit[${1===K.limit?"one":"other"}]`}return ee[D]||""}const be={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};te.NullL10n={getLanguage:()=>fe(function*(){return"en-us"})(),getDirection:()=>fe(function*(){return"ltr"})(),get:(D,K=null,ue=we(D,K))=>fe(function*(){return function ge(D,K){return K?D.replace(/\{\{\s*(\w+)\s*\}\}/g,(ue,X)=>X in K?K[X]:"{{"+X+"}}"):D}(ue,K)})(),translate:D=>fe(function*(){})()}},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.SimpleLinkService=te.PDFLinkService=te.LinkTarget=void 0;var we=ee(6);const be="noopener noreferrer nofollow",me={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function ge(Z,{url:L,target:ae,rel:Se,enabled:Oe=!0}={}){if(!L||"string"!=typeof L)throw new Error('A valid "url" parameter must provided.');const Ve=(0,we.removeNullCharacters)(L);Oe?Z.href=Z.title=Ve:(Z.href="",Z.title=`Disabled: ${Ve}`,Z.onclick=()=>!1);let Le="";switch(ae){case me.NONE:break;case me.SELF:Le="_self";break;case me.BLANK:Le="_blank";break;case me.PARENT:Le="_parent";break;case me.TOP:Le="_top"}Z.target=Le,Z.rel="string"==typeof Se?Se:be}te.LinkTarget=me;var O=new WeakMap,D=new WeakSet;class K{constructor({eventBus:L,externalLinkTarget:ae=null,externalLinkRel:Se=null,ignoreDestinationZoom:Oe=!1}={}){u(this,D),J(this,O,{writable:!0,value:new Map}),this.eventBus=L,this.externalLinkTarget=ae,this.externalLinkRel=Se,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=Oe,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(L,ae=null){this.baseUrl=ae,this.pdfDocument=L,Ee(this,O).clear()}setViewer(L){this.pdfViewer=L}setHistory(L){this.pdfHistory=L}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(L){this.pdfViewer.currentPageNumber=L}get rotation(){return this.pdfViewer.pagesRotation}set rotation(L){this.pdfViewer.pagesRotation=L}goToDestination(L){var ae=this;return fe(function*(){if(!ae.pdfDocument)return;let Se,Oe;"string"==typeof L?(Se=L,Oe=yield ae.pdfDocument.getDestination(L)):(Se=null,Oe=yield L),Array.isArray(Oe)?_e(ae,D,ue).call(ae,L,Se,Oe):console.error(`PDFLinkService.goToDestination: "${Oe}" is not a valid destination array, for dest="${L}".`)})()}goToPage(L){if(!this.pdfDocument)return;const ae="string"==typeof L&&this.pdfViewer.pageLabelToPageNumber(L)||0|L;Number.isInteger(ae)&&ae>0&&ae<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(ae)),this.pdfViewer.scrollPageIntoView({pageNumber:ae})):console.error(`PDFLinkService.goToPage: "${L}" is not a valid page.`)}addLinkAttributes(L,ae,Se=!1){ge(L,{url:ae,target:Se?me.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(L){if("string"==typeof L){if(L.length>0)return this.getAnchorUrl("#"+escape(L))}else if(Array.isArray(L)){const ae=JSON.stringify(L);if(ae.length>0)return this.getAnchorUrl("#"+escape(ae))}return this.getAnchorUrl("")}getAnchorUrl(L){return(this.baseUrl||"")+L}setHash(L){if(!this.pdfDocument)return;let ae,Se;if(L.includes("=")){const Oe=(0,we.parseQueryString)(L);if(Oe.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:Oe.get("search").replace(/"/g,""),phraseSearch:"true"===Oe.get("phrase")}),Oe.has("page")&&(ae=0|Oe.get("page")||1),Oe.has("zoom")){const Ve=Oe.get("zoom").split(","),Le=Ve[0],nt=parseFloat(Le);Le.includes("Fit")?"Fit"===Le||"FitB"===Le?Se=[null,{name:Le}]:"FitH"===Le||"FitBH"===Le||"FitV"===Le||"FitBV"===Le?Se=[null,{name:Le},Ve.length>1?0|Ve[1]:null]:"FitR"===Le?5!==Ve.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):Se=[null,{name:Le},0|Ve[1],0|Ve[2],0|Ve[3],0|Ve[4]]:console.error(`PDFLinkService.setHash: "${Le}" is not a valid zoom value.`):Se=[null,{name:"XYZ"},Ve.length>1?0|Ve[1]:null,Ve.length>2?0|Ve[2]:null,nt?nt/100:Le]}Se?this.pdfViewer.scrollPageIntoView({pageNumber:ae||this.page,destArray:Se,allowNegativeOffset:!0}):ae&&(this.page=ae),Oe.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:Oe.get("pagemode")}),Oe.has("nameddest")&&this.goToDestination(Oe.get("nameddest"))}else{Se=unescape(L);try{Se=JSON.parse(Se),Array.isArray(Se)||(Se=Se.toString())}catch{}if("string"==typeof Se||Re(K,K,X).call(K,Se))return void this.goToDestination(Se);console.error(`PDFLinkService.setHash: "${unescape(L)}" is not a valid destination.`)}}executeNamedAction(L){switch(L){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:L})}cachePageRef(L,ae){if(!ae)return;const Se=0===ae.gen?`${ae.num}R`:`${ae.num}R${ae.gen}`;Ee(this,O).set(Se,L)}_cachedPageNumber(L){if(!L)return null;const ae=0===L.gen?`${L.num}R`:`${L.num}R${L.gen}`;return Ee(this,O).get(ae)||null}isPageVisible(L){return this.pdfViewer.isPageVisible(L)}isPageCached(L){return this.pdfViewer.isPageCached(L)}}function ue(Z,L=null,ae){const Se=ae[0];let Oe;if("object"==typeof Se&&null!==Se){if(Oe=this._cachedPageNumber(Se),!Oe)return void this.pdfDocument.getPageIndex(Se).then(Ve=>{this.cachePageRef(Ve+1,Se),_e(this,D,ue).call(this,Z,L,ae)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${Se}" is not a valid page reference, for dest="${Z}".`)})}else{if(!Number.isInteger(Se))return void console.error(`PDFLinkService.#goToDestinationHelper: "${Se}" is not a valid destination reference, for dest="${Z}".`);Oe=Se+1}!Oe||Oe<1||Oe>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${Oe}" is not a valid page number, for dest="${Z}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:L,explicitDest:ae,pageNumber:Oe})),this.pdfViewer.scrollPageIntoView({pageNumber:Oe,destArray:ae,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function X(Z){if(!Array.isArray(Z))return!1;const L=Z.length;if(L<2)return!1;const ae=Z[0];if(!("object"==typeof ae&&Number.isInteger(ae.num)&&Number.isInteger(ae.gen)||Number.isInteger(ae)&&ae>=0))return!1;const Se=Z[1];if("object"!=typeof Se||"string"!=typeof Se.name)return!1;let Oe=!0;switch(Se.name){case"XYZ":if(5!==L)return!1;break;case"Fit":case"FitB":return 2===L;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==L)return!1;break;case"FitR":if(6!==L)return!1;Oe=!1;break;default:return!1}for(let Ve=2;Ve<L;Ve++){const Le=Z[Ve];if(!("number"==typeof Le||Oe&&null===Le))return!1}return!0}te.PDFLinkService=K;te.SimpleLinkService=class xe{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(L){}get rotation(){return 0}set rotation(L){}goToDestination(L){return fe(function*(){})()}goToPage(L){}addLinkAttributes(L,ae,Se=!1){ge(L,{url:ae,enabled:this.externalLinkEnabled})}getDestinationHash(L){return"#"}getAnchorUrl(L){return"#"}setHash(L){}executeNamedAction(L){}cachePageRef(L,ae){}isPageVisible(L){return!0}isPageCached(L){return!0}}},(De,te)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.animationStarted=te.VERTICAL_PADDING=te.UNKNOWN_SCALE=te.TextLayerMode=te.SpreadMode=te.SidebarView=te.ScrollMode=te.SCROLLBAR_PADDING=te.RenderingStates=te.RendererType=te.ProgressBar=te.PresentationModeState=te.OutputScale=te.MIN_SCALE=te.MAX_SCALE=te.MAX_AUTO_SCALE=te.DEFAULT_SCALE_VALUE=te.DEFAULT_SCALE_DELTA=te.DEFAULT_SCALE=te.AutoPrintRegExp=void 0,te.apiPageLayoutToViewerModes=function sn(ut){let Ie=Oe.VERTICAL,Je=Ve.NONE;switch(ut){case"SinglePage":Ie=Oe.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Ie=Oe.PAGE;case"TwoColumnLeft":Je=Ve.ODD;break;case"TwoPageRight":Ie=Oe.PAGE;case"TwoColumnRight":Je=Ve.EVEN}return{scrollMode:Ie,spreadMode:Je}},te.apiPageModeToSidebarView=function Vn(ut){switch(ut){case"UseNone":return L.NONE;case"UseThumbs":return L.THUMBS;case"UseOutlines":return L.OUTLINE;case"UseAttachments":return L.ATTACHMENTS;case"UseOC":return L.LAYERS}return L.NONE},te.approximateFraction=function W(ut){if(Math.floor(ut)===ut)return[ut,1];const Ie=1/ut;if(Ie>8)return[1,8];if(Math.floor(Ie)===Ie)return[1,Ie];const at=ut>1?Ie:ut;let $t,bt=0,Ke=1,pt=1,Lt=1;for(;;){const vn=bt+pt,zn=Ke+Lt;if(zn>8)break;at<=vn/zn?(pt=vn,Lt=zn):(bt=vn,Ke=zn)}return $t=at-bt/Ke<pt/Lt-at?at===ut?[bt,Ke]:[Ke,bt]:at===ut?[pt,Lt]:[Lt,pt],$t},te.backtrackBeforeAllVisibleElements=Y,te.binarySearchFirstItem=N,te.getActiveOrFocusedElement=function qt(){let ut=document,Ie=ut.activeElement||ut.querySelector(":focus");for(;Ie?.shadowRoot;)ut=Ie.shadowRoot,Ie=ut.activeElement||ut.querySelector(":focus");return Ie},te.getPageSizeInches=function le({view:ut,userUnit:Ie,rotate:Je}){const[at,bt,Ke,pt]=ut,Lt=Je%180!=0,$t=(Ke-at)/72*Ie,vn=(pt-bt)/72*Ie;return{width:Lt?vn:$t,height:Lt?$t:vn}},te.getVisibleElements=function He({scrollEl:ut,views:Ie,sortByVisibility:Je=!1,horizontal:at=!1,rtl:bt=!1}){const Ke=ut.scrollTop,pt=Ke+ut.clientHeight,Lt=ut.scrollLeft,$t=Lt+ut.clientWidth;const dt=[],st=new Set,lt=Ie.length;let ln=N(Ie,at?function zn(An){const Yt=An.div,Un=Yt.offsetLeft+Yt.clientLeft;return bt?Un<$t:Un+Yt.clientWidth>Lt}:function vn(An){const Yt=An.div;return Yt.offsetTop+Yt.clientTop+Yt.clientHeight>Ke});ln>0&&ln<lt&&!at&&(ln=Y(ln,Ie,Ke));let Wt=at?$t:-1;for(let An=ln;An<lt;An++){const Yt=Ie[An],Un=Yt.div,Wn=Un.offsetLeft+Un.clientLeft,yr=Un.offsetTop+Un.clientTop,cr=Un.clientWidth,fr=Un.clientHeight,Be=Wn+cr,Ge=yr+fr;if(-1===Wt)Ge>=pt&&(Wt=Ge);else if((at?Wn:yr)>Wt)break;if(Ge<=Ke||yr>=pt||Be<=Lt||Wn>=$t)continue;const et=Math.max(0,Ke-yr)+Math.max(0,Ge-pt),en=(cr-(Math.max(0,Lt-Wn)+Math.max(0,Be-$t)))/cr;dt.push({id:Yt.id,x:Wn,y:yr,view:Yt,percent:(fr-et)/fr*en*100|0,widthPercent:100*en|0}),st.add(Yt.id)}const _n=dt[0],Xt=dt[dt.length-1];return Je&&dt.sort(function(An,Yt){const Un=An.percent-Yt.percent;return Math.abs(Un)>.001?-Un:An.id-Yt.id}),{first:_n,last:Xt,views:dt,ids:st}},te.isPortraitOrientation=function Nt(ut){return ut.width<=ut.height},te.isValidRotation=function ft(ut){return Number.isInteger(ut)&&ut%90==0},te.isValidScrollMode=function Rt(ut){return Number.isInteger(ut)&&Object.values(Oe).includes(ut)&&ut!==Oe.UNKNOWN},te.isValidSpreadMode=function Ut(ut){return Number.isInteger(ut)&&Object.values(Ve).includes(ut)&&ut!==Ve.UNKNOWN},te.noContextMenuHandler=function We(ut){ut.preventDefault()},te.normalizeWheelEventDelta=function ze(ut){let Ie=qe(ut);return 0===ut.deltaMode?Ie/=900:1===ut.deltaMode&&(Ie/=30),Ie},te.normalizeWheelEventDirection=qe,te.parseQueryString=function H(ut){const Ie=new Map;for(const[Je,at]of new URLSearchParams(ut))Ie.set(Je.toLowerCase(),at);return Ie},te.removeNullCharacters=function S(ut,Ie=!1){return"string"!=typeof ut?(console.error("The argument must be a string."),ut):(Ie&&(ut=ut.replace(V," ")),ut.replace(G,""))},te.roundToDivide=function he(ut,Ie){const Je=ut%Ie;return 0===Je?ut:Math.round(ut-Je+Ie)},te.scrollIntoView=function ye(ut,Ie,Je=!1){let at=ut.offsetParent;if(!at)return void console.error("offsetParent is not set -- cannot scroll");let bt=ut.offsetTop+ut.clientTop,Ke=ut.offsetLeft+ut.clientLeft;for(;at.clientHeight===at.scrollHeight&&at.clientWidth===at.scrollWidth||Je&&(at.classList.contains("markedContent")||"hidden"===getComputedStyle(at).overflow);)if(bt+=at.offsetTop,Ke+=at.offsetLeft,at=at.offsetParent,!at)return;Ie&&(void 0!==Ie.top&&(bt+=Ie.top),void 0!==Ie.left&&(Ke+=Ie.left,at.scrollLeft=Ke)),at.scrollTop=bt},te.watchScroll=function Q(ut,Ie){const Je=function(Ke){bt||(bt=window.requestAnimationFrame(function(){bt=null;const Lt=ut.scrollLeft,$t=at.lastX;Lt!==$t&&(at.right=Lt>$t),at.lastX=Lt;const vn=ut.scrollTop,zn=at.lastY;vn!==zn&&(at.down=vn>zn),at.lastY=vn,Ie(at)}))},at={right:!0,down:!0,lastX:ut.scrollLeft,lastY:ut.scrollTop,_eventHandler:Je};let bt=null;return ut.addEventListener("scroll",Je,!0),at},te.DEFAULT_SCALE_VALUE="auto",te.DEFAULT_SCALE=1,te.DEFAULT_SCALE_DELTA=1.1,te.MIN_SCALE=.1,te.MAX_SCALE=10,te.UNKNOWN_SCALE=0,te.MAX_AUTO_SCALE=1.25,te.SCROLLBAR_PADDING=40,te.VERTICAL_PADDING=5;te.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},te.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const L={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};te.SidebarView=L,te.RendererType={CANVAS:"canvas",SVG:"svg"},te.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const Oe={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};te.ScrollMode=Oe;const Ve={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};te.SpreadMode=Ve,te.AutoPrintRegExp=/\bprint\s*\(/;te.OutputScale=class nt{constructor(){const Ie=window.devicePixelRatio||1;this.sx=Ie,this.sy=Ie}get scaled(){return 1!==this.sx||1!==this.sy}};const G=/\x00/g,V=/[\x01-\x1F]/g;function N(ut,Ie,Je=0){let at=Je,bt=ut.length-1;if(bt<0||!Ie(ut[bt]))return ut.length;if(Ie(ut[at]))return at;for(;at<bt;){const Ke=at+bt>>1;Ie(ut[Ke])?bt=Ke:at=Ke+1}return at}function Y(ut,Ie,Je){if(ut<2)return ut;let at=Ie[ut].div,bt=at.offsetTop+at.clientTop;bt>=Je&&(at=Ie[ut-1].div,bt=at.offsetTop+at.clientTop);for(let Ke=ut-2;Ke>=0&&(at=Ie[Ke].div,!(at.offsetTop+at.clientTop+at.clientHeight<=bt));--Ke)ut=Ke;return ut}function qe(ut){let Ie=Math.hypot(ut.deltaX,ut.deltaY);const Je=Math.atan2(ut.deltaY,ut.deltaX);return-.25*Math.PI<Je&&Je<.75*Math.PI&&(Ie=-Ie),Ie}const Pt=new Promise(function(ut){window.requestAnimationFrame(ut)});te.animationStarted=Pt;te.ProgressBar=class gn{constructor(Ie,{height:Je,width:at,units:bt}={}){this.visible=!0,this.div=document.querySelector(Ie+" .progress"),this.bar=this.div.parentNode,this.height=Je||100,this.width=at||100,this.units=bt||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(Ie){this._indeterminate=isNaN(Ie),this._percent=function zt(ut,Ie,Je){return Math.min(Math.max(ut,Ie),Je)}(Ie,0,100),this._updateBar()}setWidth(Ie){if(!Ie)return;const at=Ie.parentNode.offsetWidth-Ie.offsetWidth;at>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${at}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(De,te)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.StructTreeLayerBuilder=void 0;const ee={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},we=/^H(\d+)$/;te.StructTreeLayerBuilder=class be{constructor({pdfPage:ge}){this.pdfPage=ge}render(ge){return this._walk(ge)}_setAttributes(ge,O){void 0!==ge.alt&&O.setAttribute("aria-label",ge.alt),void 0!==ge.id&&O.setAttribute("aria-owns",ge.id),void 0!==ge.lang&&O.setAttribute("lang",ge.lang)}_walk(ge){if(!ge)return null;const O=document.createElement("span");if("role"in ge){const{role:D}=ge,K=D.match(we);K?(O.setAttribute("role","heading"),O.setAttribute("aria-level",K[1])):ee[D]&&O.setAttribute("role",ee[D])}if(this._setAttributes(ge,O),ge.children)if(1===ge.children.length&&"id"in ge.children[0])this._setAttributes(ge.children[0],O);else for(const D of ge.children)O.appendChild(this._walk(D));return O}}},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.TextLayerBuilder=void 0;var we=ee(3);te.TextLayerBuilder=class me{constructor({textLayerDiv:O,eventBus:D,pageIndex:K,viewport:ue,highlighter:X=null,enhanceTextSelection:xe=!1}){this.textLayerDiv=O,this.eventBus=D,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=K+1,this.viewport=ue,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=X,this.enhanceTextSelection=xe,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const O=document.createElement("div");O.className="endOfContent",this.textLayerDiv.appendChild(O)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(O=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const D=document.createDocumentFragment();this.textLayerRenderTask=(0,we.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:D,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:O,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(D),this._finishRendering(),this.highlighter?.enable()},function(K){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(O){this.cancel(),this.textContentStream=O}setTextContent(O){this.cancel(),this.textContent=O}_bindMouse(){const O=this.textLayerDiv;let D=null;O.addEventListener("mousedown",K=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(D&&(clearTimeout(D),D=null));const ue=O.querySelector(".endOfContent");if(!ue)return;let X=K.target!==O;if(X=X&&"none"!==window.getComputedStyle(ue).getPropertyValue("-moz-user-select"),X){const xe=O.getBoundingClientRect(),Z=Math.max(0,(K.pageY-xe.top)/xe.height);ue.style.top=(100*Z).toFixed(2)+"%"}ue.classList.add("active")}),O.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(D=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),D=null},300));const K=O.querySelector(".endOfContent");K&&(K.style.top="",K.classList.remove("active"))})}}},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.XfaLayerBuilder=void 0;var we=ee(3);te.XfaLayerBuilder=class be{constructor({pageDiv:ge,pdfPage:O,annotationStorage:D=null,linkService:K,xfaHtml:ue=null}){this.pageDiv=ge,this.pdfPage=O,this.annotationStorage=D,this.linkService=K,this.xfaHtml=ue,this.div=null,this._cancelled=!1}render(ge,O="display"){if("print"===O){const D={viewport:ge.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:O},K=document.createElement("div");this.pageDiv.appendChild(K),D.div=K;const ue=we.XfaLayer.render(D);return Promise.resolve(ue)}return this.pdfPage.getXfa().then(D=>{if(this._cancelled||!D)return{textDivs:[]};const K={viewport:ge.clone({dontFlip:!0}),div:this.div,xfaHtml:D,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:O};return this.div?we.XfaLayer.update(K):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),K.div=this.div,we.XfaLayer.render(K))}).catch(D=>{console.error(D)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.PDFViewer=te.PDFSinglePageViewer=void 0;var we=ee(6),be=ee(11);te.PDFViewer=class me extends be.BaseViewer{};te.PDFSinglePageViewer=class ge extends be.BaseViewer{_resetView(){super._resetView(),this._scrollMode=we.ScrollMode.PAGE,this._spreadMode=we.SpreadMode.NONE}set scrollMode(D){}_updateScrollMode(){}set spreadMode(D){}_updateSpreadMode(){}}},(De,te,ee)=>{let we;Object.defineProperty(te,"__esModule",{value:!0}),te.PagesCountLimit=te.PDFPageViewBuffer=te.BaseViewer=void 0;var be=ee(3),me=ee(6),ge=ee(2),O=ee(4),D=ee(12),K=ee(14),ue=ee(5),X=ee(7),xe=ee(15),Z=ee(8),L=ee(9);const Se="enablePermissions",Oe={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};te.PagesCountLimit=Oe;var Ve=new WeakMap,Le=new WeakMap,nt=new WeakSet;we=Symbol.iterator;class ye{constructor(Ie){u(this,nt),J(this,Ve,{writable:!0,value:new Set}),J(this,Le,{writable:!0,value:0}),f(this,Le,Ie)}push(Ie){const Je=Ee(this,Ve);Je.has(Ie)&&Je.delete(Ie),Je.add(Ie),Je.size>Ee(this,Le)&&_e(this,nt,Q).call(this)}resize(Ie,Je=null){f(this,Le,Ie);const at=Ee(this,Ve);if(Je){const bt=at.size;let Ke=1;for(const pt of at)if(Je.has(pt.id)&&(at.delete(pt),at.add(pt)),++Ke>bt)break}for(;at.size>Ee(this,Le);)_e(this,nt,Q).call(this)}has(Ie){return Ee(this,Ve).has(Ie)}[we](){return Ee(this,Ve).keys()}}function Q(){const ut=Ee(this,Ve).keys().next().value;ut?.destroy(),Ee(this,Ve).delete(ut)}te.PDFPageViewBuffer=ye;var H=new WeakMap,G=new WeakMap,V=new WeakMap,S=new WeakMap,N=new WeakMap,W=new WeakMap,he=new WeakMap,le=new WeakSet,Y=new WeakSet,He=new WeakSet,We=new WeakSet,qe=new WeakSet,ze=new WeakSet,ft=new WeakSet;class Rt{constructor(Ie){if(u(this,ft),u(this,ze),u(this,qe),u(this,We),u(this,He),u(this,Y),u(this,le),J(this,H,{writable:!0,value:null}),J(this,G,{writable:!0,value:be.AnnotationMode.ENABLE_FORMS}),J(this,V,{writable:!0,value:null}),J(this,S,{writable:!0,value:!1}),J(this,N,{writable:!0,value:0}),J(this,W,{writable:!0,value:null}),J(this,he,{writable:!0,value:null}),this.constructor===Rt)throw new Error("Cannot initialize BaseViewer.");const Je="2.13.216";if(be.version!==Je)throw new Error(`The API version "${be.version}" does not match the Viewer version "${Je}".`);if(this.container=Ie.container,this.viewer=Ie.viewer||Ie.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=Ie.eventBus,this.linkService=Ie.linkService||new ue.SimpleLinkService,this.downloadManager=Ie.downloadManager||null,this.findController=Ie.findController||null,this._scriptingManager=Ie.scriptingManager||null,this.removePageBorders=Ie.removePageBorders||!1,this.textLayerMode=Ie.textLayerMode??me.TextLayerMode.ENABLE,f(this,G,Ie.annotationMode??be.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=Ie.imageResourcesPath||"",this.enablePrintAutoRotate=Ie.enablePrintAutoRotate||!1,this.renderer=Ie.renderer||me.RendererType.CANVAS,this.useOnlyCssZoom=Ie.useOnlyCssZoom||!1,this.maxCanvasPixels=Ie.maxCanvasPixels,this.l10n=Ie.l10n||O.NullL10n,f(this,S,Ie.enablePermissions||!1),this.defaultRenderingQueue=!Ie.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new K.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=Ie.renderingQueue,this._doc=document.documentElement,this.scroll=(0,me.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=me.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(Ie){return this._pages[Ie]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(Ie){return Ie?.pdfPage})}get renderForms(){return Ee(this,G)===be.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(Ie){if(!Number.isInteger(Ie))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(Ie,!0)||console.error(`currentPageNumber: "${Ie}" is not a valid page.`))}_setCurrentPageNumber(Ie,Je=!1){if(this._currentPageNumber===Ie)return Je&&this._resetCurrentPageView(),!0;if(!(0<Ie&&Ie<=this.pagesCount))return!1;const at=this._currentPageNumber;return this._currentPageNumber=Ie,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:Ie,pageLabel:this._pageLabels?.[Ie-1]??null,previous:at}),Je&&this._resetCurrentPageView(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(Ie){if(!this.pdfDocument)return;let Je=0|Ie;if(this._pageLabels){const at=this._pageLabels.indexOf(Ie);at>=0&&(Je=at+1)}this._setCurrentPageNumber(Je,!0)||console.error(`currentPageLabel: "${Ie}" is not a valid page.`)}get currentScale(){return this._currentScale!==me.UNKNOWN_SCALE?this._currentScale:me.DEFAULT_SCALE}set currentScale(Ie){if(isNaN(Ie))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(Ie,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(Ie){this.pdfDocument&&this._setScale(Ie,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(Ie){if(!(0,me.isValidRotation)(Ie))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((Ie%=360)<0&&(Ie+=360),this._pagesRotation===Ie))return;this._pagesRotation=Ie;const Je=this._currentPageNumber,at={rotation:Ie};for(const bt of this._pages)bt.update(at);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:Ie,pageNumber:Je}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(Ie){var Je=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=Ie,!Ie)return;const at=Ie.isPureXfa,bt=Ie.numPages,Ke=Ie.getPage(1),pt=Ie.getOptionalContentConfig(),Lt=Ee(this,S)?Ie.getPermissions():Promise.resolve();if(bt>Oe.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const $t=this._scrollMode=me.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:$t})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:bt})},()=>{}),this._onBeforeDraw=$t=>{const vn=this._pages[$t.pageNumber-1];vn&&Ee(this,H).push(vn)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=$t=>{$t.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:$t.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Ee(this,he)&&(document.removeEventListener("visibilitychange",Ee(this,he)),f(this,he,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Ke,Lt]).then(([$t,vn])=>{if(Ie!==this.pdfDocument)return;this._firstPageCapability.resolve($t),this._optionalContentConfigPromise=pt,_e(this,le,Ut).call(this,vn);const zn=this._scrollMode===me.ScrollMode.PAGE?null:this.viewer,dt=this.currentScale,st=$t.getViewport({scale:dt*be.PixelsPerInch.PDF_TO_CSS_UNITS}),lt=this.textLayerMode===me.TextLayerMode.DISABLE||at?null:this,ln=Ee(this,G)!==be.AnnotationMode.DISABLE?this:null,Wt=at?this:null;for(let Xt=1;Xt<=bt;++Xt){const An=new D.PDFPageView({container:zn,eventBus:this.eventBus,id:Xt,scale:dt,defaultViewport:st.clone(),optionalContentConfigPromise:pt,renderingQueue:this.renderingQueue,textLayerFactory:lt,textLayerMode:this.textLayerMode,annotationLayerFactory:ln,annotationMode:Ee(this,G),xfaLayerFactory:Wt,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(An)}const _n=this._pages[0];_n&&(_n.setPdfPage($t),this.linkService.cachePageRef(1,$t.ref)),this._scrollMode===me.ScrollMode.PAGE?_e(this,He,Pt).call(this):this._spreadMode!==me.SpreadMode.NONE&&this._updateSpreadMode(),_e(this,Y,Nt).call(this).then(fe(function*(){if(Je.findController&&Je.findController.setDocument(Ie),Je._scriptingManager&&Je._scriptingManager.setDocument(Ie),Ie.loadingParams.disableAutoFetch||bt>Oe.FORCE_LAZY_PAGE_INIT)return void Je._pagesCapability.resolve();let Xt=bt-1;if(Xt<=0)Je._pagesCapability.resolve();else for(let An=2;An<=bt;++An){const Yt=Ie.getPage(An).then(Un=>{const Wn=Je._pages[An-1];Wn.pdfPage||Wn.setPdfPage(Un),Je.linkService.cachePageRef(An,Un.ref),0==--Xt&&Je._pagesCapability.resolve()},Un=>{console.error(`Unable to get page ${An} to initialize viewer`,Un),0==--Xt&&Je._pagesCapability.resolve()});An%Oe.PAUSE_EAGER_PAGE_INIT==0&&(yield Yt)}})),this.eventBus.dispatch("pagesinit",{source:this}),Ie.getMetadata().then(({info:Xt})=>{Ie===this.pdfDocument&&Xt.Language&&(this.viewer.lang=Xt.Language)}),this.defaultRenderingQueue&&this.update()}).catch($t=>{console.error("Unable to initialize viewer",$t),this._pagesCapability.reject($t)})}setPageLabels(Ie){if(this.pdfDocument){Ie?Array.isArray(Ie)&&this.pdfDocument.numPages===Ie.length?this._pageLabels=Ie:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Je=0,at=this._pages.length;Je<at;Je++)this._pages[Je].setPageLabel(this._pageLabels?.[Je]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=me.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,f(this,H,new ye(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,be.createPromiseCapability)(),this._onePageRenderedCapability=(0,be.createPromiseCapability)(),this._pagesCapability=(0,be.createPromiseCapability)(),this._scrollMode=me.ScrollMode.VERTICAL,this._previousScrollMode=me.ScrollMode.UNKNOWN,this._spreadMode=me.SpreadMode.NONE,f(this,W,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Ee(this,he)&&(document.removeEventListener("visibilitychange",Ee(this,he)),f(this,he,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(Se),null!==Ee(this,V)&&(f(this,G,Ee(this,V)),f(this,V,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:Ie,pageSpot:Je=null,pageNumber:at=null}){if(this._scrollMode===me.ScrollMode.PAGE&&(at&&this._setCurrentPageNumber(at),_e(this,He,Pt).call(this),this.update()),!Je&&!this.isInPresentationMode){const bt=Ie.offsetLeft+Ie.clientLeft,Ke=bt+Ie.clientWidth,{scrollLeft:pt,clientWidth:Lt}=this.container;(this._scrollMode===me.ScrollMode.HORIZONTAL||bt<pt||Ke>pt+Lt)&&(Je={left:0,top:0})}(0,me.scrollIntoView)(Ie,Je)}_setScaleUpdatePages(Ie,Je,at=!1,bt=!1){if(this._currentScaleValue=Je.toString(),_e(this,We,zt).call(this,Ie))return void(bt&&this.eventBus.dispatch("scalechanging",{source:this,scale:Ie,presetValue:Je}));this._doc.style.setProperty("--zoom-factor",Ie),this._doc.style.setProperty("--viewport-scale-factor",Ie*be.PixelsPerInch.PDF_TO_CSS_UNITS);const Ke={scale:Ie};for(const pt of this._pages)pt.update(Ke);if(this._currentScale=Ie,!at){let Lt,pt=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(pt=this._location.pageNumber,Lt=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:pt,destArray:Lt,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:Ie,presetValue:bt?Je:void 0}),this.defaultRenderingQueue&&this.update(),f(this,N,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==me.SpreadMode.NONE&&this._scrollMode!==me.ScrollMode.HORIZONTAL?2:1}_setScale(Ie,Je=!1){let at=parseFloat(Ie);if(at>0)this._setScaleUpdatePages(at,Ie,Je,!1);else{const bt=this._pages[this._currentPageNumber-1];if(!bt)return;let Ke=me.SCROLLBAR_PADDING,pt=me.VERTICAL_PADDING;this.isInPresentationMode?Ke=pt=4:this.removePageBorders&&(Ke=pt=0),this._scrollMode===me.ScrollMode.HORIZONTAL&&([Ke,pt]=[pt,Ke]);const Lt=(this.container.clientWidth-Ke)/bt.width*bt.scale/this._pageWidthScaleFactor,$t=(this.container.clientHeight-pt)/bt.height*bt.scale;switch(Ie){case"page-actual":at=1;break;case"page-width":at=Lt;break;case"page-height":at=$t;break;case"page-fit":at=Math.min(Lt,$t);break;case"auto":const vn=(0,me.isPortraitOrientation)(bt)?Lt:Math.min($t,Lt);at=Math.min(me.MAX_AUTO_SCALE,vn);break;default:return void console.error(`_setScale: "${Ie}" is an unknown zoom value.`)}this._setScaleUpdatePages(at,Ie,Je,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(Ie){if(!this._pageLabels)return null;const Je=this._pageLabels.indexOf(Ie);return Je<0?null:Je+1}scrollPageIntoView({pageNumber:Ie,destArray:Je=null,allowNegativeOffset:at=!1,ignoreDestinationZoom:bt=!1}){if(!this.pdfDocument)return;const Ke=Number.isInteger(Ie)&&this._pages[Ie-1];if(!Ke)return void console.error(`scrollPageIntoView: "${Ie}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!Je)return void this._setCurrentPageNumber(Ie,!0);let zn,dt,pt=0,Lt=0,$t=0,vn=0;const st=Ke.rotation%180!=0,lt=(st?Ke.height:Ke.width)/Ke.scale/be.PixelsPerInch.PDF_TO_CSS_UNITS,ln=(st?Ke.width:Ke.height)/Ke.scale/be.PixelsPerInch.PDF_TO_CSS_UNITS;let Wt=0;switch(Je[1].name){case"XYZ":pt=Je[2],Lt=Je[3],Wt=Je[4],pt=null!==pt?pt:0,Lt=null!==Lt?Lt:ln;break;case"Fit":case"FitB":Wt="page-fit";break;case"FitH":case"FitBH":Lt=Je[2],Wt="page-width",null===Lt&&this._location?(pt=this._location.left,Lt=this._location.top):("number"!=typeof Lt||Lt<0)&&(Lt=ln);break;case"FitV":case"FitBV":pt=Je[2],$t=lt,vn=ln,Wt="page-height";break;case"FitR":pt=Je[2],Lt=Je[3],$t=Je[4]-pt,vn=Je[5]-Lt,zn=(this.container.clientWidth-(this.removePageBorders?0:me.SCROLLBAR_PADDING))/$t/be.PixelsPerInch.PDF_TO_CSS_UNITS,dt=(this.container.clientHeight-(this.removePageBorders?0:me.VERTICAL_PADDING))/vn/be.PixelsPerInch.PDF_TO_CSS_UNITS,Wt=Math.min(Math.abs(zn),Math.abs(dt));break;default:return void console.error(`scrollPageIntoView: "${Je[1].name}" is not a valid destination type.`)}if(bt||(Wt&&Wt!==this._currentScale?this.currentScaleValue=Wt:this._currentScale===me.UNKNOWN_SCALE&&(this.currentScaleValue=me.DEFAULT_SCALE_VALUE)),"page-fit"===Wt&&!Je[4])return void this._scrollIntoView({pageDiv:Ke.div,pageNumber:Ie});const _n=[Ke.viewport.convertToViewportPoint(pt,Lt),Ke.viewport.convertToViewportPoint(pt+$t,Lt+vn)];let Xt=Math.min(_n[0][0],_n[1][0]),An=Math.min(_n[0][1],_n[1][1]);at||(Xt=Math.max(Xt,0),An=Math.max(An,0)),this._scrollIntoView({pageDiv:Ke.div,pageSpot:{left:Xt,top:An},pageNumber:Ie})}_updateLocation(Ie){const Je=this._currentScale,at=this._currentScaleValue,bt=parseFloat(at)===Je?Math.round(1e4*Je)/100:at,Ke=Ie.id;let pt="#page="+Ke;pt+="&zoom="+bt;const $t=this.container,vn=this._pages[Ke-1].getPagePoint($t.scrollLeft-Ie.x,$t.scrollTop-Ie.y),zn=Math.round(vn[0]),dt=Math.round(vn[1]);pt+=","+zn+","+dt,this._location={pageNumber:Ke,scale:bt,top:dt,left:zn,rotation:this._pagesRotation,pdfOpenParams:pt}}update(){const Ie=this._getVisiblePages(),Je=Ie.views,at=Je.length;if(0===at)return;const bt=Math.max(10,2*at+1);if(Ee(this,H).resize(bt,Ie.ids),this.renderingQueue.renderHighestPriority(Ie),!this.isInPresentationMode){const Ke=this._spreadMode===me.SpreadMode.NONE&&(this._scrollMode===me.ScrollMode.PAGE||this._scrollMode===me.ScrollMode.VERTICAL);let pt=this._currentPageNumber,Lt=!1;for(const $t of Je){if($t.percent<100)break;if($t.id===pt&&Ke){Lt=!0;break}}Lt||(pt=Je[0].id),this._setCurrentPageNumber(pt)}this._updateLocation(Ie.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(Ie){return this.container.contains(Ie)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===me.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===me.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const Ie=this._pages[this._currentPageNumber-1],Je=Ie.div,at={id:Ie.id,x:Je.offsetLeft+Je.clientLeft,y:Je.offsetTop+Je.clientTop,view:Ie};return{first:at,last:at,views:[at],ids:new Set([Ie.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const Ie=this._scrollMode===me.ScrollMode.PAGE?Ee(this,W).pages:this._pages,Je=this._scrollMode===me.ScrollMode.HORIZONTAL;return(0,me.getVisibleElements)({scrollEl:this.container,views:Ie,sortByVisibility:!0,horizontal:Je,rtl:Je&&this._isContainerRtl})}isPageVisible(Ie){return!!this.pdfDocument&&(Number.isInteger(Ie)&&Ie>0&&Ie<=this.pagesCount?this._getVisiblePages().ids.has(Ie):(console.error(`isPageVisible: "${Ie}" is not a valid page.`),!1))}isPageCached(Ie){if(!this.pdfDocument)return!1;if(!(Number.isInteger(Ie)&&Ie>0&&Ie<=this.pagesCount))return console.error(`isPageCached: "${Ie}" is not a valid page.`),!1;const Je=this._pages[Ie-1];return Ee(this,H).has(Je)}cleanup(){for(let Ie=0,Je=this._pages.length;Ie<Je;Ie++)this._pages[Ie]&&this._pages[Ie].renderingState!==me.RenderingStates.FINISHED&&this._pages[Ie].reset()}_cancelRendering(){for(let Ie=0,Je=this._pages.length;Ie<Je;Ie++)this._pages[Ie]&&this._pages[Ie].cancelRendering()}forceRendering(Ie){const Je=Ie||this._getVisiblePages(),at=_e(this,ze,sn).call(this,Je),Ke=this.renderingQueue.getHighestPriority(Je,this._pages,at,this._spreadMode!==me.SpreadMode.NONE&&this._scrollMode!==me.ScrollMode.HORIZONTAL);return _e(this,ft,Vn).call(this,Je.ids),!!Ke&&(_e(this,qe,gn).call(this,Ke).then(()=>{this.renderingQueue.renderView(Ke)}),!0)}createTextLayerBuilder(Ie,Je,at,bt=!1,Ke,pt){return new Z.TextLayerBuilder({textLayerDiv:Ie,eventBus:Ke,pageIndex:Je,viewport:at,enhanceTextSelection:!this.isInPresentationMode&&bt,highlighter:pt})}createTextHighlighter(Ie,Je){return new xe.TextHighlighter({eventBus:Je,pageIndex:Ie,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(Ie,Je,at=null,bt="",Ke=!0,pt=O.NullL10n,Lt=null,$t=null,vn=null,zn=null,dt=null){return new ge.AnnotationLayerBuilder({pageDiv:Ie,pdfPage:Je,annotationStorage:at||this.pdfDocument?.annotationStorage,imageResourcesPath:bt,renderForms:Ke,linkService:this.linkService,downloadManager:this.downloadManager,l10n:pt,enableScripting:Lt??this.enableScripting,hasJSActionsPromise:$t||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:zn||this.pdfDocument?.getFieldObjects(),mouseState:vn||this._scriptingManager?.mouseState,annotationCanvasMap:dt})}createXfaLayerBuilder(Ie,Je,at=null){return new L.XfaLayerBuilder({pageDiv:Ie,pdfPage:Je,annotationStorage:at||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(Ie){return new X.StructTreeLayerBuilder({pdfPage:Ie})}get hasEqualPageSizes(){const Ie=this._pages[0];for(let Je=1,at=this._pages.length;Je<at;++Je){const bt=this._pages[Je];if(bt.width!==Ie.width||bt.height!==Ie.height)return!1}return!0}getPagesOverview(){return this._pages.map(Ie=>{const Je=Ie.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,me.isPortraitOrientation)(Je)?{width:Je.width,height:Je.height,rotation:Je.rotation}:{width:Je.height,height:Je.width,rotation:(Je.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(Ie){if(!(Ie instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${Ie}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=Ie;const Je={optionalContentConfigPromise:Ie};for(const at of this._pages)at.update(Je);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:Ie})}get scrollMode(){return this._scrollMode}set scrollMode(Ie){if(this._scrollMode!==Ie){if(!(0,me.isValidScrollMode)(Ie))throw new Error(`Invalid scroll mode: ${Ie}`);this.pagesCount>Oe.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=Ie,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Ie}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(Ie=null){const Je=this._scrollMode,at=this.viewer;at.classList.toggle("scrollHorizontal",Je===me.ScrollMode.HORIZONTAL),at.classList.toggle("scrollWrapped",Je===me.ScrollMode.WRAPPED),this.pdfDocument&&Ie&&(Je===me.ScrollMode.PAGE?_e(this,He,Pt).call(this):this._previousScrollMode===me.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(Ie,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(Ie){if(this._spreadMode!==Ie){if(!(0,me.isValidSpreadMode)(Ie))throw new Error(`Invalid spread mode: ${Ie}`);this._spreadMode=Ie,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:Ie}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(Ie=null){if(!this.pdfDocument)return;const Je=this.viewer,at=this._pages;if(this._scrollMode===me.ScrollMode.PAGE)_e(this,He,Pt).call(this);else if(Je.textContent="",this._spreadMode===me.SpreadMode.NONE)for(let bt=0,Ke=at.length;bt<Ke;++bt)Je.appendChild(at[bt].div);else{const bt=this._spreadMode-1;let Ke=null;for(let pt=0,Lt=at.length;pt<Lt;++pt)null===Ke?(Ke=document.createElement("div"),Ke.className="spread",Je.appendChild(Ke)):pt%2===bt&&(Ke=Ke.cloneNode(!1),Je.appendChild(Ke)),Ke.appendChild(at[pt].div)}Ie&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(Ie,!0),this.update())}_getPageAdvance(Ie,Je=!1){switch(this._scrollMode){case me.ScrollMode.WRAPPED:{const{views:at}=this._getVisiblePages(),bt=new Map;for(const{id:Ke,y:pt,percent:Lt,widthPercent:$t}of at){if(0===Lt||$t<100)continue;let vn=bt.get(pt);vn||bt.set(pt,vn||=[]),vn.push(Ke)}for(const Ke of bt.values()){const pt=Ke.indexOf(Ie);if(-1===pt)continue;const Lt=Ke.length;if(1===Lt)break;if(Je)for(let $t=pt-1,vn=0;$t>=vn;$t--){const dt=Ke[$t+1]-1;if(Ke[$t]<dt)return Ie-dt}else for(let $t=pt+1,vn=Lt;$t<vn;$t++){const dt=Ke[$t-1]+1;if(Ke[$t]>dt)return dt-Ie}if(Je){const $t=Ke[0];if($t<Ie)return Ie-$t+1}else{const $t=Ke[Lt-1];if($t>Ie)return $t-Ie+1}break}break}case me.ScrollMode.HORIZONTAL:break;case me.ScrollMode.PAGE:case me.ScrollMode.VERTICAL:{if(this._spreadMode===me.SpreadMode.NONE)break;const at=this._spreadMode-1;if(Je&&Ie%2!==at)break;if(!Je&&Ie%2===at)break;const{views:bt}=this._getVisiblePages(),Ke=Je?Ie-1:Ie+1;for(const{id:pt,percent:Lt,widthPercent:$t}of bt)if(pt===Ke){if(Lt>0&&100===$t)return 2;break}break}}return 1}nextPage(){const Ie=this._currentPageNumber,Je=this.pagesCount;if(Ie>=Je)return!1;const at=this._getPageAdvance(Ie,!1)||1;return this.currentPageNumber=Math.min(Ie+at,Je),!0}previousPage(){const Ie=this._currentPageNumber;if(Ie<=1)return!1;const Je=this._getPageAdvance(Ie,!0)||1;return this.currentPageNumber=Math.max(Ie-Je,1),!0}increaseScale(Ie=1){let Je=this._currentScale;do{Je=(Je*me.DEFAULT_SCALE_DELTA).toFixed(2),Je=Math.ceil(10*Je)/10,Je=Math.min(me.MAX_SCALE,Je)}while(--Ie>0&&Je<me.MAX_SCALE);this.currentScaleValue=Je}decreaseScale(Ie=1){let Je=this._currentScale;do{Je=(Je/me.DEFAULT_SCALE_DELTA).toFixed(2),Je=Math.floor(10*Je)/10,Je=Math.max(me.MIN_SCALE,Je)}while(--Ie>0&&Je>me.MIN_SCALE);this.currentScaleValue=Je}}function Ut(ut){ut&&(ut.includes(be.PermissionFlag.COPY)||this.viewer.classList.add(Se),!ut.includes(be.PermissionFlag.MODIFY_ANNOTATIONS)&&!ut.includes(be.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Ee(this,G)===be.AnnotationMode.ENABLE_FORMS&&(f(this,V,Ee(this,G)),f(this,G,be.AnnotationMode.ENABLE)))}function Nt(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ut=new Promise(Ie=>{f(this,he,()=>{"hidden"===document.visibilityState&&(Ie(),document.removeEventListener("visibilitychange",Ee(this,he)),f(this,he,null))}),document.addEventListener("visibilitychange",Ee(this,he))});return Promise.race([this._onePageRenderedCapability.promise,ut])}function Pt(){if(this._scrollMode!==me.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ut=this._currentPageNumber,Ie=Ee(this,W),Je=this.viewer;if(Je.textContent="",Ie.pages.length=0,this._spreadMode===me.SpreadMode.NONE){const at=this._pages[ut-1];if(this.isInPresentationMode){const bt=document.createElement("div");bt.className="spread";const Ke=document.createElement("div");Ke.className="dummyPage",Ke.style.height=`${this.container.clientHeight}px`,bt.appendChild(Ke),bt.appendChild(at.div),Je.appendChild(bt)}else Je.appendChild(at.div);Ie.pages.push(at)}else{const at=new Set,bt=this._spreadMode-1;ut%2!==bt?(at.add(ut-1),at.add(ut)):(at.add(ut-2),at.add(ut-1));let Ke=null;for(const pt of at){const Lt=this._pages[pt];Lt&&(null===Ke?(Ke=document.createElement("div"),Ke.className="spread",Je.appendChild(Ke)):pt%2===bt&&(Ke=Ke.cloneNode(!1),Je.appendChild(Ke)),Ke.appendChild(Lt.div),Ie.pages.push(Lt))}}Ie.scrollDown=ut>=Ie.previousPageNumber,Ie.previousPageNumber=ut}function zt(ut){return(!this.isInPresentationMode||this.container.clientHeight===Ee(this,N))&&(ut===this._currentScale||Math.abs(ut-this._currentScale)<1e-15)}function gn(ut){return qt.apply(this,arguments)}function qt(){return(qt=fe(function*(ut){if(ut.pdfPage)return ut.pdfPage;try{const Ie=yield this.pdfDocument.getPage(ut.id);return ut.pdfPage||ut.setPdfPage(Ie),this.linkService._cachedPageNumber?.(Ie.ref)||this.linkService.cachePageRef(ut.id,Ie.ref),Ie}catch(Ie){return console.error("Unable to get page for page view",Ie),null}})).apply(this,arguments)}function sn(ut){if(1===ut.first?.id)return!0;if(ut.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case me.ScrollMode.PAGE:return Ee(this,W).scrollDown;case me.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Vn(ut){for(const Ie of ut)this._pages[Ie-1]?.toggleLoadingIconSpinner(!0);for(const Ie of Ee(this,H))ut.has(Ie.id)||Ie.toggleLoadingIconSpinner(!1)}te.BaseViewer=Rt},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.PDFPageView=void 0;var we=ee(3),be=ee(6),me=ee(13),ge=ee(4);const O=me.compatibilityParams.maxCanvasPixels||16777216;var D=new WeakMap;te.PDFPageView=class K{constructor(X){J(this,D,{writable:!0,value:we.AnnotationMode.ENABLE_FORMS});const xe=X.container,Z=X.defaultViewport;this.id=X.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=X.scale||be.DEFAULT_SCALE,this.viewport=Z,this.pdfPageRotate=Z.rotation,this._optionalContentConfigPromise=X.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=X.textLayerMode??be.TextLayerMode.ENABLE,f(this,D,X.annotationMode??we.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=X.imageResourcesPath||"",this.useOnlyCssZoom=X.useOnlyCssZoom||!1,this.maxCanvasPixels=X.maxCanvasPixels||O,this.eventBus=X.eventBus,this.renderingQueue=X.renderingQueue,this.textLayerFactory=X.textLayerFactory,this.annotationLayerFactory=X.annotationLayerFactory,this.xfaLayerFactory=X.xfaLayerFactory,this.textHighlighter=X.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=X.structTreeLayerFactory,this.renderer=X.renderer||be.RendererType.CANVAS,this.l10n=X.l10n||ge.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=be.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const L=document.createElement("div");L.className="page",L.style.width=Math.floor(this.viewport.width)+"px",L.style.height=Math.floor(this.viewport.height)+"px",L.setAttribute("data-page-number",this.id),L.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(ae=>{L.setAttribute("aria-label",ae)}),this.div=L,xe?.appendChild(L)}setPdfPage(X){this.pdfPage=X,this.pdfPageRotate=X.rotate,this.viewport=X.getViewport({scale:this.scale*we.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var X=this;return fe(function*(){let xe=null;try{yield X.annotationLayer.render(X.viewport,"display")}catch(Z){xe=Z}finally{X.eventBus.dispatch("annotationlayerrendered",{source:X,pageNumber:X.id,error:xe})}})()}_renderXfaLayer(){var X=this;return fe(function*(){let xe=null;try{const Z=yield X.xfaLayer.render(X.viewport,"display");X.textHighlighter&&X._buildXfaTextContentItems(Z.textDivs)}catch(Z){xe=Z}finally{X.eventBus.dispatch("xfalayerrendered",{source:X,pageNumber:X.id,error:xe})}})()}_buildXfaTextContentItems(X){var xe=this;return fe(function*(){const Z=yield xe.pdfPage.getTextContent(),L=[];for(const ae of Z.items)L.push(ae.str);xe.textHighlighter.setTextMapping(X,L),xe.textHighlighter.enable()})()}_resetZoomLayer(X=!1){if(!this.zoomLayer)return;const xe=this.zoomLayer.firstChild;this.paintedViewportMap.delete(xe),xe.width=0,xe.height=0,X&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:X=!1,keepAnnotationLayer:xe=!1,keepXfaLayer:Z=!1}={}){this.cancelRendering({keepAnnotationLayer:xe,keepXfaLayer:Z}),this.renderingState=be.RenderingStates.INITIAL;const L=this.div;L.style.width=Math.floor(this.viewport.width)+"px",L.style.height=Math.floor(this.viewport.height)+"px";const ae=L.childNodes,Se=X&&this.zoomLayer||null,Oe=xe&&this.annotationLayer?.div||null,Ve=Z&&this.xfaLayer?.div||null;for(let Le=ae.length-1;Le>=0;Le--){const nt=ae[Le];switch(nt){case Se:case Oe:case Ve:continue}nt.remove()}L.removeAttribute("data-loaded"),Oe&&this.annotationLayer.hide(),Ve&&this.xfaLayer.hide(),Se||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(Le=>{this.loadingIconDiv?.setAttribute("aria-label",Le)}),L.appendChild(this.loadingIconDiv)}update({scale:X=0,rotation:xe=null,optionalContentConfigPromise:Z=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=X||this.scale,"number"==typeof xe&&(this.rotation=xe),Z instanceof Promise&&(this._optionalContentConfigPromise=Z);const ae=this.scale*we.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:ae,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:Oe}=document.documentElement;Oe.setProperty("--zoom-factor",this.scale),Oe.setProperty("--viewport-scale-factor",ae)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let Se=!1;if(this.canvas&&this.maxCanvasPixels>0){const Oe=this.outputScale;(Math.floor(this.viewport.width)*Oe.sx|0)*(Math.floor(this.viewport.height)*Oe.sy|0)>this.maxCanvasPixels&&(Se=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&Se)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:X=!1,keepXfaLayer:xe=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!X||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!xe||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:X,redrawAnnotationLayer:xe=!1,redrawXfaLayer:Z=!1}){const L=this.viewport.width,ae=this.viewport.height,Se=this.div;X.style.width=X.parentNode.style.width=Se.style.width=Math.floor(L)+"px",X.style.height=X.parentNode.style.height=Se.style.height=Math.floor(ae)+"px";const Oe=this.viewport.rotation-this.paintedViewportMap.get(X).rotation,Ve=Math.abs(Oe);let Le=1,nt=1;if((90===Ve||270===Ve)&&(Le=ae/L,nt=L/ae),X.style.transform=`rotate(${Oe}deg) scale(${Le}, ${nt})`,this.textLayer){const ye=this.textLayer.viewport,H=Math.abs(this.viewport.rotation-ye.rotation);let G=L/ye.width;(90===H||270===H)&&(G=L/ye.height);const V=this.textLayer.textLayerDiv;let S,N;switch(H){case 0:S=N=0;break;case 90:S=0,N="-"+V.style.height;break;case 180:S="-"+V.style.width,N="-"+V.style.height;break;case 270:S="-"+V.style.width,N=0;break;default:console.error("Bad rotation value.")}V.style.transform=`rotate(${H}deg) scale(${G}) translate(${S}, ${N})`,V.style.transformOrigin="0% 0%"}xe&&this.annotationLayer&&this._renderAnnotationLayer(),Z&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(X,xe){return this.viewport.convertToPdfPoint(X,xe)}toggleLoadingIconSpinner(X=!1){this.loadingIconDiv?.classList.toggle("notVisible",!X)}draw(){var X=this;this.renderingState!==be.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:xe,pdfPage:Z}=this;if(!Z)return this.renderingState=be.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=be.RenderingStates.RUNNING;const L=document.createElement("div");L.style.width=xe.style.width,L.style.height=xe.style.height,L.classList.add("canvasWrapper"),this.annotationLayer?.div?xe.insertBefore(L,this.annotationLayer.div):xe.appendChild(L);let ae=null;if(this.textLayerMode!==be.TextLayerMode.DISABLE&&this.textLayerFactory){const nt=document.createElement("div");nt.className="textLayer",nt.style.width=L.style.width,nt.style.height=L.style.height,this.annotationLayer?.div?xe.insertBefore(nt,this.annotationLayer.div):xe.appendChild(nt),ae=this.textLayerFactory.createTextLayerBuilder(nt,this.id-1,this.viewport,this.textLayerMode===be.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=ae,Ee(this,D)!==we.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(xe,Z,null,this.imageResourcesPath,Ee(this,D)===we.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&xe.appendChild(this.xfaLayer.div);let Se=null;this.renderingQueue&&(Se=nt=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=be.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=be.RenderingStates.RUNNING,nt()});nt()});const Oe=function(){var nt=fe(function*(ye=null){if(Ve===X.paintTask&&(X.paintTask=null),ye instanceof we.RenderingCancelledException)X._renderError=null;else if(X._renderError=ye,X.renderingState=be.RenderingStates.FINISHED,X.loadingIconDiv&&(X.loadingIconDiv.remove(),delete X.loadingIconDiv),X._resetZoomLayer(!0),X.eventBus.dispatch("pagerendered",{source:X,pageNumber:X.id,cssTransform:!1,timestamp:performance.now(),error:X._renderError}),ye)throw ye});return function(){return nt.apply(this,arguments)}}(),Ve=this.renderer===be.RendererType.SVG?this.paintOnSvg(L):this.paintOnCanvas(L);Ve.onRenderContinue=Se,this.paintTask=Ve;const Le=Ve.promise.then(()=>Oe(null).then(()=>{if(ae){const nt=Z.streamTextContent({includeMarkedContent:!0});ae.setTextContentStream(nt),ae.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(nt){return Oe(nt)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(xe,Z,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=nt=>{nt.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(ye=>{if(!ye||!this.canvas)return;const Q=this.structTreeLayer.render(ye);Q.classList.add("structTree"),this.canvas.appendChild(Q)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(Z)),xe.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Le}paintOnCanvas(X){const xe=(0,we.createPromiseCapability)(),Z={promise:xe.promise,onRenderContinue(V){V()},cancel(){G.cancel()}},L=this.viewport,ae=document.createElement("canvas");ae.hidden=!0;let Se=!0;const Oe=function(){Se&&(ae.hidden=!1,Se=!1)};X.appendChild(ae),this.canvas=ae,ae.mozOpaque=!0;const Ve=ae.getContext("2d",{alpha:!1}),Le=this.outputScale=new be.OutputScale;if(this.useOnlyCssZoom){const V=L.clone({scale:we.PixelsPerInch.PDF_TO_CSS_UNITS});Le.sx*=V.width/L.width,Le.sy*=V.height/L.height}if(this.maxCanvasPixels>0){const S=Math.sqrt(this.maxCanvasPixels/(L.width*L.height));Le.sx>S||Le.sy>S?(Le.sx=S,Le.sy=S,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const nt=(0,be.approximateFraction)(Le.sx),ye=(0,be.approximateFraction)(Le.sy);ae.width=(0,be.roundToDivide)(L.width*Le.sx,nt[0]),ae.height=(0,be.roundToDivide)(L.height*Le.sy,ye[0]),ae.style.width=(0,be.roundToDivide)(L.width,nt[1])+"px",ae.style.height=(0,be.roundToDivide)(L.height,ye[1])+"px",this.paintedViewportMap.set(ae,L);const H={canvasContext:Ve,transform:Le.scaled?[Le.sx,0,0,Le.sy,0,0]:null,viewport:this.viewport,annotationMode:Ee(this,D),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},G=this.pdfPage.render(H);return G.onContinue=function(V){Oe(),Z.onRenderContinue?Z.onRenderContinue(V):V()},G.promise.then(function(){Oe(),xe.resolve()},function(V){Oe(),xe.reject(V)}),Z}paintOnSvg(X){let xe=!1;const Z=()=>{if(xe)throw new we.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},L=this.pdfPage,ae=this.viewport.clone({scale:we.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:L.getOperatorList({annotationMode:Ee(this,D)}).then(Oe=>(Z(),new we.SVGGraphics(L.commonObjs,L.objs).getSVG(Oe,ae).then(Le=>{Z(),this.svg=Le,this.paintedViewportMap.set(Le,ae),Le.style.width=X.style.width,Le.style.height=X.style.height,this.renderingState=be.RenderingStates.FINISHED,X.appendChild(Le)}))),onRenderContinue(Oe){Oe()},cancel(){xe=!0}}}setPageLabel(X){this.pageLabel="string"==typeof X?X:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(De,te)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.compatibilityParams=te.OptionKind=te.AppOptions=void 0;const ee=Object.create(null);te.compatibilityParams=ee;{const O=navigator.userAgent||"",D=navigator.platform||"",K=navigator.maxTouchPoints||1,ue=/Android/.test(O);(/\b(iPad|iPhone|iPod)(?=;)/.test(O)||"MacIntel"===D&&K>1||ue)&&(ee.maxCanvasPixels=5242880)}const we={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};te.OptionKind=we;const be={annotationMode:{value:2,kind:we.VIEWER+we.PREFERENCE},cursorToolOnLoad:{value:0,kind:we.VIEWER+we.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:we.VIEWER},defaultZoomValue:{value:"",kind:we.VIEWER+we.PREFERENCE},disableHistory:{value:!1,kind:we.VIEWER},disablePageLabels:{value:!1,kind:we.VIEWER+we.PREFERENCE},enablePermissions:{value:!1,kind:we.VIEWER+we.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:we.VIEWER+we.PREFERENCE},enableScripting:{value:!0,kind:we.VIEWER+we.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:we.VIEWER},externalLinkTarget:{value:0,kind:we.VIEWER+we.PREFERENCE},historyUpdateUrl:{value:!1,kind:we.VIEWER+we.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:we.VIEWER+we.PREFERENCE},imageResourcesPath:{value:"./images/",kind:we.VIEWER},maxCanvasPixels:{value:16777216,compatibility:ee.maxCanvasPixels,kind:we.VIEWER},pdfBugEnabled:{value:!1,kind:we.VIEWER+we.PREFERENCE},printResolution:{value:150,kind:we.VIEWER},renderer:{value:"canvas",kind:we.VIEWER},sidebarViewOnLoad:{value:-1,kind:we.VIEWER+we.PREFERENCE},scrollModeOnLoad:{value:-1,kind:we.VIEWER+we.PREFERENCE},spreadModeOnLoad:{value:-1,kind:we.VIEWER+we.PREFERENCE},textLayerMode:{value:1,kind:we.VIEWER+we.PREFERENCE},useOnlyCssZoom:{value:!1,kind:we.VIEWER+we.PREFERENCE},viewerCssTheme:{value:0,kind:we.VIEWER+we.PREFERENCE},viewOnLoad:{value:0,kind:we.VIEWER+we.PREFERENCE},cMapPacked:{value:!0,kind:we.API},cMapUrl:{value:"../web/cmaps/",kind:we.API},disableAutoFetch:{value:!1,kind:we.API+we.PREFERENCE},disableFontFace:{value:!1,kind:we.API+we.PREFERENCE},disableRange:{value:!1,kind:we.API+we.PREFERENCE},disableStream:{value:!1,kind:we.API+we.PREFERENCE},docBaseUrl:{value:"",kind:we.API},enableXfa:{value:!0,kind:we.API+we.PREFERENCE},fontExtraProperties:{value:!1,kind:we.API},isEvalSupported:{value:!0,kind:we.API},maxImageSize:{value:-1,kind:we.API},pdfBug:{value:!1,kind:we.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:we.API},verbosity:{value:1,kind:we.API},workerPort:{value:null,kind:we.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:we.WORKER}};be.disablePreferences={value:!1,kind:we.VIEWER},be.locale={value:navigator.language||"en-US",kind:we.VIEWER},be.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:we.VIEWER},be.renderer.kind+=we.PREFERENCE;const me=Object.create(null);te.AppOptions=class ge{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(D){const K=me[D];if(void 0!==K)return K;const ue=be[D];return void 0!==ue?ue.compatibility??ue.value:void 0}static getAll(D=null){const K=Object.create(null);for(const ue in be){const X=be[ue];if(D){if(!(D&X.kind))continue;if(D===we.PREFERENCE){const Z=X.value,L=typeof Z;if("boolean"===L||"string"===L||"number"===L&&Number.isInteger(Z)){K[ue]=Z;continue}throw new Error(`Invalid type for preference: ${ue}`)}}const xe=me[ue];K[ue]=void 0!==xe?xe:X.compatibility??X.value}return K}static set(D,K){me[D]=K}static setAll(D){for(const K in D)me[K]=D[K]}static remove(D){delete me[D]}static _hasUserOptions(){return Object.keys(me).length>0}}},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.PDFRenderingQueue=void 0;var we=ee(3),be=ee(6);te.PDFRenderingQueue=class ge{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(D){this.pdfViewer=D}setThumbnailViewer(D){this.pdfThumbnailViewer=D}isHighestPriority(D){return this.highestPriorityPage===D.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(D){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(D)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(D,K,ue,X=!1){const xe=D.views,Z=xe.length;if(0===Z)return null;for(let Ve=0;Ve<Z;Ve++){const Le=xe[Ve].view;if(!this.isViewFinished(Le))return Le}const L=D.first.id,ae=D.last.id;if(ae-L+1>Z){const Ve=D.ids;for(let Le=1,nt=ae-L;Le<nt;Le++){const ye=ue?L+Le:ae-Le;if(Ve.has(ye))continue;const Q=K[ye-1];if(!this.isViewFinished(Q))return Q}}let Se=ue?ae:L-2,Oe=K[Se];return Oe&&!this.isViewFinished(Oe)||X&&(Se+=ue?1:-1,Oe=K[Se],Oe&&!this.isViewFinished(Oe))?Oe:null}isViewFinished(D){return D.renderingState===be.RenderingStates.FINISHED}renderView(D){switch(D.renderingState){case be.RenderingStates.FINISHED:return!1;case be.RenderingStates.PAUSED:this.highestPriorityPage=D.renderingId,D.resume();break;case be.RenderingStates.RUNNING:this.highestPriorityPage=D.renderingId;break;case be.RenderingStates.INITIAL:this.highestPriorityPage=D.renderingId,D.draw().finally(()=>{this.renderHighestPriority()}).catch(K=>{K instanceof we.RenderingCancelledException||console.error(`renderView: "${K}"`)})}return!0}}},(De,te)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.TextHighlighter=void 0;te.TextHighlighter=class ee{constructor({findController:be,eventBus:me,pageIndex:ge}){this.findController=be,this.matches=[],this.eventBus=me,this.pageIdx=ge,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(be,me){this.textDivs=be,this.textContentItemsStr=me}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=be=>{(be.pageIndex===this.pageIdx||-1===be.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(be,me){if(!be)return[];const{textContentItemsStr:ge}=this;let O=0,D=0;const K=ge.length-1,ue=[];for(let X=0,xe=be.length;X<xe;X++){let Z=be[X];for(;O!==K&&Z>=D+ge[O].length;)D+=ge[O].length,O++;O===ge.length&&console.error("Could not find a matching mapping");const L={begin:{divIdx:O,offset:Z-D}};for(Z+=me[X];O!==K&&Z>D+ge[O].length;)D+=ge[O].length,O++;L.end={divIdx:O,offset:Z-D},ue.push(L)}return ue}_renderMatches(be){if(0===be.length)return;const{findController:me,pageIdx:ge}=this,{textContentItemsStr:O,textDivs:D}=this,K=ge===me.selected.pageIdx,ue=me.selected.matchIdx;let xe=null;const Z_offset=void 0;function L(Ve,Le){const nt=Ve.divIdx;return D[nt].textContent="",ae(nt,0,Ve.offset,Le)}function ae(Ve,Le,nt,ye){let Q=D[Ve];if(Q.nodeType===Node.TEXT_NODE){const V=document.createElement("span");Q.parentNode.insertBefore(V,Q),V.appendChild(Q),D[Ve]=V,Q=V}const H=O[Ve].substring(Le,nt),G=document.createTextNode(H);if(ye){const V=document.createElement("span");return V.className=`${ye} appended`,V.appendChild(G),Q.appendChild(V),ye.includes("selected")?V.offsetLeft:0}return Q.appendChild(G),0}let Se=ue,Oe=Se+1;if(me.state.highlightAll)Se=0,Oe=be.length;else if(!K)return;for(let Ve=Se;Ve<Oe;Ve++){const Le=be[Ve],nt=Le.begin,ye=Le.end,Q=K&&Ve===ue,H=Q?" selected":"";let G=0;if(xe&&nt.divIdx===xe.divIdx?ae(xe.divIdx,xe.offset,nt.offset):(null!==xe&&ae(xe.divIdx,xe.offset,Z_offset),L(nt)),nt.divIdx===ye.divIdx)G=ae(nt.divIdx,nt.offset,ye.offset,"highlight"+H);else{G=ae(nt.divIdx,nt.offset,Z_offset,"highlight begin"+H);for(let V=nt.divIdx+1,S=ye.divIdx;V<S;V++)D[V].className="highlight middle"+H;L(ye,"highlight end"+H)}xe=ye,Q&&me.scrollMatchIntoView({element:D[nt.divIdx],selectedLeft:G,pageIndex:ge,matchIndex:ue})}xe&&ae(xe.divIdx,xe.offset,Z_offset)}_updateMatches(){if(!this.enabled)return;const{findController:be,matches:me,pageIdx:ge}=this,{textContentItemsStr:O,textDivs:D}=this;let K=-1;for(let xe=0,Z=me.length;xe<Z;xe++){const L=me[xe];for(let Se=Math.max(K,L.begin.divIdx),Oe=L.end.divIdx;Se<=Oe;Se++){const Ve=D[Se];Ve.textContent=O[Se],Ve.className=""}K=L.end.divIdx+1}be?.highlightMatches&&(this.matches=this._convertMatches(be.pageMatches[ge]||null,be.pageMatchesLength[ge]||null),this._renderMatches(this.matches))}}},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.DownloadManager=void 0;var we=ee(3);function be(ge,O){const D=document.createElement("a");if(!D.click)throw new Error('DownloadManager: "a.click()" is not supported.');D.href=ge,D.target="_parent","download"in D&&(D.download=O),(document.body||document.documentElement).appendChild(D),D.click(),D.remove()}te.DownloadManager=class me{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(O,D){(0,we.createValidAbsoluteUrl)(O,"http://example.com")?be(O+"#pdfjs.action=download",D):console.error(`downloadUrl - not a valid URL: ${O}`)}downloadData(O,D,K){be(URL.createObjectURL(new Blob([O],{type:K})),D)}openOrDownloadData(O,D,K){const ue=(0,we.isPdfFile)(K),X=ue?"application/pdf":"";if(ue){let Z,xe=this._openBlobUrls.get(O);xe||(xe=URL.createObjectURL(new Blob([D],{type:X})),this._openBlobUrls.set(O,xe)),Z="?file="+encodeURIComponent(xe+"#"+K);try{return window.open(Z),!0}catch(L){console.error(`openOrDownloadData: ${L}`),URL.revokeObjectURL(xe),this._openBlobUrls.delete(O)}}return this.downloadData(D,K,X),!1}download(O,D,K,ue="download"){be(URL.createObjectURL(O),K)}}},(De,te)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.WaitOnType=te.EventBus=te.AutomationEventBus=void 0,te.waitOnEventOrTimeout=function we({target:ge,name:O,delay:D=0}){return new Promise(function(K,ue){if("object"!=typeof ge||!O||"string"!=typeof O||!(Number.isInteger(D)&&D>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function X(ae){ge instanceof be?ge._off(O,xe):ge.removeEventListener(O,xe),L&&clearTimeout(L),K(ae)}const xe=X.bind(null,ee.EVENT);ge instanceof be?ge._on(O,xe):ge.addEventListener(O,xe);const Z=X.bind(null,ee.TIMEOUT),L=setTimeout(Z,D)})};const ee={EVENT:"event",TIMEOUT:"timeout"};te.WaitOnType=ee;class be{constructor(){this._listeners=Object.create(null)}on(O,D,K=null){this._on(O,D,{external:!0,once:K?.once})}off(O,D,K=null){this._off(O,D,{external:!0,once:K?.once})}dispatch(O,D){const K=this._listeners[O];if(!K||0===K.length)return;let ue;for(const{listener:X,external:xe,once:Z}of K.slice(0))Z&&this._off(O,X),xe?(ue||=[]).push(X):X(D);if(ue){for(const X of ue)X(D);ue=null}}_on(O,D,K=null){(this._listeners[O]||=[]).push({listener:D,external:!0===K?.external,once:!0===K?.once})}_off(O,D,K=null){const ue=this._listeners[O];if(ue)for(let X=0,xe=ue.length;X<xe;X++)if(ue[X].listener===D)return void ue.splice(X,1)}}te.EventBus=be;te.AutomationEventBus=class me extends be{dispatch(O,D){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.GenericL10n=void 0,ee(19);var we=ee(4);const be=document.webL10n;te.GenericL10n=class me{constructor(O){this._lang=O,this._ready=new Promise((D,K)=>{be.setLanguage((0,we.fixupLangCode)(O),()=>{D(be)})})}getLanguage(){var O=this;return fe(function*(){return(yield O._ready).getLanguage()})()}getDirection(){var O=this;return fe(function*(){return(yield O._ready).getDirection()})()}get(O,D=null,K=(0,we.getL10nFallback)(O,D)){var ue=this;return fe(function*(){return(yield ue._ready).get(O,D,K)})()}translate(O){var D=this;return fe(function*(){return(yield D._ready).translate(O)})()}}},()=>{document.webL10n=function(De,te,ee){var we={},be="",me="textContent",ge="",O={},D="loading",K=!0;function L(V,S,N){S=S||function(le){},N=N||function(){};var W=new XMLHttpRequest;W.open("GET",V,K),W.overrideMimeType&&W.overrideMimeType("text/plain; charset=utf-8"),W.onreadystatechange=function(){4==W.readyState&&(200==W.status||0===W.status?S(W.responseText):N())},W.onerror=N,W.ontimeout=N;try{W.send(null)}catch{N()}}function ae(V,S,N,W){var he=V.replace(/[^\/]*$/,"")||"./";function le(He){return He.lastIndexOf("\\")<0?He:He.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}L(V,function(He){be+=He,function Y(He,We){var qe={},ze=/^\s*|\s*$/,ft=/^\s*#|^\s*$/,Rt=/^\s*\[(.*)\]\s*$/,Ut=/^\s*@import\s+url\((.*)\)\s*$/i,Nt=/^([^=\s]*)\s*=\s*(.+)$/;function Pt(gn,qt,sn){var Vn=gn.replace(ze,"").split(/[\r\n]+/),ut="*",Ie=S.split("-",1)[0],Je=!1,at="";!function bt(){for(;;){if(!Vn.length)return void sn();var Ke=Vn.shift();if(!ft.test(Ke)){if(qt){if(at=Rt.exec(Ke)){ut=at[1].toLowerCase(),Je="*"!==ut&&ut!==S&&ut!==Ie;continue}if(Je)continue;if(at=Ut.exec(Ke))return void zt(he+at[1],bt)}var pt=Ke.match(Nt);pt&&3==pt.length&&(qe[pt[1]]=le(pt[2]))}}}()}function zt(gn,qt){L(gn,function(sn){Pt(sn,!1,qt)},function(){console.warn(gn+" not found."),qt()})}Pt(He,!0,function(){We(qe)})}(He,function(We){for(var qe in We){var ze,ft,Rt=qe.lastIndexOf(".");Rt>0?(ze=qe.substring(0,Rt),ft=qe.substring(Rt+1)):(ze=qe,ft=me),we[ze]||(we[ze]={}),we[ze][ft]=We[qe]}N&&N()})},W)}function Se(V,S){V&&(V=V.toLowerCase()),S=S||function(){},function Oe(){we={},be="",ge=""}(),ge=V;var N=function ue(){return te.querySelectorAll('link[type="application/l10n"]')}(),W=N.length;if(0!==W){var He,We=0;He=function(){++We>=W&&(S(),D="complete")};for(var ze=0;ze<W;ze++)new qe(N[ze]).load(V,He)}else{var he=function X(){var V=te.querySelector('script[type="application/l10n"]');return V?JSON.parse(V.innerHTML):null}();if(he&&he.locales&&he.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(we=he.locales[V])){var le=he.default_locale.toLowerCase();for(var Y in he.locales){if((Y=Y.toLowerCase())===V){we=he.locales[V];break}Y===le&&(we=he.locales[le])}}S()}else console.log("no resource to load, early way out");D="complete"}function qe(Rt){var Ut=Rt.href;this.load=function(Nt,Pt){ae(Ut,Nt,Pt,function(){console.warn(Ut+" not found."),console.warn('"'+Nt+'" resource not found'),ge="",Pt()})}}}function Le(V,S,N){var W=we[V];if(!W){if(console.warn("#"+V+" is undefined."),!N)return null;W=N}var he={};for(var le in W){var Y=W[le];Y=ye(Y=nt(Y,S,V,le),S,V),he[le]=Y}return he}function nt(V,S,N,W){var le=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(V);if(!le||!le.length)return V;var We,Y=le[1],He=le[2];return S&&He in S?We=S[He]:He in we&&(We=we[He]),Y in O&&(V=(0,O[Y])(V,We,N,W)),V}function ye(V,S,N){return V.replace(/\{\{\s*(.+?)\s*\}\}/g,function(he,le){return S&&le in S?S[le]:le in we?we[le]:(console.log("argument {{"+le+"}} for #"+N+" is undefined."),he)})}function Q(V){var S=function Z(V){if(!V)return{};var S=V.getAttribute("data-l10n-id"),N=V.getAttribute("data-l10n-args"),W={};if(N)try{W=JSON.parse(N)}catch{console.warn("could not parse arguments for #"+S)}return{id:S,args:W}}(V);if(S.id){var N=Le(S.id,S.args);if(!N)return void console.warn("#"+S.id+" is undefined.");if(N[me]){if(0===function H(V){if(V.children)return V.children.length;if(typeof V.childElementCount<"u")return V.childElementCount;for(var S=0,N=0;N<V.childNodes.length;N++)S+=1===V.nodeType?1:0;return S}(V))V[me]=N[me];else{for(var W=V.childNodes,he=!1,le=0,Y=W.length;le<Y;le++)3===W[le].nodeType&&/\S/.test(W[le].nodeValue)&&(he?W[le].nodeValue="":(W[le].nodeValue=N[me],he=!0));if(!he){var He=te.createTextNode(N[me]);V.insertBefore(He,V.firstChild)}}delete N[me]}for(var We in N)V[We]=N[We]}}return O.plural=function(V,S,N,W){var he=parseFloat(S);if(isNaN(he)||W!=me)return V;O._pluralRules||(O._pluralRules=function Ve(V){function N(Y,He){return-1!==He.indexOf(Y)}function W(Y,He,We){return He<=Y&&Y<=We}var he={0:function(Y){return"other"},1:function(Y){return W(Y%100,3,10)?"few":0===Y?"zero":W(Y%100,11,99)?"many":2==Y?"two":1==Y?"one":"other"},2:function(Y){return 0!==Y&&Y%10==0?"many":2==Y?"two":1==Y?"one":"other"},3:function(Y){return 1==Y?"one":"other"},4:function(Y){return W(Y,0,1)?"one":"other"},5:function(Y){return W(Y,0,2)&&2!=Y?"one":"other"},6:function(Y){return 0===Y?"zero":Y%10==1&&Y%100!=11?"one":"other"},7:function(Y){return 2==Y?"two":1==Y?"one":"other"},8:function(Y){return W(Y,3,6)?"few":W(Y,7,10)?"many":2==Y?"two":1==Y?"one":"other"},9:function(Y){return 0===Y||1!=Y&&W(Y%100,1,19)?"few":1==Y?"one":"other"},10:function(Y){return W(Y%10,2,9)&&!W(Y%100,11,19)?"few":Y%10!=1||W(Y%100,11,19)?"other":"one"},11:function(Y){return W(Y%10,2,4)&&!W(Y%100,12,14)?"few":Y%10==0||W(Y%10,5,9)||W(Y%100,11,14)?"many":Y%10==1&&Y%100!=11?"one":"other"},12:function(Y){return W(Y,2,4)?"few":1==Y?"one":"other"},13:function(Y){return W(Y%10,2,4)&&!W(Y%100,12,14)?"few":1!=Y&&W(Y%10,0,1)||W(Y%10,5,9)||W(Y%100,12,14)?"many":1==Y?"one":"other"},14:function(Y){return W(Y%100,3,4)?"few":Y%100==2?"two":Y%100==1?"one":"other"},15:function(Y){return 0===Y||W(Y%100,2,10)?"few":W(Y%100,11,19)?"many":1==Y?"one":"other"},16:function(Y){return Y%10==1&&11!=Y?"one":"other"},17:function(Y){return 3==Y?"few":0===Y?"zero":6==Y?"many":2==Y?"two":1==Y?"one":"other"},18:function(Y){return 0===Y?"zero":W(Y,0,2)&&0!==Y&&2!=Y?"one":"other"},19:function(Y){return W(Y,2,10)?"few":W(Y,0,1)?"one":"other"},20:function(Y){return!W(Y%10,3,4)&&Y%10!=9||W(Y%100,10,19)||W(Y%100,70,79)||W(Y%100,90,99)?Y%1e6==0&&0!==Y?"many":Y%10!=2||N(Y%100,[12,72,92])?Y%10!=1||N(Y%100,[11,71,91])?"other":"one":"two":"few"},21:function(Y){return 0===Y?"zero":1==Y?"one":"other"},22:function(Y){return W(Y,0,1)||W(Y,11,99)?"one":"other"},23:function(Y){return W(Y%10,1,2)||Y%20==0?"one":"other"},24:function(Y){return W(Y,3,10)||W(Y,13,19)?"few":N(Y,[2,12])?"two":N(Y,[1,11])?"one":"other"}},le={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[V.replace(/-.*$/,"")];return le in he?he[le]:(console.warn("plural form unknown for ["+V+"]"),function(){return"other"})}(ge));var le="["+O._pluralRules(he)+"]";return 0===he&&N+"[zero]"in we?V=we[N+"[zero]"][W]:1==he&&N+"[one]"in we?V=we[N+"[one]"][W]:2==he&&N+"[two]"in we?V=we[N+"[two]"][W]:N+le in we?V=we[N+le][W]:N+"[other]"in we&&(V=we[N+"[other]"][W]),V},{get:function(V,S,N){var le,W=V.lastIndexOf("."),he=me;W>0&&(he=V.substring(W+1),V=V.substring(0,W)),N&&((le={})[he]=N);var Y=Le(V,S,le);return Y&&he in Y?Y[he]:"{{"+V+"}}"},getData:function(){return we},getText:function(){return be},getLanguage:function(){return ge},setLanguage:function(V,S){Se(V,function(){S&&S()})},getDirection:function(){var S=ge.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(S)>=0?"rtl":"ltr"},translate:function G(V){for(var S=function xe(V){return V?V.querySelectorAll("*[data-l10n-id]"):[]}(V=V||te.documentElement),N=S.length,W=0;W<N;W++)Q(S[W]);Q(V)},getReadyState:function(){return D},ready:function(V){V&&("complete"==D||"interactive"==D?De.setTimeout(function(){V()}):te.addEventListener&&te.addEventListener("localized",function S(){te.removeEventListener("localized",S),V()}))}}}(window,document)},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.PDFFindController=te.FindState=void 0;var we=ee(6),be=ee(3),me=ee(21);const ge={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};te.FindState=ge;const ue={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},X=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),xe=[...X.values()].map(ye=>String.fromCharCode(ye)).join(""),Z=/\p{M}+/gu,L=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,ae=/([^\p{M}])\p{M}*$/u,Se=/^\p{M}*([^\p{M}])/u;let Oe=null;function Ve(ye){if(!Oe){const Y=Object.keys(ue).join("");Oe=new RegExp(`([${Y}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const Q=[];let H;for(;null!==(H=Z.exec(ye));)Q.push([H[0].length,H.index]);let G=ye.normalize("NFD");const V=[[0,0]];let S=0,N=0,W=0,he=0,le=!1;return G=G.replace(Oe,(Y,He,We,qe,ze,ft)=>{if(ft-=W,He){const Rt=ue[Y],Ut=Rt.length;for(let Nt=1;Nt<Ut;Nt++)V.push([ft-N+Nt,N-Nt]);return N-=Ut-1,Rt}if(We){const Rt=We.endsWith("\n"),Ut=Rt?We.length-2:We.length;le=!0;let Nt=Ut;ft+he===Q[S]?.[1]&&(Nt-=Q[S][0],++S);for(let Pt=1;Pt<Nt+1;Pt++)V.push([ft-1-N+Pt,N-Pt]);return N-=Nt,W+=Nt,Rt?(V.push([(ft+=Ut-1)-N+1,1+N]),N+=1,W+=1,he+=1,We.slice(0,Ut)):We}return qe?(V.push([ft-N+1,1+N]),N+=1,W+=1,he+=1,qe.charAt(0)):(V.push([ft-N+1,N-1]),N-=1,W+=1,he+=1," ")}),V.push([G.length,N]),[G,V,le]}function Le(ye,Q,H){if(!ye)return[Q,H];const G=Q,V=Q+H;let S=(0,we.binarySearchFirstItem)(ye,W=>W[0]>=G);ye[S][0]>G&&--S;let N=(0,we.binarySearchFirstItem)(ye,W=>W[0]>=V,S);return ye[N][0]>V&&--N,[G+ye[S][1],H+ye[N][1]-ye[S][1]]}te.PDFFindController=class nt{constructor({linkService:Q,eventBus:H}){this._linkService=Q,this._eventBus=H,this._reset(),H._on("find",this._onFind.bind(this)),H._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(G,V)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const S=Object.assign(Object.create(null),V,{type:G.substring(4)});this._onFind(S)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Q){this._pdfDocument&&this._reset(),Q&&(this._pdfDocument=Q,this._firstPageCapability.resolve())}_onFind(Q){if(!Q)return;const H=this._pdfDocument,{type:G}=Q;(null===this._state||this._shouldDirtyMatch(Q))&&(this._dirtyMatch=!0),this._state=Q,"highlightallchange"!==G&&this._updateUIState(ge.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||H&&this._pdfDocument!==H)return;this._extractText();const V=!this._highlightMatches,S=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),G?this._dirtyMatch?this._nextMatch():"again"===G?(this._nextMatch(),V&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===G?(S?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:Q=null,selectedLeft:H=0,pageIndex:G=-1,matchIndex:V=-1}){this._scrollMatches&&Q&&-1!==V&&V===this._selected.matchIdx&&-1!==G&&G===this._selected.pageIdx&&(this._scrollMatches=!1,(0,we.scrollIntoView)(Q,{top:-50,left:H+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,be.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=Ve(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(Q){if(Q.query!==this._state.query)return!0;switch(Q.type){case"again":const H=this._selected.pageIdx+1,G=this._linkService;return H>=1&&H<=G.pagesCount&&H!==G.page&&!G.isPageVisible(H);case"highlightallchange":return!1}return!0}_isEntireWord(Q,H,G){let V=Q.slice(0,H).match(ae);if(V){const S=Q.charCodeAt(H),N=V[1].charCodeAt(0);if((0,me.getCharacterType)(S)===(0,me.getCharacterType)(N))return!1}if(V=Q.slice(H+G).match(Se),V){const S=Q.charCodeAt(H+G-1),N=V[1].charCodeAt(0);if((0,me.getCharacterType)(S)===(0,me.getCharacterType)(N))return!1}return!0}_calculateRegExpMatch(Q,H,G,V){const S=[],N=[],W=this._pageDiffs[G];let he;for(;null!==(he=Q.exec(V));){if(H&&!this._isEntireWord(V,he.index,he[0].length))continue;const[le,Y]=Le(W,he.index,he[0].length);Y&&(S.push(le),N.push(Y))}this._pageMatches[G]=S,this._pageMatchesLength[G]=N}_convertToRegExpString(Q,H){const{matchDiacritics:G}=this._state;let V=!1;const S="[ ]*";return(Q=Q.replace(L,(N,W,he,le,Y,He)=>W?`[ ]*\\${W}[ ]*`:he?`[ ]*${he}[ ]*`:le?"[ ]+":G?Y||He:Y?X.has(Y.charCodeAt(0))?Y:"":H?(V=!0,`${He}\\p{M}*`):He)).endsWith(S)&&(Q=Q.slice(0,Q.length-S.length)),G&&H&&(V=!0,Q=`${Q}(?=[${xe}]|[^\\p{M}]|$)`),[V,Q]}_calculateMatch(Q){let H=this._query;if(0===H.length)return;const{caseSensitive:G,entireWord:V,phraseSearch:S}=this._state,N=this._pageContents[Q],W=this._hasDiacritics[Q];let he=!1;if(S)[he,H]=this._convertToRegExpString(H,W);else{const He=H.match(/\S+/g);He&&(H=He.sort().reverse().map(We=>{const[qe,ze]=this._convertToRegExpString(We,W);return he||=qe,`(${ze})`}).join("|"))}H=new RegExp(H,`g${he?"u":""}${G?"":"i"}`),this._calculateRegExpMatch(H,V,Q,N),this._state.highlightAll&&this._updatePage(Q),this._resumePageIdx===Q&&(this._resumePageIdx=null,this._nextPageMatch());const Y=this._pageMatches[Q].length;Y>0&&(this._matchesCountTotal+=Y,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let Q=Promise.resolve();for(let H=0,G=this._linkService.pagesCount;H<G;H++){const V=(0,be.createPromiseCapability)();this._extractTextPromises[H]=V.promise,Q=Q.then(()=>this._pdfDocument.getPage(H+1).then(S=>S.getTextContent()).then(S=>{const N=S.items,W=[];for(let he=0,le=N.length;he<le;he++)W.push(N[he].str),N[he].hasEOL&&W.push("\n");[this._pageContents[H],this._pageDiffs[H],this._hasDiacritics[H]]=Ve(W.join("")),V.resolve(H)},S=>{console.error(`Unable to get text content for page ${H+1}`,S),this._pageContents[H]="",this._pageDiffs[H]=null,this._hasDiacritics[H]=!1,V.resolve(H)}))}}_updatePage(Q){this._scrollMatches&&this._selected.pageIdx===Q&&(this._linkService.page=Q+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Q})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const Q=this._state.findPrevious,H=this._linkService.page-1,G=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=H,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let S=0;S<G;S++)this._pendingFindMatches.has(S)||(this._pendingFindMatches.add(S),this._extractTextPromises[S].then(N=>{this._pendingFindMatches.delete(N),this._calculateMatch(N)}))}if(""===this._query)return void this._updateUIState(ge.FOUND);if(this._resumePageIdx)return;const V=this._offset;if(this._pagesToSearch=G,null!==V.matchIdx){if(!Q&&V.matchIdx+1<this._pageMatches[V.pageIdx].length||Q&&V.matchIdx>0)return V.matchIdx=Q?V.matchIdx-1:V.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(Q)}this._nextPageMatch()}_matchesReady(Q){const H=this._offset,G=Q.length,V=this._state.findPrevious;return G?(H.matchIdx=V?G-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(V),!!(H.wrapped&&(H.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let Q=null;do{const H=this._offset.pageIdx;if(Q=this._pageMatches[H],!Q){this._resumePageIdx=H;break}}while(!this._matchesReady(Q))}_advanceOffsetPage(Q){const H=this._offset,G=this._linkService.pagesCount;H.pageIdx=Q?H.pageIdx-1:H.pageIdx+1,H.matchIdx=null,this._pagesToSearch--,(H.pageIdx>=G||H.pageIdx<0)&&(H.pageIdx=Q?G-1:0,H.wrapped=!0)}_updateMatch(Q=!1){let H=ge.NOT_FOUND;const G=this._offset.wrapped;if(this._offset.wrapped=!1,Q){const V=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,H=G?ge.WRAPPED:ge.FOUND,-1!==V&&V!==this._selected.pageIdx&&this._updatePage(V)}this._updateUIState(H,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(Q){const H=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||H&&this._pdfDocument!==H||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(ge.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:Q,matchIdx:H}=this._selected;let G=0,V=this._matchesCountTotal;if(-1!==H){for(let S=0;S<Q;S++)G+=this._pageMatches[S]?.length||0;G+=H+1}return(G<1||G>V)&&(G=V=0),{current:G,total:V}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(Q,H=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Q,previous:H,matchesCount:this._requestMatchesCount(),rawQuery:this._state?.query??null})}}},(De,te)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.CharacterType=void 0,te.getCharacterType=function Z(L){return function we(L){return L<11904}(L)?function be(L){return 0==(65408&L)}(L)?function O(L){return 32===L||9===L||13===L||10===L}(L)?ee.SPACE:function me(L){return L>=97&&L<=122||L>=65&&L<=90}(L)||function ge(L){return L>=48&&L<=57}(L)||95===L?ee.ALPHA_LETTER:ee.PUNCT:function xe(L){return 3584==(65408&L)}(L)?ee.THAI_LETTER:160===L?ee.SPACE:ee.ALPHA_LETTER:function D(L){return L>=13312&&L<=40959||L>=63744&&L<=64255}(L)?ee.HAN_LETTER:function K(L){return L>=12448&&L<=12543}(L)?ee.KATAKANA_LETTER:function ue(L){return L>=12352&&L<=12447}(L)?ee.HIRAGANA_LETTER:function X(L){return L>=65376&&L<=65439}(L)?ee.HALFWIDTH_KATAKANA_LETTER:ee.ALPHA_LETTER};const ee={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};te.CharacterType=ee},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.PDFHistory=void 0,te.isDestArraysEqual=X,te.isDestHashesEqual=ue;var we=ee(6),be=ee(17);function D(){return document.location.hash}function ue(xe,Z){return"string"==typeof xe&&"string"==typeof Z&&(xe===Z||(0,we.parseQueryString)(xe).get("nameddest")===Z)}function X(xe,Z){function L(ae,Se){if(typeof ae!=typeof Se||Array.isArray(ae)||Array.isArray(Se))return!1;if(null!==ae&&"object"==typeof ae&&null!==Se){if(Object.keys(ae).length!==Object.keys(Se).length)return!1;for(const Oe in ae)if(!L(ae[Oe],Se[Oe]))return!1;return!0}return ae===Se||Number.isNaN(ae)&&Number.isNaN(Se)}if(!Array.isArray(xe)||!Array.isArray(Z)||xe.length!==Z.length)return!1;for(let ae=0,Se=xe.length;ae<Se;ae++)if(!L(xe[ae],Z[ae]))return!1;return!0}te.PDFHistory=class K{constructor({linkService:Z,eventBus:L}){this.linkService=Z,this.eventBus=L,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",ae=>{this._isViewerInPresentationMode=ae.state!==we.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",ae=>{this._isPagesLoaded=!!ae.pagesCount},{once:!0})})}initialize({fingerprint:Z,resetHistory:L=!1,updateUrl:ae=!1}){if(!Z||"string"!=typeof Z)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const Se=""!==this._fingerprint&&this._fingerprint!==Z;this._fingerprint=Z,this._updateUrl=!0===ae,this._initialized=!0,this._bindEvents();const Oe=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=D(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(Oe,!0)||L){const{hash:Le,page:nt,rotation:ye}=this._parseCurrentHash(!0);return!Le||Se||L?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Le,page:nt,rotation:ye},!0)}const Ve=Oe.destination;this._updateInternalState(Ve,Oe.uid,!0),void 0!==Ve.rotation&&(this._initialRotation=Ve.rotation),Ve.dest?(this._initialBookmark=JSON.stringify(Ve.dest),this._destination.page=null):Ve.hash?this._initialBookmark=Ve.hash:Ve.page&&(this._initialBookmark=`page=${Ve.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:Z=null,explicitDest:L,pageNumber:ae}){if(!this._initialized)return;if(Z&&"string"!=typeof Z)return void console.error(`PDFHistory.push: "${Z}" is not a valid namedDest parameter.`);if(!Array.isArray(L))return void console.error(`PDFHistory.push: "${L}" is not a valid explicitDest parameter.`);if(!this._isValidPage(ae)&&(null!==ae||this._destination))return void console.error(`PDFHistory.push: "${ae}" is not a valid pageNumber parameter.`);const Se=Z||JSON.stringify(L);if(!Se)return;let Oe=!1;if(this._destination&&(ue(this._destination.hash,Se)||X(this._destination.dest,L))){if(this._destination.page)return;Oe=!0}this._popStateInProgress&&!Oe||(this._pushOrReplaceState({dest:L,hash:Se,page:ae,rotation:this.linkService.rotation},Oe),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(Z){if(this._initialized){if(!this._isValidPage(Z))return void console.error(`PDFHistory.pushPage: "${Z}" is not a valid page number.`);this._destination?.page!==Z&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${Z}`,page:Z,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const Z=window.history.state;this._isValidState(Z)&&Z.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const Z=window.history.state;this._isValidState(Z)&&Z.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(Z,L=!1){const ae=L||!this._destination,Se={fingerprint:this._fingerprint,uid:ae?this._uid:this._uid+1,destination:Z};let Oe;if(this._updateInternalState(Z,Se.uid),this._updateUrl&&Z?.hash){const Ve=document.location.href.split("#")[0];Ve.startsWith("file://")||(Oe=`${Ve}#${Z.hash}`)}ae?window.history.replaceState(Se,"",Oe):window.history.pushState(Se,"",Oe)}_tryPushCurrentPosition(Z=!1){if(!this._position)return;let L=this._position;if(Z&&(L=Object.assign(Object.create(null),this._position),L.temporary=!0),!this._destination)return void this._pushOrReplaceState(L);if(this._destination.temporary)return void this._pushOrReplaceState(L,!0);if(this._destination.hash===L.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let ae=!1;if(this._destination.page>=L.first&&this._destination.page<=L.page){if(void 0!==this._destination.dest||!this._destination.first)return;ae=!0}this._pushOrReplaceState(L,ae)}_isValidPage(Z){return Number.isInteger(Z)&&Z>0&&Z<=this.linkService.pagesCount}_isValidState(Z,L=!1){if(!Z)return!1;if(Z.fingerprint!==this._fingerprint){if(!L)return!1;{if("string"!=typeof Z.fingerprint||Z.fingerprint.length!==this._fingerprint.length)return!1;const[ae]=performance.getEntriesByType("navigation");if("reload"!==ae?.type)return!1}}return!(!Number.isInteger(Z.uid)||Z.uid<0||null===Z.destination||"object"!=typeof Z.destination)}_updateInternalState(Z,L,ae=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),ae&&Z?.temporary&&delete Z.temporary,this._destination=Z,this._uid=L,this._maxUid=Math.max(this._maxUid,L),this._numPositionUpdates=0}_parseCurrentHash(Z=!1){const L=unescape(D()).substring(1),ae=(0,we.parseQueryString)(L),Se=ae.get("nameddest")||"";let Oe=0|ae.get("page");return(!this._isValidPage(Oe)||Z&&Se.length>0)&&(Oe=null),{hash:L,page:Oe,rotation:this.linkService.rotation}}_updateViewarea({location:Z}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${Z.pageNumber}`:Z.pdfOpenParams.substring(1),page:this.linkService.page,first:Z.pageNumber,rotation:Z.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:Z}){const L=D(),ae=this._currentHash!==L;if(this._currentHash=L,!Z){this._uid++;const{hash:Oe,page:Ve,rotation:Le}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:Oe,page:Ve,rotation:Le},!0)}if(!this._isValidState(Z))return;this._popStateInProgress=!0,ae&&(this._blockHashChange++,(0,be.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const Se=Z.destination;this._updateInternalState(Se,Z.uid,!0),(0,we.isValidRotation)(Se.rotation)&&(this.linkService.rotation=Se.rotation),Se.dest?this.linkService.goToDestination(Se.dest):Se.hash?this.linkService.setHash(Se.hash):Se.page&&(this.linkService.page=Se.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.PDFScriptingManager=void 0;var we=ee(6),be=ee(3);te.PDFScriptingManager=class me{constructor({eventBus:O,sandboxBundleSrc:D=null,scriptingFactory:K=null,docPropertiesLookup:ue=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=O,this._sandboxBundleSrc=D,this._scriptingFactory=K,this._docPropertiesLookup=ue,this._scriptingFactory||window.addEventListener("updatefromsandbox",X=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:X.detail})})}setViewer(O){this._pdfViewer=O}setDocument(O){var D=this;return fe(function*(){if(D._pdfDocument&&(yield D._destroyScripting()),D._pdfDocument=O,!O)return;const[K,ue,X]=yield Promise.all([O.getFieldObjects(),O.getCalculationOrderIds(),O.getJSActions()]);if(K||X){if(O===D._pdfDocument){try{D._scripting=D._createScripting()}catch(xe){return console.error(`PDFScriptingManager.setDocument: "${xe?.message}".`),void(yield D._destroyScripting())}D._internalEvents.set("updatefromsandbox",xe=>{xe?.source===window&&D._updateFromSandbox(xe.detail)}),D._internalEvents.set("dispatcheventinsandbox",xe=>{D._scripting?.dispatchEventInSandbox(xe.detail)}),D._internalEvents.set("pagechanging",({pageNumber:xe,previous:Z})=>{xe!==Z&&(D._dispatchPageClose(Z),D._dispatchPageOpen(xe))}),D._internalEvents.set("pagerendered",({pageNumber:xe})=>{D._pageOpenPending.has(xe)&&xe===D._pdfViewer.currentPageNumber&&D._dispatchPageOpen(xe)}),D._internalEvents.set("pagesdestroy",function(){var xe=fe(function*(Z){yield D._dispatchPageClose(D._pdfViewer.currentPageNumber),yield D._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),D._closeCapability?.resolve()});return function(Z){return xe.apply(this,arguments)}}()),D._domEvents.set("mousedown",xe=>{D._mouseState.isDown=!0}),D._domEvents.set("mouseup",xe=>{D._mouseState.isDown=!1});for(const[xe,Z]of D._internalEvents)D._eventBus._on(xe,Z);for(const[xe,Z]of D._domEvents)window.addEventListener(xe,Z);try{const xe=yield D._getDocProperties();if(O!==D._pdfDocument)return;yield D._scripting.createSandbox({objects:K,calculationOrder:ue,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...xe,actions:X}}),D._eventBus.dispatch("sandboxcreated",{source:D})}catch(xe){return console.error(`PDFScriptingManager.setDocument: "${xe?.message}".`),void(yield D._destroyScripting())}yield D._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield D._dispatchPageOpen(D._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{O===D._pdfDocument&&(D._ready=!0)})}}else yield D._destroyScripting()})()}dispatchWillSave(O){var D=this;return fe(function*(){return D._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(O){var D=this;return fe(function*(){return D._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(O){var D=this;return fe(function*(){return D._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(O){var D=this;return fe(function*(){return D._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,be.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,be.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,be.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,be.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(O){var D=this;return fe(function*(){const K=D._pdfViewer.isInPresentationMode||D._pdfViewer.isChangingPresentationMode,{id:ue,siblings:X,command:xe,value:Z}=O;if(!ue){switch(xe){case"clear":console.clear();break;case"error":console.error(Z);break;case"layout":if(K)return;const ae=(0,we.apiPageLayoutToViewerModes)(Z);D._pdfViewer.spreadMode=ae.spreadMode;break;case"page-num":D._pdfViewer.currentPageNumber=Z+1;break;case"print":yield D._pdfViewer.pagesPromise,D._eventBus.dispatch("print",{source:D});break;case"println":console.log(Z);break;case"zoom":if(K)return;D._pdfViewer.currentScaleValue=Z;break;case"SaveAs":D._eventBus.dispatch("save",{source:D});break;case"FirstPage":D._pdfViewer.currentPageNumber=1;break;case"LastPage":D._pdfViewer.currentPageNumber=D._pdfViewer.pagesCount;break;case"NextPage":D._pdfViewer.nextPage();break;case"PrevPage":D._pdfViewer.previousPage();break;case"ZoomViewIn":if(K)return;D._pdfViewer.increaseScale();break;case"ZoomViewOut":if(K)return;D._pdfViewer.decreaseScale()}return}if(K&&O.focus)return;delete O.id,delete O.siblings;const L=X?[ue,...X]:[ue];for(const ae of L){const Se=document.getElementById(ae);Se?Se.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:O})):D._pdfDocument?.annotationStorage.setValue(ae,O)}})()}_dispatchPageOpen(O,D=!1){var K=this;return fe(function*(){const ue=K._pdfDocument,X=K._visitedPages;if(D&&(K._closeCapability=(0,be.createPromiseCapability)()),!K._closeCapability)return;const xe=K._pdfViewer.getPageView(O-1);if(xe?.renderingState!==we.RenderingStates.FINISHED)return void K._pageOpenPending.add(O);K._pageOpenPending.delete(O);const Z=fe(function*(){const L=yield X.has(O)?null:xe.pdfPage?.getJSActions();ue===K._pdfDocument&&(yield K._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:O,actions:L}))})();X.set(O,Z)})()}_dispatchPageClose(O){var D=this;return fe(function*(){const K=D._pdfDocument,ue=D._visitedPages;if(!D._closeCapability||D._pageOpenPending.has(O))return;const X=ue.get(O);X&&(ue.set(O,null),yield X,K===D._pdfDocument&&(yield D._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:O})))})()}_getDocProperties(){var O=this;return fe(function*(){if(O._docPropertiesLookup)return O._docPropertiesLookup(O._pdfDocument);const{docPropertiesLookup:D}=ee(24);return D(O._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,be.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:O}=ee(24);return new O(this._sandboxBundleSrc)}_destroyScripting(){var O=this;return fe(function*(){if(!O._scripting)return O._pdfDocument=null,void O._destroyCapability?.resolve();O._closeCapability&&(yield Promise.race([O._closeCapability.promise,new Promise(D=>{setTimeout(D,1e3)})]).catch(D=>{}),O._closeCapability=null),O._pdfDocument=null;try{yield O._scripting.destroySandbox()}catch{}for(const[D,K]of O._internalEvents)O._eventBus._off(D,K);O._internalEvents.clear();for(const[D,K]of O._domEvents)window.removeEventListener(D,K);O._domEvents.clear(),O._pageOpenPending.clear(),O._visitedPages.clear(),O._scripting=null,delete O._mouseState.isDown,O._ready=!1,O._destroyCapability?.resolve()})()}}},(De,te,ee)=>{Object.defineProperty(te,"__esModule",{value:!0}),te.GenericScripting=void 0,te.docPropertiesLookup=function be(O){return me.apply(this,arguments)};var we=ee(3);function me(){return(me=fe(function*(O){const K="".split("#")[0];let{info:ue,metadata:X,contentDispositionFilename:xe,contentLength:Z}=yield O.getMetadata();if(!Z){const{length:L}=yield O.getDownloadInfo();Z=L}return{...ue,baseURL:K,filesize:Z,filename:xe||(0,we.getPdfFilenameFromUrl)(""),metadata:X?.getRaw(),authors:X?.get("dc:creator"),numPages:O.numPages,URL:""}})).apply(this,arguments)}te.GenericScripting=class ge{constructor(D){this._ready=(0,we.loadScript)(D,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(D){var K=this;return fe(function*(){(yield K._ready).create(D)})()}dispatchEventInSandbox(D){var K=this;return fe(function*(){const ue=yield K._ready;setTimeout(()=>ue.dispatchEvent(D),0)})()}destroySandbox(){var D=this;return fe(function*(){(yield D._ready).nukeSandbox()})()}}}],ke={};function se(De){var te=ke[De];if(void 0!==te)return te.exports;var ee=ke[De]={exports:{}};return ve[De](ee,ee.exports,se),ee.exports}var oe={};return(()=>{var De=oe;Object.defineProperty(De,"__esModule",{value:!0}),Object.defineProperty(De,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return me.AnnotationLayerBuilder}}),Object.defineProperty(De,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return te.DefaultAnnotationLayerFactory}}),Object.defineProperty(De,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return te.DefaultStructTreeLayerFactory}}),Object.defineProperty(De,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return te.DefaultTextLayerFactory}}),Object.defineProperty(De,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return te.DefaultXfaLayerFactory}}),Object.defineProperty(De,"DownloadManager",{enumerable:!0,get:function(){return ge.DownloadManager}}),Object.defineProperty(De,"EventBus",{enumerable:!0,get:function(){return O.EventBus}}),Object.defineProperty(De,"GenericL10n",{enumerable:!0,get:function(){return D.GenericL10n}}),Object.defineProperty(De,"LinkTarget",{enumerable:!0,get:function(){return ee.LinkTarget}}),Object.defineProperty(De,"NullL10n",{enumerable:!0,get:function(){return K.NullL10n}}),Object.defineProperty(De,"PDFFindController",{enumerable:!0,get:function(){return ue.PDFFindController}}),Object.defineProperty(De,"PDFHistory",{enumerable:!0,get:function(){return X.PDFHistory}}),Object.defineProperty(De,"PDFLinkService",{enumerable:!0,get:function(){return ee.PDFLinkService}}),Object.defineProperty(De,"PDFPageView",{enumerable:!0,get:function(){return xe.PDFPageView}}),Object.defineProperty(De,"PDFScriptingManager",{enumerable:!0,get:function(){return Z.PDFScriptingManager}}),Object.defineProperty(De,"PDFSinglePageViewer",{enumerable:!0,get:function(){return be.PDFSinglePageViewer}}),Object.defineProperty(De,"PDFViewer",{enumerable:!0,get:function(){return be.PDFViewer}}),Object.defineProperty(De,"ProgressBar",{enumerable:!0,get:function(){return we.ProgressBar}}),Object.defineProperty(De,"SimpleLinkService",{enumerable:!0,get:function(){return ee.SimpleLinkService}}),Object.defineProperty(De,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return L.StructTreeLayerBuilder}}),Object.defineProperty(De,"TextLayerBuilder",{enumerable:!0,get:function(){return ae.TextLayerBuilder}}),Object.defineProperty(De,"XfaLayerBuilder",{enumerable:!0,get:function(){return Se.XfaLayerBuilder}}),Object.defineProperty(De,"parseQueryString",{enumerable:!0,get:function(){return we.parseQueryString}});var te=se(1),ee=se(5),we=se(6),be=se(10),me=se(2),ge=se(16),O=se(17),D=se(18),K=se(4),ue=se(20),X=se(22),xe=se(12),Z=se(23),L=se(7),ae=se(8),Se=se(9)})(),oe})()},1135:(Ue,F,j)=>{"use strict";j.d(F,{X:()=>u});var f=j(7579);class u extends f.x{constructor(Re){super(),this._value=Re}get value(){return this.getValue()}_subscribe(Re){const _e=super._subscribe(Re);return!_e.closed&&Re.next(this._value),_e}getValue(){const{hasError:Re,thrownError:_e,_value:Ee}=this;if(Re)throw _e;return this._throwIfClosed(),Ee}next(Re){super.next(this._value=Re)}}},9751:(Ue,F,j)=>{"use strict";j.d(F,{y:()=>ve});var f=j(930),u=j(727),J=j(8822),Re=j(9635),_e=j(2416),Ee=j(576),fe=j(2806);let ve=(()=>{class De{constructor(ee){ee&&(this._subscribe=ee)}lift(ee){const we=new De;return we.source=this,we.operator=ee,we}subscribe(ee,we,be){const me=function oe(De){return De&&De instanceof f.Lv||function se(De){return De&&(0,Ee.m)(De.next)&&(0,Ee.m)(De.error)&&(0,Ee.m)(De.complete)}(De)&&(0,u.Nn)(De)}(ee)?ee:new f.Hp(ee,we,be);return(0,fe.x)(()=>{const{operator:ge,source:O}=this;me.add(ge?ge.call(me,O):O?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(ee){try{return this._subscribe(ee)}catch(we){ee.error(we)}}forEach(ee,we){return new(we=ke(we))((be,me)=>{const ge=new f.Hp({next:O=>{try{ee(O)}catch(D){me(D),ge.unsubscribe()}},error:me,complete:be});this.subscribe(ge)})}_subscribe(ee){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(ee)}[J.L](){return this}pipe(...ee){return(0,Re.U)(ee)(this)}toPromise(ee){return new(ee=ke(ee))((we,be)=>{let me;this.subscribe(ge=>me=ge,ge=>be(ge),()=>we(me))})}}return De.create=te=>new De(te),De})();function ke(De){var te;return null!==(te=De??_e.v.Promise)&&void 0!==te?te:Promise}},7579:(Ue,F,j)=>{"use strict";j.d(F,{x:()=>fe});var f=j(9751),u=j(727);const Re=(0,j(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=j(8737),Ee=j(2806);let fe=(()=>{class ke extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const De=new ve(this,this);return De.operator=oe,De}_throwIfClosed(){if(this.closed)throw new Re}next(oe){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(oe)}})}error(oe){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:De}=this;for(;De.length;)De.shift().error(oe)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:De,isStopped:te,observers:ee}=this;return De||te?u.Lc:(this.currentObservers=null,ee.push(oe),new u.w0(()=>{this.currentObservers=null,(0,_e.P)(ee,oe)}))}_checkFinalizedStatuses(oe){const{hasError:De,thrownError:te,isStopped:ee}=this;De?oe.error(te):ee&&oe.complete()}asObservable(){const oe=new f.y;return oe.source=this,oe}}return ke.create=(se,oe)=>new ve(se,oe),ke})();class ve extends fe{constructor(se,oe){super(),this.destination=se,this.source=oe}next(se){var oe,De;null===(De=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===De||De.call(oe,se)}error(se){var oe,De;null===(De=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===De||De.call(oe,se)}complete(){var se,oe;null===(oe=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===oe||oe.call(se)}_subscribe(se){var oe,De;return null!==(De=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(se))&&void 0!==De?De:u.Lc}}},930:(Ue,F,j)=>{"use strict";j.d(F,{Hp:()=>be,Lv:()=>De});var f=j(576),u=j(727),J=j(2416),Re=j(7849),_e=j(5032);const Ee=ke("C",void 0,void 0);function ke(K,ue,X){return{kind:K,value:ue,error:X}}var se=j(3410),oe=j(2806);class De extends u.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,u.Nn)(ue)&&ue.add(this)):this.destination=D}static create(ue,X,xe){return new be(ue,X,xe)}next(ue){this.isStopped?O(function ve(K){return ke("N",K,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?O(function fe(K){return ke("E",void 0,K)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?O(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const te=Function.prototype.bind;function ee(K,ue){return te.call(K,ue)}class we{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:X}=this;if(X.next)try{X.next(ue)}catch(xe){me(xe)}}error(ue){const{partialObserver:X}=this;if(X.error)try{X.error(ue)}catch(xe){me(xe)}else me(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(X){me(X)}}}class be extends De{constructor(ue,X,xe){let Z;if(super(),(0,f.m)(ue)||!ue)Z={next:ue??void 0,error:X??void 0,complete:xe??void 0};else{let L;this&&J.v.useDeprecatedNextContext?(L=Object.create(ue),L.unsubscribe=()=>this.unsubscribe(),Z={next:ue.next&&ee(ue.next,L),error:ue.error&&ee(ue.error,L),complete:ue.complete&&ee(ue.complete,L)}):Z=ue}this.destination=new we(Z)}}function me(K){J.v.useDeprecatedSynchronousErrorHandling?(0,oe.O)(K):(0,Re.h)(K)}function O(K,ue){const{onStoppedNotification:X}=J.v;X&&se.z.setTimeout(()=>X(K,ue))}const D={closed:!0,next:_e.Z,error:function ge(K){throw K},complete:_e.Z}},727:(Ue,F,j)=>{"use strict";j.d(F,{Lc:()=>Ee,w0:()=>_e,Nn:()=>fe});var f=j(576);const J=(0,j(3888).d)(ke=>function(oe){ke(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((De,te)=>`${te+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var Re=j(8737);class _e{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const ee of oe)ee.remove(this);else oe.remove(this);const{initialTeardown:De}=this;if((0,f.m)(De))try{De()}catch(ee){se=ee instanceof J?ee.errors:[ee]}const{_finalizers:te}=this;if(te){this._finalizers=null;for(const ee of te)try{ve(ee)}catch(we){se=se??[],we instanceof J?se=[...se,...we.errors]:se.push(we)}}if(se)throw new J(se)}}add(se){var oe;if(se&&se!==this)if(this.closed)ve(se);else{if(se instanceof _e){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(se)}}_hasParent(se){const{_parentage:oe}=this;return oe===se||Array.isArray(oe)&&oe.includes(se)}_addParent(se){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(se),oe):oe?[oe,se]:se}_removeParent(se){const{_parentage:oe}=this;oe===se?this._parentage=null:Array.isArray(oe)&&(0,Re.P)(oe,se)}remove(se){const{_finalizers:oe}=this;oe&&(0,Re.P)(oe,se),se instanceof _e&&se._removeParent(this)}}_e.EMPTY=(()=>{const ke=new _e;return ke.closed=!0,ke})();const Ee=_e.EMPTY;function fe(ke){return ke instanceof _e||ke&&"closed"in ke&&(0,f.m)(ke.remove)&&(0,f.m)(ke.add)&&(0,f.m)(ke.unsubscribe)}function ve(ke){(0,f.m)(ke)?ke():ke.unsubscribe()}},2416:(Ue,F,j)=>{"use strict";j.d(F,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Ue,F,j)=>{"use strict";j.d(F,{z:()=>_e});var f=j(8189),J=j(3269),Re=j(2076);function _e(...Ee){return function u(){return(0,f.J)(1)}()((0,Re.D)(Ee,(0,J.yG)(Ee)))}},515:(Ue,F,j)=>{"use strict";j.d(F,{E:()=>u});const u=new(j(9751).y)(_e=>_e.complete())},2076:(Ue,F,j)=>{"use strict";j.d(F,{D:()=>xe});var f=j(8421),u=j(9672),J=j(4482),Re=j(5403);function _e(Z,L=0){return(0,J.e)((ae,Se)=>{ae.subscribe((0,Re.x)(Se,Oe=>(0,u.f)(Se,Z,()=>Se.next(Oe),L),()=>(0,u.f)(Se,Z,()=>Se.complete(),L),Oe=>(0,u.f)(Se,Z,()=>Se.error(Oe),L)))})}function Ee(Z,L=0){return(0,J.e)((ae,Se)=>{Se.add(Z.schedule(()=>ae.subscribe(Se),L))})}var ke=j(9751),oe=j(2202),De=j(576);function ee(Z,L){if(!Z)throw new Error("Iterable cannot be null");return new ke.y(ae=>{(0,u.f)(ae,L,()=>{const Se=Z[Symbol.asyncIterator]();(0,u.f)(ae,L,()=>{Se.next().then(Oe=>{Oe.done?ae.complete():ae.next(Oe.value)})},0,!0)})})}var we=j(3670),be=j(8239),me=j(1144),ge=j(6495),O=j(2206),D=j(4532),K=j(3260);function xe(Z,L){return L?function X(Z,L){if(null!=Z){if((0,we.c)(Z))return function fe(Z,L){return(0,f.Xf)(Z).pipe(Ee(L),_e(L))}(Z,L);if((0,me.z)(Z))return function se(Z,L){return new ke.y(ae=>{let Se=0;return L.schedule(function(){Se===Z.length?ae.complete():(ae.next(Z[Se++]),ae.closed||this.schedule())})})}(Z,L);if((0,be.t)(Z))return function ve(Z,L){return(0,f.Xf)(Z).pipe(Ee(L),_e(L))}(Z,L);if((0,O.D)(Z))return ee(Z,L);if((0,ge.T)(Z))return function te(Z,L){return new ke.y(ae=>{let Se;return(0,u.f)(ae,L,()=>{Se=Z[oe.h](),(0,u.f)(ae,L,()=>{let Oe,Ve;try{({value:Oe,done:Ve}=Se.next())}catch(Le){return void ae.error(Le)}Ve?ae.complete():ae.next(Oe)},0,!0)}),()=>(0,De.m)(Se?.return)&&Se.return()})}(Z,L);if((0,K.L)(Z))return function ue(Z,L){return ee((0,K.Q)(Z),L)}(Z,L)}throw(0,D.z)(Z)}(Z,L):(0,f.Xf)(Z)}},8421:(Ue,F,j)=>{"use strict";j.d(F,{Xf:()=>te});var f=j(7582),u=j(1144),J=j(8239),Re=j(9751),_e=j(3670),Ee=j(2206),fe=j(4532),ve=j(6495),ke=j(3260),se=j(576),oe=j(7849),De=j(8822);function te(K){if(K instanceof Re.y)return K;if(null!=K){if((0,_e.c)(K))return function ee(K){return new Re.y(ue=>{const X=K[De.L]();if((0,se.m)(X.subscribe))return X.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(K);if((0,u.z)(K))return function we(K){return new Re.y(ue=>{for(let X=0;X<K.length&&!ue.closed;X++)ue.next(K[X]);ue.complete()})}(K);if((0,J.t)(K))return function be(K){return new Re.y(ue=>{K.then(X=>{ue.closed||(ue.next(X),ue.complete())},X=>ue.error(X)).then(null,oe.h)})}(K);if((0,Ee.D)(K))return ge(K);if((0,ve.T)(K))return function me(K){return new Re.y(ue=>{for(const X of K)if(ue.next(X),ue.closed)return;ue.complete()})}(K);if((0,ke.L)(K))return function O(K){return ge((0,ke.Q)(K))}(K)}throw(0,fe.z)(K)}function ge(K){return new Re.y(ue=>{(function D(K,ue){var X,xe,Z,L;return(0,f.mG)(this,void 0,void 0,function*(){try{for(X=(0,f.KL)(K);!(xe=yield X.next()).done;)if(ue.next(xe.value),ue.closed)return}catch(ae){Z={error:ae}}finally{try{xe&&!xe.done&&(L=X.return)&&(yield L.call(X))}finally{if(Z)throw Z.error}}ue.complete()})})(K,ue).catch(X=>ue.error(X))})}},9646:(Ue,F,j)=>{"use strict";j.d(F,{of:()=>J});var f=j(3269),u=j(2076);function J(...Re){const _e=(0,f.yG)(Re);return(0,u.D)(Re,_e)}},5403:(Ue,F,j)=>{"use strict";j.d(F,{x:()=>u});var f=j(930);function u(Re,_e,Ee,fe,ve){return new J(Re,_e,Ee,fe,ve)}class J extends f.Lv{constructor(_e,Ee,fe,ve,ke,se){super(_e),this.onFinalize=ke,this.shouldUnsubscribe=se,this._next=Ee?function(oe){try{Ee(oe)}catch(De){_e.error(De)}}:super._next,this._error=ve?function(oe){try{ve(oe)}catch(De){_e.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(oe){_e.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},4351:(Ue,F,j)=>{"use strict";j.d(F,{b:()=>J});var f=j(5577),u=j(576);function J(Re,_e){return(0,u.m)(_e)?(0,f.z)(Re,_e,1):(0,f.z)(Re,1)}},9300:(Ue,F,j)=>{"use strict";j.d(F,{h:()=>J});var f=j(4482),u=j(5403);function J(Re,_e){return(0,f.e)((Ee,fe)=>{let ve=0;Ee.subscribe((0,u.x)(fe,ke=>Re.call(_e,ke,ve++)&&fe.next(ke)))})}},4004:(Ue,F,j)=>{"use strict";j.d(F,{U:()=>J});var f=j(4482),u=j(5403);function J(Re,_e){return(0,f.e)((Ee,fe)=>{let ve=0;Ee.subscribe((0,u.x)(fe,ke=>{fe.next(Re.call(_e,ke,ve++))}))})}},9718:(Ue,F,j)=>{"use strict";j.d(F,{h:()=>u});var f=j(4004);function u(J){return(0,f.U)(()=>J)}},8189:(Ue,F,j)=>{"use strict";j.d(F,{J:()=>J});var f=j(5577),u=j(4671);function J(Re=1/0){return(0,f.z)(u.y,Re)}},5577:(Ue,F,j)=>{"use strict";j.d(F,{z:()=>ve});var f=j(4004),u=j(8421),J=j(4482),Re=j(9672),_e=j(5403),fe=j(576);function ve(ke,se,oe=1/0){return(0,fe.m)(se)?ve((De,te)=>(0,f.U)((ee,we)=>se(De,ee,te,we))((0,u.Xf)(ke(De,te))),oe):("number"==typeof se&&(oe=se),(0,J.e)((De,te)=>function Ee(ke,se,oe,De,te,ee,we,be){const me=[];let ge=0,O=0,D=!1;const K=()=>{D&&!me.length&&!ge&&se.complete()},ue=xe=>ge<De?X(xe):me.push(xe),X=xe=>{ee&&se.next(xe),ge++;let Z=!1;(0,u.Xf)(oe(xe,O++)).subscribe((0,_e.x)(se,L=>{te?.(L),ee?ue(L):se.next(L)},()=>{Z=!0},void 0,()=>{if(Z)try{for(ge--;me.length&&ge<De;){const L=me.shift();we?(0,Re.f)(se,we,()=>X(L)):X(L)}K()}catch(L){se.error(L)}}))};return ke.subscribe((0,_e.x)(se,ue,()=>{D=!0,K()})),()=>{be?.()}}(De,te,ke,oe)))}},5698:(Ue,F,j)=>{"use strict";j.d(F,{q:()=>Re});var f=j(515),u=j(4482),J=j(5403);function Re(_e){return _e<=0?()=>f.E:(0,u.e)((Ee,fe)=>{let ve=0;Ee.subscribe((0,J.x)(fe,ke=>{++ve<=_e&&(fe.next(ke),_e<=ve&&fe.complete())}))})}},3410:(Ue,F,j)=>{"use strict";j.d(F,{z:()=>f});const f={setTimeout(u,J,...Re){const{delegate:_e}=f;return _e?.setTimeout?_e.setTimeout(u,J,...Re):setTimeout(u,J,...Re)},clearTimeout(u){const{delegate:J}=f;return(J?.clearTimeout||clearTimeout)(u)},delegate:void 0}},2202:(Ue,F,j)=>{"use strict";j.d(F,{h:()=>u});const u=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ue,F,j)=>{"use strict";j.d(F,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ue,F,j)=>{"use strict";j.d(F,{_6:()=>Ee,jO:()=>Re,yG:()=>_e});var f=j(576),u=j(3532);function J(fe){return fe[fe.length-1]}function Re(fe){return(0,f.m)(J(fe))?fe.pop():void 0}function _e(fe){return(0,u.K)(J(fe))?fe.pop():void 0}function Ee(fe,ve){return"number"==typeof J(fe)?fe.pop():ve}},4742:(Ue,F,j)=>{"use strict";j.d(F,{D:()=>_e});const{isArray:f}=Array,{getPrototypeOf:u,prototype:J,keys:Re}=Object;function _e(fe){if(1===fe.length){const ve=fe[0];if(f(ve))return{args:ve,keys:null};if(function Ee(fe){return fe&&"object"==typeof fe&&u(fe)===J}(ve)){const ke=Re(ve);return{args:ke.map(se=>ve[se]),keys:ke}}}return{args:fe,keys:null}}},8737:(Ue,F,j)=>{"use strict";function f(u,J){if(u){const Re=u.indexOf(J);0<=Re&&u.splice(Re,1)}}j.d(F,{P:()=>f})},3888:(Ue,F,j)=>{"use strict";function f(u){const Re=u(_e=>{Error.call(_e),_e.stack=(new Error).stack});return Re.prototype=Object.create(Error.prototype),Re.prototype.constructor=Re,Re}j.d(F,{d:()=>f})},1810:(Ue,F,j)=>{"use strict";function f(u,J){return u.reduce((Re,_e,Ee)=>(Re[_e]=J[Ee],Re),{})}j.d(F,{n:()=>f})},2806:(Ue,F,j)=>{"use strict";j.d(F,{O:()=>Re,x:()=>J});var f=j(2416);let u=null;function J(_e){if(f.v.useDeprecatedSynchronousErrorHandling){const Ee=!u;if(Ee&&(u={errorThrown:!1,error:null}),_e(),Ee){const{errorThrown:fe,error:ve}=u;if(u=null,fe)throw ve}}else _e()}function Re(_e){f.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=_e)}},9672:(Ue,F,j)=>{"use strict";function f(u,J,Re,_e=0,Ee=!1){const fe=J.schedule(function(){Re(),Ee?u.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(u.add(fe),!Ee)return fe}j.d(F,{f:()=>f})},4671:(Ue,F,j)=>{"use strict";function f(u){return u}j.d(F,{y:()=>f})},1144:(Ue,F,j)=>{"use strict";j.d(F,{z:()=>f});const f=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(Ue,F,j)=>{"use strict";j.d(F,{D:()=>u});var f=j(576);function u(J){return Symbol.asyncIterator&&(0,f.m)(J?.[Symbol.asyncIterator])}},576:(Ue,F,j)=>{"use strict";function f(u){return"function"==typeof u}j.d(F,{m:()=>f})},3670:(Ue,F,j)=>{"use strict";j.d(F,{c:()=>J});var f=j(8822),u=j(576);function J(Re){return(0,u.m)(Re[f.L])}},6495:(Ue,F,j)=>{"use strict";j.d(F,{T:()=>J});var f=j(2202),u=j(576);function J(Re){return(0,u.m)(Re?.[f.h])}},8239:(Ue,F,j)=>{"use strict";j.d(F,{t:()=>u});var f=j(576);function u(J){return(0,f.m)(J?.then)}},3260:(Ue,F,j)=>{"use strict";j.d(F,{L:()=>Re,Q:()=>J});var f=j(7582),u=j(576);function J(_e){return(0,f.FC)(this,arguments,function*(){const fe=_e.getReader();try{for(;;){const{value:ve,done:ke}=yield(0,f.qq)(fe.read());if(ke)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ve)}}finally{fe.releaseLock()}})}function Re(_e){return(0,u.m)(_e?.getReader)}},3532:(Ue,F,j)=>{"use strict";j.d(F,{K:()=>u});var f=j(576);function u(J){return J&&(0,f.m)(J.schedule)}},4482:(Ue,F,j)=>{"use strict";j.d(F,{A:()=>u,e:()=>J});var f=j(576);function u(Re){return(0,f.m)(Re?.lift)}function J(Re){return _e=>{if(u(_e))return _e.lift(function(Ee){try{return Re(Ee,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ue,F,j)=>{"use strict";j.d(F,{Z:()=>Re});var f=j(4004);const{isArray:u}=Array;function Re(_e){return(0,f.U)(Ee=>function J(_e,Ee){return u(Ee)?_e(...Ee):_e(Ee)}(_e,Ee))}},5032:(Ue,F,j)=>{"use strict";function f(){}j.d(F,{Z:()=>f})},9635:(Ue,F,j)=>{"use strict";j.d(F,{U:()=>J,z:()=>u});var f=j(4671);function u(...Re){return J(Re)}function J(Re){return 0===Re.length?f.y:1===Re.length?Re[0]:function(Ee){return Re.reduce((fe,ve)=>ve(fe),Ee)}}},7849:(Ue,F,j)=>{"use strict";j.d(F,{h:()=>J});var f=j(2416),u=j(3410);function J(Re){u.z.setTimeout(()=>{const{onUnhandledError:_e}=f.v;if(!_e)throw Re;_e(Re)})}},4532:(Ue,F,j)=>{"use strict";function f(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(F,{z:()=>f})},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:Ue=>{function F(f,u,J,Re,_e,Ee,fe){try{var ve=f[Ee](fe),ke=ve.value}catch(se){return void J(se)}ve.done?u(ke):Promise.resolve(ke).then(Re,_e)}Ue.exports=function j(f){return function(){var u=this,J=arguments;return new Promise(function(Re,_e){var Ee=f.apply(u,J);function fe(ke){F(Ee,Re,_e,fe,ve,"next",ke)}function ve(ke){F(Ee,Re,_e,fe,ve,"throw",ke)}fe(void 0)})}},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},6521:Ue=>{Ue.exports=function F(j,f){if(f.has(j))throw new TypeError("Cannot initialize the same private elements twice on an object")},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},8912:Ue=>{Ue.exports=function F(j,f){return f.get?f.get.call(j):f.value},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},3448:Ue=>{Ue.exports=function F(j,f,u){if(f.set)f.set.call(j,u);else{if(!f.writable)throw new TypeError("attempted to set read only private field");f.value=u}},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},2625:Ue=>{Ue.exports=function F(j,f){if(j!==f)throw new TypeError("Private static access of wrong provenance")},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},4069:Ue=>{Ue.exports=function F(j,f,u){if(!f.has(j))throw new TypeError("attempted to "+u+" private field on non-instance");return f.get(j)},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},468:(Ue,F,j)=>{var f=j(8912),u=j(4069);Ue.exports=function J(Re,_e){var Ee=u(Re,_e,"get");return f(Re,Ee)},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},9159:(Ue,F,j)=>{var f=j(6521);Ue.exports=function u(J,Re,_e){f(J,Re),Re.set(J,_e)},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},5661:(Ue,F,j)=>{var f=j(3448),u=j(4069);Ue.exports=function J(Re,_e,Ee){var fe=u(Re,_e,"set");return f(Re,fe,Ee),Ee},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},4467:Ue=>{Ue.exports=function F(j,f,u){if(!f.has(j))throw new TypeError("attempted to get private field on non-instance");return u},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},1860:(Ue,F,j)=>{var f=j(6521);Ue.exports=function u(J,Re){f(J,Re),Re.add(J)},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},5764:(Ue,F,j)=>{var f=j(2625);Ue.exports=function u(J,Re,_e){return f(J,Re),_e},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},8416:(Ue,F,j)=>{var f=j(4062);Ue.exports=function u(J,Re,_e){return(Re=f(Re))in J?Object.defineProperty(J,Re,{value:_e,enumerable:!0,configurable:!0,writable:!0}):J[Re]=_e,J},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},5036:(Ue,F,j)=>{var f=j(8698).default;Ue.exports=function u(J,Re){if("object"!==f(J)||null===J)return J;var _e=J[Symbol.toPrimitive];if(void 0!==_e){var Ee=_e.call(J,Re||"default");if("object"!==f(Ee))return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Re?String:Number)(J)},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},4062:(Ue,F,j)=>{var f=j(8698).default,u=j(5036);Ue.exports=function J(Re){var _e=u(Re,"string");return"symbol"===f(_e)?_e:String(_e)},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},8698:Ue=>{function F(j){return Ue.exports=F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports,F(j)}Ue.exports=F,Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},6895:(Ue,F,j)=>{"use strict";j.d(F,{Do:()=>O,EM:()=>Zo,HT:()=>Re,JF:()=>Qs,K0:()=>Ee,Mx:()=>Ms,O5:()=>jn,Ov:()=>Ns,S$:()=>be,V_:()=>ke,Ye:()=>D,b0:()=>ge,bD:()=>ls,ez:()=>Sa,mk:()=>Xr,q:()=>J,sg:()=>Os,w_:()=>_e});var f=j(8256);let u=null;function J(){return u}function Re(k){u||(u=k)}class _e{}const Ee=new f.OlP("DocumentToken");let fe=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=f.Yz7({token:k,factory:function(){return function ve(){return(0,f.LFG)(se)}()},providedIn:"platform"}),k})();const ke=new f.OlP("Location Initialized");let se=(()=>{class k extends fe{constructor(B){super(),this._doc=B,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(B){const Ae=J().getGlobalEventTarget(this._doc,"window");return Ae.addEventListener("popstate",B,!1),()=>Ae.removeEventListener("popstate",B)}onHashChange(B){const Ae=J().getGlobalEventTarget(this._doc,"window");return Ae.addEventListener("hashchange",B,!1),()=>Ae.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,Ae,$e){oe()?this._history.pushState(B,Ae,$e):this._location.hash=$e}replaceState(B,Ae,$e){oe()?this._history.replaceState(B,Ae,$e):this._location.hash=$e}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(Ee))},k.\u0275prov=f.Yz7({token:k,factory:function(){return function De(){return new se((0,f.LFG)(Ee))}()},providedIn:"platform"}),k})();function oe(){return!!window.history.pushState}function te(k,ie){if(0==k.length)return ie;if(0==ie.length)return k;let B=0;return k.endsWith("/")&&B++,ie.startsWith("/")&&B++,2==B?k+ie.substring(1):1==B?k+ie:k+"/"+ie}function ee(k){const ie=k.match(/#|\?|$/),B=ie&&ie.index||k.length;return k.slice(0,B-("/"===k[B-1]?1:0))+k.slice(B)}function we(k){return k&&"?"!==k[0]?"?"+k:k}let be=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=f.Yz7({token:k,factory:function(){return(0,f.f3M)(ge)},providedIn:"root"}),k})();const me=new f.OlP("appBaseHref");let ge=(()=>{class k extends be{constructor(B,Ae){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=Ae??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return te(this._baseHref,B)}path(B=!1){const Ae=this._platformLocation.pathname+we(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&B?`${Ae}${$e}`:Ae}pushState(B,Ae,$e,Ct){const Ot=this.prepareExternalUrl($e+we(Ct));this._platformLocation.pushState(B,Ae,Ot)}replaceState(B,Ae,$e,Ct){const Ot=this.prepareExternalUrl($e+we(Ct));this._platformLocation.replaceState(B,Ae,Ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(fe),f.LFG(me,8))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),O=(()=>{class k extends be{constructor(B,Ae){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=Ae&&(this._baseHref=Ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let Ae=this._platformLocation.hash;return null==Ae&&(Ae="#"),Ae.length>0?Ae.substring(1):Ae}prepareExternalUrl(B){const Ae=te(this._baseHref,B);return Ae.length>0?"#"+Ae:Ae}pushState(B,Ae,$e,Ct){let Ot=this.prepareExternalUrl($e+we(Ct));0==Ot.length&&(Ot=this._platformLocation.pathname),this._platformLocation.pushState(B,Ae,Ot)}replaceState(B,Ae,$e,Ct){let Ot=this.prepareExternalUrl($e+we(Ct));0==Ot.length&&(Ot=this._platformLocation.pathname),this._platformLocation.replaceState(B,Ae,Ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(fe),f.LFG(me,8))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac}),k})(),D=(()=>{class k{constructor(B){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const Ae=this._locationStrategy.getBaseHref();this._basePath=function xe(k){if(new RegExp("^(https?:)?//").test(k)){const[,B]=k.split(/\/\/[^\/]+/);return B}return k}(ee(X(Ae))),this._locationStrategy.onPopState($e=>{this._subject.emit({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,Ae=""){return this.path()==this.normalize(B+we(Ae))}normalize(B){return k.stripTrailingSlash(function ue(k,ie){if(!k||!ie.startsWith(k))return ie;const B=ie.substring(k.length);return""===B||["/",";","?","#"].includes(B[0])?B:ie}(this._basePath,X(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,Ae="",$e=null){this._locationStrategy.pushState($e,"",B,Ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+we(Ae)),$e)}replaceState(B,Ae="",$e=null){this._locationStrategy.replaceState($e,"",B,Ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+we(Ae)),$e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ae=>{this._notifyUrlChangeListeners(Ae.url,Ae.state)})),()=>{const Ae=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(Ae,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",Ae){this._urlChangeListeners.forEach($e=>$e(B,Ae))}subscribe(B,Ae,$e){return this._subject.subscribe({next:B,error:Ae,complete:$e})}}return k.normalizeQueryParams=we,k.joinWithSlash=te,k.stripTrailingSlash=ee,k.\u0275fac=function(B){return new(B||k)(f.LFG(be))},k.\u0275prov=f.Yz7({token:k,factory:function(){return function K(){return new D((0,f.LFG)(be))}()},providedIn:"root"}),k})();function X(k){return k.replace(/\/index.html$/,"")}function Ms(k,ie){ie=encodeURIComponent(ie);for(const B of k.split(";")){const Ae=B.indexOf("="),[$e,Ct]=-1==Ae?[B,""]:[B.slice(0,Ae),B.slice(Ae+1)];if($e.trim()===ie)return decodeURIComponent(Ct)}return null}const kn=/\s+/,Ir=[];let Xr=(()=>{class k{constructor(B,Ae,$e,Ct){this._iterableDiffers=B,this._keyValueDiffers=Ae,this._ngEl=$e,this._renderer=Ct,this.initialClasses=Ir,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(kn):Ir}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(kn):B}ngDoCheck(){for(const Ae of this.initialClasses)this._updateState(Ae,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const Ae of B)this._updateState(Ae,!0);else if(null!=B)for(const Ae of Object.keys(B))this._updateState(Ae,Boolean(B[Ae]));this._applyStateDiff()}_updateState(B,Ae){const $e=this.stateMap.get(B);void 0!==$e?($e.enabled!==Ae&&($e.changed=!0,$e.enabled=Ae),$e.touched=!0):this.stateMap.set(B,{enabled:Ae,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const Ae=B[0],$e=B[1];$e.changed?(this._toggleClass(Ae,$e.enabled),$e.changed=!1):$e.touched||($e.enabled&&this._toggleClass(Ae,!1),this.stateMap.delete(Ae)),$e.touched=!1}}_toggleClass(B,Ae){(B=B.trim()).length>0&&B.split(kn).forEach($e=>{Ae?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),k})();class ao{constructor(ie,B,Ae,$e){this.$implicit=ie,this.ngForOf=B,this.index=Ae,this.count=$e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Os=(()=>{class k{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,Ae,$e){this._viewContainer=B,this._template=Ae,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const Ae=this._viewContainer;B.forEachOperation(($e,Ct,Ot)=>{if(null==$e.previousIndex)Ae.createEmbeddedView(this._template,new ao($e.item,this._ngForOf,-1,-1),null===Ot?void 0:Ot);else if(null==Ot)Ae.remove(null===Ct?void 0:Ct);else if(null!==Ct){const rn=Ae.get(Ct);Ae.move(rn,Ot),Ni(rn,$e)}});for(let $e=0,Ct=Ae.length;$e<Ct;$e++){const rn=Ae.get($e).context;rn.index=$e,rn.count=Ct,rn.ngForOf=this._ngForOf}B.forEachIdentityChange($e=>{Ni(Ae.get($e.currentIndex),$e)})}static ngTemplateContextGuard(B,Ae){return!0}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function Ni(k,ie){k.context.$implicit=ie.item}let jn=(()=>{class k{constructor(B,Ae){this._viewContainer=B,this._context=new ur,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ae}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Di("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Di("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,Ae){return!0}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b),f.Y36(f.Rgc))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class ur{constructor(){this.$implicit=null,this.ngIf=null}}function Di(k,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,f.AaK)(ie)}'.`)}class Jr{createSubscription(ie,B){return ie.subscribe({next:B,error:Ae=>{throw Ae}})}dispose(ie){ie.unsubscribe()}}class Ar{createSubscription(ie,B){return ie.then(B,Ae=>{throw Ae})}dispose(ie){}}const os=new Ar,Fi=new Jr;let Ns=(()=>{class k{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,Ae=>this._updateLatestValue(B,Ae))}_selectStrategy(B){if((0,f.QGY)(B))return os;if((0,f.F4k)(B))return Fi;throw function Xn(k,ie){return new f.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,Ae){B===this._obj&&(this._latestValue=Ae,this._ref.markForCheck())}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.sBO,16))},k.\u0275pipe=f.Yjl({name:"async",type:k,pure:!1,standalone:!0}),k})(),Sa=(()=>{class k{}return k.\u0275fac=function(B){return new(B||k)},k.\u0275mod=f.oAB({type:k}),k.\u0275inj=f.cJS({}),k})();const ls="browser";let Zo=(()=>{class k{}return k.\u0275prov=(0,f.Yz7)({token:k,providedIn:"root",factory:()=>new uo((0,f.LFG)(Ee),window)}),k})();class uo{constructor(ie,B){this.document=ie,this.window=B,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const B=function Yo(k,ie){const B=k.getElementById(ie)||k.getElementsByName(ie)[0];if(B)return B;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const Ae=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let $e=Ae.currentNode;for(;$e;){const Ct=$e.shadowRoot;if(Ct){const Ot=Ct.getElementById(ie)||Ct.querySelector(`[name="${ie}"]`);if(Ot)return Ot}$e=Ae.nextNode()}}return null}(this.document,ie);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(ie){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=ie)}}scrollToElement(ie){const B=ie.getBoundingClientRect(),Ae=B.left+this.window.pageXOffset,$e=B.top+this.window.pageYOffset,Ct=this.offset();this.window.scrollTo(Ae-Ct[0],$e-Ct[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ie=ho(this.window.history)||ho(Object.getPrototypeOf(this.window.history));return!(!ie||!ie.writable&&!ie.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ho(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class Qs{}},8256:(Ue,F,j)=>{"use strict";j.d(F,{tb:()=>fw,AFp:()=>nw,ip1:()=>tw,CZH:()=>p_,hGG:()=>kC,z2F:()=>m_,sBO:()=>yC,Sil:()=>eC,_Vd:()=>wd,EJc:()=>Xb,Xts:()=>Of,SBq:()=>Iu,lqb:()=>kc,qLn:()=>Ll,vpe:()=>Ec,XFs:()=>Ke,OlP:()=>Hr,zs3:()=>hc,ZZ4:()=>Iv,aQg:()=>Dv,soG:()=>g_,YKP:()=>l0,h0i:()=>uf,PXZ:()=>fC,R0b:()=>vl,FiY:()=>Tr,Lbi:()=>Zb,g9A:()=>iw,Qsj:()=>Dg,FYo:()=>sh,JOm:()=>us,tp0:()=>ni,Rgc:()=>sg,dDg:()=>cC,eoX:()=>dw,GfV:()=>ah,s_b:()=>d_,ifc:()=>Ht,MMx:()=>tv,Lck:()=>Ww,eFA:()=>gw,Gpc:()=>O,f3M:()=>et,$WT:()=>ss,MR2:()=>Eu,_c5:()=>OC,c2e:()=>Yb,zSh:()=>th,wAp:()=>Zn,vHH:()=>Z,lri:()=>cw,rWj:()=>uw,D6c:()=>NC,cg1:()=>Jm,kL8:()=>Oy,dqk:()=>dt,Z0I:()=>qt,eJc:()=>dv,CqO:()=>Im,QGY:()=>qu,F4k:()=>Tm,RDi:()=>_u,AaK:()=>be,qOj:()=>Ph,TTD:()=>Ei,_Bn:()=>a0,jDz:()=>u0,xp6:()=>Gg,uIk:()=>gc,ekj:()=>jm,Suo:()=>O0,Xpm:()=>Bn,lG2:()=>hi,Yz7:()=>Nt,cJS:()=>zt,oAB:()=>ki,Yjl:()=>Ms,Y36:()=>pl,_UZ:()=>Wu,qZA:()=>Fh,TgZ:()=>zu,EpF:()=>Mp,n5z:()=>$l,LFG:()=>Be,$8M:()=>ji,$Z:()=>Id,NdJ:()=>Rp,CRH:()=>k0,O4$:()=>Gl,oxw:()=>Op,ALo:()=>A0,lcZ:()=>S0,Q6J:()=>xp,s9C:()=>Rd,DdM:()=>_0,VKq:()=>y0,iGM:()=>M0,KtG:()=>cs,CHM:()=>eo,oJD:()=>Pf,LSH:()=>Mf,P3R:()=>eh,YNc:()=>Sm,_uU:()=>$m,Oqu:()=>zp,hij:()=>Ld,Gf:()=>R0});var f=j(7579),u=j(727),J=j(9751),Re=j(8189),_e=j(8421),Ee=j(515),fe=j(3269),ve=j(2076),se=j(930),oe=j(4482);function te(n,i,...a){if(!0===i)return void n();if(!1===i)return;const c=new se.Hp({next:()=>{c.unsubscribe(),n()}});return(0,_e.Xf)(i(...a)).subscribe(c)}function ee(n){for(let i in n)if(n[i]===ee)return i;throw Error("Could not find renamed property on target object.")}function we(n,i){for(const a in i)i.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=i[a])}function be(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(be).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const a=i.indexOf("\n");return-1===a?i:i.substring(0,a)}function me(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ge=ee({__forward_ref__:ee});function O(n){return n.__forward_ref__=O,n.toString=function(){return be(this())},n}function D(n){return K(n)?n():n}function K(n){return"function"==typeof n&&n.hasOwnProperty(ge)&&n.__forward_ref__===O}function ue(n){return n&&!!n.\u0275providers}const xe="https://g.co/ng/security#xss";class Z extends Error{constructor(i,a){super(L(i,a)),this.code=i}}function L(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function ae(n){return"string"==typeof n?n:null==n?"":String(n)}function nt(n,i){throw new Z(-201,!1)}function qe(n,i){null==n&&function ze(n,i,a,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${a} ${c} ${i} <=Actual]`))}(i,n,null,"!=")}function Nt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function gn(n){return sn(n,Ie)||sn(n,at)}function qt(n){return null!==gn(n)}function sn(n,i){return n.hasOwnProperty(i)?n[i]:null}function ut(n){return n&&(n.hasOwnProperty(Je)||n.hasOwnProperty(bt))?n[Je]:null}const Ie=ee({\u0275prov:ee}),Je=ee({\u0275inj:ee}),at=ee({ngInjectableDef:ee}),bt=ee({ngInjectorDef:ee});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let pt;function $t(n){const i=pt;return pt=n,i}function vn(n,i,a){const c=gn(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Ke.Optional?null:void 0!==i?i:void nt(be(n))}const dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wt={},_n="__NG_DI_FLAG__",Xt="ngTempTokenPath",An="ngTokenPath",Yt=/\n/gm,Un="\u0275",Wn="__source";let yr;function cr(n){const i=yr;return yr=n,i}function fr(n,i=Ke.Default){if(void 0===yr)throw new Z(-203,!1);return null===yr?vn(n,void 0,i):yr.get(n,i&Ke.Optional?null:void 0,i)}function Be(n,i=Ke.Default){return(function Lt(){return pt}()||fr)(D(n),i)}function et(n,i=Ke.Default){return Be(n,It(i))}function It(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gt(n){const i=[];for(let a=0;a<n.length;a++){const c=D(n[a]);if(Array.isArray(c)){if(0===c.length)throw new Z(900,!1);let d,m=Ke.Default;for(let C=0;C<c.length;C++){const R=c[C],U=tt(R);"number"==typeof U?-1===U?d=R.token:m|=U:d=R}i.push(Be(d,m))}else i.push(Be(c))}return i}function en(n,i){return n[_n]=i,n.prototype[_n]=i,n}function tt(n){return n[_n]}function ct(n){return{toString:n}.toString()}var xt=(()=>((xt=xt||{})[xt.OnPush=0]="OnPush",xt[xt.Default=1]="Default",xt))(),Ht=(()=>{return(n=Ht||(Ht={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ht;var n})();const Cn={},En=[],vr=ee({\u0275cmp:ee}),rs=ee({\u0275dir:ee}),Et=ee({\u0275pipe:ee}),mt=ee({\u0275mod:ee}),Bt=ee({\u0275fac:ee}),un=ee({__NG_ELEMENT_ID__:ee});let xn=0;function Bn(n){return ct(()=>{const i=Rs(n),a={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ht.Emulated,id:"c"+xn++,styles:n.styles||En,_:null,schemas:n.schemas||null,tView:null};ao(a);const c=n.dependencies;return a.directiveDefs=Os(c,!1),a.pipeDefs=Os(c,!0),a})}function Pr(n){return kn(n)||Ir(n)}function gr(n){return null!==n}function ki(n){return ct(()=>({type:n.type,bootstrap:n.bootstrap||En,declarations:n.declarations||En,imports:n.imports||En,exports:n.exports||En,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ro(n,i){if(null==n)return Cn;const a={};for(const c in n)if(n.hasOwnProperty(c)){let d=n[c],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),a[d]=c,i&&(i[d]=m)}return a}function hi(n){return ct(()=>{const i=Rs(n);return ao(i),i})}function Ms(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function kn(n){return n[vr]||null}function Ir(n){return n[rs]||null}function Xr(n){return n[Et]||null}function ss(n){const i=kn(n)||Ir(n)||Xr(n);return null!==i&&i.standalone}function ar(n,i){const a=n[mt]||null;if(!a&&!0===i)throw new Error(`Type ${be(n)} does not have '\u0275mod' property.`);return a}function Rs(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||En,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ro(n.inputs,i),outputs:Ro(n.outputs)}}function ao(n){n.features?.forEach(i=>i(n))}function Os(n,i){if(!n)return null;const a=i?Xr:Pr;return()=>("function"==typeof n?n():n).map(c=>a(c)).filter(gr)}const Ni=0,hn=1,jn=2,ur=3,Di=4,_i=5,Fr=6,Li=7,Dr=8,xi=9,Pi=10,Gn=11,Gi=12,$i=13,ks=14,Xn=15,Jr=16,Ar=17,os=18,Fi=19,Ns=20,Ls=21,xr=22,zi=1,Wi=2,Ys=7,qi=8,Fs=9,Ln=10;function si(n){return Array.isArray(n)&&"object"==typeof n[zi]}function Gr(n){return Array.isArray(n)&&!0===n[zi]}function ko(n){return 0!=(4&n.flags)}function as(n){return n.componentOffset>-1}function lo(n){return 1==(1&n.flags)}function Mr(n){return!!n.template}function bo(n){return 0!=(256&n[jn])}function Qs(n,i){return n.hasOwnProperty(Bt)?n[Bt]:null}class Xs{constructor(i,a,c){this.previousValue=i,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ei(){return $r}function $r(n){return n.type.prototype.ngOnChanges&&(n.setInput=ua),Eo}function Eo(){const n=Or(this),i=n?.current;if(i){const a=n.previous;if(a===Cn)n.previous=i;else for(let c in i)a[c]=i[c];n.current=null,this.ngOnChanges(i)}}function ua(n,i,a,c){const d=this.declaredInputs[a],m=Or(n)||function Qo(n,i){return n[ys]=i}(n,{previous:Cn,current:null}),C=m.current||(m.current={}),R=m.previous,U=R[d];C[d]=new Xs(U&&U.currentValue,i,R===Cn),n[c]=i}Ei.ngInherit=!0;const ys="__ngSimpleChanges__";function Or(n){return n[ys]||null}const Ai=function(n,i,a){},ha="svg";function Vr(n){for(;Array.isArray(n);)n=n[Ni];return n}function Vo(n,i){return Vr(i[n])}function oi(n,i){return Vr(i[n.index])}function Ri(n,i){return n.data[i]}function fi(n,i){const a=i[n];return si(a)?a:a[Ni]}function fo(n){return 64==(64&n[jn])}function js(n,i){return null==i?null:n[i]}function Ia(n){n[os]=0}function vs(n,i){n[_i]+=i;let a=n,c=n[ur];for(;null!==c&&(1===i&&1===a[_i]||-1===i&&0===a[_i]);)c[_i]+=i,a=c,c=c[ur]}const Hn={lFrame:So(null),bindingsEnabled:!0};function fa(){return Hn.bindingsEnabled}function jt(){return Hn.lFrame.lView}function rr(){return Hn.lFrame.tView}function eo(n){return Hn.lFrame.contextLView=n,n[Dr]}function cs(n){return Hn.lFrame.contextLView=null,n}function Er(){let n=de();for(;null!==n&&64===n.type;)n=n.parent;return n}function de(){return Hn.lFrame.currentTNode}function Qe(n,i){const a=Hn.lFrame;a.currentTNode=n,a.isParent=i}function ht(){return Hn.lFrame.isParent}function fn(){const n=Hn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function ai(){return Hn.lFrame.bindingIndex++}function Bi(n,i){const a=Hn.lFrame;a.bindingIndex=a.bindingRootIndex=n,Uo(i)}function Uo(n){Hn.lFrame.currentDirectiveIndex=n}function pa(){return Hn.lFrame.currentQueryIndex}function Xa(n){Hn.lFrame.currentQueryIndex=n}function vi(n){const i=n[hn];return 2===i.type?i.declTNode:1===i.type?n[Fr]:null}function ws(n,i,a){if(a&Ke.SkipSelf){let d=i,m=n;for(;!(d=d.parent,null!==d||a&Ke.Host||(d=vi(m),null===d||(m=m[Xn],10&d.type))););if(null===d)return!1;i=d,n=m}const c=Hn.lFrame=Ao();return c.currentTNode=i,c.lView=n,!0}function li(n){const i=Ao(),a=n[hn];Hn.lFrame=i,i.currentTNode=a.firstChild,i.lView=n,i.tView=a,i.contextLView=n,i.bindingIndex=a.bindingStartIndex,i.inI18n=!1}function Ao(){const n=Hn.lFrame,i=null===n?null:n.child;return null===i?So(n):i}function So(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function ga(){const n=Hn.lFrame;return Hn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const po=ga;function Ja(){const n=ga();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zi(){return Hn.lFrame.selectedIndex}function go(n){Hn.lFrame.selectedIndex=n}function ei(){const n=Hn.lFrame;return Ri(n.tView,n.selectedIndex)}function Gl(){Hn.lFrame.currentNamespace=ha}function Ct(n,i){for(let a=i.directiveStart,c=i.directiveEnd;a<c;a++){const m=n.data[a].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:R,ngAfterViewInit:U,ngAfterViewChecked:ne,ngOnDestroy:Te}=m;C&&(n.contentHooks??(n.contentHooks=[])).push(-a,C),R&&((n.contentHooks??(n.contentHooks=[])).push(a,R),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(a,R)),U&&(n.viewHooks??(n.viewHooks=[])).push(-a,U),ne&&((n.viewHooks??(n.viewHooks=[])).push(a,ne),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(a,ne)),null!=Te&&(n.destroyHooks??(n.destroyHooks=[])).push(a,Te)}}function Ot(n,i,a){Qn(n,i,3,a)}function rn(n,i,a,c){(3&n[jn])===a&&Qn(n,i,a,c)}function ir(n,i){let a=n[jn];(3&a)===i&&(a&=2047,a+=1,n[jn]=a)}function Qn(n,i,a,c){const m=c??-1,C=i.length-1;let R=0;for(let U=void 0!==c?65535&n[os]:0;U<C;U++)if("number"==typeof i[U+1]){if(R=i[U],null!=c&&R>=c)break}else i[U]<0&&(n[os]+=65536),(R<m||-1==m)&&(dr(n,a,i,U),n[os]=(4294901760&n[os])+U+2),U++}function dr(n,i,a,c){const d=a[c]<0,m=a[c+1],R=n[d?-a[c]:a[c]];if(d){if(n[jn]>>11<n[os]>>16&&(3&n[jn])===i){n[jn]+=2048,Ai(4,R,m);try{m.call(R)}finally{Ai(5,R,m)}}}else{Ai(4,R,m);try{m.call(R)}finally{Ai(5,R,m)}}}const Jn=-1;class At{constructor(i,a,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ft(n,i,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const m=a[c++],C=a[c++],R=a[c++];n.setAttribute(i,C,R,m)}else{const m=d,C=a[++c];Jo(m)?n.setProperty(i,m,C):n.setAttribute(i,m,C),c++}}return c}function wi(n){return 3===n||4===n||6===n}function Jo(n){return 64===n.charCodeAt(0)}function Ra(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let a=-1;for(let c=0;c<i.length;c++){const d=i[c];"number"==typeof d?a=d:0===a||iu(n,a,d,null,-1===a||2===a?i[++c]:null)}}return n}function iu(n,i,a,c,d){let m=0,C=n.length;if(-1===i)C=-1;else for(;m<n.length;){const R=n[m++];if("number"==typeof R){if(R===i){C=-1;break}if(R>i){C=m-1;break}}}for(;m<n.length;){const R=n[m];if("number"==typeof R)break;if(R===a){if(null===c)return void(null!==d&&(n[m+1]=d));if(c===n[m+1])return void(n[m+2]=d)}m++,null!==c&&m++,null!==d&&m++}-1!==C&&(n.splice(C,0,i),m=C+1),n.splice(m++,0,a),null!==c&&n.splice(m++,0,c),null!==d&&n.splice(m++,0,d)}function el(n){return n!==Jn}function Oa(n){return 32767&n}function ka(n,i){let a=function mo(n){return n>>16}(n),c=i;for(;a>0;)c=c[Xn],a--;return c}let tl=!0;function Na(n){const i=tl;return tl=n,i}const ti=255,qn=5;let ea=0;const bs={};function Tn(n,i){const a=Dn(n,i);if(-1!==a)return a;const c=i[hn];c.firstCreatePass&&(n.injectorIndex=i.length,To(c.data,n),To(i,null),To(c.blueprint,null));const d=bl(n,i),m=n.injectorIndex;if(el(d)){const C=Oa(d),R=ka(d,i),U=R[hn].data;for(let ne=0;ne<8;ne++)i[m+ne]=R[C+ne]|U[C+ne]}return i[m+8]=d,m}function To(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Dn(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function bl(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,c=null,d=i;for(;null!==d;){if(c=_t(d),null===c)return Jn;if(a++,d=d[Xn],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Jn}function jr(n,i,a){!function qr(n,i,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(un)&&(c=a[un]),null==c&&(c=a[un]=ea++);const d=c&ti;i.data[n+(d>>qn)]|=1<<d}(n,i,a)}function ci(n,i,a){if(a&Ke.Optional||void 0!==n)return n;nt()}function ma(n,i,a,c){if(a&Ke.Optional&&void 0===c&&(c=null),!(a&(Ke.Self|Ke.Host))){const d=n[xi],m=$t(void 0);try{return d?d.get(i,c,a&Ke.Optional):vn(i,c,a&Ke.Optional)}finally{$t(m)}}return ci(c,0,a)}function to(n,i,a,c=Ke.Default,d){if(null!==n){if(1024&i[jn]){const C=function zl(n,i,a,c,d){let m=n,C=i;for(;null!==m&&null!==C&&1024&C[jn]&&!(256&C[jn]);){const R=ta(m,C,a,c|Ke.Self,bs);if(R!==bs)return R;let U=m.parent;if(!U){const ne=C[Ls];if(ne){const Te=ne.get(a,bs,c);if(Te!==bs)return Te}U=_t(C),C=C[Xn]}m=U}return d}(n,i,a,c,bs);if(C!==bs)return C}const m=ta(n,i,a,c,bs);if(m!==bs)return m}return ma(i,a,c,d)}function ta(n,i,a,c,d){const m=function Cl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(un)?n[un]:void 0;return"number"==typeof i?i>=0?i&ti:Cs:i}(a);if("function"==typeof m){if(!ws(i,n,c))return c&Ke.Host?ci(d,0,c):ma(i,a,c,d);try{const C=m(c);if(null!=C||c&Ke.Optional)return C;nt()}finally{po()}}else if("number"==typeof m){let C=null,R=Dn(n,i),U=Jn,ne=c&Ke.Host?i[Jr][Fr]:null;for((-1===R||c&Ke.SkipSelf)&&(U=-1===R?bl(n,i):i[R+8],U!==Jn&&Si(c,!1)?(C=i[hn],R=Oa(U),i=ka(U,i)):R=-1);-1!==R;){const Te=i[hn];if(Ho(m,R,Te.data)){const je=Ga(R,i,a,C,c,ne);if(je!==bs)return je}U=i[R+8],U!==Jn&&Si(c,i[hn].data[R+8]===ne)&&Ho(m,R,i)?(C=Te,R=Oa(U),i=ka(U,i)):R=-1}}return d}function Ga(n,i,a,c,d,m){const C=i[hn],R=C.data[n+8],Te=jo(R,C,a,null==c?as(R)&&tl:c!=C&&0!=(3&R.type),d&Ke.Host&&m===R);return null!==Te?Io(i,C,Te,R):bs}function jo(n,i,a,c,d){const m=n.providerIndexes,C=i.data,R=1048575&m,U=n.directiveStart,Te=m>>20,it=d?R+Te:n.directiveEnd;for(let yt=c?R:R+Te;yt<it;yt++){const kt=C[yt];if(yt<U&&a===kt||yt>=U&&kt.type===a)return yt}if(d){const yt=C[U];if(yt&&Mr(yt)&&yt.type===a)return U}return null}function Io(n,i,a,c){let d=n[a];const m=i.data;if(function Rn(n){return n instanceof At}(d)){const C=d;C.resolving&&function Oe(n,i){const a=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Z(-200,`Circular dependency in DI detected for ${n}${a}`)}(function Se(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ae(n)}(m[a]));const R=Na(C.canSeeViewProviders);C.resolving=!0;const U=C.injectImpl?$t(C.injectImpl):null;ws(n,c,Ke.Default);try{d=n[a]=C.factory(void 0,m,n,c),i.firstCreatePass&&a>=c.directiveStart&&function $e(n,i,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:m}=i.type.prototype;if(c){const C=$r(i);(a.preOrderHooks??(a.preOrderHooks=[])).push(n,C),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(n,C)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-n,d),m&&((a.preOrderHooks??(a.preOrderHooks=[])).push(n,m),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(n,m))}(a,m[a],i)}finally{null!==U&&$t(U),Na(R),C.resolving=!1,po()}}return d}function Ho(n,i,a){return!!(a[i+(n>>qn)]&1<<n)}function Si(n,i){return!(n&Ke.Self||n&Ke.Host&&i)}class bi{constructor(i,a){this._tNode=i,this._lView=a}get(i,a,c){return to(this._tNode,this._lView,i,It(c),a)}}function Cs(){return new bi(Er(),jt())}function $l(n){return ct(()=>{const i=n.prototype.constructor,a=i[Bt]||Yi(i),c=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==c;){const m=d[Bt]||Yi(d);if(m&&m!==a)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Yi(n){return K(n)?()=>{const i=Yi(D(n));return i&&i()}:Qs(n)}function _t(n){const i=n[hn],a=i.type;return 2===a?i.declTNode:1===a?n[Fr]:null}function ji(n){return function an(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const a=n.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const m=a[d];if(wi(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(m===i)return a[d+1];d+=2}}}return null}(Er(),n)}const Go="__parameters__";function pi(n,i,a){return ct(()=>{const c=function $a(n){return function(...a){if(n){const c=n(...a);for(const d in c)this[d]=c[d]}}}(i);function d(...m){if(this instanceof d)return c.apply(this,m),this;const C=new d(...m);return R.annotation=C,R;function R(U,ne,Te){const je=U.hasOwnProperty(Go)?U[Go]:Object.defineProperty(U,Go,{value:[]})[Go];for(;je.length<=Te;)je.push(null);return(je[Te]=je[Te]||[]).push(C),U}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class Hr{constructor(i,a){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Nt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Fa(n,i){n.forEach(a=>Array.isArray(a)?Fa(a,i):i(a))}function rl(n,i,a){i>=n.length?n.push(a):n.splice(i,0,a)}function il(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function M(n,i,a){let c=pe(n,i);return c>=0?n[1|c]=a:(c=~c,function T(n,i,a,c){let d=n.length;if(d==i)n.push(a,c);else if(1===d)n.push(c,n[0]),n[0]=a;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=a,n[i+1]=c}}(n,c,i,a)),c}function z(n,i){const a=pe(n,i);if(a>=0)return n[1|a]}function pe(n,i){return function rt(n,i,a){let c=0,d=n.length>>a;for(;d!==c;){const m=c+(d-c>>1),C=n[m<<a];if(i===C)return m<<a;C>i?d=m:c=m+1}return~(d<<a)}(n,i,1)}const Tr=en(pi("Optional"),8),ni=en(pi("SkipSelf"),4);var us=(()=>((us=us||{})[us.Important=1]="Important",us[us.DashCase=2]="DashCase",us))();const Jl=new Map;let wr=0;const ul="__ngContext__";function Is(n,i){si(i)?(n[ul]=i[Ns],function qa(n){Jl.set(n[Ns],n)}(i)):n[ul]=i}let ds;function ts(n,i){return ds(n,i)}function ri(n){const i=n[ur];return Gr(i)?i[ur]:i}function Ci(n){return rc(n[$i])}function dl(n){return rc(n[Di])}function rc(n){for(;null!==n&&!Gr(n);)n=n[Di];return n}function I(n,i,a,c,d){if(null!=c){let m,C=!1;Gr(c)?m=c:si(c)&&(C=!0,c=c[Ni]);const R=Vr(c);0===n&&null!==a?null==d?pu(i,a,R):Ds(i,a,R,d||null,!0):1===n&&null!==a?Ds(i,a,R,d||null,!0):2===n?function Ol(n,i,a){const c=tr(n,i);c&&function sd(n,i,a,c){n.removeChild(i,a,c)}(n,c,i,a)}(i,R,C):3===n&&i.destroyNode(R),null!=m&&function lg(n,i,a,c,d){const m=a[Ys];m!==Vr(a)&&I(i,n,c,m,d);for(let R=Ln;R<a.length;R++){const U=a[R];Ka(U[hn],U,n,i,c,m)}}(i,n,m,a,d)}}function ce(n,i,a){return n.createElement(i,a)}function mr(n,i){const a=n[Fs],c=a.indexOf(i),d=i[ur];512&i[jn]&&(i[jn]&=-513,vs(d,-1)),a.splice(c,1)}function io(n,i){if(n.length<=Ln)return;const a=Ln+i,c=n[a];if(c){const d=c[Ar];null!==d&&d!==n&&mr(d,c),i>0&&(n[a-1][Di]=c[Di]);const m=il(n,Ln+i);!function Me(n,i){Ka(n,i,i[Gn],2,null,null),i[Ni]=null,i[Fr]=null}(c[hn],c);const C=m[Fi];null!==C&&C.detachView(m[hn]),c[ur]=null,c[Di]=null,c[jn]&=-65}return c}function qs(n,i){if(!(128&i[jn])){const a=i[Gn];a.destroyNode&&Ka(n,i,a,3,null,null),function tn(n){let i=n[$i];if(!i)return ic(n[hn],n);for(;i;){let a=null;if(si(i))a=i[$i];else{const c=i[Ln];c&&(a=c)}if(!a){for(;i&&!i[Di]&&i!==n;)si(i)&&ic(i[hn],i),i=i[ur];null===i&&(i=n),si(i)&&ic(i[hn],i),a=i&&i[Di]}i=a}}(i)}}function ic(n,i){if(!(128&i[jn])){i[jn]&=-65,i[jn]|=128,function hu(n,i){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let c=0;c<a.length;c+=2){const d=i[a[c]];if(!(d instanceof At)){const m=a[c+1];if(Array.isArray(m))for(let C=0;C<m.length;C+=2){const R=d[m[C]],U=m[C+1];Ai(4,R,U);try{U.call(R)}finally{Ai(5,R,U)}}else{Ai(4,d,m);try{m.call(d)}finally{Ai(5,d,m)}}}}}(n,i),function yo(n,i){const a=n.cleanup,c=i[Li];let d=-1;if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const C=a[m+3];C>=0?c[d=C]():c[d=-C].unsubscribe(),m+=2}else{const C=c[d=a[m+1]];a[m].call(C)}if(null!==c){for(let m=d+1;m<c.length;m++)(0,c[m])();i[Li]=null}}(n,i),1===i[hn].type&&i[Gn].destroy();const a=i[Ar];if(null!==a&&Gr(i[ur])){a!==i[ur]&&mr(a,i);const c=i[Fi];null!==c&&c.detachView(n)}!function Pc(n){Jl.delete(n[Ns])}(i)}}function Ml(n,i,a){return function fu(n,i,a){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return a[Ni];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:m}=n.data[c.directiveStart+d];if(m===Ht.None||m===Ht.Emulated)return null}return oi(c,a)}}(n,i.parent,a)}function Ds(n,i,a,c,d){n.insertBefore(i,a,c,d)}function pu(n,i,a){n.appendChild(i,a)}function Rl(n,i,a,c,d){null!==c?Ds(n,i,a,c,d):pu(n,i,a)}function tr(n,i){return n.parentNode(i)}let $d,mi,Zd,cd,gf=function pf(n,i,a){return 40&n.type?oi(n,a):null};function zd(n,i,a,c){const d=Ml(n,c,i),m=i[Gn],R=function gu(n,i,a){return gf(n,i,a)}(c.parent||i[Fr],c,i);if(null!=d)if(Array.isArray(a))for(let U=0;U<a.length;U++)Rl(m,d,a[U],R,!1);else Rl(m,d,a,R,!1);void 0!==$d&&$d(m,c,i,a,d)}function Wd(n,i){if(null!==i){const a=i.type;if(3&a)return oi(i,n);if(4&a)return sc(-1,n[i.index]);if(8&a){const c=i.child;if(null!==c)return Wd(n,c);{const d=n[i.index];return Gr(d)?sc(-1,d):Vr(d)}}if(32&a)return ts(i,n)()||Vr(n[i.index]);{const c=mf(n,i);return null!==c?Array.isArray(c)?c[0]:Wd(ri(n[Jr]),c):Wd(n,i.next)}}return null}function mf(n,i){return null!==i?n[Jr][Fr].projection[i.projection]:null}function sc(n,i){const a=Ln+n+1;if(a<i.length){const c=i[a],d=c[hn].firstChild;if(null!==d)return Wd(c,d)}return i[Ys]}function qd(n,i,a,c,d,m,C){for(;null!=a;){const R=c[a.index],U=a.type;if(C&&0===i&&(R&&Is(Vr(R),c),a.flags|=2),32!=(32&a.flags))if(8&U)qd(n,i,a.child,c,d,m,!1),I(i,n,d,R,m);else if(32&U){const ne=ts(a,c);let Te;for(;Te=ne();)I(i,n,d,Te,m);I(i,n,d,R,m)}else 16&U?Rc(n,i,c,a,d,m):I(i,n,d,R,m);a=C?a.projectionNext:a.next}}function Ka(n,i,a,c,d,m){qd(a,c,n.firstChild,i,d,m,!1)}function Rc(n,i,a,c,d,m){const C=a[Jr],U=C[Fr].projection[c.projection];if(Array.isArray(U))for(let ne=0;ne<U.length;ne++)I(i,n,d,U[ne],m);else qd(n,i,U,C[ur],d,m,!0)}function ug(n,i,a){""===a?n.removeAttribute(i,"class"):n.setAttribute(i,"class",a)}function dg(n,i,a){const{mergedAttrs:c,classes:d,styles:m}=a;null!==c&&Ft(n,i,c),null!==d&&ug(n,i,d),null!==m&&function ld(n,i,a){n.setAttribute(i,"style",a)}(n,i,m)}function kl(n){return function mu(){if(void 0===mi&&(mi=null,dt.trustedTypes))try{mi=dt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return mi}()?.createHTML(n)||n}function _u(n){Zd=n}function Yd(){if(void 0===cd&&(cd=null,dt.trustedTypes))try{cd=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cd}function _f(n){return Yd()?.createHTML(n)||n}function Qd(n){return Yd()?.createScriptURL(n)||n}class Xd{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xe})`}}function _r(n){return n instanceof Xd?n.changingThisBreaksApplicationSecurity:n}function yu(n,i){const a=function fg(n){return n instanceof Xd&&n.getTypeName()||null}(n);if(null!=a&&a!==i){if("ResourceURL"===a&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${a} (see ${xe})`)}return a===i}class Cf{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const a=(new window.DOMParser).parseFromString(kl(i),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(i):(a.removeChild(a.firstChild),a)}catch{return null}}}class ud{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const a=this.inertDocument.createElement("template");return a.innerHTML=kl(i),a}}const hd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vu(n){return(n=String(n)).match(hd)?n:"unsafe:"+n}function fl(n){const i={};for(const a of n.split(","))i[a]=!0;return i}function wu(...n){const i={};for(const a of n)for(const c in a)a.hasOwnProperty(c)&&(i[c]=!0);return i}const Ef=fl("area,br,col,hr,img,wbr"),gg=fl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Af=fl("rp,rt"),Sf=wu(Ef,wu(gg,fl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wu(Af,fl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wu(Af,gg)),Tf=fl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),If=wu(Tf,fl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),I_=fl("script,style,template");class hs{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let a=i.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(i){const a=i.nodeName.toLowerCase();if(!Sf.hasOwnProperty(a))return this.sanitizedSomething=!0,!I_.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=i.attributes;for(let d=0;d<c.length;d++){const m=c.item(d),C=m.name,R=C.toLowerCase();if(!If.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let U=m.value;Tf[R]&&(U=vu(U)),this.buf.push(" ",C,'="',bu(U),'"')}return this.buf.push(">"),!0}endElement(i){const a=i.nodeName.toLowerCase();Sf.hasOwnProperty(a)&&!Ef.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(i){this.buf.push(bu(i))}checkClobberedElement(i,a){if(a&&(i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return a}}const Df=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_g=/([^\#-~ |!])/g;function bu(n){return n.replace(/&/g,"&amp;").replace(Df,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(_g,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let va;function Jd(n){return"content"in n&&function pd(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var fs=(()=>((fs=fs||{})[fs.NONE=0]="NONE",fs[fs.HTML=1]="HTML",fs[fs.STYLE=2]="STYLE",fs[fs.SCRIPT=3]="SCRIPT",fs[fs.URL=4]="URL",fs[fs.RESOURCE_URL=5]="RESOURCE_URL",fs))();function Pf(n){const i=Cu();return i?_f(i.sanitize(fs.HTML,n)||""):yu(n,"HTML")?_f(_r(n)):function xf(n,i){let a=null;try{va=va||function bf(n){const i=new ud(n);return function dd(){try{return!!(new window.DOMParser).parseFromString(kl(""),"text/html")}catch{return!1}}()?new Cf(i):i}(n);let c=i?String(i):"";a=va.getInertBodyElement(c);let d=5,m=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=m,m=a.innerHTML,a=va.getInertBodyElement(c)}while(c!==m);return kl((new hs).sanitizeChildren(Jd(a)||a))}finally{if(a){const c=Jd(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(function hl(){return void 0!==Zd?Zd:typeof document<"u"?document:void 0}(),ae(n))}function Mf(n){const i=Cu();return i?i.sanitize(fs.URL,n)||"":yu(n,"URL")?_r(n):vu(ae(n))}function vg(n){const i=Cu();if(i)return Qd(i.sanitize(fs.RESOURCE_URL,n)||"");if(yu(n,"ResourceURL"))return Qd(_r(n));throw new Z(904,!1)}function eh(n,i,a){return function wg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?vg:Mf}(i,a)(n)}function Cu(){const n=jt();return n&&n[Gi]}const Of=new Hr("ENVIRONMENT_INITIALIZER"),bg=new Hr("INJECTOR",-1),Cg=new Hr("INJECTOR_DEF_TYPES");class Nl{get(i,a=Wt){if(a===Wt){const c=new Error(`NullInjectorError: No provider for ${be(i)}!`);throw c.name="NullInjectorError",c}return a}}function Eu(n){return{\u0275providers:n}}function Eg(...n){return{\u0275providers:Ag(0,n),\u0275fromNgModule:!0}}function Ag(n,...i){const a=[],c=new Set;let d;return Fa(i,m=>{const C=m;Za(C,a,[],c)&&(d||(d=[]),d.push(C))}),void 0!==d&&kf(d,a),a}function kf(n,i){for(let a=0;a<n.length;a++){const{providers:d}=n[a];Nf(d,m=>{i.push(m)})}}function Za(n,i,a,c){if(!(n=D(n)))return!1;let d=null,m=ut(n);const C=!m&&kn(n);if(m||C){if(C&&!C.standalone)return!1;d=n}else{const U=n.ngModule;if(m=ut(U),!m)return!1;d=U}const R=c.has(d);if(C){if(R)return!1;if(c.add(d),C.dependencies){const U="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const ne of U)Za(ne,i,a,c)}}else{if(!m)return!1;{if(null!=m.imports&&!R){let ne;c.add(d);try{Fa(m.imports,Te=>{Za(Te,i,a,c)&&(ne||(ne=[]),ne.push(Te))})}finally{}void 0!==ne&&kf(ne,i)}if(!R){const ne=Qs(d)||(()=>new d);i.push({provide:d,useFactory:ne,deps:En},{provide:Cg,useValue:d,multi:!0},{provide:Of,useValue:()=>Be(d),multi:!0})}const U=m.providers;null==U||R||Nf(U,Te=>{i.push(Te)})}}return d!==n&&void 0!==n.providers}function Nf(n,i){for(let a of n)ue(a)&&(a=a.\u0275providers),Array.isArray(a)?Nf(a,i):i(a)}const Sg=ee({provide:String,useValue:ee});function Au(n){return null!==n&&"object"==typeof n&&Sg in n}function wa(n){return"function"==typeof n}const th=new Hr("Set Injector scope."),Su={},Lf={};let nh;function _d(){return void 0===nh&&(nh=new Nl),nh}class kc{}class Ff extends kc{get destroyed(){return this._destroyed}constructor(i,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vf(i,C=>this.processProvider(C)),this.records.set(bg,Tu(void 0,this)),d.has("environment")&&this.records.set(kc,Tu(void 0,this));const m=this.records.get(th);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Cg.multi,En,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const a=cr(this),c=$t(void 0);try{return i()}finally{cr(a),$t(c)}}get(i,a=Wt,c=Ke.Default){this.assertNotDestroyed(),c=It(c);const d=cr(this),m=$t(void 0);try{if(!(c&Ke.SkipSelf)){let R=this.records.get(i);if(void 0===R){const U=function R_(n){return"function"==typeof n||"object"==typeof n&&n instanceof Hr}(i)&&gn(i);R=U&&this.injectableDefInScope(U)?Tu(rh(i),Su):null,this.records.set(i,R)}if(null!=R)return this.hydrate(i,R)}return(c&Ke.Self?_d():this.parent).get(i,a=c&Ke.Optional&&a===Wt?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[Xt]=C[Xt]||[]).unshift(be(i)),d)throw C;return function Xe(n,i,a,c){const d=n[Xt];throw i[Wn]&&d.unshift(i[Wn]),n.message=function Fe(n,i,a,c=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Un?n.slice(2):n;let d=be(i);if(Array.isArray(i))d=i.map(be).join(" -> ");else if("object"==typeof i){let m=[];for(let C in i)if(i.hasOwnProperty(C)){let R=i[C];m.push(C+":"+("string"==typeof R?JSON.stringify(R):be(R)))}d=`{${m.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${n.replace(Yt,"\n  ")}`}("\n"+n.message,d,a,c),n[An]=d,n[Xt]=null,n}(C,i,"R3InjectorError",this.source)}throw C}finally{$t(m),cr(d)}}resolveInjectorInitializers(){const i=cr(this),a=$t(void 0);try{const c=this.get(Of.multi,En,Ke.Self);for(const d of c)d()}finally{cr(i),$t(a)}}toString(){const i=[],a=this.records;for(const c of a.keys())i.push(be(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(i){let a=wa(i=D(i))?i:D(i&&i.provide);const c=function yd(n){return Au(n)?Tu(void 0,n.useValue):Tu(lc(n),Su)}(i);if(wa(i)||!0!==i.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Tu(void 0,Su,!0),d.factory=()=>gt(d.multi),this.records.set(a,d)),a=i,d.multi.push(i)}this.records.set(a,c)}hydrate(i,a){return a.value===Su&&(a.value=Lf,a.value=a.factory()),"object"==typeof a.value&&a.value&&function M_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(i){if(!i.providedIn)return!1;const a=D(i.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function rh(n){const i=gn(n),a=null!==i?i.factory:Qs(n);if(null!==a)return a;if(n instanceof Hr)throw new Z(204,!1);if(n instanceof Function)return function ih(n){const i=n.length;if(i>0)throw function _o(n,i){const a=[];for(let c=0;c<n;c++)a.push(i);return a}(i,"?"),new Z(204,!1);const a=function Vn(n){return n&&(n[Ie]||n[at])||null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new Z(204,!1)}function lc(n,i,a){let c;if(wa(n)){const d=D(n);return Qs(d)||rh(d)}if(Au(n))c=()=>D(n.useValue);else if(function ac(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...gt(n.deps||[]));else if(function oc(n){return!(!n||!n.useExisting)}(n))c=()=>Be(D(n.useExisting));else{const d=D(n&&(n.useClass||n.provide));if(!function Tg(n){return!!n.deps}(n))return Qs(d)||rh(d);c=()=>new d(...gt(n.deps))}return c}function Tu(n,i,a=!1){return{factory:n,value:i,multi:a?[]:void 0}}function Vf(n,i){for(const a of n)Array.isArray(a)?Vf(a,i):a&&ue(a)?Vf(a.\u0275providers,i):i(a)}class vd{}class cc{}class Ig{resolveComponentFactory(i){throw function uc(n){const i=Error(`No component factory found for ${be(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let wd=(()=>{class n{}return n.NULL=new Ig,n})();function Bf(){return dc(Er(),jt())}function dc(n,i){return new Iu(oi(n,i))}let Iu=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Bf,n})();function jf(n){return n instanceof Iu?n.nativeElement:n}class sh{}let Dg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function oh(){const n=jt(),a=fi(Er().index,n);return(si(a)?a:n)[Gn]}(),n})(),O_=(()=>{class n{}return n.\u0275prov=Nt({token:n,providedIn:"root",factory:()=>null}),n})();class ah{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const lh=new ah("15.2.9"),Hf={},ch="ngOriginalError";function Du(n){return n[ch]}class Ll{constructor(){this._console=console}handleError(i){const a=this._findOriginalError(i);this._console.error("ERROR",i),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(i){let a=i&&Du(i);for(;a&&Du(a);)a=Du(a);return a||null}}function ra(n){return n instanceof Function?n():n}function $f(n,i,a){let c=n.length;for(;;){const d=n.indexOf(i,a);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const m=i.length;if(d+m===c||n.charCodeAt(d+m)<=32)return d}a=d+1}}const kg="ng-template";function Ng(n,i,a){let c=0,d=!0;for(;c<n.length;){let m=n[c++];if("string"==typeof m&&d){const C=n[c++];if(a&&"class"===m&&-1!==$f(C.toLowerCase(),i,0))return!0}else{if(1===m){for(;c<n.length&&"string"==typeof(m=n[c++]);)if(m.toLowerCase()===i)return!0;return!1}"number"==typeof m&&(d=!1)}}return!1}function Lg(n){return 4===n.type&&n.value!==kg}function Fg(n,i,a){return i===(4!==n.type||a?n.value:kg)}function k_(n,i,a){let c=4;const d=n.attrs||[],m=function L_(n){for(let i=0;i<n.length;i++)if(wi(n[i]))return i;return n.length}(d);let C=!1;for(let R=0;R<i.length;R++){const U=i[R];if("number"!=typeof U){if(!C)if(4&c){if(c=2|1&c,""!==U&&!Fg(n,U,a)||""===U&&1===i.length){if(ia(c))return!1;C=!0}}else{const ne=8&c?U:i[++R];if(8&c&&null!==n.attrs){if(!Ng(n.attrs,ne,a)){if(ia(c))return!1;C=!0}continue}const je=N_(8&c?"class":U,d,Lg(n),a);if(-1===je){if(ia(c))return!1;C=!0;continue}if(""!==ne){let it;it=je>m?"":d[je+1].toLowerCase();const yt=8&c?it:null;if(yt&&-1!==$f(yt,ne,0)||2&c&&ne!==it){if(ia(c))return!1;C=!0}}}}else{if(!C&&!ia(c)&&!ia(U))return!1;if(C&&ia(U))continue;C=!1,c=U|1&c}}return ia(c)||C}function ia(n){return 0==(1&n)}function N_(n,i,a,c){if(null===i)return-1;let d=0;if(c||!a){let m=!1;for(;d<i.length;){const C=i[d];if(C===n)return d;if(3===C||6===C)m=!0;else{if(1===C||2===C){let R=i[++d];for(;"string"==typeof R;)R=i[++d];continue}if(4===C)break;if(0===C){d+=4;continue}}d+=m?1:2}return-1}return function Bg(n,i){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const c=n[a];if("number"==typeof c)return-1;if(c===i)return a;a++}return-1}(i,n)}function Vg(n,i,a=!1){for(let c=0;c<i.length;c++)if(k_(n,i[c],a))return!0;return!1}function xu(n,i){return n?":not("+i.trim()+")":i}function jg(n){let i=n[0],a=1,c=2,d="",m=!1;for(;a<n.length;){let C=n[a];if("string"==typeof C)if(2&c){const R=n[++a];d+="["+C+(R.length>0?'="'+R+'"':"")+"]"}else 8&c?d+="."+C:4&c&&(d+=" "+C);else""!==d&&!ia(C)&&(i+=xu(m,d),d=""),c=C,m=m||!ia(c);a++}return""!==d&&(i+=xu(m,d)),i}const or={};function Gg(n){$g(rr(),jt(),Zi()+n,!1)}function $g(n,i,a,c){if(!c)if(3==(3&i[jn])){const m=n.preOrderCheckHooks;null!==m&&Ot(i,m,a)}else{const m=n.preOrderHooks;null!==m&&rn(i,m,0,a)}go(a)}function Ed(n,i=null,a=null,c){const d=qg(n,i,a,c);return d.resolveInjectorInitializers(),d}function qg(n,i=null,a=null,c,d=new Set){const m=[a||En,Eg(n)];return c=c||("object"==typeof n?void 0:be(n)),new Ff(m,i||_d(),c||null,d)}let hc=(()=>{class n{static create(a,c){if(Array.isArray(a))return Ed({name:""},c,a,"");{const d=a.name??"";return Ed({name:d},a.parent,a.providers,d)}}}return n.THROW_IF_NOT_FOUND=Wt,n.NULL=new Nl,n.\u0275prov=Nt({token:n,providedIn:"any",factory:()=>Be(bg)}),n.__NG_ELEMENT_ID__=-1,n})();function pl(n,i=Ke.Default){const a=jt();return null===a?Be(n,i):to(Er(),a,D(n),i)}function Id(){throw new Error("invalid")}function _h(n,i){const a=n.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const m=a[c+1];if(-1!==m){const C=n.data[m];Xa(a[c]),C.contentQueries(2,i[m],m)}}}function yh(n,i,a,c,d,m,C,R,U,ne,Te){const je=i.blueprint.slice();return je[Ni]=d,je[jn]=76|c,(null!==Te||n&&1024&n[jn])&&(je[jn]|=1024),Ia(je),je[ur]=je[Xn]=n,je[Dr]=a,je[Pi]=C||n&&n[Pi],je[Gn]=R||n&&n[Gn],je[Gi]=U||n&&n[Gi]||null,je[xi]=ne||n&&n[xi]||null,je[Fr]=m,je[Ns]=function Br(){return wr++}(),je[Ls]=Te,je[Jr]=2==i.type?n[Jr]:je,je}function Bc(n,i,a,c,d){let m=n.data[i];if(null===m)m=function Ru(n,i,a,c,d){const m=de(),C=ht(),U=n.data[i]=function K_(n,i,a,c,d,m){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?m:m&&m.parent,a,i,c,d);return null===n.firstChild&&(n.firstChild=U),null!==m&&(C?null==m.child&&null!==U.parent&&(m.child=U):null===m.next&&(m.next=U,U.prev=m)),U}(n,i,a,c,d),function Oi(){return Hn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=a,m.value=c,m.attrs=d;const C=function Ne(){const n=Hn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();m.injectorIndex=null===C?-1:C.injectorIndex}return Qe(m,!0),m}function jc(n,i,a,c){if(0===a)return-1;const d=i.length;for(let m=0;m<a;m++)i.push(c),n.blueprint.push(c),n.data.push(null);return d}function np(n,i,a){li(i);try{const c=n.viewQuery;null!==c&&hp(1,c,a);const d=n.template;null!==d&&vo(n,i,d,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&_h(n,i),n.staticViewQueries&&hp(2,n.viewQuery,a);const m=n.components;null!==m&&function tm(n,i){for(let a=0;a<i.length;a++)ty(n,i[a])}(i,m)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[jn]&=-5,Ja()}}function vh(n,i,a,c){const d=i[jn];if(128!=(128&d)){li(i);try{Ia(i),function Fn(n){return Hn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&vo(n,i,a,2,c);const C=3==(3&d);if(C){const ne=n.preOrderCheckHooks;null!==ne&&Ot(i,ne,null)}else{const ne=n.preOrderHooks;null!==ne&&rn(i,ne,0,null),ir(i,0)}if(function ey(n){for(let i=Ci(n);null!==i;i=dl(i)){if(!i[Wi])continue;const a=i[Fs];for(let c=0;c<a.length;c++){const d=a[c];512&d[jn]||vs(d[ur],1),d[jn]|=512}}}(i),function J_(n){for(let i=Ci(n);null!==i;i=dl(i))for(let a=Ln;a<i.length;a++){const c=i[a],d=c[hn];fo(c)&&vh(d,c,d.template,c[Dr])}}(i),null!==n.contentQueries&&_h(n,i),C){const ne=n.contentCheckHooks;null!==ne&&Ot(i,ne)}else{const ne=n.contentHooks;null!==ne&&rn(i,ne,1),ir(i,1)}!function ep(n,i){const a=n.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)go(~d);else{const m=d,C=a[++c],R=a[++c];Bi(C,m),R(2,i[m])}}}finally{go(-1)}}(n,i);const R=n.components;null!==R&&function tp(n,i){for(let a=0;a<i.length;a++)cm(n,i[a])}(i,R);const U=n.viewQuery;if(null!==U&&hp(2,U,c),C){const ne=n.viewCheckHooks;null!==ne&&Ot(i,ne)}else{const ne=n.viewHooks;null!==ne&&rn(i,ne,2),ir(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[jn]&=-41,512&i[jn]&&(i[jn]&=-513,vs(i[ur],-1))}finally{Ja()}}}function vo(n,i,a,c,d){const m=Zi(),C=2&c;try{go(-1),C&&i.length>xr&&$g(n,i,xr,!1),Ai(C?2:0,d),a(c,d)}finally{go(m),Ai(C?3:1,d)}}function rp(n,i,a){if(ko(i)){const d=i.directiveEnd;for(let m=i.directiveStart;m<d;m++){const C=n.data[m];C.contentQueries&&C.contentQueries(1,a[m],m)}}}function wh(n,i,a){fa()&&(function op(n,i,a,c){const d=a.directiveStart,m=a.directiveEnd;as(a)&&function up(n,i,a){const c=oi(i,n),d=ku(a),m=n[Pi],C=Sh(n,yh(n,d,null,a.onPush?32:16,c,i,m,m.createRenderer(c,a),null,null,null));n[i.index]=C}(i,a,n.data[d+a.componentOffset]),n.firstCreatePass||Tn(a,i),Is(c,i);const C=a.initialInputs;for(let R=d;R<m;R++){const U=n.data[R],ne=Io(i,n,R,a);Is(ne,i),null!==C&&lm(0,R-d,ne,U,0,C),Mr(U)&&(fi(a.index,i)[Dr]=Io(i,n,R,a))}}(n,i,a,oi(a,i)),64==(64&a.flags)&&Ch(n,i,a))}function Ou(n,i,a=oi){const c=i.localNames;if(null!==c){let d=i.index+1;for(let m=0;m<c.length;m+=2){const C=c[m+1],R=-1===C?a(i,n):n[C];n[d++]=R}}}function ku(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Dd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Dd(n,i,a,c,d,m,C,R,U,ne){const Te=xr+c,je=Te+d,it=function nm(n,i){const a=[];for(let c=0;c<i;c++)a.push(c<n?null:or);return a}(Te,je),yt="function"==typeof ne?ne():ne;return it[hn]={type:n,blueprint:it,template:a,queries:null,viewQuery:R,declTNode:i,data:it.slice().fill(null,Te),bindingStartIndex:Te,expandoStartIndex:je,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:U,consts:yt,incompleteFirstPass:!1}}function rm(n,i,a,c){const d=fp(i);null===a?d.push(c):(d.push(a),n.firstCreatePass&&Ih(n).push(c,d.length-1))}function im(n,i,a,c){for(let d in n)if(n.hasOwnProperty(d)){a=null===a?{}:a;const m=n[d];null===c?bh(a,i,d,m):c.hasOwnProperty(d)&&bh(a,i,c[d],m)}return a}function bh(n,i,a,c){n.hasOwnProperty(a)?n[a].push(i,c):n[a]=[i,c]}function wo(n,i,a,c,d,m,C,R){const U=oi(i,a);let Te,ne=i.inputs;!R&&null!=ne&&(Te=ne[c])?(pc(n,a,Te,c,d),as(i)&&function ip(n,i){const a=fi(i,n);16&a[jn]||(a[jn]|=32)}(a,i.index)):3&i.type&&(c=function Y_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),d=null!=C?C(d,i.value||"",c):d,m.setProperty(U,c,d))}function Lu(n,i,a,c){if(fa()){const d=null===c?null:{"":-1},m=function am(n,i){const a=n.directiveRegistry;let c=null,d=null;if(a)for(let m=0;m<a.length;m++){const C=a[m];if(Vg(i,C.selectors,!1))if(c||(c=[]),Mr(C))if(null!==C.findHostDirectiveDefs){const R=[];d=d||new Map,C.findHostDirectiveDefs(C,R,d),c.unshift(...R,C),ap(n,i,R.length)}else c.unshift(C),ap(n,i,0);else d=d||new Map,C.findHostDirectiveDefs?.(C,c,d),c.push(C)}return null===c?null:[c,d]}(n,a);let C,R;null===m?C=R=null:[C,R]=m,null!==C&&Fu(n,i,a,C,d,R),d&&function lp(n,i,a){if(i){const c=n.localNames=[];for(let d=0;d<i.length;d+=2){const m=a[i[d+1]];if(null==m)throw new Z(-301,!1);c.push(i[d],m)}}}(a,c,d)}a.mergedAttrs=Ra(a.mergedAttrs,a.attrs)}function Fu(n,i,a,c,d,m){for(let ne=0;ne<c.length;ne++)jr(Tn(a,i),n,c[ne].type);!function cp(n,i,a){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+a,n.providerIndexes=i}(a,n.data.length,c.length);for(let ne=0;ne<c.length;ne++){const Te=c[ne];Te.providersResolver&&Te.providersResolver(Te)}let C=!1,R=!1,U=jc(n,i,c.length,null);for(let ne=0;ne<c.length;ne++){const Te=c[ne];a.mergedAttrs=Ra(a.mergedAttrs,Te.hostAttrs),X_(n,a,i,U,Te),Q_(U,Te,d),null!==Te.contentQueries&&(a.flags|=4),(null!==Te.hostBindings||null!==Te.hostAttrs||0!==Te.hostVars)&&(a.flags|=64);const je=Te.type.prototype;!C&&(je.ngOnChanges||je.ngOnInit||je.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(a.index),C=!0),!R&&(je.ngOnChanges||je.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(a.index),R=!0),U++}!function Z_(n,i,a){const d=i.directiveEnd,m=n.data,C=i.attrs,R=[];let U=null,ne=null;for(let Te=i.directiveStart;Te<d;Te++){const je=m[Te],it=a?a.get(je):null,kt=it?it.outputs:null;U=im(je.inputs,Te,U,it?it.inputs:null),ne=im(je.outputs,Te,ne,kt);const Jt=null===U||null===C||Lg(i)?null:Vu(U,Te,C);R.push(Jt)}null!==U&&(U.hasOwnProperty("class")&&(i.flags|=8),U.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=R,i.inputs=U,i.outputs=ne}(n,a,m)}function Ch(n,i,a){const c=a.directiveStart,d=a.directiveEnd,m=a.index,C=function Pa(){return Hn.lFrame.currentDirectiveIndex}();try{go(m);for(let R=c;R<d;R++){const U=n.data[R],ne=i[R];Uo(R),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&fc(U,ne)}}finally{go(-1),Uo(C)}}function fc(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function ap(n,i,a){i.componentOffset=a,(n.components??(n.components=[])).push(i.index)}function Q_(n,i,a){if(a){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)a[i.exportAs[c]]=n;Mr(i)&&(a[""]=n)}}function X_(n,i,a,c,d){n.data[c]=d;const m=d.factory||(d.factory=Qs(d.type)),C=new At(m,Mr(d),pl);n.blueprint[c]=C,a[c]=C,function sp(n,i,a,c,d){const m=d.hostBindings;if(m){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const R=~i.index;(function om(n){let i=n.length;for(;i>0;){const a=n[--i];if("number"==typeof a&&a<0)return a}return 0})(C)!=R&&C.push(R),C.push(a,c,m)}}(n,i,c,jc(n,a,d.hostVars,or),d)}function Ca(n,i,a,c,d,m){const C=oi(n,i);!function xd(n,i,a,c,d,m,C){if(null==m)n.removeAttribute(i,d,a);else{const R=null==C?ae(m):C(m,c||"",d);n.setAttribute(i,d,R,a)}}(i[Gn],C,m,n.value,a,c,d)}function lm(n,i,a,c,d,m){const C=m[i];if(null!==C){const R=c.setInput;for(let U=0;U<C.length;){const ne=C[U++],Te=C[U++],je=C[U++];null!==R?c.setInput(a,je,ne,Te):a[Te]=je}}}function Vu(n,i,a){let c=null,d=0;for(;d<a.length;){const m=a[d];if(0!==m)if(5!==m){if("number"==typeof m)break;if(n.hasOwnProperty(m)){null===c&&(c=[]);const C=n[m];for(let R=0;R<C.length;R+=2)if(C[R]===i){c.push(m,C[R+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Eh(n,i,a,c){return[n,!0,!1,i,null,0,c,a,null,null]}function cm(n,i){const a=fi(i,n);if(fo(a)){const c=a[hn];48&a[jn]?vh(c,a,c.template,a[Dr]):a[_i]>0&&Ah(a)}}function Ah(n){for(let c=Ci(n);null!==c;c=dl(c))for(let d=Ln;d<c.length;d++){const m=c[d];if(fo(m))if(512&m[jn]){const C=m[hn];vh(C,m,C.template,m[Dr])}else m[_i]>0&&Ah(m)}const a=n[hn].components;if(null!==a)for(let c=0;c<a.length;c++){const d=fi(a[c],n);fo(d)&&d[_i]>0&&Ah(d)}}function ty(n,i){const a=fi(i,n),c=a[hn];(function dp(n,i){for(let a=i.length;a<n.blueprint.length;a++)i.push(n.blueprint[a])})(c,a),np(c,a,a[Dr])}function Sh(n,i){return n[$i]?n[ks][Di]=i:n[$i]=i,n[ks]=i,i}function Uu(n){for(;n;){n[jn]|=32;const i=ri(n);if(bo(n)&&!i)return n;n=i}return null}function Th(n,i,a,c=!0){const d=i[Pi];d.begin&&d.begin();try{vh(n,i,n.template,a)}catch(C){throw c&&xh(i,C),C}finally{d.end&&d.end()}}function hp(n,i,a){Xa(0),i(n,a)}function fp(n){return n[Li]||(n[Li]=[])}function Ih(n){return n.cleanup||(n.cleanup=[])}function xh(n,i){const a=n[xi],c=a?a.get(Ll,null):null;c&&c.handleError(i)}function pc(n,i,a,c,d){for(let m=0;m<a.length;){const C=a[m++],R=a[m++],U=i[C],ne=n.data[C];null!==ne.setInput?ne.setInput(U,d,c,R):U[R]=d}}function Bu(n,i,a){let c=a?n.styles:null,d=a?n.classes:null,m=0;if(null!==i)for(let C=0;C<i.length;C++){const R=i[C];"number"==typeof R?m=R:1==m?d=me(d,R):2==m&&(c=me(c,R+": "+i[++C]+";"))}a?n.styles=c:n.stylesWithoutHost=c,a?n.classes=d:n.classesWithoutHost=d}function Fl(n,i,a,c,d=!1){for(;null!==a;){const m=i[a.index];if(null!==m&&c.push(Vr(m)),Gr(m))for(let R=Ln;R<m.length;R++){const U=m[R],ne=U[hn].firstChild;null!==ne&&Fl(U[hn],U,ne,c)}const C=a.type;if(8&C)Fl(n,i,a.child,c);else if(32&C){const R=ts(a,i);let U;for(;U=R();)c.push(U)}else if(16&C){const R=mf(i,a);if(Array.isArray(R))c.push(...R);else{const U=ri(i[Jr]);Fl(U[hn],U,R,c,!0)}}a=d?a.projectionNext:a.next}return c}class gl{get rootNodes(){const i=this._lView,a=i[hn];return Fl(a,i,a.firstChild,[])}constructor(i,a){this._lView=i,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dr]}set context(i){this._lView[Dr]=i}get destroyed(){return 128==(128&this._lView[jn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[ur];if(Gr(i)){const a=i[qi],c=a?a.indexOf(this):-1;c>-1&&(io(i,c),il(a,c))}this._attachedToViewContainer=!1}qs(this._lView[hn],this._lView)}onDestroy(i){rm(this._lView[hn],this._lView,null,i)}markForCheck(){Uu(this._cdRefInjectingView||this._lView)}detach(){this._lView[jn]&=-65}reattach(){this._lView[jn]|=64}detectChanges(){Th(this._lView[hn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dt(n,i){Ka(n,i,i[Gn],2,null,null)}(this._lView[hn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=i}}class hm extends gl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Th(i[hn],i,i[Dr],!1)}checkNoChanges(){}get context(){return null}}class Hc extends wd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const a=kn(i);return new Gc(a,this.ngModule)}}function fm(n){const i=[];for(let a in n)n.hasOwnProperty(a)&&i.push({propName:n[a],templateName:a});return i}class pp{constructor(i,a){this.injector=i,this.parentInjector=a}get(i,a,c){c=It(c);const d=this.injector.get(i,Hf,c);return d!==Hf||a===Hf?d:this.parentInjector.get(i,a,c)}}class Gc extends cc{get inputs(){return fm(this.componentDef.inputs)}get outputs(){return fm(this.componentDef.outputs)}constructor(i,a){super(),this.componentDef=i,this.ngModule=a,this.componentType=i.type,this.selector=function Hg(n){return n.map(jg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!a}create(i,a,c,d){let m=(d=d||this.ngModule)instanceof kc?d:d?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const C=m?new pp(i,m):i,R=C.get(sh,null);if(null===R)throw new Z(407,!1);const U=C.get(O_,null),ne=R.createRenderer(null,this.componentDef),Te=this.componentDef.selectors[0][0]||"div",je=c?function q_(n,i,a){return n.selectRootElement(i,a===Ht.ShadowDom)}(ne,c,this.componentDef.encapsulation):ce(ne,Te,function ny(n){const i=n.toLowerCase();return"svg"===i?ha:"math"===i?"math":null}(Te)),it=this.componentDef.onPush?288:272,yt=Dd(0,null,null,1,0,null,null,null,null,null),kt=yh(null,yt,null,it,null,null,R,ne,U,C,null);let Jt,mn;li(kt);try{const In=this.componentDef;let $n,Kt=null;In.findHostDirectiveDefs?($n=[],Kt=new Map,In.findHostDirectiveDefs(In,$n,Kt),$n.push(In)):$n=[In];const hr=function ry(n,i){const a=n[hn],c=xr;return n[c]=i,Bc(a,c,2,"#host",null)}(kt,je),ns=function iy(n,i,a,c,d,m,C,R){const U=d[hn];!function mp(n,i,a,c){for(const d of n)i.mergedAttrs=Ra(i.mergedAttrs,d.hostAttrs);null!==i.mergedAttrs&&(Bu(i,i.mergedAttrs,!0),null!==a&&dg(c,a,i))}(c,n,i,C);const ne=m.createRenderer(i,a),Te=yh(d,ku(a),null,a.onPush?32:16,d[n.index],n,m,ne,R||null,null,null);return U.firstCreatePass&&ap(U,n,c.length-1),Sh(d,Te),d[n.index]=Te}(hr,je,In,$n,kt,R,ne);mn=Ri(yt,xr),je&&function sy(n,i,a,c){if(c)Ft(n,a,["ng-version",lh.full]);else{const{attrs:d,classes:m}=function F_(n){const i=[],a=[];let c=1,d=2;for(;c<n.length;){let m=n[c];if("string"==typeof m)2===d?""!==m&&i.push(m,n[++c]):8===d&&a.push(m);else{if(!ia(d))break;d=m}c++}return{attrs:i,classes:a}}(i.selectors[0]);d&&Ft(n,a,d),m&&m.length>0&&ug(n,a,m.join(" "))}}(ne,In,je,c),void 0!==a&&function gm(n,i,a){const c=n.projection=[];for(let d=0;d<i.length;d++){const m=a[d];c.push(null!=m?Array.from(m):null)}}(mn,this.ngContentSelectors,a),Jt=function _p(n,i,a,c,d,m){const C=Er(),R=d[hn],U=oi(C,d);Fu(R,d,C,a,null,c);for(let Te=0;Te<a.length;Te++)Is(Io(d,R,C.directiveStart+Te,C),d);Ch(R,d,C),U&&Is(U,d);const ne=Io(d,R,C.directiveStart+C.componentOffset,C);if(n[Dr]=d[Dr]=ne,null!==m)for(const Te of m)Te(ne,i);return rp(R,C,n),ne}(ns,In,$n,Kt,kt,[oy]),np(yt,kt,null)}finally{Ja()}return new gp(this.componentType,Jt,dc(mn,kt),kt,mn)}}class gp extends vd{constructor(i,a,c,d,m){super(),this.location=c,this._rootLView=d,this._tNode=m,this.instance=a,this.hostView=this.changeDetectorRef=new hm(d),this.componentType=i}setInput(i,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[i])){const m=this._rootLView;pc(m[hn],m,d,i,a),Uu(fi(this._tNode.index,m))}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function oy(){const n=Er();Ct(jt()[hn],n)}function Ph(n){let i=function yp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const c=[n];for(;i;){let d;if(Mr(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Z(903,!1);d=i.\u0275dir}if(d){if(a){c.push(d);const C=n;C.inputs=Mh(n.inputs),C.declaredInputs=Mh(n.declaredInputs),C.outputs=Mh(n.outputs);const R=d.hostBindings;R&&cy(n,R);const U=d.viewQuery,ne=d.contentQueries;if(U&&ay(n,U),ne&&ly(n,ne),we(n.inputs,d.inputs),we(n.declaredInputs,d.declaredInputs),we(n.outputs,d.outputs),Mr(d)&&d.data.animation){const Te=n.data;Te.animation=(Te.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let C=0;C<m.length;C++){const R=m[C];R&&R.ngInherit&&R(n),R===Ph&&(a=!1)}}i=Object.getPrototypeOf(i)}!function mm(n){let i=0,a=null;for(let c=n.length-1;c>=0;c--){const d=n[c];d.hostVars=i+=d.hostVars,d.hostAttrs=Ra(d.hostAttrs,a=Ra(a,d.hostAttrs))}}(c)}function Mh(n){return n===Cn?{}:n===En?[]:n}function ay(n,i){const a=n.viewQuery;n.viewQuery=a?(c,d)=>{i(c,d),a(c,d)}:i}function ly(n,i){const a=n.contentQueries;n.contentQueries=a?(c,d,m)=>{i(c,d,m),a(c,d,m)}:i}function cy(n,i){const a=n.hostBindings;n.hostBindings=a?(c,d)=>{i(c,d),a(c,d)}:i}function Pd(n){return!!Ap(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Ap(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ml(n,i,a){return n[i]=a}function Mo(n,i,a){return!Object.is(n[i],a)&&(n[i]=a,!0)}function gc(n,i,a,c){const d=jt();return Mo(d,ai(),i)&&(rr(),Ca(ei(),d,n,i,a,c)),gc}function mc(n,i,a,c){return Mo(n,ai(),a)?i+ae(a)+c:or}function Sm(n,i,a,c,d,m,C,R){const U=jt(),ne=rr(),Te=n+xr,je=ne.firstCreatePass?function Am(n,i,a,c,d,m,C,R,U){const ne=i.consts,Te=Bc(i,n,4,C||null,js(ne,R));Lu(i,a,Te,js(ne,U)),Ct(i,Te);const je=Te.tView=Dd(2,Te,c,d,m,i.directiveRegistry,i.pipeRegistry,null,i.schemas,ne);return null!==i.queries&&(i.queries.template(i,Te),je.queries=i.queries.embeddedTView(Te)),Te}(Te,ne,U,i,a,c,d,m,C):ne.data[Te];Qe(je,!1);const it=U[Gn].createComment("");zd(ne,U,it,je),Is(it,U),Sh(U,U[Te]=Eh(it,U,it,je)),lo(je)&&wh(ne,U,je),null!=C&&Ou(U,je,R)}function xp(n,i,a){const c=jt();return Mo(c,ai(),i)&&wo(rr(),ei(),c,n,i,c[Gn],a,!1),xp}function Md(n,i,a,c,d){const C=d?"class":"style";pc(n,a,i.inputs[C],C,c)}function zu(n,i,a,c){const d=jt(),m=rr(),C=xr+n,R=d[Gn],U=m.firstCreatePass?function Pp(n,i,a,c,d,m){const C=i.consts,U=Bc(i,n,2,c,js(C,d));return Lu(i,a,U,js(C,m)),null!==U.attrs&&Bu(U,U.attrs,!1),null!==U.mergedAttrs&&Bu(U,U.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,U),U}(C,m,d,i,a,c):m.data[C],ne=d[C]=ce(R,i,function Ae(){return Hn.lFrame.currentNamespace}()),Te=lo(U);return Qe(U,!0),dg(R,ne,U),32!=(32&U.flags)&&zd(m,d,ne,U),0===function Js(){return Hn.lFrame.elementDepthCount}()&&Is(ne,d),function Ui(){Hn.lFrame.elementDepthCount++}(),Te&&(wh(m,d,U),rp(m,U,d)),null!==c&&Ou(d,U),zu}function Fh(){let n=Er();ht()?function St(){Hn.lFrame.isParent=!1}():(n=n.parent,Qe(n,!1));const i=n;!function Hs(){Hn.lFrame.elementDepthCount--}();const a=rr();return a.firstCreatePass&&(Ct(a,n),ko(n)&&a.queries.elementEnd(n)),null!=i.classesWithoutHost&&function wn(n){return 0!=(8&n.flags)}(i)&&Md(a,i,jt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function $s(n){return 0!=(16&n.flags)}(i)&&Md(a,i,jt(),i.stylesWithoutHost,!1),Fh}function Wu(n,i,a,c){return zu(n,i,a,c),Fh(),Wu}function Mp(){return jt()}function qu(n){return!!n&&"function"==typeof n.then}function Tm(n){return!!n&&"function"==typeof n.subscribe}const Im=Tm;function Rp(n,i,a,c){const d=jt(),m=rr(),C=Er();return function jh(n,i,a,c,d,m,C){const R=lo(c),ne=n.firstCreatePass&&Ih(n),Te=i[Dr],je=fp(i);let it=!0;if(3&c.type||C){const Jt=oi(c,i),mn=C?C(Jt):Jt,In=je.length,$n=C?hr=>C(Vr(hr[c.index])):c.index;let Kt=null;if(!C&&R&&(Kt=function Bh(n,i,a,c){const d=n.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const C=d[m];if(C===a&&d[m+1]===c){const R=i[Li],U=d[m+2];return R.length>U?R[U]:null}"string"==typeof C&&(m+=2)}return null}(n,i,d,c.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=m,Kt.__ngLastListenerFn__=m,it=!1;else{m=Gh(c,i,Te,m,!1);const hr=a.listen(mn,d,m);je.push(m,hr),ne&&ne.push(d,$n,In,In+1)}}else m=Gh(c,i,Te,m,!1);const yt=c.outputs;let kt;if(it&&null!==yt&&(kt=yt[d])){const Jt=kt.length;if(Jt)for(let mn=0;mn<Jt;mn+=2){const ns=i[kt[mn]][kt[mn+1]].subscribe(m),Zs=je.length;je.push(m,ns),ne&&ne.push(d,c.index,Zs,-(Zs+1))}}}(m,d,d[Gn],C,n,i,c),Rp}function Hh(n,i,a,c){try{return Ai(6,i,a),!1!==a(c)}catch(d){return xh(n,d),!1}finally{Ai(7,i,a)}}function Gh(n,i,a,c,d){return function m(C){if(C===Function)return c;Uu(n.componentOffset>-1?fi(n.index,i):i);let U=Hh(i,a,c,C),ne=m.__ngNextListenerFn__;for(;ne;)U=Hh(i,a,ne,C)&&U,ne=ne.__ngNextListenerFn__;return d&&!1===U&&(C.preventDefault(),C.returnValue=!1),U}}function Op(n=1){return function Ma(n){return(Hn.lFrame.contextLView=function Hl(n,i){for(;n>0;)i=i[Xn],n--;return i}(n,Hn.lFrame.contextLView))[Dr]}(n)}function Rd(n,i,a){return zh(n,"",i,"",a),Rd}function zh(n,i,a,c,d){const m=jt(),C=mc(m,i,a,c);return C!==or&&wo(rr(),ei(),m,n,C,m[Gn],d,!1),zh}function Kh(n,i){return n<<17|i<<2}function Ul(n){return n>>17&32767}function Vp(n){return 2|n}function Kc(n){return(131068&n)>>2}function Up(n,i){return-131069&n|i<<2}function Zh(n){return 1|n}function Bp(n,i,a,c,d){const m=n[a+1],C=null===i;let R=c?Ul(m):Kc(m),U=!1;for(;0!==R&&(!1===U||C);){const Te=n[R+1];Yh(n[R],i)&&(U=!0,n[R+1]=c?Zh(Te):Vp(Te)),R=c?Ul(Te):Kc(Te)}U&&(n[a+1]=c?Vp(m):Zh(m))}function Yh(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&pe(n,i)>=0}function jm(n,i){return function ja(n,i,a,c){const d=jt(),m=rr(),C=function Yn(n){const i=Hn.lFrame,a=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,a}(2);m.firstUpdatePass&&function Hp(n,i,a,c){const d=n.data;if(null===d[a+1]){const m=d[Zi()],C=function by(n,i){return i>=n.expandoStartIndex}(n,a);(function Xh(n,i){return 0!=(n.flags&(i?8:16))})(m,c)&&null===i&&!C&&(i=!1),i=function Fv(n,i,a,c){const d=function Bo(n){const i=Hn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let m=c?i.residualClasses:i.residualStyles;if(null===d)0===(c?i.classBindings:i.styleBindings)&&(a=Qh(a=Hm(null,n,i,a,c),i.attrs,c),m=null);else{const C=i.directiveStylingLast;if(-1===C||n[C]!==d)if(a=Hm(d,n,i,a,c),null===m){let U=function Vv(n,i,a){const c=a?i.classBindings:i.styleBindings;if(0!==Kc(c))return n[Ul(c)]}(n,i,c);void 0!==U&&Array.isArray(U)&&(U=Hm(null,n,i,U[1],c),U=Qh(U,i.attrs,c),function Uv(n,i,a,c){n[Ul(a?i.classBindings:i.styleBindings)]=c}(n,i,c,U))}else m=function Bv(n,i,a){let c;const d=i.directiveEnd;for(let m=1+i.directiveStylingLast;m<d;m++)c=Qh(c,n[m].hostAttrs,a);return Qh(c,i.attrs,a)}(n,i,c)}return void 0!==m&&(c?i.residualClasses=m:i.residualStyles=m),a}(d,m,i,c),function yy(n,i,a,c,d,m){let C=m?i.classBindings:i.styleBindings,R=Ul(C),U=Kc(C);n[c]=a;let Te,ne=!1;if(Array.isArray(a)?(Te=a[1],(null===Te||pe(a,Te)>0)&&(ne=!0)):Te=a,d)if(0!==U){const it=Ul(n[R+1]);n[c+1]=Kh(it,R),0!==it&&(n[it+1]=Up(n[it+1],c)),n[R+1]=function Mm(n,i){return 131071&n|i<<17}(n[R+1],c)}else n[c+1]=Kh(R,0),0!==R&&(n[R+1]=Up(n[R+1],c)),R=c;else n[c+1]=Kh(U,0),0===R?R=c:n[U+1]=Up(n[U+1],c),U=c;ne&&(n[c+1]=Vp(n[c+1])),Bp(n,Te,c,!0),Bp(n,Te,c,!1),function Om(n,i,a,c,d){const m=d?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof i&&pe(m,i)>=0&&(a[c+1]=Zh(a[c+1]))}(i,Te,n,c,m),C=Kh(R,U),m?i.classBindings=C:i.styleBindings=C}(d,m,i,a,C,c)}}(m,n,C,c),i!==or&&Mo(d,C,i)&&function wc(n,i,a,c,d,m,C,R){if(!(3&i.type))return;const U=n.data,ne=U[R+1],Te=function my(n){return 1==(1&n)}(ne)?Zc(U,i,a,d,Kc(ne),C):void 0;$p(Te)||($p(m)||function gy(n){return 2==(2&n)}(ne)&&(m=Zc(U,null,a,d,R,C)),function cg(n,i,a,c,d){if(i)d?n.addClass(a,c):n.removeClass(a,c);else{let m=-1===c.indexOf("-")?void 0:us.DashCase;null==d?n.removeStyle(a,c,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=us.Important),n.setStyle(a,c,d,m))}}(c,C,Vo(Zi(),a),d,m))}(m,m.data[Zi()],d,d[Gn],n,d[C+1]=function Gm(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=be(_r(n)))),n}(i,a),c,C)}(n,i,null,!0),jm}function Hm(n,i,a,c,d){let m=null;const C=a.directiveEnd;let R=a.directiveStylingLast;for(-1===R?R=a.directiveStart:R++;R<C&&(m=i[R],c=Qh(c,m.hostAttrs,d),m!==n);)R++;return null!==n&&(a.directiveStylingLast=R),c}function Qh(n,i,a){const c=a?1:2;let d=-1;if(null!==i)for(let m=0;m<i.length;m++){const C=i[m];"number"==typeof C?d=C:d===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),M(n,C,!!a||i[++m]))}return void 0===n?null:n}function Zc(n,i,a,c,d,m){const C=null===i;let R;for(;d>0;){const U=n[d],ne=Array.isArray(U),Te=ne?U[1]:U,je=null===Te;let it=a[d+1];it===or&&(it=je?En:void 0);let yt=je?z(it,c):Te===c?it:void 0;if(ne&&!$p(yt)&&(yt=z(U,c)),$p(yt)&&(R=yt,C))return R;const kt=n[d+1];d=C?Ul(kt):Kc(kt)}if(null!==i){let U=m?i.residualClasses:i.residualStyles;null!=U&&(R=z(U,c))}return R}function $p(n){return void 0!==n}function $m(n,i=""){const a=jt(),c=rr(),d=n+xr,m=c.firstCreatePass?Bc(c,d,1,i,null):c.data[d],C=a[d]=function p(n,i){return n.createText(i)}(a[Gn],i);zd(c,a,C,m),Qe(m,!1)}function zp(n){return Ld("",n,""),zp}function Ld(n,i,a){const c=jt(),d=mc(c,n,i,a);return d!==or&&function Po(n,i,a){const c=Vo(i,n);!function y(n,i,a){n.setValue(i,a)}(n[Gn],c,a)}(c,Zi(),d),Ld}const yl=void 0;var Hv=["en",[["a","p"],["AM","PM"],yl],[["AM","PM"],yl,yl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yl,"{1} 'at' {0}",yl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ry(n){const a=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Bl={};function Jm(n){const i=function e_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=ky(i);if(a)return a;const c=i.split("-")[0];if(a=ky(c),a)return a;if("en"===c)return Hv;throw new Z(701,!1)}function Oy(n){return Jm(n)[Zn.PluralCase]}function ky(n){return n in Bl||(Bl[n]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[n]),Bl[n]}var Zn=(()=>((Zn=Zn||{})[Zn.LocaleId=0]="LocaleId",Zn[Zn.DayPeriodsFormat=1]="DayPeriodsFormat",Zn[Zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Zn[Zn.DaysFormat=3]="DaysFormat",Zn[Zn.DaysStandalone=4]="DaysStandalone",Zn[Zn.MonthsFormat=5]="MonthsFormat",Zn[Zn.MonthsStandalone=6]="MonthsStandalone",Zn[Zn.Eras=7]="Eras",Zn[Zn.FirstDayOfWeek=8]="FirstDayOfWeek",Zn[Zn.WeekendRange=9]="WeekendRange",Zn[Zn.DateFormat=10]="DateFormat",Zn[Zn.TimeFormat=11]="TimeFormat",Zn[Zn.DateTimeFormat=12]="DateTimeFormat",Zn[Zn.NumberSymbols=13]="NumberSymbols",Zn[Zn.NumberFormats=14]="NumberFormats",Zn[Zn.CurrencyCode=15]="CurrencyCode",Zn[Zn.CurrencySymbol=16]="CurrencySymbol",Zn[Zn.CurrencyName=17]="CurrencyName",Zn[Zn.Currencies=18]="Currencies",Zn[Zn.Directionality=19]="Directionality",Zn[Zn.PluralCase=20]="PluralCase",Zn[Zn.ExtraData=21]="ExtraData",Zn))();const Jc="en-US";let r_=Jc;function Yy(n,i,a,c,d){if(n=D(n),Array.isArray(n))for(let m=0;m<n.length;m++)Yy(n[m],i,a,c,d);else{const m=rr(),C=jt();let R=wa(n)?n:D(n.provide),U=lc(n);const ne=Er(),Te=1048575&ne.providerIndexes,je=ne.directiveStart,it=ne.providerIndexes>>20;if(wa(n)||!n.multi){const yt=new At(U,d,pl),kt=Xy(R,i,d?Te:Te+it,je);-1===kt?(jr(Tn(ne,C),m,R),Qy(m,n,i.length),i.push(R),ne.directiveStart++,ne.directiveEnd++,d&&(ne.providerIndexes+=1048576),a.push(yt),C.push(yt)):(a[kt]=yt,C[kt]=yt)}else{const yt=Xy(R,i,Te+it,je),kt=Xy(R,i,Te,Te+it),mn=kt>=0&&a[kt];if(d&&!mn||!d&&!(yt>=0&&a[yt])){jr(Tn(ne,C),m,R);const In=function zw(n,i,a,c,d){const m=new At(n,a,pl);return m.multi=[],m.index=i,m.componentProviders=0,o0(m,d,c&&!a),m}(d?$w:Gw,a.length,d,c,U);!d&&mn&&(a[kt].providerFactory=In),Qy(m,n,i.length,0),i.push(R),ne.directiveStart++,ne.directiveEnd++,d&&(ne.providerIndexes+=1048576),a.push(In),C.push(In)}else Qy(m,n,yt>-1?yt:kt,o0(a[d?kt:yt],U,!d&&c));!d&&c&&mn&&a[kt].componentProviders++}}}function Qy(n,i,a,c){const d=wa(i),m=function md(n){return!!n.useClass}(i);if(d||m){const U=(m?D(i.useClass):i).prototype.ngOnDestroy;if(U){const ne=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const Te=ne.indexOf(a);-1===Te?ne.push(a,[c,U]):ne[Te+1].push(c,U)}else ne.push(a,U)}}}function o0(n,i,a){return a&&n.componentProviders++,n.multi.push(i)-1}function Xy(n,i,a,c){for(let d=a;d<c;d++)if(i[d]===n)return d;return-1}function Gw(n,i,a,c){return Jy(this.multi,[])}function $w(n,i,a,c){const d=this.multi;let m;if(this.providerFactory){const C=this.providerFactory.componentProviders,R=Io(a,a[hn],this.providerFactory.index,c);m=R.slice(0,C),Jy(d,m);for(let U=C;U<R.length;U++)m.push(R[U])}else m=[],Jy(d,m);return m}function Jy(n,i){for(let a=0;a<n.length;a++)i.push((0,n[a])());return i}function a0(n,i=[]){return a=>{a.providersResolver=(c,d)=>function Hw(n,i,a){const c=rr();if(c.firstCreatePass){const d=Mr(n);Yy(a,c.data,c.blueprint,d,!0),Yy(i,c.data,c.blueprint,d,!1)}}(c,d?d(n):n,i)}}class uf{}class l0{}function Ww(n,i){return new c0(n,i??null)}class c0 extends uf{constructor(i,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hc(this);const c=ar(i);this._bootstrapComponents=ra(c.bootstrap),this._r3Injector=qg(i,a,[{provide:uf,useValue:this},{provide:wd,useValue:this.componentFactoryResolver}],be(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class ev extends l0{constructor(i){super(),this.moduleType=i}create(i){return new c0(this.moduleType,i)}}class qw extends uf{constructor(i,a,c){super(),this.componentFactoryResolver=new Hc(this),this.instance=null;const d=new Ff([...i,{provide:uf,useValue:this},{provide:wd,useValue:this.componentFactoryResolver}],a||_d(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function tv(n,i,a=null){return new qw(n,i,a).injector}let Kw=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=Ag(0,a.type),d=c.length>0?tv([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Nt({token:n,providedIn:"environment",factory:()=>new n(Be(kc))}),n})();function u0(n){n.getStandaloneInjector=i=>i.get(Kw).getOrCreateStandaloneInjector(n)}function _0(n,i,a){const c=fn()+n,d=jt();return d[c]===or?ml(d,c,a?i.call(a):i()):function $c(n,i){return n[i]}(d,c)}function y0(n,i,a,c){return v0(jt(),fn(),n,i,a,c)}function v0(n,i,a,c,d,m){const C=i+a;return Mo(n,C,d)?ml(n,C+1,m?c.call(m,d):c(d)):function rg(n,i){const a=n[i];return a===or?void 0:a}(n,C+1)}function A0(n,i){const a=rr();let c;const d=n+xr;a.firstCreatePass?(c=function db(n,i){if(i)for(let a=i.length-1;a>=0;a--){const c=i[a];if(n===c.name)return c}}(i,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const m=c.factory||(c.factory=Qs(c.type)),C=$t(pl);try{const R=Na(!1),U=m();return Na(R),function fy(n,i,a,c){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),i[a]=c}(a,jt(),d,U),U}finally{$t(C)}}function S0(n,i,a){const c=n+xr,d=jt(),m=function Ki(n,i){return n[i]}(d,c);return function ig(n,i){return n[hn].data[i].pure}(d,c)?v0(d,fn(),i,m.transform,a,m):m.transform(a)}function rv(n){return i=>{setTimeout(n,void 0,i)}}const Ec=class mb extends f.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,a,c){let d=i,m=a||(()=>null),C=c;if(i&&"object"==typeof i){const U=i;d=U.next?.bind(U),m=U.error?.bind(U),C=U.complete?.bind(U)}this.__isAsync&&(m=rv(m),d&&(d=rv(d)),C&&(C=rv(C)));const R=super.subscribe({next:d,error:m,complete:C});return i instanceof u.w0&&i.add(R),R}};function _b(){return this._results[Symbol.iterator]()}class iv{get changes(){return this._changes||(this._changes=new Ec)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=iv.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=_b)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,a){return this._results.reduce(i,a)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,a){const c=this;c.dirty=!1;const d=function As(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Tl(n,i,a){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let d=n[c],m=i[c];if(a&&(d=a(d),m=a(m)),m!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let sg=(()=>{class n{}return n.__NG_ELEMENT_ID__=wb,n})();const yb=sg,vb=class extends yb{constructor(i,a,c){super(),this._declarationLView=i,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(i,a){const c=this._declarationTContainer.tView,d=yh(this._declarationLView,c,i,16,null,c.declTNode,null,null,null,null,a||null);d[Ar]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[Fi];return null!==C&&(d[Fi]=C.createEmbeddedView(c)),np(c,d,i),new gl(d)}};function wb(){return u_(Er(),jt())}function u_(n,i){return 4&n.type?new vb(i,n,dc(n,i)):null}let d_=(()=>{class n{}return n.__NG_ELEMENT_ID__=bb,n})();function bb(){return D0(Er(),jt())}const Cb=d_,T0=class extends Cb{constructor(i,a,c){super(),this._lContainer=i,this._hostTNode=a,this._hostLView=c}get element(){return dc(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const i=bl(this._hostTNode,this._hostLView);if(el(i)){const a=ka(i,this._hostLView),c=Oa(i);return new bi(a[hn].data[c+8],a)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const a=I0(this._lContainer);return null!==a&&a[i]||null}get length(){return this._lContainer.length-Ln}createEmbeddedView(i,a,c){let d,m;"number"==typeof c?d=c:null!=c&&(d=c.index,m=c.injector);const C=i.createEmbeddedView(a||{},m);return this.insert(C,d),C}createComponent(i,a,c,d,m){const C=i&&!function _a(n){return"function"==typeof n}(i);let R;if(C)R=a;else{const je=a||{};R=je.index,c=je.injector,d=je.projectableNodes,m=je.environmentInjector||je.ngModuleRef}const U=C?i:new Gc(kn(i)),ne=c||this.parentInjector;if(!m&&null==U.ngModule){const it=(C?ne:this.parentInjector).get(kc,null);it&&(m=it)}const Te=U.create(ne,d,void 0,m);return this.insert(Te.hostView,R),Te}insert(i,a){const c=i._lView,d=c[hn];if(function Bs(n){return Gr(n[ur])}(c)){const Te=this.indexOf(i);if(-1!==Te)this.detach(Te);else{const je=c[ur],it=new T0(je,je[Fr],je[ur]);it.detach(it.indexOf(i))}}const m=this._adjustIndex(a),C=this._lContainer;!function pn(n,i,a,c){const d=Ln+c,m=a.length;c>0&&(a[d-1][Di]=i),c<m-Ln?(i[Di]=a[d],rl(a,Ln+c,i)):(a.push(i),i[Di]=null),i[ur]=a;const C=i[Ar];null!==C&&a!==C&&function Pn(n,i){const a=n[Fs];i[Jr]!==i[ur][ur][Jr]&&(n[Wi]=!0),null===a?n[Fs]=[i]:a.push(i)}(C,i);const R=i[Fi];null!==R&&R.insertView(n),i[jn]|=64}(d,c,C,m);const R=sc(m,C),U=c[Gn],ne=tr(U,C[Ys]);return null!==ne&&function ot(n,i,a,c,d,m){c[Ni]=d,c[Fr]=i,Ka(n,c,a,1,d,m)}(d,C[Fr],U,c,ne,R),i.attachToViewContainerRef(),rl(sv(C),m,i),i}move(i,a){return this.insert(i,a)}indexOf(i){const a=I0(this._lContainer);return null!==a?a.indexOf(i):-1}remove(i){const a=this._adjustIndex(i,-1),c=io(this._lContainer,a);c&&(il(sv(this._lContainer),a),qs(c[hn],c))}detach(i){const a=this._adjustIndex(i,-1),c=io(this._lContainer,a);return c&&null!=il(sv(this._lContainer),a)?new gl(c):null}_adjustIndex(i,a=0){return i??this.length+a}};function I0(n){return n[qi]}function sv(n){return n[qi]||(n[qi]=[])}function D0(n,i){let a;const c=i[n.index];if(Gr(c))a=c;else{let d;if(8&n.type)d=Vr(c);else{const m=i[Gn];d=m.createComment("");const C=oi(n,i);Ds(m,tr(m,C),d,function od(n,i){return n.nextSibling(i)}(m,C),!1)}i[n.index]=a=Eh(c,i,d,n),Sh(i,a)}return new T0(a,n,i)}class ov{constructor(i){this.queryList=i,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class av{constructor(i=[]){this.queries=i}createEmbeddedView(i){const a=i.queries;if(null!==a){const c=null!==i.contentQueries?i.contentQueries[0]:a.length,d=[];for(let m=0;m<c;m++){const C=a.getByIndex(m);d.push(this.queries[C.indexInDeclarationView].clone())}return new av(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let a=0;a<this.queries.length;a++)null!==F0(i,a).matches&&this.queries[a].setDirty()}}class x0{constructor(i,a,c=null){this.predicate=i,this.flags=a,this.read=c}}class lv{constructor(i=[]){this.queries=i}elementStart(i,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,a)}elementEnd(i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(i)}embeddedTView(i){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,m=this.getByIndex(c).embeddedTView(i,d);m&&(m.indexInDeclarationView=c,null!==a?a.push(m):a=[m])}return null!==a?new lv(a):null}template(i,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,a)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class cv{constructor(i,a=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(i,a){this.isApplyingToNode(a)&&this.matchTNode(i,a)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,a){this.elementStart(i,a)}embeddedTView(i,a){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,a),new cv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const m=c[d];this.matchTNodeWithReadOption(i,a,Eb(a,m)),this.matchTNodeWithReadOption(i,a,jo(a,i,m,!1,!1))}else c===sg?4&a.type&&this.matchTNodeWithReadOption(i,a,-1):this.matchTNodeWithReadOption(i,a,jo(a,i,c,!1,!1))}matchTNodeWithReadOption(i,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Iu||d===d_||d===sg&&4&a.type)this.addMatch(a.index,-2);else{const m=jo(a,i,d,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,c)}}addMatch(i,a){null===this.matches?this.matches=[i,a]:this.matches.push(i,a)}}function Eb(n,i){const a=n.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===i)return a[c+1];return null}function Sb(n,i,a,c){return-1===a?function Ab(n,i){return 11&n.type?dc(n,i):4&n.type?u_(n,i):null}(i,n):-2===a?function Tb(n,i,a){return a===Iu?dc(i,n):a===sg?u_(i,n):a===d_?D0(i,n):void 0}(n,i,c):Io(n,n[hn],a,i)}function P0(n,i,a,c){const d=i[Fi].queries[c];if(null===d.matches){const m=n.data,C=a.matches,R=[];for(let U=0;U<C.length;U+=2){const ne=C[U];R.push(ne<0?null:Sb(i,m[ne],C[U+1],a.metadata.read))}d.matches=R}return d.matches}function uv(n,i,a,c){const d=n.queries.getByIndex(a),m=d.matches;if(null!==m){const C=P0(n,i,d,a);for(let R=0;R<m.length;R+=2){const U=m[R];if(U>0)c.push(C[R/2]);else{const ne=m[R+1],Te=i[-U];for(let je=Ln;je<Te.length;je++){const it=Te[je];it[Ar]===it[ur]&&uv(it[hn],it,ne,c)}if(null!==Te[Fs]){const je=Te[Fs];for(let it=0;it<je.length;it++){const yt=je[it];uv(yt[hn],yt,ne,c)}}}}}return c}function M0(n){const i=jt(),a=rr(),c=pa();Xa(c+1);const d=F0(a,c);if(n.dirty&&function wl(n){return 4==(4&n[jn])}(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const m=d.crossesNgTemplate?uv(a,i,c,[]):P0(a,i,d,c);n.reset(m,jf),n.notifyOnChanges()}return!0}return!1}function R0(n,i,a){const c=rr();c.firstCreatePass&&(L0(c,new x0(n,i,a),-1),2==(2&i)&&(c.staticViewQueries=!0)),N0(c,jt(),i)}function O0(n,i,a,c){const d=rr();if(d.firstCreatePass){const m=Er();L0(d,new x0(i,a,c),m.index),function Db(n,i){const a=n.contentQueries||(n.contentQueries=[]);i!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,i)}(d,n),2==(2&a)&&(d.staticContentQueries=!0)}N0(d,jt(),a)}function k0(){return function Ib(n,i){return n[Fi].queries[i].queryList}(jt(),pa())}function N0(n,i,a){const c=new iv(4==(4&a));rm(n,i,c,c.destroy),null===i[Fi]&&(i[Fi]=new av),i[Fi].queries.push(new ov(c))}function L0(n,i,a){null===n.queries&&(n.queries=new lv),n.queries.track(new cv(i,a))}function F0(n,i){return n.queries.getByIndex(i)}function dv(n){return!!ar(n)}function f_(...n){}const tw=new Hr("Application Initializer");let p_=(()=>{class n{constructor(a){this.appInits=a,this.resolve=f_,this.reject=f_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(qu(m))a.push(m);else if(Im(m)){const C=new Promise((R,U)=>{m.subscribe({complete:R,error:U})});a.push(C)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)(Be(tw,8))},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nw=new Hr("AppId",{providedIn:"root",factory:function rw(){return`${mv()}${mv()}${mv()}`}});function mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iw=new Hr("Platform Initializer"),Zb=new Hr("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Yb=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const g_=new Hr("LocaleId",{providedIn:"root",factory:()=>et(g_,Ke.Optional|Ke.SkipSelf)||function Qb(){return typeof $localize<"u"&&$localize.locale||Jc}()}),Xb=new Hr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Jb{constructor(i,a){this.ngModuleFactory=i,this.componentFactories=a}}let eC=(()=>{class n{compileModuleSync(a){return new ev(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),m=ra(ar(a).declarations).reduce((C,R)=>{const U=kn(R);return U&&C.push(new Gc(U)),C},[]);return new Jb(c,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rC=(()=>Promise.resolve(0))();function _v(n){typeof Zone>"u"?rC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class vl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ec(!1),this.onMicrotaskEmpty=new Ec(!1),this.onStable=new Ec(!1),this.onError=new Ec(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function iC(){let n=dt.requestAnimationFrame,i=dt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function aC(n){const i=()=>{!function oC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vv(n),n.isCheckStableRunning=!0,yv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,m,C,R)=>{try{return aw(n),a.invokeTask(d,m,C,R)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&i(),lw(n)}},onInvoke:(a,c,d,m,C,R,U)=>{try{return aw(n),a.invoke(d,m,C,R,U)}finally{n.shouldCoalesceRunChangeDetection&&i(),lw(n)}},onHasTask:(a,c,d,m)=>{a.hasTask(d,m),c===d&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,vv(n),yv(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,c,d,m)=>(a.handleError(d,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vl.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(vl.isInAngularZone())throw new Z(909,!1)}run(i,a,c){return this._inner.run(i,a,c)}runTask(i,a,c,d){const m=this._inner,C=m.scheduleEventTask("NgZoneEvent: "+d,i,sC,f_,f_);try{return m.runTask(C,a,c)}finally{m.cancelTask(C)}}runGuarded(i,a,c){return this._inner.runGuarded(i,a,c)}runOutsideAngular(i){return this._outer.run(i)}}const sC={};function yv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function aw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lw(n){n._nesting--,yv(n)}class lC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ec,this.onMicrotaskEmpty=new Ec,this.onStable=new Ec,this.onError=new Ec}run(i,a,c){return i.apply(a,c)}runGuarded(i,a,c){return i.apply(a,c)}runOutsideAngular(i){return i()}runTask(i,a,c,d){return i.apply(a,c)}}const cw=new Hr(""),uw=new Hr("");let wv,cC=(()=>{class n{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wv||(function uC(n){wv=n}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vl.assertNotInAngularZone(),_v(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_v(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==m),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return n.\u0275fac=function(a){return new(a||n)(Be(vl),Be(dw),Be(uw))},n.\u0275prov=Nt({token:n,factory:n.\u0275fac}),n})(),dw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return wv?.findTestabilityInTree(this,a,c)??null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ru=!1;let Ju=null;const hw=new Hr("AllowMultipleToken"),bv=new Hr("PlatformDestroyListeners"),fw=new Hr("appBootstrapListener");class fC{constructor(i,a){this.name=i,this.token=a}}function gw(n,i,a=[]){const c=`Platform: ${i}`,d=new Hr(c);return(m=[])=>{let C=Cv();if(!C||C.injector.get(hw,!1)){const R=[...a,...m,{provide:d,useValue:!0}];n?n(R):function pC(n){if(Ju&&!Ju.get(hw,!1))throw new Z(400,!1);Ju=n;const i=n.get(_w);(function pw(n){const i=n.get(iw,null);i&&i.forEach(a=>a())})(n)}(function mw(n=[],i){return hc.create({name:i,providers:[{provide:th,useValue:"platform"},{provide:bv,useValue:new Set([()=>Ju=null])},...n]})}(R,c))}return function mC(n){const i=Cv();if(!i)throw new Z(401,!1);return i}()}}function Cv(){return Ju?.get(_w)??null}let _w=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function vw(n,i){let a;return a="noop"===n?new lC:("zone.js"===n?void 0:n)||new vl(i),a}(c?.ngZone,function yw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(c)),m=[{provide:vl,useValue:d}];return d.run(()=>{const C=hc.create({providers:m,parent:this.injector,name:a.moduleType.name}),R=a.create(C),U=R.injector.get(Ll,null);if(!U)throw new Z(402,!1);return d.runOutsideAngular(()=>{const ne=d.onError.subscribe({next:Te=>{U.handleError(Te)}});R.onDestroy(()=>{__(this._modules,R),ne.unsubscribe()})}),function ww(n,i,a){try{const c=a();return qu(c)?c.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(U,d,()=>{const ne=R.injector.get(p_);return ne.runInitializers(),ne.donePromise.then(()=>(function Fy(n){qe(n,"Expected localeId to be defined"),"string"==typeof n&&(r_=n.toLowerCase().replace(/_/g,"-"))}(R.injector.get(g_,Jc)||Jc),this._moduleDoBootstrap(R),R))})})}bootstrapModule(a,c=[]){const d=bw({},c);return function dC(n,i,a){const c=new ev(a);return Promise.resolve(c)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(a){const c=a.injector.get(m_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Z(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(bv,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(Be(hc))},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function bw(n,i){return Array.isArray(i)?i.reduce(bw,n):{...n,...i}}let m_=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new J.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),C=new J.y(R=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{vl.assertNotInAngularZone(),_v(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const ne=this._zone.onUnstable.subscribe(()=>{vl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{U.unsubscribe(),ne.unsubscribe()}});this.isStable=function ke(...n){const i=(0,fe.yG)(n),a=(0,fe._6)(n,1/0),c=n;return c.length?1===c.length?(0,_e.Xf)(c[0]):(0,Re.J)(a)((0,ve.D)(c,i)):Ee.E}(m,C.pipe(function De(n={}){const{connector:i=(()=>new f.x),resetOnError:a=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=n;return m=>{let C,R,U,ne=0,Te=!1,je=!1;const it=()=>{R?.unsubscribe(),R=void 0},yt=()=>{it(),C=U=void 0,Te=je=!1},kt=()=>{const Jt=C;yt(),Jt?.unsubscribe()};return(0,oe.e)((Jt,mn)=>{ne++,!je&&!Te&&it();const In=U=U??i();mn.add(()=>{ne--,0===ne&&!je&&!Te&&(R=te(kt,d))}),In.subscribe(mn),!C&&ne>0&&(C=new se.Hp({next:$n=>In.next($n),error:$n=>{je=!0,it(),R=te(yt,a,$n),In.error($n)},complete:()=>{Te=!0,it(),R=te(yt,c),In.complete()}}),(0,_e.Xf)(Jt).subscribe(C))})(m)}}()))}bootstrap(a,c){const d=a instanceof cc;if(!this._injector.get(p_).done){!d&&ss(a);throw new Z(405,ru)}let C;C=d?a:this._injector.get(wd).resolveComponentFactory(a),this.componentTypes.push(C.componentType);const R=function hC(n){return n.isBoundToModule}(C)?void 0:this._injector.get(uf),ne=C.create(hc.NULL,[],c||C.selector,R),Te=ne.location.nativeElement,je=ne.injector.get(cw,null);return je?.registerApplication(Te),ne.onDestroy(()=>{this.detachView(ne.hostView),__(this.components,ne),je?.unregisterApplication(Te)}),this._loadComponent(ne),ne}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;__(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(fw,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>__(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Z(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)(Be(vl),Be(kc),Be(Ll))},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function __(n,i){const a=n.indexOf(i);a>-1&&n.splice(a,1)}let yC=(()=>{class n{}return n.__NG_ELEMENT_ID__=vC,n})();function vC(n){return function wC(n,i,a){if(as(n)&&!a){const c=fi(n.index,i);return new gl(c,c)}return 47&n.type?new gl(i[Jr],i):null}(Er(),jt(),16==(16&n))}class Tw{constructor(){}supports(i){return Pd(i)}create(i){return new TC(i)}}const SC=(n,i)=>i;class TC{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||SC}forEachItem(i){let a;for(a=this._itHead;null!==a;a=a._next)i(a)}forEachOperation(i){let a=this._itHead,c=this._removalsHead,d=0,m=null;for(;a||c;){const C=!c||a&&a.currentIndex<Dw(c,d,m)?a:c,R=Dw(C,d,m),U=C.currentIndex;if(C===c)d--,c=c._nextRemoved;else if(a=a._next,null==C.previousIndex)d++;else{m||(m=[]);const ne=R-d,Te=U-d;if(ne!=Te){for(let it=0;it<ne;it++){const yt=it<m.length?m[it]:m[it]=0,kt=yt+it;Te<=kt&&kt<ne&&(m[it]=yt+1)}m[C.previousIndex]=Te-ne}}R!==U&&i(C,R,U)}}forEachPreviousItem(i){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachMovedItem(i){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}forEachIdentityChange(i){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)i(a)}diff(i){if(null==i&&(i=[]),!Pd(i))throw new Z(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,m,C,a=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let R=0;R<this.length;R++)m=i[R],C=this._trackByFn(R,m),null!==a&&Object.is(a.trackById,C)?(c&&(a=this._verifyReinsertion(a,m,C,R)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,C,R),c=!0),a=a._next}else d=0,function Ep(n,i){if(Array.isArray(n))for(let a=0;a<n.length;a++)i(n[a]);else{const a=n[Symbol.iterator]();let c;for(;!(c=a.next()).done;)i(c.value)}}(i,R=>{C=this._trackByFn(d,R),null!==a&&Object.is(a.trackById,C)?(c&&(a=this._verifyReinsertion(a,R,C,d)),Object.is(a.item,R)||this._addIdentityChange(a,R)):(a=this._mismatch(a,R,C,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,a,c,d){let m;return null===i?m=this._itTail:(m=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._reinsertAfter(i,m,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._moveAfter(i,m,d)):i=this._addAfter(new IC(a,c),m,d),i}_verifyReinsertion(i,a,c,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?i=this._reinsertAfter(m,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const a=i._next;this._addToRemovals(this._unlink(i)),i=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,m=i._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(i,a,c),this._addToMoves(i,c),i}_moveAfter(i,a,c){return this._unlink(i),this._insertAfter(i,a,c),this._addToMoves(i,c),i}_addAfter(i,a,c){return this._insertAfter(i,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,a,c){const d=null===a?this._itHead:a._next;return i._next=d,i._prev=a,null===d?this._itTail=i:d._prev=i,null===a?this._itHead=i:a._next=i,null===this._linkedRecords&&(this._linkedRecords=new Iw),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const a=i._prev,c=i._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,i}_addToMoves(i,a){return i.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Iw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,a){return i.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class IC{constructor(i,a){this.item=i,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DC{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const a=i._prevDup,c=i._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Iw{constructor(){this.map=new Map}put(i){const a=i.trackById;let c=this.map.get(a);c||(c=new DC,this.map.set(a,c)),c.add(i)}get(i,a){const d=this.map.get(i);return d?d.get(i,a):null}remove(i){const a=i.trackById;return this.map.get(a).remove(i)&&this.map.delete(a),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dw(n,i,a){const c=n.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+i+d}class xw{constructor(){}supports(i){return i instanceof Map||Ap(i)}create(){return new xC}}class xC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let a;for(a=this._mapHead;null!==a;a=a._next)i(a)}forEachPreviousItem(i){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)i(a)}forEachChangedItem(i){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}diff(i){if(i){if(!(i instanceof Map||Ap(i)))throw new Z(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,a){if(i){const c=i._prev;return a._next=i,a._prev=c,i._prev=a,c&&(c._next=a),i===this._mapHead&&(this._mapHead=a),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(i,a){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,a);const m=d._prev,C=d._next;return m&&(m._next=C),C&&(C._prev=m),d._next=null,d._prev=null,d}const c=new PC(i);return this._records.set(i,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,a){Object.is(a,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=a,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,a){i instanceof Map?i.forEach(a):Object.keys(i).forEach(c=>a(i[c],c))}}class PC{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pw(){return new Iv([new Tw])}let Iv=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||Pw()),deps:[[n,new ni,new Tr]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Z(901,!1)}}return n.\u0275prov=Nt({token:n,providedIn:"root",factory:Pw}),n})();function Mw(){return new Dv([new xw])}let Dv=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||Mw()),deps:[[n,new ni,new Tr]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Z(901,!1)}}return n.\u0275prov=Nt({token:n,providedIn:"root",factory:Mw}),n})();const OC=gw(null,"core",[]);let kC=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(Be(m_))},n.\u0275mod=ki({type:n}),n.\u0275inj=zt({}),n})();function NC(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(Ue,F,j)=>{"use strict";j.d(F,{Dx:()=>bt,b2:()=>Vn,q6:()=>zt});var f=j(6895),u=j(8256);class J extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Re extends J{static makeCurrent(){(0,f.HT)(new Re)}onAndCancel(Xe,Fe,ct){return Xe.addEventListener(Fe,ct,!1),()=>{Xe.removeEventListener(Fe,ct,!1)}}dispatchEvent(Xe,Fe){Xe.dispatchEvent(Fe)}remove(Xe){Xe.parentNode&&Xe.parentNode.removeChild(Xe)}createElement(Xe,Fe){return(Fe=Fe||this.getDefaultDocument()).createElement(Xe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Xe){return Xe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Xe){return Xe instanceof DocumentFragment}getGlobalEventTarget(Xe,Fe){return"window"===Fe?window:"document"===Fe?Xe:"body"===Fe?Xe.body:null}getBaseHref(Xe){const Fe=function Ee(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==Fe?null:function ve(tt){fe=fe||document.createElement("a"),fe.setAttribute("href",tt);const Xe=fe.pathname;return"/"===Xe.charAt(0)?Xe:`/${Xe}`}(Fe)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(Xe){return(0,f.Mx)(document.cookie,Xe)}}let fe,_e=null;const ke=new u.OlP("TRANSITION_ID"),oe=[{provide:u.ip1,useFactory:function se(tt,Xe,Fe){return()=>{Fe.get(u.CZH).donePromise.then(()=>{const ct=(0,f.q)(),xt=Xe.querySelectorAll(`style[ng-transition="${tt}"]`);for(let Ht=0;Ht<xt.length;Ht++)ct.remove(xt[Ht])})}},deps:[ke,f.K0,u.zs3],multi:!0}];let te=(()=>{class tt{build(){return new XMLHttpRequest}}return tt.\u0275fac=function(Fe){return new(Fe||tt)},tt.\u0275prov=u.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const ee=new u.OlP("EventManagerPlugins");let we=(()=>{class tt{constructor(Fe,ct){this._zone=ct,this._eventNameToPlugin=new Map,Fe.forEach(xt=>{xt.manager=this}),this._plugins=Fe.slice().reverse()}addEventListener(Fe,ct,xt){return this._findPluginFor(ct).addEventListener(Fe,ct,xt)}addGlobalEventListener(Fe,ct,xt){return this._findPluginFor(ct).addGlobalEventListener(Fe,ct,xt)}getZone(){return this._zone}_findPluginFor(Fe){const ct=this._eventNameToPlugin.get(Fe);if(ct)return ct;const xt=this._plugins;for(let Ht=0;Ht<xt.length;Ht++){const Cn=xt[Ht];if(Cn.supports(Fe))return this._eventNameToPlugin.set(Fe,Cn),Cn}throw new Error(`No event manager plugin found for event ${Fe}`)}}return tt.\u0275fac=function(Fe){return new(Fe||tt)(u.LFG(ee),u.LFG(u.R0b))},tt.\u0275prov=u.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class be{constructor(Xe){this._doc=Xe}addGlobalEventListener(Xe,Fe,ct){const xt=(0,f.q)().getGlobalEventTarget(this._doc,Xe);if(!xt)throw new Error(`Unsupported event target ${xt} for event ${Fe}`);return this.addEventListener(xt,Fe,ct)}}let me=(()=>{class tt{constructor(){this.usageCount=new Map}addStyles(Fe){for(const ct of Fe)1===this.changeUsageCount(ct,1)&&this.onStyleAdded(ct)}removeStyles(Fe){for(const ct of Fe)0===this.changeUsageCount(ct,-1)&&this.onStyleRemoved(ct)}onStyleRemoved(Fe){}onStyleAdded(Fe){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Fe,ct){const xt=this.usageCount;let Ht=xt.get(Fe)??0;return Ht+=ct,Ht>0?xt.set(Fe,Ht):xt.delete(Fe),Ht}ngOnDestroy(){for(const Fe of this.getAllStyles())this.onStyleRemoved(Fe);this.usageCount.clear()}}return tt.\u0275fac=function(Fe){return new(Fe||tt)},tt.\u0275prov=u.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),ge=(()=>{class tt extends me{constructor(Fe){super(),this.doc=Fe,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Fe){for(const ct of this.hostNodes)this.addStyleToHost(ct,Fe)}onStyleRemoved(Fe){const ct=this.styleRef;ct.get(Fe)?.forEach(Ht=>Ht.remove()),ct.delete(Fe)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Fe){this.hostNodes.add(Fe);for(const ct of this.getAllStyles())this.addStyleToHost(Fe,ct)}removeHost(Fe){this.hostNodes.delete(Fe)}addStyleToHost(Fe,ct){const xt=this.doc.createElement("style");xt.textContent=ct,Fe.appendChild(xt);const Ht=this.styleRef.get(ct);Ht?Ht.push(xt):this.styleRef.set(ct,[xt])}resetHostNodes(){const Fe=this.hostNodes;Fe.clear(),Fe.add(this.doc.head)}}return tt.\u0275fac=function(Fe){return new(Fe||tt)(u.LFG(f.K0))},tt.\u0275prov=u.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const O={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},D=/%COMP%/g,L=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Oe(tt,Xe){return Xe.flat(100).map(Fe=>Fe.replace(D,tt))}function Ve(tt){return Xe=>{if("__ngUnwrap__"===Xe)return tt;!1===tt(Xe)&&(Xe.preventDefault(),Xe.returnValue=!1)}}let Le=(()=>{class tt{constructor(Fe,ct,xt,Ht){this.eventManager=Fe,this.sharedStylesHost=ct,this.appId=xt,this.removeStylesOnCompDestory=Ht,this.rendererByCompId=new Map,this.defaultRenderer=new nt(Fe)}createRenderer(Fe,ct){if(!Fe||!ct)return this.defaultRenderer;const xt=this.getOrCreateRenderer(Fe,ct);return xt instanceof S?xt.applyToHost(Fe):xt instanceof V&&xt.applyStyles(),xt}getOrCreateRenderer(Fe,ct){const xt=this.rendererByCompId;let Ht=xt.get(ct.id);if(!Ht){const Cn=this.eventManager,En=this.sharedStylesHost,vr=this.removeStylesOnCompDestory;switch(ct.encapsulation){case u.ifc.Emulated:Ht=new S(Cn,En,ct,this.appId,vr);break;case u.ifc.ShadowDom:return new G(Cn,En,Fe,ct);default:Ht=new V(Cn,En,ct,vr)}Ht.onDestroy=()=>xt.delete(ct.id),xt.set(ct.id,Ht)}return Ht}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return tt.\u0275fac=function(Fe){return new(Fe||tt)(u.LFG(we),u.LFG(ge),u.LFG(u.AFp),u.LFG(L))},tt.\u0275prov=u.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class nt{constructor(Xe){this.eventManager=Xe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Xe,Fe){return Fe?document.createElementNS(O[Fe]||Fe,Xe):document.createElement(Xe)}createComment(Xe){return document.createComment(Xe)}createText(Xe){return document.createTextNode(Xe)}appendChild(Xe,Fe){(H(Xe)?Xe.content:Xe).appendChild(Fe)}insertBefore(Xe,Fe,ct){Xe&&(H(Xe)?Xe.content:Xe).insertBefore(Fe,ct)}removeChild(Xe,Fe){Xe&&Xe.removeChild(Fe)}selectRootElement(Xe,Fe){let ct="string"==typeof Xe?document.querySelector(Xe):Xe;if(!ct)throw new Error(`The selector "${Xe}" did not match any elements`);return Fe||(ct.textContent=""),ct}parentNode(Xe){return Xe.parentNode}nextSibling(Xe){return Xe.nextSibling}setAttribute(Xe,Fe,ct,xt){if(xt){Fe=xt+":"+Fe;const Ht=O[xt];Ht?Xe.setAttributeNS(Ht,Fe,ct):Xe.setAttribute(Fe,ct)}else Xe.setAttribute(Fe,ct)}removeAttribute(Xe,Fe,ct){if(ct){const xt=O[ct];xt?Xe.removeAttributeNS(xt,Fe):Xe.removeAttribute(`${ct}:${Fe}`)}else Xe.removeAttribute(Fe)}addClass(Xe,Fe){Xe.classList.add(Fe)}removeClass(Xe,Fe){Xe.classList.remove(Fe)}setStyle(Xe,Fe,ct,xt){xt&(u.JOm.DashCase|u.JOm.Important)?Xe.style.setProperty(Fe,ct,xt&u.JOm.Important?"important":""):Xe.style[Fe]=ct}removeStyle(Xe,Fe,ct){ct&u.JOm.DashCase?Xe.style.removeProperty(Fe):Xe.style[Fe]=""}setProperty(Xe,Fe,ct){Xe[Fe]=ct}setValue(Xe,Fe){Xe.nodeValue=Fe}listen(Xe,Fe,ct){return"string"==typeof Xe?this.eventManager.addGlobalEventListener(Xe,Fe,Ve(ct)):this.eventManager.addEventListener(Xe,Fe,Ve(ct))}}function H(tt){return"TEMPLATE"===tt.tagName&&void 0!==tt.content}class G extends nt{constructor(Xe,Fe,ct,xt){super(Xe),this.sharedStylesHost=Fe,this.hostEl=ct,this.shadowRoot=ct.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ht=Oe(xt.id,xt.styles);for(const Cn of Ht){const En=document.createElement("style");En.textContent=Cn,this.shadowRoot.appendChild(En)}}nodeOrShadowRoot(Xe){return Xe===this.hostEl?this.shadowRoot:Xe}appendChild(Xe,Fe){return super.appendChild(this.nodeOrShadowRoot(Xe),Fe)}insertBefore(Xe,Fe,ct){return super.insertBefore(this.nodeOrShadowRoot(Xe),Fe,ct)}removeChild(Xe,Fe){return super.removeChild(this.nodeOrShadowRoot(Xe),Fe)}parentNode(Xe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Xe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class V extends nt{constructor(Xe,Fe,ct,xt,Ht=ct.id){super(Xe),this.sharedStylesHost=Fe,this.removeStylesOnCompDestory=xt,this.rendererUsageCount=0,this.styles=Oe(Ht,ct.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class S extends V{constructor(Xe,Fe,ct,xt,Ht){const Cn=xt+"-"+ct.id;super(Xe,Fe,ct,Ht,Cn),this.contentAttr=function ae(tt){return"_ngcontent-%COMP%".replace(D,tt)}(Cn),this.hostAttr=function Se(tt){return"_nghost-%COMP%".replace(D,tt)}(Cn)}applyToHost(Xe){this.applyStyles(),this.setAttribute(Xe,this.hostAttr,"")}createElement(Xe,Fe){const ct=super.createElement(Xe,Fe);return super.setAttribute(ct,this.contentAttr,""),ct}}let N=(()=>{class tt extends be{constructor(Fe){super(Fe)}supports(Fe){return!0}addEventListener(Fe,ct,xt){return Fe.addEventListener(ct,xt,!1),()=>this.removeEventListener(Fe,ct,xt)}removeEventListener(Fe,ct,xt){return Fe.removeEventListener(ct,xt)}}return tt.\u0275fac=function(Fe){return new(Fe||tt)(u.LFG(f.K0))},tt.\u0275prov=u.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const W=["alt","control","meta","shift"],he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},le={alt:tt=>tt.altKey,control:tt=>tt.ctrlKey,meta:tt=>tt.metaKey,shift:tt=>tt.shiftKey};let Y=(()=>{class tt extends be{constructor(Fe){super(Fe)}supports(Fe){return null!=tt.parseEventName(Fe)}addEventListener(Fe,ct,xt){const Ht=tt.parseEventName(ct),Cn=tt.eventCallback(Ht.fullKey,xt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(Fe,Ht.domEventName,Cn))}static parseEventName(Fe){const ct=Fe.toLowerCase().split("."),xt=ct.shift();if(0===ct.length||"keydown"!==xt&&"keyup"!==xt)return null;const Ht=tt._normalizeKey(ct.pop());let Cn="",En=ct.indexOf("code");if(En>-1&&(ct.splice(En,1),Cn="code."),W.forEach(rs=>{const Et=ct.indexOf(rs);Et>-1&&(ct.splice(Et,1),Cn+=rs+".")}),Cn+=Ht,0!=ct.length||0===Ht.length)return null;const vr={};return vr.domEventName=xt,vr.fullKey=Cn,vr}static matchEventFullKeyCode(Fe,ct){let xt=he[Fe.key]||Fe.key,Ht="";return ct.indexOf("code.")>-1&&(xt=Fe.code,Ht="code."),!(null==xt||!xt)&&(xt=xt.toLowerCase()," "===xt?xt="space":"."===xt&&(xt="dot"),W.forEach(Cn=>{Cn!==xt&&(0,le[Cn])(Fe)&&(Ht+=Cn+".")}),Ht+=xt,Ht===ct)}static eventCallback(Fe,ct,xt){return Ht=>{tt.matchEventFullKeyCode(Ht,Fe)&&xt.runGuarded(()=>ct(Ht))}}static _normalizeKey(Fe){return"esc"===Fe?"escape":Fe}}return tt.\u0275fac=function(Fe){return new(Fe||tt)(u.LFG(f.K0))},tt.\u0275prov=u.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const zt=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:f.bD},{provide:u.g9A,useValue:function Rt(){Re.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Nt(){return(0,u.RDi)(document),document},deps:[]}]),gn=new u.OlP(""),qt=[{provide:u.rWj,useClass:class De{addToWindow(Xe){u.dqk.getAngularTestability=(ct,xt=!0)=>{const Ht=Xe.findTestabilityInTree(ct,xt);if(null==Ht)throw new Error("Could not find testability for element.");return Ht},u.dqk.getAllAngularTestabilities=()=>Xe.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>Xe.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(ct=>{const xt=u.dqk.getAllAngularTestabilities();let Ht=xt.length,Cn=!1;const En=function(vr){Cn=Cn||vr,Ht--,0==Ht&&ct(Cn)};xt.forEach(function(vr){vr.whenStable(En)})})}findTestabilityInTree(Xe,Fe,ct){return null==Fe?null:Xe.getTestability(Fe)??(ct?(0,f.q)().isShadowRoot(Fe)?this.findTestabilityInTree(Xe,Fe.host,!0):this.findTestabilityInTree(Xe,Fe.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],sn=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ut(){return new u.qLn},deps:[]},{provide:ee,useClass:N,multi:!0,deps:[f.K0,u.R0b,u.Lbi]},{provide:ee,useClass:Y,multi:!0,deps:[f.K0]},{provide:Le,useClass:Le,deps:[we,ge,u.AFp,L]},{provide:u.FYo,useExisting:Le},{provide:me,useExisting:ge},{provide:ge,useClass:ge,deps:[f.K0]},{provide:we,useClass:we,deps:[ee,u.R0b]},{provide:f.JF,useClass:te,deps:[]},[]];let Vn=(()=>{class tt{constructor(Fe){}static withServerTransition(Fe){return{ngModule:tt,providers:[{provide:u.AFp,useValue:Fe.appId},{provide:ke,useExisting:u.AFp},oe]}}}return tt.\u0275fac=function(Fe){return new(Fe||tt)(u.LFG(gn,12))},tt.\u0275mod=u.oAB({type:tt}),tt.\u0275inj=u.cJS({providers:[...sn,...qt],imports:[f.ez,u.hGG]}),tt})(),bt=(()=>{class tt{constructor(Fe){this._doc=Fe}getTitle(){return this._doc.title}setTitle(Fe){this._doc.title=Fe||""}}return tt.\u0275fac=function(Fe){return new(Fe||tt)(u.LFG(f.K0))},tt.\u0275prov=u.Yz7({token:tt,factory:function(Fe){let ct=null;return ct=Fe?new Fe:function at(){return new bt((0,u.LFG)(f.K0))}(),ct},providedIn:"root"}),tt})();typeof window<"u"&&window},5087:(Ue,F,j)=>{"use strict";j.d(F,{gz:()=>Us,m2:()=>Gi,F0:()=>ci,rH:()=>to,Bz:()=>Sl,lC:()=>Eo,Xs:()=>qi});var f=j(8256),u=j(2076),J=j(9646),Re=j(1135);const Ee=(0,j(3888).d)(A=>function(){A(this),this.name="EmptyError",this.message="no elements in sequence"});var fe=j(9751),ve=j(4742),ke=j(4671),se=j(3268),oe=j(3269),De=j(1810),te=j(5403),ee=j(9672);function we(...A){const T=(0,oe.yG)(A),b=(0,oe.jO)(A),{args:M,keys:z}=(0,ve.D)(A);if(0===M.length)return(0,u.D)([],T);const pe=new fe.y(function be(A,T,b=ke.y){return M=>{me(T,()=>{const{length:z}=A,pe=new Array(z);let Ce=z,rt=z;for(let Tt=0;Tt<z;Tt++)me(T,()=>{const Zt=(0,u.D)(A[Tt],T);let cn=!1;Zt.subscribe((0,te.x)(M,er=>{pe[Tt]=er,cn||(cn=!0,rt--),rt||M.next(b(pe.slice()))},()=>{--Ce||M.complete()}))},M)},M)}}(M,T,z?Ce=>(0,De.n)(z,Ce):ke.y));return b?pe.pipe((0,se.Z)(b)):pe}function me(A,T,b){A?(0,ee.f)(b,A,T):T()}var ge=j(7272),O=j(8421);function D(A){return new fe.y(T=>{(0,O.Xf)(A()).subscribe(T)})}var K=j(9635),ue=j(576);function X(A,T){const b=(0,ue.m)(A)?A:()=>A,M=z=>z.error(b());return new fe.y(T?z=>T.schedule(M,0,z):M)}var xe=j(515),Z=j(727),L=j(4482);function ae(){return(0,L.e)((A,T)=>{let b=null;A._refCount++;const M=(0,te.x)(T,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(b=null);const z=A._connection,pe=b;b=null,z&&(!pe||z===pe)&&z.unsubscribe(),T.unsubscribe()});A.subscribe(M),M.closed||(b=A.connect())})}class Se extends fe.y{constructor(T,b){super(),this.source=T,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,L.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Z.w0;const b=this.getSubject();T.add(this.source.subscribe((0,te.x)(b,void 0,()=>{this._teardown(),b.complete()},M=>{this._teardown(),b.error(M)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Z.w0.EMPTY)}return T}refCount(){return ae()(this)}}var Oe=j(7579),Ve=j(6895),Le=j(4004);function nt(A,T){return(0,L.e)((b,M)=>{let z=null,pe=0,Ce=!1;const rt=()=>Ce&&!z&&M.complete();b.subscribe((0,te.x)(M,Tt=>{z?.unsubscribe();let Zt=0;const cn=pe++;(0,O.Xf)(A(Tt,cn)).subscribe(z=(0,te.x)(M,er=>M.next(T?T(Tt,er,cn,Zt++):er),()=>{z=null,rt()}))},()=>{Ce=!0,rt()}))})}var ye=j(5698),H=j(9300),G=j(5577);function V(A){return(0,L.e)((T,b)=>{let M=!1;T.subscribe((0,te.x)(b,z=>{M=!0,b.next(z)},()=>{M||b.next(A),b.complete()}))})}function S(A=N){return(0,L.e)((T,b)=>{let M=!1;T.subscribe((0,te.x)(b,z=>{M=!0,b.next(z)},()=>M?b.complete():b.error(A())))})}function N(){return new Ee}function W(A,T){const b=arguments.length>=2;return M=>M.pipe(A?(0,H.h)((z,pe)=>A(z,pe,M)):ke.y,(0,ye.q)(1),b?V(T):S(()=>new Ee))}var he=j(4351);function le(A,T,b){const M=(0,ue.m)(A)||T||b?{next:A,error:T,complete:b}:A;return M?(0,L.e)((z,pe)=>{var Ce;null===(Ce=M.subscribe)||void 0===Ce||Ce.call(M);let rt=!0;z.subscribe((0,te.x)(pe,Tt=>{var Zt;null===(Zt=M.next)||void 0===Zt||Zt.call(M,Tt),pe.next(Tt)},()=>{var Tt;rt=!1,null===(Tt=M.complete)||void 0===Tt||Tt.call(M),pe.complete()},Tt=>{var Zt;rt=!1,null===(Zt=M.error)||void 0===Zt||Zt.call(M,Tt),pe.error(Tt)},()=>{var Tt,Zt;rt&&(null===(Tt=M.unsubscribe)||void 0===Tt||Tt.call(M)),null===(Zt=M.finalize)||void 0===Zt||Zt.call(M)}))}):ke.y}function Y(A){return(0,L.e)((T,b)=>{let pe,M=null,z=!1;M=T.subscribe((0,te.x)(b,void 0,void 0,Ce=>{pe=(0,O.Xf)(A(Ce,Y(A)(T))),M?(M.unsubscribe(),M=null,pe.subscribe(b)):z=!0})),z&&(M.unsubscribe(),M=null,pe.subscribe(b))})}function We(A,T){return(0,L.e)(function He(A,T,b,M,z){return(pe,Ce)=>{let rt=b,Tt=T,Zt=0;pe.subscribe((0,te.x)(Ce,cn=>{const er=Zt++;Tt=rt?A(Tt,cn,er):(rt=!0,cn),M&&Ce.next(Tt)},z&&(()=>{rt&&Ce.next(Tt),Ce.complete()})))}}(A,T,arguments.length>=2,!0))}function qe(A){return A<=0?()=>xe.E:(0,L.e)((T,b)=>{let M=[];T.subscribe((0,te.x)(b,z=>{M.push(z),A<M.length&&M.shift()},()=>{for(const z of M)b.next(z);b.complete()},void 0,()=>{M=null}))})}function ze(A,T){const b=arguments.length>=2;return M=>M.pipe(A?(0,H.h)((z,pe)=>A(z,pe,M)):ke.y,qe(1),b?V(T):S(()=>new Ee))}var Rt=j(9718);function Ut(A){return(0,L.e)((T,b)=>{try{T.subscribe(b)}finally{b.add(A)}})}var Nt=j(8189),Pt=j(1481);const zt="primary",gn=Symbol("RouteTitle");class qt{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const b=this.params[T];return Array.isArray(b)?b[0]:b}return null}getAll(T){if(this.has(T)){const b=this.params[T];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function sn(A){return new qt(A)}function Vn(A,T,b){const M=b.path.split("/");if(M.length>A.length||"full"===b.pathMatch&&(T.hasChildren()||M.length<A.length))return null;const z={};for(let pe=0;pe<M.length;pe++){const Ce=M[pe],rt=A[pe];if(Ce.startsWith(":"))z[Ce.substring(1)]=rt;else if(Ce!==rt.path)return null}return{consumed:A.slice(0,M.length),posParams:z}}function Ie(A,T){const b=A?Object.keys(A):void 0,M=T?Object.keys(T):void 0;if(!b||!M||b.length!=M.length)return!1;let z;for(let pe=0;pe<b.length;pe++)if(z=b[pe],!Je(A[z],T[z]))return!1;return!0}function Je(A,T){if(Array.isArray(A)&&Array.isArray(T)){if(A.length!==T.length)return!1;const b=[...A].sort(),M=[...T].sort();return b.every((z,pe)=>M[pe]===z)}return A===T}function at(A){return Array.prototype.concat.apply([],A)}function bt(A){return A.length>0?A[A.length-1]:null}function pt(A,T){for(const b in A)A.hasOwnProperty(b)&&T(A[b],b)}function Lt(A){return(0,f.CqO)(A)?A:(0,f.QGY)(A)?(0,u.D)(Promise.resolve(A)):(0,J.of)(A)}const $t=!1,vn={exact:function lt(A,T,b){if(!yr(A.segments,T.segments)||!Xt(A.segments,T.segments,b)||A.numberOfChildren!==T.numberOfChildren)return!1;for(const M in T.children)if(!A.children[M]||!lt(A.children[M],T.children[M],b))return!1;return!0},subset:Wt},zn={exact:function st(A,T){return Ie(A,T)},subset:function ln(A,T){return Object.keys(T).length<=Object.keys(A).length&&Object.keys(T).every(b=>Je(A[b],T[b]))},ignored:()=>!0};function dt(A,T,b){return vn[b.paths](A.root,T.root,b.matrixParams)&&zn[b.queryParams](A.queryParams,T.queryParams)&&!("exact"===b.fragment&&A.fragment!==T.fragment)}function Wt(A,T,b){return _n(A,T,T.segments,b)}function _n(A,T,b,M){if(A.segments.length>b.length){const z=A.segments.slice(0,b.length);return!(!yr(z,b)||T.hasChildren()||!Xt(z,b,M))}if(A.segments.length===b.length){if(!yr(A.segments,b)||!Xt(A.segments,b,M))return!1;for(const z in T.children)if(!A.children[z]||!Wt(A.children[z],T.children[z],M))return!1;return!0}{const z=b.slice(0,A.segments.length),pe=b.slice(A.segments.length);return!!(yr(A.segments,z)&&Xt(A.segments,z,M)&&A.children[zt])&&_n(A.children[zt],T,pe,M)}}function Xt(A,T,b){return T.every((M,z)=>zn[b](A[z].parameters,M.parameters))}class An{constructor(T=new Yt([],{}),b={},M=null){this.root=T,this.queryParams=b,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return Ge.serialize(this)}}class Yt{constructor(T,b){this.segments=T,this.children=b,this.parent=null,pt(b,(M,z)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return et(this)}}class Un{constructor(T,b){this.path=T,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=sn(this.parameters)),this._parameterMap}toString(){return xt(this)}}function yr(A,T){return A.length===T.length&&A.every((b,M)=>b.path===T[M].path)}let fr=(()=>{class A{}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:function(){return new Be},providedIn:"root"}),A})();class Be{parse(T){const b=new un(T);return new An(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(T){const b=`/${It(T.root,!0)}`,M=function Cn(A){const T=Object.keys(A).map(b=>{const M=A[b];return Array.isArray(M)?M.map(z=>`${en(b)}=${en(z)}`).join("&"):`${en(b)}=${en(M)}`}).filter(b=>!!b);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${b}${M}${"string"==typeof T.fragment?`#${function tt(A){return encodeURI(A)}(T.fragment)}`:""}`}}const Ge=new Be;function et(A){return A.segments.map(T=>xt(T)).join("/")}function It(A,T){if(!A.hasChildren())return et(A);if(T){const b=A.children[zt]?It(A.children[zt],!1):"",M=[];return pt(A.children,(z,pe)=>{pe!==zt&&M.push(`${pe}:${It(z,!1)}`)}),M.length>0?`${b}(${M.join("//")})`:b}{const b=function cr(A,T){let b=[];return pt(A.children,(M,z)=>{z===zt&&(b=b.concat(T(M,z)))}),pt(A.children,(M,z)=>{z!==zt&&(b=b.concat(T(M,z)))}),b}(A,(M,z)=>z===zt?[It(A.children[zt],!1)]:[`${z}:${It(M,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[zt]?`${et(A)}/${b[0]}`:`${et(A)}/(${b.join("//")})`}}function gt(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function en(A){return gt(A).replace(/%3B/gi,";")}function Xe(A){return gt(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fe(A){return decodeURIComponent(A)}function ct(A){return Fe(A.replace(/\+/g,"%20"))}function xt(A){return`${Xe(A.path)}${function Ht(A){return Object.keys(A).map(T=>`;${Xe(T)}=${Xe(A[T])}`).join("")}(A.parameters)}`}const En=/^[^\/()?;=#]+/;function vr(A){const T=A.match(En);return T?T[0]:""}const rs=/^[^=?&#]+/,mt=/^[^&#]+/;class un{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(T.length>0||Object.keys(b).length>0)&&(M[zt]=new Yt(T,b)),M}parseSegment(){const T=vr(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new f.vHH(4009,$t);return this.capture(T),new Un(Fe(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const b=vr(this.remaining);if(!b)return;this.capture(b);let M="";if(this.consumeOptional("=")){const z=vr(this.remaining);z&&(M=z,this.capture(M))}T[Fe(b)]=Fe(M)}parseQueryParam(T){const b=function Et(A){const T=A.match(rs);return T?T[0]:""}(this.remaining);if(!b)return;this.capture(b);let M="";if(this.consumeOptional("=")){const Ce=function Bt(A){const T=A.match(mt);return T?T[0]:""}(this.remaining);Ce&&(M=Ce,this.capture(M))}const z=ct(b),pe=ct(M);if(T.hasOwnProperty(z)){let Ce=T[z];Array.isArray(Ce)||(Ce=[Ce],T[z]=Ce),Ce.push(pe)}else T[z]=pe}parseParens(T){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=vr(this.remaining),z=this.remaining[M.length];if("/"!==z&&")"!==z&&";"!==z)throw new f.vHH(4010,$t);let pe;M.indexOf(":")>-1?(pe=M.slice(0,M.indexOf(":")),this.capture(pe),this.capture(":")):T&&(pe=zt);const Ce=this.parseChildren();b[pe]=1===Object.keys(Ce).length?Ce[zt]:new Yt([],Ce),this.consumeOptional("//")}return b}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new f.vHH(4011,$t)}}function xn(A){return A.segments.length>0?new Yt([],{[zt]:A}):A}function Bn(A){const T={};for(const M of Object.keys(A.children)){const pe=Bn(A.children[M]);(pe.segments.length>0||pe.hasChildren())&&(T[M]=pe)}return function nr(A){if(1===A.numberOfChildren&&A.children[zt]){const T=A.children[zt];return new Yt(A.segments.concat(T.segments),T.children)}return A}(new Yt(A.segments,T))}function Pr(A){return A instanceof An}const gr=!1;function hi(A,T,b,M,z){if(0===b.length)return Ir(T.root,T.root,T.root,M,z);const pe=function ar(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new ss(!0,0,A);let T=0,b=!1;const M=A.reduce((z,pe,Ce)=>{if("object"==typeof pe&&null!=pe){if(pe.outlets){const rt={};return pt(pe.outlets,(Tt,Zt)=>{rt[Zt]="string"==typeof Tt?Tt.split("/"):Tt}),[...z,{outlets:rt}]}if(pe.segmentPath)return[...z,pe.segmentPath]}return"string"!=typeof pe?[...z,pe]:0===Ce?(pe.split("/").forEach((rt,Tt)=>{0==Tt&&"."===rt||(0==Tt&&""===rt?b=!0:".."===rt?T++:""!=rt&&z.push(rt))}),z):[...z,pe]},[]);return new ss(b,T,M)}(b);return pe.toRoot()?Ir(T.root,T.root,new Yt([],{}),M,z):function Ce(Tt){const Zt=function Os(A,T,b,M){if(A.isAbsolute)return new Rs(T.root,!0,0);if(-1===M)return new Rs(b,b===T.root,0);return function Ni(A,T,b){let M=A,z=T,pe=b;for(;pe>z;){if(pe-=z,M=M.parent,!M)throw new f.vHH(4005,gr&&"Invalid number of '../'");z=M.segments.length}return new Rs(M,!1,z-pe)}(b,M+(Ms(A.commands[0])?0:1),A.numberOfDoubleDots)}(pe,T,A.snapshot?._urlSegment,Tt),cn=Zt.processChildren?ur(Zt.segmentGroup,Zt.index,pe.commands):jn(Zt.segmentGroup,Zt.index,pe.commands);return Ir(T.root,Zt.segmentGroup,cn,M,z)}(A.snapshot?._lastPathIndex)}function Ms(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function kn(A){return"object"==typeof A&&null!=A&&A.outlets}function Ir(A,T,b,M,z){let Ce,pe={};M&&pt(M,(Tt,Zt)=>{pe[Zt]=Array.isArray(Tt)?Tt.map(cn=>`${cn}`):`${Tt}`}),Ce=A===T?b:Xr(A,T,b);const rt=xn(Bn(Ce));return new An(rt,pe,z)}function Xr(A,T,b){const M={};return pt(A.children,(z,pe)=>{M[pe]=z===T?b:Xr(z,T,b)}),new Yt(A.segments,M)}class ss{constructor(T,b,M){if(this.isAbsolute=T,this.numberOfDoubleDots=b,this.commands=M,T&&M.length>0&&Ms(M[0]))throw new f.vHH(4003,gr&&"Root segment cannot have matrix parameters");const z=M.find(kn);if(z&&z!==bt(M))throw new f.vHH(4004,gr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rs{constructor(T,b,M){this.segmentGroup=T,this.processChildren=b,this.index=M}}function jn(A,T,b){if(A||(A=new Yt([],{})),0===A.segments.length&&A.hasChildren())return ur(A,T,b);const M=function Di(A,T,b){let M=0,z=T;const pe={match:!1,pathIndex:0,commandIndex:0};for(;z<A.segments.length;){if(M>=b.length)return pe;const Ce=A.segments[z],rt=b[M];if(kn(rt))break;const Tt=`${rt}`,Zt=M<b.length-1?b[M+1]:null;if(z>0&&void 0===Tt)break;if(Tt&&Zt&&"object"==typeof Zt&&void 0===Zt.outlets){if(!Dr(Tt,Zt,Ce))return pe;M+=2}else{if(!Dr(Tt,{},Ce))return pe;M++}z++}return{match:!0,pathIndex:z,commandIndex:M}}(A,T,b),z=b.slice(M.commandIndex);if(M.match&&M.pathIndex<A.segments.length){const pe=new Yt(A.segments.slice(0,M.pathIndex),{});return pe.children[zt]=new Yt(A.segments.slice(M.pathIndex),A.children),ur(pe,0,z)}return M.match&&0===z.length?new Yt(A.segments,{}):M.match&&!A.hasChildren()?_i(A,T,b):M.match?ur(A,0,z):_i(A,T,b)}function ur(A,T,b){if(0===b.length)return new Yt(A.segments,{});{const M=function hn(A){return kn(A[0])?A[0].outlets:{[zt]:A}}(b),z={};if(!M[zt]&&A.children[zt]&&1===A.numberOfChildren&&0===A.children[zt].segments.length){const pe=ur(A.children[zt],T,b);return new Yt(A.segments,pe.children)}return pt(M,(pe,Ce)=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(z[Ce]=jn(A.children[Ce],T,pe))}),pt(A.children,(pe,Ce)=>{void 0===M[Ce]&&(z[Ce]=pe)}),new Yt(A.segments,z)}}function _i(A,T,b){const M=A.segments.slice(0,T);let z=0;for(;z<b.length;){const pe=b[z];if(kn(pe)){const Tt=Fr(pe.outlets);return new Yt(M,Tt)}if(0===z&&Ms(b[0])){M.push(new Un(A.segments[T].path,Li(b[0]))),z++;continue}const Ce=kn(pe)?pe.outlets[zt]:`${pe}`,rt=z<b.length-1?b[z+1]:null;Ce&&rt&&Ms(rt)?(M.push(new Un(Ce,Li(rt))),z+=2):(M.push(new Un(Ce,{})),z++)}return new Yt(M,{})}function Fr(A){const T={};return pt(A,(b,M)=>{"string"==typeof b&&(b=[b]),null!==b&&(T[M]=_i(new Yt([],{}),0,b))}),T}function Li(A){const T={};return pt(A,(b,M)=>T[M]=`${b}`),T}function Dr(A,T,b){return A==b.path&&Ie(T,b.parameters)}const xi="imperative";class Pi{constructor(T,b){this.id=T,this.url=b}}class Gn extends Pi{constructor(T,b,M="imperative",z=null){super(T,b),this.type=0,this.navigationTrigger=M,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gi extends Pi{constructor(T,b,M){super(T,b),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $i extends Pi{constructor(T,b,M,z){super(T,b),this.reason=M,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ks extends Pi{constructor(T,b,M,z){super(T,b),this.reason=M,this.code=z,this.type=16}}class Xn extends Pi{constructor(T,b,M,z){super(T,b),this.error=M,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jr extends Pi{constructor(T,b,M,z){super(T,b),this.urlAfterRedirects=M,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar extends Pi{constructor(T,b,M,z){super(T,b),this.urlAfterRedirects=M,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class os extends Pi{constructor(T,b,M,z,pe){super(T,b),this.urlAfterRedirects=M,this.state=z,this.shouldActivate=pe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fi extends Pi{constructor(T,b,M,z){super(T,b),this.urlAfterRedirects=M,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ns extends Pi{constructor(T,b,M,z){super(T,b),this.urlAfterRedirects=M,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ls{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xr{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Aa{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zi{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wi{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ys{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(T,b,M){this.routerEvent=T,this.position=b,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Oo=(()=>{class A{createUrlTree(b,M,z,pe,Ce,rt){return hi(b||M.root,z,pe,Ce,rt)}}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac}),A})(),Gr=(()=>{class A{}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:function(T){return Oo.\u0275fac(T)},providedIn:"root"}),A})();class ko{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const b=this.pathFromRoot(T);return b.length>1?b[b.length-2]:null}children(T){const b=as(T,this._root);return b?b.children.map(M=>M.value):[]}firstChild(T){const b=as(T,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(T){const b=lo(T,this._root);return b.length<2?[]:b[b.length-2].children.map(z=>z.value).filter(z=>z!==T)}pathFromRoot(T){return lo(T,this._root).map(b=>b.value)}}function as(A,T){if(A===T.value)return T;for(const b of T.children){const M=as(A,b);if(M)return M}return null}function lo(A,T){if(A===T.value)return[T];for(const b of T.children){const M=lo(A,b);if(M.length)return M.unshift(T),M}return[]}class Mr{constructor(T,b){this.value=T,this.children=b}toString(){return`TreeNode(${this.value})`}}function bo(A){const T={};return A&&A.children.forEach(b=>T[b.value.outlet]=b),T}class co extends ko{constructor(T,b){super(T),this.snapshot=b,la(this,T)}toString(){return this.snapshot.toString()}}function Vs(A,T){const b=function Mi(A,T){const Ce=new ls([],{},{},"",{},zt,T,null,A.root,-1,{});return new Lo("",new Mr(Ce,[]))}(A,T),M=new Re.X([new Un("",{})]),z=new Re.X({}),pe=new Re.X({}),Ce=new Re.X({}),rt=new Re.X(""),Tt=new Us(M,z,Ce,rt,pe,zt,T,b.root);return Tt.snapshot=b.root,new co(new Mr(Tt,[]),b)}class Us{constructor(T,b,M,z,pe,Ce,rt,Tt){this.url=T,this.params=b,this.queryParams=M,this.fragment=z,this.data=pe,this.outlet=Ce,this.component=rt,this.title=this.data?.pipe((0,Le.U)(Zt=>Zt[gn]))??(0,J.of)(void 0),this._futureSnapshot=Tt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(T=>sn(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(T=>sn(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function No(A,T="emptyOnly"){const b=A.pathFromRoot;let M=0;if("always"!==T)for(M=b.length-1;M>=1;){const z=b[M],pe=b[M-1];if(z.routeConfig&&""===z.routeConfig.path)M--;else{if(pe.component)break;M--}}return function Sa(A){return A.reduce((T,b)=>({params:{...T.params,...b.params},data:{...T.data,...b.data},resolve:{...b.data,...T.resolve,...b.routeConfig?.data,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(M))}class ls{get title(){return this.data?.[gn]}constructor(T,b,M,z,pe,Ce,rt,Tt,Zt,cn,er){this.url=T,this.params=b,this.queryParams=M,this.fragment=z,this.data=pe,this.outlet=Ce,this.component=rt,this.routeConfig=Tt,this._urlSegment=Zt,this._lastPathIndex=cn,this._resolve=er}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lo extends ko{constructor(T,b){super(b),this.url=T,la(this,b)}toString(){return Fo(this._root)}}function la(A,T){T.value._routerState=A,T.children.forEach(b=>la(A,b))}function Fo(A){const T=A.children.length>0?` { ${A.children.map(Fo).join(", ")} } `:"";return`${A.value}${T}`}function ms(A){if(A.snapshot){const T=A.snapshot,b=A._futureSnapshot;A.snapshot=b,Ie(T.queryParams,b.queryParams)||A.queryParams.next(b.queryParams),T.fragment!==b.fragment&&A.fragment.next(b.fragment),Ie(T.params,b.params)||A.params.next(b.params),function ut(A,T){if(A.length!==T.length)return!1;for(let b=0;b<A.length;++b)if(!Ie(A[b],T[b]))return!1;return!0}(T.url,b.url)||A.url.next(b.url),Ie(T.data,b.data)||A.data.next(b.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function ca(A,T){const b=Ie(A.params,T.params)&&function Wn(A,T){return yr(A,T)&&A.every((b,M)=>Ie(b.parameters,T[M].parameters))}(A.url,T.url);return b&&!(!A.parent!=!T.parent)&&(!A.parent||ca(A.parent,T.parent))}function Ko(A,T,b){if(b&&A.shouldReuseRoute(T.value,b.value.snapshot)){const M=b.value;M._futureSnapshot=T.value;const z=function Ta(A,T,b){return T.children.map(M=>{for(const z of b.children)if(A.shouldReuseRoute(M.value,z.value.snapshot))return Ko(A,M,z);return Ko(A,M)})}(A,T,b);return new Mr(M,z)}{if(A.shouldAttach(T.value)){const pe=A.retrieve(T.value);if(null!==pe){const Ce=pe.route;return Ce.value._futureSnapshot=T.value,Ce.children=T.children.map(rt=>Ko(A,rt)),Ce}}const M=function Zo(A){return new Us(new Re.X(A.url),new Re.X(A.params),new Re.X(A.queryParams),new Re.X(A.fragment),new Re.X(A.data),A.outlet,A.component,A)}(T.value),z=T.children.map(pe=>Ko(A,pe));return new Mr(M,z)}}const uo="ngNavigationCancelingError";function ho(A,T){const{redirectTo:b,navigationBehaviorOptions:M}=Pr(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,z=Yo(!1,0,T);return z.url=b,z.navigationBehaviorOptions=M,z}function Yo(A,T,b){const M=new Error("NavigationCancelingError: "+(A||""));return M[uo]=!0,M.cancellationCode=T,b&&(M.url=b),M}function _s(A){return Qs(A)&&Pr(A.url)}function Qs(A){return A&&A[uo]}class Xs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ei,this.attachRef=null}}let Ei=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(b,M){const z=this.getOrCreateContext(b);z.outlet=M,this.contexts.set(b,z)}onChildOutletDestroyed(b){const M=this.getContext(b);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let M=this.getContext(b);return M||(M=new Xs,this.contexts.set(b,M)),M}getContext(b){return this.contexts.get(b)||null}}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const $r=!1;let Eo=(()=>{class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Ei),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(b){if(b.name){const{firstChange:M,previousValue:z}=b.name;if(M)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,$r);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,$r);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,$r);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,M){this.activated=b,this._activatedRoute=M,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,M){if(this.isActivated)throw new f.vHH(4013,$r);this._activatedRoute=b;const z=this.location,Ce=b.snapshot.component,rt=this.parentContexts.getOrCreateContext(this.name).children,Tt=new ua(b,rt,z.injector);if(M&&function ys(A){return!!A.resolveComponentFactory}(M)){const Zt=M.resolveComponentFactory(Ce);this.activated=z.createComponent(Zt,z.length,Tt)}else this.activated=z.createComponent(Ce,{index:z.length,injector:Tt,environmentInjector:M??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(b){return new(b||A)},A.\u0275dir=f.lG2({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),A})();class ua{constructor(T,b,M){this.route=T,this.childContexts=b,this.parent=M}get(T,b){return T===Us?this.route:T===Ei?this.childContexts:this.parent.get(T,b)}}let Or=(()=>{class A{}return A.\u0275fac=function(b){return new(b||A)},A.\u0275cmp=f.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(b,M){1&b&&f._UZ(0,"router-outlet")},dependencies:[Eo],encapsulation:2}),A})();function Qo(A,T){return A.providers&&!A._injector&&(A._injector=(0,f.MMx)(A.providers,T,`Route: ${A.path}`)),A._injector??T}function oi(A){const T=A.children&&A.children.map(oi),b=T?{...A,children:T}:{...A};return!b.component&&!b.loadComponent&&(T||b.loadChildren)&&b.outlet&&b.outlet!==zt&&(b.component=Or),b}function Vi(A){return A.outlet||zt}function Ri(A,T){const b=A.filter(M=>Vi(M)===T);return b.push(...A.filter(M=>Vi(M)!==T)),b}function Ki(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let T=A.parent;T;T=T.parent){const b=T.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class wl{constructor(T,b,M,z){this.routeReuseStrategy=T,this.futureState=b,this.currState=M,this.forwardEvent=z}activate(T){const b=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,M,T),ms(this.futureState.root),this.activateChildRoutes(b,M,T)}deactivateChildRoutes(T,b,M){const z=bo(b);T.children.forEach(pe=>{const Ce=pe.value.outlet;this.deactivateRoutes(pe,z[Ce],M),delete z[Ce]}),pt(z,(pe,Ce)=>{this.deactivateRouteAndItsChildren(pe,M)})}deactivateRoutes(T,b,M){const z=T.value,pe=b?b.value:null;if(z===pe)if(z.component){const Ce=M.getContext(z.outlet);Ce&&this.deactivateChildRoutes(T,b,Ce.children)}else this.deactivateChildRoutes(T,b,M);else pe&&this.deactivateRouteAndItsChildren(b,M)}deactivateRouteAndItsChildren(T,b){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,b):this.deactivateRouteAndOutlet(T,b)}detachAndStoreRouteSubtree(T,b){const M=b.getContext(T.value.outlet),z=M&&T.value.component?M.children:b,pe=bo(T);for(const Ce of Object.keys(pe))this.deactivateRouteAndItsChildren(pe[Ce],z);if(M&&M.outlet){const Ce=M.outlet.detach(),rt=M.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:Ce,route:T,contexts:rt})}}deactivateRouteAndOutlet(T,b){const M=b.getContext(T.value.outlet),z=M&&T.value.component?M.children:b,pe=bo(T);for(const Ce of Object.keys(pe))this.deactivateRouteAndItsChildren(pe[Ce],z);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(T,b,M){const z=bo(b);T.children.forEach(pe=>{this.activateRoutes(pe,z[pe.value.outlet],M),this.forwardEvent(new Ys(pe.value.snapshot))}),T.children.length&&this.forwardEvent(new zi(T.value.snapshot))}activateRoutes(T,b,M){const z=T.value,pe=b?b.value:null;if(ms(z),z===pe)if(z.component){const Ce=M.getOrCreateContext(z.outlet);this.activateChildRoutes(T,b,Ce.children)}else this.activateChildRoutes(T,b,M);else if(z.component){const Ce=M.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const rt=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Ce.children.onOutletReAttached(rt.contexts),Ce.attachRef=rt.componentRef,Ce.route=rt.route.value,Ce.outlet&&Ce.outlet.attach(rt.componentRef,rt.route.value),ms(rt.route.value),this.activateChildRoutes(T,null,Ce.children)}else{const rt=Ki(z.snapshot),Tt=rt?.get(f._Vd)??null;Ce.attachRef=null,Ce.route=z,Ce.resolver=Tt,Ce.injector=rt,Ce.outlet&&Ce.outlet.activateWith(z,Ce.injector),this.activateChildRoutes(T,null,Ce.children)}}else this.activateChildRoutes(T,null,M)}}class fo{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Bs{constructor(T,b){this.component=T,this.route=b}}function js(A,T,b){const M=A._root;return Hn(M,T?T._root:null,b,[M.value])}function vs(A,T){const b=Symbol(),M=T.get(A,b);return M===b?"function"!=typeof A||(0,f.Z0I)(A)?T.get(A):A:M}function Hn(A,T,b,M,z={canDeactivateChecks:[],canActivateChecks:[]}){const pe=bo(T);return A.children.forEach(Ce=>{(function Sr(A,T,b,M,z={canDeactivateChecks:[],canActivateChecks:[]}){const pe=A.value,Ce=T?T.value:null,rt=b?b.getContext(A.value.outlet):null;if(Ce&&pe.routeConfig===Ce.routeConfig){const Tt=function Qa(A,T,b){if("function"==typeof b)return b(A,T);switch(b){case"pathParamsChange":return!yr(A.url,T.url);case"pathParamsOrQueryParamsChange":return!yr(A.url,T.url)||!Ie(A.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ca(A,T)||!Ie(A.queryParams,T.queryParams);default:return!ca(A,T)}}(Ce,pe,pe.routeConfig.runGuardsAndResolvers);Tt?z.canActivateChecks.push(new fo(M)):(pe.data=Ce.data,pe._resolvedData=Ce._resolvedData),Hn(A,T,pe.component?rt?rt.children:null:b,M,z),Tt&&rt&&rt.outlet&&rt.outlet.isActivated&&z.canDeactivateChecks.push(new Bs(rt.outlet.component,Ce))}else Ce&&Js(T,rt,z),z.canActivateChecks.push(new fo(M)),Hn(A,null,pe.component?rt?rt.children:null:b,M,z)})(Ce,pe[Ce.value.outlet],b,M.concat([Ce.value]),z),delete pe[Ce.value.outlet]}),pt(pe,(Ce,rt)=>Js(Ce,b.getContext(rt),z)),z}function Js(A,T,b){const M=bo(A),z=A.value;pt(M,(pe,Ce)=>{Js(pe,z.component?T?T.children.getContext(Ce):null:T,b)}),b.canDeactivateChecks.push(new Bs(z.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,z))}function Ui(A){return"function"==typeof A}function Er(A){return A instanceof Ee||"EmptyError"===A?.name}const de=Symbol("INITIAL_VALUE");function Ne(){return nt(A=>we(A.map(T=>T.pipe((0,ye.q)(1),function Q(...A){const T=(0,oe.yG)(A);return(0,L.e)((b,M)=>{(T?(0,ge.z)(A,b,T):(0,ge.z)(A,b)).subscribe(M)})}(de)))).pipe((0,Le.U)(T=>{for(const b of T)if(!0!==b){if(b===de)return de;if(!1===b||b instanceof An)return b}return!0}),(0,H.h)(T=>T!==de),(0,ye.q)(1)))}function ai(A){return(0,K.z)(le(T=>{if(Pr(T))throw ho(0,T)}),(0,Le.U)(T=>!0===T))}const Oi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xa(A,T,b,M,z){const pe=Bi(A,T,b);return pe.matched?function Yn(A,T,b,M){const z=T.canMatch;if(!z||0===z.length)return(0,J.of)(!0);const pe=z.map(Ce=>{const rt=vs(Ce,A);return Lt(function rr(A){return A&&Ui(A.canMatch)}(rt)?rt.canMatch(T,b):A.runInContext(()=>rt(T,b)))});return(0,J.of)(pe).pipe(Ne(),ai())}(M=Qo(T,M),T,b).pipe((0,Le.U)(Ce=>!0===Ce?pe:{...Oi})):(0,J.of)(pe)}function Bi(A,T,b){if(""===T.path)return"full"===T.pathMatch&&(A.hasChildren()||b.length>0)?{...Oi}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const z=(T.matcher||Vn)(b,A,T);if(!z)return{...Oi};const pe={};pt(z.posParams,(rt,Tt)=>{pe[Tt]=rt.path});const Ce=z.consumed.length>0?{...pe,...z.consumed[z.consumed.length-1].parameters}:pe;return{matched:!0,consumedSegments:z.consumed,remainingSegments:b.slice(z.consumed.length),parameters:Ce,positionalParamSegments:z.posParams??{}}}function Pa(A,T,b,M){if(b.length>0&&function pa(A,T,b){return b.some(M=>vi(A,T,M)&&Vi(M)!==zt)}(A,b,M)){const pe=new Yt(T,function Bo(A,T,b,M){const z={};z[zt]=M,M._sourceSegment=A,M._segmentIndexShift=T.length;for(const pe of b)if(""===pe.path&&Vi(pe)!==zt){const Ce=new Yt([],{});Ce._sourceSegment=A,Ce._segmentIndexShift=T.length,z[Vi(pe)]=Ce}return z}(A,T,M,new Yt(b,A.children)));return pe._sourceSegment=A,pe._segmentIndexShift=T.length,{segmentGroup:pe,slicedSegments:[]}}if(0===b.length&&function Xa(A,T,b){return b.some(M=>vi(A,T,M))}(A,b,M)){const pe=new Yt(A.segments,function Uo(A,T,b,M,z){const pe={};for(const Ce of M)if(vi(A,b,Ce)&&!z[Vi(Ce)]){const rt=new Yt([],{});rt._sourceSegment=A,rt._segmentIndexShift=T.length,pe[Vi(Ce)]=rt}return{...z,...pe}}(A,T,b,M,A.children));return pe._sourceSegment=A,pe._segmentIndexShift=T.length,{segmentGroup:pe,slicedSegments:b}}const z=new Yt(A.segments,A.children);return z._sourceSegment=A,z._segmentIndexShift=T.length,{segmentGroup:z,slicedSegments:b}}function vi(A,T,b){return(!(A.hasChildren()||T.length>0)||"full"!==b.pathMatch)&&""===b.path}function ws(A,T,b,M){return!!(Vi(A)===M||M!==zt&&vi(T,b,A))&&("**"===A.path||Bi(T,A,b).matched)}function li(A,T,b){return 0===T.length&&!A.children[b]}const Ao=!1;class So{constructor(T){this.segmentGroup=T||null}}class ga{constructor(T){this.urlTree=T}}function po(A){return X(new So(A))}function Ja(A){return X(new ga(A))}class go{constructor(T,b,M,z,pe){this.injector=T,this.configLoader=b,this.urlSerializer=M,this.urlTree=z,this.config=pe,this.allowRedirects=!0}apply(){const T=Pa(this.urlTree.root,[],[],this.config).segmentGroup,b=new Yt(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,b,zt).pipe((0,Le.U)(pe=>this.createUrlTree(Bn(pe),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Y(pe=>{if(pe instanceof ga)return this.allowRedirects=!1,this.match(pe.urlTree);throw pe instanceof So?this.noMatchError(pe):pe}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,zt).pipe((0,Le.U)(z=>this.createUrlTree(Bn(z),T.queryParams,T.fragment))).pipe(Y(z=>{throw z instanceof So?this.noMatchError(z):z}))}noMatchError(T){return new f.vHH(4002,Ao)}createUrlTree(T,b,M){const z=xn(T);return new An(z,b,M)}expandSegmentGroup(T,b,M,z){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(T,b,M).pipe((0,Le.U)(pe=>new Yt([],pe))):this.expandSegment(T,M,b,M.segments,z,!0)}expandChildren(T,b,M){const z=[];for(const pe of Object.keys(M.children))"primary"===pe?z.unshift(pe):z.push(pe);return(0,u.D)(z).pipe((0,he.b)(pe=>{const Ce=M.children[pe],rt=Ri(b,pe);return this.expandSegmentGroup(T,rt,Ce,pe).pipe((0,Le.U)(Tt=>({segment:Tt,outlet:pe})))}),We((pe,Ce)=>(pe[Ce.outlet]=Ce.segment,pe),{}),ze())}expandSegment(T,b,M,z,pe,Ce){return(0,u.D)(M).pipe((0,he.b)(rt=>this.expandSegmentAgainstRoute(T,b,M,rt,z,pe,Ce).pipe(Y(Zt=>{if(Zt instanceof So)return(0,J.of)(null);throw Zt}))),W(rt=>!!rt),Y((rt,Tt)=>{if(Er(rt))return li(b,z,pe)?(0,J.of)(new Yt([],{})):po(b);throw rt}))}expandSegmentAgainstRoute(T,b,M,z,pe,Ce,rt){return ws(z,b,pe,Ce)?void 0===z.redirectTo?this.matchSegmentAgainstRoute(T,b,z,pe,Ce):rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,b,M,z,pe,Ce):po(b):po(b)}expandSegmentAgainstRouteUsingRedirect(T,b,M,z,pe,Ce){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,M,z,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(T,b,M,z,pe,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,b,M,z){const pe=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?Ja(pe):this.lineralizeSegments(M,pe).pipe((0,G.z)(Ce=>{const rt=new Yt(Ce,{});return this.expandSegment(T,rt,b,Ce,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,b,M,z,pe,Ce){const{matched:rt,consumedSegments:Tt,remainingSegments:Zt,positionalParamSegments:cn}=Bi(b,z,pe);if(!rt)return po(b);const er=this.applyRedirectCommands(Tt,z.redirectTo,cn);return z.redirectTo.startsWith("/")?Ja(er):this.lineralizeSegments(z,er).pipe((0,G.z)(ui=>this.expandSegment(T,b,M,ui.concat(Zt),Ce,!1)))}matchSegmentAgainstRoute(T,b,M,z,pe){return"**"===M.path?(T=Qo(M,T),M.loadChildren?(M._loadedRoutes?(0,J.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):this.configLoader.loadChildren(T,M)).pipe((0,Le.U)(rt=>(M._loadedRoutes=rt.routes,M._loadedInjector=rt.injector,new Yt(z,{})))):(0,J.of)(new Yt(z,{}))):xa(b,M,z,T).pipe(nt(({matched:Ce,consumedSegments:rt,remainingSegments:Tt})=>Ce?this.getChildConfig(T=M._injector??T,M,z).pipe((0,G.z)(cn=>{const er=cn.injector??T,ui=cn.routes,{segmentGroup:Kr,slicedSegments:Qi}=Pa(b,rt,Tt,ui),Hi=new Yt(Kr.segments,Kr.children);if(0===Qi.length&&Hi.hasChildren())return this.expandChildren(er,ui,Hi).pipe((0,Le.U)(ni=>new Yt(rt,ni)));if(0===ui.length&&0===Qi.length)return(0,J.of)(new Yt(rt,{}));const Ss=Vi(M)===pe;return this.expandSegment(er,Hi,ui,Qi,Ss?zt:pe,!0).pipe((0,Le.U)(Ws=>new Yt(rt.concat(Ws.segments),Ws.children)))})):po(b)))}getChildConfig(T,b,M){return b.children?(0,J.of)({routes:b.children,injector:T}):b.loadChildren?void 0!==b._loadedRoutes?(0,J.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function Fn(A,T,b,M){const z=T.canLoad;if(void 0===z||0===z.length)return(0,J.of)(!0);const pe=z.map(Ce=>{const rt=vs(Ce,A);return Lt(function fa(A){return A&&Ui(A.canLoad)}(rt)?rt.canLoad(T,b):A.runInContext(()=>rt(T,b)))});return(0,J.of)(pe).pipe(Ne(),ai())}(T,b,M).pipe((0,G.z)(z=>z?this.configLoader.loadChildren(T,b).pipe(le(pe=>{b._loadedRoutes=pe.routes,b._loadedInjector=pe.injector})):function Hl(A){return X(Yo(Ao,3))}())):(0,J.of)({routes:[],injector:T})}lineralizeSegments(T,b){let M=[],z=b.root;for(;;){if(M=M.concat(z.segments),0===z.numberOfChildren)return(0,J.of)(M);if(z.numberOfChildren>1||!z.children[zt])return T.redirectTo,X(new f.vHH(4e3,Ao));z=z.children[zt]}}applyRedirectCommands(T,b,M){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),T,M)}applyRedirectCreateUrlTree(T,b,M,z){const pe=this.createSegmentGroup(T,b.root,M,z);return new An(pe,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(T,b){const M={};return pt(T,(z,pe)=>{if("string"==typeof z&&z.startsWith(":")){const rt=z.substring(1);M[pe]=b[rt]}else M[pe]=z}),M}createSegmentGroup(T,b,M,z){const pe=this.createSegments(T,b.segments,M,z);let Ce={};return pt(b.children,(rt,Tt)=>{Ce[Tt]=this.createSegmentGroup(T,rt,M,z)}),new Yt(pe,Ce)}createSegments(T,b,M,z){return b.map(pe=>pe.path.startsWith(":")?this.findPosParam(T,pe,z):this.findOrReturn(pe,M))}findPosParam(T,b,M){const z=M[b.path.substring(1)];if(!z)throw new f.vHH(4001,Ao);return z}findOrReturn(T,b){let M=0;for(const z of b){if(z.path===T.path)return b.splice(M),z;M++}return T}}class k{}class Ae{constructor(T,b,M,z,pe,Ce,rt){this.injector=T,this.rootComponentType=b,this.config=M,this.urlTree=z,this.url=pe,this.paramsInheritanceStrategy=Ce,this.urlSerializer=rt}recognize(){const T=Pa(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,zt).pipe((0,Le.U)(b=>{if(null===b)return null;const M=new ls([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),z=new Mr(M,b),pe=new Lo(this.url,z);return this.inheritParamsAndData(pe._root),pe}))}inheritParamsAndData(T){const b=T.value,M=No(b,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data),T.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(T,b,M,z){return 0===M.segments.length&&M.hasChildren()?this.processChildren(T,b,M):this.processSegment(T,b,M,M.segments,z)}processChildren(T,b,M){return(0,u.D)(Object.keys(M.children)).pipe((0,he.b)(z=>{const pe=M.children[z],Ce=Ri(b,z);return this.processSegmentGroup(T,Ce,pe,z)}),We((z,pe)=>z&&pe?(z.push(...pe),z):null),function ft(A,T=!1){return(0,L.e)((b,M)=>{let z=0;b.subscribe((0,te.x)(M,pe=>{const Ce=A(pe,z++);(Ce||T)&&M.next(pe),!Ce&&M.complete()}))})}(z=>null!==z),V(null),ze(),(0,Le.U)(z=>{if(null===z)return null;const pe=rn(z);return function $e(A){A.sort((T,b)=>T.value.outlet===zt?-1:b.value.outlet===zt?1:T.value.outlet.localeCompare(b.value.outlet))}(pe),pe}))}processSegment(T,b,M,z,pe){return(0,u.D)(b).pipe((0,he.b)(Ce=>this.processSegmentAgainstRoute(Ce._injector??T,Ce,M,z,pe)),W(Ce=>!!Ce),Y(Ce=>{if(Er(Ce))return li(M,z,pe)?(0,J.of)([]):(0,J.of)(null);throw Ce}))}processSegmentAgainstRoute(T,b,M,z,pe){if(b.redirectTo||!ws(b,M,z,pe))return(0,J.of)(null);let Ce;if("**"===b.path){const rt=z.length>0?bt(z).parameters:{},Tt=dr(M)+z.length,Zt=new ls(z,rt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,At(b),Vi(b),b.component??b._loadedComponent??null,b,Qn(M),Tt,Rn(b));Ce=(0,J.of)({snapshot:Zt,consumedSegments:[],remainingSegments:[]})}else Ce=xa(M,b,z,T).pipe((0,Le.U)(({matched:rt,consumedSegments:Tt,remainingSegments:Zt,parameters:cn})=>{if(!rt)return null;const er=dr(M)+Tt.length;return{snapshot:new ls(Tt,cn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,At(b),Vi(b),b.component??b._loadedComponent??null,b,Qn(M),er,Rn(b)),consumedSegments:Tt,remainingSegments:Zt}}));return Ce.pipe(nt(rt=>{if(null===rt)return(0,J.of)(null);const{snapshot:Tt,consumedSegments:Zt,remainingSegments:cn}=rt;T=b._injector??T;const er=b._loadedInjector??T,ui=function Ct(A){return A.children?A.children:A.loadChildren?A._loadedRoutes:[]}(b),{segmentGroup:Kr,slicedSegments:Qi}=Pa(M,Zt,cn,ui.filter(Ss=>void 0===Ss.redirectTo));if(0===Qi.length&&Kr.hasChildren())return this.processChildren(er,ui,Kr).pipe((0,Le.U)(Ss=>null===Ss?null:[new Mr(Tt,Ss)]));if(0===ui.length&&0===Qi.length)return(0,J.of)([new Mr(Tt,[])]);const Hi=Vi(b)===pe;return this.processSegment(er,ui,Kr,Qi,Hi?zt:pe).pipe((0,Le.U)(Ss=>null===Ss?null:[new Mr(Tt,Ss)]))}))}}function Ot(A){const T=A.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function rn(A){const T=[],b=new Set;for(const M of A){if(!Ot(M)){T.push(M);continue}const z=T.find(pe=>M.value.routeConfig===pe.value.routeConfig);void 0!==z?(z.children.push(...M.children),b.add(z)):T.push(M)}for(const M of b){const z=rn(M.children);T.push(new Mr(M.value,z))}return T.filter(M=>!b.has(M))}function Qn(A){let T=A;for(;T._sourceSegment;)T=T._sourceSegment;return T}function dr(A){let T=A,b=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,b+=T._segmentIndexShift??0;return b-1}function At(A){return A.data||{}}function Rn(A){return A.resolve||{}}function wt(A){return"string"==typeof A.title||null===A.title}function Ft(A){return nt(T=>{const b=A(T);return b?(0,u.D)(b).pipe((0,Le.U)(()=>T)):(0,J.of)(T)})}const Jo=new f.OlP("ROUTES");let Ra=(()=>{class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,J.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const M=Lt(b.loadComponent()).pipe((0,Le.U)(el),le(pe=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=pe}),Ut(()=>{this.componentLoaders.delete(b)})),z=new Se(M,()=>new Oe.x).pipe(ae());return this.componentLoaders.set(b,z),z}loadChildren(b,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,J.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const pe=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe((0,Le.U)(rt=>{this.onLoadEndListener&&this.onLoadEndListener(M);let Tt,Zt,cn=!1;Array.isArray(rt)?Zt=rt:(Tt=rt.create(b).injector,Zt=at(Tt.get(Jo,[],f.XFs.Self|f.XFs.Optional)));return{routes:Zt.map(oi),injector:Tt}}),Ut(()=>{this.childrenLoaders.delete(M)})),Ce=new Se(pe,()=>new Oe.x).pipe(ae());return this.childrenLoaders.set(M,Ce),Ce}loadModuleFactoryOrRoutes(b){return Lt(b()).pipe((0,Le.U)(el),(0,G.z)(M=>M instanceof f.YKP||Array.isArray(M)?(0,J.of)(M):(0,u.D)(this.compiler.compileModuleAsync(M))))}}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function el(A){return function iu(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let mo=(()=>{class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Oe.x,this.configLoader=(0,f.f3M)(Ra),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(fr),this.rootContexts=(0,f.f3M)(Ei),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new xr(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new Ls(z))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:M})}setupNavigations(b){return this.transitions=new Re.X({id:0,targetPageId:0,currentUrlTree:b.currentUrlTree,currentRawUrl:b.currentUrlTree,extractedUrl:b.urlHandlingStrategy.extract(b.currentUrlTree),urlAfterRedirects:b.urlHandlingStrategy.extract(b.currentUrlTree),rawUrl:b.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xi,restoredState:null,currentSnapshot:b.routerState.snapshot,targetSnapshot:null,currentRouterState:b.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,H.h)(M=>0!==M.id),(0,Le.U)(M=>({...M,extractedUrl:b.urlHandlingStrategy.extract(M.rawUrl)})),nt(M=>{let z=!1,pe=!1;return(0,J.of)(M).pipe(le(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.rawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),nt(Ce=>{const rt=b.browserUrlTree.toString(),Tt=!b.navigated||Ce.extractedUrl.toString()!==rt||rt!==b.currentUrlTree.toString();if(!Tt&&"reload"!==(Ce.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const cn="";return this.events.next(new ks(Ce.id,b.serializeUrl(M.rawUrl),cn,0)),b.rawUrlTree=Ce.rawUrl,Ce.resolve(null),xe.E}if(b.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return ka(Ce.source)&&(b.browserUrlTree=Ce.extractedUrl),(0,J.of)(Ce).pipe(nt(cn=>{const er=this.transitions?.getValue();return this.events.next(new Gn(cn.id,this.urlSerializer.serialize(cn.extractedUrl),cn.source,cn.restoredState)),er!==this.transitions?.getValue()?xe.E:Promise.resolve(cn)}),function ei(A,T,b,M){return nt(z=>function Zi(A,T,b,M,z){return new go(A,T,b,M,z).apply()}(A,T,b,z.extractedUrl,M).pipe((0,Le.U)(pe=>({...z,urlAfterRedirects:pe}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,b.config),le(cn=>{this.currentNavigation={...this.currentNavigation,finalUrl:cn.urlAfterRedirects},M.urlAfterRedirects=cn.urlAfterRedirects}),function kr(A,T,b,M,z){return(0,G.z)(pe=>function B(A,T,b,M,z,pe,Ce="emptyOnly"){return new Ae(A,T,b,M,z,Ce,pe).recognize().pipe(nt(rt=>null===rt?function ie(A){return new fe.y(T=>T.error(A))}(new k):(0,J.of)(rt)))}(A,T,b,pe.urlAfterRedirects,M.serialize(pe.urlAfterRedirects),M,z).pipe((0,Le.U)(Ce=>({...pe,targetSnapshot:Ce}))))}(this.environmentInjector,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),le(cn=>{if(M.targetSnapshot=cn.targetSnapshot,"eager"===b.urlUpdateStrategy){if(!cn.extras.skipLocationChange){const ui=b.urlHandlingStrategy.merge(cn.urlAfterRedirects,cn.rawUrl);b.setBrowserUrl(ui,cn)}b.browserUrlTree=cn.urlAfterRedirects}const er=new Jr(cn.id,this.urlSerializer.serialize(cn.extractedUrl),this.urlSerializer.serialize(cn.urlAfterRedirects),cn.targetSnapshot);this.events.next(er)}));if(Tt&&b.urlHandlingStrategy.shouldProcessUrl(b.rawUrlTree)){const{id:cn,extractedUrl:er,source:ui,restoredState:Kr,extras:Qi}=Ce,Hi=new Gn(cn,this.urlSerializer.serialize(er),ui,Kr);this.events.next(Hi);const Ss=Vs(er,this.rootComponentType).snapshot;return M={...Ce,targetSnapshot:Ss,urlAfterRedirects:er,extras:{...Qi,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(M)}{const cn="";return this.events.next(new ks(Ce.id,b.serializeUrl(M.extractedUrl),cn,1)),b.rawUrlTree=Ce.rawUrl,Ce.resolve(null),xe.E}}),le(Ce=>{const rt=new Ar(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(rt)}),(0,Le.U)(Ce=>M={...Ce,guards:js(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)}),function Qe(A,T){return(0,G.z)(b=>{const{targetSnapshot:M,currentSnapshot:z,guards:{canActivateChecks:pe,canDeactivateChecks:Ce}}=b;return 0===Ce.length&&0===pe.length?(0,J.of)({...b,guardsResult:!0}):function ht(A,T,b,M){return(0,u.D)(A).pipe((0,G.z)(z=>function Nn(A,T,b,M,z){const pe=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!pe||0===pe.length)return(0,J.of)(!0);const Ce=pe.map(rt=>{const Tt=Ki(T)??z,Zt=vs(rt,Tt);return Lt(function jt(A){return A&&Ui(A.canDeactivate)}(Zt)?Zt.canDeactivate(A,T,b,M):Tt.runInContext(()=>Zt(A,T,b,M))).pipe(W())});return(0,J.of)(Ce).pipe(Ne())}(z.component,z.route,b,T,M)),W(z=>!0!==z,!0))}(Ce,M,z,A).pipe((0,G.z)(rt=>rt&&function Hs(A){return"boolean"==typeof A}(rt)?function St(A,T,b,M){return(0,u.D)(T).pipe((0,he.b)(z=>(0,ge.z)(function nn(A,T){return null!==A&&T&&T(new Aa(A)),(0,J.of)(!0)}(z.route.parent,M),function Vt(A,T){return null!==A&&T&&T(new Wi(A)),(0,J.of)(!0)}(z.route,M),function fn(A,T,b){const M=T[T.length-1],pe=T.slice(0,T.length-1).reverse().map(Ce=>function Ia(A){const T=A.routeConfig?A.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:A,guards:T}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>D(()=>{const rt=Ce.guards.map(Tt=>{const Zt=Ki(Ce.node)??b,cn=vs(Tt,Zt);return Lt(function Da(A){return A&&Ui(A.canActivateChild)}(cn)?cn.canActivateChild(M,A):Zt.runInContext(()=>cn(M,A))).pipe(W())});return(0,J.of)(rt).pipe(Ne())}));return(0,J.of)(pe).pipe(Ne())}(A,z.path,b),function Sn(A,T,b){const M=T.routeConfig?T.routeConfig.canActivate:null;if(!M||0===M.length)return(0,J.of)(!0);const z=M.map(pe=>D(()=>{const Ce=Ki(T)??b,rt=vs(pe,Ce);return Lt(function zr(A){return A&&Ui(A.canActivate)}(rt)?rt.canActivate(T,A):Ce.runInContext(()=>rt(T,A))).pipe(W())}));return(0,J.of)(z).pipe(Ne())}(A,z.route,b))),W(z=>!0!==z,!0))}(M,pe,A,T):(0,J.of)(rt)),(0,Le.U)(rt=>({...b,guardsResult:rt})))})}(this.environmentInjector,Ce=>this.events.next(Ce)),le(Ce=>{if(M.guardsResult=Ce.guardsResult,Pr(Ce.guardsResult))throw ho(0,Ce.guardsResult);const rt=new os(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.events.next(rt)}),(0,H.h)(Ce=>!!Ce.guardsResult||(b.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",3),!1)),Ft(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,J.of)(Ce).pipe(le(rt=>{const Tt=new Fi(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects),rt.targetSnapshot);this.events.next(Tt)}),nt(rt=>{let Tt=!1;return(0,J.of)(rt).pipe(function Gs(A,T){return(0,G.z)(b=>{const{targetSnapshot:M,guards:{canActivateChecks:z}}=b;if(!z.length)return(0,J.of)(b);let pe=0;return(0,u.D)(z).pipe((0,he.b)(Ce=>function dn(A,T,b,M){const z=A.routeConfig,pe=A._resolve;return void 0!==z?.title&&!wt(z)&&(pe[gn]=z.title),function wn(A,T,b,M){const z=function $s(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===z.length)return(0,J.of)({});const pe={};return(0,u.D)(z).pipe((0,G.z)(Ce=>function on(A,T,b,M){const z=Ki(T)??M,pe=vs(A,z);return Lt(pe.resolve?pe.resolve(T,b):z.runInContext(()=>pe(T,b)))}(A[Ce],T,b,M).pipe(W(),le(rt=>{pe[Ce]=rt}))),qe(1),(0,Rt.h)(pe),Y(Ce=>Er(Ce)?xe.E:X(Ce)))}(pe,A,T,M).pipe((0,Le.U)(Ce=>(A._resolvedData=Ce,A.data=No(A,b).resolve,z&&wt(z)&&(A.data[gn]=z.title),null)))}(Ce.route,M,A,T)),le(()=>pe++),qe(1),(0,G.z)(Ce=>pe===z.length?(0,J.of)(b):xe.E))})}(b.paramsInheritanceStrategy,this.environmentInjector),le({next:()=>Tt=!0,complete:()=>{Tt||(b.restoreHistory(rt),this.cancelNavigationTransition(rt,"",2))}}))}),le(rt=>{const Tt=new Ns(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects),rt.targetSnapshot);this.events.next(Tt)}))}),Ft(Ce=>{const rt=Tt=>{const Zt=[];Tt.routeConfig?.loadComponent&&!Tt.routeConfig._loadedComponent&&Zt.push(this.configLoader.loadComponent(Tt.routeConfig).pipe(le(cn=>{Tt.component=cn}),(0,Le.U)(()=>{})));for(const cn of Tt.children)Zt.push(...rt(cn));return Zt};return we(rt(Ce.targetSnapshot.root)).pipe(V(),(0,ye.q)(1))}),Ft(()=>this.afterPreactivation()),(0,Le.U)(Ce=>{const rt=function Co(A,T,b){const M=Ko(A,T._root,b?b._root:void 0);return new co(M,T)}(b.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return M={...Ce,targetRouterState:rt}}),le(Ce=>{b.currentUrlTree=Ce.urlAfterRedirects,b.rawUrlTree=b.urlHandlingStrategy.merge(Ce.urlAfterRedirects,Ce.rawUrl),b.routerState=Ce.targetRouterState,"deferred"===b.urlUpdateStrategy&&(Ce.extras.skipLocationChange||b.setBrowserUrl(b.rawUrlTree,Ce),b.browserUrlTree=Ce.urlAfterRedirects)}),((A,T,b)=>(0,Le.U)(M=>(new wl(T,M.targetRouterState,M.currentRouterState,b).activate(A),M)))(this.rootContexts,b.routeReuseStrategy,Ce=>this.events.next(Ce)),(0,ye.q)(1),le({next:Ce=>{z=!0,this.lastSuccessfulNavigation=this.currentNavigation,b.navigated=!0,this.events.next(new Gi(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(b.currentUrlTree))),b.titleStrategy?.updateTitle(Ce.targetRouterState.snapshot),Ce.resolve(!0)},complete:()=>{z=!0}}),Ut(()=>{z||pe||this.cancelNavigationTransition(M,"",1),this.currentNavigation?.id===M.id&&(this.currentNavigation=null)}),Y(Ce=>{if(pe=!0,Qs(Ce)){_s(Ce)||(b.navigated=!0,b.restoreHistory(M,!0));const rt=new $i(M.id,this.urlSerializer.serialize(M.extractedUrl),Ce.message,Ce.cancellationCode);if(this.events.next(rt),_s(Ce)){const Tt=b.urlHandlingStrategy.merge(Ce.url,b.rawUrlTree),Zt={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===b.urlUpdateStrategy||ka(M.source)};b.scheduleNavigation(Tt,xi,null,Zt,{resolve:M.resolve,reject:M.reject,promise:M.promise})}else M.resolve(!1)}else{b.restoreHistory(M,!0);const rt=new Xn(M.id,this.urlSerializer.serialize(M.extractedUrl),Ce,M.targetSnapshot??void 0);this.events.next(rt);try{M.resolve(b.errorHandler(Ce))}catch(Tt){M.reject(Tt)}}return xe.E}))}))}cancelNavigationTransition(b,M,z){const pe=new $i(b.id,this.urlSerializer.serialize(b.extractedUrl),M,z);this.events.next(pe),b.resolve(!1)}}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function ka(A){return A!==xi}let tl=(()=>{class A{buildTitle(b){let M,z=b.root;for(;void 0!==z;)M=this.getResolvedTitleForRoute(z)??M,z=z.children.find(pe=>pe.outlet===zt);return M}getResolvedTitleForRoute(b){return b.data[gn]}}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:function(){return(0,f.f3M)(Na)},providedIn:"root"}),A})(),Na=(()=>{class A extends tl{constructor(b){super(),this.title=b}updateTitle(b){const M=this.buildTitle(b);void 0!==M&&this.title.setTitle(M)}}return A.\u0275fac=function(b){return new(b||A)(f.LFG(Pt.Dx))},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Wr=(()=>{class A{}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:function(){return(0,f.f3M)(qn)},providedIn:"root"}),A})();class ti{shouldDetach(T){return!1}store(T,b){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,b){return T.routeConfig===b.routeConfig}}let qn=(()=>{class A extends ti{}return A.\u0275fac=function(){let T;return function(M){return(T||(T=f.n5z(A)))(M||A)}}(),A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const bs=new f.OlP("",{providedIn:"root",factory:()=>({})});let qr=(()=>{class A{}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:function(){return(0,f.f3M)(Tn)},providedIn:"root"}),A})(),Tn=(()=>{class A{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,M){return b}}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Dn(A){throw A}function bl(A,T,b){return T.parse("/")}const jr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},an={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class A{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(bs,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Dn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(qr),this.routeReuseStrategy=(0,f.f3M)(Wr),this.urlCreationStrategy=(0,f.f3M)(Gr),this.titleStrategy=(0,f.f3M)(tl),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=at((0,f.f3M)(Jo,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(mo),this.urlSerializer=(0,f.f3M)(fr),this.location=(0,f.f3M)(Ve.Ye),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new An,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId??0},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xi,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const M="popstate"===b.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,M,b.state)},0)}))}navigateToSyncWithBrowser(b,M,z){const pe={replaceUrl:!0},Ce=z?.navigationId?z:null;if(z){const Tt={...z};delete Tt.navigationId,delete Tt.\u0275routerPageId,0!==Object.keys(Tt).length&&(pe.state=Tt)}const rt=this.parseUrl(b);this.scheduleNavigation(rt,M,Ce,pe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(b){this.config=b.map(oi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,M={}){const{relativeTo:z,queryParams:pe,fragment:Ce,queryParamsHandling:rt,preserveFragment:Tt}=M,Zt=Tt?this.currentUrlTree.fragment:Ce;let cn=null;switch(rt){case"merge":cn={...this.currentUrlTree.queryParams,...pe};break;case"preserve":cn=this.currentUrlTree.queryParams;break;default:cn=pe||null}return null!==cn&&(cn=this.removeEmptyProps(cn)),this.urlCreationStrategy.createUrlTree(z,this.routerState,this.currentUrlTree,b,cn,Zt??null)}navigateByUrl(b,M={skipLocationChange:!1}){const z=Pr(b)?b:this.parseUrl(b),pe=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(pe,xi,null,M)}navigate(b,M={skipLocationChange:!1}){return function ma(A){for(let T=0;T<A.length;T++){const b=A[T];if(null==b)throw new f.vHH(4008,false)}}(b),this.navigateByUrl(this.createUrlTree(b,M),M)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let M;try{M=this.urlSerializer.parse(b)}catch(z){M=this.malformedUriErrorHandler(z,this.urlSerializer,b)}return M}isActive(b,M){let z;if(z=!0===M?{...jr}:!1===M?{...an}:M,Pr(b))return dt(this.currentUrlTree,b,z);const pe=this.parseUrl(b);return dt(this.currentUrlTree,pe,z)}removeEmptyProps(b){return Object.keys(b).reduce((M,z)=>{const pe=b[z];return null!=pe&&(M[z]=pe),M},{})}scheduleNavigation(b,M,z,pe,Ce){if(this.disposed)return Promise.resolve(!1);let rt,Tt,Zt,cn;return Ce?(rt=Ce.resolve,Tt=Ce.reject,Zt=Ce.promise):Zt=new Promise((er,ui)=>{rt=er,Tt=ui}),cn="computed"===this.canceledNavigationResolution?z&&z.\u0275routerPageId?z.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:cn,source:M,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:pe,resolve:rt,reject:Tt,promise:Zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Zt.catch(er=>Promise.reject(er))}setBrowserUrl(b,M){const z=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(z)||M.extras.replaceUrl){const Ce={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState(z,"",Ce)}else{const pe={...M.extras.state,...this.generateNgRouterState(M.id,M.targetPageId)};this.location.go(z,"",pe)}}restoreHistory(b,M=!1){if("computed"===this.canceledNavigationResolution){const pe=this.currentPageId-(this.browserPageId??this.currentPageId);0!==pe?this.location.historyGo(pe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===pe&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,M){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:M}:{navigationId:b}}}return A.\u0275fac=function(b){return new(b||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),to=(()=>{class A{constructor(b,M,z,pe,Ce,rt){this.router=b,this.route=M,this.tabIndexAttribute=z,this.renderer=pe,this.el=Ce,this.locationStrategy=rt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Oe.x;const Tt=Ce.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Tt||"area"===Tt,this.isAnchorElement?this.subscription=b.events.subscribe(Zt=>{Zt instanceof Gi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(b){this._preserveFragment=(0,f.D6c)(b)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(b){this._skipLocationChange=(0,f.D6c)(b)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(b){this._replaceUrl=(0,f.D6c)(b)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,M,z,pe,Ce){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||M||z||pe||Ce||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const b=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(b,M){const z=this.renderer,pe=this.el.nativeElement;null!==M?z.setAttribute(pe,b,M):z.removeAttribute(pe,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(b){return new(b||A)(f.Y36(ci),f.Y36(Us),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ve.S$))},A.\u0275dir=f.lG2({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,M){1&b&&f.NdJ("click",function(pe){return M.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&b&&f.uIk("target",M.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),A})();class jo{}let Ho=(()=>{class A{constructor(b,M,z,pe,Ce){this.router=b,this.injector=z,this.preloadingStrategy=pe,this.loader=Ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,H.h)(b=>b instanceof Gi),(0,he.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,M){const z=[];for(const pe of M){pe.providers&&!pe._injector&&(pe._injector=(0,f.MMx)(pe.providers,b,`Route: ${pe.path}`));const Ce=pe._injector??b,rt=pe._loadedInjector??Ce;(pe.loadChildren&&!pe._loadedRoutes&&void 0===pe.canLoad||pe.loadComponent&&!pe._loadedComponent)&&z.push(this.preloadConfig(Ce,pe)),(pe.children||pe._loadedRoutes)&&z.push(this.processRoutes(rt,pe.children??pe._loadedRoutes))}return(0,u.D)(z).pipe((0,Nt.J)())}preloadConfig(b,M){return this.preloadingStrategy.preload(M,()=>{let z;z=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(b,M):(0,J.of)(null);const pe=z.pipe((0,G.z)(Ce=>null===Ce?(0,J.of)(void 0):(M._loadedRoutes=Ce.routes,M._loadedInjector=Ce.injector,this.processRoutes(Ce.injector??b,Ce.routes))));if(M.loadComponent&&!M._loadedComponent){const Ce=this.loader.loadComponent(M);return(0,u.D)([pe,Ce]).pipe((0,Nt.J)())}return pe})}}return A.\u0275fac=function(b){return new(b||A)(f.LFG(ci),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(jo),f.LFG(Ra))},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Si=new f.OlP("");let bi=(()=>{class A{constructor(b,M,z,pe,Ce={}){this.urlSerializer=b,this.transitions=M,this.viewportScroller=z,this.zone=pe,this.options=Ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ce.scrollPositionRestoration=Ce.scrollPositionRestoration||"disabled",Ce.anchorScrolling=Ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Gn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Gi&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof qi&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qi(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return A.\u0275fac=function(b){f.$Z()},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac}),A})();var Cs=(()=>((Cs=Cs||{})[Cs.COMPLETE=0]="COMPLETE",Cs[Cs.FAILED=1]="FAILED",Cs[Cs.REDIRECTING=2]="REDIRECTING",Cs))();const Yi=!1;function ji(A,T){return{\u0275kind:A,\u0275providers:T}}const Zr=new f.OlP("",{providedIn:"root",factory:()=>!1});function $a(){const A=(0,f.f3M)(f.zs3);return T=>{const b=A.get(f.z2F);if(T!==b.components[0])return;const M=A.get(ci),z=A.get(pi);1===A.get(lr)&&M.initialNavigation(),A.get(zs,null,f.XFs.Optional)?.setUpPreloading(),A.get(Si,null,f.XFs.Optional)?.init(),M.resetRootComponentType(b.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const pi=new f.OlP(Yi?"bootstrap done indicator":"",{factory:()=>new Oe.x}),lr=new f.OlP(Yi?"initial navigation":"",{providedIn:"root",factory:()=>1});function su(){let A=[];return A=Yi?[{provide:f.Xts,multi:!0,useFactory:()=>{const T=(0,f.f3M)(ci);return()=>T.events.subscribe(b=>{console.group?.(`Router Event: ${b.constructor.name}`),console.log(function Fs(A){if(!("type"in A))return`Unknown Router Event: ${A.constructor.name}`;switch(A.type){case 14:return`ActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state}, shouldActivate: ${A.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 2:return`NavigationCancel(id: ${A.id}, url: '${A.url}')`;case 16:return`NavigationSkipped(id: ${A.id}, url: '${A.url}')`;case 1:return`NavigationEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${A.id}, url: '${A.url}', error: ${A.error})`;case 0:return`NavigationStart(id: ${A.id}, url: '${A.url}')`;case 6:return`ResolveEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 5:return`ResolveStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 10:return`RouteConfigLoadEnd(path: ${A.route.path})`;case 9:return`RouteConfigLoadStart(path: ${A.route.path})`;case 4:return`RoutesRecognized(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 15:return`Scroll(anchor: '${A.anchor}', position: '${A.position?`${A.position[0]}, ${A.position[1]}`:null}')`}}(b)),console.log(b),console.groupEnd?.()})}}]:[],ji(1,A)}const zs=new f.OlP(Yi?"router preloader":"");function za(A){return ji(0,[{provide:zs,useExisting:Ho},{provide:jo,useExisting:A}])}const La=!1,no=new f.OlP(La?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ou=[Ve.Ye,{provide:fr,useClass:Be},ci,Ei,{provide:Us,useFactory:function _t(A){return A.routerState.root},deps:[ci]},Ra,La?{provide:Zr,useValue:!0}:[]];function Yr(){return new f.PXZ("Router",ci)}let Sl=(()=>{class A{constructor(b){}static forRoot(b,M){return{ngModule:A,providers:[ou,La&&M?.enableTracing?su().\u0275providers:[],{provide:Jo,multi:!0,useValue:b},{provide:no,useFactory:Fa,deps:[[ci,new f.FiY,new f.tp0]]},{provide:bs,useValue:M||{}},M?.useHash?{provide:Ve.S$,useClass:Ve.Do}:{provide:Ve.S$,useClass:Ve.b0},{provide:Si,useFactory:()=>{const A=(0,f.f3M)(Ve.EM),T=(0,f.f3M)(f.R0b),b=(0,f.f3M)(bs),M=(0,f.f3M)(mo),z=(0,f.f3M)(fr);return b.scrollOffset&&A.setOffset(b.scrollOffset),new bi(z,M,A,T,b)}},M?.preloadingStrategy?za(M.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Yr},M?.initialNavigation?rl(M):[],[{provide:il,useFactory:$a},{provide:f.tb,multi:!0,useExisting:il}]]}}static forChild(b){return{ngModule:A,providers:[{provide:Jo,multi:!0,useValue:b}]}}}return A.\u0275fac=function(b){return new(b||A)(f.LFG(no,8))},A.\u0275mod=f.oAB({type:A}),A.\u0275inj=f.cJS({imports:[Or]}),A})();function Fa(A){if(La&&A)throw new f.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function rl(A){return["disabled"===A.initialNavigation?ji(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const T=(0,f.f3M)(ci);return()=>{T.setUpLocationChangeListener()}}},{provide:lr,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?ji(2,[{provide:lr,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:T=>{const b=T.get(Ve.V_,Promise.resolve());return()=>b.then(()=>new Promise(M=>{const z=T.get(ci),pe=T.get(pi);(function $l(A,T){A.events.pipe((0,H.h)(b=>b instanceof Gi||b instanceof $i||b instanceof Xn||b instanceof ks),(0,Le.U)(b=>b instanceof Gi||b instanceof ks?Cs.COMPLETE:b instanceof $i&&(0===b.code||1===b.code)?Cs.REDIRECTING:Cs.FAILED),(0,H.h)(b=>b!==Cs.REDIRECTING),(0,ye.q)(1)).subscribe(()=>{T()})})(z,()=>{M(!0)}),T.get(mo).afterPreactivation=()=>(M(!0),pe.closed?(0,J.of)(void 0):pe),z.initialNavigation()}))}}]).\u0275providers:[]]}const il=new f.OlP(La?"Router Initializer":"")},6881:(Ue,F,j)=>{"use strict";j.d(F,{Jn:()=>ln,qX:()=>$t,Xd:()=>Lt,Mq:()=>_n,ZF:()=>Wt,KN:()=>Un});var f=j(5861),u=j(4859),J=j(1877),Re=j(2090);const _e=(Et,mt)=>mt.some(Bt=>Et instanceof Bt);let Ee,fe;const se=new WeakMap,oe=new WeakMap,De=new WeakMap,te=new WeakMap,ee=new WeakMap;let me={get(Et,mt,Bt){if(Et instanceof IDBTransaction){if("done"===mt)return oe.get(Et);if("objectStoreNames"===mt)return Et.objectStoreNames||De.get(Et);if("store"===mt)return Bt.objectStoreNames[1]?void 0:Bt.objectStore(Bt.objectStoreNames[0])}return K(Et[mt])},set:(Et,mt,Bt)=>(Et[mt]=Bt,!0),has:(Et,mt)=>Et instanceof IDBTransaction&&("done"===mt||"store"===mt)||mt in Et};function D(Et){return"function"==typeof Et?function O(Et){return Et!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Et)?function(...mt){return Et.apply(ue(this),mt),K(se.get(this))}:function(...mt){return K(Et.apply(ue(this),mt))}:function(mt,...Bt){const un=Et.call(ue(this),mt,...Bt);return De.set(un,mt.sort?mt.sort():[mt]),K(un)}}(Et):(Et instanceof IDBTransaction&&function be(Et){if(oe.has(Et))return;const mt=new Promise((Bt,un)=>{const xn=()=>{Et.removeEventListener("complete",Bn),Et.removeEventListener("error",nr),Et.removeEventListener("abort",nr)},Bn=()=>{Bt(),xn()},nr=()=>{un(Et.error||new DOMException("AbortError","AbortError")),xn()};Et.addEventListener("complete",Bn),Et.addEventListener("error",nr),Et.addEventListener("abort",nr)});oe.set(Et,mt)}(Et),_e(Et,function ve(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Et,me):Et)}function K(Et){if(Et instanceof IDBRequest)return function we(Et){const mt=new Promise((Bt,un)=>{const xn=()=>{Et.removeEventListener("success",Bn),Et.removeEventListener("error",nr)},Bn=()=>{Bt(K(Et.result)),xn()},nr=()=>{un(Et.error),xn()};Et.addEventListener("success",Bn),Et.addEventListener("error",nr)});return mt.then(Bt=>{Bt instanceof IDBCursor&&se.set(Bt,Et)}).catch(()=>{}),ee.set(mt,Et),mt}(Et);if(te.has(Et))return te.get(Et);const mt=D(Et);return mt!==Et&&(te.set(Et,mt),ee.set(mt,Et)),mt}const ue=Et=>ee.get(Et),Z=["get","getKey","getAll","getAllKeys","count"],L=["put","add","delete","clear"],ae=new Map;function Se(Et,mt){if(!(Et instanceof IDBDatabase)||mt in Et||"string"!=typeof mt)return;if(ae.get(mt))return ae.get(mt);const Bt=mt.replace(/FromIndex$/,""),un=mt!==Bt,xn=L.includes(Bt);if(!(Bt in(un?IDBIndex:IDBObjectStore).prototype)||!xn&&!Z.includes(Bt))return;const Bn=function(){var nr=(0,f.Z)(function*(Pr,...gr){const ki=this.transaction(Pr,xn?"readwrite":"readonly");let is=ki.store;return un&&(is=is.index(gr.shift())),(yield Promise.all([is[Bt](...gr),xn&&ki.done]))[0]});return function(gr){return nr.apply(this,arguments)}}();return ae.set(mt,Bn),Bn}!function ge(Et){me=Et(me)}(Et=>({...Et,get:(mt,Bt,un)=>Se(mt,Bt)||Et.get(mt,Bt,un),has:(mt,Bt)=>!!Se(mt,Bt)||Et.has(mt,Bt)}));class Oe{constructor(mt){this.container=mt}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function Ve(Et){return"VERSION"===Et.getComponent()?.type}(Bt)){const un=Bt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(Bt=>Bt).join(" ")}}const Le="@firebase/app",ye=new J.Yd("@firebase/app"),Ie="[DEFAULT]",Je={[Le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},at=new Map,bt=new Map;function Ke(Et,mt){try{Et.container.addComponent(mt)}catch(Bt){ye.debug(`Component ${mt.name} failed to register with FirebaseApp ${Et.name}`,Bt)}}function Lt(Et){const mt=Et.name;if(bt.has(mt))return ye.debug(`There were multiple attempts to register component ${mt}.`),!1;bt.set(mt,Et);for(const Bt of at.values())Ke(Bt,Et);return!0}function $t(Et,mt){const Bt=Et.container.getProvider("heartbeat").getImmediate({optional:!0});return Bt&&Bt.triggerHeartbeat(),Et.container.getProvider(mt)}const st=new Re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lt{constructor(mt,Bt,un){this._isDeleted=!1,this._options=Object.assign({},mt),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this.checkDestroyed(),this._automaticDataCollectionEnabled=mt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(mt){this._isDeleted=mt}checkDestroyed(){if(this.isDeleted)throw st.create("app-deleted",{appName:this._name})}}const ln="9.23.0";function Wt(Et,mt={}){let Bt=Et;"object"!=typeof mt&&(mt={name:mt});const un=Object.assign({name:Ie,automaticDataCollectionEnabled:!1},mt),xn=un.name;if("string"!=typeof xn||!xn)throw st.create("bad-app-name",{appName:String(xn)});if(Bt||(Bt=(0,Re.aH)()),!Bt)throw st.create("no-options");const Bn=at.get(xn);if(Bn){if((0,Re.vZ)(Bt,Bn.options)&&(0,Re.vZ)(un,Bn.config))return Bn;throw st.create("duplicate-app",{appName:xn})}const nr=new u.H0(xn);for(const gr of bt.values())nr.addComponent(gr);const Pr=new lt(Bt,un,nr);return at.set(xn,Pr),Pr}function _n(Et=Ie){const mt=at.get(Et);if(!mt&&Et===Ie&&(0,Re.aH)())return Wt();if(!mt)throw st.create("no-app",{appName:Et});return mt}function Un(Et,mt,Bt){var un;let xn=null!==(un=Je[Et])&&void 0!==un?un:Et;Bt&&(xn+=`-${Bt}`);const Bn=xn.match(/\s|\//),nr=mt.match(/\s|\//);if(Bn||nr){const Pr=[`Unable to register library "${xn}" with version "${mt}":`];return Bn&&Pr.push(`library name "${xn}" contains illegal characters (whitespace or "/")`),Bn&&nr&&Pr.push("and"),nr&&Pr.push(`version name "${mt}" contains illegal characters (whitespace or "/")`),void ye.warn(Pr.join(" "))}Lt(new u.wA(`${xn}-version`,()=>({library:xn,version:mt}),"VERSION"))}const cr="firebase-heartbeat-database",fr=1,Be="firebase-heartbeat-store";let Ge=null;function et(){return Ge||(Ge=function X(Et,mt,{blocked:Bt,upgrade:un,blocking:xn,terminated:Bn}={}){const nr=indexedDB.open(Et,mt),Pr=K(nr);return un&&nr.addEventListener("upgradeneeded",gr=>{un(K(nr.result),gr.oldVersion,gr.newVersion,K(nr.transaction),gr)}),Bt&&nr.addEventListener("blocked",gr=>Bt(gr.oldVersion,gr.newVersion,gr)),Pr.then(gr=>{Bn&&gr.addEventListener("close",()=>Bn()),xn&&gr.addEventListener("versionchange",ki=>xn(ki.oldVersion,ki.newVersion,ki))}).catch(()=>{}),Pr}(cr,fr,{upgrade:(Et,mt)=>{0===mt&&Et.createObjectStore(Be)}}).catch(Et=>{throw st.create("idb-open",{originalErrorMessage:Et.message})})),Ge}function gt(){return(gt=(0,f.Z)(function*(Et){try{return yield(yield et()).transaction(Be).objectStore(Be).get(Xe(Et))}catch(mt){if(mt instanceof Re.ZR)ye.warn(mt.message);else{const Bt=st.create("idb-get",{originalErrorMessage:mt?.message});ye.warn(Bt.message)}}})).apply(this,arguments)}function en(Et,mt){return tt.apply(this,arguments)}function tt(){return(tt=(0,f.Z)(function*(Et,mt){try{const un=(yield et()).transaction(Be,"readwrite");yield un.objectStore(Be).put(mt,Xe(Et)),yield un.done}catch(Bt){if(Bt instanceof Re.ZR)ye.warn(Bt.message);else{const un=st.create("idb-set",{originalErrorMessage:Bt?.message});ye.warn(un.message)}}})).apply(this,arguments)}function Xe(Et){return`${Et.name}!${Et.options.appId}`}class xt{constructor(mt){this.container=mt,this._heartbeatsCache=null;const Bt=this.container.getProvider("app").getImmediate();this._storage=new En(Bt),this._heartbeatsCachePromise=this._storage.read().then(un=>(this._heartbeatsCache=un,un))}triggerHeartbeat(){var mt=this;return(0,f.Z)(function*(){const un=mt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xn=Ht();if(null===mt._heartbeatsCache&&(mt._heartbeatsCache=yield mt._heartbeatsCachePromise),mt._heartbeatsCache.lastSentHeartbeatDate!==xn&&!mt._heartbeatsCache.heartbeats.some(Bn=>Bn.date===xn))return mt._heartbeatsCache.heartbeats.push({date:xn,agent:un}),mt._heartbeatsCache.heartbeats=mt._heartbeatsCache.heartbeats.filter(Bn=>{const nr=new Date(Bn.date).valueOf();return Date.now()-nr<=2592e6}),mt._storage.overwrite(mt._heartbeatsCache)})()}getHeartbeatsHeader(){var mt=this;return(0,f.Z)(function*(){if(null===mt._heartbeatsCache&&(yield mt._heartbeatsCachePromise),null===mt._heartbeatsCache||0===mt._heartbeatsCache.heartbeats.length)return"";const Bt=Ht(),{heartbeatsToSend:un,unsentEntries:xn}=function Cn(Et,mt=1024){const Bt=[];let un=Et.slice();for(const xn of Et){const Bn=Bt.find(nr=>nr.agent===xn.agent);if(Bn){if(Bn.dates.push(xn.date),vr(Bt)>mt){Bn.dates.pop();break}}else if(Bt.push({agent:xn.agent,dates:[xn.date]}),vr(Bt)>mt){Bt.pop();break}un=un.slice(1)}return{heartbeatsToSend:Bt,unsentEntries:un}}(mt._heartbeatsCache.heartbeats),Bn=(0,Re.L)(JSON.stringify({version:2,heartbeats:un}));return mt._heartbeatsCache.lastSentHeartbeatDate=Bt,xn.length>0?(mt._heartbeatsCache.heartbeats=xn,yield mt._storage.overwrite(mt._heartbeatsCache)):(mt._heartbeatsCache.heartbeats=[],mt._storage.overwrite(mt._heartbeatsCache)),Bn})()}}function Ht(){return(new Date).toISOString().substring(0,10)}class En{constructor(mt){this.app=mt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,Re.hl)()&&(0,Re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var mt=this;return(0,f.Z)(function*(){return(yield mt._canUseIndexedDBPromise)&&(yield function It(Et){return gt.apply(this,arguments)}(mt.app))||{heartbeats:[]}})()}overwrite(mt){var Bt=this;return(0,f.Z)(function*(){var un;if(yield Bt._canUseIndexedDBPromise){const Bn=yield Bt.read();return en(Bt.app,{lastSentHeartbeatDate:null!==(un=mt.lastSentHeartbeatDate)&&void 0!==un?un:Bn.lastSentHeartbeatDate,heartbeats:mt.heartbeats})}})()}add(mt){var Bt=this;return(0,f.Z)(function*(){var un;if(yield Bt._canUseIndexedDBPromise){const Bn=yield Bt.read();return en(Bt.app,{lastSentHeartbeatDate:null!==(un=mt.lastSentHeartbeatDate)&&void 0!==un?un:Bn.lastSentHeartbeatDate,heartbeats:[...Bn.heartbeats,...mt.heartbeats]})}})()}}function vr(Et){return(0,Re.L)(JSON.stringify({version:2,heartbeats:Et})).length}!function rs(Et){Lt(new u.wA("platform-logger",mt=>new Oe(mt),"PRIVATE")),Lt(new u.wA("heartbeat",mt=>new xt(mt),"PRIVATE")),Un(Le,"0.9.13",Et),Un(Le,"0.9.13","esm2017"),Un("fire-js","")}("")},4859:(Ue,F,j)=>{"use strict";j.d(F,{H0:()=>ve,wA:()=>J});var f=j(5861),u=j(2090);class J{constructor(se,oe,De){this.name=se,this.instanceFactory=oe,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const Re="[DEFAULT]";class _e{constructor(se,oe){this.name=se,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const oe=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(oe)){const De=new u.BH;if(this.instancesDeferred.set(oe,De),this.isInitialized(oe)||this.shouldAutoInitialize())try{const te=this.getOrInitializeService({instanceIdentifier:oe});te&&De.resolve(te)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(se){var oe;const De=this.normalizeInstanceIdentifier(se?.identifier),te=null!==(oe=se?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(te)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(ee){if(te)return null;throw ee}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function fe(ke){return"EAGER"===ke.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:Re})}catch{}for(const[oe,De]of this.instancesDeferred.entries()){const te=this.normalizeInstanceIdentifier(oe);try{const ee=this.getOrInitializeService({instanceIdentifier:te});De.resolve(ee)}catch{}}}}clearInstance(se=Re){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,f.Z)(function*(){const oe=Array.from(se.instances.values());yield Promise.all([...oe.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...oe.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=Re){return this.instances.has(se)}getOptions(se=Re){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:oe={}}=se,De=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const te=this.getOrInitializeService({instanceIdentifier:De,options:oe});for(const[ee,we]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(ee)&&we.resolve(te);return te}onInit(se,oe){var De;const te=this.normalizeInstanceIdentifier(oe),ee=null!==(De=this.onInitCallbacks.get(te))&&void 0!==De?De:new Set;ee.add(se),this.onInitCallbacks.set(te,ee);const we=this.instances.get(te);return we&&se(we,te),()=>{ee.delete(se)}}invokeOnInitCallbacks(se,oe){const De=this.onInitCallbacks.get(oe);if(De)for(const te of De)try{te(se,oe)}catch{}}getOrInitializeService({instanceIdentifier:se,options:oe={}}){let De=this.instances.get(se);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=se,ke===Re?void 0:ke),options:oe}),this.instances.set(se,De),this.instancesOptions.set(se,oe),this.invokeOnInitCallbacks(De,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,De)}catch{}var ke;return De||null}normalizeInstanceIdentifier(se=Re){return this.component?this.component.multipleInstances?se:Re:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const oe=this.getProvider(se.name);if(oe.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);oe.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const oe=new _e(se,this);return this.providers.set(se,oe),oe}getProviders(){return Array.from(this.providers.values())}}},1877:(Ue,F,j)=>{"use strict";j.d(F,{Yd:()=>fe,in:()=>u});const f=[];var u=(()=>{return(se=u||(u={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",u;var se})();const J={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},Re=u.INFO,_e={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},Ee=(se,oe,...De)=>{if(oe<se.logLevel)return;const te=(new Date).toISOString(),ee=_e[oe];if(!ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[ee](`[${te}]  ${se.name}:`,...De)};class fe{constructor(oe){this.name=oe,this._logLevel=Re,this._logHandler=Ee,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in u))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?J[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...oe),this._logHandler(this,u.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...oe),this._logHandler(this,u.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,u.INFO,...oe),this._logHandler(this,u.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,u.WARN,...oe),this._logHandler(this,u.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...oe),this._logHandler(this,u.ERROR,...oe)}}},7280:(Ue,F,j)=>{"use strict";j.d(F,{hJ:()=>Ta,v0:()=>rc,rh:()=>Ce,w7:()=>Ot});var f=j(5861),u=j(2090),J=j(6881),Re=j(7582),_e=j(1877),Ee=j(4859);const we=function te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new u.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new _e.Yd("@firebase/auth");function D(I,...p){ge.logLevel<=_e.in.ERROR&&ge.error(`Auth (${J.Jn}): ${I}`,...p)}function K(I,...p){throw Z(I,...p)}function ue(I,...p){return Z(I,...p)}function X(I,p,y){const x=Object.assign(Object.assign({},we()),{[p]:y});return new u.LL("auth","Firebase",x).create(p,{appName:I.name})}function Z(I,...p){if("string"!=typeof I){const y=p[0],x=[...p.slice(1)];return x[0]&&(x[0].appName=I.name),I._errorFactory.create(y,...x)}return be.create(I,...p)}function L(I,p,...y){if(!I)throw Z(p,...y)}function ae(I){const p="INTERNAL ASSERTION FAILED: "+I;throw D(p),new Error(p)}function Se(I,p){I||ae(p)}function Oe(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Le(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Q{constructor(p,y){this.shortDelay=p,this.longDelay=y,Se(y>p,"Short delay should be less than long delay!"),this.isMobile=(0,u.uI)()||(0,u.b$)()}get(){return function nt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ve(){return"http:"===Le()||"https:"===Le()}()||(0,u.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function H(I,p){Se(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return p?`${y}${p.startsWith("/")?p.slice(1):p}`:y}class G{static initialize(p,y,x){this.fetchImpl=p,y&&(this.headersImpl=y),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},S=new Q(3e4,6e4);function N(I,p){return I.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:I.tenantId}):p}function W(I,p,y,x){return he.apply(this,arguments)}function he(){return(he=(0,f.Z)(function*(I,p,y,x,ce={}){return le(I,ce,(0,f.Z)(function*(){let Me={},ot={};x&&("GET"===p?ot=x:Me={body:JSON.stringify(x)});const Dt=(0,u.xO)(Object.assign({key:I.config.apiKey},ot)).slice(1),tn=yield I._getAdditionalHeaders();return tn["Content-Type"]="application/json",I.languageCode&&(tn["X-Firebase-Locale"]=I.languageCode),G.fetch()(qe(I,I.config.apiHost,y,Dt),Object.assign({method:p,headers:tn,referrerPolicy:"no-referrer"},Me))}))})).apply(this,arguments)}function le(I,p,y){return Y.apply(this,arguments)}function Y(){return(Y=(0,f.Z)(function*(I,p,y){I._canInitEmulator=!1;const x=Object.assign(Object.assign({},V),p);try{const ce=new ze(I),Me=yield Promise.race([y(),ce.promise]);ce.clearNetworkTimeout();const ot=yield Me.json();if("needConfirmation"in ot)throw ft(I,"account-exists-with-different-credential",ot);if(Me.ok&&!("errorMessage"in ot))return ot;{const Dt=Me.ok?ot.errorMessage:ot.error.message,[tn,pn]=Dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tn)throw ft(I,"credential-already-in-use",ot);if("EMAIL_EXISTS"===tn)throw ft(I,"email-already-in-use",ot);if("USER_DISABLED"===tn)throw ft(I,"user-disabled",ot);const Pn=x[tn]||tn.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw X(I,Pn,pn);K(I,Pn)}}catch(ce){if(ce instanceof u.ZR)throw ce;K(I,"network-request-failed",{message:String(ce)})}})).apply(this,arguments)}function He(I,p,y,x){return We.apply(this,arguments)}function We(){return(We=(0,f.Z)(function*(I,p,y,x,ce={}){const Me=yield W(I,p,y,x,ce);return"mfaPendingCredential"in Me&&K(I,"multi-factor-auth-required",{_serverResponse:Me}),Me})).apply(this,arguments)}function qe(I,p,y,x){const ce=`${p}${y}?${x}`;return I.config.emulator?H(I.config,ce):`${I.config.apiScheme}://${ce}`}class ze{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((y,x)=>{this.timer=setTimeout(()=>x(ue(this.auth,"network-request-failed")),S.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ft(I,p,y){const x={appName:I.name};y.email&&(x.email=y.email),y.phoneNumber&&(x.phoneNumber=y.phoneNumber);const ce=ue(I,p,x);return ce.customData._tokenResponse=y,ce}function Ut(){return(Ut=(0,f.Z)(function*(I,p){return W(I,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(I,p){return W(I,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function qt(I){if(I)try{const p=new Date(Number(I));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ut(){return(ut=(0,f.Z)(function*(I,p=!1){const y=(0,u.m9)(I),x=yield y.getIdToken(p),ce=Je(x);L(ce&&ce.exp&&ce.auth_time&&ce.iat,y.auth,"internal-error");const Me="object"==typeof ce.firebase?ce.firebase:void 0,ot=Me?.sign_in_provider;return{claims:ce,token:x,authTime:qt(Ie(ce.auth_time)),issuedAtTime:qt(Ie(ce.iat)),expirationTime:qt(Ie(ce.exp)),signInProvider:ot||null,signInSecondFactor:Me?.sign_in_second_factor||null}})).apply(this,arguments)}function Ie(I){return 1e3*Number(I)}function Je(I){const[p,y,x]=I.split(".");if(void 0===p||void 0===y||void 0===x)return D("JWT malformed, contained fewer than 3 sections"),null;try{const ce=(0,u.tV)(y);return ce?JSON.parse(ce):(D("Failed to decode base64 JWT payload"),null)}catch(ce){return D("Caught error parsing JWT payload as JSON",ce?.toString()),null}}function bt(I,p){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,f.Z)(function*(I,p,y=!1){if(y)return p;try{return yield p}catch(x){throw x instanceof u.ZR&&function pt({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(x)&&I.auth.currentUser===I&&(yield I.auth.signOut()),x}})).apply(this,arguments)}class Lt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var y;if(p){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const ce=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,ce)}}schedule(p=!1){var y=this;if(!this.isRunning)return;const x=this.getInterval(p);this.timerId=setTimeout((0,f.Z)(function*(){yield y.iteration()}),x)}iteration(){var p=this;return(0,f.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&p.schedule(!0))}p.schedule()})()}}class $t{constructor(p,y){this.createdAt=p,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=qt(this.lastLoginAt),this.creationTime=qt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vn(I){return zn.apply(this,arguments)}function zn(){return zn=(0,f.Z)(function*(I){var p;const y=I.auth,x=yield I.getIdToken(),ce=yield bt(I,function zt(I,p){return gn.apply(this,arguments)}(y,{idToken:x}));L(ce?.users.length,y,"internal-error");const Me=ce.users[0];I._notifyReloadListener(Me);const ot=null!==(p=Me.providerUserInfo)&&void 0!==p&&p.length?function ln(I){return I.map(p=>{var{providerId:y}=p,x=(0,Re._T)(p,["providerId"]);return{providerId:y,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(Me.providerUserInfo):[],Dt=function lt(I,p){return[...I.filter(x=>!p.some(ce=>ce.providerId===x.providerId)),...p]}(I.providerData,ot),Pn=!!I.isAnonymous&&!(I.email&&Me.passwordHash||Dt?.length),mr={uid:Me.localId,displayName:Me.displayName||null,photoURL:Me.photoUrl||null,email:Me.email||null,emailVerified:Me.emailVerified||!1,phoneNumber:Me.phoneNumber||null,tenantId:Me.tenantId||null,providerData:Dt,metadata:new $t(Me.createdAt,Me.lastLoginAt),isAnonymous:Pn};Object.assign(I,mr)}),zn.apply(this,arguments)}function st(){return(st=(0,f.Z)(function*(I){const p=(0,u.m9)(I);yield vn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(I,p){const y=yield le(I,{},(0,f.Z)(function*(){const x=(0,u.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:ce,apiKey:Me}=I.config,ot=qe(I,ce,"/v1/token",`key=${Me}`),Dt=yield I._getAdditionalHeaders();return Dt["Content-Type"]="application/x-www-form-urlencoded",G.fetch()(ot,{method:"POST",headers:Dt,body:x})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){L(p.idToken,"internal-error"),L(typeof p.idToken<"u","internal-error"),L(typeof p.refreshToken<"u","internal-error");const y="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function at(I){const p=Je(I);return L(p,"internal-error"),L(typeof p.exp<"u","internal-error"),L(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,y)}getToken(p,y=!1){var x=this;return(0,f.Z)(function*(){return L(!x.accessToken||x.refreshToken,p,"user-token-expired"),y||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(p,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,y){var x=this;return(0,f.Z)(function*(){const{accessToken:ce,refreshToken:Me,expiresIn:ot}=yield function Wt(I,p){return _n.apply(this,arguments)}(p,y);x.updateTokensAndExpiration(ce,Me,Number(ot))})()}updateTokensAndExpiration(p,y,x){this.refreshToken=y||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(p,y){const{refreshToken:x,accessToken:ce,expirationTime:Me}=y,ot=new Xt;return x&&(L("string"==typeof x,"internal-error",{appName:p}),ot.refreshToken=x),ce&&(L("string"==typeof ce,"internal-error",{appName:p}),ot.accessToken=ce),Me&&(L("number"==typeof Me,"internal-error",{appName:p}),ot.expirationTime=Me),ot}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Xt,this.toJSON())}_performRefresh(){return ae("not implemented")}}function An(I,p){L("string"==typeof I||typeof I>"u","internal-error",{appName:p})}class Yt{constructor(p){var{uid:y,auth:x,stsTokenManager:ce}=p,Me=(0,Re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=x,this.stsTokenManager=ce,this.accessToken=ce.accessToken,this.displayName=Me.displayName||null,this.email=Me.email||null,this.emailVerified=Me.emailVerified||!1,this.phoneNumber=Me.phoneNumber||null,this.photoURL=Me.photoURL||null,this.isAnonymous=Me.isAnonymous||!1,this.tenantId=Me.tenantId||null,this.providerData=Me.providerData?[...Me.providerData]:[],this.metadata=new $t(Me.createdAt||void 0,Me.lastLoginAt||void 0)}getIdToken(p){var y=this;return(0,f.Z)(function*(){const x=yield bt(y,y.stsTokenManager.getToken(y.auth,p));return L(x,y.auth,"internal-error"),y.accessToken!==x&&(y.accessToken=x,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),x})()}getIdTokenResult(p){return function Vn(I){return ut.apply(this,arguments)}(this,p)}reload(){return function dt(I){return st.apply(this,arguments)}(this)}_assign(p){this!==p&&(L(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(y=>Object.assign({},y)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const y=new Yt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(p){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,y=!1){var x=this;return(0,f.Z)(function*(){let ce=!1;p.idToken&&p.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(p),ce=!0),y&&(yield vn(x)),yield x.auth._persistUserIfCurrent(x),ce&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var p=this;return(0,f.Z)(function*(){const y=yield p.getIdToken();return yield bt(p,function Rt(I,p){return Ut.apply(this,arguments)}(p.auth,{idToken:y})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,y){var x,ce,Me,ot,Dt,tn,pn,Pn;const mr=null!==(x=y.displayName)&&void 0!==x?x:void 0,io=null!==(ce=y.email)&&void 0!==ce?ce:void 0,qs=null!==(Me=y.phoneNumber)&&void 0!==Me?Me:void 0,ic=null!==(ot=y.photoURL)&&void 0!==ot?ot:void 0,yo=null!==(Dt=y.tenantId)&&void 0!==Dt?Dt:void 0,hu=null!==(tn=y._redirectEventId)&&void 0!==tn?tn:void 0,Ml=null!==(pn=y.createdAt)&&void 0!==pn?pn:void 0,fu=null!==(Pn=y.lastLoginAt)&&void 0!==Pn?Pn:void 0,{uid:Ds,emailVerified:pu,isAnonymous:Rl,providerData:sd,stsTokenManager:ff}=y;L(Ds&&ff,p,"internal-error");const tr=Xt.fromJSON(this.name,ff);L("string"==typeof Ds,p,"internal-error"),An(mr,p.name),An(io,p.name),L("boolean"==typeof pu,p,"internal-error"),L("boolean"==typeof Rl,p,"internal-error"),An(qs,p.name),An(ic,p.name),An(yo,p.name),An(hu,p.name),An(Ml,p.name),An(fu,p.name);const od=new Yt({uid:Ds,auth:p,email:io,emailVerified:pu,displayName:mr,isAnonymous:Rl,photoURL:ic,phoneNumber:qs,tenantId:yo,stsTokenManager:tr,createdAt:Ml,lastLoginAt:fu});return sd&&Array.isArray(sd)&&(od.providerData=sd.map(gu=>Object.assign({},gu))),hu&&(od._redirectEventId=hu),od}static _fromIdTokenResponse(p,y,x=!1){return(0,f.Z)(function*(){const ce=new Xt;ce.updateFromServerResponse(y);const Me=new Yt({uid:y.localId,auth:p,stsTokenManager:ce,isAnonymous:x});return yield vn(Me),Me})()}}const Un=new Map;function Wn(I){Se(I instanceof Function,"Expected a class definition");let p=Un.get(I);return p?(Se(p instanceof I,"Instance stored in cache mismatched with class"),p):(p=new I,Un.set(I,p),p)}const cr=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(y,x){var ce=this;return(0,f.Z)(function*(){ce.storage[y]=x})()}_get(y){var x=this;return(0,f.Z)(function*(){const ce=x.storage[y];return void 0===ce?null:ce})()}_remove(y){var x=this;return(0,f.Z)(function*(){delete x.storage[y]})()}_addListener(y,x){}_removeListener(y,x){}}return I.type="NONE",I})();function fr(I,p,y){return`firebase:${I}:${p}:${y}`}class Be{constructor(p,y,x){this.persistence=p,this.auth=y,this.userKey=x;const{config:ce,name:Me}=this.auth;this.fullUserKey=fr(this.userKey,ce.apiKey,Me),this.fullPersistenceKey=fr("persistence",ce.apiKey,Me),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,f.Z)(function*(){const y=yield p.persistence._get(p.fullUserKey);return y?Yt._fromJSON(p.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var y=this;return(0,f.Z)(function*(){if(y.persistence===p)return;const x=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=p,x?y.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,y,x="authUser"){return(0,f.Z)(function*(){if(!y.length)return new Be(Wn(cr),p,x);const ce=(yield Promise.all(y.map(function(){var pn=(0,f.Z)(function*(Pn){if(yield Pn._isAvailable())return Pn});return function(Pn){return pn.apply(this,arguments)}}()))).filter(pn=>pn);let Me=ce[0]||Wn(cr);const ot=fr(x,p.config.apiKey,p.name);let Dt=null;for(const pn of y)try{const Pn=yield pn._get(ot);if(Pn){const mr=Yt._fromJSON(p,Pn);pn!==Me&&(Dt=mr),Me=pn;break}}catch{}const tn=ce.filter(pn=>pn._shouldAllowMigration);return Me._shouldAllowMigration&&tn.length?(Me=tn[0],Dt&&(yield Me._set(ot,Dt.toJSON())),yield Promise.all(y.map(function(){var pn=(0,f.Z)(function*(Pn){if(Pn!==Me)try{yield Pn._remove(ot)}catch{}});return function(Pn){return pn.apply(this,arguments)}}())),new Be(Me,p,x)):new Be(Me,p,x)})()}}function Ge(I){const p=I.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(en(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(et(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Xe(p))return"Blackberry";if(Fe(p))return"Webos";if(It(p))return"Safari";if((p.includes("chrome/")||gt(p))&&!p.includes("edge/"))return"Chrome";if(tt(p))return"Android";{const x=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function et(I=(0,u.z$)()){return/firefox\//i.test(I)}function It(I=(0,u.z$)()){const p=I.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function gt(I=(0,u.z$)()){return/crios\//i.test(I)}function en(I=(0,u.z$)()){return/iemobile/i.test(I)}function tt(I=(0,u.z$)()){return/android/i.test(I)}function Xe(I=(0,u.z$)()){return/blackberry/i.test(I)}function Fe(I=(0,u.z$)()){return/webos/i.test(I)}function ct(I=(0,u.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function En(I=(0,u.z$)()){return ct(I)||tt(I)||Fe(I)||Xe(I)||/windows phone/i.test(I)||en(I)}function rs(I,p=[]){let y;switch(I){case"Browser":y=Ge((0,u.z$)());break;case"Worker":y=`${Ge((0,u.z$)())}-${I}`;break;default:y=I}const x=p.length?p.join(","):"FirebaseCore-web";return`${y}/JsCore/${J.Jn}/${x}`}function Bt(I,p){return un.apply(this,arguments)}function un(){return(un=(0,f.Z)(function*(I,p){return W(I,"GET","/v2/recaptchaConfig",N(I,p))})).apply(this,arguments)}function Bn(I){return void 0!==I&&void 0!==I.enterprise}class nr{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function gr(I){return new Promise((p,y)=>{const x=document.createElement("script");x.setAttribute("src",I),x.onload=p,x.onerror=ce=>{const Me=ue("internal-error");Me.customData=ce,y(Me)},x.type="text/javascript",x.charset="UTF-8",function Pr(){var I,p;return null!==(p=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==p?p:document}().appendChild(x)})}function ki(I){return`__${I}${Math.floor(1e6*Math.random())}`}const hi="NO_RECAPTCHA";class Ms{constructor(p){this.type="recaptcha-enterprise",this.auth=ar(p)}verify(p="verify",y=!1){var x=this;return(0,f.Z)(function*(){function Me(){return Me=(0,f.Z)(function*(Dt){if(!y){if(null==Dt.tenantId&&null!=Dt._agentRecaptchaConfig)return Dt._agentRecaptchaConfig.siteKey;if(null!=Dt.tenantId&&void 0!==Dt._tenantRecaptchaConfigs[Dt.tenantId])return Dt._tenantRecaptchaConfigs[Dt.tenantId].siteKey}return new Promise(function(){var tn=(0,f.Z)(function*(pn,Pn){Bt(Dt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(mr=>{if(void 0!==mr.recaptchaKey){const io=new nr(mr);return null==Dt.tenantId?Dt._agentRecaptchaConfig=io:Dt._tenantRecaptchaConfigs[Dt.tenantId]=io,pn(io.siteKey)}Pn(new Error("recaptcha Enterprise site key undefined"))}).catch(mr=>{Pn(mr)})});return function(pn,Pn){return tn.apply(this,arguments)}}())}),Me.apply(this,arguments)}function ot(Dt,tn,pn){const Pn=window.grecaptcha;Bn(Pn)?Pn.enterprise.ready(()=>{Pn.enterprise.execute(Dt,{action:p}).then(mr=>{tn(mr)}).catch(()=>{tn(hi)})}):pn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Dt,tn)=>{(function ce(Dt){return Me.apply(this,arguments)})(x.auth).then(pn=>{if(!y&&Bn(window.grecaptcha))ot(pn,Dt,tn);else{if(typeof window>"u")return void tn(new Error("RecaptchaVerifier is only supported in browser"));gr("https://www.google.com/recaptcha/enterprise.js?render="+pn).then(()=>{ot(pn,Dt,tn)}).catch(Pn=>{tn(Pn)})}}).catch(pn=>{tn(pn)})})})()}}class Xr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,y){const x=Me=>new Promise((ot,Dt)=>{try{ot(p(Me))}catch(tn){Dt(tn)}});x.onAbort=y,this.queue.push(x);const ce=this.queue.length-1;return()=>{this.queue[ce]=()=>Promise.resolve()}}runMiddleware(p){var y=this;return(0,f.Z)(function*(){if(y.auth.currentUser===p)return;const x=[];try{for(const ce of y.queue)yield ce(p),ce.onAbort&&x.push(ce.onAbort)}catch(ce){x.reverse();for(const Me of x)try{Me()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:ce?.message})}})()}}class ss{constructor(p,y,x,ce){this.app=p,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=x,this.config=ce,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rs(this),this.idTokenSubscription=new Rs(this),this.beforeStateQueue=new Xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=ce.sdkClientVersion}_initializeWithPersistence(p,y){var x=this;return y&&(this._popupRedirectResolver=Wn(y)),this._initializationPromise=this.queue((0,f.Z)(function*(){var ce,Me;if(!x._deleted&&(x.persistenceManager=yield Be.create(x,p),!x._deleted)){if(null!==(ce=x._popupRedirectResolver)&&void 0!==ce&&ce._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(y),x.lastNotifiedUid=(null===(Me=x.currentUser)||void 0===Me?void 0:Me.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,f.Z)(function*(){if(p._deleted)return;const y=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||y){if(p.currentUser&&y&&p.currentUser.uid===y.uid)return p._currentUser._assign(y),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(y,!0)}})()}initializeCurrentUser(p){var y=this;return(0,f.Z)(function*(){var x;const ce=yield y.assertedPersistence.getCurrentUser();let Me=ce,ot=!1;if(p&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Dt=null===(x=y.redirectUser)||void 0===x?void 0:x._redirectEventId,tn=Me?._redirectEventId,pn=yield y.tryRedirectSignIn(p);(!Dt||Dt===tn)&&pn?.user&&(Me=pn.user,ot=!0)}if(!Me)return y.directlySetCurrentUser(null);if(!Me._redirectEventId){if(ot)try{yield y.beforeStateQueue.runMiddleware(Me)}catch(Dt){Me=ce,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Dt))}return Me?y.reloadAndSetCurrentUserOrClear(Me):y.directlySetCurrentUser(null)}return L(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===Me._redirectEventId?y.directlySetCurrentUser(Me):y.reloadAndSetCurrentUserOrClear(Me)})()}tryRedirectSignIn(p){var y=this;return(0,f.Z)(function*(){let x=null;try{x=yield y._popupRedirectResolver._completeRedirectFn(y,p,!0)}catch{yield y._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(p){var y=this;return(0,f.Z)(function*(){try{yield vn(p)}catch(x){if("auth/network-request-failed"!==x?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ye(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var p=this;return(0,f.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var y=this;return(0,f.Z)(function*(){const x=p?(0,u.m9)(p):null;return x&&L(x.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(x&&x._clone(y))})()}_updateCurrentUser(p,y=!1){var x=this;return(0,f.Z)(function*(){if(!x._deleted)return p&&L(x.tenantId===p.tenantId,x,"tenant-id-mismatch"),y||(yield x.beforeStateQueue.runMiddleware(p)),x.queue((0,f.Z)(function*(){yield x.directlySetCurrentUser(p),x.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,f.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var y=this;return this.queue((0,f.Z)(function*(){yield y.assertedPersistence.setPersistence(Wn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,f.Z)(function*(){const y=yield Bt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),x=new nr(y);null==p.tenantId?p._agentRecaptchaConfig=x:p._tenantRecaptchaConfigs[p.tenantId]=x,x.emailPasswordEnabled&&new Ms(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new u.LL("auth","Firebase",p())}onAuthStateChanged(p,y,x){return this.registerStateListener(this.authStateSubscription,p,y,x)}beforeAuthStateChanged(p,y){return this.beforeStateQueue.pushCallback(p,y)}onIdTokenChanged(p,y,x){return this.registerStateListener(this.idTokenSubscription,p,y,x)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,y){var x=this;return(0,f.Z)(function*(){const ce=yield x.getOrInitRedirectPersistenceManager(y);return null===p?ce.removeCurrentUser():ce.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var y=this;return(0,f.Z)(function*(){if(!y.redirectPersistenceManager){const x=p&&Wn(p)||y._popupRedirectResolver;L(x,y,"argument-error"),y.redirectPersistenceManager=yield Be.create(y,[Wn(x._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(p){var y=this;return(0,f.Z)(function*(){var x,ce;return y._isInitialized&&(yield y.queue((0,f.Z)(function*(){}))),(null===(x=y._currentUser)||void 0===x?void 0:x._redirectEventId)===p?y._currentUser:(null===(ce=y.redirectUser)||void 0===ce?void 0:ce._redirectEventId)===p?y.redirectUser:null})()}_persistUserIfCurrent(p){var y=this;return(0,f.Z)(function*(){if(p===y.currentUser)return y.queue((0,f.Z)(function*(){return y.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(y=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,y,x,ce){if(this._deleted)return()=>{};const Me="function"==typeof y?y:y.next.bind(y),ot=this._isInitialized?Promise.resolve():this._initializationPromise;return L(ot,this,"internal-error"),ot.then(()=>Me(this.currentUser)),"function"==typeof y?p.addObserver(y,x,ce):p.addObserver(y)}directlySetCurrentUser(p){var y=this;return(0,f.Z)(function*(){y.currentUser&&y.currentUser!==p&&y._currentUser._stopProactiveRefresh(),p&&y.isProactiveRefreshEnabled&&p._startProactiveRefresh(),y.currentUser=p,p?yield y.assertedPersistence.setCurrentUser(p):yield y.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=rs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,f.Z)(function*(){var y;const x={"X-Client-Version":p.clientVersion};p.app.options.appId&&(x["X-Firebase-gmpid"]=p.app.options.appId);const ce=yield null===(y=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();ce&&(x["X-Firebase-Client"]=ce);const Me=yield p._getAppCheckToken();return Me&&(x["X-Firebase-AppCheck"]=Me),x})()}_getAppCheckToken(){var p=this;return(0,f.Z)(function*(){var y;const x=yield null===(y=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return x?.error&&function O(I,...p){ge.logLevel<=_e.in.WARN&&ge.warn(`Auth (${J.Jn}): ${I}`,...p)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function ar(I){return(0,u.m9)(I)}class Rs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,u.ne)(y=>this.observer=y)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hn(I){const p=I.indexOf(":");return p<0?"":I.substr(0,p+1)}function ur(I){if(!I)return null;const p=Number(I);return isNaN(p)?null:p}class _i{constructor(p,y){this.providerId=p,this.signInMethod=y}toJSON(){return ae("not implemented")}_getIdTokenResponse(p){return ae("not implemented")}_linkToIdToken(p,y){return ae("not implemented")}_getReauthenticationResolver(p){return ae("not implemented")}}function Ln(I,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,f.Z)(function*(I,p){return He(I,"POST","/v1/accounts:signInWithIdp",N(I,p))})).apply(this,arguments)}class Gr extends _i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const y=new Gr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(y.idToken=p.idToken),p.accessToken&&(y.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(y.nonce=p.nonce),p.pendingToken&&(y.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(y.accessToken=p.oauthToken,y.secret=p.oauthTokenSecret):K("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:x,signInMethod:ce}=y,Me=(0,Re._T)(y,["providerId","signInMethod"]);if(!x||!ce)return null;const ot=new Gr(x,ce);return ot.idToken=Me.idToken||void 0,ot.accessToken=Me.accessToken||void 0,ot.secret=Me.secret,ot.nonce=Me.nonce,ot.pendingToken=Me.pendingToken||null,ot}_getIdTokenResponse(p){return Ln(p,this.buildRequest())}_linkToIdToken(p,y){const x=this.buildRequest();return x.idToken=y,Ln(p,x)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,Ln(p,y)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),p.postBody=(0,u.xO)(y)}return p}}class ms{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ca extends ms{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}let Ta=(()=>{class I extends ca{constructor(){super("google.com"),this.addScope("profile")}static credential(y,x){return Gr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:x})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:x,oauthAccessToken:ce}=y;if(!x&&!ce)return null;try{return I.credential(x,ce)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})();class $r{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,y,x,ce=!1){return(0,f.Z)(function*(){const Me=yield Yt._fromIdTokenResponse(p,x,ce),ot=Eo(x);return new $r({user:Me,providerId:ot,_tokenResponse:x,operationType:y})})()}static _forOperation(p,y,x){return(0,f.Z)(function*(){yield p._updateTokensIfNecessary(x,!0);const ce=Eo(x);return new $r({user:p,providerId:ce,_tokenResponse:x,operationType:y})})()}}function Eo(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class Or extends u.ZR{constructor(p,y,x,ce){var Me;super(y.code,y.message),this.operationType=x,this.user=ce,Object.setPrototypeOf(this,Or.prototype),this.customData={appName:p.name,tenantId:null!==(Me=p.tenantId)&&void 0!==Me?Me:void 0,_serverResponse:y.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(p,y,x,ce){return new Or(p,y,x,ce)}}function Qo(I,p,y,x){return("reauthenticate"===p?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(Me=>{throw"auth/multi-factor-auth-required"===Me.code?Or._fromErrorAndOperation(I,Me,p,x):Me})}function ha(I,p){return yi.apply(this,arguments)}function yi(){return(yi=(0,f.Z)(function*(I,p,y=!1){const x=yield bt(I,p._linkToIdToken(I.auth,yield I.getIdToken()),y);return $r._forOperation(I,"link",x)})).apply(this,arguments)}function Vo(I,p){return oi.apply(this,arguments)}function oi(){return(oi=(0,f.Z)(function*(I,p,y=!1){const{auth:x}=I,ce="reauthenticate";try{const Me=yield bt(I,Qo(x,ce,p,I),y);L(Me.idToken,x,"internal-error");const ot=Je(Me.idToken);L(ot,x,"internal-error");const{sub:Dt}=ot;return L(I.uid===Dt,x,"user-mismatch"),$r._forOperation(I,ce,Me)}catch(Me){throw"auth/user-not-found"===Me?.code&&K(x,"user-mismatch"),Me}})).apply(this,arguments)}function Vi(I,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,f.Z)(function*(I,p,y=!1){const x="signIn",ce=yield Qo(I,x,p),Me=yield $r._fromIdTokenResponse(I,x,ce);return y||(yield I._updateCurrentUser(Me.user)),Me})).apply(this,arguments)}function Ot(I){return(0,u.m9)(I).signOut()}const wt="__sak";class Ft{constructor(p,y){this.storageRetriever=p,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(wt,"1"),this.storage.removeItem(wt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,y){return this.storage.setItem(p,JSON.stringify(y)),Promise.resolve()}_get(p){const y=this.storage.getItem(p);return Promise.resolve(y?JSON.parse(y):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const el=(()=>{class I extends Ft{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,x)=>this.onStorageEvent(y,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wi(){const I=(0,u.z$)();return It(I)||ct(I)}()&&function vr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=En(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const x of Object.keys(this.listeners)){const ce=this.storage.getItem(x),Me=this.localCache[x];ce!==Me&&y(x,Me,ce)}}onStorageEvent(y,x=!1){if(!y.key)return void this.forAllChangedKeys((Dt,tn,pn)=>{this.notifyListeners(Dt,pn)});const ce=y.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Dt=this.storage.getItem(ce);if(y.newValue!==Dt)null!==y.newValue?this.storage.setItem(ce,y.newValue):this.storage.removeItem(ce);else if(this.localCache[ce]===y.newValue&&!x)return}const Me=()=>{const Dt=this.storage.getItem(ce);!x&&this.localCache[ce]===Dt||this.notifyListeners(ce,Dt)},ot=this.storage.getItem(ce);!function Cn(){return(0,u.w1)()&&10===document.documentMode}()||ot===y.newValue||y.newValue===y.oldValue?Me():setTimeout(Me,10)}notifyListeners(y,x){this.localCache[y]=x;const ce=this.listeners[y];if(ce)for(const Me of Array.from(ce))Me(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,x,ce)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:x,newValue:ce}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(x)}_removeListener(y,x){this.listeners[y]&&(this.listeners[y].delete(x),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,x){var ce=()=>super._set,Me=this;return(0,f.Z)(function*(){yield ce().call(Me,y,x),Me.localCache[y]=JSON.stringify(x)})()}_get(y){var x=()=>super._get,ce=this;return(0,f.Z)(function*(){const Me=yield x().call(ce,y);return ce.localCache[y]=JSON.stringify(Me),Me})()}_remove(y){var x=()=>super._remove,ce=this;return(0,f.Z)(function*(){yield x().call(ce,y),delete ce.localCache[y]})()}}return I.type="LOCAL",I})(),mo=(()=>{class I extends Ft{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,x){}_removeListener(y,x){}}return I.type="SESSION",I})();let tl=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const x=this.receivers.find(Me=>Me.isListeningto(y));if(x)return x;const ce=new I(y);return this.receivers.push(ce),ce}isListeningto(y){return this.eventTarget===y}handleEvent(y){var x=this;return(0,f.Z)(function*(){const ce=y,{eventId:Me,eventType:ot,data:Dt}=ce.data,tn=x.handlersMap[ot];if(!tn?.size)return;ce.ports[0].postMessage({status:"ack",eventId:Me,eventType:ot});const pn=Array.from(tn).map(function(){var mr=(0,f.Z)(function*(io){return io(ce.origin,Dt)});return function(io){return mr.apply(this,arguments)}}()),Pn=yield function ka(I){return Promise.all(I.map(function(){var p=(0,f.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(x){return{fulfilled:!1,reason:x}}});return function(y){return p.apply(this,arguments)}}()))}(pn);ce.ports[0].postMessage({status:"done",eventId:Me,eventType:ot,response:Pn})})()}_subscribe(y,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(x)}_unsubscribe(y,x){this.handlersMap[y]&&x&&this.handlersMap[y].delete(x),(!x||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Na(I="",p=10){let y="";for(let x=0;x<p;x++)y+=Math.floor(10*Math.random());return I+y}class Wr{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,y,x=50){var ce=this;return(0,f.Z)(function*(){const Me=typeof MessageChannel<"u"?new MessageChannel:null;if(!Me)throw new Error("connection_unavailable");let ot,Dt;return new Promise((tn,pn)=>{const Pn=Na("",20);Me.port1.start();const mr=setTimeout(()=>{pn(new Error("unsupported_event"))},x);Dt={messageChannel:Me,onMessage(io){const qs=io;if(qs.data.eventId===Pn)switch(qs.data.status){case"ack":clearTimeout(mr),ot=setTimeout(()=>{pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ot),tn(qs.data.response);break;default:clearTimeout(mr),clearTimeout(ot),pn(new Error("invalid_response"))}}},ce.handlers.add(Dt),Me.port1.addEventListener("message",Dt.onMessage),ce.target.postMessage({eventType:p,eventId:Pn,data:y},[Me.port2])}).finally(()=>{Dt&&ce.removeMessageHandler(Dt)})})()}}function ti(){return window}function ea(){return typeof ti().WorkerGlobalScope<"u"&&"function"==typeof ti().importScripts}function qr(){return(qr=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Dn="firebaseLocalStorageDb",bl=1,jr="firebaseLocalStorage",an="fbase_key";class ci{constructor(p){this.request=p}toPromise(){return new Promise((p,y)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ma(I,p){return I.transaction([jr],p?"readwrite":"readonly").objectStore(jr)}function ta(){const I=indexedDB.open(Dn,bl);return new Promise((p,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const x=I.result;try{x.createObjectStore(jr,{keyPath:an})}catch(ce){y(ce)}}),I.addEventListener("success",(0,f.Z)(function*(){const x=I.result;x.objectStoreNames.contains(jr)?p(x):(x.close(),yield function to(){const I=indexedDB.deleteDatabase(Dn);return new ci(I).toPromise()}(),p(yield ta()))}))})}function Ga(I,p,y){return jo.apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(I,p,y){const x=ma(I,!0).put({[an]:p,value:y});return new ci(x).toPromise()})).apply(this,arguments)}function Cl(){return(Cl=(0,f.Z)(function*(I,p){const y=ma(I,!1).get(p),x=yield new ci(y).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Ho(I,p){const y=ma(I,!0).delete(p);return new ci(y).toPromise()}const $l=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,f.Z)(function*(){return y.db||(y.db=yield ta()),y.db})()}_withRetries(y){var x=this;return(0,f.Z)(function*(){let ce=0;for(;;)try{const Me=yield x._openDb();return yield y(Me)}catch(Me){if(ce++>3)throw Me;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,f.Z)(function*(){return ea()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,f.Z)(function*(){y.receiver=tl._getInstance(function To(){return ea()?self:null}()),y.receiver._subscribe("keyChanged",function(){var x=(0,f.Z)(function*(ce,Me){return{keyProcessed:(yield y._poll()).includes(Me.key)}});return function(ce,Me){return x.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var x=(0,f.Z)(function*(ce,Me){return["keyChanged"]});return function(ce,Me){return x.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,f.Z)(function*(){var x,ce;if(y.activeServiceWorker=yield function bs(){return qr.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Wr(y.activeServiceWorker);const Me=yield y.sender._send("ping",{},800);Me&&null!==(x=Me[0])&&void 0!==x&&x.fulfilled&&null!==(ce=Me[0])&&void 0!==ce&&ce.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var x=this;return(0,f.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function Tn(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:y},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const y=yield ta();return yield Ga(y,wt,"1"),yield Ho(y,wt),!0}catch{}return!1})()}_withPendingWrite(y){var x=this;return(0,f.Z)(function*(){x.pendingWrites++;try{yield y()}finally{x.pendingWrites--}})()}_set(y,x){var ce=this;return(0,f.Z)(function*(){return ce._withPendingWrite((0,f.Z)(function*(){return yield ce._withRetries(Me=>Ga(Me,y,x)),ce.localCache[y]=x,ce.notifyServiceWorker(y)}))})()}_get(y){var x=this;return(0,f.Z)(function*(){const ce=yield x._withRetries(Me=>function Io(I,p){return Cl.apply(this,arguments)}(Me,y));return x.localCache[y]=ce,ce})()}_remove(y){var x=this;return(0,f.Z)(function*(){return x._withPendingWrite((0,f.Z)(function*(){return yield x._withRetries(ce=>Ho(ce,y)),delete x.localCache[y],x.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,f.Z)(function*(){const x=yield y._withRetries(ot=>{const Dt=ma(ot,!1).getAll();return new ci(Dt).toPromise()});if(!x)return[];if(0!==y.pendingWrites)return[];const ce=[],Me=new Set;for(const{fbase_key:ot,value:Dt}of x)Me.add(ot),JSON.stringify(y.localCache[ot])!==JSON.stringify(Dt)&&(y.notifyListeners(ot,Dt),ce.push(ot));for(const ot of Object.keys(y.localCache))y.localCache[ot]&&!Me.has(ot)&&(y.notifyListeners(ot,null),ce.push(ot));return ce})()}notifyListeners(y,x){this.localCache[y]=x;const ce=this.listeners[y];if(ce)for(const Me of Array.from(ce))Me(x)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(x)}_removeListener(y,x){this.listeners[y]&&(this.listeners[y].delete(x),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function _o(I,p){return p?Wn(p):(L(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}ki("rcb"),new Q(3e4,6e4);class Wl extends _i{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ln(p,this._buildIdpRequest())}_linkToIdToken(p,y){return Ln(p,this._buildIdpRequest(y))}_getReauthenticationResolver(p){return Ln(p,this._buildIdpRequest())}_buildIdpRequest(p){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(y.idToken=p),y}}function A(I){return Vi(I.auth,new Wl(I),I.bypassAuthState)}function T(I){const{auth:p,user:y}=I;return L(y,p,"internal-error"),Vo(y,new Wl(I),I.bypassAuthState)}function b(I){return M.apply(this,arguments)}function M(){return(M=(0,f.Z)(function*(I){const{auth:p,user:y}=I;return L(y,p,"internal-error"),ha(y,new Wl(I),I.bypassAuthState)})).apply(this,arguments)}class z{constructor(p,y,x,ce,Me=!1){this.auth=p,this.resolver=x,this.user=ce,this.bypassAuthState=Me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var p=this;return new Promise(function(){var y=(0,f.Z)(function*(x,ce){p.pendingPromise={resolve:x,reject:ce};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Me){p.reject(Me)}});return function(x,ce){return y.apply(this,arguments)}}())}onAuthEvent(p){var y=this;return(0,f.Z)(function*(){const{urlResponse:x,sessionId:ce,postBody:Me,tenantId:ot,error:Dt,type:tn}=p;if(Dt)return void y.reject(Dt);const pn={auth:y.auth,requestUri:x,sessionId:ce,tenantId:ot||void 0,postBody:Me||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(tn)(pn))}catch(Pn){y.reject(Pn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return A;case"linkViaPopup":case"linkViaRedirect":return b;case"reauthViaPopup":case"reauthViaRedirect":return T;default:K(this.auth,"internal-error")}}resolve(p){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pe=new Q(2e3,1e4);function Ce(I,p,y){return rt.apply(this,arguments)}function rt(){return(rt=(0,f.Z)(function*(I,p,y){const x=ar(I);!function xe(I,p,y){if(!(p instanceof y))throw y.name!==p.constructor.name&&K(I,"argument-error"),X(I,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(I,p,ms);const ce=_o(x,y);return new ui(x,"signInViaPopup",p,ce).executeNotNull()})).apply(this,arguments)}let ui=(()=>{class I extends z{constructor(y,x,ce,Me,ot){super(y,x,Me,ot),this.provider=ce,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,f.Z)(function*(){const x=yield y.execute();return L(x,y.auth,"internal-error"),x})()}onExecution(){var y=this;return(0,f.Z)(function*(){Se(1===y.filter.length,"Popup operations only handle one event");const x=Na();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],x),y.authWindow.associatedEvent=x,y.resolver._originValidation(y.auth).catch(ce=>{y.reject(ce)}),y.resolver._isIframeWebStorageSupported(y.auth,ce=>{ce||y.reject(ue(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var x,ce;this.pollId=null!==(ce=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==ce&&ce.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,pe.get())};y()}}return I.currentPopupAction=null,I})();const Kr="pendingRedirect",Qi=new Map;class Hi extends z{constructor(p,y,x=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,x),this.eventId=null}execute(){var p=()=>super.execute,y=this;return(0,f.Z)(function*(){let x=Qi.get(y.auth._key());if(!x){try{const Me=(yield function Ss(I,p){return Tr.apply(this,arguments)}(y.resolver,y.auth))?yield p().call(y):null;x=()=>Promise.resolve(Me)}catch(ce){x=()=>Promise.reject(ce)}Qi.set(y.auth._key(),x)}return y.bypassAuthState||Qi.set(y.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(p){var y=()=>super.onAuthEvent,x=this;return(0,f.Z)(function*(){if("signInViaRedirect"===p.type)return y().call(x,p);if("unknown"!==p.type){if(p.eventId){const ce=yield x.auth._redirectUserForId(p.eventId);if(ce)return x.user=ce,y().call(x,p);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Tr(){return(Tr=(0,f.Z)(function*(I,p){const y=function Xi(I){return fr(Kr,I.config.apiKey,I.name)}(p),x=function zo(I){return Wn(I._redirectPersistence)}(I);if(!(yield x._isAvailable()))return!1;const ce="true"===(yield x._get(y));return yield x._remove(y),ce})).apply(this,arguments)}function Ac(I,p){Qi.set(I._key(),p)}function Va(I,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,f.Z)(function*(I,p,y=!1){const x=ar(I),ce=_o(x,p),ot=yield new Hi(x,ce,y).execute();return ot&&!y&&(delete ot.user._redirectEventId,yield x._persistUserIfCurrent(ot.user),yield x._setRedirectUser(null,p)),ot})).apply(this,arguments)}class ol{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let y=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(p,x)&&(y=!0,this.sendToConsumer(p,x),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function xl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ql(I);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=p,y=!0)),y}sendToConsumer(p,y){var x;if(p.error&&!ql(p)){const ce=(null===(x=p.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";y.onError(ue(this.auth,ce))}else y.onAuthEvent(p)}isEventForConsumer(p,y){const x=null===y.eventId||!!p.eventId&&p.eventId===y.eventId;return y.filter.includes(p.type)&&x}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ba(p))}saveEventToCache(p){this.cachedEventUids.add(Ba(p)),this.lastProcessedEventTime=Date.now()}}function Ba(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(p=>p).join("-")}function ql({type:I,error:p}){return"unknown"===I&&"auth/no-auth-event"===p?.code}function al(){return(al=(0,f.Z)(function*(I,p={}){return W(I,"GET","/v1/projects",p)})).apply(this,arguments)}const ya=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lu=/^https?/;function ll(){return ll=(0,f.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:p}=yield function Ic(I){return al.apply(this,arguments)}(I);for(const y of p)try{if(td(y))return}catch{}K(I,"unauthorized-domain")}),ll.apply(this,arguments)}function td(I){const p=Oe(),{protocol:y,hostname:x}=new URL(p);if(I.startsWith("chrome-extension://")){const ot=new URL(I);return""===ot.hostname&&""===x?"chrome-extension:"===y&&I.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===y&&ot.hostname===x}if(!lu.test(y))return!1;if(ya.test(I))return x===I;const ce=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ce+"|"+ce+")$","i").test(x)}const Dc=new Q(3e4,6e4);function Pl(){const I=ti().___jsl;if(I?.H)for(const p of Object.keys(I.H))if(I.H[p].r=I.H[p].r||[],I.H[p].L=I.H[p].L||[],I.H[p].r=[...I.H[p].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let xc=null;const Zl=new Q(5e3,15e3),Yl="__/auth/iframe",Ji="emulator/auth/iframe",Ql={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function us(I){const p=I.config;L(p.authDomain,I,"auth-domain-config-required");const y=p.emulator?H(p,Ji):`https://${I.config.authDomain}/${Yl}`,x={apiKey:p.apiKey,appName:I.name,v:J.Jn},ce=Qr.get(I.config.apiHost);ce&&(x.eid=ce);const Me=I._getFrameworks();return Me.length&&(x.fw=Me.join(",")),`${y}?${(0,u.xO)(x).slice(1)}`}function Xl(){return Xl=(0,f.Z)(function*(I){const p=yield function rd(I){return xc=xc||function nd(I){return new Promise((p,y)=>{var x,ce,Me;function ot(){Pl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Pl(),y(ue(I,"network-request-failed"))},timeout:Dc.get()})}if(null!==(ce=null===(x=ti().gapi)||void 0===x?void 0:x.iframes)&&void 0!==ce&&ce.Iframe)p(gapi.iframes.getContext());else{if(null===(Me=ti().gapi)||void 0===Me||!Me.load){const Dt=ki("iframefcb");return ti()[Dt]=()=>{gapi.load?ot():y(ue(I,"network-request-failed"))},gr(`https://apis.google.com/js/api.js?onload=${Dt}`).catch(tn=>y(tn))}ot()}}).catch(p=>{throw xc=null,p})}(I),xc}(I),y=ti().gapi;return L(y,I,"internal-error"),p.open({where:document.body,url:us(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ql,dontclear:!0},x=>new Promise(function(){var ce=(0,f.Z)(function*(Me,ot){yield x.restyle({setHideOnLeave:!1});const Dt=ue(I,"network-request-failed"),tn=ti().setTimeout(()=>{ot(Dt)},Zl.get());function pn(){ti().clearTimeout(tn),Me(x)}x.ping(pn).then(pn,()=>{ot(Dt)})});return function(Me,ot){return ce.apply(this,arguments)}}()))}),Xl.apply(this,arguments)}const cl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uu=500,Jl=600,wr="_blank",Br="http://localhost";class qa{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const du="__/auth/handler",Ts="emulator/auth/handler",tc=encodeURIComponent("fac");function nc(I,p,y,x,ce,Me){return ul.apply(this,arguments)}function ul(){return(ul=(0,f.Z)(function*(I,p,y,x,ce,Me){L(I.config.authDomain,I,"auth-domain-config-required"),L(I.config.apiKey,I,"invalid-api-key");const ot={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:x,v:J.Jn,eventId:ce};if(p instanceof ms){p.setDefaultLanguage(I.languageCode),ot.providerId=p.providerId||"",(0,u.xb)(p.getCustomParameters())||(ot.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Pn,mr]of Object.entries(Me||{}))ot[Pn]=mr}if(p instanceof ca){const Pn=p.getScopes().filter(mr=>""!==mr);Pn.length>0&&(ot.scopes=Pn.join(","))}I.tenantId&&(ot.tid=I.tenantId);const Dt=ot;for(const Pn of Object.keys(Dt))void 0===Dt[Pn]&&delete Dt[Pn];const tn=yield I._getAppCheckToken(),pn=tn?`#${tc}=${encodeURIComponent(tn)}`:"";return`${function Is({config:I}){return I.emulator?H(I,Ts):`https://${I.authDomain}/${du}`}(I)}?${(0,u.xO)(Dt).slice(1)}${pn}`})).apply(this,arguments)}const v="webStorageSupport",g=class w{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mo,this._completeRedirectFn=Va,this._overrideRedirectResult=Ac}_openPopup(p,y,x,ce){var Me=this;return(0,f.Z)(function*(){var ot;Se(null===(ot=Me.eventManagers[p._key()])||void 0===ot?void 0:ot.manager,"_initialize() not called before _openPopup()");const Dt=yield nc(p,y,x,Oe(),ce);return function ec(I,p,y,x=uu,ce=Jl){const Me=Math.max((window.screen.availHeight-ce)/2,0).toString(),ot=Math.max((window.screen.availWidth-x)/2,0).toString();let Dt="";const tn=Object.assign(Object.assign({},cl),{width:x.toString(),height:ce.toString(),top:Me,left:ot}),pn=(0,u.z$)().toLowerCase();y&&(Dt=gt(pn)?wr:y),et(pn)&&(p=p||Br,tn.scrollbars="yes");const Pn=Object.entries(tn).reduce((io,[qs,ic])=>`${io}${qs}=${ic},`,"");if(function Ht(I=(0,u.z$)()){var p;return ct(I)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(pn)&&"_self"!==Dt)return function Pc(I,p){const y=document.createElement("a");y.href=I,y.target=p;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(x)}(p||"",Dt),new qa(null);const mr=window.open(p||"",Dt,Pn);L(mr,I,"popup-blocked");try{mr.focus()}catch{}return new qa(mr)}(p,Dt,Na())})()}_openRedirect(p,y,x,ce){var Me=this;return(0,f.Z)(function*(){return yield Me._originValidation(p),function qn(I){ti().location.href=I}(yield nc(p,y,x,Oe(),ce)),new Promise(()=>{})})()}_initialize(p){const y=p._key();if(this.eventManagers[y]){const{manager:ce,promise:Me}=this.eventManagers[y];return ce?Promise.resolve(ce):(Se(Me,"If manager is not set, promise should be"),Me)}const x=this.initAndGetManager(p);return this.eventManagers[y]={promise:x},x.catch(()=>{delete this.eventManagers[y]}),x}initAndGetManager(p){var y=this;return(0,f.Z)(function*(){const x=yield function cu(I){return Xl.apply(this,arguments)}(p),ce=new ol(p);return x.register("authEvent",Me=>(L(Me?.authEvent,p,"invalid-auth-event"),{status:ce.onEvent(Me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[p._key()]={manager:ce},y.iframes[p._key()]=x,ce})()}_isIframeWebStorageSupported(p,y){this.iframes[p._key()].send(v,{type:v},ce=>{var Me;const ot=null===(Me=ce?.[0])||void 0===Me?void 0:Me[v];void 0!==ot&&y(!!ot),K(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const y=p._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Kl(I){return ll.apply(this,arguments)}(p)),this.originValidationPromises[y]}get _shouldInitProactively(){return En()||It()||ct()}};var es="@firebase/auth";class ts{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var y=this;return(0,f.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const y=this.auth.onIdTokenChanged(x=>{p(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,y),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const y=this.internalListeners.get(p);y&&(this.internalListeners.delete(p),y(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mc=(0,u.Pz)("authIdTokenMaxAge")||300;let Ci=null;const dl=I=>function(){var p=(0,f.Z)(function*(y){const x=y&&(yield y.getIdTokenResult()),ce=x&&((new Date).getTime()-Date.parse(x.issuedAtTime))/1e3;if(ce&&ce>Mc)return;const Me=x?.token;Ci!==Me&&(Ci=Me,yield fetch(I,{method:Me?"POST":"DELETE",headers:Me?{Authorization:`Bearer ${Me}`}:{}}))});return function(y){return p.apply(this,arguments)}}();function rc(I=(0,J.Mq)()){const p=(0,J.qX)(I,"auth");if(p.isInitialized())return p.getImmediate();const y=function ao(I,p){const y=(0,J.qX)(I,"auth");if(y.isInitialized()){const ce=y.getImmediate(),Me=y.getOptions();if((0,u.vZ)(Me,p??{}))return ce;K(ce,"already-initialized")}return y.initialize({options:p})}(I,{popupRedirectResolver:g,persistence:[$l,el,mo]}),x=(0,u.Pz)("authTokenSyncURL");if(x){const Me=dl(x);(function B(I,p,y){(0,u.m9)(I).beforeAuthStateChanged(p,y)})(y,Me,()=>Me(y.currentUser)),function ie(I,p,y,x){(0,u.m9)(I).onIdTokenChanged(p,y,x)}(y,ot=>Me(ot))}const ce=(0,u.q4)("auth");return ce&&function Ni(I,p,y){const x=ar(I);L(x._canInitEmulator,x,"emulator-config-failed"),L(/^https?:\/\//.test(p),x,"invalid-emulator-scheme");const ce=!!y?.disableWarnings,Me=hn(p),{host:ot,port:Dt}=function jn(I){const p=hn(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(p.length));if(!y)return{host:"",port:null};const x=y[2].split("@").pop()||"",ce=/^(\[[^\]]+\])(:|$)/.exec(x);if(ce){const Me=ce[1];return{host:Me,port:ur(x.substr(Me.length+1))}}{const[Me,ot]=x.split(":");return{host:Me,port:ur(ot)}}}(p);x.config.emulator={url:`${Me}//${ot}${null===Dt?"":`:${Dt}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:ot,port:Dt,protocol:Me.replace(":",""),options:Object.freeze({disableWarnings:ce})}),ce||function Di(){function I(){const p=document.createElement("p"),y=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(y,`http://${ce}`),y}!function ri(I){(0,J.Xd)(new Ee.wA("auth",(p,{options:y})=>{const x=p.getProvider("app").getImmediate(),ce=p.getProvider("heartbeat"),Me=p.getProvider("app-check-internal"),{apiKey:ot,authDomain:Dt}=x.options;L(ot&&!ot.includes(":"),"invalid-api-key",{appName:x.name});const tn={apiKey:ot,authDomain:Dt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rs(I)},pn=new ss(x,ce,Me,tn);return function Os(I,p){const y=p?.persistence||[],x=(Array.isArray(y)?y:[y]).map(Wn);p?.errorMap&&I._updateErrorMap(p.errorMap),I._initializeWithPersistence(x,p?.popupRedirectResolver)}(pn,y),pn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,y,x)=>{p.getProvider("auth-internal").initialize()})),(0,J.Xd)(new Ee.wA("auth-internal",p=>{const y=ar(p.getProvider("auth").getImmediate());return new ts(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.KN)(es,"0.23.2",function gi(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,J.KN)(es,"0.23.2","esm2017")}("Browser")},7396:(Ue,F,j)=>{"use strict";j.d(F,{ET:()=>Bd,hJ:()=>Ku,oe:()=>Gy,JU:()=>Lm,QT:()=>Uy,PL:()=>By,ad:()=>wy,b9:()=>Ry,IO:()=>Xm,pl:()=>i_});var ve,f=j(5861),u=j(6881),J=j(4859),Re=j(1877),_e=j(2090),Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe={},ke=ke||{},se=Ee||self;function oe(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function De(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ee="closure_uid_"+(1e9*Math.random()>>>0),we=0;function be(r,e,t){return r.call.apply(r.bind,arguments)}function me(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function ge(r,e,t){return(ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?be:me).apply(null,arguments)}function O(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function D(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,l,h){for(var _=Array(arguments.length-2),P=2;P<arguments.length;P++)_[P-2]=arguments[P];return e.prototype[l].apply(o,_)}}function K(){this.s=this.s,this.o=this.o}K.prototype.s=!1,K.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function te(r){Object.prototype.hasOwnProperty.call(r,ee)&&r[ee]||(r[ee]=++we)}(this)},K.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const X=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function xe(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Z(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(oe(o)){const l=r.length||0,h=o.length||0;r.length=l+h;for(let _=0;_<h;_++)r[l+_]=o[_]}else r.push(o)}}function L(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{se.addEventListener("test",()=>{},e),se.removeEventListener("test",()=>{},e)}catch{}return r}();function Se(r){return/^[\s\xa0]*$/.test(r)}function Oe(){var r=se.navigator;return r&&(r=r.userAgent)?r:""}function Ve(r){return-1!=Oe().indexOf(r)}function Le(r){return Le[" "](r),r}Le[" "]=function(){};var W,r,ye=Ve("Opera"),Q=Ve("Trident")||Ve("MSIE"),H=Ve("Edge"),G=H||Q,V=Ve("Gecko")&&!(-1!=Oe().toLowerCase().indexOf("webkit")&&!Ve("Edge"))&&!(Ve("Trident")||Ve("MSIE"))&&!Ve("Edge"),S=-1!=Oe().toLowerCase().indexOf("webkit")&&!Ve("Edge");function N(){var r=se.document;return r?r.documentMode:void 0}e:{var he="",le=(r=Oe(),V?/rv:([^\);]+)(\)|;)/.exec(r):H?/Edge\/([\d\.]+)/.exec(r):Q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):S?/WebKit\/(\S+)/.exec(r):ye?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(le&&(he=le?le[1]:""),Q){var Y=N();if(null!=Y&&Y>parseFloat(he)){W=String(Y);break e}}W=he}var qe=se.document&&Q&&(N()||parseInt(W,10))||void 0;function ze(r,e){if(L.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(V){e:{try{Le(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:ft[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&ze.$.h.call(this)}}D(ze,L);var ft={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function Nt(r,e,t,o,l){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=l,this.key=++Ut,this.fa=this.ia=!1}function Pt(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function zt(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function qt(r){const e={};for(const t in r)e[t]=r[t];return e}const sn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vn(r,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)r[t]=o[t];for(let h=0;h<sn.length;h++)t=sn[h],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function ut(r){this.src=r,this.g={},this.h=0}function Ie(r,e){var t=e.type;if(t in r.g){var h,o=r.g[t],l=X(o,e);(h=0<=l)&&Array.prototype.splice.call(o,l,1),h&&(Pt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Je(r,e,t,o){for(var l=0;l<r.length;++l){var h=r[l];if(!h.fa&&h.listener==e&&h.capture==!!t&&h.la==o)return l}return-1}ut.prototype.add=function(r,e,t,o,l){var h=r.toString();(r=this.g[h])||(r=this.g[h]=[],this.h++);var _=Je(r,e,o,l);return-1<_?(e=r[_],t||(e.ia=!1)):((e=new Nt(e,this.src,h,!!o,l)).ia=t,r.push(e)),e};var at="closure_lm_"+(1e6*Math.random()|0),bt={};function Ke(r,e,t,o,l){if(o&&o.once)return $t(r,e,t,o,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)Ke(r,e[h],t,o,l);return null}return t=Wt(t),r&&r[Rt]?r.O(e,t,De(o)?!!o.capture:!!o,l):pt(r,e,t,!1,o,l)}function pt(r,e,t,o,l,h){if(!e)throw Error("Invalid event type");var _=De(l)?!!l.capture:!!l,P=lt(r);if(P||(r[at]=P=new ut(r)),(t=P.add(e,t,o,_,h)).proxy)return t;if(o=function Lt(){const e=st;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)ae||(l=_),void 0===l&&(l=!1),r.addEventListener(e.toString(),o,l);else if(r.attachEvent)r.attachEvent(dt(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function $t(r,e,t,o,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)$t(r,e[h],t,o,l);return null}return t=Wt(t),r&&r[Rt]?r.P(e,t,De(o)?!!o.capture:!!o,l):pt(r,e,t,!0,o,l)}function vn(r,e,t,o,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)vn(r,e[h],t,o,l);else o=De(o)?!!o.capture:!!o,t=Wt(t),r&&r[Rt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Je(h=r.g[e],t,o,l))&&(Pt(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete r.g[e],r.h--))):r&&(r=lt(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Je(e,t,o,l)),(t=-1<r?e[r]:null)&&zn(t))}function zn(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Rt])Ie(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(dt(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=lt(e))?(Ie(t,r),0==t.h&&(t.src=null,e[at]=null)):Pt(r)}}}function dt(r){return r in bt?bt[r]:bt[r]="on"+r}function st(r,e){if(r.fa)r=!0;else{e=new ze(e,this);var t=r.listener,o=r.la||r.src;r.ia&&zn(r),r=t.call(o,e)}return r}function lt(r){return(r=r[at])instanceof ut?r:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(r){return"function"==typeof r?r:(r[ln]||(r[ln]=function(e){return r.handleEvent(e)}),r[ln])}function _n(){K.call(this),this.i=new ut(this),this.S=this,this.J=null}function Xt(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new L(e,r);else if(e instanceof L)e.target=e.target||r;else{var l=e;Vn(e=new L(o,r),l)}if(l=!0,t)for(var h=t.length-1;0<=h;h--){var _=e.g=t[h];l=An(_,o,!0,e)&&l}if(l=An(_=e.g=r,o,!0,e)&&l,l=An(_,o,!1,e)&&l,t)for(h=0;h<t.length;h++)l=An(_=e.g=t[h],o,!1,e)&&l}function An(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var _=e[h];if(_&&!_.fa&&_.capture==t){var P=_.listener,q=_.la||_.src;_.ia&&Ie(r.i,_),l=!1!==P.call(q,o)&&l}}return l&&!o.defaultPrevented}D(_n,K),_n.prototype[Rt]=!0,_n.prototype.removeEventListener=function(r,e,t,o){vn(this,r,e,t,o)},_n.prototype.N=function(){if(_n.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Pt(t[o]);delete r.g[e],r.h--}}this.J=null},_n.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},_n.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var Yt=se.JSON.stringify;function Wn(){var r=gt;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var cr=new class Un{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new fr,r=>r.reset());class fr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Be(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Ge(r){se.setTimeout(()=>{throw r},0)}let et,It=!1,gt=new class yr{constructor(){this.h=this.g=null}add(e,t){const o=cr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},en=()=>{const r=se.Promise.resolve(void 0);et=()=>{r.then(tt)}};var tt=()=>{for(var r;r=Wn();){try{r.h.call(r.g)}catch(t){Ge(t)}var e=cr;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}It=!1};function Xe(r,e){_n.call(this),this.h=r||1,this.g=e||se,this.j=ge(this.qb,this),this.l=Date.now()}function Fe(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function ct(r,e,t){if("function"==typeof r)t&&(r=ge(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ge(r.handleEvent,r)}return 2147483647<Number(e)?-1:se.setTimeout(r,e||0)}function xt(r){r.g=ct(()=>{r.g=null,r.i&&(r.i=!1,xt(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}D(Xe,_n),(ve=Xe.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xt(this,"tick"),this.ga&&(Fe(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){Xe.$.N.call(this),Fe(this),delete this.g};class Ht extends K{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cn(r){K.call(this),this.h=r,this.g={}}D(Cn,K);var En=[];function vr(r,e,t,o){Array.isArray(t)||(t&&(En[0]=t.toString()),t=En);for(var l=0;l<t.length;l++){var h=Ke(e,t[l],o||r.handleEvent,!1,r.h||r);if(!h)break;r.g[h.key]=h}}function rs(r){zt(r.g,function(e,t){this.g.hasOwnProperty(t)&&zn(e)},r),r.g={}}function Et(){this.g=!0}function un(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Bn(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var _=1;_<l.length;_++)l[_]=""}}}return Yt(t)}catch{return e}}(r,t)+(o?" "+o:"")})}Cn.prototype.N=function(){Cn.$.N.call(this),rs(this)},Cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Et.prototype.Ea=function(){this.g=!1},Et.prototype.info=function(){};var nr={},Pr=null;function gr(){return Pr=Pr||new _n}function ki(r){L.call(this,nr.Ta,r)}function is(r){const e=gr();Xt(e,new ki(e))}function Ro(r,e){L.call(this,nr.STAT_EVENT,r),this.stat=e}function hi(r){const e=gr();Xt(e,new Ro(e,r))}function Ms(r,e){L.call(this,nr.Ua,r),this.size=e}function kn(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){r()},e)}nr.Ta="serverreachability",D(ki,L),nr.STAT_EVENT="statevent",D(Ro,L),nr.Ua="timingevent",D(Ms,L);var Ir={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ss(){}function Rs(){}ss.prototype.h=null;var hn,ao={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Os(){L.call(this,"d")}function Ni(){L.call(this,"c")}function jn(){}function ur(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new Cn(this),this.P=_i,this.V=new Xe(r=G?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}D(Os,L),D(Ni,L),D(jn,ss),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},hn=new jn;var _i=45e3,Fr={},Li={};function Dr(r,e,t){r.L=1,r.v=Oo(Wi(e)),r.s=t,r.S=!0,xi(r,null)}function xi(r,e){r.G=Date.now(),$i(r),r.A=Wi(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),Sa(t.i,"t",o),r.C=0,t=r.l.J,r.h=new Di,r.g=Qe(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Ht(ge(r.Pa,r,r.g),r.O)),vr(r.U,r.g,"readystatechange",r.nb),e=r.I?qt(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),is(),function mt(r,e,t,o,l,h){r.info(function(){if(r.g)if(h)for(var _="",P=h.split("&"),q=0;q<P.length;q++){var re=P[q].split("=");if(1<re.length){var Pe=re[0];re=re[1];var Ze=Pe.split("_");_=2<=Ze.length&&"type"==Ze[1]?_+(Pe+"=")+re+"&":_+(Pe+"=redacted&")}}else _=null;else _=h;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+_})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Pi(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Gn(r,e,t){let l,o=!0;for(;!r.J&&r.C<t.length;){if(l=Gi(r,t),l==Li){4==e&&(r.o=4,hi(14),o=!1),un(r.j,r.m,null,"[Incomplete Response]");break}if(l==Fr){r.o=4,hi(15),un(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}un(r.j,r.m,l,null),os(r,l)}Pi(r)&&l!=Li&&l!=Fr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,hi(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Da(e),e.M=!0,hi(11))):(un(r.j,r.m,t,"[Invalid Chunked Response]"),Ar(r),Jr(r))}function Gi(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?Li:(t=Number(e.substring(t,o)),isNaN(t)?Fr:(o+=1)+t>e.length?Li:(e=e.slice(o,o+t),r.C=o+t,e))}function $i(r){r.Y=Date.now()+r.P,ks(r,r.P)}function ks(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=kn(ge(r.lb,r),e)}function Xn(r){r.B&&(se.clearTimeout(r.B),r.B=null)}function Jr(r){0==r.l.H||r.J||eo(r.l,r)}function Ar(r){Xn(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Fe(r.V),rs(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function os(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Ko(t.i,r)))if(!r.K&&Ko(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;rr(t),vs(t)}zr(t),hi(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=kn(ge(t.ib,t),6e3));if(1>=Co(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Er(t,11)}else if((r.K||t.g==r)&&rr(t),!Se(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let re=l[e];if(t.V=re[0],re=re[1],2==t.H)if("c"==re[0]){t.K=re[1],t.pa=re[2];const Pe=re[3];null!=Pe&&(t.ra=Pe,t.l.info("VER="+t.ra));const Ze=re[4];null!=Ze&&(t.Ga=Ze,t.l.info("SVER="+t.Ga));const vt=re[5];null!=vt&&"number"==typeof vt&&0<vt&&(t.L=o=1.5*vt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const Mt=r.g;if(Mt){const Qt=Mt.g?Mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qt){var h=o.i;h.g||-1==Qt.indexOf("spdy")&&-1==Qt.indexOf("quic")&&-1==Qt.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(Ta(h,h.h),h.h=null))}if(o.F){const yn=Mt.g?Mt.g.getResponseHeader("X-HTTP-Session-Id"):null;yn&&(o.Da=yn,Ln(o.I,o.F,yn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var _=r;if((o=t).wa=Ne(o,o.J?o.pa:null,o.Y),_.K){Zo(o.i,_);var P=_,q=o.L;q&&P.setTimeout(q),P.B&&(Xn(P),$i(P)),o.g=_}else fa(o);0<t.j.length&&Sr(t)}else"stop"!=re[0]&&"close"!=re[0]||Er(t,7);else 3==t.H&&("stop"==re[0]||"close"==re[0]?"stop"==re[0]?Er(t,7):Ia(t):"noop"!=re[0]&&t.h&&t.h.Aa(re),t.A=0)}is()}catch{}}function Ls(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(oe(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Ns(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(oe(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Fi(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(oe(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),l=o.length,h=0;h<l;h++)e.call(void 0,o[h],t&&t[h],r)}(ve=ur.prototype).setTimeout=function(r){this.P=r},ve.nb=function(r){r=r.target;const e=this.M;e&&3==Ri(r)?e.l():this.Pa(r)},ve.Pa=function(r){try{if(r==this.g)e:{const Pe=Ri(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Pe)&&(3!=Pe||G||this.g&&(this.h.h||this.g.ja()||Ki(this.g)))){this.J||4!=Pe||7==e||is(),Xn(this);var t=this.g.da();this.ca=t;t:if(Pi(this)){var o=Ki(this.g);r="";var l=o.length,h=4==Ri(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),Jr(this);var _="";break t}this.h.i=new se.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:h&&e==l-1});o.splice(0,l),this.h.g+=r,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==t,function Bt(r,e,t,o,l,h,_){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+h+" "+_})}(this.j,this.u,this.A,this.m,this.W,Pe,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var P,q=this.g;if((P=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Se(P)){var re=P;break t}}re=null}if(!(t=re)){this.i=!1,this.o=3,hi(12),Ar(this),Jr(this);break e}un(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,t)}this.S?(Gn(this,Pe,_),G&&this.i&&3==Pe&&(vr(this.U,this.V,"tick",this.mb),this.V.start())):(un(this.j,this.m,_,null),os(this,_)),4==Pe&&Ar(this),this.i&&!this.J&&(4==Pe?eo(this.l,this):(this.i=!1,$i(this)))}else(function fi(r){const e={};r=(r.g&&2<=Ri(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(Se(r[o]))continue;var t=Be(r[o]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const h=e[l]||[];e[l]=h,h.push(t)}!function gn(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<_.indexOf("Unknown SID")?(this.o=3,hi(12)):(this.o=0,hi(13)),Ar(this),Jr(this)}}}catch{}},ve.mb=function(){if(this.g){var r=Ri(this.g),e=this.g.ja();this.C<e.length&&(Xn(this),Gn(this,r,e),this.i&&4!=r&&$i(this))}},ve.cancel=function(){this.J=!0,Ar(this)},ve.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function xn(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(is(),hi(17)),Ar(this),this.o=2,Jr(this)):ks(this,this.Y-r)};var xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof zi){this.h=r.h,Ys(this,r.j),this.s=r.s,this.g=r.g,qi(this,r.m),this.l=r.l;var e=r.i,t=new Vs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Fs(this,t),this.o=r.o}else r&&(e=String(r).match(xr))?(this.h=!1,Ys(this,e[1]||"",!0),this.s=si(e[2]||""),this.g=si(e[3]||"",!0),qi(this,e[4]),this.l=si(e[5]||"",!0),Fs(this,e[6]||"",!0),this.o=si(e[7]||"")):(this.h=!1,this.i=new Vs(null,this.h))}function Wi(r){return new zi(r)}function Ys(r,e,t){r.j=t?si(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function qi(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Fs(r,e,t){e instanceof Vs?(r.i=e,function Lo(r,e){e&&!r.j&&(Mi(r),r.i=null,r.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(Us(this,o),Sa(this,l,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Gr(e,bo)),r.i=new Vs(e,r.h))}function Ln(r,e,t){r.i.set(e,t)}function Oo(r){return Ln(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function si(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Gr(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,ko),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ko(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}zi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Gr(e,as,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Gr(e,as,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Gr(t,"/"==t.charAt(0)?Mr:lo,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Gr(t,co)),r.join("")};var as=/[#\/\?@]/g,lo=/[#\?:]/g,Mr=/[#\?]/g,bo=/[#\?@]/g,co=/#/g;function Vs(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Mi(r){r.g||(r.g=new Map,r.h=0,r.i&&function Aa(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),l=null;if(0<=o){var h=r[t].substring(0,o);l=r[t].substring(o+1)}else h=r[t];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Us(r,e){Mi(r),e=ls(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function No(r,e){return Mi(r),e=ls(r,e),r.g.has(e)}function Sa(r,e,t){Us(r,e),0<t.length&&(r.i=null,r.g.set(ls(r,e),xe(t)),r.h+=t.length)}function ls(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Fo(r){this.l=r||ms,r=se.PerformanceNavigationTiming?0<(r=se.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=Vs.prototype).add=function(r,e){Mi(this),this.i=null,r=ls(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(r,e){Mi(this),this.g.forEach(function(t,o){t.forEach(function(l){r.call(e,l,o,this)},this)},this)},ve.ta=function(){Mi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=r[o];for(let h=0;h<l.length;h++)t.push(e[o])}return t},ve.Z=function(r){Mi(this);let e=[];if("string"==typeof r)No(this,r)&&(e=e.concat(this.g.get(ls(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ve.set=function(r,e){return Mi(this),this.i=null,No(this,r=ls(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ve.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const h=encodeURIComponent(String(o)),_=this.Z(o);for(o=0;o<_.length;o++){var l=h;""!==_[o]&&(l+="="+encodeURIComponent(String(_[o]))),r.push(l)}}return this.i=r.join("&")};var ms=10;function ca(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Co(r){return r.h?1:r.g?r.g.size:0}function Ko(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Ta(r,e){r.g?r.g.add(e):r.h=e}function Zo(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function uo(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return xe(r.i)}Fo.prototype.cancel=function(){if(this.i=uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var ho=class{stringify(r){return se.JSON.stringify(r,void 0)}parse(r){return se.JSON.parse(r,void 0)}};function Yo(){this.g=new ho}function _s(r,e,t){const o=t||"";try{Ls(r,function(l,h){let _=l;De(l)&&(_=Yt(l)),e.push(o+h+"="+encodeURIComponent(_))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Xs(r,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function Ei(r){this.l=r.fc||null,this.j=r.ob||!1}function $r(r,e){_n.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Eo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}D(Ei,ss),Ei.prototype.g=function(){return new $r(this.l,this.j)},Ei.prototype.i=function(r){return function(){return r}}({}),D($r,_n);var Eo=0;function ua(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ys(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Or(r)}function Or(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ve=$r.prototype).open=function(r,e){if(this.readyState!=Eo)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Or(this)},ve.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ys(this)),this.readyState=Eo},ve.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ua(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ys(this):Or(this),3==this.readyState&&ua(this)}},ve.Za=function(r){this.g&&(this.response=this.responseText=r,ys(this))},ve.Ya=function(r){this.g&&(this.response=r,ys(this))},ve.ka=function(){this.g&&ys(this)},ve.setRequestHeader=function(r,e){this.v.append(r,e)},ve.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty($r.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Qo=se.JSON.parse;function br(r){_n.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=da,this.L=this.M=!1}D(br,_n);var da="",Ai=/^https?$/i,ha=["POST","PUT"];function Vr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Xo(r),oi(r)}function Xo(r){r.F||(r.F=!0,Xt(r,"complete"),Xt(r,"error"))}function Vo(r){if(r.h&&typeof ke<"u"&&(!r.C[1]||4!=Ri(r)||2!=r.da()))if(r.v&&4==Ri(r))ct(r.La,0,r);else if(Xt(r,"readystatechange"),4==Ri(r)){r.h=!1;try{const _=r.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===_){var l=String(r.I).match(xr)[1]||null;!l&&se.self&&se.self.location&&(l=se.self.location.protocol.slice(0,-1)),o=!Ai.test(l?l.toLowerCase():"")}t=o}if(t)Xt(r,"complete"),Xt(r,"success");else{r.m=6;try{var h=2<Ri(r)?r.g.statusText:""}catch{h=""}r.j=h+" ["+r.da()+"]",Xo(r)}}finally{oi(r)}}}function oi(r,e){if(r.g){Vi(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Xt(r,"ready");try{t.onreadystatechange=o}catch{}}}function Vi(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(se.clearTimeout(r.A),r.A=null)}function Ri(r){return r.g?r.g.readyState:0}function Ki(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case da:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function wl(r){let e="";return zt(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function fo(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=wl(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ln(r,e,t))}function Bs(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function js(r){this.Ga=0,this.j=[],this.l=new Et,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bs("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bs("baseRetryDelayMs",5e3,r),this.hb=Bs("retryDelaySeedMs",1e4,r),this.eb=Bs("forwardChannelMaxRetries",2,r),this.xa=Bs("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Fo(r&&r.concurrentRequestLimit),this.Ja=new Yo,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ia(r){if(Hn(r),3==r.H){var e=r.W++,t=Wi(r.I);if(Ln(t,"SID",r.K),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),Ui(r,t),(e=new ur(r,r.l,e)).L=2,e.v=Oo(Wi(t)),t=!1,se.navigator&&se.navigator.sendBeacon)try{t=se.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=Qe(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$i(e)}de(r)}function vs(r){r.g&&(Da(r),r.g.cancel(),r.g=null)}function Hn(r){vs(r),r.u&&(se.clearTimeout(r.u),r.u=null),rr(r),r.i.cancel(),r.m&&("number"==typeof r.m&&se.clearTimeout(r.m),r.m=null)}function Sr(r){if(!ca(r.i)&&!r.m){r.m=!0;var e=r.Na;et||en(),It||(et(),It=!0),gt.add(e,r),r.C=0}}function Js(r,e){var t;t=e?e.m:r.W++;const o=Wi(r.I);Ln(o,"SID",r.K),Ln(o,"RID",t),Ln(o,"AID",r.V),Ui(r,o),r.o&&r.s&&fo(o,r.o,r.s),t=new ur(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Hs(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Ta(r.i,t),Dr(t,o,e)}function Ui(r,e){r.na&&zt(r.na,function(t,o){Ln(e,o,t)}),r.h&&Ls({},function(t,o){Ln(e,o,t)})}function Hs(r,e,t){t=Math.min(r.j.length,t);var o=r.h?ge(r.h.Va,r.h,r):null;e:{var l=r.j;let h=-1;for(;;){const _=["count="+t];-1==h?0<t?(h=l[0].g,_.push("ofs="+h)):h=0:_.push("ofs="+h);let P=!0;for(let q=0;q<t;q++){let re=l[q].g;const Pe=l[q].map;if(re-=h,0>re)h=Math.max(0,l[q].g-100),P=!1;else try{_s(Pe,_,"req"+re+"_")}catch{o&&o(Pe)}}if(P){o=_.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function fa(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;et||en(),It||(et(),It=!0),gt.add(e,r),r.A=0}}function zr(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=kn(ge(r.Ma,r),cs(r,r.A)),r.A++,0))}function Da(r){null!=r.B&&(se.clearTimeout(r.B),r.B=null)}function jt(r){r.g=new ur(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Wi(r.wa);Ln(e,"RID","rpc"),Ln(e,"SID",r.K),Ln(e,"AID",r.V),Ln(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Ln(e,"TO",r.qa),Ln(e,"TYPE","xmlhttp"),Ui(r,e),r.o&&r.s&&fo(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Oo(Wi(e)),t.s=null,t.S=!0,xi(t,r)}function rr(r){null!=r.v&&(se.clearTimeout(r.v),r.v=null)}function eo(r,e){var t=null;if(r.g==e){rr(r),Da(r),r.g=null;var o=2}else{if(!Ko(r.i,e))return;t=e.F,Zo(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=r.C;Xt(o=gr(),new Ms(o,t)),Sr(r)}else fa(r);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==o&&function Qa(r,e){return!(Co(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=kn(ge(r.Na,r,e),cs(r,r.C)),r.C++,0)))}(r,e)||2==o&&zr(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),l){case 1:Er(r,5);break;case 4:Er(r,10);break;case 3:Er(r,6);break;default:Er(r,2)}}function cs(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Er(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=ge(r.pb,r);t||(t=new zi("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||Ys(t,"https"),Oo(t)),function Qs(r,e){const t=new Et;if(se.Image){const o=new Image;o.onload=O(Xs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=O(Xs,t,o,"TestLoadImage: error",!1,e),o.onabort=O(Xs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=O(Xs,t,o,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else hi(2);r.H=0,r.h&&r.h.za(e),de(r),Hn(r)}function de(r){if(r.H=0,r.ma=[],r.h){const e=uo(r.i);(0!=e.length||0!=r.j.length)&&(Z(r.ma,e),Z(r.ma,r.j),r.i.i.length=0,xe(r.j),r.j.length=0),r.h.ya()}}function Ne(r,e,t){var o=t instanceof zi?Wi(t):new zi(t);if(""!=o.g)e&&(o.g=e+"."+o.g),qi(o,o.m);else{var l=se.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var h=new zi(null);o&&Ys(h,o),e&&(h.g=e),l&&qi(h,l),t&&(h.l=t),o=h}return e=r.Da,(t=r.F)&&e&&Ln(o,t,e),Ln(o,"VER",r.ra),Ui(r,o),o}function Qe(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new br(t&&r.Ha&&!r.va?new Ei({ob:!0}):r.va)).Oa(r.J),e}function ht(){}function St(){if(Q&&!(10<=Number(qe)))throw Error("Environmental error: no available transport.")}function Vt(r,e){_n.call(this),this.g=new js(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Se(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Se(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new fn(this)}function nn(r){Os.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Sn(){Ni.call(this),this.status=1}function fn(r){this.g=r}function Fn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ai(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)o[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)o[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var h=r.g[3],_=(e=r.g[0])+(h^(t=r.g[1])&((l=r.g[2])^h))+o[0]+3614090360&4294967295;_=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=t+(_<<7&4294967295|_>>>25))+((_=h+(l^e&(t^l))+o[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^h&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(h^e))+o[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(h^t&(l^h))+o[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=h+(l^e&(t^l))+o[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^h&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(h^e))+o[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(h^t&(l^h))+o[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=h+(l^e&(t^l))+o[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^h&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(h^e))+o[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(h^t&(l^h))+o[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=h+(l^e&(t^l))+o[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=l+(t^h&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=t+(e^l&(h^e))+o[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(l^h&(t^l))+o[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=h+(t^l&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(h^e))+o[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=t+(h^e&(l^h))+o[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^h&(t^l))+o[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=h+(t^l&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(h^e))+o[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=t+(h^e&(l^h))+o[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^h&(t^l))+o[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=h+(t^l&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(h^e))+o[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=t+(h^e&(l^h))+o[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^h&(t^l))+o[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=h+(t^l&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^t&(h^e))+o[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=t+(h^e&(l^h))+o[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(t^l^h)+o[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=h+(e^t^l)+o[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=l+(h^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^h^e)+o[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^h)+o[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=h+(e^t^l)+o[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=l+(h^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^h^e)+o[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^h)+o[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=h+(e^t^l)+o[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=l+(h^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^h^e)+o[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(t^l^h)+o[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=h+(e^t^l)+o[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=l+(h^e^t)+o[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=t+(l^h^e)+o[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(l^(t|~h))+o[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=h+(t^(e|~l))+o[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(h|~t))+o[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=t+(h^(l|~e))+o[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(t|~h))+o[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=h+(t^(e|~l))+o[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(h|~t))+o[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=t+(h^(l|~e))+o[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(t|~h))+o[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=h+(t^(e|~l))+o[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(h|~t))+o[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=t+(h^(l|~e))+o[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((h=(e=t+((_=e+(l^(t|~h))+o[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=h+(t^(e|~l))+o[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((l=h+((_=l+(e^(h|~t))+o[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(l+(_<<21&4294967295|_>>>11))&4294967295,r.g[2]=r.g[2]+l&4294967295,r.g[3]=r.g[3]+h&4294967295}function Yn(r,e){this.h=e;for(var t=[],o=!0,l=r.length-1;0<=l;l--){var h=0|r[l];o&&h==e||(t[l]=h,o=!1)}this.g=t}(ve=br.prototype).Oa=function(r){this.M=r},ve.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hn.g(),this.C=function ar(r){return r.h||(r.h=r.i())}(this.u?this.u:hn),this.g.onreadystatechange=ge(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(h){return void Vr(this,h)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const h of o.keys())t.set(h,o.get(h))}o=Array.from(t.keys()).find(h=>"content-type"==h.toLowerCase()),l=se.FormData&&r instanceof se.FormData,!(0<=X(ha,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,_]of t)this.g.setRequestHeader(h,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Vi(this),0<this.B&&((this.L=function yi(r){return Q&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ge(this.ua,this)):this.A=ct(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(h){Vr(this,h)}},ve.ua=function(){typeof ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))},ve.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Xt(this,"complete"),Xt(this,"abort"),oi(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oi(this,!0)),br.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?Vo(this):this.kb())},ve.kb=function(){Vo(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Qo(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=js.prototype).ra=8,ve.H=1,ve.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const l=new ur(this,this.l,r);let h=this.s;if(this.U&&(h?(h=qt(h),Vn(h,this.U)):h=this.U),null!==this.o||this.O||(l.I=h,h=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Hs(this,l,e),Ln(t=Wi(this.I),"RID",r),Ln(t,"CVER",22),this.F&&Ln(t,"X-HTTP-Session-Id",this.F),Ui(this,t),h&&(this.O?e="headers="+encodeURIComponent(String(wl(h)))+"&"+e:this.o&&fo(t,this.o,h)),Ta(this.i,l),this.bb&&Ln(t,"TYPE","init"),this.P?(Ln(t,"$req",e),Ln(t,"SID","null"),l.aa=!0,Dr(l,t,null)):Dr(l,t,e),this.H=2}}else 3==this.H&&(r?Js(this,r):0==this.j.length||ca(this.i)||Js(this))},ve.Ma=function(){if(this.u=null,jt(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=kn(ge(this.jb,this),r)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hi(10),vs(this),jt(this))},ve.ib=function(){null!=this.v&&(this.v=null,vs(this),zr(this),hi(19))},ve.pb=function(r){r?(this.l.info("Successfully pinged google.com"),hi(2)):(this.l.info("Failed to ping google.com"),hi(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=ht.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},St.prototype.g=function(r,e){return new Vt(r,e)},D(Vt,_n),Vt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;hi(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Ne(r,null,r.Y),Sr(r)},Vt.prototype.close=function(){Ia(this.g)},Vt.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Yt(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Sr(e)},Vt.prototype.N=function(){this.g.h=null,delete this.j,Ia(this.g),delete this.g,Vt.$.N.call(this)},D(nn,Os),D(Sn,Ni),D(fn,ht),fn.prototype.Ba=function(){Xt(this.g,"a")},fn.prototype.Aa=function(r){Xt(this.g,new nn(r))},fn.prototype.za=function(r){Xt(this.g,new Sn)},fn.prototype.ya=function(){Xt(this.g,"b")},D(Fn,function Nn(){this.blockSize=-1}),Fn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fn.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,l=this.h,h=0;h<e;){if(0==l)for(;h<=t;)ai(this,r,h),h+=this.blockSize;if("string"==typeof r){for(;h<e;)if(o[l++]=r.charCodeAt(h++),l==this.blockSize){ai(this,o),l=0;break}}else for(;h<e;)if(o[l++]=r[h++],l==this.blockSize){ai(this,o),l=0;break}}this.h=l,this.i+=e},Fn.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var Oi={};function xa(r){return-128<=r&&128>r?function nt(r,e){var t=Oi;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Yn([0|e],0>e?-1:0)}):new Yn([0|r],0>r?-1:0)}function Bi(r){if(isNaN(r)||!isFinite(r))return Bo;if(0>r)return li(Bi(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=Uo;return new Yn(e,0)}var Uo=4294967296,Bo=xa(0),pa=xa(1),Xa=xa(16777216);function vi(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function ws(r){return-1==r.h}function li(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Yn(t,~r.h).add(pa)}function Ao(r,e){return r.add(li(e))}function So(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function ga(r,e){this.g=r,this.h=e}function po(r,e){if(vi(e))throw Error("division by zero");if(vi(r))return new ga(Bo,Bo);if(ws(r))return e=po(li(r),e),new ga(li(e.g),li(e.h));if(ws(e))return e=po(r,li(e)),new ga(li(e.g),e.h);if(30<r.g.length){if(ws(r)||ws(e))throw Error("slowDivide_ only works with positive integers.");for(var t=pa,o=e;0>=o.X(r);)t=Ja(t),o=Ja(o);var l=Ma(t,1),h=Ma(o,1);for(o=Ma(o,2),t=Ma(t,2);!vi(o);){var _=h.add(o);0>=_.X(r)&&(l=l.add(t),h=_),o=Ma(o,1),t=Ma(t,1)}return e=Ao(r,l.R(e)),new ga(l,e)}for(l=Bo;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),_=(h=Bi(t)).R(e);ws(_)||0<_.X(r);)_=(h=Bi(t-=o)).R(e);vi(h)&&(h=pa),l=l.add(h),r=Ao(r,_)}return new ga(l,r)}function Ja(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Yn(t,r.h)}function Ma(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,l=[],h=0;h<o;h++)l[h]=0<e?r.D(h+t)>>>e|r.D(h+t+1)<<32-e:r.D(h+t);return new Yn(l,r.h)}(ve=Yn.prototype).ea=function(){if(ws(this))return-li(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:Uo+o)*e,e*=Uo}return r},ve.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(vi(this))return"0";if(ws(this))return"-"+li(this).toString(r);for(var e=Bi(Math.pow(r,6)),t=this,o="";;){var l=po(t,e).g,h=((0<(t=Ao(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(vi(t=l))return h+o;for(;6>h.length;)h="0"+h;o=h+o}},ve.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},ve.X=function(r){return ws(r=Ao(this,r))?-1:vi(r)?0:1},ve.abs=function(){return ws(this)?li(this):this},ve.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,l=0;l<=e;l++){var h=o+(65535&this.D(l))+(65535&r.D(l)),_=(h>>>16)+(this.D(l)>>>16)+(r.D(l)>>>16);o=_>>>16,t[l]=(_&=65535)<<16|(h&=65535)}return new Yn(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(r){if(vi(this)||vi(r))return Bo;if(ws(this))return ws(r)?li(this).R(li(r)):li(li(this).R(r));if(ws(r))return li(this.R(li(r)));if(0>this.X(Xa)&&0>r.X(Xa))return Bi(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var l=0;l<r.g.length;l++){var h=this.D(o)>>>16,_=65535&this.D(o),P=r.D(l)>>>16,q=65535&r.D(l);t[2*o+2*l]+=_*q,So(t,2*o+2*l),t[2*o+2*l+1]+=h*q,So(t,2*o+2*l+1),t[2*o+2*l+1]+=_*P,So(t,2*o+2*l+1),t[2*o+2*l+2]+=h*P,So(t,2*o+2*l+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Yn(t,0)},ve.gb=function(r){return po(this,r).h},ve.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Yn(t,this.h&r.h)},ve.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Yn(t,this.h|r.h)},ve.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Yn(t,this.h^r.h)},St.prototype.createWebChannel=St.prototype.g,Vt.prototype.send=Vt.prototype.u,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Xr.COMPLETE="complete",Rs.EventType=ao,ao.OPEN="a",ao.CLOSE="b",ao.ERROR="c",ao.MESSAGE="d",_n.prototype.listen=_n.prototype.O,br.prototype.listenOnce=br.prototype.P,br.prototype.getLastError=br.prototype.Sa,br.prototype.getLastErrorCode=br.prototype.Ia,br.prototype.getStatus=br.prototype.da,br.prototype.getResponseJson=br.prototype.Wa,br.prototype.getResponseText=br.prototype.ja,br.prototype.send=br.prototype.ha,br.prototype.setWithCredentials=br.prototype.Oa,Fn.prototype.digest=Fn.prototype.l,Fn.prototype.reset=Fn.prototype.reset,Fn.prototype.update=Fn.prototype.j,Yn.prototype.add=Yn.prototype.add,Yn.prototype.multiply=Yn.prototype.R,Yn.prototype.modulo=Yn.prototype.gb,Yn.prototype.compare=Yn.prototype.X,Yn.prototype.toNumber=Yn.prototype.ea,Yn.prototype.toString=Yn.prototype.toString,Yn.prototype.getBits=Yn.prototype.D,Yn.fromNumber=Bi,Yn.fromString=function Pa(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return li(Pa(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Bi(Math.pow(e,8)),o=Bo,l=0;l<r.length;l+=8){var h=Math.min(8,r.length-l),_=parseInt(r.substring(l,l+h),e);8>h?(h=Bi(Math.pow(e,h)),o=o.R(h).add(Bi(_))):o=(o=o.R(t)).add(Bi(_))}return o};var Hl=fe.createWebChannelTransport=function(){return new St},Zi=fe.getStatEventTarget=function(){return gr()},go=fe.ErrorCode=Ir,ei=fe.EventType=Xr,Gl=fe.Event=nr,k=fe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ie=fe.FetchXmlHttpFactory=Ei,B=fe.WebChannel=Rs,Ae=fe.XhrIo=br,$e=fe.Md5=Fn,Ct=fe.Integer=Yn;const Ot="@firebase/firestore";class rn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let ir="9.23.0";const Qn=new Re.Yd("@firebase/firestore");function dr(){return Qn.logLevel}function At(r,...e){if(Qn.logLevel<=Re.in.DEBUG){const t=e.map(Gs);Qn.debug(`Firestore (${ir}): ${r}`,...t)}}function Rn(r,...e){if(Qn.logLevel<=Re.in.ERROR){const t=e.map(Gs);Qn.error(`Firestore (${ir}): ${r}`,...t)}}function kr(r,...e){if(Qn.logLevel<=Re.in.WARN){const t=e.map(Gs);Qn.warn(`Firestore (${ir}): ${r}`,...t)}}function Gs(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function dn(r="Unexpected state"){const e=`FIRESTORE (${ir}) INTERNAL ASSERTION FAILED: `+r;throw Rn(e),new Error(e)}function wn(r,e){r||dn()}function on(r,e){return r}const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ft extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Jo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ra{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class iu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class el{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const h=re=>this.i!==l?(l=this.i,t(re)):Promise.resolve();let _=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new wi,e.enqueueRetryable(()=>h(this.currentUser))};const P=()=>{const re=_;e.enqueueRetryable((0,f.Z)(function*(){yield re.promise,yield h(o.currentUser)}))},q=re=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=re,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(re=>q(re)),setTimeout(()=>{if(!this.auth){const re=this.t.getImmediate({optional:!0});re?q(re):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new wi)}},0),P()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(wn("string"==typeof o.accessToken),new Jo(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new rn(e)}}class Oa{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class mo{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Oa(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ka{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=h=>{null!=h.error&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const _=h.token!==this.T;return this.T=h.token,At("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const l=h=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.I.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.I.getImmediate({optional:!0});h?l(h):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn("string"==typeof t.token),this.T=t.token,new ka(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wr(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class ti{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Wr(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<t&&(o+=e.charAt(l[h]%e.length))}return o}}function qn(r,e){return r<e?-1:r>e?1:0}function ea(r,e,t){return r.length===e.length&&r.every((o,l)=>t(o,e[l]))}class qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ft(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ft(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ft(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ft(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qr.fromMillis(Date.now())}static fromDate(e){return qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new qr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qn(this.nanoseconds,e.nanoseconds):qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tn(e)}static min(){return new Tn(new qr(0,0))}static max(){return new Tn(new qr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class To{constructor(e,t,o){void 0===t?t=0:t>e.length&&dn(),void 0===o?o=e.length-t:o>e.length-t&&dn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===To.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof To?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const h=e.get(l),_=t.get(l);if(h<_)return-1;if(h>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dn extends To{construct(e,t,o){return new Dn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ft(wt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Dn(t)}static emptyPath(){return new Dn([])}}const bl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends To{construct(e,t,o){return new jr(e,t,o)}static isValidIdentifier(e){return bl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jr(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const h=()=>{if(0===o.length)throw new Ft(wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let _=!1;for(;l<e.length;){const P=e[l];if("\\"===P){if(l+1===e.length)throw new Ft(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const q=e[l+1];if("\\"!==q&&"."!==q&&"`"!==q)throw new Ft(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=q,l+=2}else"`"===P?(_=!_,l++):"."!==P||_?(o+=P,l++):(h(),l++)}if(h(),_)throw new Ft(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(t)}static emptyPath(){return new jr([])}}class an{constructor(e){this.path=e}static fromPath(e){return new an(Dn.fromString(e))}static fromName(e){return new an(Dn.fromString(e).popFirst(5))}static empty(){return new an(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new an(new Dn(e.slice()))}}function Ho(r){return new Si(r.readTime,r.key,-1)}class Si{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Si(Tn.min(),an.empty(),-1)}static max(){return new Si(Tn.max(),an.empty(),-1)}}function bi(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=an.comparator(r.documentKey,e.documentKey),0!==t?t:qn(r.largestBatchId,e.largestBatchId))}const Cs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $l{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yi(r){return zl.apply(this,arguments)}function zl(){return zl=(0,f.Z)(function*(r){if(r.code!==wt.FAILED_PRECONDITION||r.message!==Cs)throw r;At("LocalStore","Unexpectedly lost primary lease")}),zl.apply(this,arguments)}class _t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _t((o,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _t?t:_t.resolve(t)}catch(t){return _t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.reject(t)}static resolve(e){return new _t((t,o)=>{t(e)})}static reject(e){return new _t((t,o)=>{o(e)})}static waitFor(e){return new _t((t,o)=>{let l=0,h=0,_=!1;e.forEach(P=>{++l,P.next(()=>{++h,_&&h===l&&t()},q=>o(q))}),_=!0,h===l&&t()})}static or(e){let t=_t.resolve(!1);for(const o of e)t=t.next(l=>l?_t.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,h)=>{o.push(t.call(this,l,h))}),this.waitFor(o)}static mapArray(e,t){return new _t((o,l)=>{const h=e.length,_=new Array(h);let P=0;for(let q=0;q<h;q++){const re=q;t(e[re]).next(Pe=>{_[re]=Pe,++P,P===h&&o(_)},Pe=>l(Pe))}})}static doWhile(e,t){return new _t((o,l)=>{const h=()=>{!0===e()?t().next(()=>{h()},l):o()};h()})}}function Rr(r){return"IndexedDbTransactionError"===r.name}let zs=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>o.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function za(r){return null==r}function Al(r){return 0===r&&1/r==-1/0}function Qi(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Hi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ss(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Tr{constructor(e,t){this.comparator=e,this.root=t||ni.EMPTY}insert(e,t){return new Tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new Tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ws(this.root,e,this.comparator,!0)}}class Ws{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?o(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,t,o,l,h){this.key=e,this.value=t,this.color=o??ni.RED,this.left=l??ni.EMPTY,this.right=h??ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,h){return new ni(e??this.key,t??this.value,o??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===h?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return ni.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dn();const e=this.left.check();if(e!==this.right.check())throw dn();return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1,ni.EMPTY=new class{constructor(){this.size=0}get key(){throw dn()}get value(){throw dn()}get color(){throw dn()}get left(){throw dn()}get right(){throw dn()}copy(r,e,t,o,l){return this}insert(r,e,t){return new ni(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(e){this.comparator=e,this.data=new Tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ac(this.data.getIterator())}getIteratorFrom(e){return new Ac(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new di(this.comparator);return t.data=e,t}}class Ac{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xi{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new Xi([])}unionWith(e){let t=new di(jr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Xi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class au extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new au("Invalid base64 string: "+l):l}}(e);return new Ti(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Ti(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const Il=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(r){if(wn(!!r),"string"==typeof r){let e=0;const t=Il.exec(r);if(wn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ur(r.seconds),nanos:Ur(r.nanos)}}function Ur(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Wa(r){return"string"==typeof r?Ti.fromBase64String(r):Ti.fromUint8Array(r)}function Dl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sl(r){const e=r.mapValue.fields.__previous_value__;return Dl(e)?sl(e):e}function Sc(r){const e=Do(r.mapValue.fields.__local_write_time__.timestampValue);return new qr(e.seconds,e.nanos)}class Tc{constructor(e,t,o,l,h,_,P,q,re){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=h,this.forceLongPolling=_,this.autoDetectLongPolling=P,this.longPollingOptions=q,this.useFetchStreams=re}}class Va{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Va("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}const Wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dl(r)?4:nd(r)?9007199254740991:10:dn()}function na(r,e){if(r===e)return!0;const t=qo(r);if(t!==qo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Sc(r).isEqual(Sc(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Do(o.timestampValue),_=Do(l.timestampValue);return h.seconds===_.seconds&&h.nanos===_.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return l=e,Wa(r.bytesValue).isEqual(Wa(l.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Ur(o.geoPointValue.latitude)===Ur(l.geoPointValue.latitude)&&Ur(o.geoPointValue.longitude)===Ur(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ur(o.integerValue)===Ur(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Ur(o.doubleValue),_=Ur(l.doubleValue);return h===_?Al(h)===Al(_):isNaN(h)&&isNaN(_)}return!1}(r,e);case 9:return ea(r.arrayValue.values||[],e.arrayValue.values||[],na);case 10:return function(o,l){const h=o.mapValue.fields||{},_=l.mapValue.fields||{};if(Qi(h)!==Qi(_))return!1;for(const P in h)if(h.hasOwnProperty(P)&&(void 0===_[P]||!na(h[P],_[P])))return!1;return!0}(r,e);default:return dn()}var l}function ol(r,e){return void 0!==(r.values||[]).find(t=>na(t,e))}function Ba(r,e){if(r===e)return 0;const t=qo(r),o=qo(e);if(t!==o)return qn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return qn(r.booleanValue,e.booleanValue);case 2:return function(l,h){const _=Ur(l.integerValue||l.doubleValue),P=Ur(h.integerValue||h.doubleValue);return _<P?-1:_>P?1:_===P?0:isNaN(_)?isNaN(P)?0:-1:1}(r,e);case 3:return ql(r.timestampValue,e.timestampValue);case 4:return ql(Sc(r),Sc(e));case 5:return qn(r.stringValue,e.stringValue);case 6:return function(l,h){const _=Wa(l),P=Wa(h);return _.compareTo(P)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const _=l.split("/"),P=h.split("/");for(let q=0;q<_.length&&q<P.length;q++){const re=qn(_[q],P[q]);if(0!==re)return re}return qn(_.length,P.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const _=qn(Ur(l.latitude),Ur(h.latitude));return 0!==_?_:qn(Ur(l.longitude),Ur(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(l,h){const _=l.values||[],P=h.values||[];for(let q=0;q<_.length&&q<P.length;++q){const re=Ba(_[q],P[q]);if(re)return re}return qn(_.length,P.length)}(r.arrayValue,e.arrayValue);case 10:return function(l,h){if(l===Wo.mapValue&&h===Wo.mapValue)return 0;if(l===Wo.mapValue)return 1;if(h===Wo.mapValue)return-1;const _=l.fields||{},P=Object.keys(_),q=h.fields||{},re=Object.keys(q);P.sort(),re.sort();for(let Pe=0;Pe<P.length&&Pe<re.length;++Pe){const Ze=qn(P[Pe],re[Pe]);if(0!==Ze)return Ze;const vt=Ba(_[P[Pe]],q[re[Pe]]);if(0!==vt)return vt}return qn(P.length,re.length)}(r.mapValue,e.mapValue);default:throw dn()}}function ql(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return qn(r,e);const t=Do(r),o=Do(e),l=qn(t.seconds,o.seconds);return 0!==l?l:qn(t.nanos,o.nanos)}function xl(r){return Ic(r)}function Ic(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const l=Do(o);return`time(${l.seconds},${l.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Wa(r.bytesValue).toBase64():"referenceValue"in r?an.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let l="[",h=!0;for(const _ of o.values||[])h?h=!1:l+=",",l+=Ic(_);return l+"]"}(r.arrayValue):"mapValue"in r?function(o){const l=Object.keys(o.fields||{}).sort();let h="{",_=!0;for(const P of l)_?_=!1:h+=",",h+=`${P}:${Ic(o.fields[P])}`;return h+"}"}(r.mapValue):dn();var e}function ya(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function lu(r){return!!r&&"integerValue"in r}function Kl(r){return!!r&&"arrayValue"in r}function ll(r){return!!r&&"nullValue"in r}function td(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dc(r){return!!r&&"mapValue"in r}function Pl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Hi(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Pl(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function nd(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ji{constructor(e){this.value=e}static empty(){return new Ji({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Dc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(t)}setAll(e){let t=jr.emptyPath(),o={},l=[];e.forEach((_,P)=>{if(!t.isImmediateParentOf(P)){const q=this.getFieldsMap(t);this.applyChanges(q,o,l),o={},l=[],t=P.popLast()}_?o[P.lastSegment()]=Pl(_):l.push(P.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,o,l)}delete(e){const t=this.field(e.popLast());Dc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){Hi(t,(l,h)=>e[l]=h);for(const l of o)delete e[l]}clone(){return new Ji(Pl(this.value))}}function Ql(r){const e=[];return Hi(r.fields,(t,o)=>{const l=new jr([t]);if(Dc(o)){const h=Ql(o.mapValue).fields;if(0===h.length)e.push(l);else for(const _ of h)e.push(l.child(_))}else e.push(l)}),new Xi(e)}class Qr{constructor(e,t,o,l,h,_,P){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=h,this.data=_,this.documentState=P}static newInvalidDocument(e){return new Qr(e,0,Tn.min(),Tn.min(),Tn.min(),Ji.empty(),0)}static newFoundDocument(e,t,o,l){return new Qr(e,1,t,Tn.min(),o,l,0)}static newNoDocument(e,t){return new Qr(e,2,t,Tn.min(),Tn.min(),Ji.empty(),0)}static newUnknownDocument(e,t){return new Qr(e,3,t,Tn.min(),Tn.min(),Ji.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class us{constructor(e,t){this.position=e,this.inclusive=t}}function cu(r,e,t){let o=0;for(let l=0;l<r.position.length;l++){const h=e[l],_=r.position[l];if(o=h.field.isKeyField()?an.comparator(an.fromName(_.referenceValue),t.key):Ba(_,t.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function Xl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!na(r.position[t],e.position[t]))return!1;return!0}class cl{constructor(e,t="asc"){this.field=e,this.dir=t}}function uu(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Jl{}class wr extends Jl{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Is(e,t,o):"array-contains"===t?new E(e,o):"in"===t?new $(e,o):"not-in"===t?new Ye(e,o):"array-contains-any"===t?new Gt(e,o):new wr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new v(e,o):new w(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ba(t,this.value)):null!==t&&qo(this.value)===qo(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Br extends Jl{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Br(e,t)}matches(e){return qa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function qa(r){return"and"===r.op}function Pc(r){return function du(r){for(const e of r.filters)if(e instanceof Br)return!1;return!0}(r)&&qa(r)}function Ts(r){if(r instanceof wr)return r.field.canonicalString()+r.op.toString()+xl(r.value);if(Pc(r))return r.filters.map(e=>Ts(e)).join(",");{const e=r.filters.map(t=>Ts(t)).join(",");return`${r.op}(${e})`}}function tc(r,e){return r instanceof wr?(t=r,(o=e)instanceof wr&&t.op===o.op&&t.field.isEqual(o.field)&&na(t.value,o.value)):r instanceof Br?function(t,o){return o instanceof Br&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,h,_)=>l&&tc(h,o.filters[_]),!0)}(r,e):void dn();var t,o}function ul(r){return r instanceof wr?`${(e=r).field.canonicalString()} ${e.op} ${xl(e.value)}`:r instanceof Br?function(e){return e.op.toString()+" {"+e.getFilters().map(ul).join(" ,")+"}"}(r):"Filter";var e}class Is extends wr{constructor(e,t,o){super(e,t,o),this.key=an.fromName(o.referenceValue)}matches(e){const t=an.comparator(e.key,this.key);return this.matchesComparison(t)}}class v extends wr{constructor(e,t){super(e,"in",t),this.keys=g(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class w extends wr{constructor(e,t){super(e,"not-in",t),this.keys=g(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function g(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>an.fromName(o.referenceValue))}class E extends wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kl(t)&&ol(t.arrayValue,this.value)}}class $ extends wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ol(this.value.arrayValue,t)}}class Ye extends wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ol(this.value.arrayValue,t)}}class Gt extends wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>ol(this.value.arrayValue,o))}}class On{constructor(e,t=null,o=[],l=[],h=null,_=null,P=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=h,this.startAt=_,this.endAt=P,this.dt=null}}function Mn(r,e=null,t=[],o=[],l=null,h=null,_=null){return new On(r,e,t,o,l,h,_)}function sr(r){const e=on(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Ts(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),za(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>xl(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>xl(o)).join(",")),e.dt=t}return e.dt}function es(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!uu(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!tc(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Xl(r.startAt,e.startAt)&&Xl(r.endAt,e.endAt)}function ds(r){return an.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class ro{constructor(e,t=null,o=[],l=[],h=null,_="F",P=null,q=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=_,this.startAt=P,this.endAt=q,this.wt=null,this._t=null}}function Ci(r){return new ro(r)}function dl(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function rc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function I(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function p(r){return null!==r.collectionGroup}function y(r){const e=on(r);if(null===e.wt){e.wt=[];const t=I(e),o=rc(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new cl(t)),e.wt.push(new cl(jr.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e.wt.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cl(jr.keyField(),h))}}}return e.wt}function x(r){const e=on(r);if(!e._t)if("F"===e.limitType)e._t=Mn(e.path,e.collectionGroup,y(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of y(e))t.push(new cl(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new us(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new us(e.startAt.position,e.startAt.inclusive):null;e._t=Mn(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function ce(r,e){e.getFirstInequalityField(),I(r);const t=r.filters.concat([e]);return new ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Me(r,e,t){return new ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ot(r,e){return es(x(r),x(e))&&r.limitType===e.limitType}function Dt(r){return`${sr(x(r))}|lt:${r.limitType}`}function tn(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>ul(o)).join(", ")}]`),za(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>xl(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>xl(o)).join(",")),`Target(${t})`}(x(r))}; limitType=${r.limitType})`}function pn(r,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):an.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(r,e)&&function(t,o){for(const l of y(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(r,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(l,h,_){const P=cu(l,h,_);return l.inclusive?P<=0:P<0}(t.startAt,y(t),o)||t.endAt&&!function(l,h,_){const P=cu(l,h,_);return l.inclusive?P>=0:P>0}(t.endAt,y(t),o)));var t,o}function mr(r){return(e,t)=>{let o=!1;for(const l of y(r)){const h=io(l,e,t);if(0!==h)return h;o=o||l.field.isKeyField()}return 0}}function io(r,e,t){const o=r.field.isKeyField()?an.comparator(e.key,t.key):function(l,h,_){const P=h.data.field(l),q=_.data.field(l);return null!==P&&null!==q?Ba(P,q):dn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return dn()}}class qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,h]of o)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(t,o)=>{for(const[l,h]of o)e(l,h)})}isEmpty(){return Ss(this.inner)}size(){return this.innerSize}}const ic=new Tr(an.comparator);function yo(){return ic}const hu=new Tr(an.comparator);function Ml(...r){let e=hu;for(const t of r)e=e.insert(t.key,t);return e}function fu(r){let e=hu;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ds(){return Rl()}function pu(){return Rl()}function Rl(){return new qs(r=>r.toString(),(r,e)=>r.isEqual(e))}const sd=new Tr(an.comparator),ff=new di(an.comparator);function tr(...r){let e=ff;for(const t of r)e=e.add(t);return e}const od=new di(qn);function pf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Al(e)?"-0":e}}function gf(r){return{integerValue:""+r}}function $d(r,e){return function ed(r){return"number"==typeof r&&Number.isInteger(r)&&!Al(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?gf(e):pf(r,e)}class ad{constructor(){this._=void 0}}function zd(r,e,t){return r instanceof sc?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Dl(l)&&(l=sl(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof Ol?qd(r,e):r instanceof Ka?ag(r,e):function(o,l){const h=mf(o,l),_=lg(h)+lg(o.gt);return lu(h)&&lu(o.gt)?gf(_):pf(o.serializer,_)}(r,e)}function Wd(r,e,t){return r instanceof Ol?qd(r,e):r instanceof Ka?ag(r,e):t}function mf(r,e){return r instanceof Rc?lu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class sc extends ad{}class Ol extends ad{constructor(e){super(),this.elements=e}}function qd(r,e){const t=cg(e);for(const o of r.elements)t.some(l=>na(l,o))||t.push(o);return{arrayValue:{values:t}}}class Ka extends ad{constructor(e){super(),this.elements=e}}function ag(r,e){let t=cg(e);for(const o of r.elements)t=t.filter(l=>!na(l,o));return{arrayValue:{values:t}}}class Rc extends ad{constructor(e,t){super(),this.serializer=e,this.gt=t}}function lg(r){return Ur(r.integerValue||r.doubleValue)}function cg(r){return Kl(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class dg{constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mu(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class kl{}function hg(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Oc(r.key,mi.none()):new _u(r.key,r.data,mi.none());{const t=r.data,o=Ji.empty();let l=new di(jr.comparator);for(let h of e.fields)if(!l.has(h)){let _=t.field(h);null===_&&h.length>1&&(h=h.popLast(),_=t.field(h)),null===_?o.delete(h):o.set(h,_),l=l.add(h)}return new hl(r.key,o,new Xi(l.toArray()),mi.none())}}function w_(r,e,t){r instanceof _u?function(o,l,h){const _=o.value.clone(),P=Yd(o.fieldTransforms,l,h.transformResults);_.setAll(P),l.convertToFoundDocument(h.version,_).setHasCommittedMutations()}(r,e,t):r instanceof hl?function(o,l,h){if(!mu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const _=Yd(o.fieldTransforms,l,h.transformResults),P=l.data;P.setAll(cd(o)),P.setAll(_),l.convertToFoundDocument(h.version,P).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Kd(r,e,t,o){return r instanceof _u?function(l,h,_,P){if(!mu(l.precondition,h))return _;const q=l.value.clone(),re=_f(l.fieldTransforms,P,h);return q.setAll(re),h.convertToFoundDocument(h.version,q).setHasLocalMutations(),null}(r,e,t,o):r instanceof hl?function(l,h,_,P){if(!mu(l.precondition,h))return _;const q=_f(l.fieldTransforms,P,h),re=h.data;return re.setAll(cd(l)),re.setAll(q),h.convertToFoundDocument(h.version,re).setHasLocalMutations(),null===_?null:_.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(Pe=>Pe.field))}(r,e,t,o):(_=t,mu(r.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):_);var h,_}function b_(r,e){let t=null;for(const o of r.fieldTransforms){const l=e.data.field(o.field),h=mf(o.transform,l||null);null!=h&&(null===t&&(t=Ji.empty()),t.set(o.field,h))}return t||null}function Zd(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&ea(t,o,(l,h)=>function ug(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Ol&&o instanceof Ol||t instanceof Ka&&o instanceof Ka?ea(t.elements,o.elements,na):t instanceof Rc&&o instanceof Rc?na(t.gt,o.gt):t instanceof sc&&o instanceof sc);var t,o}(l,h))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class _u extends kl{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hl extends kl{constructor(e,t,o,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function cd(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function Yd(r,e,t){const o=new Map;wn(r.length===t.length);for(let l=0;l<t.length;l++){const h=r[l],_=h.transform,P=e.data.field(h.field);o.set(h.field,Wd(_,P,t[l]))}return o}function _f(r,e,t){const o=new Map;for(const l of r){const h=l.transform,_=t.data.field(l.field);o.set(l.field,zd(h,_,e))}return o}class Oc extends kl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qd extends kl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xd{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&w_(h,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Kd(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Kd(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=pu();return this.mutations.forEach(l=>{const h=e.get(l.key),_=h.overlayedDocument;let P=this.applyToLocalView(_,h.mutatedFields);P=t.has(l.key)?null:P;const q=hg(_,P);null!==q&&o.set(l.key,q),_.isValidDocument()||_.convertToNoDocument(Tn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tr())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,o)=>Zd(t,o))&&ea(this.baseMutations,e.baseMutations,(t,o)=>Zd(t,o))}}class yf{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){wn(e.mutations.length===o.length);let l=sd;const h=e.mutations;for(let _=0;_<h.length;_++)l=l.insert(h[_].key,o[_].version);return new yf(e,t,o,l)}}class vf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class E_{constructor(e,t){this.count=e,this.unchangedNames=t}}var xs,_r;function fg(r){if(void 0===r)return Rn("GRPC error has no .code"),wt.UNKNOWN;switch(r){case xs.OK:return wt.OK;case xs.CANCELLED:return wt.CANCELLED;case xs.UNKNOWN:return wt.UNKNOWN;case xs.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case xs.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case xs.INTERNAL:return wt.INTERNAL;case xs.UNAVAILABLE:return wt.UNAVAILABLE;case xs.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case xs.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case xs.NOT_FOUND:return wt.NOT_FOUND;case xs.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case xs.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case xs.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case xs.ABORTED:return wt.ABORTED;case xs.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case xs.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case xs.DATA_LOSS:return wt.DATA_LOSS;default:return dn()}}(_r=xs||(xs={}))[_r.OK=0]="OK",_r[_r.CANCELLED=1]="CANCELLED",_r[_r.UNKNOWN=2]="UNKNOWN",_r[_r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_r[_r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_r[_r.NOT_FOUND=5]="NOT_FOUND",_r[_r.ALREADY_EXISTS=6]="ALREADY_EXISTS",_r[_r.PERMISSION_DENIED=7]="PERMISSION_DENIED",_r[_r.UNAUTHENTICATED=16]="UNAUTHENTICATED",_r[_r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_r[_r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_r[_r.ABORTED=10]="ABORTED",_r[_r.OUT_OF_RANGE=11]="OUT_OF_RANGE",_r[_r.UNIMPLEMENTED=12]="UNIMPLEMENTED",_r[_r.INTERNAL=13]="INTERNAL",_r[_r.UNAVAILABLE=14]="UNAVAILABLE",_r[_r.DATA_LOSS=15]="DATA_LOSS";class pg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return wf}static getOrCreateInstance(){return null===wf&&(wf=new pg),wf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let wf=null;const xv=new Ct([4294967295,4294967295],0);function S_(r){const e=function A_(){return new TextEncoder}().encode(r),t=new $e;return t.update(e),new Uint8Array(t.digest())}function bf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ct([t,o],0),new Ct([l,h],0)]}class Cf{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new ud(`Invalid padding: ${t}`);if(o<0)throw new ud(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new ud(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new ud(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ct.fromNumber(this.It)}Et(e,t,o){let l=e.add(t.multiply(Ct.fromNumber(o)));return 1===l.compare(xv)&&(l=new Ct([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=S_(e),[o,l]=bf(t);for(let h=0;h<this.hashCount;h++){const _=this.Et(o,l,h);if(!this.At(_))return!1}return!0}static create(e,t,o){const l=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),_=new Cf(h,l,t);return o.forEach(P=>_.insert(P)),_}insert(e){if(0===this.It)return;const t=S_(e),[o,l]=bf(t);for(let h=0;h<this.hashCount;h++){const _=this.Et(o,l,h);this.Rt(_)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dd{constructor(e,t,o,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new dd(Tn.min(),l,new Tr(qn),yo(),tr())}}class hd{constructor(e,t,o,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new hd(o,t,tr(),tr(),tr())}}class vu{constructor(e,t,o,l){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=l}}class fl{constructor(e,t){this.targetId=e,this.Vt=t}}class wu{constructor(e,t,o=Ti.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Ef{constructor(){this.St=0,this.Dt=T_(),this.Ct=Ti.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=tr(),t=tr(),o=tr();return this.Dt.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:dn()}}),new hd(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=T_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gg{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=yo(),this.zt=Af(),this.Wt=new Tr(qn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,l)=>{this.te(l)&&t(l)})}ne(e){var t;const o=e.targetId,l=e.Vt.count,h=this.se(o);if(h){const _=h.target;if(ds(_))if(0===l){const P=new an(_.path);this.Yt(o,P,Qr.newNoDocument(P,Tn.min()))}else wn(1===l);else{const P=this.ie(o);if(P!==l){const q=this.re(e,P);0!==q&&(this.ee(o),this.Wt=this.Wt.insert(o,2===q?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=pg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(re,Pe,Ze){var vt,Mt,Qt,yn,bn,pr;const Lr={localCacheCount:Pe,existenceFilterCount:Ze.count},Cr=Ze.unchangedNames;return Cr&&(Lr.bloomFilter={applied:0===re,hashCount:null!==(vt=Cr?.hashCount)&&void 0!==vt?vt:0,bitmapLength:null!==(yn=null===(Qt=null===(Mt=Cr?.bits)||void 0===Mt?void 0:Mt.bitmap)||void 0===Qt?void 0:Qt.length)&&void 0!==yn?yn:0,padding:null!==(pr=null===(bn=Cr?.bits)||void 0===bn?void 0:bn.padding)&&void 0!==pr?pr:0}),Lr}(q,P,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:l}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:h="",padding:_=0},hashCount:P=0}=o;let q,re;try{q=Wa(h).toUint8Array()}catch(Pe){if(Pe instanceof au)return kr("Decoding the base64 bloom filter in existence filter failed ("+Pe.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Pe}try{re=new Cf(q,_,P)}catch(Pe){return kr(Pe instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",Pe),1}return 0===re.It?1:l!==t-this.oe(e.targetId,re)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let l=0;return o.forEach(h=>{const _=this.Gt.ue(),P=`projects/${_.projectId}/databases/${_.database}/documents/${h.path.canonicalString()}`;t.vt(P)||(this.Yt(e,h,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((h,_)=>{const P=this.se(_);if(P){if(h.current&&ds(P.target)){const q=new an(P.target.path);null!==this.jt.get(q)||this.ae(_,q)||this.Yt(_,q,Qr.newNoDocument(q,e))}h.Mt&&(t.set(_,h.Ot()),h.Ft())}});let o=tr();this.zt.forEach((h,_)=>{let P=!0;_.forEachWhile(q=>{const re=this.se(q);return!re||"TargetPurposeLimboResolution"===re.purpose||(P=!1,!1)}),P&&(o=o.add(h))}),this.jt.forEach((h,_)=>_.setReadTime(e));const l=new dd(e,t,this.Wt,this.jt,o);return this.jt=yo(),this.zt=Af(),this.Wt=new Tr(qn),l}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ef,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new di(qn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||At("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ef),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Af(){return new Tr(an.comparator)}function T_(){return new Tr(an.comparator)}const Pv={asc:"ASCENDING",desc:"DESCENDING"},Mv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sf={and:"AND",or:"OR"};class Tf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mg(r,e){return r.useProto3Json||za(e)?e:{value:e}}function fd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function If(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function I_(r,e){return fd(r,e.toTimestamp())}function hs(r){return wn(!!r),Tn.fromTimestamp(function(e){const t=Do(e);return new qr(t.seconds,t.nanos)}(r))}function Df(r,e){return(t=r,new Dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _g(r){const e=Dn.fromString(r);return wn(kf(e)),e}function bu(r,e){return Df(r.databaseId,e.path)}function va(r,e){const t=_g(e);if(t.get(1)!==r.databaseId.projectId)throw new Ft(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ft(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new an(fs(t))}function xf(r,e){return Df(r.databaseId,e)}function pd(r){return new Dn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fs(r){return wn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Pf(r,e,t){return{name:bu(r,e),fields:t.value.mapValue.fields}}function wg(r,e){return{documents:[xf(r,e.path)]}}function eh(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=xf(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=xf(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(q){if(0!==q.length)return Eg(Br.create(q,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(q){if(0!==q.length)return q.map(re=>{return{field:Nl((Pe=re).field),direction:Of(Pe.dir)};var Pe})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const _=mg(r,e.limit);var P,q;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(t.structuredQuery.endAt={before:!(q=e.endAt).inclusive,values:q.position}),t}function x_(r){let e=function Jd(r){const e=_g(r);return 4===e.length?Dn.emptyPath():fs(e)}(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){wn(1===o);const Pe=t.from[0];Pe.allDescendants?l=Pe.collectionId:e=e.child(Pe.collectionId)}let h=[];t.where&&(h=function(Pe){const Ze=Cu(Pe);return Ze instanceof Br&&Pc(Ze)?Ze.getFilters():[Ze]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(Pe=>{return new cl(Eu((Ze=Pe).field),function(vt){switch(vt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ze.direction));var Ze}));let P=null;t.limit&&(P=function(Pe){let Ze;return Ze="object"==typeof Pe?Pe.value:Pe,za(Ze)?null:Ze}(t.limit));let q=null;var Pe;t.startAt&&(q=new us((Pe=t.startAt).values||[],!!Pe.before));let re=null;return t.endAt&&(re=function(Pe){return new us(Pe.values||[],!Pe.before)}(t.endAt)),function Mc(r,e,t,o,l,h,_,P){return new ro(r,e,t,o,l,h,_,P)}(e,l,_,h,P,"F",q,re)}function Cu(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Eu(e.unaryFilter.field);return wr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Eu(e.unaryFilter.field);return wr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eu(e.unaryFilter.field);return wr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eu(e.unaryFilter.field);return wr.create(h,"!=",{nullValue:"NULL_VALUE"});default:return dn()}}(r):void 0!==r.fieldFilter?wr.create(Eu((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Br.create(e.compositeFilter.filters.map(t=>Cu(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return dn()}}(e.compositeFilter.op))}(r):dn();var e}function Of(r){return Pv[r]}function bg(r){return Mv[r]}function Cg(r){return Sf[r]}function Nl(r){return{fieldPath:r.canonicalString()}}function Eu(r){return jr.fromServerFormat(r.fieldPath)}function Eg(r){return r instanceof wr?function(e){if("=="===e.op){if(td(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NAN"}};if(ll(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(td(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NAN"}};if(ll(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(e.field),op:bg(e.op),value:e.value}}}(r):r instanceof Br?function(e){const t=e.getFilters().map(o=>Eg(o));return 1===t.length?t[0]:{compositeFilter:{op:Cg(e.op),filters:t}}}(r):dn()}function Ag(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kf(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Za{constructor(e,t,o,l,h=Tn.min(),_=Tn.min(),P=Ti.EMPTY_BYTE_STRING,q=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=P,this.expectedCount=q}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class P_{constructor(e){this.fe=e}}function Su(r){const e=x_({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Me(e,e.limit,"L"):e}class lc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ur(e.integerValue));else if("doubleValue"in e){const o=Ur(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),Al(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Wa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?nd(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):dn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const l of Object.keys(o))this.Te(l,t),this.me(o[l],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const l of o)this.me(l,t)}ve(e,t){this.ye(t,37),an.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}lc.Ve=new lc;class O_{constructor(){this.rn=new ah}addToCollectionParentIndex(e,t){return this.rn.add(t),_t.resolve()}getCollectionParents(e,t){return _t.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return _t.resolve()}deleteFieldIndex(e,t){return _t.resolve()}getDocumentsMatchingTarget(e,t){return _t.resolve(null)}getIndexType(e,t){return _t.resolve(0)}getFieldIndexes(e,t){return _t.resolve([])}getNextCollectionGroupToUpdate(e){return _t.resolve(null)}getMinOffset(e,t){return _t.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,t){return _t.resolve(Si.min())}updateCollectionGroup(e,t,o){return _t.resolve()}updateIndexEntries(e,t){return _t.resolve()}}class ah{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new di(Dn.comparator),h=!l.has(o);return this.index[t]=l.add(o),h}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new di(Dn.comparator)).toArray()}}new Uint8Array(0);class xo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new xo(e,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}xo.DEFAULT_COLLECTION_PERCENTILE=10,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xo.DEFAULT=new xo(41943040,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xo.DISABLED=new xo(-1,0,0);class Nc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Nc(0)}static Mn(){return new Nc(-1)}}class N_{constructor(){this.changes=new qs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?_t.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class F_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class or{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&Kd(o.mutation,l,Xi.empty(),qr.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,tr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=tr()){const l=Ds();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(h=>{let _=Ml();return h.forEach((P,q)=>{_=_.insert(P,q.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const o=Ds();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,tr()))}populateOverlays(e,t,o){const l=[];return o.forEach(h=>{t.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(e,l).next(h=>{h.forEach((_,P)=>{t.set(_,P)})})}computeViews(e,t,o,l){let h=yo();const _=Rl(),P=Rl();return t.forEach((q,re)=>{const Pe=o.get(re.key);l.has(re.key)&&(void 0===Pe||Pe.mutation instanceof hl)?h=h.insert(re.key,re):void 0!==Pe?(_.set(re.key,Pe.mutation.getFieldMask()),Kd(Pe.mutation,re,Pe.mutation.getFieldMask(),qr.now())):_.set(re.key,Xi.empty())}),this.recalculateAndSaveOverlays(e,h).next(q=>(q.forEach((re,Pe)=>_.set(re,Pe)),t.forEach((re,Pe)=>{var Ze;return P.set(re,new F_(Pe,null!==(Ze=_.get(re))&&void 0!==Ze?Ze:null))}),P))}recalculateAndSaveOverlays(e,t){const o=Rl();let l=new Tr((_,P)=>_-P),h=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const P of _)P.keys().forEach(q=>{const re=t.get(q);if(null===re)return;let Pe=o.get(q)||Xi.empty();Pe=P.applyToLocalView(re,Pe),o.set(q,Pe);const Ze=(l.get(P.batchId)||tr()).add(q);l=l.insert(P.batchId,Ze)})}).next(()=>{const _=[],P=l.getReverseIterator();for(;P.hasNext();){const q=P.getNext(),re=q.key,Pe=q.value,Ze=pu();Pe.forEach(vt=>{if(!h.has(vt)){const Mt=hg(t.get(vt),o.get(vt));null!==Mt&&Ze.set(vt,Mt),h=h.add(vt)}}),_.push(this.documentOverlayCache.saveOverlays(e,re,Ze))}return _t.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return an.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):p(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(h=>{const _=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-h.size):_t.resolve(Ds());let P=-1,q=h;return _.next(re=>_t.forEach(re,(Pe,Ze)=>(P<Ze.largestBatchId&&(P=Ze.largestBatchId),h.get(Pe)?_t.resolve():this.remoteDocumentCache.getEntry(e,Pe).next(vt=>{q=q.insert(Pe,vt)}))).next(()=>this.populateOverlays(e,re,h)).next(()=>this.computeViews(e,q,re,tr())).next(Pe=>({batchId:P,changes:fu(Pe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new an(t)).next(o=>{let l=Ml();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let h=Ml();return this.indexManager.getCollectionParents(e,l).next(_=>_t.forEach(_,P=>{const q=(re=t,Pe=P.child(l),new ro(Pe,null,re.explicitOrderBy.slice(),re.filters.slice(),re.limit,re.limitType,re.startAt,re.endAt));var re,Pe;return this.getDocumentsMatchingCollectionQuery(e,q,o).next(re=>{re.forEach((Pe,Ze)=>{h=h.insert(Pe,Ze)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(h=>{l.forEach((P,q)=>{const re=q.getKey();null===h.get(re)&&(h=h.insert(re,Qr.newInvalidDocument(re)))});let _=Ml();return h.forEach((P,q)=>{const re=l.get(P);void 0!==re&&Kd(re.mutation,q,Xi.empty(),qr.now()),pn(t,q)&&(_=_.insert(P,q))}),_})}}class Gg{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return _t.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:hs(o.createTime)}),_t.resolve()}getNamedQuery(e,t){return _t.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:Su(o.bundledQuery),readTime:hs(o.readTime)}),_t.resolve();var o}}class $g{constructor(){this.overlays=new Tr(an.comparator),this.ls=new Map}getOverlay(e,t){return _t.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ds();return _t.forEach(t,l=>this.getOverlay(e,l).next(h=>{null!==h&&o.set(l,h)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,h)=>{this.we(e,t,h)}),_t.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.ls.get(o);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.ls.delete(o)),_t.resolve()}getOverlaysForCollection(e,t,o){const l=Ds(),h=t.length+1,_=new an(t.child("")),P=this.overlays.getIteratorFrom(_);for(;P.hasNext();){const q=P.getNext().value,re=q.getKey();if(!t.isPrefixOf(re.path))break;re.path.length===h&&q.largestBatchId>o&&l.set(q.getKey(),q)}return _t.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let h=new Tr((re,Pe)=>re-Pe);const _=this.overlays.getIterator();for(;_.hasNext();){const re=_.getNext().value;if(re.getKey().getCollectionGroup()===t&&re.largestBatchId>o){let Pe=h.get(re.largestBatchId);null===Pe&&(Pe=Ds(),h=h.insert(re.largestBatchId,Pe)),Pe.set(re.getKey(),re)}}const P=Ds(),q=h.getIterator();for(;q.hasNext()&&(q.getNext().value.forEach((re,Pe)=>P.set(re,Pe)),!(P.size()>=l)););return _t.resolve(P)}we(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const _=this.ls.get(l.largestBatchId).delete(o.key);this.ls.set(l.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new vf(t,o));let h=this.ls.get(t);void 0===h&&(h=tr(),this.ls.set(t,h)),this.ls.set(t,h.add(o.key))}}class hh{constructor(){this.fs=new di(so.ds),this.ws=new di(so._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new so(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new so(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new an(new Dn([])),o=new so(t,e),l=new so(t,e+1),h=[];return this.ws.forEachInRange([o,l],_=>{this.ys(_),h.push(_.key)}),h}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new an(new Dn([])),o=new so(t,e),l=new so(t,e+1);let h=tr();return this.ws.forEachInRange([o,l],_=>{h=h.add(_.key)}),h}containsKey(e){const t=new so(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class so{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return an.comparator(e.key,t.key)||qn(e.As,t.As)}static _s(e,t){return qn(e.As,t.As)||an.comparator(e.key,t.key)}}class V_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new di(so.ds)}checkEmpty(e){return _t.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const h=this.vs;this.vs++;const _=new Xd(h,t,o,l);this.mutationQueue.push(_);for(const P of l)this.Rs=this.Rs.add(new so(P.key,h)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return _t.resolve(_)}lookupMutationBatch(e,t){return _t.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),h=l<0?0:l;return _t.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new so(t,0),l=new so(t,Number.POSITIVE_INFINITY),h=[];return this.Rs.forEachInRange([o,l],_=>{const P=this.Ps(_.As);h.push(P)}),_t.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new di(qn);return t.forEach(l=>{const h=new so(l,0),_=new so(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([h,_],P=>{o=o.add(P.As)})}),_t.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let h=o;an.isDocumentKey(h)||(h=h.child(""));const _=new so(new an(h),0);let P=new di(qn);return this.Rs.forEachWhile(q=>{const re=q.key.path;return!!o.isPrefixOf(re)&&(re.length===l&&(P=P.add(q.As)),!0)},_),_t.resolve(this.Vs(P))}Vs(e){const t=[];return e.forEach(o=>{const l=this.Ps(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){wn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return _t.forEach(t.mutations,l=>{const h=new so(l.key,t.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new so(t,0),l=this.Rs.firstAfterOrEqual(o);return _t.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return _t.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zg{constructor(e){this.Ds=e,this.docs=new Tr(an.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),h=l?l.size:0,_=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:_}),this.size+=_-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return _t.resolve(o?o.document.mutableCopy():Qr.newInvalidDocument(t))}getEntries(e,t){let o=yo();return t.forEach(l=>{const h=this.docs.get(l);o=o.insert(l,h?h.document.mutableCopy():Qr.newInvalidDocument(l))}),_t.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let h=yo();const _=t.path,P=new an(_.child("")),q=this.docs.getIteratorFrom(P);for(;q.hasNext();){const{key:re,value:{document:Pe}}=q.getNext();if(!_.isPrefixOf(re.path))break;re.path.length>_.length+1||bi(Ho(Pe),o)<=0||(l.has(Pe.key)||pn(t,Pe))&&(h=h.insert(Pe.key,Pe.mutableCopy()))}return _t.resolve(h)}getAllFromCollectionGroup(e,t,o,l){dn()}Cs(e,t){return _t.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new U_(this)}getSize(e){return _t.resolve(this.size)}}class U_ extends N_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(o)}),_t.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Wg{constructor(e){this.persistence=e,this.xs=new qs(t=>sr(t),es),this.lastRemoteSnapshotVersion=Tn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hh,this.targetCount=0,this.Ms=Nc.kn()}forEachTarget(e,t){return this.xs.forEach((o,l)=>t(l)),_t.resolve()}getLastRemoteSnapshotVersion(e){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _t.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),_t.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,_t.resolve()}updateTargetData(e,t){return this.Fn(t),_t.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,_t.resolve()}removeTargets(e,t,o){let l=0;const h=[];return this.xs.forEach((_,P)=>{P.sequenceNumber<=t&&null===o.get(P.targetId)&&(this.xs.delete(_),h.push(this.removeMatchingKeysForTargetId(e,P.targetId)),l++)}),_t.waitFor(h).next(()=>l)}getTargetCount(e){return _t.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return _t.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),_t.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(_=>{h.push(l.markPotentiallyOrphaned(e,_))}),_t.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),_t.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return _t.resolve(o)}containsKey(e,t){return _t.resolve(this.ks.containsKey(t))}}class zf{constructor(e,t){this.$s={},this.overlays={},this.Os=new zs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wg(this),this.indexManager=new O_,this.remoteDocumentCache=new zg(o=>this.referenceDelegate.Ls(o)),this.serializer=new P_(t),this.qs=new Gg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $g,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new V_(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){At("MemoryPersistence","Starting transaction:",e);const l=new B_(this.Os.next());return this.referenceDelegate.Us(),o(l).next(h=>this.referenceDelegate.Ks(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Gs(e,t){return _t.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class B_ extends $l{constructor(e){super(),this.currentSequenceNumber=e}}class Wf{constructor(e){this.persistence=e,this.Qs=new hh,this.js=null}static zs(e){return new Wf(e)}get Ws(){if(this.js)return this.js;throw dn()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),_t.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),_t.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),_t.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.Ws.add(h.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.Ws,o=>{const l=an.fromPath(o);return this.Hs(e,l).next(h=>{h||t.removeEntry(l,Tn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return _t.or([()=>_t.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Zg{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=l}static Li(e,t){let o=tr(),l=tr();for(const h of t.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Zg(e,t.fromCache,o,l)}}class j_{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.Ki(e,t).next(h=>h||this.Gi(e,t,l,o)).next(h=>h||this.Qi(e,t))}Ki(e,t){if(dl(t))return _t.resolve(null);let o=x(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=Me(t,null,"F"),o=x(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(h=>{const _=tr(...h);return this.Ui.getDocuments(e,_).next(P=>this.indexManager.getMinOffset(e,o).next(q=>{const re=this.ji(t,P);return this.zi(t,re,_,q.readTime)?this.Ki(e,Me(t,null,"F")):this.Wi(e,re,t,q)}))})))}Gi(e,t,o,l){return dl(t)||l.isEqual(Tn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(h=>{const _=this.ji(t,h);return this.zi(t,_,o,l)?this.Qi(e,t):(dr()<=Re.in.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),tn(t)),this.Wi(e,_,t,function Cl(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,l=Tn.fromTimestamp(1e9===o?new qr(t+1,0):new qr(t,o));return new Si(l,an.empty(),e)}(l,-1)))})}ji(e,t){let o=new di(mr(e));return t.forEach((l,h)=>{pn(e,h)&&(o=o.add(h))}),o}zi(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Qi(e,t){return dr()<=Re.in.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",tn(t)),this.Ui.getDocumentsMatchingQuery(e,t,Si.min())}Wi(e,t,o,l){return this.Ui.getDocumentsMatchingQuery(e,o,l).next(h=>(t.forEach(_=>{h=h.insert(_.key,_)}),h))}}class H_{constructor(e,t,o,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new Tr(qn),this.Yi=new qs(h=>sr(h),es),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new or(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function G_(r,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,f.Z)(function*(r,e){const t=on(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(h=>(l=h,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(h=>{const _=[],P=[];let q=tr();for(const re of l){_.push(re.batchId);for(const Pe of re.mutations)q=q.add(Pe.key)}for(const re of h){P.push(re.batchId);for(const Pe of re.mutations)q=q.add(Pe.key)}return t.localDocuments.getDocuments(o,q).next(re=>({er:re,removedBatchIds:_,addedBatchIds:P}))})})}),Zf.apply(this,arguments)}function Yg(r){const e=on(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function $_(r,e){const t=on(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Mu(r,e,t){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,f.Z)(function*(r,e,t){const o=on(r),l=o.Ji.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",h,_=>o.persistence.referenceDelegate.removeTarget(_,l)))}catch(_){if(!Rr(_))throw _;At("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(l.target)}),Yf.apply(this,arguments)}function ph(r,e,t){const o=on(r);let l=Tn.min(),h=tr();return o.persistence.runTransaction("Execute query","readonly",_=>function(P,q,re){const Pe=on(P),Ze=Pe.Yi.get(re);return void 0!==Ze?_t.resolve(Pe.Ji.get(Ze)):Pe.Bs.getTargetData(q,re)}(o,_,x(e)).next(P=>{if(P)return l=P.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(_,P.targetId).next(q=>{h=q})}).next(()=>o.Hi.getDocumentsMatchingQuery(_,e,t?l:Tn.min(),t?h:tr())).next(P=>(function Qf(r,e,t){let o=r.Xi.get(e)||Tn.min();t.forEach((l,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),r.Xi.set(e,o)}(o,function Pn(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),P),{documents:P,ir:h})))}class _h{constructor(){this.activeTargetIds=function gu(){return od}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tm{constructor(){this.Hr=new _h,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new _h,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yh{Yr(e){}shutdown(){}}class Bc{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ru=null;function jc(){return null===Ru?Ru=268435456+Math.round(2147483648*Math.random()):Ru++,"0x"+Ru.toString(16)}const np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vh{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const vo="WebChannelConnection";class rp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,l,h){const _=jc(),P=this.To(e,t);At("RestConnection",`Sending RPC '${e}' ${_}:`,P,o);const q={};return this.Eo(q,l,h),this.Ao(e,P,q,o).then(re=>(At("RestConnection",`Received RPC '${e}' ${_}: `,re),re),re=>{throw kr("RestConnection",`RPC '${e}' ${_} failed with error: `,re,"url: ",P,"request:",o),re})}vo(e,t,o,l,h,_){return this.Io(e,t,o,l,h)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ir,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),o&&o.headers.forEach((l,h)=>e[h]=l)}To(e,t){return`${this.mo}/v1/${t}:${np[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,l){const h=jc();return new Promise((_,P)=>{const q=new Ae;q.setWithCredentials(!0),q.listenOnce(ei.COMPLETE,()=>{try{switch(q.getLastErrorCode()){case go.NO_ERROR:const Pe=q.getResponseJson();At(vo,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(Pe)),_(Pe);break;case go.TIMEOUT:At(vo,`RPC '${e}' ${h} timed out`),P(new Ft(wt.DEADLINE_EXCEEDED,"Request time out"));break;case go.HTTP_ERROR:const Ze=q.getStatus();if(At(vo,`RPC '${e}' ${h} failed with status:`,Ze,"response text:",q.getResponseText()),Ze>0){let vt=q.getResponseJson();Array.isArray(vt)&&(vt=vt[0]);const Mt=vt?.error;if(Mt&&Mt.status&&Mt.message){const Qt=function(yn){const bn=yn.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(bn)>=0?bn:wt.UNKNOWN}(Mt.status);P(new Ft(Qt,Mt.message))}else P(new Ft(wt.UNKNOWN,"Server responded with status "+q.getStatus()))}else P(new Ft(wt.UNAVAILABLE,"Connection failed."));break;default:dn()}}finally{At(vo,`RPC '${e}' ${h} completed.`)}});const re=JSON.stringify(l);At(vo,`RPC '${e}' ${h} sending request:`,l),q.send(t,"POST",re,o,15)})}Ro(e,t,o){const l=jc(),h=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Hl(),P=Zi(),q={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},re=this.longPollingOptions.timeoutSeconds;void 0!==re&&(q.longPollingTimeout=Math.round(1e3*re)),this.useFetchStreams&&(q.xmlHttpFactory=new ie({})),this.Eo(q.initMessageHeaders,t,o),q.encodeInitMessageHeaders=!0;const Pe=h.join("");At(vo,`Creating RPC '${e}' stream ${l}: ${Pe}`,q);const Ze=_.createWebChannel(Pe,q);let vt=!1,Mt=!1;const Qt=new vh({ro:bn=>{Mt?At(vo,`Not sending because RPC '${e}' stream ${l} is closed:`,bn):(vt||(At(vo,`Opening RPC '${e}' stream ${l} transport.`),Ze.open(),vt=!0),At(vo,`RPC '${e}' stream ${l} sending:`,bn),Ze.send(bn))},oo:()=>Ze.close()}),yn=(bn,pr,Lr)=>{bn.listen(pr,Cr=>{try{Lr(Cr)}catch(Ks){setTimeout(()=>{throw Ks},0)}})};return yn(Ze,B.EventType.OPEN,()=>{Mt||At(vo,`RPC '${e}' stream ${l} transport opened.`)}),yn(Ze,B.EventType.CLOSE,()=>{Mt||(Mt=!0,At(vo,`RPC '${e}' stream ${l} transport closed`),Qt.wo())}),yn(Ze,B.EventType.ERROR,bn=>{Mt||(Mt=!0,kr(vo,`RPC '${e}' stream ${l} transport errored:`,bn),Qt.wo(new Ft(wt.UNAVAILABLE,"The operation could not be completed")))}),yn(Ze,B.EventType.MESSAGE,bn=>{var pr;if(!Mt){const Lr=bn.data[0];wn(!!Lr);const Ks=Lr.error||(null===(pr=Lr[0])||void 0===pr?void 0:pr.error);if(Ks){At(vo,`RPC '${e}' stream ${l} received error:`,Ks);const Ps=Ks.status;let Ii=function(nu){const ng=xs[nu];if(void 0!==ng)return fg(ng)}(Ps),aa=Ks.message;void 0===Ii&&(Ii=wt.INTERNAL,aa="Unknown error status: "+Ps+" with message "+Ks.message),Mt=!0,Qt.wo(new Ft(Ii,aa)),Ze.close()}else At(vo,`RPC '${e}' stream ${l} received:`,Lr),Qt._o(Lr)}}),yn(P,Gl.STAT_EVENT,bn=>{bn.stat===k.PROXY?At(vo,`RPC '${e}' stream ${l} detected buffering proxy`):bn.stat===k.NOPROXY&&At(vo,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Qt.fo()},0),Qt}}function Ou(){return typeof document<"u"?document:null}function ku(r){return new Tf(r,!0)}class Dd{constructor(e,t,o=1e3,l=1.5,h=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=l,this.Vo=h,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-o);l>0&&At("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class nm{constructor(e,t,o,l,h,_,P,q){this.ii=e,this.$o=o,this.Oo=l,this.connection=h,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=P,this.listener=q,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Dd(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,f.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,f.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,f.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===wt.RESOURCE_EXHAUSTED?(Rn(t.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===wt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Fo===t&&this.Zo(o,l)},o=>{e(()=>{const l=new Ft(wt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(l)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{o(()=>this.tu(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,f.Z)(function*(){e.state=0,e.start()}))}tu(e){return At("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q_ extends nm{constructor(e,t,o,l,h,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,_),this.serializer=h}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function vg(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:dn(),l=e.targetChange.targetIds||[],h=function(q,re){return q.useProto3Json?(wn(void 0===re||"string"==typeof re),Ti.fromBase64String(re||"")):(wn(void 0===re||re instanceof Uint8Array),Ti.fromUint8Array(re||new Uint8Array))}(r,e.targetChange.resumeToken),_=e.targetChange.cause,P=_&&function(q){const re=void 0===q.code?wt.UNKNOWN:fg(q.code);return new Ft(re,q.message||"")}(_);t=new wu(o,l,h,P||null)}else if("documentChange"in e){const o=e.documentChange,l=va(r,o.document.name),h=hs(o.document.updateTime),_=o.document.createTime?hs(o.document.createTime):Tn.min(),P=new Ji({mapValue:{fields:o.document.fields}}),q=Qr.newFoundDocument(l,h,_,P);t=new vu(o.targetIds||[],o.removedTargetIds||[],q.key,q)}else if("documentDelete"in e){const o=e.documentDelete,l=va(r,o.document),h=o.readTime?hs(o.readTime):Tn.min(),_=Qr.newNoDocument(l,h);t=new vu([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,l=va(r,o.document);t=new vu([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return dn();{const o=e.filter,{count:l=0,unchangedNames:h}=o,_=new E_(l,h);t=new fl(o.targetId,_)}}var q;return t}(this.serializer,e),o=function(l){if(!("targetChange"in l))return Tn.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Tn.min():h.readTime?hs(h.readTime):Tn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=pd(this.serializer),t.addTarget=function(l,h){let _;const P=h.target;if(_=ds(P)?{documents:wg(l,P)}:{query:eh(l,P)},_.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){_.resumeToken=If(l,h.resumeToken);const q=mg(l,h.expectedCount);null!==q&&(_.expectedCount=q)}else if(h.snapshotVersion.compareTo(Tn.min())>0){_.readTime=fd(l,h.snapshotVersion.toTimestamp());const q=mg(l,h.expectedCount);null!==q&&(_.expectedCount=q)}return _}(this.serializer,e);const o=function Rv(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=pd(this.serializer),t.removeTarget=e,this.Wo(t)}}class rm extends nm{constructor(e,t,o,l,h,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,_),this.serializer=h,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function D_(r,e){return r&&r.length>0?(wn(void 0!==e),r.map(t=>function(o,l){let h=hs(o.updateTime?o.updateTime:l);return h.isEqual(Tn.min())&&(h=hs(l)),new dg(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=hs(e.commitTime);return this.listener.cu(o,t)}return wn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function gd(r,e){let t;if(e instanceof _u)t={update:Pf(r,e.key,e.value)};else if(e instanceof Oc)t={delete:bu(r,e.key)};else if(e instanceof hl)t={update:Pf(r,e.key,e.data),updateMask:Ag(e.fieldMask)};else{if(!(e instanceof Qd))return dn();t={verify:bu(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const _=h.transform;if(_ instanceof sc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Ol)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Ka)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Rc)return{fieldPath:h.field.canonicalString(),increment:_.gt};throw dn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:I_(r,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:dn()),t;var l}(this.serializer,o))};this.Wo(t)}}class K_ extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new Ft(wt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Io(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ft(wt.UNKNOWN,l.toString())})}vo(e,t,o,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,_])=>this.connection.vo(e,t,o,h,_,l)).catch(h=>{throw"FirebaseError"===h.name?(h.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ft(wt.UNKNOWN,h.toString())})}terminate(){this.lu=!0}}class Z_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Rn(t),this.mu=!1):At("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Y_{constructor(e,t,o,l,h){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=h,this.Pu.Yr(P=>{o.enqueueAndForget((0,f.Z)(function*(){var q;fc(_)&&(At("RemoteStore","Restarting streams for network reachability change."),yield(q=(0,f.Z)(function*(re){const Pe=on(re);Pe.vu.add(4),yield Nu(Pe),Pe.bu.set("Unknown"),Pe.vu.delete(4),yield wo(Pe)}),function(re){return q.apply(this,arguments)})(_))}))}),this.bu=new Z_(o,l)}}function wo(r){return ip.apply(this,arguments)}function ip(){return ip=(0,f.Z)(function*(r){if(fc(r))for(const e of r.Ru)yield e(!0)}),ip.apply(this,arguments)}function Nu(r){return sm.apply(this,arguments)}function sm(){return sm=(0,f.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),sm.apply(this,arguments)}function Lu(r,e){const t=on(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Ch(t)?op(t):pc(t).Ko()&&sp(t,e))}function Fu(r,e){const t=on(r),o=pc(t);t.Au.delete(e),o.Ko()&&om(t,e),0===t.Au.size&&(o.Ko()?o.jo():fc(t)&&t.bu.set("Unknown"))}function sp(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pc(r).su(e)}function om(r,e){r.Vu.qt(e),pc(r).iu(e)}function op(r){r.Vu=new gg({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),pc(r).start(),r.bu.gu()}function Ch(r){return fc(r)&&!pc(r).Uo()&&r.Au.size>0}function fc(r){return 0===on(r).vu.size}function am(r){r.Vu=void 0}function ap(r){return lp.apply(this,arguments)}function lp(){return lp=(0,f.Z)(function*(r){r.Au.forEach((e,t)=>{sp(r,e)})}),lp.apply(this,arguments)}function Q_(r,e){return cp.apply(this,arguments)}function cp(){return cp=(0,f.Z)(function*(r,e){am(r),Ch(r)?(r.bu.Iu(e),op(r)):r.bu.set("Unknown")}),cp.apply(this,arguments)}function X_(r,e,t){return up.apply(this,arguments)}function up(){return up=(0,f.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof wu&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(l,h){const _=h.cause;for(const P of h.targetIds)l.Au.has(P)&&(yield l.remoteSyncer.rejectListen(P,_),l.Au.delete(P),l.Vu.removeTarget(P))}),function(l,h){return o.apply(this,arguments)})(r,e)}catch(o){At("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ca(r,o)}else if(e instanceof vu?r.Vu.Ht(e):e instanceof fl?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Tn.min()))try{const o=yield Yg(r.localStore);t.compareTo(o)>=0&&(yield function(l,h){const _=l.Vu.ce(h);return _.targetChanges.forEach((P,q)=>{if(P.resumeToken.approximateByteSize()>0){const re=l.Au.get(q);re&&l.Au.set(q,re.withResumeToken(P.resumeToken,h))}}),_.targetMismatches.forEach((P,q)=>{const re=l.Au.get(P);if(!re)return;l.Au.set(P,re.withResumeToken(Ti.EMPTY_BYTE_STRING,re.snapshotVersion)),om(l,P);const Pe=new Za(re.target,P,q,re.sequenceNumber);sp(l,Pe)}),l.remoteSyncer.applyRemoteEvent(_)}(r,t))}catch(o){At("RemoteStore","Failed to raise snapshot:",o),yield Ca(r,o)}var o}),up.apply(this,arguments)}function Ca(r,e,t){return xd.apply(this,arguments)}function xd(){return xd=(0,f.Z)(function*(r,e,t){if(!Rr(e))throw e;r.vu.add(1),yield Nu(r),r.bu.set("Offline"),t||(t=()=>Yg(r.localStore)),r.asyncQueue.enqueueRetryable((0,f.Z)(function*(){At("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield wo(r)}))}),xd.apply(this,arguments)}function lm(r,e){return e().catch(t=>Ca(r,t,e))}function Vu(r){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,f.Z)(function*(r){const e=on(r),t=Po(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;J_(e);)try{const l=yield $_(e.localStore,o);if(null===l){0===e.Eu.length&&t.jo();break}o=l.batchId,ey(e,l)}catch(l){yield Ca(e,l)}cm(e)&&Ah(e)}),Eh.apply(this,arguments)}function J_(r){return fc(r)&&r.Eu.length<10}function ey(r,e){r.Eu.push(e);const t=Po(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function cm(r){return fc(r)&&!Po(r).Uo()&&r.Eu.length>0}function Ah(r){Po(r).start()}function ty(r){return dp.apply(this,arguments)}function dp(){return dp=(0,f.Z)(function*(r){Po(r).hu()}),dp.apply(this,arguments)}function Sh(r){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,f.Z)(function*(r){const e=Po(r);for(const t of r.Eu)e.uu(t.mutations)}),Uu.apply(this,arguments)}function Th(r,e,t){return um.apply(this,arguments)}function um(){return um=(0,f.Z)(function*(r,e,t){const o=r.Eu.shift(),l=yf.from(o,e,t);yield lm(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield Vu(r)}),um.apply(this,arguments)}function hp(r,e){return dm.apply(this,arguments)}function dm(){return dm=(0,f.Z)(function*(r,e){var t;e&&Po(r).ou&&(yield(t=(0,f.Z)(function*(o,l){if(function yu(r){switch(r){default:return dn();case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0}}(h=l.code)&&h!==wt.ABORTED){const _=o.Eu.shift();Po(o).Qo(),yield lm(o,()=>o.remoteSyncer.rejectFailedWrite(_.batchId,l)),yield Vu(o)}var h}),function(o,l){return t.apply(this,arguments)})(r,e)),cm(r)&&Ah(r)}),dm.apply(this,arguments)}function fp(r,e){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,f.Z)(function*(r,e){const t=on(r);t.asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials");const o=fc(t);t.vu.add(3),yield Nu(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield wo(t)}),Ih.apply(this,arguments)}function xh(){return xh=(0,f.Z)(function*(r,e){const t=on(r);e?(t.vu.delete(2),yield wo(t)):e||(t.vu.add(2),yield Nu(t),t.bu.set("Unknown"))}),xh.apply(this,arguments)}function pc(r){return r.Su||(r.Su=function(e,t,o){const l=on(e);return l.fu(),new q_(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{uo:ap.bind(null,r),ao:Q_.bind(null,r),nu:X_.bind(null,r)}),r.Ru.push(function(){var e=(0,f.Z)(function*(t){t?(r.Su.Qo(),Ch(r)?op(r):r.bu.set("Unknown")):(yield r.Su.stop(),am(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Po(r){return r.Du||(r.Du=function(e,t,o){const l=on(e);return l.fu(),new rm(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{uo:ty.bind(null,r),ao:hp.bind(null,r),au:Sh.bind(null,r),cu:Th.bind(null,r)}),r.Ru.push(function(){var e=(0,f.Z)(function*(t){t?(r.Du.Qo(),yield Vu(r)):(yield r.Du.stop(),r.Eu.length>0&&(At("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Bu{constructor(e,t,o,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,o,l,h){const _=Date.now()+o,P=new Bu(e,t,_,l,h);return P.start(o),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ft(wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fl(r,e){if(Rn("AsyncQueue",`${e}: ${r}`),Rr(r))return new Ft(wt.UNAVAILABLE,`${e}: ${r}`);throw r}class gl{constructor(e){this.comparator=e?(t,o)=>e(t,o)||an.comparator(t.key,o.key):(t,o)=>an.comparator(t.key,o.key),this.keyedMap=Ml(),this.sortedSet=new Tr(this.comparator)}static emptySet(e){return new gl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new gl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class hm{constructor(){this.Cu=new Tr(an.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):dn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Hc{constructor(e,t,o,l,h,_,P,q,re){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=h,this.fromCache=_,this.syncStateChanged=P,this.excludesMetadataChanges=q,this.hasCachedResults=re}static fromInitialDocuments(e,t,o,l,h){const _=[];return t.forEach(P=>{_.push({type:0,doc:P})}),new Hc(e,t,gl.emptySet(t),_,o,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ot(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class fm{constructor(){this.Nu=void 0,this.listeners=[]}}class ny{constructor(){this.queries=new qs(e=>Dt(e),ot),this.onlineState="Unknown",this.ku=new Set}}function pp(r,e){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,f.Z)(function*(r,e){const t=on(r),o=e.query;let l=!1,h=t.queries.get(o);if(h||(l=!0,h=new fm),l)try{h.Nu=yield t.onListen(o)}catch(_){const P=Fl(_,`Initialization of query '${tn(e.query)}' failed`);return void e.onError(P)}t.queries.set(o,h),h.listeners.push(e),e.Mu(t.onlineState),h.Nu&&e.$u(h.Nu)&&mp(t)}),Gc.apply(this,arguments)}function gp(r,e){return pm.apply(this,arguments)}function pm(){return pm=(0,f.Z)(function*(r,e){const t=on(r),o=e.query;let l=!1;const h=t.queries.get(o);if(h){const _=h.listeners.indexOf(e);_>=0&&(h.listeners.splice(_,1),l=0===h.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),pm.apply(this,arguments)}function ry(r,e){const t=on(r);let o=!1;for(const l of e){const _=t.queries.get(l.query);if(_){for(const P of _.listeners)P.$u(l)&&(o=!0);_.Nu=l}}o&&mp(t)}function iy(r,e,t){const o=on(r),l=o.queries.get(e);if(l)for(const h of l.listeners)h.onError(t);o.queries.delete(e)}function mp(r){r.ku.forEach(e=>{e.next()})}class _p{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new Hc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Ph{constructor(e){this.key=e}}class mm{constructor(e){this.key=e}}class Mh{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=tr(),this.mutatedKeys=tr(),this.tc=mr(e),this.ec=new gl(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new hm,l=t?t.ec:this.ec;let h=t?t.mutatedKeys:this.mutatedKeys,_=l,P=!1;const q="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,re="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Pe,Ze)=>{const vt=l.get(Pe),Mt=pn(this.query,Ze)?Ze:null,Qt=!!vt&&this.mutatedKeys.has(vt.key),yn=!!Mt&&(Mt.hasLocalMutations||this.mutatedKeys.has(Mt.key)&&Mt.hasCommittedMutations);let bn=!1;vt&&Mt?vt.data.isEqual(Mt.data)?Qt!==yn&&(o.track({type:3,doc:Mt}),bn=!0):this.rc(vt,Mt)||(o.track({type:2,doc:Mt}),bn=!0,(q&&this.tc(Mt,q)>0||re&&this.tc(Mt,re)<0)&&(P=!0)):!vt&&Mt?(o.track({type:0,doc:Mt}),bn=!0):vt&&!Mt&&(o.track({type:1,doc:vt}),bn=!0,(q||re)&&(P=!0)),bn&&(Mt?(_=_.add(Mt),h=yn?h.add(Pe):h.delete(Pe)):(_=_.delete(Pe),h=h.delete(Pe)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const Pe="F"===this.query.limitType?_.last():_.first();_=_.delete(Pe.key),h=h.delete(Pe.key),o.track({type:1,doc:Pe})}return{ec:_,ic:o,zi:P,mutatedKeys:h}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const h=e.ic.xu();h.sort((re,Pe)=>function(Ze,vt){const Mt=Qt=>{switch(Qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dn()}};return Mt(Ze)-Mt(vt)}(re.type,Pe.type)||this.tc(re.doc,Pe.doc)),this.oc(o);const _=t?this.uc():[],P=0===this.Zu.size&&this.current?1:0,q=P!==this.Xu;return this.Xu=P,0!==h.length||q?{snapshot:new Hc(this.query,e.ec,l,h,e.mutatedKeys,0===P,q,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:_}:{cc:_}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new hm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=tr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new mm(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new Ph(o))}),t}hc(e){this.Yu=e.ir,this.Zu=tr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Hc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ay{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class ly{constructor(e){this.key=e,this.fc=!1}}class cy{constructor(e,t,o,l,h,_){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=_,this.dc={},this.wc=new qs(P=>Dt(P),ot),this._c=new Map,this.mc=new Set,this.gc=new Tr(an.comparator),this.yc=new Map,this.Ic=new hh,this.Tc={},this.Ec=new Map,this.Ac=Nc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function uy(r,e){return vp.apply(this,arguments)}function vp(){return vp=(0,f.Z)(function*(r,e){const t=function Pp(r){const e=on(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$u.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hy.bind(null,e),e.dc.nu=ry.bind(null,e.eventManager),e.dc.Pc=iy.bind(null,e.eventManager),e}(r);let o,l;const h=t.wc.get(e);if(h)o=h.targetId,t.sharedClientState.addLocalQueryTarget(o),l=h.view.lc();else{const _=yield function Uc(r,e){const t=on(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Bs.getTargetData(o,e).next(h=>h?(l=h,_t.resolve(l)):t.Bs.allocateTargetId(o).next(_=>(l=new Za(e,_,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.Ji.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}(t.localStore,x(e)),P=t.sharedClientState.addLocalQueryTarget(_.targetId);o=_.targetId,l=yield function wp(r,e,t,o,l){return bp.apply(this,arguments)}(t,e,o,"current"===P,_.resumeToken),t.isPrimaryClient&&Lu(t.remoteStore,_)}return l}),vp.apply(this,arguments)}function bp(){return bp=(0,f.Z)(function*(r,e,t,o,l){r.Rc=(Ze,vt,Mt)=>{return(Qt=(0,f.Z)(function*(yn,bn,pr,Lr){let Cr=bn.view.sc(pr);Cr.zi&&(Cr=yield ph(yn.localStore,bn.query,!1).then(({documents:Ii})=>bn.view.sc(Ii,Cr)));const Ks=Lr&&Lr.targetChanges.get(bn.targetId),Ps=bn.view.applyChanges(Cr,yn.isPrimaryClient,Ks);return mc(yn,bn.targetId,Ps.cc),Ps.snapshot}),function(yn,bn,pr,Lr){return Qt.apply(this,arguments)})(r,Ze,vt,Mt);var Qt};const h=yield ph(r.localStore,e,!0),_=new Mh(e,h.ir),P=_.sc(h.documents),q=hd.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,l),re=_.applyChanges(P,r.isPrimaryClient,q);mc(r,t,re.cc);const Pe=new ay(e,t,_);return r.wc.set(e,Pe),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),re.snapshot}),bp.apply(this,arguments)}function _m(r,e){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,f.Z)(function*(r,e){const t=on(r),o=t.wc.get(e),l=t._c.get(o.targetId);if(l.length>1)return t._c.set(o.targetId,l.filter(h=>!ot(h,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Mu(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Fu(t.remoteStore,o.targetId),gc(t,o.targetId)}).catch(Yi))):(gc(t,o.targetId),yield Mu(t.localStore,o.targetId,!0))}),Rh.apply(this,arguments)}function ym(){return ym=(0,f.Z)(function*(r,e,t){const o=function zu(r){const e=on(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ap.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ml.bind(null,e),e}(r);try{const l=yield function(h,_){const P=on(h),q=qr.now(),re=_.reduce((vt,Mt)=>vt.add(Mt.key),tr());let Pe,Ze;return P.persistence.runTransaction("Locally write mutations","readwrite",vt=>{let Mt=yo(),Qt=tr();return P.Zi.getEntries(vt,re).next(yn=>{Mt=yn,Mt.forEach((bn,pr)=>{pr.isValidDocument()||(Qt=Qt.add(bn))})}).next(()=>P.localDocuments.getOverlayedDocuments(vt,Mt)).next(yn=>{Pe=yn;const bn=[];for(const pr of _){const Lr=b_(pr,Pe.get(pr.key).overlayedDocument);null!=Lr&&bn.push(new hl(pr.key,Lr,Ql(Lr.value.mapValue),mi.exists(!0)))}return P.mutationQueue.addMutationBatch(vt,q,bn,_)}).next(yn=>{Ze=yn;const bn=yn.applyToLocalDocumentSet(Pe,Qt);return P.documentOverlayCache.saveOverlays(vt,yn.batchId,bn)})}).then(()=>({batchId:Ze.batchId,changes:fu(Pe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(h,_,P){let q=h.Tc[h.currentUser.toKey()];q||(q=new Tr(qn)),q=q.insert(_,P),h.Tc[h.currentUser.toKey()]=q}(o,l.batchId,t),yield oa(o,l.changes),yield Vu(o.remoteStore)}catch(l){const h=Fl(l,"Failed to persist write");t.reject(h)}}),ym.apply(this,arguments)}function Cp(r,e){return vm.apply(this,arguments)}function vm(){return vm=(0,f.Z)(function*(r,e){const t=on(r);try{const o=yield function Qg(r,e){const t=on(r),o=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const _=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const P=[];e.targetChanges.forEach((Pe,Ze)=>{const vt=l.get(Ze);if(!vt)return;P.push(t.Bs.removeMatchingKeys(h,Pe.removedDocuments,Ze).next(()=>t.Bs.addMatchingKeys(h,Pe.addedDocuments,Ze)));let Mt=vt.withSequenceNumber(h.currentSequenceNumber);var Qt,yn,bn;null!==e.targetMismatches.get(Ze)?Mt=Mt.withResumeToken(Ti.EMPTY_BYTE_STRING,Tn.min()).withLastLimboFreeSnapshotVersion(Tn.min()):Pe.resumeToken.approximateByteSize()>0&&(Mt=Mt.withResumeToken(Pe.resumeToken,o)),l=l.insert(Ze,Mt),yn=Mt,bn=Pe,(0===(Qt=vt).resumeToken.approximateByteSize()||yn.snapshotVersion.toMicroseconds()-Qt.snapshotVersion.toMicroseconds()>=3e8||bn.addedDocuments.size+bn.modifiedDocuments.size+bn.removedDocuments.size>0)&&P.push(t.Bs.updateTargetData(h,Mt))});let q=yo(),re=tr();if(e.documentUpdates.forEach(Pe=>{e.resolvedLimboDocuments.has(Pe)&&P.push(t.persistence.referenceDelegate.updateLimboDocument(h,Pe))}),P.push(function Sd(r,e,t){let o=tr(),l=tr();return t.forEach(h=>o=o.add(h)),e.getEntries(r,o).next(h=>{let _=yo();return t.forEach((P,q)=>{const re=h.get(P);q.isFoundDocument()!==re.isFoundDocument()&&(l=l.add(P)),q.isNoDocument()&&q.version.isEqual(Tn.min())?(e.removeEntry(P,q.readTime),_=_.insert(P,q)):!re.isValidDocument()||q.version.compareTo(re.version)>0||0===q.version.compareTo(re.version)&&re.hasPendingWrites?(e.addEntry(q),_=_.insert(P,q)):At("LocalStore","Ignoring outdated watch update for ",P,". Current version:",re.version," Watch version:",q.version)}),{nr:_,sr:l}})}(h,_,e.documentUpdates).next(Pe=>{q=Pe.nr,re=Pe.sr})),!o.isEqual(Tn.min())){const Pe=t.Bs.getLastRemoteSnapshotVersion(h).next(Ze=>t.Bs.setTargetsMetadata(h,h.currentSequenceNumber,o));P.push(Pe)}return _t.waitFor(P).next(()=>_.apply(h)).next(()=>t.localDocuments.getLocalViewOfDocuments(h,q,re)).next(()=>q)}).then(h=>(t.Ji=l,h))}(t.localStore,e);e.targetChanges.forEach((l,h)=>{const _=t.yc.get(h);_&&(wn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.fc=!0:l.modifiedDocuments.size>0?wn(_.fc):l.removedDocuments.size>0&&(wn(_.fc),_.fc=!1))}),yield oa(t,o,e)}catch(o){yield Yi(o)}}),vm.apply(this,arguments)}function Pd(r,e,t){const o=on(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.wc.forEach((h,_)=>{const P=_.view.Mu(e);P.snapshot&&l.push(P.snapshot)}),function(h,_){const P=on(h);P.onlineState=_;let q=!1;P.queries.forEach((re,Pe)=>{for(const Ze of Pe.listeners)Ze.Mu(_)&&(q=!0)}),q&&mp(P)}(o.eventManager,e),l.length&&o.dc.nu(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function hy(r,e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,f.Z)(function*(r,e,t){const o=on(r);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.yc.get(e),h=l&&l.key;if(h){let _=new Tr(an.comparator);_=_.insert(h,Qr.newNoDocument(h,Tn.min()));const P=tr().add(h),q=new dd(Tn.min(),new Map,new Tr(qn),_,P);yield Cp(o,q),o.gc=o.gc.remove(h),o.yc.delete(e),_c(o)}else yield Mu(o.localStore,e,!1).then(()=>gc(o,e,t)).catch(Yi)}),Ep.apply(this,arguments)}function Ap(r,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,f.Z)(function*(r,e){const t=on(r),o=e.batch.batchId;try{const l=yield function Pu(r,e){const t=on(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),h=t.Zi.newChangeBuffer({trackRemovals:!0});return function(_,P,q,re){const Pe=q.batch,Ze=Pe.keys();let vt=_t.resolve();return Ze.forEach(Mt=>{vt=vt.next(()=>re.getEntry(P,Mt)).next(Qt=>{const yn=q.docVersions.get(Mt);wn(null!==yn),Qt.version.compareTo(yn)<0&&(Pe.applyToRemoteDocument(Qt,q),Qt.isValidDocument()&&(Qt.setReadTime(q.commitVersion),re.addEntry(Qt)))})}),vt.next(()=>_.mutationQueue.removeMutationBatch(P,Pe))}(t,o,e,h).next(()=>h.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(_){let P=tr();for(let q=0;q<_.mutationResults.length;++q)_.mutationResults[q].transformResults.length>0&&(P=P.add(_.batch.mutations[q].key));return P}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}(t.localStore,e);sa(t,o,null),ju(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield oa(t,l)}catch(l){yield Yi(l)}}),Sp.apply(this,arguments)}function ml(r,e,t){return $c.apply(this,arguments)}function $c(){return $c=(0,f.Z)(function*(r,e,t){const o=on(r);try{const l=yield function(h,_){const P=on(h);return P.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let re;return P.mutationQueue.lookupMutationBatch(q,_).next(Pe=>(wn(null!==Pe),re=Pe.keys(),P.mutationQueue.removeMutationBatch(q,Pe))).next(()=>P.mutationQueue.performConsistencyCheck(q)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(q,re,_)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,re)).next(()=>P.localDocuments.getDocuments(q,re))})}(o.localStore,e);sa(o,e,t),ju(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield oa(o,l)}catch(l){yield Yi(l)}}),$c.apply(this,arguments)}function ju(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function sa(r,e,t){const o=on(r);let l=o.Tc[o.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),o.Tc[o.currentUser.toKey()]=l}}function gc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||zc(r,o)})}function zc(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Fu(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),_c(r))}function mc(r,e,t){for(const o of t)o instanceof Ph?(r.Ic.addReference(o.key,e),Hu(r,o)):o instanceof mm?(At("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||zc(r,o.key)):dn()}function Hu(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(At("SyncEngine","New document in limbo: "+t),r.mc.add(o),_c(r))}function _c(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new an(Dn.fromString(e)),o=r.Ac.next();r.yc.set(o,new ly(t)),r.gc=r.gc.insert(t,o),Lu(r.remoteStore,new Za(x(Ci(t.path)),o,"TargetPurposeLimboResolution",zs.ct))}}function oa(r,e,t){return yc.apply(this,arguments)}function yc(){return yc=(0,f.Z)(function*(r,e,t){const o=on(r),l=[],h=[],_=[];var P;o.wc.isEmpty()||(o.wc.forEach((P,q)=>{_.push(o.Rc(q,e,t).then(re=>{if((re||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(q.targetId,re?.fromCache?"not-current":"current"),re){l.push(re);const Pe=Zg.Li(q.targetId,re);h.push(Pe)}}))}),yield Promise.all(_),o.dc.nu(l),yield(P=(0,f.Z)(function*(q,re){const Pe=on(q);try{yield Pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>_t.forEach(re,vt=>_t.forEach(vt.Fi,Mt=>Pe.persistence.referenceDelegate.addReference(Ze,vt.targetId,Mt)).next(()=>_t.forEach(vt.Bi,Mt=>Pe.persistence.referenceDelegate.removeReference(Ze,vt.targetId,Mt)))))}catch(Ze){if(!Rr(Ze))throw Ze;At("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of re){const vt=Ze.targetId;if(!Ze.fromCache){const Mt=Pe.Ji.get(vt),yn=Mt.withLastLimboFreeSnapshotVersion(Mt.snapshotVersion);Pe.Ji=Pe.Ji.insert(vt,yn)}}}),function(q,re){return P.apply(this,arguments)})(o.localStore,h))}),yc.apply(this,arguments)}function Gu(r,e){return vc.apply(this,arguments)}function vc(){return vc=(0,f.Z)(function*(r,e){const t=on(r);if(!t.currentUser.isEqual(e)){At("SyncEngine","User change. New user:",e.toKey());const o=yield G_(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(_=>{_.forEach(P=>{P.reject(new Ft(wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield oa(t,o.er)}var l}),vc.apply(this,arguments)}function $u(r,e){const t=on(r),o=t.yc.get(e);if(o&&o.fc)return tr().add(o.key);{let l=tr();const h=t._c.get(e);if(!h)return l;for(const _ of h){const P=t.wc.get(_);l=l.unionWith(P.view.nc)}return l}}class Wu{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,f.Z)(function*(){t.serializer=ku(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Kf(r,e,t,o){return new H_(r,e,t,o)}(this.persistence,new j_,e.initialUser,this.serializer)}createPersistence(e){return new zf(Wf.zs,this.serializer)}createSharedClientState(e){return new tm}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wc{initialize(e,t){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Pd(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=Gu.bind(null,o.syncEngine),yield function Dh(r,e){return xh.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ny}createDatastore(e){const t=ku(e.databaseInfo.databaseId),o=new rp(e.databaseInfo);return new K_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,h=P=>Pd(this.syncEngine,P,0),_=Bc.D()?new Bc:new yh,new Y_(t,o,l,h,_);var t,o,l,h,_}createSyncEngine(e,t){return function(o,l,h,_,P,q,re){const Pe=new cy(o,l,h,_,P,q);return re&&(Pe.vc=!0),Pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,f.Z)(function*(t){const o=on(t);At("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield Nu(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class qu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dm{constructor(e,t,o,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=ti.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,f.Z)(function*(P){At("FirestoreClient","Received user=",P.uid),yield h.authCredentialListener(P),h.user=P});return function(P){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(At("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ft(wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=Fl(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Bh(r,e){return jh.apply(this,arguments)}function jh(){return jh=(0,f.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var l=(0,f.Z)(function*(h){o.isEqual(h)||(yield G_(e.localStore,h),o=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),jh.apply(this,arguments)}function Hh(r,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,f.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function kp(r){return Np.apply(this,arguments)}(r);At("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(l=>fp(e.remoteStore,l)),r.setAppCheckTokenChangeListener((l,h)=>fp(e.remoteStore,h)),r._onlineComponents=e}),Gh.apply(this,arguments)}function Np(){return Np=(0,f.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){At("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Bh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Op(r){return"FirebaseError"===r.name?r.code===wt.FAILED_PRECONDITION||r.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;kr("Error using user provided cache. Falling back to memory cache: "+t),yield Bh(r,new Wu)}}else At("FirestoreClient","Using default OfflineComponentProvider"),yield Bh(r,new Wu);return r._offlineComponents}),Np.apply(this,arguments)}function $h(r){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,f.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(At("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hh(r,r._uninitializedComponentsProvider._online)):(At("FirestoreClient","Using default OnlineComponentProvider"),yield Hh(r,new Wc))),r._onlineComponents}),Rd.apply(this,arguments)}function qc(r){return qh.apply(this,arguments)}function qh(){return qh=(0,f.Z)(function*(r){const e=yield $h(r),t=e.eventManager;return t.onListen=uy.bind(null,e.syncEngine),t.onUnlisten=_m.bind(null,e.syncEngine),t}),qh.apply(this,arguments)}function Zh(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const _y=new Map;function Rm(r,e,t){if(!t)throw new Ft(wt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Om(r){if(!an.isDocumentKey(r))throw new Ft(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bp(r){if(an.isDocumentKey(r))throw new Ft(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Yh(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":dn()}function Kn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ft(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yh(r);throw new Ft(wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class km{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ft(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ft(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yy(r,e,t,o){if(!0===e&&!0===o)throw new Ft(wt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Zh(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Ft(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ft(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ft(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new km({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ft(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ft(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new km(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ra;switch(t.type){case"firstParty":return new mo(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ft(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_y.get(e);t&&(At("ComponentProvider","Removing Datastore"),_y.delete(e),t.terminate())}(this),Promise.resolve()}}class ps{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ps(this.firestore,e,this._key)}}class oo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class Ya extends oo{constructor(e,t,o){super(e,t,Ci(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ps(this.firestore,null,new an(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function Ku(r,e,...t){if(r=(0,_e.m9)(r),Rm("collection","path",e),r instanceof kd){const o=Dn.fromString(e,...t);return Bp(o),new Ya(r,null,o)}{if(!(r instanceof ps||r instanceof Ya))throw new Ft(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Dn.fromString(e,...t));return Bp(o),new Ya(r.firestore,null,o)}}function Lm(r,e,...t){if(r=(0,_e.m9)(r),1===arguments.length&&(e=ti.A()),Rm("doc","path",e),r instanceof kd){const o=Dn.fromString(e,...t);return Om(o),new ps(r,null,new an(o))}{if(!(r instanceof ps||r instanceof Ya))throw new Ft(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Dn.fromString(e,...t));return Om(o),new ps(r.firestore,r instanceof Ya?r.converter:null,new an(o))}}class Vm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Dd(this,"async_queue_retry"),this.Xc=()=>{const t=Ou();t&&At("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Ou();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ou();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new wi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,f.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Rr(t))throw t;At("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Rn("INTERNAL UNHANDLED ERROR: ",function(h){let _=h.message||"";return h.stack&&(_=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),_}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=Bu.createAndSchedule(this,e,t,o,h=>this.na(h));return this.zc.push(l),l}Zc(){this.Wc&&dn()}verifyOperationInProgress(){}sa(){var e=this;return(0,f.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Nr extends kd{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new Vm,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ja(this),this._firestoreClient.terminate()}}function wy(r,e){const t="object"==typeof r?r:(0,u.Mq)(),o="string"==typeof r?r:e||"(default)",l=(0,u.qX)(t,"firestore").getImmediate({identifier:o});if(!l._initialized){const h=(0,_e.P0)("firestore");h&&function Nm(r,e,t,o={}){var l;const h=(r=Kn(r,kd))._getSettings(),_=`${e}:${t}`;if("firestore.googleapis.com"!==h.host&&h.host!==_&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},h),{host:_,ssl:!1})),o.mockUserToken){let P,q;if("string"==typeof o.mockUserToken)P=o.mockUserToken,q=rn.MOCK_USER;else{P=(0,_e.Sg)(o.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const re=o.mockUserToken.sub||o.mockUserToken.user_id;if(!re)throw new Ft(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");q=new rn(re)}r._authCredentials=new iu(new Jo(P,q))}}(l,...h)}return l}function ii(r){return r._firestoreClient||ja(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function ja(r){var e,t,o;const l=r._freezeSettings(),h=(P=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Tc(r._databaseId,P,r._persistenceKey,(re=l).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,Zh(re.experimentalLongPollingOptions),re.useFetchStreams));var P,re;r._firestoreClient=new Dm(r._authCredentials,r._appCheckCredentials,r._queue,h),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=l.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}class wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wc(Ti.fromBase64String(e))}catch(t){throw new Ft(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wc(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ft(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gm{constructor(e){this._methodName=e}}class Xh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ft(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ft(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qn(this._lat,e._lat)||qn(this._long,e._long)}}const $m=/^__.*__$/;class zp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new hl(e,this.data,this.fieldMask,t,this.fieldTransforms):new _u(e,this.data,t,this.fieldTransforms)}}function Wp(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dn()}}class Fd{constructor(e,t,o,l,h,_){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=l,void 0===h&&this.ua(),this.fieldTransforms=h||[],this.fieldMask=_||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Fd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.fa(e),l}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return nf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Wp(this.ca)&&$m.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||ku(e)}ya(e,t,o,l=!1){return new Fd({ca:e,methodName:t,ga:o,path:jr.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yc(r){const e=r._freezeSettings(),t=ku(r._databaseId);return new zm(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Jh(r,e,t,o,l,h={}){const _=r.ya(h.merge||h.mergeFields?2:0,e,t,l);Kp("Data must be an object, but it was:",_,o);const P=Zm(o,_);let q,re;if(h.merge)q=new Xi(_.fieldMask),re=_.fieldTransforms;else if(h.mergeFields){const Pe=[];for(const Ze of h.mergeFields){const vt=Vd(e,Ze,t);if(!_.contains(vt))throw new Ft(wt.INVALID_ARGUMENT,`Field '${vt}' is specified in your field mask but missing from your input data.`);Qm(Pe,vt)||Pe.push(vt)}q=new Xi(Pe),re=_.fieldTransforms.filter(Ze=>q.covers(Ze.field))}else q=null,re=_.fieldTransforms;return new zp(new Ji(P),q,re)}function Qc(r,e){if(Ym(r=(0,_e.m9)(r)))return Kp("Unsupported field value:",e,r),Zm(r,e);if(r instanceof Gm)return function(t,o){if(!Wp(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const l=[];let h=0;for(const _ of t){let P=Qc(_,o.wa(h));null==P&&(P={nullValue:"NULL_VALUE"}),l.push(P),h++}return{arrayValue:{values:l}}}(r,e)}return function(t,o){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $d(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=qr.fromDate(t);return{timestampValue:fd(o.serializer,l)}}if(t instanceof qr){const l=new qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fd(o.serializer,l)}}if(t instanceof Xh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wc)return{bytesValue:If(o.serializer,t._byteString)};if(t instanceof ps){const l=o.databaseId,h=t.firestore._databaseId;if(!h.isEqual(l))throw o._a(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Df(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${Yh(t)}`)}(r,e)}function Zm(r,e){const t={};return Ss(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(r,(o,l)=>{const h=Qc(l,e.ha(o));null!=h&&(t[o]=h)}),{mapValue:{fields:t}}}function Ym(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof qr||r instanceof Xh||r instanceof wc||r instanceof ps||r instanceof Gm)}function Kp(r,e,t){if(!Ym(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Yh(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Vd(r,e,t){if((e=(0,_e.m9)(e))instanceof Zc)return e._internalPath;if("string"==typeof e)return tf(r,e);throw nf("Field path arguments must be of type string or ",r,!1,void 0,t)}const Ty=new RegExp("[~\\*/\\[\\]]");function tf(r,e,t){if(e.search(Ty)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Zc(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function nf(r,e,t,o,l){const h=o&&!o.isEmpty(),_=void 0!==l;let P=`Function ${e}() called with invalid data`;t&&(P+=" (via `toFirestore()`)"),P+=". ";let q="";return(h||_)&&(q+=" (found",h&&(q+=` in field ${o}`),_&&(q+=` in document ${l}`),q+=")"),new Ft(wt.INVALID_ARGUMENT,P+r+q)}function Qm(r,e){return r.some(t=>t.isEqual(e))}class Zp{constructor(e,t,o,l,h){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ps(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Iy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Iy extends Zp{data(){return super.data()}}function rf(r,e){return"string"==typeof e?tf(r,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}class sf{}class Qp extends sf{}function Xm(r,e,...t){let o=[];e instanceof sf&&o.push(e),o=o.concat(t),function(l){const h=l.filter(P=>P instanceof Xc).length,_=l.filter(P=>P instanceof Yu).length;if(h>1||h>0&&_>0)throw new Ft(wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)r=l._apply(r);return r}class Yu extends Qp{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Yu(e,t,o)}_apply(e){const t=this._parse(e);return t_(e._query,t),new oo(e.firestore,e.converter,ce(e._query,t))}_parse(e){const t=Yc(e.firestore);return function(l,h,_,P,q,re,Pe){let Ze;if(q.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new Ft(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){e_(Pe,re);const vt=[];for(const Mt of Pe)vt.push(Zn(P,l,Mt));Ze={arrayValue:{values:vt}}}else Ze=Zn(P,l,Pe)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||e_(Pe,re),Ze=function Km(r,e,t,o=!1){return Qc(t,r.ya(o?4:3,e))}(_,"where",Pe,"in"===re||"not-in"===re);return wr.create(q,re,Ze)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Xc extends sf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xc(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Br.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let h=o;const _=l.getFlattenedFilters();for(const P of _)t_(h,P),h=ce(h,P)}(e._query,t),new oo(e.firestore,e.converter,ce(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yl extends Qp{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new yl(e,t,o)}_apply(e){return new oo(e.firestore,e.converter,Me(e._query,this._limit,this._limitType))}}function Ry(r){return function jp(r,e){if(e<=0)throw new Ft(wt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}("limit",r),yl._create("limit",r,"F")}function Zn(r,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new Ft(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p(e)&&-1!==t.indexOf("/"))throw new Ft(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Dn.fromString(t));if(!an.isDocumentKey(o))throw new Ft(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ya(r,new an(o))}if(t instanceof ps)return ya(r,t._key);throw new Ft(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(t)}.`)}function e_(r,e){if(!Array.isArray(r)||0===r.length)throw new Ft(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t_(r,e){if(e.isInequality()){const o=I(r),l=e.field;if(null!==o&&!o.isEqual(l))throw new Ft(wt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const h=rc(r);null!==h&&function n_(r,e,t){if(!t.isEqual(e))throw new Ft(wt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,l,h)}const t=function(o,l){for(const h of o)for(const _ of h.getFlattenedFilters())if(l.indexOf(_.op)>=0)return _.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ft(wt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ly{convertValue(e,t="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return Hi(e,(l,h)=>{o[l]=this.convertValue(h,t)}),o}convertGeoPoint(e){return new Xh(Ur(e.latitude),Ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=sl(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const t=Do(e);return new qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Dn.fromString(e);wn(kf(o));const l=new Va(o.get(1),o.get(3)),h=new an(o.popFirst(5));return l.isEqual(t)||Rn(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function Qu(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class bc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eu extends Zp{constructor(e,t,o,l,h,_){super(e,t,o,l,_),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(rf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Ud extends eu{data(e={}){return super.data(e)}}class tu{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new bc(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Ud(this._firestore,this._userDataWriter,o.key,o,new bc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ft(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(_=>({type:"added",doc:new Ud(o._firestore,o._userDataWriter,_.doc.key,_.doc,new bc(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(_=>l||3!==_.type).map(_=>{const P=new Ud(o._firestore,o._userDataWriter,_.doc.key,_.doc,new bc(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let q=-1,re=-1;return 0!==_.type&&(q=h.indexOf(_.doc.key),h=h.delete(_.doc.key)),1!==_.type&&(h=h.add(_.doc),re=h.indexOf(_.doc.key)),{type:Vy(_.type),doc:P,oldIndex:q,newIndex:re}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vy(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dn()}}function Uy(r){r=Kn(r,ps);const e=Kn(r.firestore,Nr);return function Ul(r,e,t={}){const o=new wi;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,h,_,P,q){const re=new qu({next:Ze=>{h.enqueueAndForget(()=>gp(l,Pe));const vt=Ze.docs.has(_);!vt&&Ze.fromCache?q.reject(new Ft(wt.UNAVAILABLE,"Failed to get document because the client is offline.")):vt&&Ze.fromCache&&P&&"server"===P.source?q.reject(new Ft(wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(Ze)},error:Ze=>q.reject(Ze)}),Pe=new _p(Ci(_.path),re,{includeMetadataChanges:!0,Ku:!0});return pp(l,Pe)}(yield qc(r),r.asyncQueue,e,t,o)})),o.promise}(ii(e),r._key).then(t=>function tg(r,e,t){const o=t.docs.get(e._key),l=new Ha(r);return new eu(r,l,e._key,o,new bc(t.hasPendingWrites,t.fromCache),e.converter)}(e,r,t))}class Ha extends Ly{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ps(this.firestore,null,t)}}function By(r){r=Kn(r,oo);const e=Kn(r.firestore,Nr),t=ii(e),o=new Ha(e);return function Yp(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ft(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query),function Mm(r,e,t={}){const o=new wi;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,h,_,P,q){const re=new qu({next:Ze=>{h.enqueueAndForget(()=>gp(l,Pe)),Ze.fromCache&&"server"===P.source?q.reject(new Ft(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(Ze)},error:Ze=>q.reject(Ze)}),Pe=new _p(_,re,{includeMetadataChanges:!0,Ku:!0});return pp(l,Pe)}(yield qc(r),r.asyncQueue,e,t,o)})),o.promise}(t,r._query).then(l=>new tu(e,o,r,l))}function i_(r,e,t){r=Kn(r,ps);const o=Kn(r.firestore,Nr),l=Qu(r.converter,e,t);return jd(o,[Jh(Yc(o),"setDoc",r._key,l,null!==r.converter,t).toMutation(r._key,mi.none())])}function Gy(r){return jd(Kn(r.firestore,Nr),[new Oc(r._key,mi.none())])}function Bd(r,e){const t=Kn(r.firestore,Nr),o=Lm(r),l=Qu(r.converter,e);return jd(t,[Jh(Yc(r.firestore),"addDoc",o._key,l,null!==r.converter,{}).toMutation(o._key,mi.exists(!1))]).then(()=>o)}function jd(r,e){return function(t,o){const l=new wi;return t.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function dy(r,e,t){return ym.apply(this,arguments)}(yield function Wh(r){return $h(r).then(e=>e.syncEngine)}(t),o,l)})),l.promise}(ii(r),e)}!function(r,e=!0){ir=u.Jn,(0,u.Xd)(new J.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const h=t.getProvider("app").getImmediate(),_=new Nr(new el(t.getProvider("auth-internal")),new tl(t.getProvider("app-check-internal")),function(P,q){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new Ft(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(P.options.projectId,q)}(h,o),h);return l=Object.assign({useFetchStreams:e},l),_._setSettings(l),_},"PUBLIC").setMultipleInstances(!0)),(0,u.KN)(Ot,"3.13.0",r),(0,u.KN)(Ot,"3.13.0","esm2017")}()},5861:(Ue,F,j)=>{"use strict";function f(J,Re,_e,Ee,fe,ve,ke){try{var se=J[ve](ke),oe=se.value}catch(De){return void _e(De)}se.done?Re(oe):Promise.resolve(oe).then(Ee,fe)}function u(J){return function(){var Re=this,_e=arguments;return new Promise(function(Ee,fe){var ve=J.apply(Re,_e);function ke(oe){f(ve,Ee,fe,ke,se,"next",oe)}function se(oe){f(ve,Ee,fe,ke,se,"throw",oe)}ke(void 0)})}}j.d(F,{Z:()=>u})},7582:(Ue,F,j)=>{"use strict";function Re(G,V){var S={};for(var N in G)Object.prototype.hasOwnProperty.call(G,N)&&V.indexOf(N)<0&&(S[N]=G[N]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var W=0;for(N=Object.getOwnPropertySymbols(G);W<N.length;W++)V.indexOf(N[W])<0&&Object.prototype.propertyIsEnumerable.call(G,N[W])&&(S[N[W]]=G[N[W]])}return S}function De(G,V,S,N){return new(S||(S=Promise))(function(he,le){function Y(qe){try{We(N.next(qe))}catch(ze){le(ze)}}function He(qe){try{We(N.throw(qe))}catch(ze){le(ze)}}function We(qe){qe.done?he(qe.value):function W(he){return he instanceof S?he:new S(function(le){le(he)})}(qe.value).then(Y,He)}We((N=N.apply(G,V||[])).next())})}function K(G){return this instanceof K?(this.v=G,this):new K(G)}function ue(G,V,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,N=S.apply(G,V||[]),he=[];return W={},le("next"),le("throw"),le("return"),W[Symbol.asyncIterator]=function(){return this},W;function le(ft){N[ft]&&(W[ft]=function(Rt){return new Promise(function(Ut,Nt){he.push([ft,Rt,Ut,Nt])>1||Y(ft,Rt)})})}function Y(ft,Rt){try{!function He(ft){ft.value instanceof K?Promise.resolve(ft.value.v).then(We,qe):ze(he[0][2],ft)}(N[ft](Rt))}catch(Ut){ze(he[0][3],Ut)}}function We(ft){Y("next",ft)}function qe(ft){Y("throw",ft)}function ze(ft,Rt){ft(Rt),he.shift(),he.length&&Y(he[0][0],he[0][1])}}function xe(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,V=G[Symbol.asyncIterator];return V?V.call(G):(G=function be(G){var V="function"==typeof Symbol&&Symbol.iterator,S=V&&G[V],N=0;if(S)return S.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&N>=G.length&&(G=void 0),{value:G&&G[N++],done:!G}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),S={},N("next"),N("throw"),N("return"),S[Symbol.asyncIterator]=function(){return this},S);function N(he){S[he]=G[he]&&function(le){return new Promise(function(Y,He){!function W(he,le,Y,He){Promise.resolve(He).then(function(We){he({value:We,done:Y})},le)}(Y,He,(le=G[he](le)).done,le.value)})}}}j.d(F,{FC:()=>ue,KL:()=>xe,_T:()=>Re,mG:()=>De,qq:()=>K}),"function"==typeof SuppressedError&&SuppressedError}},Ue=>{Ue(Ue.s=8948)}]);