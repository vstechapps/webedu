"use strict";(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{554:()=>{function xe(t){return"function"==typeof t}function Fa(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const dl=Fa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ws(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class mn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof dl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{UC(s)}catch(o){e=e??[],o instanceof dl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new dl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)UC(e);else{if(e instanceof mn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ws(n,e)}remove(e){const{_finalizers:n}=this;n&&Ws(n,e),e instanceof mn&&e._removeParent(this)}}mn.EMPTY=(()=>{const t=new mn;return t.closed=!0,t})();const VC=mn.EMPTY;function BC(t){return t instanceof mn||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function UC(t){xe(t)?t():t.unsubscribe()}const Zi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},hl={setTimeout(t,e,...n){const{delegate:r}=hl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=hl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jC(t){hl.setTimeout(()=>{const{onUnhandledError:e}=Zi;if(!e)throw t;e(t)})}function dp(){}const Jk=hp("C",void 0,void 0);function hp(t,e,n){return{kind:t,value:e,error:n}}let Ji=null;function fl(t){if(Zi.useDeprecatedSynchronousErrorHandling){const e=!Ji;if(e&&(Ji={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ji;if(Ji=null,n)throw r}}else t()}class fp extends mn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,BC(e)&&e.add(this)):this.destination=oF}static create(e,n,r){return new La(e,n,r)}next(e){this.isStopped?gp(function tF(t){return hp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?gp(function eF(t){return hp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gp(Jk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rF=Function.prototype.bind;function pp(t,e){return rF.call(t,e)}class iF{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){pl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){pl(r)}else pl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){pl(n)}}}class La extends fp{constructor(e,n,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Zi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pp(e.next,s),error:e.error&&pp(e.error,s),complete:e.complete&&pp(e.complete,s)}):i=e}this.destination=new iF(i)}}function pl(t){Zi.useDeprecatedSynchronousErrorHandling?function nF(t){Zi.useDeprecatedSynchronousErrorHandling&&Ji&&(Ji.errorThrown=!0,Ji.error=t)}(t):jC(t)}function gp(t,e){const{onStoppedNotification:n}=Zi;n&&hl.setTimeout(()=>n(t,e))}const oF={closed:!0,next:dp,error:function sF(t){throw t},complete:dp},mp="function"==typeof Symbol&&Symbol.observable||"@@observable";function es(t){return t}function $C(t){return 0===t.length?es:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function cF(t){return t&&t instanceof fp||function uF(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}(t)&&BC(t)}(n)?n:new La(n,r,i);return fl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=HC(r))((i,s)=>{const o=new La({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[mp](){return this}pipe(...n){return $C(n)(this)}toPromise(n){return new(n=HC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function HC(t){var e;return null!==(e=t??Zi.Promise)&&void 0!==e?e:Promise}const lF=Fa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Rr=(()=>{class t extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new GC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lF}next(n){fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?VC:(this.currentObservers=null,s.push(n),new mn(()=>{this.currentObservers=null,Ws(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ye;return n.source=this,n}}return t.create=(e,n)=>new GC(e,n),t})();class GC extends Rr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:VC}}function zC(t){return xe(t?.lift)}function ht(t){return e=>{if(zC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(t,e,n,r,i){return new dF(t,e,n,r,i)}class dF extends fp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(t,e){return ht((n,r)=>{let i=0;n.subscribe(st(r,s=>{r.next(t.call(e,s,i++))}))})}function li(t){return this instanceof li?(this.v=t,this):new li(t)}function QC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function wp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const YC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function XC(t){return xe(t?.then)}function ZC(t){return xe(t[mp])}function JC(t){return Symbol.asyncIterator&&xe(t?.[Symbol.asyncIterator])}function e0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const t0=function OF(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function n0(t){return xe(t?.[t0])}function r0(t){return function KC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof li?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield li(n.read());if(i)return yield li(void 0);yield yield li(r)}}finally{n.releaseLock()}})}function s0(t){return xe(t?.getReader)}function yn(t){if(t instanceof Ye)return t;if(null!=t){if(ZC(t))return function PF(t){return new Ye(e=>{const n=t[mp]();if(xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(YC(t))return function kF(t){return new Ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(XC(t))return function FF(t){return new Ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jC)})}(t);if(JC(t))return o0(t);if(n0(t))return function LF(t){return new Ye(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(s0(t))return function VF(t){return o0(r0(t))}(t)}throw e0(t)}function o0(t){return new Ye(e=>{(function BF(t,e){var n,r,i,s;return function qC(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=QC(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Or(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function vt(t,e,n=1/0){return xe(e)?vt((r,i)=>le((s,o)=>e(r,s,i,o))(yn(t(r,i))),n):("number"==typeof e&&(n=e),ht((r,i)=>function UF(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;yn(n(g,l++)).subscribe(st(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const w=u.shift();o?Or(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(st(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ks(t=1/0){return vt(es,t)}const rr=new Ye(t=>t.complete());function a0(t){return t&&xe(t.schedule)}function Dp(t){return t[t.length-1]}function u0(t){return xe(Dp(t))?t.pop():void 0}function Va(t){return a0(Dp(t))?t.pop():void 0}function c0(t,e=0){return ht((n,r)=>{n.subscribe(st(r,i=>Or(r,t,()=>r.next(i),e),()=>Or(r,t,()=>r.complete(),e),i=>Or(r,t,()=>r.error(i),e)))})}function l0(t,e=0){return ht((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function d0(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ye(n=>{Or(n,e,()=>{const r=t[Symbol.asyncIterator]();Or(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ot(t,e){return e?function KF(t,e){if(null!=t){if(ZC(t))return function HF(t,e){return yn(t).pipe(l0(e),c0(e))}(t,e);if(YC(t))return function zF(t,e){return new Ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(XC(t))return function GF(t,e){return yn(t).pipe(l0(e),c0(e))}(t,e);if(JC(t))return d0(t,e);if(n0(t))return function qF(t,e){return new Ye(n=>{let r;return Or(n,e,()=>{r=t[t0](),Or(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(t,e);if(s0(t))return function WF(t,e){return d0(r0(t),e)}(t,e)}throw e0(t)}(t,e):yn(t)}function Cp(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new La({next:()=>{r.unsubscribe(),t()}});return yn(e(...n)).subscribe(r)}function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function Ep(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function bp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const XF=Te({__forward_ref__:Te});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return Ae(this())},t}function H(t){return Ip(t)?t():t}function Ip(t){return"function"==typeof t&&t.hasOwnProperty(XF)&&t.__forward_ref__===Me}function Sp(t){return t&&!!t.\u0275providers}const h0="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(gl(e,n)),this.code=e}}function gl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function ml(t,e){throw new T(-201,!1)}function Mn(t,e){null==t&&function De(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Un(t){return{providers:t.providers||[],imports:t.imports||[]}}function yl(t){return f0(t,vl)||f0(t,g0)}function f0(t,e){return t.hasOwnProperty(e)?t[e]:null}function p0(t){return t&&(t.hasOwnProperty(Tp)||t.hasOwnProperty(sL))?t[Tp]:null}const vl=Te({\u0275prov:Te}),Tp=Te({\u0275inj:Te}),g0=Te({ngInjectableDef:Te}),sL=Te({ngInjectorDef:Te});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let xp;function Nn(t){const e=xp;return xp=t,e}function m0(t,e,n){const r=yl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void ml(Ae(t))}const Pe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ba={},Ap="__NG_DI_FLAG__",_l="ngTempTokenPath",aL="ngTokenPath",uL=/\n/gm,cL="\u0275",y0="__source";let Ua;function Qs(t){const e=Ua;return Ua=t,e}function lL(t,e=z.Default){if(void 0===Ua)throw new T(-203,!1);return null===Ua?m0(t,void 0,e):Ua.get(t,e&z.Optional?null:void 0,e)}function q(t,e=z.Default){return(function oL(){return xp}()||lL)(H(t),e)}function de(t,e=z.Default){return q(t,wl(e))}function wl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Mp(t){const e=[];for(let n=0;n<t.length;n++){const r=H(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=dL(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function ja(t,e){return t[Ap]=e,t.prototype[Ap]=e,t}function dL(t){return t[Ap]}function Pr(t){return{toString:t}.toString()}var ir=(()=>((ir=ir||{})[ir.OnPush=0]="OnPush",ir[ir.Default=1]="Default",ir))(),sr=(()=>{return(t=sr||(sr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",sr;var t})();const kr={},_e=[],Dl=Te({\u0275cmp:Te}),Np=Te({\u0275dir:Te}),Rp=Te({\u0275pipe:Te}),_0=Te({\u0275mod:Te}),Fr=Te({\u0275fac:Te}),$a=Te({__NG_ELEMENT_ID__:Te});let pL=0;function jn(t){return Pr(()=>{const e=D0(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ir.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||sr.Emulated,id:"c"+pL++,styles:t.styles||_e,_:null,schemas:t.schemas||null,tView:null};C0(n);const r=t.dependencies;return n.directiveDefs=Cl(r,!1),n.pipeDefs=Cl(r,!0),n})}function mL(t){return Ce(t)||Ft(t)}function yL(t){return null!==t}function or(t){return Pr(()=>({type:t.type,bootstrap:t.bootstrap||_e,declarations:t.declarations||_e,imports:t.imports||_e,exports:t.exports||_e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function w0(t,e){if(null==t)return kr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Q(t){return Pr(()=>{const e=D0(t);return C0(e),e})}function Ce(t){return t[Dl]||null}function Ft(t){return t[Np]||null}function un(t){return t[Rp]||null}function _n(t,e){const n=t[_0]||null;if(!n&&!0===e)throw new Error(`Type ${Ae(t)} does not have '\u0275mod' property.`);return n}function D0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||_e,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:w0(t.inputs,e),outputs:w0(t.outputs)}}function C0(t){t.features?.forEach(e=>e(t))}function Cl(t,e){if(!t)return null;const n=e?un:mL;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(yL)}const Lr=0,P=1,ie=2,qe=3,$n=4,ts=5,Lt=6,Xs=7,Xe=8,El=9,bl=10,oe=11,Op=12,Ha=13,E0=14,Zs=15,Vt=16,Ga=17,Js=18,ar=19,za=20,b0=21,ke=22,Pp=1,I0=2,Il=7,Sl=8,eo=9,Qt=10;function wn(t){return Array.isArray(t)&&"object"==typeof t[Pp]}function Hn(t){return Array.isArray(t)&&!0===t[Pp]}function kp(t){return 0!=(4&t.flags)}function qa(t){return t.componentOffset>-1}function Tl(t){return 1==(1&t.flags)}function Gn(t){return!!t.template}function _L(t){return 0!=(256&t[ie])}function ns(t,e){return t.hasOwnProperty(Fr)?t[Fr]:null}class CL{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Rn(){return x0}function x0(t){return t.type.prototype.ngOnChanges&&(t.setInput=bL),EL}function EL(){const t=M0(this),e=t?.current;if(e){const n=t.previous;if(n===kr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function bL(t,e,n,r){const i=this.declaredInputs[n],s=M0(t)||function IL(t,e){return t[A0]=e}(t,{previous:kr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new CL(u&&u.currentValue,e,a===kr),t[r]=e}Rn.ngInherit=!0;const A0="__ngSimpleChanges__";function M0(t){return t[A0]||null}const On=function(t,e,n){};function Tt(t){for(;Array.isArray(t);)t=t[Lr];return t}function xl(t,e){return Tt(e[t])}function Dn(t,e){return Tt(e[t.index])}function O0(t,e){return t.data[e]}function cn(t,e){const n=e[t];return wn(n)?n:n[Lr]}function Al(t){return 64==(64&t[ie])}function hi(t,e){return null==e?null:t[e]}function P0(t){t[Js]=0}function Lp(t,e){t[ts]+=e;let n=t,r=t[qe];for(;null!==r&&(1===e&&1===n[ts]||-1===e&&0===n[ts]);)r[ts]+=e,n=r,r=r[qe]}const ee={lFrame:G0(null),bindingsEnabled:!0};function F0(){return ee.bindingsEnabled}function D(){return ee.lFrame.lView}function pe(){return ee.lFrame.tView}function _t(t){return ee.lFrame.contextLView=t,t[Xe]}function wt(t){return ee.lFrame.contextLView=null,t}function xt(){let t=L0();for(;null!==t&&64===t.type;)t=t.parent;return t}function L0(){return ee.lFrame.currentTNode}function ur(t,e){const n=ee.lFrame;n.currentTNode=t,n.isParent=e}function Vp(){return ee.lFrame.isParent}function no(){return ee.lFrame.bindingIndex++}function VL(t,e){const n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Up(e)}function Up(t){ee.lFrame.currentDirectiveIndex=t}function $p(t){ee.lFrame.currentQueryIndex=t}function UL(t){const e=t[P];return 2===e.type?e.declTNode:1===e.type?t[Lt]:null}function $0(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=UL(s),null===i||(s=s[Zs],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ee.lFrame=H0();return r.currentTNode=e,r.lView=t,!0}function Hp(t){const e=H0(),n=t[P];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function H0(){const t=ee.lFrame,e=null===t?null:t.child;return null===e?G0(t):e}function G0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function z0(){const t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const q0=z0;function Gp(){const t=z0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xt(){return ee.lFrame.selectedIndex}function rs(t){ee.lFrame.selectedIndex=t}function He(){const t=ee.lFrame;return O0(t.tView,t.selectedIndex)}function Ml(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks??(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks??(t.viewHooks=[])).push(n,c),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks??(t.destroyHooks=[])).push(n,l)}}function Nl(t,e,n){W0(t,e,3,n)}function Rl(t,e,n,r){(3&t[ie])===n&&W0(t,e,n,r)}function zp(t,e){let n=t[ie];(3&n)===e&&(n&=2047,n+=1,t[ie]=n)}function W0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Js]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Js]+=65536),(a<s||-1==s)&&(QL(t,n,e,u),t[Js]=(4294901760&t[Js])+u+2),u++}function QL(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[ie]>>11<t[Js]>>16&&(3&t[ie])===e){t[ie]+=2048,On(4,a,s);try{s.call(a)}finally{On(5,a,s)}}}else{On(4,a,s);try{s.call(a)}finally{On(5,a,s)}}}const ro=-1;class Ka{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Wp(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Q0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function K0(t){return 3===t||4===t||6===t}function Q0(t){return 64===t.charCodeAt(0)}function Qa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Y0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Y0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function X0(t){return t!==ro}function Ol(t){return 32767&t}function Pl(t,e){let n=function JL(t){return t>>16}(t),r=e;for(;n>0;)r=r[Zs],n--;return r}let Kp=!0;function kl(t){const e=Kp;return Kp=t,e}const Z0=255,J0=5;let e2=0;const cr={};function Fl(t,e){const n=eE(t,e);if(-1!==n)return n;const r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,Qp(r.data,t),Qp(e,null),Qp(r.blueprint,null));const i=Yp(t,e),s=t.injectorIndex;if(X0(i)){const o=Ol(i),a=Pl(i,e),u=a[P].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Qp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function eE(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Yp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=aE(i),null===r)return ro;if(n++,i=i[Zs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ro}function Xp(t,e,n){!function t2(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($a)&&(r=n[$a]),null==r&&(r=n[$a]=e2++);const i=r&Z0;e.data[t+(i>>J0)]|=1<<i}(t,e,n)}function tE(t,e,n){if(n&z.Optional||void 0!==t)return t;ml()}function nE(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[El],s=Nn(void 0);try{return i?i.get(e,r,n&z.Optional):m0(e,r,n&z.Optional)}finally{Nn(s)}}return tE(r,0,n)}function rE(t,e,n,r=z.Default,i){if(null!==t){if(1024&e[ie]){const o=function o2(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[ie]&&!(256&o[ie]);){const a=iE(s,o,n,r|z.Self,cr);if(a!==cr)return a;let u=s.parent;if(!u){const c=o[b0];if(c){const l=c.get(n,cr,r);if(l!==cr)return l}u=aE(o),o=o[Zs]}s=u}return i}(t,e,n,r,cr);if(o!==cr)return o}const s=iE(t,e,n,r,cr);if(s!==cr)return s}return nE(e,n,r,i)}function iE(t,e,n,r,i){const s=function i2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($a)?t[$a]:void 0;return"number"==typeof e?e>=0?e&Z0:s2:e}(n);if("function"==typeof s){if(!$0(e,t,r))return r&z.Host?tE(i,0,r):nE(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;ml()}finally{q0()}}else if("number"==typeof s){let o=null,a=eE(t,e),u=ro,c=r&z.Host?e[Vt][Lt]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?Yp(t,e):e[a+8],u!==ro&&oE(r,!1)?(o=e[P],a=Ol(u),e=Pl(u,e)):a=-1);-1!==a;){const l=e[P];if(sE(s,a,l.data)){const d=r2(a,e,n,o,r,c);if(d!==cr)return d}u=e[a+8],u!==ro&&oE(r,e[P].data[a+8]===c)&&sE(s,a,e)?(o=l,a=Ol(u),e=Pl(u,e)):a=-1}}return i}function r2(t,e,n,r,i,s){const o=e[P],a=o.data[t+8],l=function Ll(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Gn(f)&&f.type===n)return u}return null}(a,o,n,null==r?qa(a)&&Kp:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?is(e,o,l,a):cr}function is(t,e,n,r){let i=t[n];const s=e.data;if(function YL(t){return t instanceof Ka}(i)){const o=i;o.resolving&&function ZF(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function we(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}(s[n]));const a=kl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Nn(o.injectImpl):null;$0(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function KL(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=x0(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Nn(u),kl(a),o.resolving=!1,q0()}}return i}function sE(t,e,n){return!!(n[e+(t>>J0)]&1<<t)}function oE(t,e){return!(t&z.Self||t&z.Host&&e)}class io{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rE(this._tNode,this._lView,e,wl(r),n)}}function s2(){return new io(xt(),D())}function At(t){return Pr(()=>{const e=t.prototype.constructor,n=e[Fr]||Zp(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Fr]||Zp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Zp(t){return Ip(t)?()=>{const e=Zp(H(t));return e&&e()}:ns(t)}function aE(t){const e=t[P],n=e.type;return 2===n?e.declTNode:1===n?t[Lt]:null}const oo="__parameters__";function uo(t,e,n){return Pr(()=>{const r=function Jp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(oo)?u[oo]:Object.defineProperty(u,oo,{value:[]})[oo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ss(t,e){t.forEach(n=>Array.isArray(n)?ss(n,e):e(n))}function cE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Cn(t,e,n){let r=co(t,e);return r>=0?t[1|r]=n:(r=~r,function l2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function tg(t,e){const n=co(t,e);if(n>=0)return t[1|n]}function co(t,e){return function lE(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ja=ja(uo("Optional"),8),eu=ja(uo("SkipSelf"),4);var ln=(()=>((ln=ln||{})[ln.Important=1]="Important",ln[ln.DashCase=2]="DashCase",ln))();const ag=new Map;let R2=0;const cg="__ngContext__";function Bt(t,e){wn(e)?(t[cg]=e[za],function P2(t){ag.set(t[za],t)}(e)):t[cg]=e}let lg;function dg(t,e){return lg(t,e)}function iu(t){const e=t[qe];return Hn(e)?e[qe]:e}function hg(t){return ME(t[Ha])}function fg(t){return ME(t[$n])}function ME(t){for(;null!==t&&!Hn(t);)t=t[$n];return t}function ho(t,e,n,r,i){if(null!=r){let s,o=!1;Hn(r)?s=r:wn(r)&&(o=!0,r=r[Lr]);const a=Tt(r);0===t&&null!==n?null==i?FE(e,n,a):os(e,n,a,i||null,!0):1===t&&null!==n?os(e,n,a,i||null,!0):2===t?function wg(t,e,n){const r=Hl(t,e);r&&function eV(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function rV(t,e,n,r,i){const s=n[Il];s!==Tt(n)&&ho(e,t,r,s,i);for(let a=Qt;a<n.length;a++){const u=n[a];su(u[P],u,t,e,r,s)}}(e,t,s,n,i)}}function gg(t,e,n){return t.createElement(e,n)}function RE(t,e){const n=t[eo],r=n.indexOf(e),i=e[qe];512&e[ie]&&(e[ie]&=-513,Lp(i,-1)),n.splice(r,1)}function mg(t,e){if(t.length<=Qt)return;const n=Qt+e,r=t[n];if(r){const i=r[Ga];null!==i&&i!==t&&RE(i,r),e>0&&(t[n-1][$n]=r[$n]);const s=Bl(t,Qt+e);!function q2(t,e){su(t,e,e[oe],2,null,null),e[Lr]=null,e[Lt]=null}(r[P],r);const o=s[ar];null!==o&&o.detachView(s[P]),r[qe]=null,r[$n]=null,r[ie]&=-65}return r}function OE(t,e){if(!(128&e[ie])){const n=e[oe];n.destroyNode&&su(t,e,n,3,null,null),function Q2(t){let e=t[Ha];if(!e)return yg(t[P],t);for(;e;){let n=null;if(wn(e))n=e[Ha];else{const r=e[Qt];r&&(n=r)}if(!n){for(;e&&!e[$n]&&e!==t;)wn(e)&&yg(e[P],e),e=e[qe];null===e&&(e=t),wn(e)&&yg(e[P],e),n=e&&e[$n]}e=n}}(e)}}function yg(t,e){if(!(128&e[ie])){e[ie]&=-65,e[ie]|=128,function J2(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ka)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];On(4,a,u);try{u.call(a)}finally{On(5,a,u)}}else{On(4,i,s);try{s.call(i)}finally{On(5,i,s)}}}}}(t,e),function Z2(t,e){const n=t.cleanup,r=e[Xs];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Xs]=null}}(t,e),1===e[P].type&&e[oe].destroy();const n=e[Ga];if(null!==n&&Hn(e[qe])){n!==e[qe]&&RE(n,e);const r=e[ar];null!==r&&r.detachView(t)}!function k2(t){ag.delete(t[za])}(e)}}function PE(t,e,n){return function kE(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Lr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===sr.None||s===sr.Emulated)return null}return Dn(r,n)}}(t,e.parent,n)}function os(t,e,n,r,i){t.insertBefore(e,n,r,i)}function FE(t,e,n){t.appendChild(e,n)}function LE(t,e,n,r,i){null!==r?os(t,e,n,r,i):FE(t,e,n)}function Hl(t,e){return t.parentNode(e)}let vg,Eg,Wl,UE=function BE(t,e,n){return 40&t.type?Dn(t,n):null};function Gl(t,e,n,r){const i=PE(t,r,e),s=e[oe],a=function VE(t,e,n){return UE(t,e,n)}(r.parent||e[Lt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)LE(s,i,n[u],a,!1);else LE(s,i,n,a,!1);void 0!==vg&&vg(s,r,e,n,i)}function zl(t,e){if(null!==e){const n=e.type;if(3&n)return Dn(e,t);if(4&n)return _g(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return zl(t,r);{const i=t[e.index];return Hn(i)?_g(-1,i):Tt(i)}}if(32&n)return dg(e,t)()||Tt(t[e.index]);{const r=$E(t,e);return null!==r?Array.isArray(r)?r[0]:zl(iu(t[Vt]),r):zl(t,e.next)}}return null}function $E(t,e){return null!==e?t[Vt][Lt].projection[e.projection]:null}function _g(t,e){const n=Qt+t+1;if(n<e.length){const r=e[n],i=r[P].firstChild;if(null!==i)return zl(r,i)}return e[Il]}function Dg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Bt(Tt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Dg(t,e,n.child,r,i,s,!1),ho(e,t,i,a,s);else if(32&u){const c=dg(n,r);let l;for(;l=c();)ho(e,t,i,l,s);ho(e,t,i,a,s)}else 16&u?HE(t,e,r,n,i,s):ho(e,t,i,a,s);n=o?n.projectionNext:n.next}}function su(t,e,n,r,i,s){Dg(n,r,t.firstChild,e,i,s,!1)}function HE(t,e,n,r,i,s){const o=n[Vt],u=o[Lt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ho(e,t,i,u[c],s);else Dg(t,e,u,o[qe],i,s,!0)}function GE(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zE(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Wp(t,e,r),null!==i&&GE(t,e,i),null!==s&&function sV(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function QE(t){return function bg(){if(void 0===Wl&&(Wl=null,Pe.trustedTypes))try{Wl=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wl}()?.createScriptURL(t)||t}class YE{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${h0})`}}function fi(t){return t instanceof YE?t.changingThisBreaksApplicationSecurity:t}function ou(t,e){const n=function gV(t){return t instanceof YE&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${h0})`)}return n===e}const _V=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var at=(()=>((at=at||{})[at.NONE=0]="NONE",at[at.HTML=1]="HTML",at[at.STYLE=2]="STYLE",at[at.SCRIPT=3]="SCRIPT",at[at.URL=4]="URL",at[at.RESOURCE_URL=5]="RESOURCE_URL",at))();function rb(t){const e=uu();return e?e.sanitize(at.URL,t)||"":ou(t,"URL")?fi(t):function Ig(t){return(t=String(t)).match(_V)?t:"unsafe:"+t}(J(t))}function ib(t){const e=uu();if(e)return QE(e.sanitize(at.RESOURCE_URL,t)||"");if(ou(t,"ResourceURL"))return QE(fi(t));throw new T(904,!1)}function uu(){const t=D();return t&&t[Op]}const Ql=new B("ENVIRONMENT_INITIALIZER"),ob=new B("INJECTOR",-1),ab=new B("INJECTOR_DEF_TYPES");class ub{get(e,n=Ba){if(n===Ba){const r=new Error(`NullInjectorError: No provider for ${Ae(e)}!`);throw r.name="NullInjectorError",r}return n}}function RV(...t){return{\u0275providers:cb(0,t),\u0275fromNgModule:!0}}function cb(t,...e){const n=[],r=new Set;let i;return ss(e,s=>{const o=s;Ag(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&lb(i,n),n}function lb(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Mg(i,s=>{e.push(s)})}}function Ag(t,e,n,r){if(!(t=H(t)))return!1;let i=null,s=p0(t);const o=!s&&Ce(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=p0(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Ag(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ss(s.imports,l=>{Ag(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&lb(c,e)}if(!a){const c=ns(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:_e},{provide:ab,useValue:i,multi:!0},{provide:Ql,useValue:()=>q(i),multi:!0})}const u=s.providers;null==u||a||Mg(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Mg(t,e){for(let n of t)Sp(n)&&(n=n.\u0275providers),Array.isArray(n)?Mg(n,e):e(n)}const OV=Te({provide:String,useValue:Te});function Ng(t){return null!==t&&"object"==typeof t&&OV in t}function as(t){return"function"==typeof t}const Rg=new B("Set Injector scope."),Yl={},kV={};let Og;function Xl(){return void 0===Og&&(Og=new ub),Og}class jr{}class fb extends jr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kg(e,o=>this.processProvider(o)),this.records.set(ob,po(void 0,this)),i.has("environment")&&this.records.set(jr,po(void 0,this));const s=this.records.get(Rg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ab.multi,_e,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Qs(this),r=Nn(void 0);try{return e()}finally{Qs(n),Nn(r)}}get(e,n=Ba,r=z.Default){this.assertNotDestroyed(),r=wl(r);const i=Qs(this),s=Nn(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function UV(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&yl(e);a=u&&this.injectableDefInScope(u)?po(Pg(e),Yl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?Xl():this.parent).get(e,n=r&z.Optional&&n===Ba?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[_l]=o[_l]||[]).unshift(Ae(e)),i)throw o;return function hL(t,e,n,r){const i=t[_l];throw e[y0]&&i.unshift(e[y0]),t.message=function fL(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==cL?t.slice(2):t;let i=Ae(e);if(Array.isArray(e))i=e.map(Ae).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ae(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(uL,"\n  ")}`}("\n"+t.message,i,n,r),t[aL]=i,t[_l]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Nn(s),Qs(i)}}resolveInjectorInitializers(){const e=Qs(this),n=Nn(void 0);try{const r=this.get(Ql.multi,_e,z.Self);for(const i of r)i()}finally{Qs(e),Nn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ae(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=as(e=H(e))?e:H(e&&e.provide);const r=function LV(t){return Ng(t)?po(void 0,t.useValue):po(pb(t),Yl)}(e);if(as(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=po(void 0,Yl,!0),i.factory=()=>Mp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Yl&&(n.value=kV,n.value=n.factory()),"object"==typeof n.value&&n.value&&function BV(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=H(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Pg(t){const e=yl(t),n=null!==e?e.factory:ns(t);if(null!==n)return n;if(t instanceof B)throw new T(204,!1);if(t instanceof Function)return function FV(t){const e=t.length;if(e>0)throw function Za(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function iL(t){return t&&(t[vl]||t[g0])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function pb(t,e,n){let r;if(as(t)){const i=H(t);return ns(i)||Pg(i)}if(Ng(t))r=()=>H(t.useValue);else if(function hb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Mp(t.deps||[]));else if(function db(t){return!(!t||!t.useExisting)}(t))r=()=>q(H(t.useExisting));else{const i=H(t&&(t.useClass||t.provide));if(!function VV(t){return!!t.deps}(t))return ns(i)||Pg(i);r=()=>new i(...Mp(t.deps))}return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kg(t,e){for(const n of t)Array.isArray(n)?kg(n,e):n&&Sp(n)?kg(n.\u0275providers,e):e(n)}class jV{}class gb{}class HV{resolveComponentFactory(e){throw function $V(t){const e=Error(`No component factory found for ${Ae(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let cu=(()=>{class t{}return t.NULL=new HV,t})();function GV(){return go(xt(),D())}function go(t,e){return new En(Dn(t,e))}let En=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=GV,t})();class yb{}let $r=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function qV(){const t=D(),n=cn(xt().index,t);return(wn(n)?n:t)[oe]}(),t})(),WV=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>null}),t})();class lu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const KV=new lu("15.2.9"),Fg={},Lg="ngOriginalError";function Vg(t){return t[Lg]}class mo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Vg(e);for(;n&&Vg(n);)n=Vg(n);return n||null}}function Hr(t){return t instanceof Function?t():t}function _b(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const wb="ng-template";function sB(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==_b(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Db(t){return 4===t.type&&t.value!==wb}function oB(t,e,n){return e===(4!==t.type||n?t.value:wb)}function aB(t,e,n){let r=4;const i=t.attrs||[],s=function lB(t){for(let e=0;e<t.length;e++)if(K0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!oB(t,u,n)||""===u&&1===e.length){if(zn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!sB(t.attrs,c,n)){if(zn(r))return!1;o=!0}continue}const d=uB(8&r?"class":u,i,Db(t),n);if(-1===d){if(zn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==_b(f,c,0)||2&r&&c!==h){if(zn(r))return!1;o=!0}}}}else{if(!o&&!zn(r)&&!zn(u))return!1;if(o&&zn(u))continue;o=!1,r=u|1&r}}return zn(r)||o}function zn(t){return 0==(1&t)}function uB(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function dB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Cb(t,e,n=!1){for(let r=0;r<e.length;r++)if(aB(t,e[r],n))return!0;return!1}function Eb(t,e){return t?":not("+e.trim()+")":e}function fB(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!zn(o)&&(e+=Eb(s,i),i=""),r=o,s=s||!zn(r);n++}return""!==i&&(e+=Eb(s,i)),e}const te={};function ye(t){bb(pe(),D(),Xt()+t,!1)}function bb(t,e,n,r){if(!r)if(3==(3&e[ie])){const s=t.preOrderCheckHooks;null!==s&&Nl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Rl(e,s,0,n)}rs(n)}function xb(t,e=null,n=null,r){const i=Ab(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ab(t,e=null,n=null,r,i=new Set){const s=[n||_e,RV(t)];return r=r||("object"==typeof t?void 0:Ae(t)),new fb(s,e||Xl(),r||null,i)}let lr=(()=>{class t{static create(n,r){if(Array.isArray(n))return xb({name:""},r,n,"");{const i=n.name??"";return xb({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Ba,t.NULL=new ub,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>q(ob)}),t.__NG_ELEMENT_ID__=-1,t})();function b(t,e=z.Default){const n=D();return null===n?q(t,e):rE(xt(),n,H(t),e)}function Lb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];$p(n[r]),o.contentQueries(2,e[s],s)}}}function Jl(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Lr]=i,d[ie]=76|r,(null!==l||t&&1024&t[ie])&&(d[ie]|=1024),P0(d),d[qe]=d[Zs]=t,d[Xe]=n,d[bl]=o||t&&t[bl],d[oe]=a||t&&t[oe],d[Op]=u||t&&t[Op]||null,d[El]=c||t&&t[El]||null,d[Lt]=s,d[za]=function O2(){return R2++}(),d[b0]=l,d[Vt]=2==e.type?t[Vt]:d,d}function _o(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Hg(t,e,n,r,i){const s=L0(),o=Vp(),u=t.data[e]=function BB(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function LL(){return ee.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Wa(){const t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ur(s,!0),s}function du(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Gg(t,e,n){Hp(e);try{const r=t.viewQuery;null!==r&&Jg(1,r,n);const i=t.template;null!==i&&Vb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Lb(t,e),t.staticViewQueries&&Jg(2,t.viewQuery,n);const s=t.components;null!==s&&function FB(t,e){for(let n=0;n<e.length;n++)sU(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,Gp()}}function ed(t,e,n,r){const i=e[ie];if(128!=(128&i)){Hp(e);try{P0(e),function B0(t){return ee.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Vb(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Nl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Rl(e,c,0,null),zp(e,0)}if(function rU(t){for(let e=hg(t);null!==e;e=fg(e)){if(!e[I0])continue;const n=e[eo];for(let r=0;r<n.length;r++){const i=n[r];512&i[ie]||Lp(i[qe],1),i[ie]|=512}}}(e),function nU(t){for(let e=hg(t);null!==e;e=fg(e))for(let n=Qt;n<e.length;n++){const r=e[n],i=r[P];Al(r)&&ed(i,r,i.template,r[Xe])}}(e),null!==t.contentQueries&&Lb(t,e),o){const c=t.contentCheckHooks;null!==c&&Nl(e,c)}else{const c=t.contentHooks;null!==c&&Rl(e,c,1),zp(e,1)}!function PB(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)rs(~i);else{const s=i,o=n[++r],a=n[++r];VL(o,s),a(2,e[s])}}}finally{rs(-1)}}(t,e);const a=t.components;null!==a&&function kB(t,e){for(let n=0;n<e.length;n++)iU(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Jg(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Nl(e,c)}else{const c=t.viewHooks;null!==c&&Rl(e,c,2),zp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ie]&=-41,512&e[ie]&&(e[ie]&=-513,Lp(e[qe],-1))}finally{Gp()}}}function Vb(t,e,n,r,i){const s=Xt(),o=2&r;try{rs(-1),o&&e.length>ke&&bb(t,e,ke,!1),On(o?2:0,i),n(r,i)}finally{rs(s),On(o?3:1,i)}}function zg(t,e,n){if(kp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function qg(t,e,n){F0()&&(function qB(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;qa(n)&&function JB(t,e,n){const r=Dn(e,t),i=Bb(n),s=t[bl],o=td(t,Jl(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fl(n,e),Bt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=is(e,t,a,n);Bt(c,e),null!==o&&eU(0,a-i,c,u,0,o),Gn(u)&&(cn(n.index,e)[Xe]=is(e,t,a,n))}}(t,e,n,Dn(n,e)),64==(64&n.flags)&&Gb(t,e,n))}function Wg(t,e,n=Dn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Bb(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Kg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Kg(t,e,n,r,i,s,o,a,u,c){const l=ke+r,d=l+i,h=function LB(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:te);return n}(l,d),f="function"==typeof c?c():c;return h[P]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function jb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?$b(n,e,i,s):r.hasOwnProperty(i)&&$b(n,e,r[i],s)}return n}function $b(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Qg(t,e,n,r){if(F0()){const i=null===r?null:{"":-1},s=function KB(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Cb(e,o.selectors,!1))if(r||(r=[]),Gn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Yg(t,e,a.length)}else r.unshift(o),Yg(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Hb(t,e,n,o,i,a),i&&function QB(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Qa(n.mergedAttrs,n.attrs)}function Hb(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Xp(Fl(n,e),t,r[c].type);!function XB(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=du(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Qa(n.mergedAttrs,l.hostAttrs),ZB(t,n,e,u,l),YB(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function UB(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=jb(d.inputs,l,u,h?h.inputs:null),c=jb(d.outputs,l,c,p);const g=null===u||null===o||Db(e)?null:tU(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function Gb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function BL(){return ee.lFrame.currentDirectiveIndex}();try{rs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Up(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&WB(u,c)}}finally{rs(-1),Up(o)}}function WB(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Yg(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function YB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gn(e)&&(n[""]=t)}}function ZB(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ns(i.type)),o=new Ka(s,Gn(i),b);t.blueprint[r]=o,n[r]=o,function GB(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function zB(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,du(t,n,i.hostVars,te),i)}function dr(t,e,n,r,i,s){const o=Dn(t,e);!function Xg(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?J(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[oe],o,s,t.value,n,r,i)}function eU(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function tU(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function zb(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function iU(t,e){const n=cn(e,t);if(Al(n)){const r=n[P];48&n[ie]?ed(r,n,r.template,n[Xe]):n[ts]>0&&Zg(n)}}function Zg(t){for(let r=hg(t);null!==r;r=fg(r))for(let i=Qt;i<r.length;i++){const s=r[i];if(Al(s))if(512&s[ie]){const o=s[P];ed(o,s,o.template,s[Xe])}else s[ts]>0&&Zg(s)}const n=t[P].components;if(null!==n)for(let r=0;r<n.length;r++){const i=cn(n[r],t);Al(i)&&i[ts]>0&&Zg(i)}}function sU(t,e){const n=cn(e,t),r=n[P];(function oU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Gg(r,n,n[Xe])}function td(t,e){return t[Ha]?t[E0][$n]=e:t[Ha]=e,t[E0]=e,e}function nd(t){for(;t;){t[ie]|=32;const e=iu(t);if(_L(t)&&!e)return t;t=e}return null}function rd(t,e,n,r=!0){const i=e[bl];i.begin&&i.begin();try{ed(t,e,t.template,n)}catch(o){throw r&&Qb(e,o),o}finally{i.end&&i.end()}}function Jg(t,e,n){$p(0),e(t,n)}function qb(t){return t[Xs]||(t[Xs]=[])}function Wb(t){return t.cleanup||(t.cleanup=[])}function Qb(t,e){const n=t[El],r=n?n.get(mo,null):null;r&&r.handleError(e)}function em(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function id(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=bp(i,a):2==s&&(r=bp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function sd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Tt(s)),Hn(s))for(let a=Qt;a<s.length;a++){const u=s[a],c=u[P].firstChild;null!==c&&sd(u[P],u,c,r)}const o=n.type;if(8&o)sd(t,e,n.child,r);else if(32&o){const a=dg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=$E(e,n);if(Array.isArray(a))r.push(...a);else{const u=iu(e[Vt]);sd(u[P],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class hu{get rootNodes(){const e=this._lView,n=e[P];return sd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xe]}set context(e){this._lView[Xe]=e}get destroyed(){return 128==(128&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qe];if(Hn(e)){const n=e[Sl],r=n?n.indexOf(this):-1;r>-1&&(mg(e,r),Bl(n,r))}this._attachedToViewContainer=!1}OE(this._lView[P],this._lView)}onDestroy(e){!function Ub(t,e,n,r){const i=qb(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Wb(t).push(r,i.length-1))}(this._lView[P],this._lView,null,e)}markForCheck(){nd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-65}reattach(){this._lView[ie]|=64}detectChanges(){rd(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function K2(t,e){su(t,e,e[oe],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class aU extends hu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;rd(e[P],e,e[Xe],!1)}checkNoChanges(){}get context(){return null}}class Yb extends cu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ce(e);return new fu(n,this.ngModule)}}function Xb(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class cU{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wl(r);const i=this.injector.get(e,Fg,r);return i!==Fg||n===Fg?i:this.parentInjector.get(e,n,r)}}class fu extends gb{get inputs(){return Xb(this.componentDef.inputs)}get outputs(){return Xb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function pB(t){return t.map(fB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof jr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new cU(e,s):e,a=o.get(yb,null);if(null===a)throw new T(407,!1);const u=o.get(WV,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function VB(t,e,n){return t.selectRootElement(e,n===sr.ShadowDom)}(c,r,this.componentDef.encapsulation):gg(c,l,function uU(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Kg(0,null,null,1,0,null,null,null,null,null),p=Jl(null,f,null,h,null,null,a,c,u,o,null);let g,m;Hp(p);try{const w=this.componentDef;let C,v=null;w.findHostDirectiveDefs?(C=[],v=new Map,w.findHostDirectiveDefs(w,C,v),C.push(w)):C=[w];const R=function dU(t,e){const n=t[P],r=ke;return t[r]=e,_o(n,r,2,"#host",null)}(p,d),U=function hU(t,e,n,r,i,s,o,a){const u=i[P];!function fU(t,e,n,r){for(const i of t)e.mergedAttrs=Qa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(id(e,e.mergedAttrs,!0),null!==n&&zE(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=Jl(i,Bb(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&Yg(u,t,r.length-1),td(i,l),i[t.index]=l}(R,d,w,C,p,a,c);m=O0(f,ke),d&&function gU(t,e,n,r){if(r)Wp(t,n,["ng-version",KV.full]);else{const{attrs:i,classes:s}=function gB(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!zn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Wp(t,n,i),s&&s.length>0&&GE(t,n,s.join(" "))}}(c,w,d,r),void 0!==n&&function mU(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,n),g=function pU(t,e,n,r,i,s){const o=xt(),a=i[P],u=Dn(o,i);Hb(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Bt(is(i,a,o.directiveStart+l,o),i);Gb(a,i,o),u&&Bt(u,i);const c=is(i,a,o.directiveStart+o.componentOffset,o);if(t[Xe]=i[Xe]=c,null!==s)for(const l of s)l(c,e);return zg(a,o,t),c}(U,w,C,v,p,[yU]),Gg(f,p,null)}finally{Gp()}return new lU(this.componentType,g,go(m,p),p,m)}}class lU extends jV{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new aU(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;em(s[P],s,i,e,n),nd(cn(this._tNode.index,s))}}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function yU(){const t=xt();Ml(D()[P],t)}function be(t){let e=function Zb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Gn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=tm(t.inputs),o.declaredInputs=tm(t.declaredInputs),o.outputs=tm(t.outputs);const a=i.hostBindings;a&&DU(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&_U(t,u),c&&wU(t,c),Ep(t.inputs,i.inputs),Ep(t.declaredInputs,i.declaredInputs),Ep(t.outputs,i.outputs),Gn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===be&&(n=!1)}}e=Object.getPrototypeOf(e)}!function vU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qa(i.hostAttrs,n=Qa(n,i.hostAttrs))}}(r)}function tm(t){return t===kr?{}:t===_e?[]:t}function _U(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function wU(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function DU(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function od(t){return!!nm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function nm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ut(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function fr(t,e,n,r){const i=D();return Ut(i,no(),e)&&(pe(),dr(He(),i,t,e,n,r)),fr}function In(t,e,n,r,i,s,o,a){const u=D(),c=pe(),l=t+ke,d=c.firstCreatePass?function NU(t,e,n,r,i,s,o,a,u){const c=e.consts,l=_o(e,t,4,o||null,hi(c,a));Qg(e,n,l,hi(c,u)),Ml(e,l);const d=l.tView=Kg(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];ur(d,!1);const h=u[oe].createComment("");Gl(c,u,h,d),Bt(h,u),td(u,u[l]=zb(h,u,h,d)),Tl(d)&&qg(c,u,d),null!=o&&Wg(u,d,a)}function Ee(t,e,n){const r=D();return Ut(r,no(),e)&&function bn(t,e,n,r,i,s,o,a){const u=Dn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(em(t,n,l,r,i),qa(e)&&function $B(t,e){const n=cn(e,t);16&n[ie]||(n[ie]|=32)}(n,e.index)):3&e.type&&(r=function jB(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(pe(),He(),r,t,e,r[oe],n,!1),Ee}function rm(t,e,n,r,i){const o=i?"class":"style";em(t,n,e.inputs[o],o,r)}function M(t,e,n,r){const i=D(),s=pe(),o=ke+t,a=i[oe],u=s.firstCreatePass?function PU(t,e,n,r,i,s){const o=e.consts,u=_o(e,t,2,r,hi(o,i));return Qg(e,n,u,hi(o,s)),null!==u.attrs&&id(u,u.attrs,!1),null!==u.mergedAttrs&&id(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=i[o]=gg(a,e,function WL(){return ee.lFrame.currentNamespace}()),l=Tl(u);return ur(u,!0),zE(a,c,u),32!=(32&u.flags)&&Gl(s,i,c,u),0===function NL(){return ee.lFrame.elementDepthCount}()&&Bt(c,i),function RL(){ee.lFrame.elementDepthCount++}(),l&&(qg(s,i,u),zg(s,u,i)),null!==r&&Wg(i,u),M}function F(){let t=xt();Vp()?function Bp(){ee.lFrame.isParent=!1}():(t=t.parent,ur(t,!1));const e=t;!function OL(){ee.lFrame.elementDepthCount--}();const n=pe();return n.firstCreatePass&&(Ml(n,t),kp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function XL(t){return 0!=(8&t.flags)}(e)&&rm(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ZL(t){return 0!=(16&t.flags)}(e)&&rm(n,e,D(),e.stylesWithoutHost,!1),F}function pi(t,e,n,r){return M(t,e,n,r),F(),pi}function pr(){return D()}function gu(t){return!!t&&"function"==typeof t.then}const om=function hI(t){return!!t&&"function"==typeof t.subscribe};function ae(t,e,n,r){const i=D(),s=pe(),o=xt();return function pI(t,e,n,r,i,s,o){const a=Tl(r),c=t.firstCreatePass&&Wb(t),l=e[Xe],d=qb(e);let h=!0;if(3&r.type||o){const g=Dn(r,e),m=o?o(g):g,w=d.length,C=o?R=>o(Tt(R[r.index])):r.index;let v=null;if(!o&&a&&(v=function FU(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Xs],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=mI(r,e,l,s,!1);const R=n.listen(m,i,s);d.push(s,R),c&&c.push(i,C,w,w+1)}}else s=mI(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const U=e[p[m]][p[m+1]].subscribe(s),Y=d.length;d.push(s,U),c&&c.push(i,r.index,Y,-(Y+1))}}}(s,i,i[oe],o,t,e,r),ae}function gI(t,e,n,r){try{return On(6,e,n),!1!==n(r)}catch(i){return Qb(t,i),!1}finally{On(7,e,n)}}function mI(t,e,n,r,i){return function s(o){if(o===Function)return r;nd(t.componentOffset>-1?cn(t.index,e):e);let u=gI(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=gI(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ne(t=1){return function jL(t){return(ee.lFrame.contextLView=function $L(t,e){for(;t>0;)e=e[Zs],t--;return e}(t,ee.lFrame.contextLView))[Xe]}(t)}function ud(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function um(t){return 2|t}function cs(t){return(131068&t)>>2}function cm(t,e){return-131069&t|e<<2}function lm(t){return 1|t}function SI(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?gi(s):cs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];zU(t[a],e)&&(u=!0,t[a+1]=r?lm(l):um(l)),a=r?gi(l):cs(l)}u&&(t[n+1]=r?um(s):lm(s))}function zU(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&co(t,e)>=0}function cd(t,e){return function qn(t,e,n,r){const i=D(),s=pe(),o=function Br(t){const e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function kI(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Xt()],o=function PI(t,e){return e>=t.expandoStartIndex}(t,n);(function BI(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function ej(t,e,n,r){const i=function jp(t){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=mu(n=dm(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=dm(i,t,e,n,r),null===s){let u=function tj(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==cs(r))return t[gi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=dm(null,t,e,u[1],r),u=mu(u,e.attrs,r),function nj(t,e,n,r){t[gi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function rj(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=mu(r,t[s].hostAttrs,n);return mu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function HU(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gi(o),u=cs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||co(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=gi(t[a+1]);t[r+1]=ud(h,a),0!==h&&(t[h+1]=cm(t[h+1],r)),t[a+1]=function jU(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ud(a,0),0!==a&&(t[a+1]=cm(t[a+1],r)),a=r;else t[r+1]=ud(u,0),0===a?a=r:t[u+1]=cm(t[u+1],r),u=r;c&&(t[r+1]=um(t[r+1])),SI(t,l,r,!0),SI(t,l,r,!1),function GU(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&co(s,e)>=0&&(n[r+1]=lm(n[r+1]))}(e,l,t,r,s),o=ud(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==te&&Ut(i,o,e)&&function LI(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function $U(t){return 1==(1&t)}(c)?VI(u,e,n,i,cs(c),o):void 0;ld(l)||(ld(s)||function UU(t){return 2==(2&t)}(c)&&(s=VI(u,null,n,i,a,o)),function iV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:ln.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ln.Important),t.setStyle(n,r,i,s))}}(r,o,xl(Xt(),n),i,s))}(s,s.data[Xt()],i,i[oe],t,i[o+1]=function aj(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ae(fi(t)))),t}(e,n),r,o)}(t,e,null,!0),cd}function dm(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=mu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function mu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Cn(t,o,!!n||e[++s]))}return void 0===t?null:t}function VI(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===te&&(h=d?_e:void 0);let f=d?tg(h,r):l===r?h:void 0;if(c&&!ld(f)&&(f=tg(u,r)),ld(f)&&(a=f,o))return a;const p=t[i+1];i=o?gi(p):cs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=tg(u,r))}return a}function ld(t){return void 0!==t}function K(t,e=""){const n=D(),r=pe(),i=t+ke,s=r.firstCreatePass?_o(r,i,1,e,null):r.data[i],o=n[i]=function pg(t,e){return t.createText(e)}(n[oe],e);Gl(r,n,o,s),ur(s,!1)}function ls(t){return dd("",t,""),ls}function dd(t,e,n){const r=D(),i=function Do(t,e,n,r){return Ut(t,no(),n)?e+J(n)+r:te}(r,t,e,n);return i!==te&&function Gr(t,e,n){const r=xl(e,t);!function NE(t,e,n){t.setValue(e,n)}(t[oe],r,n)}(r,Xt(),i),dd}const No="en-US";let aS=No;function pm(t,e,n,r,i){if(t=H(t),Array.isArray(t))for(let s=0;s<t.length;s++)pm(t[s],e,n,r,i);else{const s=pe(),o=D();let a=as(t)?t:H(t.provide),u=pb(t);const c=xt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(as(t)||!t.multi){const f=new Ka(u,i,b),p=mm(a,e,i?l:l+h,d);-1===p?(Xp(Fl(c,o),s,a),gm(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=mm(a,e,l+h,d),p=mm(a,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Xp(Fl(c,o),s,a);const w=function I$(t,e,n,r,i){const s=new Ka(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,RS(s,i,r&&!n),s}(i?b$:E$,n.length,i,r,u);!i&&m&&(n[p].providerFactory=w),gm(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)}else gm(s,t,f>-1?f:p,RS(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function gm(t,e,n,r){const i=as(e),s=function PV(t){return!!t.useClass}(e);if(i||s){const u=(s?H(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function RS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function mm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function E$(t,e,n,r){return ym(this.multi,[])}function b$(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=is(n,n[P],this.providerFactory.index,r);s=a.slice(0,o),ym(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],ym(i,s);return s}function ym(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function je(t,e=[]){return n=>{n.providersResolver=(r,i)=>function C$(t,e,n){const r=pe();if(r.firstCreatePass){const i=Gn(t);pm(n,r.data,r.blueprint,i,!0),pm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ro{}class OS{}class PS extends Ro{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yb(this);const r=_n(e);this._bootstrapComponents=Hr(r.bootstrap),this._r3Injector=Ab(e,n,[{provide:Ro,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],Ae(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class vm extends OS{constructor(e){super(),this.moduleType=e}create(e){return new PS(this.moduleType,e)}}class T$ extends Ro{constructor(e,n,r){super(),this.componentFactoryResolver=new Yb(this),this.instance=null;const i=new fb([...e,{provide:Ro,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],n||Xl(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function md(t,e,n=null){return new T$(t,e,n).injector}let x$=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=cb(0,n.type),i=r.length>0?md([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(q(jr))}),t})();function kS(t){t.getStandaloneInjector=e=>e.get(x$).getOrCreateStandaloneInjector(t)}function mi(t,e,n,r){return function $S(t,e,n,r,i,s){const o=e+n;return Ut(t,o,i)?function hr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Cu(t,e){const n=t[e];return n===te?void 0:n}(t,o+1)}(D(),function Yt(){const t=ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function wm(t){return e=>{setTimeout(t,void 0,e)}}const Fe=class J$ extends Rr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=wm(s),i&&(i=wm(i)),o&&(o=wm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof mn&&e.add(a),a}};let zr=(()=>{class t{}return t.__NG_ELEMENT_ID__=r4,t})();const t4=zr,n4=class extends t4{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=Jl(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[Ga]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[ar];return null!==o&&(i[ar]=o.createEmbeddedView(r)),Gg(r,i,e),new hu(i)}};function r4(){return function yd(t,e){return 4&t.type?new n4(e,t,go(t,e)):null}(xt(),D())}let Kn=(()=>{class t{}return t.__NG_ELEMENT_ID__=i4,t})();function i4(){return function QS(t,e){let n;const r=e[t.index];if(Hn(r))n=r;else{let i;if(8&t.type)i=Tt(r);else{const s=e[oe];i=s.createComment("");const o=Dn(t,e);os(s,Hl(s,o),i,function tV(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=zb(r,e,i,t),td(e,n)}return new WS(n,t,e)}(xt(),D())}const s4=Kn,WS=class extends s4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return go(this._hostTNode,this._hostLView)}get injector(){return new io(this._hostTNode,this._hostLView)}get parentInjector(){const e=Yp(this._hostTNode,this._hostLView);if(X0(e)){const n=Pl(e,this._hostLView),r=Ol(e);return new io(n[P].data[r+8],n)}return new io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=KS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Xa(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new fu(Ce(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(jr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[P];if(function ML(t){return Hn(t[qe])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[qe],h=new WS(d,d[Lt],d[qe]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function Y2(t,e,n,r){const i=Qt+r,s=n.length;r>0&&(n[i-1][$n]=e),r<s-Qt?(e[$n]=n[i],cE(n,Qt+r,e)):(n.push(e),e[$n]=null),e[qe]=n;const o=e[Ga];null!==o&&n!==o&&function X2(t,e){const n=t[eo];e[Vt]!==e[qe][qe][Vt]&&(t[I0]=!0),null===n?t[eo]=[e]:n.push(e)}(o,e);const a=e[ar];null!==a&&a.insertView(t),e[ie]|=64}(i,r,o,s);const a=_g(s,o),u=r[oe],c=Hl(u,o[Il]);return null!==c&&function W2(t,e,n,r,i,s){r[Lr]=i,r[Lt]=e,su(t,r,n,1,i,s)}(i,o[Lt],u,r,c,a),e.attachToViewContainerRef(),cE(Cm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=KS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=mg(this._lContainer,n);r&&(Bl(Cm(this._lContainer),n),OE(r[P],r))}detach(e){const n=this._adjustIndex(e,-1),r=mg(this._lContainer,n);return r&&null!=Bl(Cm(this._lContainer),n)?new hu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function KS(t){return t[Sl]}function Cm(t){return t[Sl]||(t[Sl]=[])}function _d(...t){}const wd=new B("Application Initializer");let Dd=(()=>{class t{constructor(n){this.appInits=n,this.resolve=_d,this.reject=_d,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(gu(s))n.push(s);else if(om(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(q(wd,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Iu=new B("AppId",{providedIn:"root",factory:function DT(){return`${Om()}${Om()}${Om()}`}});function Om(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const CT=new B("Platform Initializer"),ET=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let O4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const qr=new B("LocaleId",{providedIn:"root",factory:()=>de(qr,z.Optional|z.SkipSelf)||function P4(){return typeof $localize<"u"&&$localize.locale||No}()});class F4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let bT=(()=>{class t{compileModuleSync(n){return new vm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Hr(_n(n).declarations).reduce((o,a)=>{const u=Ce(a);return u&&o.push(new fu(u)),o},[]);return new F4(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const B4=(()=>Promise.resolve(0))();function Pm(t){typeof Zone>"u"?B4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ze{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function U4(){let t=Pe.requestAnimationFrame,e=Pe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function H4(t){const e=()=>{!function $4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Fm(t),t.isCheckStableRunning=!0,km(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Fm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return TT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),xT(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return TT(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),xT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Fm(t),km(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,j4,_d,_d);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const j4={};function km(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Fm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function TT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xT(t){t._nesting--,km(t)}class G4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const AT=new B(""),Cd=new B("");let Bm,Lm=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bm||(function z4(t){Bm=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),Pm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(q(Ze),q(Vm),q(Cd))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Vm=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Bm?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Wr=!1;let yi=null;const MT=new B("AllowMultipleToken"),Um=new B("PlatformDestroyListeners"),NT=new B("appBootstrapListener");class RT{constructor(e,n){this.name=e,this.token=n}}function PT(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=jm();if(!o||o.injector.get(MT,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function K4(t){if(yi&&!yi.get(MT,!1))throw new T(400,!1);yi=t;const e=t.get(FT);(function OT(t){const e=t.get(CT,null);e&&e.forEach(n=>n())})(t)}(function kT(t=[],e){return lr.create({name:e,providers:[{provide:Rg,useValue:"platform"},{provide:Um,useValue:new Set([()=>yi=null])},...t]})}(a,r))}return function Y4(t){const e=jm();if(!e)throw new T(401,!1);return e}()}}function jm(){return yi?.get(FT)??null}let FT=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function VT(t,e){let n;return n="noop"===t?new G4:("zone.js"===t?void 0:t)||new Ze(e),n}(r?.ngZone,function LT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ze,useValue:i}];return i.run(()=>{const o=lr.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(mo,null);if(!u)throw new T(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{bd(this._modules,a),c.unsubscribe()})}),function BT(t,e,n){try{const r=n();return gu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Dd);return c.runInitializers(),c.donePromise.then(()=>(function uS(t){Mn(t,"Expected localeId to be defined"),"string"==typeof t&&(aS=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(qr,No)||No),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=UT({},r);return function q4(t,e,n){const r=new vm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ed);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Um,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(q(lr))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function UT(t,e){return Array.isArray(e)?e.reduce(UT,t):{...t,...e}}let Ed=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ye(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ye(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),Pm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function QF(...t){const e=Va(t),n=function $F(t,e){return"number"==typeof Dp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?yn(r[0]):Ks(n)(ot(r,e)):rr}(s,o.pipe(function YF(t={}){const{connector:e=(()=>new Rr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ht((g,m)=>{c++,!d&&!l&&h();const w=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Cp(p,i))}),w.subscribe(m),!o&&c>0&&(o=new La({next:C=>w.next(C),error:C=>{d=!0,h(),a=Cp(f,n,C),w.error(C)},complete:()=>{l=!0,h(),a=Cp(f,r),w.complete()}}),yn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof gb;if(!this._injector.get(Dd).done){!i&&function Ys(t){const e=Ce(t)||Ft(t)||un(t);return null!==e&&e.standalone}(n);throw new T(405,Wr)}let o;o=i?n:this._injector.get(cu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function W4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Ro),c=o.create(lr.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(AT,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),bd(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(NT,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(q(Ze),q(jr),q(mo))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Id=(()=>{class t{}return t.__NG_ELEMENT_ID__=Z4,t})();function Z4(t){return function J4(t,e,n){if(qa(t)&&!n){const r=cn(t.index,e);return new hu(r,r)}return 47&t.type?new hu(e[Vt],e):null}(xt(),D(),16==(16&t))}class zT{constructor(){}supports(e){return od(e)}create(e){return new s3(e)}}const i3=(t,e)=>e;class s3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||i3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<WT(r,i,s)?n:r,a=WT(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!od(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function xU(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new o3(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new qT),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qT),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class o3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class a3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class qT{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new a3,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WT(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class KT{constructor(){}supports(e){return e instanceof Map||nm(e)}create(){return new u3}}class u3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||nm(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new c3(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class c3{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QT(){return new xd([new zT])}let xd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||QT()),deps:[[t,new eu,new Ja]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:QT}),t})();function YT(){return new Su([new KT])}let Su=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||YT()),deps:[[t,new eu,new Ja]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:YT}),t})();const h3=PT(null,"core",[]);let f3=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(q(Ed))},t.\u0275mod=or({type:t}),t.\u0275inj=Un({}),t})();function ko(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let qm=null;function Kr(){return qm}class m3{}const hn=new B("DocumentToken");let Wm=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return function y3(){return q(XT)}()},providedIn:"platform"}),t})();const v3=new B("Location Initialized");let XT=(()=>{class t extends Wm{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kr().getBaseHref(this._doc)}onPopState(n){const r=Kr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Kr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){ZT()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){ZT()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(q(hn))},t.\u0275prov=G({token:t,factory:function(){return function _3(){return new XT(q(hn))}()},providedIn:"platform"}),t})();function ZT(){return!!window.history.pushState}function Km(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function JT(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Qr(t){return t&&"?"!==t[0]?"?"+t:t}let fs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return de(tx)},providedIn:"root"}),t})();const ex=new B("appBaseHref");let tx=(()=>{class t extends fs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??de(hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Km(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Qr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(q(Wm),q(ex,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),w3=(()=>{class t extends fs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Km(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(q(Wm),q(ex,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Qm=(()=>{class t{constructor(n){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function E3(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(JT(nx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qr(r))}normalize(n){return t.stripTrailingSlash(function C3(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,nx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Qr,t.joinWithSlash=Km,t.stripTrailingSlash=JT,t.\u0275fac=function(n){return new(n||t)(q(fs))},t.\u0275prov=G({token:t,factory:function(){return function D3(){return new Qm(q(fs))}()},providedIn:"root"}),t})();function nx(t){return t.replace(/\/index.html$/,"")}const sy=/\s+/,dx=[];let oy=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=dx,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(sy):dx}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(sy):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(sy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(b(xd),b(Su),b(En),b($r))},t.\u0275dir=Q({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class uH{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vd=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new uH(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),px(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{px(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Kn),b(zr),b(xd))},t.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function px(t,e){t.context.$implicit=e.item}let Au=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new lH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){gx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){gx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Kn),b(zr))},t.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class lH{constructor(){this.$implicit=null,this.ngIf=null}}function gx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ae(e)}'.`)}let kH=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=or({type:t}),t.\u0275inj=Un({}),t})();let _x=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new BH(q(hn),window)}),t})();class BH{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function UH(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=wx(this.window.history)||wx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function wx(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class pG extends m3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fy extends pG{static makeCurrent(){!function g3(t){qm||(qm=t)}(new fy)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function gG(){return Nu=Nu||document.querySelector("base"),Nu?Nu.getAttribute("href"):null}();return null==n?null:function mG(t){jd=jd||document.createElement("a"),jd.setAttribute("href",t);const e=jd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Nu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function oH(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let jd,Nu=null;const Ix=new B("TRANSITION_ID"),vG=[{provide:wd,useFactory:function yG(t,e,n){return()=>{n.get(Dd).donePromise.then(()=>{const r=Kr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Ix,hn,lr],multi:!0}];let wG=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const $d=new B("EventManagerPlugins");let Hd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(q($d),q(Ze))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class Sx{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Kr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Tx=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Ru=(()=>{class t extends Tx{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(q(hn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gy=/%COMP%/g,Mx=new B("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Nx(t,e){return e.flat(100).map(n=>n.replace(gy,t))}function Rx(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let my=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new yy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof kx?i.applyToHost(n):i instanceof vy&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case sr.Emulated:s=new kx(o,a,r,this.appId,u);break;case sr.ShadowDom:return new TG(o,a,n,r);default:s=new vy(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(q(Hd),q(Ru),q(Iu),q(Mx))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class yy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(py[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(Px(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Px(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=py[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=py[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ln.DashCase|ln.Important)?e.style.setProperty(n,r,i&ln.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ln.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Rx(r)):this.eventManager.addEventListener(e,n,Rx(r))}}function Px(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class TG extends yy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Nx(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vy extends yy{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Nx(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class kx extends vy{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function bG(t){return"_ngcontent-%COMP%".replace(gy,t)}(o),this.hostAttr=function IG(t){return"_nghost-%COMP%".replace(gy,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let xG=(()=>{class t extends Sx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(q(hn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Fx=["alt","control","meta","shift"],AG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MG={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let NG=(()=>{class t extends Sx{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Fx.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=AG[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Fx.forEach(o=>{o!==i&&(0,MG[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(q(hn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Vx=[{provide:ET,useValue:"browser"},{provide:CT,useValue:function RG(){fy.makeCurrent()},multi:!0},{provide:hn,useFactory:function PG(){return function cV(t){Eg=t}(document),document},deps:[]}],kG=PT(h3,"browser",Vx),Bx=new B(""),Ux=[{provide:Cd,useClass:class _G{addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Kr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:AT,useClass:Lm,deps:[Ze,Vm,Cd]},{provide:Lm,useClass:Lm,deps:[Ze,Vm,Cd]}],jx=[{provide:Rg,useValue:"root"},{provide:mo,useFactory:function OG(){return new mo},deps:[]},{provide:$d,useClass:xG,multi:!0,deps:[hn,Ze,ET]},{provide:$d,useClass:NG,multi:!0,deps:[hn]},{provide:my,useClass:my,deps:[Hd,Ru,Iu,Mx]},{provide:yb,useExisting:my},{provide:Tx,useExisting:Ru},{provide:Ru,useClass:Ru,deps:[hn]},{provide:Hd,useClass:Hd,deps:[$d,Ze]},{provide:class jH{},useClass:wG,deps:[]},[]];let FG=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Iu,useValue:n.appId},{provide:Ix,useExisting:Iu},vG]}}}return t.\u0275fac=function(n){return new(n||t)(q(Bx,12))},t.\u0275mod=or({type:t}),t.\u0275inj=Un({providers:[...jx,...Ux],imports:[kH,f3]}),t})(),$x=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(q(hn))},t.\u0275prov=G({token:t,factory:function(n){let r=null;return r=n?new n:function VG(){return new $x(q(hn))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:GG}=Array,{getPrototypeOf:zG,prototype:qG,keys:WG}=Object;function zx(t){if(1===t.length){const e=t[0];if(GG(e))return{args:e,keys:null};if(function KG(t){return t&&"object"==typeof t&&zG(t)===qG}(e)){const n=WG(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:QG}=Array;function qx(t){return le(e=>function YG(t,e){return QG(e)?t(...e):t(e)}(t,e))}function Wx(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let Kx=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b($r),b(En))},t.\u0275dir=Q({type:t}),t})(),ps=(()=>{class t extends Kx{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=At(t)))(r||t)}}(),t.\u0275dir=Q({type:t,features:[be]}),t})();const yr=new B("NgValueAccessor"),JG={provide:yr,useExisting:Me(()=>Ou),multi:!0},t9=new B("CompositionEventMode");let Ou=(()=>{class t extends Kx{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function e9(){const t=Kr()?Kr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b($r),b(En),b(t9,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ae("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[je([JG]),be]}),t})();const n9=!1,jt=new B("NgValidators"),wi=new B("NgAsyncValidators");function sA(t){return null!=t}function oA(t){const e=gu(t)?ot(t):t;if(n9&&!om(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new T(-1101,n)}return e}function aA(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function uA(t,e){return e.map(n=>n(t))}function cA(t){return t.map(e=>function i9(t){return!t.validate}(e)?e:n=>e.validate(n))}function Dy(t){return null!=t?function lA(t){if(!t)return null;const e=t.filter(sA);return 0==e.length?null:function(n){return aA(uA(n,e))}}(cA(t)):null}function Cy(t){return null!=t?function dA(t){if(!t)return null;const e=t.filter(sA);return 0==e.length?null:function(n){return function XG(...t){const e=u0(t),{args:n,keys:r}=zx(t),i=new Ye(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;yn(n[l]).subscribe(st(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?Wx(r,a):a),s.complete())}))}});return e?i.pipe(qx(e)):i}(uA(n,e).map(oA)).pipe(le(aA))}}(cA(t)):null}function hA(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ey(t){return t?Array.isArray(t)?t:[t]:[]}function zd(t,e){return Array.isArray(t)?t.includes(e):t===e}function gA(t,e){const n=Ey(e);return Ey(t).forEach(i=>{zd(n,i)||n.push(i)}),n}function mA(t,e){return Ey(e).filter(n=>!zd(t,n))}class yA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class en extends yA{get formDirective(){return null}get path(){return null}}class Di extends yA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vA{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let by=(()=>{class t extends vA{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Di,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&cd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[be]}),t})();const Pu="VALID",Wd="INVALID",Fo="PENDING",ku="DISABLED";function Kd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class CA{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pu}get invalid(){return this.status===Wd}get pending(){return this.status==Fo}get disabled(){return this.status===ku}get enabled(){return this.status!==ku}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mA(e,this._rawAsyncValidators))}hasValidator(e){return zd(this._rawValidators,e)}hasAsyncValidator(e){return zd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ku,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pu||this.status===Fo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ku:Pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fo,this._hasOwnPendingAsyncValidator=!0;const n=oA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?ku:this.errors?Wd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fo)?Fo:this._anyControlsHaveStatus(Wd)?Wd:Pu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function h9(t){return Array.isArray(t)?Dy(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function f9(t){return Array.isArray(t)?Cy(t):t||null}(this._rawAsyncValidators)}}const Lo=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Qd}),Qd="always";function Fu(t,e,n=Qd){(function Ny(t,e){const n=function fA(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(hA(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function pA(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(hA(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Zd(e._rawValidators,i),Zd(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function m9(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&EA(t,e)})}(t,e),function v9(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function y9(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&EA(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function g9(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Zd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function EA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function SA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function TA(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const xA=class extends CA{constructor(e=null,n,r){super(function xy(t){return(Kd(t)?t.validators:t)||null}(n),function Ay(t,e){return(Kd(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=TA(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){TA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},S9={provide:Di,useExisting:Me(()=>eh)},NA=(()=>Promise.resolve())();let eh=(()=>{class t extends Di{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new xA,this._registered=!1,this.update=new Fe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Py(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ou?n=s:function D9(t){return Object.getPrototypeOf(t.constructor)===ps}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Oy(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){NA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&ko(r);NA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Yd(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(en,9),b(jt,10),b(wi,10),b(yr,10),b(Id,8),b(Lo,8))},t.\u0275dir=Q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[je([S9]),be,Rn]}),t})(),OA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=or({type:t}),t.\u0275inj=Un({}),t})();const L9={provide:yr,useExisting:Me(()=>th),multi:!0};function UA(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let th=(()=>{class t extends ps{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=UA(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function V9(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=At(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&ae("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[je([L9]),be]}),t})(),jA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(UA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(b(En),b($r),b(th,9))},t.\u0275dir=Q({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const B9={provide:yr,useExisting:Me(()=>By),multi:!0};function $A(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let By=(()=>{class t extends ps{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function U9(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=At(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&ae("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[je([B9]),be]}),t})(),HA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue($A(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue($A(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(b(En),b($r),b(By,9))},t.\u0275dir=Q({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),Q9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=or({type:t}),t.\u0275inj=Un({imports:[OA]}),t})(),X9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Lo,useValue:n.callSetDisabledState??Qd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=or({type:t}),t.\u0275inj=Un({imports:[Q9]}),t})();function $(...t){return ot(t,Va(t))}class Zn extends Rr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const nh=Fa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function JA(...t){const e=Va(t),n=u0(t),{args:r,keys:i}=zx(t);if(0===r.length)return ot([],e);const s=new Ye(function Z9(t,e,n=es){return r=>{e1(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)e1(e,()=>{const c=ot(t[u],e);let l=!1;c.subscribe(st(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Wx(i,o):es));return n?s.pipe(qx(n)):s}function e1(t,e,n){t?Or(n,t,e):e()}function rh(...t){return function J9(){return Ks(1)}()(ot(t,Va(t)))}function t1(t){return new Ye(e=>{yn(t()).subscribe(e)})}function Vu(t,e){const n=xe(t)?t:()=>t,r=i=>i.error(n());return new Ye(e?i=>e.schedule(r,0,i):r)}function jy(){return ht((t,e)=>{let n=null;t._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class n1 extends Ye{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mn;const n=this.getSubject();e.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mn.EMPTY)}return e}refCount(){return jy()(this)}}function vr(t,e){return ht((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(st(r,u=>{i?.unsubscribe();let c=0;const l=s++;yn(t(u,l)).subscribe(i=st(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ci(t){return t<=0?()=>rr:ht((e,n)=>{let r=0;e.subscribe(st(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Xr(t,e){return ht((n,r)=>{let i=0;n.subscribe(st(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ih(t){return ht((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function r1(t=t5){return ht((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function t5(){return new nh}function Ei(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xr((i,s)=>t(i,s,r)):es,Ci(1),n?ih(e):r1(()=>new nh))}function ms(t,e){return xe(e)?vt(t,e,1):vt(t,1)}function $t(t,e,n){const r=xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?ht((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(st(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):es}function bi(t){return ht((e,n)=>{let s,r=null,i=!1;r=e.subscribe(st(n,void 0,void 0,o=>{s=yn(t(o,bi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function i1(t,e){return ht(function n5(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(st(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function $y(t){return t<=0?()=>rr:ht((e,n)=>{let r=[];e.subscribe(st(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function s1(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xr((i,s)=>t(i,s,r)):es,$y(1),n?ih(e):r1(()=>new nh))}function o1(t){return le(()=>t)}function Hy(t){return ht((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ne="primary",Bu=Symbol("RouteTitle");class i5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Vo(t){return new i5(t)}function s5(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _r(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!a1(t[i],e[i]))return!1;return!0}function a1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function u1(t){return Array.prototype.concat.apply([],t)}function c1(t){return t.length>0?t[t.length-1]:null}function Mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ii(t){return om(t)?t:gu(t)?ot(Promise.resolve(t)):$(t)}const sh=!1,a5={exact:function h1(t,e,n){if(!ys(t.segments,e.segments)||!oh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!h1(t.children[r],e.children[r],n))return!1;return!0},subset:f1},l1={exact:function u5(t,e){return _r(t,e)},subset:function c5(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>a1(t[n],e[n]))},ignored:()=>!0};function d1(t,e,n){return a5[n.paths](t.root,e.root,n.matrixParams)&&l1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function f1(t,e,n){return p1(t,e,e.segments,n)}function p1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ys(i,n)||e.hasChildren()||!oh(i,n,r))}if(t.segments.length===n.length){if(!ys(t.segments,n)||!oh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!f1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ys(t.segments,i)&&oh(t.segments,i,r)&&t.children[ne])&&p1(t.children[ne],e,s,r)}}function oh(t,e,n){return e.every((r,i)=>l1[n](t[i].parameters,r.parameters))}class Si{constructor(e=new ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vo(this.queryParams)),this._queryParamMap}toString(){return h5.serialize(this)}}class ue{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Mt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ah(this)}}class Uu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Vo(this.parameters)),this._parameterMap}toString(){return y1(this)}}function ys(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ju=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new Gy},providedIn:"root"}),t})();class Gy{parse(e){const n=new D5(e);return new Si(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${$u(e.root,!0)}`,r=function g5(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${uh(n)}=${uh(i)}`).join("&"):`${uh(n)}=${uh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function f5(t){return encodeURI(t)}(e.fragment)}`:""}`}}const h5=new Gy;function ah(t){return t.segments.map(e=>y1(e)).join("/")}function $u(t,e){if(!t.hasChildren())return ah(t);if(e){const n=t.children[ne]?$u(t.children[ne],!1):"",r=[];return Mt(t.children,(i,s)=>{s!==ne&&r.push(`${s}:${$u(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function d5(t,e){let n=[];return Mt(t.children,(r,i)=>{i===ne&&(n=n.concat(e(r,i)))}),Mt(t.children,(r,i)=>{i!==ne&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ne?[$u(t.children[ne],!1)]:[`${i}:${$u(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ne]?`${ah(t)}/${n[0]}`:`${ah(t)}/(${n.join("//")})`}}function g1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uh(t){return g1(t).replace(/%3B/gi,";")}function zy(t){return g1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ch(t){return decodeURIComponent(t)}function m1(t){return ch(t.replace(/\+/g,"%20"))}function y1(t){return`${zy(t.path)}${function p5(t){return Object.keys(t).map(e=>`;${zy(e)}=${zy(t[e])}`).join("")}(t.parameters)}`}const m5=/^[^\/()?;=#]+/;function lh(t){const e=t.match(m5);return e?e[0]:""}const y5=/^[^=?&#]+/,_5=/^[^&#]+/;class D5{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new ue(e,n)),r}parseSegment(){const e=lh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,sh);return this.capture(e),new Uu(ch(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=lh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=lh(this.remaining);i&&(r=i,this.capture(r))}e[ch(n)]=ch(r)}parseQueryParam(e){const n=function v5(t){const e=t.match(y5);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function w5(t){const e=t.match(_5);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=m1(n),s=m1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,sh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ne]:new ue([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,sh)}}function qy(t){return t.segments.length>0?new ue([],{[ne]:t}):t}function dh(t){const e={};for(const r of Object.keys(t.children)){const s=dh(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function C5(t){if(1===t.numberOfChildren&&t.children[ne]){const e=t.children[ne];return new ue(t.segments.concat(e.segments),e.children)}return t}(new ue(t.segments,e))}function vs(t){return t instanceof Si}const Wy=!1;function E5(t,e,n,r,i){if(0===n.length)return Bo(e.root,e.root,e.root,r,i);const s=function C1(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new D1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Mt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new D1(n,e,r)}(n);return s.toRoot()?Bo(e.root,e.root,new ue([],{}),r,i):function o(u){const c=function I5(t,e,n,r){if(t.isAbsolute)return new Uo(e.root,!0,0);if(-1===r)return new Uo(n,n===e.root,0);return function E1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,Wy&&"Invalid number of '../'");i=r.segments.length}return new Uo(r,!1,i-s)}(n,r+(Hu(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?jo(c.segmentGroup,c.index,s.commands):Ky(c.segmentGroup,c.index,s.commands);return Bo(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Hu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gu(t){return"object"==typeof t&&null!=t&&t.outlets}function Bo(t,e,n,r,i){let o,s={};r&&Mt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:w1(t,e,n);const a=qy(dh(o));return new Si(a,s,i)}function w1(t,e,n){const r={};return Mt(t.children,(i,s)=>{r[s]=i===e?n:w1(i,e,n)}),new ue(t.segments,r)}class D1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hu(r[0]))throw new T(4003,Wy&&"Root segment cannot have matrix parameters");const i=r.find(Gu);if(i&&i!==c1(r))throw new T(4004,Wy&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uo{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Ky(t,e,n){if(t||(t=new ue([],{})),0===t.segments.length&&t.hasChildren())return jo(t,e,n);const r=function T5(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Gu(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!I1(u,c,o))return s;r+=2}else{if(!I1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ue(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new ue(t.segments.slice(r.pathIndex),t.children),jo(s,0,i)}return r.match&&0===i.length?new ue(t.segments,{}):r.match&&!t.hasChildren()?Qy(t,e,n):r.match?jo(t,0,i):Qy(t,e,n)}function jo(t,e,n){if(0===n.length)return new ue(t.segments,{});{const r=function S5(t){return Gu(t[0])?t[0].outlets:{[ne]:t}}(n),i={};if(!r[ne]&&t.children[ne]&&1===t.numberOfChildren&&0===t.children[ne].segments.length){const s=jo(t.children[ne],e,n);return new ue(t.segments,s.children)}return Mt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Ky(t.children[o],e,s))}),Mt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ue(t.segments,i)}}function Qy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Gu(s)){const u=x5(s.outlets);return new ue(r,u)}if(0===i&&Hu(n[0])){r.push(new Uu(t.segments[e].path,b1(n[0]))),i++;continue}const o=Gu(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Hu(a)?(r.push(new Uu(o,b1(a))),i+=2):(r.push(new Uu(o,{})),i++)}return new ue(r,{})}function x5(t){const e={};return Mt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Qy(new ue([],{}),0,n))}),e}function b1(t){const e={};return Mt(t,(n,r)=>e[r]=`${n}`),e}function I1(t,e,n){return t==n.path&&_r(e,n.parameters)}const zu="imperative";class wr{constructor(e,n){this.id=e,this.url=n}}class Yy extends wr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ti extends wr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hh extends wr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fh extends wr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Xy extends wr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class A5 extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M5 extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N5 extends wr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class R5 extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O5 extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P5{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class k5{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class F5{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L5{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V5{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B5{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zy{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let $5=(()=>{class t{createUrlTree(n,r,i,s,o,a){return E5(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),G5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(e){return $5.\u0275fac(e)},providedIn:"root"}),t})();class S1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Jy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Jy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=ev(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ev(e,this._root).map(n=>n.value)}}function Jy(t,e){if(t===e.value)return e;for(const n of e.children){const r=Jy(t,n);if(r)return r}return null}function ev(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ev(t,n);if(r.length)return r.unshift(e),r}return[]}class Zr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function $o(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class T1 extends S1{constructor(e,n){super(e),this.snapshot=n,tv(this,e)}toString(){return this.snapshot.toString()}}function x1(t,e){const n=function z5(t,e){const o=new ph([],{},{},"",{},ne,e,null,t.root,-1,{});return new M1("",new Zr(o,[]))}(t,e),r=new Zn([new Uu("",{})]),i=new Zn({}),s=new Zn({}),o=new Zn({}),a=new Zn(""),u=new Ho(r,i,o,a,s,ne,e,n.root);return u.snapshot=n.root,new T1(new Zr(u,[]),n)}class Ho{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(le(c=>c[Bu]))??$(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(e=>Vo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(e=>Vo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function A1(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function q5(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ph{get title(){return this.data?.[Bu]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class M1 extends S1{constructor(e,n){super(n),this.url=e,tv(this,n)}toString(){return N1(this._root)}}function tv(t,e){e.value._routerState=t,e.children.forEach(n=>tv(t,n))}function N1(t){const e=t.children.length>0?` { ${t.children.map(N1).join(", ")} } `:"";return`${t.value}${e}`}function nv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_r(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_r(e.params,n.params)||t.params.next(n.params),function o5(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_r(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_r(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function rv(t,e){const n=_r(t.params,e.params)&&function l5(t,e){return ys(t,e)&&t.every((n,r)=>_r(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||rv(t.parent,e.parent))}function qu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function K5(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return qu(t,r,i);return qu(t,r)})}(t,e,n);return new Zr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>qu(t,a)),o}}const r=function Q5(t){return new Ho(new Zn(t.url),new Zn(t.params),new Zn(t.queryParams),new Zn(t.fragment),new Zn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>qu(t,s));return new Zr(r,i)}}const iv="ngNavigationCancelingError";function R1(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=O1(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function O1(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[iv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function P1(t){return k1(t)&&vs(t.url)}function k1(t){return t&&t[iv]}class Y5{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Wu,this.attachRef=null}}let Wu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Y5,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gh=!1;let sv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=de(Wu),this.location=de(Kn),this.changeDetector=de(Id),this.environmentInjector=de(jr)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,gh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,gh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,gh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,gh);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new X5(n,a,i.injector);if(r&&function Z5(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rn]}),t})();class X5{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ho?this.route:e===Wu?this.childContexts:this.parent.get(e,n)}}let ov=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=jn({type:t,selectors:[["ng-component"]],standalone:!0,features:[kS],decls:1,vars:0,template:function(n,r){1&n&&pi(0,"router-outlet")},dependencies:[sv],encapsulation:2}),t})();function F1(t,e){return t.providers&&!t._injector&&(t._injector=md(t.providers,e,`Route: ${t.path}`)),t._injector??e}function uv(t){const e=t.children&&t.children.map(uv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=ov),n}function Vn(t){return t.outlet||ne}function L1(t,e){const n=t.filter(r=>Vn(r)===e);return n.push(...t.filter(r=>Vn(r)!==e)),n}function Ku(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class rz{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),nv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=$o(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Mt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$o(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$o(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=$o(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new B5(s.value.snapshot))}),e.children.length&&this.forwardEvent(new L5(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(nv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),nv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ku(i.snapshot),u=a?.get(cu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class V1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mh{constructor(e,n){this.component=e,this.route=n}}function iz(t,e,n){const r=t._root;return Qu(r,e?e._root:null,n,[r.value])}function Go(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function rL(t){return null!==yl(t)}(t)?e.get(t):t:r}function Qu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=$o(e);return t.children.forEach(o=>{(function oz(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function az(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ys(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ys(t.url,e.url)||!_r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rv(t,e)||!_r(t.queryParams,e.queryParams);default:return!rv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new V1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Qu(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mh(a.outlet.component,o))}else o&&Yu(e,a,i),i.canActivateChecks.push(new V1(r)),Qu(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Mt(s,(o,a)=>Yu(o,n.getContext(a),i)),i}function Yu(t,e,n){const r=$o(t),i=t.value;Mt(r,(s,o)=>{Yu(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new mh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xu(t){return"function"==typeof t}function cv(t){return t instanceof nh||"EmptyError"===t?.name}const yh=Symbol("INITIAL_VALUE");function zo(){return vr(t=>JA(t.map(e=>e.pipe(Ci(1),function e5(...t){const e=Va(t);return ht((n,r)=>{(e?rh(t,n,e):rh(t,n)).subscribe(r)})}(yh)))).pipe(le(e=>{for(const n of e)if(!0!==n){if(n===yh)return yh;if(!1===n||n instanceof Si)return n}return!0}),Xr(e=>e!==yh),Ci(1)))}function B1(t){return function aF(...t){return $C(t)}($t(e=>{if(vs(e))throw R1(0,e)}),le(e=>!0===e))}const lv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function U1(t,e,n,r,i){const s=dv(t,e,n);return s.matched?function bz(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?$(i.map(o=>{const a=Go(o,t);return Ii(function fz(t){return t&&Xu(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(zo(),B1()):$(!0)}(r=F1(e,r),e,n).pipe(le(o=>!0===o?s:{...lv})):$(s)}function dv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...lv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||s5)(n,t,e);if(!i)return{...lv};const s={};Mt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function vh(t,e,n,r){if(n.length>0&&function Tz(t,e,n){return n.some(r=>_h(t,e,r)&&Vn(r)!==ne)}(t,n,r)){const s=new ue(e,function Sz(t,e,n,r){const i={};i[ne]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Vn(s)!==ne){const o=new ue([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Vn(s)]=o}return i}(t,e,r,new ue(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function xz(t,e,n){return n.some(r=>_h(t,e,r))}(t,n,r)){const s=new ue(t.segments,function Iz(t,e,n,r,i){const s={};for(const o of r)if(_h(t,n,o)&&!i[Vn(o)]){const a=new ue([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[Vn(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new ue(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function _h(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function j1(t,e,n,r){return!!(Vn(t)===r||r!==ne&&_h(e,n,t))&&("**"===t.path||dv(e,t,n).matched)}function $1(t,e,n){return 0===e.length&&!t.children[n]}const wh=!1;class Dh{constructor(e){this.segmentGroup=e||null}}class H1{constructor(e){this.urlTree=e}}function Zu(t){return Vu(new Dh(t))}function G1(t){return Vu(new H1(t))}class Rz{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=vh(this.urlTree.root,[],[],this.config).segmentGroup,n=new ue(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ne).pipe(le(s=>this.createUrlTree(dh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(bi(s=>{if(s instanceof H1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Dh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ne).pipe(le(i=>this.createUrlTree(dh(i),e.queryParams,e.fragment))).pipe(bi(i=>{throw i instanceof Dh?this.noMatchError(i):i}))}noMatchError(e){return new T(4002,wh)}createUrlTree(e,n,r){const i=qy(e);return new Si(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(le(s=>new ue([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ot(i).pipe(ms(s=>{const o=r.children[s],a=L1(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(le(u=>({segment:u,outlet:s})))}),i1((s,o)=>(s[o.outlet]=o.segment,s),{}),s1())}expandSegment(e,n,r,i,s,o){return ot(r).pipe(ms(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(bi(c=>{if(c instanceof Dh)return $(null);throw c}))),Ei(a=>!!a),bi((a,u)=>{if(cv(a))return $1(n,i,s)?$(new ue([],{})):Zu(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return j1(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Zu(n):Zu(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?G1(s):this.lineralizeSegments(r,s).pipe(vt(o=>{const a=new ue(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=dv(n,i,s);if(!a)return Zu(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?G1(d):this.lineralizeSegments(i,d).pipe(vt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=F1(r,e),r.loadChildren?(r._loadedRoutes?$({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(le(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ue(i,{})))):$(new ue(i,{}))):U1(n,r,i,e).pipe(vr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(vt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=vh(n,a,u,h),g=new ue(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(le(v=>new ue(a,v)));if(0===h.length&&0===p.length)return $(new ue(a,{}));const m=Vn(r)===s;return this.expandSegment(d,g,h,p,m?ne:s,!0).pipe(le(C=>new ue(a.concat(C.segments),C.children)))})):Zu(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?$({routes:n._loadedRoutes,injector:n._loadedInjector}):function Ez(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(o=>{const a=Go(o,t);return Ii(function cz(t){return t&&Xu(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(zo(),B1())}(e,n,r).pipe(vt(i=>i?this.configLoader.loadChildren(e,n).pipe($t(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Mz(t){return Vu(O1(wh,3))}())):$({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[ne])return e.redirectTo,Vu(new T(4e3,wh));i=i.children[ne]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Si(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Mt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Mt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ue(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,wh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class Pz{}class Lz{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=vh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(le(n=>{if(null===n)return null;const r=new ph([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Zr(r,n),s=new M1(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=A1(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return ot(Object.keys(r.children)).pipe(ms(i=>{const s=r.children[i],o=L1(n,i);return this.processSegmentGroup(e,o,s,i)}),i1((i,s)=>i&&s?(i.push(...s),i):null),function r5(t,e=!1){return ht((n,r)=>{let i=0;n.subscribe(st(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),ih(null),s1(),le(i=>{if(null===i)return null;const s=q1(i);return function Vz(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return ot(n).pipe(ms(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Ei(o=>!!o),bi(o=>{if(cv(o))return $1(r,i,s)?$([]):$(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!j1(n,r,i,s))return $(null);let o;if("**"===n.path){const a=i.length>0?c1(i).parameters:{},u=K1(r)+i.length;o=$({snapshot:new ph(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Q1(n),Vn(n),n.component??n._loadedComponent??null,n,W1(r),u,Y1(n)),consumedSegments:[],remainingSegments:[]})}else o=U1(r,n,i,e).pipe(le(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=K1(r)+u.length;return{snapshot:new ph(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Q1(n),Vn(n),n.component??n._loadedComponent??null,n,W1(r),d,Y1(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(vr(a=>{if(null===a)return $(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function Bz(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=vh(r,c,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(le(m=>null===m?null:[new Zr(u,m)]));if(0===h.length&&0===p.length)return $([new Zr(u,[])]);const g=Vn(n)===s;return this.processSegment(d,h,f,p,g?ne:s).pipe(le(m=>null===m?null:[new Zr(u,m)]))}))}}function Uz(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function q1(t){const e=[],n=new Set;for(const r of t){if(!Uz(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=q1(r.children);e.push(new Zr(r.value,i))}return e.filter(r=>!n.has(r))}function W1(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function K1(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function Q1(t){return t.data||{}}function Y1(t){return t.resolve||{}}function X1(t){return"string"==typeof t.title||null===t.title}function hv(t){return vr(e=>{const n=t(e);return n?ot(n).pipe(le(()=>e)):$(e)})}const qo=new B("ROUTES");let fv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=de(bT)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return $(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ii(n.loadComponent()).pipe(le(J1),$t(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Hy(()=>{this.componentLoaders.delete(n)})),i=new n1(r,()=>new Rr).pipe(jy());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(le(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=u1(u.get(qo,[],z.Self|z.Optional)));return{routes:c.map(uv),injector:u}}),Hy(()=>{this.childrenLoaders.delete(r)})),o=new n1(s,()=>new Rr).pipe(jy());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ii(n()).pipe(le(J1),vt(r=>r instanceof OS||Array.isArray(r)?$(r):ot(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function J1(t){return function Kz(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Eh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Rr,this.configLoader=de(fv),this.environmentInjector=de(jr),this.urlSerializer=de(ju),this.rootContexts=de(Wu),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new k5(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new P5(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Zn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zu,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xr(r=>0!==r.id),le(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),vr(r=>{let i=!1,s=!1;return $(r).pipe($t(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new fh(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),rr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return eM(o.source)&&(n.browserUrlTree=o.extractedUrl),$(o).pipe(vr(l=>{const d=this.transitions?.getValue();return this.events.next(new Yy(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?rr:Promise.resolve(l)}),function Oz(t,e,n,r){return vr(i=>function Nz(t,e,n,r,i){return new Rz(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(le(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),$t(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function $z(t,e,n,r,i){return vt(s=>function Fz(t,e,n,r,i,s,o="emptyOnly"){return new Lz(t,e,n,r,i,o,s).recognize().pipe(vr(a=>null===a?function kz(t){return new Ye(e=>e.error(t))}(new Pz):$(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(le(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),$t(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new A5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new Yy(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=x1(d,this.rootComponentType).snapshot;return $(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new fh(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),rr}}),$t(o=>{const a=new M5(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),le(o=>r={...o,guards:iz(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function gz(t,e){return vt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?$({...n,guardsResult:!0}):function mz(t,e,n,r){return ot(t).pipe(vt(i=>function Cz(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$(s.map(a=>{const u=Ku(e)??i,c=Go(a,u);return Ii(function hz(t){return t&&Xu(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Ei())})).pipe(zo()):$(!0)}(i.component,i.route,n,e,r)),Ei(i=>!0!==i,!0))}(o,r,i,t).pipe(vt(a=>a&&function uz(t){return"boolean"==typeof t}(a)?function yz(t,e,n,r){return ot(e).pipe(ms(i=>rh(function _z(t,e){return null!==t&&e&&e(new F5(t)),$(!0)}(i.route.parent,r),function vz(t,e){return null!==t&&e&&e(new V5(t)),$(!0)}(i.route,r),function Dz(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function sz(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>t1(()=>$(o.guards.map(u=>{const c=Ku(o.node)??n,l=Go(u,c);return Ii(function dz(t){return t&&Xu(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Ei())})).pipe(zo())));return $(s).pipe(zo())}(t,i.path,n),function wz(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(s=>t1(()=>{const o=Ku(e)??n,a=Go(s,o);return Ii(function lz(t){return t&&Xu(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ei())}));return $(i).pipe(zo())}(t,i.route,n))),Ei(i=>!0!==i,!0))}(r,s,t,e):$(a)),le(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),$t(o=>{if(r.guardsResult=o.guardsResult,vs(o.guardsResult))throw R1(0,o.guardsResult);const a=new N5(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Xr(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),hv(o=>{if(o.guards.canActivateChecks.length)return $(o).pipe($t(a=>{const u=new R5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),vr(a=>{let u=!1;return $(a).pipe(function Hz(t,e){return vt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=0;return ot(i).pipe(ms(o=>function Gz(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!X1(i)&&(s[Bu]=i.title),function zz(t,e,n,r){const i=function qz(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $({});const s={};return ot(i).pipe(vt(o=>function Wz(t,e,n,r){const i=Ku(e)??r,s=Go(t,i);return Ii(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ei(),$t(a=>{s[o]=a}))),$y(1),o1(s),bi(o=>cv(o)?rr:Vu(o)))}(s,t,e,r).pipe(le(o=>(t._resolvedData=o,t.data=A1(t,n).resolve,i&&X1(i)&&(t.data[Bu]=i.title),null)))}(o.route,r,t,e)),$t(()=>s++),$y(1),vt(o=>s===i.length?$(n):rr))})}(n.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),$t(a=>{const u=new O5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),hv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe($t(l=>{u.component=l}),le(()=>{})));for(const l of u.children)c.push(...a(l));return c};return JA(a(o.targetSnapshot.root)).pipe(ih(),Ci(1))}),hv(()=>this.afterPreactivation()),le(o=>{const a=function W5(t,e,n){const r=qu(t,e._root,n?n._root:void 0);return new T1(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),$t(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>le(r=>(new rz(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Ci(1),$t({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Ti(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Hy(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),bi(o=>{if(s=!0,k1(o)){P1(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new hh(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),P1(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||eM(r.source)};n.scheduleNavigation(u,zu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Xy(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return rr}))}))}cancelNavigationTransition(n,r,i){const s=new hh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eM(t){return t!==zu}let tM=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[Bu]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return de(Qz)},providedIn:"root"}),t})(),Qz=(()=>{class t extends tM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(q($x))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Yz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return de(Zz)},providedIn:"root"}),t})();class Xz{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Zz=(()=>{class t extends Xz{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=At(t)))(r||t)}}(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bh=new B("",{providedIn:"root",factory:()=>({})});let e6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return de(t6)},providedIn:"root"}),t})(),t6=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function n6(t){throw t}function r6(t,e,n){return e.parse("/")}const i6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},s6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=de(O4),this.isNgZoneEnabled=!1,this.options=de(bh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||n6,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||r6,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=de(e6),this.routeReuseStrategy=de(Yz),this.urlCreationStrategy=de(G5),this.titleStrategy=de(tM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=u1(de(qo,{optional:!0})??[]),this.navigationTransitions=de(Eh),this.urlSerializer=de(ju),this.location=de(Qm),this.isNgZoneEnabled=de(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Si,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=x1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zu,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(uv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=vs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,zu,null,r)}navigate(n,r={skipLocationChange:!1}){return function o6(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new T(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...i6}:!1===r?{...s6}:r,vs(n))return d1(this.currentUrlTree,n,i);const s=this.parseUrl(n);return d1(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ju=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Rr;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=ko(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=ko(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=ko(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function sb(t,e,n){return function NV(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ib:rb}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(b(tn),b(Ho),function Vl(t){return function n2(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(K0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(xt(),t)}("tabindex"),b($r),b(En),b(fs))},t.\u0275dir=Q({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&ae("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&fr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Rn]}),t})();class nM{}let c6=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Xr(n=>n instanceof Ti),ms(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=md(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ot(i).pipe(Ks())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):$(null);const s=i.pipe(vt(o=>null===o?$(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?ot([s,this.loader.loadComponent(r)]).pipe(Ks()):s})}}return t.\u0275fac=function(n){return new(n||t)(q(tn),q(bT),q(jr),q(nM),q(fv))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gv=new B("");let rM=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Yy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ti&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Zy&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zy(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Fb(){throw new Error("invalid")}()},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();var Sn=(()=>((Sn=Sn||{})[Sn.COMPLETE=0]="COMPLETE",Sn[Sn.FAILED=1]="FAILED",Sn[Sn.REDIRECTING=2]="REDIRECTING",Sn))();const Wo=!1;function xi(t,e){return{\u0275kind:t,\u0275providers:e}}const mv=new B("",{providedIn:"root",factory:()=>!1});function sM(){const t=de(lr);return e=>{const n=t.get(Ed);if(e!==n.components[0])return;const r=t.get(tn),i=t.get(oM);1===t.get(yv)&&r.initialNavigation(),t.get(aM,null,z.Optional)?.setUpPreloading(),t.get(gv,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const oM=new B(Wo?"bootstrap done indicator":"",{factory:()=>new Rr}),yv=new B(Wo?"initial navigation":"",{providedIn:"root",factory:()=>1});function p6(){let t=[];return t=Wo?[{provide:Ql,multi:!0,useFactory:()=>{const e=de(tn);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function U5(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],xi(1,t)}const aM=new B(Wo?"router preloader":"");function g6(t){return xi(0,[{provide:aM,useExisting:c6},{provide:nM,useExisting:t}])}const ec=!1,uM=new B(ec?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),m6=[Qm,{provide:ju,useClass:Gy},tn,Wu,{provide:Ho,useFactory:function iM(t){return t.routerState.root},deps:[tn]},fv,ec?{provide:mv,useValue:!0}:[]];function y6(){return new RT("Router",tn)}let cM=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[m6,ec&&r?.enableTracing?p6().\u0275providers:[],{provide:qo,multi:!0,useValue:n},{provide:uM,useFactory:D6,deps:[[tn,new Ja,new eu]]},{provide:bh,useValue:r||{}},r?.useHash?{provide:fs,useClass:w3}:{provide:fs,useClass:tx},{provide:gv,useFactory:()=>{const t=de(_x),e=de(Ze),n=de(bh),r=de(Eh),i=de(ju);return n.scrollOffset&&t.setOffset(n.scrollOffset),new rM(i,r,t,e,n)}},r?.preloadingStrategy?g6(r.preloadingStrategy).\u0275providers:[],{provide:RT,multi:!0,useFactory:y6},r?.initialNavigation?C6(r):[],[{provide:lM,useFactory:sM},{provide:NT,multi:!0,useExisting:lM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:qo,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(q(uM,8))},t.\u0275mod=or({type:t}),t.\u0275inj=Un({imports:[ov]}),t})();function D6(t){if(ec&&t)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function C6(t){return["disabled"===t.initialNavigation?xi(3,[{provide:wd,multi:!0,useFactory:()=>{const e=de(tn);return()=>{e.setUpLocationChangeListener()}}},{provide:yv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?xi(2,[{provide:yv,useValue:0},{provide:wd,multi:!0,deps:[lr],useFactory:e=>{const n=e.get(v3,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(tn),s=e.get(oM);(function l6(t,e){t.events.pipe(Xr(n=>n instanceof Ti||n instanceof hh||n instanceof Xy||n instanceof fh),le(n=>n instanceof Ti||n instanceof fh?Sn.COMPLETE:n instanceof hh&&(0===n.code||1===n.code)?Sn.REDIRECTING:Sn.FAILED),Xr(n=>n!==Sn.REDIRECTING),Ci(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Eh).afterPreactivation=()=>(r(!0),s.closed?$(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const lM=new B(ec?"Router Initializer":"");let I6=(()=>{var t;class e{constructor(){this.isMobile=function(){let t=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t;var e}(),this.menu=!this.isMobile}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=jn({type:t,selectors:[["app-home"]],decls:0,vars:0,template:function(r,i){},styles:[".a[_ngcontent-%COMP%]{height:70px;background-color:#6495ed}.a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:35px;font-weight:700;margin:10px;color:#fff}"]}),e})(),S6=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=jn({type:t,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(pi(0,"div",0),M(1,"div",1)(2,"div",2),pi(3,"img",3),M(4,"span",4)(5,"i",5),K(6,"edit"),F()(),M(7,"div",6)(8,"div",7),K(9,"V.V.S.K Chaitanya"),F(),M(10,"div",8),K(11,"Software Engineer"),F()()()(),M(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),K(16,"menu_book"),F(),M(17,"span"),K(18,"Courses"),F()(),M(19,"div",12)(20,"i",5),K(21,"assignment"),F(),M(22,"span"),K(23,"Assessments"),F()(),M(24,"div",13)(25,"i",5),K(26,"notifications"),F(),M(27,"span"),K(28,"Notifications"),F()(),M(29,"div",14)(30,"i",5),K(31,"person"),F(),M(32,"span"),K(33,"Update Profile"),F()(),M(34,"div",15)(35,"i",5),K(36,"logout"),F(),M(37,"span"),K(38,"Logout"),F()()()())},dependencies:[Ju],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})(),T6=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=jn({type:t,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&pi(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})();function dM(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function S(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){dM(s,r,i,o,a,"next",u)}function a(u){dM(s,r,i,o,a,"throw",u)}o(void 0)})}}const hM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},fM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new N6;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ih=function(t){return function(t){const e=hM(t);return fM.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Sh=()=>{try{return function P6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return fM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},gM=()=>{var t;return null===(t=Sh())||void 0===t?void 0:t.config};class mM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function yM(){try{return"object"==typeof indexedDB}catch{return!1}}function vM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xh.prototype.create)}}class xh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function z6(t,e){return t.replace(q6,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ai(i,`${this.serviceName}: ${o} (${i}).`,r)}}const q6=/\{\$([^}]+)}/g;function Mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(wM(s)&&wM(o)){if(!Mh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wM(t){return null!==t&&"object"==typeof t}const Q6=1e3,Y6=2,X6=144e5,Z6=.5;function DM(t,e=Q6,n=Y6){const r=e*Math.pow(n,t),i=Math.round(Z6*r*(Math.random()-.5)*2);return Math.min(X6,r+i)}function Mi(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _s="[DEFAULT]";class eq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function nq(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return S(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===_s?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Cv=[];var ve=(()=>{return(t=ve||(ve={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ve;var t})();const CM={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},iq=ve.INFO,sq={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},oq=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=sq[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ev{constructor(e){this.name=e,this._logLevel=iq,this._logHandler=oq,this._userLogHandler=null,Cv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?CM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const aq=(t,e)=>e.some(n=>t instanceof n);let EM,bM;const IM=new WeakMap,bv=new WeakMap,SM=new WeakMap,Iv=new WeakMap,Sv=new WeakMap;let Tv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return bv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||SM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function pq(t){return"function"==typeof t?function fq(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cq(){return bM||(bM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(xv(this),e),Ni(IM.get(this))}:function(...e){return Ni(t.apply(xv(this),e))}:function(e,...n){const r=t.call(xv(this),e,...n);return SM.set(r,e.sort?e.sort():[e]),Ni(r)}}(t):(t instanceof IDBTransaction&&function dq(t){if(bv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bv.set(t,e)}(t),aq(t,function uq(){return EM||(EM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Tv):t)}function Ni(t){if(t instanceof IDBRequest)return function lq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IM.set(n,t)}).catch(()=>{}),Sv.set(e,t),e}(t);if(Iv.has(t))return Iv.get(t);const e=pq(t);return e!==t&&(Iv.set(t,e),Sv.set(e,t)),e}const xv=t=>Sv.get(t),mq=["get","getKey","getAll","getAllKeys","count"],yq=["put","add","delete","clear"],Av=new Map;function TM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Av.get(e))return Av.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mq.includes(n))return;const s=function(){var o=S(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Av.set(e,s),s}!function hq(t){Tv=t(Tv)}(t=>({...t,get:(e,n,r)=>TM(e,n)||t.get(e,n,r),has:(e,n)=>!!TM(e,n)||t.has(e,n)}));class vq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function _q(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Mv="@firebase/app",ws=new Ev("@firebase/app"),Nh="[DEFAULT]",zq={[Mv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ds=new Map,Rh=new Map;function qq(t,e){try{t.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ri(t){const e=t.name;if(Rh.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;Rh.set(e,t);for(const n of Ds.values())qq(n,t);return!0}function Ko(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ei=new xh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}function AM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Nh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=gM()),!n)throw ei.create("no-options");const s=Ds.get(i);if(s){if(Mh(n,s.options)&&Mh(r,s.config))return s;throw ei.create("duplicate-app",{appName:i})}const o=new rq(i);for(const u of Rh.values())o.addComponent(u);const a=new Kq(n,r,o);return Ds.set(i,a),a}function MM(t=Nh){const e=Ds.get(t);if(!e&&t===Nh&&gM())return AM();if(!e)throw ei.create("no-app",{appName:t});return e}function Dr(t,e,n){var r;let i=null!==(r=zq[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ws.warn(a.join(" "))}Ri(new Jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Yq="firebase-heartbeat-database",Xq=1,tc="firebase-heartbeat-store";let Rv=null;function NM(){return Rv||(Rv=function gq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ni(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ni(o.result),u.oldVersion,u.newVersion,Ni(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Yq,Xq,{upgrade:(t,e)=>{0===e&&t.createObjectStore(tc)}}).catch(t=>{throw ei.create("idb-open",{originalErrorMessage:t.message})})),Rv}function Ov(){return(Ov=S(function*(t){try{return yield(yield NM()).transaction(tc).objectStore(tc).get(OM(t))}catch(e){if(e instanceof Ai)ws.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e?.message});ws.warn(n.message)}}})).apply(this,arguments)}function RM(t,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=S(function*(t,e){try{const r=(yield NM()).transaction(tc,"readwrite");yield r.objectStore(tc).put(e,OM(t)),yield r.done}catch(n){if(n instanceof Ai)ws.warn(n.message);else{const r=ei.create("idb-set",{originalErrorMessage:n?.message});ws.warn(r.message)}}})).apply(this,arguments)}function OM(t){return`${t.name}!${t.options.appId}`}class t8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return S(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return S(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=PM(),{heartbeatsToSend:r,unsentEntries:i}=function n8(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ih(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function PM(){return(new Date).toISOString().substring(0,10)}class r8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(function*(){return!!yM()&&vM().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return S(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Zq(t){return Ov.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return S(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return RM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return S(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return RM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function kM(t){return Ih(JSON.stringify({version:2,heartbeats:t})).length}!function i8(t){Ri(new Jr("platform-logger",e=>new vq(e),"PRIVATE")),Ri(new Jr("heartbeat",e=>new t8(e),"PRIVATE")),Dr(Mv,"0.9.13",t),Dr(Mv,"0.9.13","esm2017"),Dr("fire-js","")}(""),Dr("firebase","9.23.0","app");const a8=(t,e)=>e.some(n=>t instanceof n);let FM,LM;const VM=new WeakMap,kv=new WeakMap,BM=new WeakMap,Fv=new WeakMap,Lv=new WeakMap;let Vv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return kv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||BM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function p8(t){return"function"==typeof t?function f8(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function c8(){return LM||(LM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Bv(this),e),Oi(VM.get(this))}:function(...e){return Oi(t.apply(Bv(this),e))}:function(e,...n){const r=t.call(Bv(this),e,...n);return BM.set(r,e.sort?e.sort():[e]),Oi(r)}}(t):(t instanceof IDBTransaction&&function d8(t){if(kv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kv.set(t,e)}(t),a8(t,function u8(){return FM||(FM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Vv):t)}function Oi(t){if(t instanceof IDBRequest)return function l8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VM.set(n,t)}).catch(()=>{}),Lv.set(e,t),e}(t);if(Fv.has(t))return Fv.get(t);const e=p8(t);return e!==t&&(Fv.set(t,e),Lv.set(e,t)),e}const Bv=t=>Lv.get(t),m8=["get","getKey","getAll","getAllKeys","count"],y8=["put","add","delete","clear"],Uv=new Map;function UM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Uv.get(e))return Uv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=y8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!m8.includes(n))return;const s=function(){var o=S(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Uv.set(e,s),s}!function h8(t){Vv=t(Vv)}(t=>({...t,get:(e,n,r)=>UM(e,n)||t.get(e,n,r),has:(e,n)=>!!UM(e,n)||t.has(e,n)}));const jM="@firebase/installations",jv="0.6.4",$M=1e4,HM=`w:${jv}`,GM="FIS_v2",v8="https://firebaseinstallations.googleapis.com/v1",_8=36e5,ti=new xh("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zM(t){return t instanceof Ai&&t.code.includes("request-failed")}function $v({projectId:t}){return`${v8}/projects/${t}/installations`}function qM(t){return{token:t.token,requestStatus:2,expiresIn:E8(t.expiresIn),creationTime:Date.now()}}function Hv(t,e){return Gv.apply(this,arguments)}function Gv(){return(Gv=S(function*(t,e){const r=(yield e.json()).error;return ti.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function WM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zv(t){return qv.apply(this,arguments)}function qv(){return(qv=S(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function E8(t){return Number(t.replace("s","000"))}function Wv(){return(Wv=S(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$v(t),i=WM(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:GM,appId:t.appId,sdkVersion:HM})},u=yield zv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:qM(c.authToken)}}throw yield Hv("Create Installation",u)})).apply(this,arguments)}function QM(t){return new Promise(e=>{setTimeout(e,t)})}const T8=/^[cdef][\w-]{21}$/,Kv="";function x8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function A8(t){return function S8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return T8.test(n)?n:Kv}catch{return Kv}}function Qo(t){return`${t.appName}!${t.appId}`}const Yo=new Map;function YM(t,e){const n=Qo(t);XM(n,e),function R8(t,e){const n=function ZM(){return!Cs&&"BroadcastChannel"in self&&(Cs=new BroadcastChannel("[Firebase] FID Change"),Cs.onmessage=t=>{XM(t.data.key,t.data.fid)}),Cs}();n&&n.postMessage({key:t,fid:e}),function JM(){0===Yo.size&&Cs&&(Cs.close(),Cs=null)}()}(n,e)}function XM(t,e){const n=Yo.get(t);if(n)for(const r of n)r(e)}let Cs=null;const O8="firebase-installations-database",P8=1,Es="firebase-installations-store";let Qv=null;function Yv(){return Qv||(Qv=function g8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Oi(o.result),u.oldVersion,u.newVersion,Oi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(O8,P8,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Es)}})),Qv}function Oh(t,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=S(function*(t,e){const n=Qo(t),i=(yield Yv()).transaction(Es,"readwrite"),s=i.objectStore(Es),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&YM(t,e.fid),e})).apply(this,arguments)}function Zv(t){return Jv.apply(this,arguments)}function Jv(){return(Jv=S(function*(t){const e=Qo(t),r=(yield Yv()).transaction(Es,"readwrite");yield r.objectStore(Es).delete(e),yield r.done})).apply(this,arguments)}function nc(t,e){return e_.apply(this,arguments)}function e_(){return(e_=S(function*(t,e){const n=Qo(t),i=(yield Yv()).transaction(Es,"readwrite"),s=i.objectStore(Es),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&YM(t,a.fid),a})).apply(this,arguments)}function t_(t){return n_.apply(this,arguments)}function n_(){return n_=S(function*(t){let e;const n=yield nc(t.appConfig,r=>{const i=function k8(t){return tN(t||{fid:x8(),registrationStatus:0})}(r),s=function F8(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ti.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function L8(t,e){return r_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:V8(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Kv?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),n_.apply(this,arguments)}function r_(){return r_=S(function*(t,e){try{const n=yield function I8(t,e){return Wv.apply(this,arguments)}(t,e);return Oh(t.appConfig,n)}catch(n){throw zM(n)&&409===n.customData.serverCode?yield Zv(t.appConfig):yield Oh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),r_.apply(this,arguments)}function V8(t){return i_.apply(this,arguments)}function i_(){return(i_=S(function*(t){let e=yield eN(t.appConfig);for(;1===e.registrationStatus;)yield QM(100),e=yield eN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield t_(t);return r||n}return e})).apply(this,arguments)}function eN(t){return nc(t,e=>{if(!e)throw ti.create("installation-not-found");return tN(e)})}function tN(t){return function B8(t){return 1===t.registrationStatus&&t.registrationTime+$M<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function s_(){return(s_=S(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function j8(t,{fid:e}){return`${$v(t)}/${e}/authTokens:generate`}(t,n),i=function KM(t,{refreshToken:e}){const n=WM(t);return n.append("Authorization",function b8(t){return`${GM} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:HM,appId:t.appId}})},u=yield zv(()=>fetch(r,a));if(u.ok)return qM(yield u.json());throw yield Hv("Generate Auth Token",u)})).apply(this,arguments)}function o_(t){return a_.apply(this,arguments)}function a_(){return a_=S(function*(t,e=!1){let n;const r=yield nc(t.appConfig,s=>{if(!rN(s))throw ti.create("not-registered");const o=s.authToken;if(!e&&function G8(t){return 2===t.requestStatus&&!function z8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_8}(t)}(o))return s;if(1===o.requestStatus)return n=function $8(t,e){return u_.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ti.create("app-offline");const a=function q8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function H8(t,e){return c_.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),a_.apply(this,arguments)}function u_(){return(u_=S(function*(t,e){let n=yield nN(t.appConfig);for(;1===n.authToken.requestStatus;)yield QM(100),n=yield nN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?o_(t,e):r})).apply(this,arguments)}function nN(t){return nc(t,e=>{if(!rN(e))throw ti.create("not-registered");return function W8(t){return 1===t.requestStatus&&t.requestTime+$M<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function c_(){return c_=S(function*(t,e){try{const n=yield function U8(t,e){return s_.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Oh(t.appConfig,r),n}catch(n){if(!zM(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Oh(t.appConfig,r)}else yield Zv(t.appConfig);throw n}}),c_.apply(this,arguments)}function rN(t){return void 0!==t&&2===t.registrationStatus}function l_(){return(l_=S(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield t_(e);return r?r.catch(console.error):o_(e).catch(console.error),n.fid})).apply(this,arguments)}function d_(){return d_=S(function*(t,e=!1){const n=t;return yield function Y8(t){return h_.apply(this,arguments)}(n),(yield o_(n,e)).token}),d_.apply(this,arguments)}function h_(){return(h_=S(function*(t){const{registrationPromise:e}=yield t_(t);e&&(yield e)})).apply(this,arguments)}function g_(t){return ti.create("missing-app-config-values",{valueName:t})}const iN="installations",t7=t=>{const e=t.getProvider("app").getImmediate(),n=function J8(t){if(!t||!t.options)throw g_("App Configuration");if(!t.name)throw g_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw g_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ko(e,"heartbeat"),_delete:()=>Promise.resolve()}},n7=t=>{const n=Ko(t.getProvider("app").getImmediate(),iN).getImmediate();return{getId:()=>function K8(t){return l_.apply(this,arguments)}(n),getToken:i=>function Q8(t){return d_.apply(this,arguments)}(n,i)}};(function r7(){Ri(new Jr(iN,t7,"PUBLIC")),Ri(new Jr("installations-internal",n7,"PRIVATE"))})(),Dr(jM,jv),Dr(jM,jv,"esm2017");const Ph="analytics",i7="firebase_id",s7="origin",o7=6e4,a7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",m_="https://www.googletagmanager.com/gtag/js",Dt=new Ev("@firebase/analytics"),nn=new xh("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function c7(t){if(!t.startsWith(m_)){const e=nn.create("invalid-gtag-resource",{gtagURL:t});return Dt.warn(e.message),""}return t}function sN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function y_(){return(y_=S(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield sN(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Dt.error(a)}t("config",i,s)})).apply(this,arguments)}function v_(){return(v_=S(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield sN(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Dt.error(s)}})).apply(this,arguments)}const v7=30,oN=new class w7{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function D7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function __(){return(__=S(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:D7(r)},s=a7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function w_(){return(w_=S(function*(t,e=oN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw nn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new S7;return setTimeout(S(function*(){a.abort()}),void 0!==n?n:o7),aN({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function aN(t,e,n){return D_.apply(this,arguments)}function D_(){return D_=S(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=oN){var s;const{appId:o,measurementId:a}=t;try{yield function b7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function C7(t){return __.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function I7(t){if(!(t instanceof Ai&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?DM(n,i.intervalMillis,v7):DM(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Dt.debug(`Calling attemptFetch again in ${l} millis`),aN(t,d,r,i)}}),D_.apply(this,arguments)}class S7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let C_,A_;function E_(){return(E_=S(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function M_(){return(M_=S(function*(){if(!yM())return Dt.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield vM()}catch(t){return Dt.warn(nn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function N_(){return N_=S(function*(t,e,n,r,i,s,o){var a;const u=function E7(t){return w_.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Dt.error(f)),e.push(u);const c=function O7(){return M_.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function y7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(m_)&&n.src.includes(t))return n;return null})(s)||function d7(t,e){const n=function l7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:c7}),r=document.createElement("script"),i=`${m_}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),A_&&(i("consent","default",A_),function uN(t){A_=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[s7]="firebase",h.update=!0,null!=d&&(h[i7]=d),i("config",l.measurementId,h),C_&&(i("set",C_),function cN(t){C_=t}(void 0)),l.measurementId}),N_.apply(this,arguments)}class k7{constructor(e){this.app=e}_delete(){return delete Cr[this.app.options.appId],Promise.resolve()}}let Cr={},lN=[];const dN={};let fN,Er,kh="dataLayer",hN="gtag",R_=!1;function L7(t,e,n){!function F7(){const t=[];if(function $6(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),function H6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:e});Dt.warn(n.message)}}();const r=t.options.appId;if(!r)throw nn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw nn.create("no-api-key");Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cr[r])throw nn.create("already-exists",{id:r});if(!R_){!function h7(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(kh);const{wrappedGtag:s,gtagCore:o}=function m7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function g7(t,e,n,r){function s(){return s=S(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function p7(t,e,n,r,i){return v_.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function f7(t,e,n,r,i,s){return y_.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Dt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Cr,lN,dN,kh,hN);Er=s,fN=o,R_=!0}return Cr[r]=function P7(t,e,n,r,i,s,o){return N_.apply(this,arguments)}(t,lN,dN,e,fN,kh,n),new k7(t)}function pN(t,e,n,r){t=Mi(t),function T7(t,e,n,r,i){return E_.apply(this,arguments)}(Er,Cr[t.app.options.appId],e,n,r).catch(i=>Dt.error(i))}const gN="@firebase/analytics";!function U7(){Ri(new Jr(Ph,(e,{options:n})=>L7(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ri(new Jr("analytics-internal",function t(e){try{const n=e.getProvider(Ph).getImmediate();return{logEvent:(r,i,s)=>pN(n,r,i,s)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Dr(gN,"0.10.0"),Dr(gN,"0.10.0","esm2017")}();var N,j7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jn={},k_=k_||{},Z=j7||self;function Fh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function rc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var F_="closure_uid_"+(1e9*Math.random()>>>0),H7=0;function G7(t,e,n){return t.call.apply(t.bind,arguments)}function z7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return(Ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?G7:z7).apply(null,arguments)}function Lh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ct(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Pi(){this.s=this.s,this.o=this.o}Pi.prototype.s=!1,Pi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function $7(t){Object.prototype.hasOwnProperty.call(t,F_)&&t[F_]||(t[F_]=++H7)}(this)},Pi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function L_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function vN(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Fh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var W7=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",()=>{},e),Z.removeEventListener("test",()=>{},e)}catch{}return t}();function ic(t){return/^[\s\xa0]*$/.test(t)}function Vh(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function br(t){return-1!=Vh().indexOf(t)}function V_(t){return V_[" "](t),t}V_[" "]=function(){};var U_,t,Q7=br("Opera"),Xo=br("Trident")||br("MSIE"),_N=br("Edge"),B_=_N||Xo,wN=br("Gecko")&&!(-1!=Vh().toLowerCase().indexOf("webkit")&&!br("Edge"))&&!(br("Trident")||br("MSIE"))&&!br("Edge"),Y7=-1!=Vh().toLowerCase().indexOf("webkit")&&!br("Edge");function DN(){var t=Z.document;return t?t.documentMode:void 0}e:{var j_="",$_=(t=Vh(),wN?/rv:([^\);]+)(\)|;)/.exec(t):_N?/Edge\/([\d\.]+)/.exec(t):Xo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Y7?/WebKit\/(\S+)/.exec(t):Q7?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if($_&&(j_=$_?$_[1]:""),Xo){var H_=DN();if(null!=H_&&H_>parseFloat(j_)){U_=String(H_);break e}}U_=j_}var X7=Z.document&&Xo&&(DN()||parseInt(U_,10))||void 0;function sc(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wN){e:{try{V_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Z7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&sc.$.h.call(this)}}Ct(sc,Gt);var Z7={2:"touch",3:"pen",4:"mouse"};sc.prototype.h=function(){sc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oc="closure_listenable_"+(1e6*Math.random()|0),J7=0;function eW(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++J7,this.fa=this.ia=!1}function Bh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function z_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function EN(t){const e={};for(const n in t)e[n]=t[n];return e}const bN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IN(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<bN.length;s++)n=bN[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Uh(t){this.src=t,this.g={},this.h=0}function q_(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=yN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Bh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function W_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Uh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=W_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new eW(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var K_="closure_lm_"+(1e6*Math.random()|0),Q_={};function SN(t,e,n,r,i){if(r&&r.once)return xN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)SN(t,e[s],n,r,i);return null}return n=J_(n),t&&t[oc]?t.O(e,n,rc(r)?!!r.capture:!!r,i):TN(t,e,n,!1,r,i)}function TN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=rc(i)?!!i.capture:!!i,a=X_(t);if(a||(t[K_]=a=new Uh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function nW(){const e=rW;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)W7||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(MN(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function xN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xN(t,e[s],n,r,i);return null}return n=J_(n),t&&t[oc]?t.P(e,n,rc(r)?!!r.capture:!!r,i):TN(t,e,n,!0,r,i)}function AN(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)AN(t,e[s],n,r,i);else r=rc(r)?!!r.capture:!!r,n=J_(n),t&&t[oc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=W_(s=t.g[e],n,r,i))&&(Bh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=X_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=W_(e,n,r,i)),(n=-1<t?e[t]:null)&&Y_(n))}function Y_(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[oc])q_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(MN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=X_(e))?(q_(n,t),0==n.h&&(n.src=null,e[K_]=null)):Bh(t)}}}function MN(t){return t in Q_?Q_[t]:Q_[t]="on"+t}function rW(t,e){if(t.fa)t=!0;else{e=new sc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Y_(t),t=n.call(r,e)}return t}function X_(t){return(t=t[K_])instanceof Uh?t:null}var Z_="__closure_events_fn_"+(1e9*Math.random()>>>0);function J_(t){return"function"==typeof t?t:(t[Z_]||(t[Z_]=function(e){return t.handleEvent(e)}),t[Z_])}function Et(){Pi.call(this),this.i=new Uh(this),this.S=this,this.J=null}function Nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;IN(e=new Gt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=jh(o,r,!0,e)&&i}if(i=jh(o=e.g=t,r,!0,e)&&i,i=jh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=jh(o=e.g=n[s],r,!1,e)&&i}function jh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&q_(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ct(Et,Pi),Et.prototype[oc]=!0,Et.prototype.removeEventListener=function(t,e,n,r){AN(this,t,e,n,r)},Et.prototype.N=function(){if(Et.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bh(n[r]);delete t.g[e],t.h--}}this.J=null},Et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Et.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ew=Z.JSON.stringify;function sW(){var t=tw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var NN=new class iW{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new aW,t=>t.reset());class aW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function uW(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function cW(t){Z.setTimeout(()=>{throw t},0)}let ac,uc=!1,tw=new class oW{constructor(){this.h=this.g=null}add(e,n){const r=NN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},RN=()=>{const t=Z.Promise.resolve(void 0);ac=()=>{t.then(lW)}};var lW=()=>{for(var t;t=sW();){try{t.h.call(t.g)}catch(n){cW(n)}var e=NN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}uc=!1};function $h(t,e){Et.call(this),this.h=t||1,this.g=e||Z,this.j=Ht(this.qb,this),this.l=Date.now()}function nw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function rw(t,e,n){if("function"==typeof t)n&&(t=Ht(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ht(t.handleEvent,t)}return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function ON(t){t.g=rw(()=>{t.g=null,t.i&&(t.i=!1,ON(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ct($h,Et),(N=$h.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(nw(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){$h.$.N.call(this),nw(this),delete this.g};class dW extends Pi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ON(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cc(t){Pi.call(this),this.h=t,this.g={}}Ct(cc,Pi);var PN=[];function kN(t,e,n,r){Array.isArray(n)||(n&&(PN[0]=n.toString()),n=PN);for(var i=0;i<n.length;i++){var s=SN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function FN(t){z_(t.g,function(e,n){this.g.hasOwnProperty(n)&&Y_(e)},t),t.g={}}function Hh(){this.g=!0}function Zo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ew(n)}catch{return e}}(t,n)+(r?" "+r:"")})}cc.prototype.N=function(){cc.$.N.call(this),FN(this)},cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hh.prototype.Ea=function(){this.g=!1},Hh.prototype.info=function(){};var bs={},LN=null;function Gh(){return LN=LN||new Et}function VN(t){Gt.call(this,bs.Ta,t)}function lc(t){const e=Gh();Nt(e,new VN(e))}function BN(t,e){Gt.call(this,bs.STAT_EVENT,t),this.stat=e}function rn(t){const e=Gh();Nt(e,new BN(e,t))}function UN(t,e){Gt.call(this,bs.Ua,t),this.size=e}function dc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}bs.Ta="serverreachability",Ct(VN,Gt),bs.STAT_EVENT="statevent",Ct(BN,Gt),bs.Ua="timingevent",Ct(UN,Gt);var zh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iw(){}function HN(){}iw.prototype.h=null;var aw,hc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sw(){Gt.call(this,"d")}function ow(){Gt.call(this,"c")}function qh(){}function fc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new cc(this),this.P=mW,this.V=new $h(t=B_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new GN}function GN(){this.i=null,this.g="",this.h=!1}Ct(sw,Gt),Ct(ow,Gt),Ct(qh,iw),qh.prototype.g=function(){return new XMLHttpRequest},qh.prototype.i=function(){return{}},aw=new qh;var mW=45e3,uw={},Wh={};function cw(t,e,n){t.L=1,t.v=Xh(ni(e)),t.s=n,t.S=!0,zN(t,null)}function zN(t,e){t.G=Date.now(),pc(t),t.A=ni(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),tR(n.i,"t",r),t.C=0,n=t.l.J,t.h=new GN,t.g=IR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new dW(Ht(t.Pa,t,t.g),t.O)),kN(t.U,t.g,"readystatechange",t.nb),e=t.I?EN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),lc(),function hW(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function qN(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function WN(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=yW(t,n),i==Wh){4==e&&(t.o=4,rn(14),r=!1),Zo(t.j,t.m,null,"[Incomplete Response]");break}if(i==uw){t.o=4,rn(15),Zo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Zo(t.j,t.m,i,null),lw(t,i)}qN(t)&&i!=Wh&&i!=uw&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yw(e),e.M=!0,rn(11))):(Zo(t.j,t.m,n,"[Invalid Chunked Response]"),Is(t),gc(t))}function yW(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Wh:(n=Number(e.substring(n,r)),isNaN(n)?uw:(r+=1)+n>e.length?Wh:(e=e.slice(r,r+n),t.C=r+n,e))}function pc(t){t.Y=Date.now()+t.P,KN(t,t.P)}function KN(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=dc(Ht(t.lb,t),e)}function Kh(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}function gc(t){0==t.l.H||t.J||DR(t.l,t)}function Is(t){Kh(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,nw(t.V),FN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function lw(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||dw(n.i,t)))if(!t.K&&dw(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;rf(n),tf(n)}mw(n),rn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=dc(Ht(n.ib,n),6e3));if(1>=iR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ts(n,11)}else if((t.K||n.g==t)&&rf(n),!ic(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(hw(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Le(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=bR(r,r.J?r.pa:null,r.Y),o.K){sR(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Kh(a),pc(a)),r.g=o}else _R(r);0<n.j.length&&nf(n)}else"stop"!=c[0]&&"close"!=c[0]||Ts(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ts(n,7):gw(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}lc()}catch{}}function QN(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function _W(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Fh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function vW(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Fh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=fc.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Ir(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Ir(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||B_||this.g&&(this.h.h||this.g.ja()||fR(this.g)))){this.J||4!=l||7==e||lc(),Kh(this);var n=this.g.da();this.ca=n;t:if(qN(this)){var r=fR(this.g);t="";var i=r.length,s=4==Ir(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Is(this),gc(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function fW(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ic(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,rn(12),Is(this),gc(this);break e}Zo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lw(this,n)}this.S?(WN(this,l,o),B_&&this.i&&3==l&&(kN(this.U,this.V,"tick",this.mb),this.V.start())):(Zo(this.j,this.m,o,null),lw(this,o)),4==l&&Is(this),this.i&&!this.J&&(4==l?DR(this.l,this):(this.i=!1,pc(this)))}else(function LW(t){const e={};t=(t.g&&2<=Ir(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(ic(t[r]))continue;var n=uW(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function tW(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,rn(12)):(this.o=0,rn(13)),Is(this),gc(this)}}}catch{}},N.mb=function(){if(this.g){var t=Ir(this.g),e=this.g.ja();this.C<e.length&&(Kh(this),WN(this,t,e),this.i&&4!=t&&pc(this))}},N.cancel=function(){this.J=!0,Is(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function pW(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(lc(),rn(17)),Is(this),this.o=2,gc(this)):KN(this,this.Y-t)};var YN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ss(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ss){this.h=t.h,Qh(this,t.j),this.s=t.s,this.g=t.g,Yh(this,t.m),this.l=t.l;var e=t.i,n=new vc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),XN(this,n),this.o=t.o}else t&&(e=String(t).match(YN))?(this.h=!1,Qh(this,e[1]||"",!0),this.s=mc(e[2]||""),this.g=mc(e[3]||"",!0),Yh(this,e[4]),this.l=mc(e[5]||"",!0),XN(this,e[6]||"",!0),this.o=mc(e[7]||"")):(this.h=!1,this.i=new vc(null,this.h))}function ni(t){return new Ss(t)}function Qh(t,e,n){t.j=n?mc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function XN(t,e,n){e instanceof vc?(t.i=e,function SW(t,e){e&&!t.j&&(ki(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(JN(this,r),tR(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=yc(e,bW)),t.i=new vc(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function Xh(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function mc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,DW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function DW(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ss.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yc(e,ZN,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(yc(e,ZN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(yc(n,"/"==n.charAt(0)?EW:CW,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",yc(n,IW)),t.join("")};var ZN=/[#\/\?@]/g,CW=/[#\?:]/g,EW=/[#\?]/g,bW=/[#\?@]/g,IW=/#/g;function vc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ki(t){t.g||(t.g=new Map,t.h=0,t.i&&function wW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function JN(t,e){ki(t),e=Jo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function eR(t,e){return ki(t),e=Jo(t,e),t.g.has(e)}function tR(t,e,n){JN(t,e),0<n.length&&(t.i=null,t.g.set(Jo(t,e),L_(n)),t.h+=n.length)}function Jo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function nR(t){this.l=t||xW,t=Z.PerformanceNavigationTiming?0<(t=Z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=vc.prototype).add=function(t,e){ki(this),this.i=null,t=Jo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){ki(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){ki(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){ki(this);let e=[];if("string"==typeof t)eR(this,t)&&(e=e.concat(this.g.get(Jo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return ki(this),this.i=null,eR(this,t=Jo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var xW=10;function rR(t){return!!t.h||!!t.g&&t.g.size>=t.j}function iR(t){return t.h?1:t.g?t.g.size:0}function dw(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function hw(t,e){t.g?t.g.add(e):t.h=e}function sR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function oR(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return L_(t.i)}nR.prototype.cancel=function(){if(this.i=oR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var AW=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function MW(){this.g=new AW}function NW(t,e,n){const r=n||"";try{QN(t,function(i,s){let o=i;rc(i)&&(o=ew(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function _c(t){this.l=t.fc||null,this.j=t.ob||!1}function Jh(t,e){Et.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=fw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ct(_c,iw),_c.prototype.g=function(){return new Jh(this.l,this.j)},_c.prototype.i=function(t){return function(){return t}}({}),Ct(Jh,Et);var fw=0;function aR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function wc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Dc(t)}function Dc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Jh.prototype).open=function(t,e){if(this.readyState!=fw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Dc(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wc(this)),this.readyState=fw},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Dc(this)),this.g&&(this.readyState=3,Dc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?wc(this):Dc(this),3==this.readyState&&aR(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,wc(this))},N.Ya=function(t){this.g&&(this.response=t,wc(this))},N.ka=function(){this.g&&wc(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Jh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var OW=Z.JSON.parse;function Ke(t){Et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=uR,this.L=this.M=!1}Ct(Ke,Et);var uR="",PW=/^https?$/i,kW=["POST","PUT"];function cR(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lR(t),ef(t)}function lR(t){t.F||(t.F=!0,Nt(t,"complete"),Nt(t,"error"))}function dR(t){if(t.h&&typeof k_<"u"&&(!t.C[1]||4!=Ir(t)||2!=t.da()))if(t.v&&4==Ir(t))rw(t.La,0,t);else if(Nt(t,"readystatechange"),4==Ir(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(YN)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!PW.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var s=2<Ir(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",lR(t)}}finally{ef(t)}}}function ef(t,e){if(t.g){hR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function hR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function Ir(t){return t.g?t.g.readyState:0}function fR(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case uR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function pR(t){let e="";return z_(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function pw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pR(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function Cc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gR(t){this.Ga=0,this.j=[],this.l=new Hh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Cc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Cc("baseRetryDelayMs",5e3,t),this.hb=Cc("retryDelaySeedMs",1e4,t),this.eb=Cc("forwardChannelMaxRetries",2,t),this.xa=Cc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new nR(t&&t.concurrentRequestLimit),this.Ja=new MW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gw(t){if(mR(t),3==t.H){var e=t.W++,n=ni(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),Ec(t,n),(e=new fc(t,t.l,e)).L=2,e.v=Xh(ni(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Z.Image&&((new Image).src=e.v,n=!0),n||(e.g=IR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),pc(e)}ER(t)}function tf(t){t.g&&(yw(t),t.g.cancel(),t.g=null)}function mR(t){tf(t),t.u&&(Z.clearTimeout(t.u),t.u=null),rf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Z.clearTimeout(t.m),t.m=null)}function nf(t){if(!rR(t.i)&&!t.m){t.m=!0;var e=t.Na;ac||RN(),uc||(ac(),uc=!0),tw.add(e,t),t.C=0}}function yR(t,e){var n;n=e?e.m:t.W++;const r=ni(t.I);Le(r,"SID",t.K),Le(r,"RID",n),Le(r,"AID",t.V),Ec(t,r),t.o&&t.s&&pw(r,t.o,t.s),n=new fc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hw(t.i,n),cw(n,r,e)}function Ec(t,e){t.na&&z_(t.na,function(n,r){Le(e,r,n)}),t.h&&QN({},function(n,r){Le(e,r,n)})}function vR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{NW(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function _R(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ac||RN(),uc||(ac(),uc=!0),tw.add(e,t),t.A=0}}function mw(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=dc(Ht(t.Ma,t),CR(t,t.A)),t.A++,0))}function yw(t){null!=t.B&&(Z.clearTimeout(t.B),t.B=null)}function wR(t){t.g=new fc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ni(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),Ec(t,e),t.o&&t.s&&pw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Xh(ni(e)),n.s=null,n.S=!0,zN(n,t)}function rf(t){null!=t.v&&(Z.clearTimeout(t.v),t.v=null)}function DR(t,e){var n=null;if(t.g==e){rf(t),yw(t),t.g=null;var r=2}else{if(!dw(t.i,e))return;n=e.F,sR(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Nt(r=Gh(),new UN(r,n)),nf(t)}else _R(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function VW(t,e){return!(iR(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=dc(Ht(t.Na,t,e),CR(t,t.C)),t.C++,0)))}(t,e)||2==r&&mw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ts(t,5);break;case 4:Ts(t,10);break;case 3:Ts(t,6);break;default:Ts(t,2)}}function CR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ts(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new Ss("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Qh(n,"https"),Xh(n)),function RW(t,e){const n=new Hh;if(Z.Image){const r=new Image;r.onload=Lh(Zh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Lh(Zh,n,r,"TestLoadImage: error",!1,e),r.onabort=Lh(Zh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lh(Zh,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else rn(2);t.H=0,t.h&&t.h.za(e),ER(t),mR(t)}function ER(t){if(t.H=0,t.ma=[],t.h){const e=oR(t.i);(0!=e.length||0!=t.j.length)&&(vN(t.ma,e),vN(t.ma,t.j),t.i.i.length=0,L_(t.j),t.j.length=0),t.h.ya()}}function bR(t,e,n){var r=n instanceof Ss?ni(n):new Ss(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Yh(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ss(null);r&&Qh(s,r),e&&(s.g=e),i&&Yh(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Le(r,n,e),Le(r,"VER",t.ra),Ec(t,r),r}function IR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ke(n&&t.Ha&&!t.va?new _c({ob:!0}):t.va)).Oa(t.J),e}function SR(){}function sf(){if(Xo&&!(10<=Number(X7)))throw Error("Environmental error: no available transport.")}function Tn(t,e){Et.call(this),this.g=new gR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ic(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ic(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ea(this)}function TR(t){sw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function xR(){ow.call(this),this.status=1}function ea(t){this.g=t}function er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vw(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ie(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=Ke.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():aw.g(),this.C=function $N(t){return t.h||(t.h=t.i())}(this.u?this.u:aw),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void cR(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Z.FormData&&t instanceof Z.FormData,!(0<=yN(kW,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hR(this),0<this.B&&((this.L=function FW(t){return Xo&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=rw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cR(this,s)}},N.ua=function(){typeof k_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),ef(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ef(this,!0)),Ke.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?dR(this):this.kb())},N.kb=function(){dR(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),OW(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=gR.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new fc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=EN(s),IN(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vR(this,i,e),Le(n=ni(this.I),"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),Ec(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(pR(s)))+"&"+e:this.o&&pw(n,this.o,s)),hw(this.i,i),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),i.aa=!0,cw(i,n,null)):cw(i,n,e),this.H=2}}else 3==this.H&&(t?yR(this,t):0==this.j.length||rR(this.i)||yR(this))},N.Ma=function(){if(this.u=null,wR(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=dc(Ht(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rn(10),tf(this),wR(this))},N.ib=function(){null!=this.v&&(this.v=null,tf(this),mw(this),rn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),rn(2)):(this.l.info("Failed to ping google.com"),rn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=SR.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},sf.prototype.g=function(t,e){return new Tn(t,e)},Ct(Tn,Et),Tn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bR(t,null,t.Y),nf(t)},Tn.prototype.close=function(){gw(this.g)},Tn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ew(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&nf(e)},Tn.prototype.N=function(){this.g.h=null,delete this.j,gw(this.g),delete this.g,Tn.$.N.call(this)},Ct(TR,sw),Ct(xR,ow),Ct(ea,SR),ea.prototype.Ba=function(){Nt(this.g,"a")},ea.prototype.Aa=function(t){Nt(this.g,new TR(t))},ea.prototype.za=function(t){Nt(this.g,new xR)},ea.prototype.ya=function(){Nt(this.g,"b")},Ct(er,function BW(){this.blockSize=-1}),er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},er.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)vw(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){vw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){vw(this,r),i=0;break}}this.h=i,this.i+=e},er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var UW={};function _w(t){return-128<=t&&128>t?function K7(t,e){var n=UW;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ie([0|e],0>e?-1:0)}):new Ie([0|t],0>t?-1:0)}function Sr(t){if(isNaN(t)||!isFinite(t))return ta;if(0>t)return Rt(Sr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ww;return new Ie(e,0)}var ww=4294967296,ta=_w(0),Dw=_w(1),MR=_w(16777216);function ri(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Bn(t){return-1==t.h}function Rt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ie(n,~t.h).add(Dw)}function af(t,e){return t.add(Rt(e))}function uf(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function bc(t,e){this.g=t,this.h=e}function cf(t,e){if(ri(e))throw Error("division by zero");if(ri(t))return new bc(ta,ta);if(Bn(t))return e=cf(Rt(t),e),new bc(Rt(e.g),Rt(e.h));if(Bn(e))return e=cf(t,Rt(e)),new bc(Rt(e.g),e.h);if(30<t.g.length){if(Bn(t)||Bn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Dw,r=e;0>=r.X(t);)n=NR(n),r=NR(r);var i=na(n,1),s=na(r,1);for(r=na(r,2),n=na(n,2);!ri(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=na(r,1),n=na(n,1)}return e=af(t,i.R(e)),new bc(i,e)}for(i=ta;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Sr(n)).R(e);Bn(o)||0<o.X(t);)o=(s=Sr(n-=r)).R(e);ri(s)&&(s=Dw),i=i.add(s),t=af(t,o)}return new bc(i,t)}function NR(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ie(n,t.h)}function na(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ie(i,t.h)}(N=Ie.prototype).ea=function(){if(Bn(this))return-Rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ww+r)*e,e*=ww}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ri(this))return"0";if(Bn(this))return"-"+Rt(this).toString(t);for(var e=Sr(Math.pow(t,6)),n=this,r="";;){var i=cf(n,e).g,s=((0<(n=af(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ri(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return Bn(t=af(this,t))?-1:ri(t)?0:1},N.abs=function(){return Bn(this)?Rt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ie(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(ri(this)||ri(t))return ta;if(Bn(this))return Bn(t)?Rt(this).R(Rt(t)):Rt(Rt(this).R(t));if(Bn(t))return Rt(this.R(Rt(t)));if(0>this.X(MR)&&0>t.X(MR))return Sr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,uf(n,2*r+2*i),n[2*r+2*i+1]+=s*u,uf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,uf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,uf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ie(n,0)},N.gb=function(t){return cf(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ie(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ie(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ie(n,this.h^t.h)},sf.prototype.createWebChannel=sf.prototype.g,Tn.prototype.send=Tn.prototype.u,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,zh.NO_ERROR=0,zh.TIMEOUT=8,zh.HTTP_ERROR=6,jN.COMPLETE="complete",HN.EventType=hc,hc.OPEN="a",hc.CLOSE="b",hc.ERROR="c",hc.MESSAGE="d",Et.prototype.listen=Et.prototype.O,Ke.prototype.listenOnce=Ke.prototype.P,Ke.prototype.getLastError=Ke.prototype.Sa,Ke.prototype.getLastErrorCode=Ke.prototype.Ia,Ke.prototype.getStatus=Ke.prototype.da,Ke.prototype.getResponseJson=Ke.prototype.Wa,Ke.prototype.getResponseText=Ke.prototype.ja,Ke.prototype.send=Ke.prototype.ha,Ke.prototype.setWithCredentials=Ke.prototype.Oa,er.prototype.digest=er.prototype.l,er.prototype.reset=er.prototype.reset,er.prototype.update=er.prototype.j,Ie.prototype.add=Ie.prototype.add,Ie.prototype.multiply=Ie.prototype.R,Ie.prototype.modulo=Ie.prototype.gb,Ie.prototype.compare=Ie.prototype.X,Ie.prototype.toNumber=Ie.prototype.ea,Ie.prototype.toString=Ie.prototype.toString,Ie.prototype.getBits=Ie.prototype.D,Ie.fromNumber=Sr,Ie.fromString=function AR(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Rt(AR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sr(Math.pow(e,8)),r=ta,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Sr(Math.pow(e,s)),r=r.R(s).add(Sr(o))):r=(r=r.R(n)).add(Sr(o))}return r};var jW=Jn.createWebChannelTransport=function(){return new sf},$W=Jn.getStatEventTarget=function(){return Gh()},Cw=Jn.ErrorCode=zh,HW=Jn.EventType=jN,GW=Jn.Event=bs,RR=Jn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zW=Jn.FetchXmlHttpFactory=_c,lf=Jn.WebChannel=HN,qW=Jn.XhrIo=Ke,WW=Jn.Md5=er,ra=Jn.Integer=Ie;const OR="@firebase/firestore";class bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");let ia="9.23.0";const Fi=new Ev("@firebase/firestore");function Ew(){return Fi.logLevel}function I(t,...e){if(Fi.logLevel<=ve.DEBUG){const n=e.map(bw);Fi.debug(`Firestore (${ia}): ${t}`,...n)}}function tt(t,...e){if(Fi.logLevel<=ve.ERROR){const n=e.map(bw);Fi.error(`Firestore (${ia}): ${t}`,...n)}}function tr(t,...e){if(Fi.logLevel<=ve.WARN){const n=e.map(bw);Fi.warn(`Firestore (${ia}): ${t}`,...n)}}function bw(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+t;throw tt(e),new Error(e)}function L(t,e){t||k()}function A(t,e){return t}const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class E extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class PR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class QW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YW{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new mt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(S(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new PR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new bt(e)}}class XW{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ZW{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new XW(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JW{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.T=n.token,new kR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class FR{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=eK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function X(t,e){return t<e?-1:t>e?1:0}function sa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new ze(0,0))}static max(){return new V(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ic{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ic.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ic?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends Ic{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new E(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const tK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends Ic{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return tK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new E(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new E(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new E(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(ge.fromString(e))}static fromName(e){return new x(ge.fromString(e).popFirst(5))}static empty(){return new x(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new ge(e.slice()))}}function BR(t){return new xn(t.readTime,t.key,-1)}class xn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xn(V.min(),x.empty(),-1)}static max(){return new xn(V.max(),x.empty(),-1)}}function Sw(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:X(t.largestBatchId,e.largestBatchId))}const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Li(t){return Tw.apply(this,arguments)}function Tw(){return Tw=S(function*(t){if(t.code!==_.FAILED_PRECONDITION||t.message!==UR)throw t;I("LocalStore","Unexpectedly lost primary lease")}),Tw.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,r)=>{n(e)})}static reject(e){return new y((n,r)=>{r(e)})}static waitFor(e){return new y((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=y.resolve(!1);for(const r of e)n=n.next(i=>i?y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new y((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new y((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Vi(t){return"IndexedDbTransactionError"===t.name}let An=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function xc(t){return null==t}function Ac(t){return 0===t&&1/t==-1/0}function QR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Oe{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}}class gf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=s??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1,Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XR(this.data.getIterator())}getIteratorFrom(e){return new XR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class XR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pn{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Ve(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ZR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ZR("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const TK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(L(!!t),"string"==typeof t){let e=0;const n=TK.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ii(t){return"string"==typeof t?yt.fromBase64String(t):yt.fromUint8Array(t)}function mf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yf(t){const e=t.mapValue.fields.__previous_value__;return mf(e)?yf(e):e}function Mc(t){const e=Ui(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}class xK{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ms{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ms("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ms&&e.projectId===this.projectId&&e.database===this.database}}const ji={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mf(t)?4:nO(t)?9007199254740991:10:k()}function xr(t,e){if(t===e)return!0;const n=$i(t);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mc(t).isEqual(Mc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ui(r.timestampValue),o=Ui(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ii(t.bytesValue).isEqual(ii(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Qe(r.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(r.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Qe(r.integerValue)===Qe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Qe(r.doubleValue),o=Qe(i.doubleValue);return s===o?Ac(s)===Ac(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(QR(s)!==QR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!xr(s[a],o[a])))return!1;return!0}(t,e);default:return k()}var i}function Nc(t,e){return void 0!==(t.values||[]).find(n=>xr(n,e))}function Hi(t,e){if(t===e)return 0;const n=$i(t),r=$i(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Qe(i.integerValue||i.doubleValue),a=Qe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return JR(t.timestampValue,e.timestampValue);case 4:return JR(Mc(t),Mc(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ii(i),a=ii(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=X(o[u],a[u]);if(0!==c)return c}return X(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=X(Qe(i.latitude),Qe(s.latitude));return 0!==o?o:X(Qe(i.longitude),Qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Hi(o[u],a[u]);if(c)return c}return X(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ji.mapValue&&s===ji.mapValue)return 0;if(i===ji.mapValue)return 1;if(s===ji.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=X(a[l],c[l]);if(0!==d)return d;const h=Hi(o[a[l]],u[c[l]]);if(0!==h)return h}return X(a.length,c.length)}(t.mapValue,e.mapValue);default:throw k()}}function JR(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);const n=Ui(t),r=Ui(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function aa(t){return Mw(t)}function Mw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ui(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ii(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Mw(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Mw(r.fields[a])}`;return s+"}"}(t.mapValue):k();var e}function Ns(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nw(t){return!!t&&"integerValue"in t}function Rc(t){return!!t&&"arrayValue"in t}function eO(t){return!!t&&"nullValue"in t}function tO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}function Oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nO(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Oc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pt(Oc(this.value))}}function sO(t){const e=[];return Bi(t.fields,(n,r)=>{const i=new nt([n]);if(wf(r)){const s=sO(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}class Be{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Be(e,0,V.min(),V.min(),V.min(),Pt.empty(),0)}static newFoundDocument(e,n,r,i){return new Be(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new Be(e,2,n,V.min(),V.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new Be(e,3,n,V.min(),V.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Be&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gi{constructor(e,n){this.position=e,this.inclusive=n}}function oO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Hi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function aO(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}class ua{constructor(e,n="asc"){this.field=e,this.dir=n}}function NK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class uO{}class he extends uO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new RK(e,n,r):"array-contains"===n?new kK(e,r):"in"===n?new pO(e,r):"not-in"===n?new FK(e,r):"array-contains-any"===n?new LK(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new OK(e,r):new PK(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Hi(n,this.value)):null!==n&&$i(this.value)===$i(n)&&this.matchesComparison(Hi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Se extends uO{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Se(e,n)}matches(e){return ca(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ca(t){return"and"===t.op}function Ow(t){return function cO(t){for(const e of t.filters)if(e instanceof Se)return!1;return!0}(t)&&ca(t)}function Pw(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+aa(t.value);if(Ow(t))return t.filters.map(e=>Pw(e)).join(",");{const e=t.filters.map(n=>Pw(n)).join(",");return`${t.op}(${e})`}}function lO(t,e){return t instanceof he?(n=t,(r=e)instanceof he&&n.op===r.op&&n.field.isEqual(r.field)&&xr(n.value,r.value)):t instanceof Se?function(n,r){return r instanceof Se&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&lO(s,r.filters[o]),!0)}(t,e):void k();var n,r}function hO(t){return t instanceof he?`${(e=t).field.canonicalString()} ${e.op} ${aa(e.value)}`:t instanceof Se?function(e){return e.op.toString()+" {"+e.getFilters().map(hO).join(" ,")+"}"}(t):"Filter";var e}class RK extends he{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class OK extends he{constructor(e,n){super(e,"in",n),this.keys=fO(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PK extends he{constructor(e,n){super(e,"not-in",n),this.keys=fO(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fO(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class kK extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rc(n)&&Nc(n.arrayValue,this.value)}}class pO extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Nc(this.value.arrayValue,n)}}class FK extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Nc(this.value.arrayValue,n)}}class LK extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nc(this.value.arrayValue,r))}}class VK{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function kw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new VK(t,e,n,r,i,s,o)}function Rs(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),xc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>aa(r)).join(",")),e.dt=n}return e.dt}function Pc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aO(t.startAt,e.startAt)&&aO(t.endAt,e.endAt)}function Df(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class si{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function la(t){return new si(t)}function vO(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Fw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ef(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Lw(t){return null!==t.collectionGroup}function Os(t){const e=A(t);if(null===e.wt){e.wt=[];const n=Ef(e),r=Fw(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new ua(n)),e.wt.push(new ua(nt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ua(nt.keyField(),s))}}}return e.wt}function sn(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=kw(e.path,e.collectionGroup,Os(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Os(e))n.push(new ua(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Gi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gi(e.startAt.position,e.startAt.inclusive):null;e._t=kw(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Vw(t,e){e.getFirstInequalityField(),Ef(t);const n=t.filters.concat([e]);return new si(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bf(t,e,n){return new si(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kc(t,e){return Pc(sn(t),sn(e))&&t.limitType===e.limitType}function _O(t){return`${Rs(sn(t))}|lt:${t.limitType}`}function Bw(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>hO(r)).join(", ")}]`),xc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>aa(r)).join(",")),`Target(${n})`}(sn(t))}; limitType=${t.limitType})`}function Fc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Os(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=oO(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Os(n),r)||n.endAt&&!function(i,s,o){const a=oO(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Os(n),r)));var n,r}function DO(t){return(e,n)=>{let r=!1;for(const i of Os(t)){const s=BK(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function BK(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Hi(a,u):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}class oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return YR(this.inner)}size(){return this.innerSize}}const UK=new Oe(x.comparator);function gn(){return UK}const CO=new Oe(x.comparator);function Lc(...t){let e=CO;for(const n of t)e=e.insert(n.key,n);return e}function EO(t){let e=CO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ar(){return Vc()}function bO(){return Vc()}function Vc(){return new oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const jK=new Oe(x.comparator),$K=new Ve(x.comparator);function re(...t){let e=$K;for(const n of t)e=e.add(n);return e}const HK=new Ve(X);function IO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function SO(t){return{integerValue:""+t}}function TO(t,e){return function $R(t){return"number"==typeof t&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?SO(e):IO(t,e)}class If{constructor(){this._=void 0}}function GK(t,e,n){return t instanceof da?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&mf(i)&&(i=yf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ps?AO(t,e):t instanceof ks?MO(t,e):function(r,i){const s=xO(r,i),o=NO(s)+NO(r.gt);return Nw(s)&&Nw(r.gt)?SO(o):IO(r.serializer,o)}(t,e)}function zK(t,e,n){return t instanceof Ps?AO(t,e):t instanceof ks?MO(t,e):n}function xO(t,e){return t instanceof ha?Nw(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class da extends If{}class Ps extends If{constructor(e){super(),this.elements=e}}function AO(t,e){const n=RO(e);for(const r of t.elements)n.some(i=>xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ks extends If{constructor(e){super(),this.elements=e}}function MO(t,e){let n=RO(e);for(const r of t.elements)n=n.filter(i=>!xr(i,r));return{arrayValue:{values:n}}}class ha extends If{constructor(e,n){super(),this.serializer=e,this.gt=n}}function NO(t){return Qe(t.integerValue||t.doubleValue)}function RO(t){return Rc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class WK{constructor(e,n){this.version=e,this.transformResults=n}}class $e{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Tf{}function OO(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new pa(t.key,$e.none()):new fa(t.key,t.data,$e.none());{const n=t.data,r=Pt.empty();let i=new Ve(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ai(t.key,r,new pn(i.toArray()),$e.none())}}function KK(t,e,n){t instanceof fa?function(r,i,s){const o=r.value.clone(),a=FO(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(r,i,s){if(!Sf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=FO(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(kO(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Uc(t,e,n,r){return t instanceof fa?function(i,s,o,a){if(!Sf(i.precondition,s))return o;const u=i.value.clone(),c=LO(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(i,s,o,a){if(!Sf(i.precondition,s))return o;const u=LO(i.fieldTransforms,a,s),c=s.data;return c.setAll(kO(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Sf(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function QK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=xO(r.transform,i||null);null!=s&&(null===n&&(n=Pt.empty()),n.set(r.field,s))}return n||null}function PO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&sa(n,r,(i,s)=>function qK(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ps&&r instanceof Ps||n instanceof ks&&r instanceof ks?sa(n.elements,r.elements,xr):n instanceof ha&&r instanceof ha?xr(n.gt,r.gt):n instanceof da&&r instanceof da);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class fa extends Tf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends Tf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FO(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zK(o,a,n[i]))}return r}function LO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,GK(s,o,e))}return r}class pa extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jw extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $w{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=OO(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(n,r)=>PO(n,r))&&sa(this.baseMutations,e.baseMutations,(n,r)=>PO(n,r))}}class Hw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){L(e.mutations.length===r.length);let i=jK;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hw(e,n,r,i)}}class Gw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class XK{constructor(e,n){this.count=e,this.unchangedNames=n}}var lt,me;function BO(t){if(void 0===t)return tt("GRPC error has no .code"),_.UNKNOWN;switch(t){case lt.OK:return _.OK;case lt.CANCELLED:return _.CANCELLED;case lt.UNKNOWN:return _.UNKNOWN;case lt.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case lt.INTERNAL:return _.INTERNAL;case lt.UNAVAILABLE:return _.UNAVAILABLE;case lt.UNAUTHENTICATED:return _.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case lt.NOT_FOUND:return _.NOT_FOUND;case lt.ALREADY_EXISTS:return _.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return _.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case lt.ABORTED:return _.ABORTED;case lt.OUT_OF_RANGE:return _.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return _.UNIMPLEMENTED;case lt.DATA_LOSS:return _.DATA_LOSS;default:return k()}}(me=lt||(lt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class zw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xf}static getOrCreateInstance(){return null===xf&&(xf=new zw),xf}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let xf=null;const ZK=new ra([4294967295,4294967295],0);function jO(t){const e=function UO(){return new TextEncoder}().encode(t),n=new WW;return n.update(e),new Uint8Array(n.digest())}function $O(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ra([n,r],0),new ra([i,s],0)]}class qw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(r<0)throw new jc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new jc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ra.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ra.fromNumber(r)));return 1===i.compare(ZK)&&(i=new ra([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=jO(e),[r,i]=$O(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=jO(e),[r,i]=$O(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $c{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $c(V.min(),i,new Oe(X),gn(),re())}}class Hc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hc(r,n,re(),re(),re())}}class Af{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class HO{constructor(e,n){this.targetId=e,this.Vt=n}}class GO{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zO{constructor(){this.St=0,this.Dt=WO(),this.Ct=yt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=re(),n=re(),r=re();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new Hc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=WO()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class JK{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gn(),this.zt=qO(),this.Wt=new Oe(X)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Df(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Be.newNoDocument(a,V.min()))}else L(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=zw.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,w;const C={localCacheCount:l,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(C.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(m=v?.bits)||void 0===m?void 0:m.padding)&&void 0!==w?w:0}),C}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ii(s).toUint8Array()}catch(l){if(l instanceof ZR)return tr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new qw(u,o,a)}catch(l){return tr(l instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Df(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Be.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=re();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new $c(e,n,this.Wt,this.jt,r);return this.jt=gn(),this.zt=qO(),this.Wt=new Oe(X),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new zO,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ve(X),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||I("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new zO),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function qO(){return new Oe(x.comparator)}function WO(){return new Oe(x.comparator)}const eQ={asc:"ASCENDING",desc:"DESCENDING"},tQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nQ={and:"AND",or:"OR"};class rQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ww(t,e){return t.useProto3Json||xc(e)?e:{value:e}}function ga(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iQ(t,e){return ga(t,e.toTimestamp())}function rt(t){return L(!!t),V.fromTimestamp(function(e){const n=Ui(e);return new ze(n.seconds,n.nanos)}(t))}function Kw(t,e){return(n=t,new ge(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function QO(t){const e=ge.fromString(t);return L(iP(e)),e}function Gc(t,e){return Kw(t.databaseId,e.path)}function Mr(t,e){const n=QO(e);if(n.get(1)!==t.databaseId.projectId)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(XO(n))}function Qw(t,e){return Kw(t.databaseId,e)}function zc(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XO(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ZO(t,e,n){return{name:Gc(t,e),fields:n.value.mapValue.fields}}function eP(t,e){return{documents:[Qw(t,e.path)]}}function Xw(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Qw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return rP(Se.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:zi((l=c).field),direction:cQ(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ww(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function tP(t){let e=function YO(t){const e=QO(t);return 4===e.length?ge.emptyPath():XO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=nP(l);return d instanceof Se&&Ow(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new ua(ma((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,xc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Gi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Gi(l.values||[],!l.before)}(n.endAt)),function yO(t,e,n,r,i,s,o,a){return new si(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function nP(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ma(e.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ma(e.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ma(e.unaryFilter.field);return he.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ma(e.unaryFilter.field);return he.create(s,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(t):void 0!==t.fieldFilter?he.create(ma((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Se.create(e.compositeFilter.filters.map(n=>nP(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return k()}}(e.compositeFilter.op))}(t):k();var e}function cQ(t){return eQ[t]}function lQ(t){return tQ[t]}function dQ(t){return nQ[t]}function zi(t){return{fieldPath:t.canonicalString()}}function ma(t){return nt.fromServerFormat(t.fieldPath)}function rP(t){return t instanceof he?function(e){if("=="===e.op){if(tO(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NAN"}};if(eO(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(tO(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NOT_NAN"}};if(eO(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(e.field),op:lQ(e.op),value:e.value}}}(t):t instanceof Se?function(e){const n=e.getFilters().map(r=>rP(r));return 1===n.length?n[0]:{compositeFilter:{op:dQ(e.op),filters:n}}}(t):k()}function hQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iP(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ui{constructor(e,n,r,i,s=V.min(),o=V.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sP{constructor(e){this.fe=e}}function Zw(t){const e=tP({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?bf(e,e.limit,"L"):e}class Bs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Qe(e.integerValue));else if("doubleValue"in e){const r=Qe(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Ac(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ii(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?nO(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):k()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Bs.Ve=new Bs;class DQ{constructor(){this.rn=new iD}addToCollectionParentIndex(e,n){return this.rn.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(xn.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(xn.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class iD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(ge.comparator)).toArray()}}new Uint8Array(0);class qt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(41943040,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);class js{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new js(0)}static Mn(){return new js(-1)}}class TQ{constructor(){this.changes=new oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Be.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class NP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Uc(r.mutation,i,pn.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Lc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gn();const o=Vc(),a=Vc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ai)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Uc(l.mutation,c,l.mutation.getFieldMask(),ze.now())):o.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new MQ(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Vc();let i=new Oe((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||pn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||re()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=bO();l.forEach(h=>{if(!s.has(h)){const f=OO(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Lw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Ar());let a=-1,u=s;return o.next(c=>y.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,re())).next(l=>({batchId:a,changes:EO(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Lc();return this.indexManager.getCollectionParents(e,i).next(o=>y.forEach(o,a=>{const u=(c=n,l=a.child(i),new si(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Be.newInvalidDocument(c)))});let o=Lc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Uc(c.mutation,u,pn.empty(),ze.now()),Fc(n,u)&&(o=o.insert(a,u))}),o})}}class NQ{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return y.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:rt(r.createTime)}),y.resolve()}getNamedQuery(e,n){return y.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:Zw(r.bundledQuery),readTime:rt(r.readTime)}),y.resolve();var r}}class RQ{constructor(){this.overlays=new Oe(x.comparator),this.ls=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ar();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){const i=Ar(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Ar(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Ar(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return y.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Gw(n,r));let s=this.ls.get(n);void 0===s&&(s=re(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class sD{constructor(){this.fs=new Ve(St.ds),this.ws=new Ve(St._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new St(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new St(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new ge([])),r=new St(n,e),i=new St(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new ge([])),r=new St(n,e),i=new St(n,e+1);let s=re();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new St(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||X(e.As,n.As)}static _s(e,n){return X(e.As,n.As)||x.comparator(e.key,n.key)}}class OQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ve(St.ds)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new $w(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new St(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(X);return n.forEach(i=>{const s=new St(i,0),o=new St(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),y.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new St(new x(s),0);let a=new Ve(X);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),y.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return y.forEach(n.mutations,i=>{const s=new St(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new St(n,0),i=this.Rs.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return y.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class PQ{constructor(e){this.Ds=e,this.docs=new Oe(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Be.newInvalidDocument(n))}getEntries(e,n){let r=gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Be.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Sw(BR(l),r)<=0||(i.has(l.key)||Fc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){k()}Cs(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kQ(this)}getSize(e){return y.resolve(this.size)}}class kQ extends TQ{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class FQ{constructor(e){this.persistence=e,this.xs=new oi(n=>Rs(n),Pc),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sD,this.targetCount=0,this.Ms=js.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),y.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new js(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.Fn(n),y.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.ks.containsKey(n))}}class oD{constructor(e,n){this.$s={},this.overlays={},this.Os=new An(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new FQ(this),this.indexManager=new DQ,this.remoteDocumentCache=new PQ(r=>this.referenceDelegate.Ls(r)),this.serializer=new sP(n),this.qs=new NQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new OQ(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){I("MemoryPersistence","Starting transaction:",e);const i=new LQ(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return y.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class LQ extends iK{constructor(e){super(),this.currentSequenceNumber=e}}class Vf{constructor(e){this.persistence=e,this.Qs=new sD,this.js=null}static zs(e){return new Vf(e)}get Ws(){if(this.js)return this.js;throw k()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),y.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return y.or([()=>y.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class lD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lD(e,n.fromCache,r,i)}}class OP{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(vO(n))return y.resolve(null);let r=sn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=bf(n,null,"F"),r=sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,bf(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return vO(n)||i.isEqual(V.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Ew()<=ve.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bw(n)),this.Wi(e,o,n,function VR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new ze(n+1,0):new ze(n,r));return new xn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ve(DO(e));return n.forEach((i,s)=>{Fc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Ew()<=ve.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",Bw(n)),this.Ui.getDocumentsMatchingQuery(e,n,xn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class BQ{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Oe(X),this.Yi=new oi(s=>Rs(s),Pc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function kP(t,e){return dD.apply(this,arguments)}function dD(){return dD=S(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=re();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),dD.apply(this,arguments)}function FP(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function $Q(t,e){const n=A(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wa(t,e,n){return hD.apply(this,arguments)}function hD(){return hD=S(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Vi(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),hD.apply(this,arguments)}function jf(t,e,n){const r=A(t);let i=V.min(),s=re();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.Yi.get(c);return void 0!==d?y.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:V.min(),n?s:re())).next(a=>(function UP(t,e,n){let r=t.Xi.get(e)||V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function wO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class yD{constructor(){this.activeTargetIds=function Uw(){return HK}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HP{constructor(){this.Hr=new yD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new yD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zQ{Yr(e){}shutdown(){}}class GP{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gf=null;function _D(){return null===Gf?Gf=268435456+Math.round(2147483648*Math.random()):Gf++,"0x"+Gf.toString(16)}const qQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WQ{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Wt="WebChannelConnection";class KQ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=_D(),a=this.To(e,n);I("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(I("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw tr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ia,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${qQ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=_D();return new Promise((o,a)=>{const u=new qW;u.setWithCredentials(!0),u.listenOnce(HW.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Cw.NO_ERROR:const l=u.getResponseJson();I(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Cw.TIMEOUT:I(Wt,`RPC '${e}' ${s} timed out`),a(new E(_.DEADLINE_EXCEEDED,"Request time out"));break;case Cw.HTTP_ERROR:const d=u.getStatus();if(I(Wt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(m)>=0?m:_.UNKNOWN}(f.status);a(new E(p,f.message))}else a(new E(_.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new E(_.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{I(Wt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);I(Wt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=_D(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jW(),a=$W(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new zW({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");I(Wt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new WQ({ro:m=>{f?I(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(I(Wt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),I(Wt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,w,C)=>{m.listen(w,v=>{try{C(v)}catch(R){setTimeout(()=>{throw R},0)}})};return g(d,lf.EventType.OPEN,()=>{f||I(Wt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,lf.EventType.CLOSE,()=>{f||(f=!0,I(Wt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,lf.EventType.ERROR,m=>{f||(f=!0,tr(Wt,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new E(_.UNAVAILABLE,"The operation could not be completed")))}),g(d,lf.EventType.MESSAGE,m=>{var w;if(!f){const C=m.data[0];L(!!C);const R=C.error||(null===(w=C[0])||void 0===w?void 0:w.error);if(R){I(Wt,`RPC '${e}' stream ${i} received error:`,R);const U=R.status;let Y=function(qs){const Zk=lt[qs];if(void 0!==Zk)return BO(Zk)}(U),on=R.message;void 0===Y&&(Y=_.INTERNAL,on="Unknown error status: "+U+" with message "+R.message),f=!0,p.wo(new E(Y,on)),d.close()}else I(Wt,`RPC '${e}' stream ${i} received:`,C),p._o(C)}}),g(a,GW.STAT_EVENT,m=>{m.stat===RR.PROXY?I(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===RR.NOPROXY&&I(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function zf(){return typeof document<"u"?document:null}function tl(t){return new rQ(t,!0)}class wD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qP{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wD(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return S(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return S(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return S(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(tt(n.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===_.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new E(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(S(function*(){e.state=0,e.start()}))}tu(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QQ extends qP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function oQ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:k(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(L(void 0===c||"string"==typeof c),yt.fromBase64String(c||"")):(L(void 0===c||c instanceof Uint8Array),yt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?_.UNKNOWN:BO(u.code);return new E(c,u.message||"")}(o);n=new GO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Mr(t,r.document.name),s=rt(r.document.updateTime),o=r.document.createTime?rt(r.document.createTime):V.min(),a=new Pt({mapValue:{fields:r.document.fields}}),u=Be.newFoundDocument(i,s,o,a);n=new Af(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Mr(t,r.document),s=r.readTime?rt(r.readTime):V.min(),o=Be.newNoDocument(i,s);n=new Af([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mr(t,r.document);n=new Af([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return k();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new XK(i,s);n=new HO(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?rt(s.readTime):V.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=zc(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Df(a)?{documents:eP(i,a)}:{query:Xw(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=KO(i,s.resumeToken);const u=Ww(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(V.min())>0){o.readTime=ga(i,s.snapshotVersion.toTimestamp());const u=Ww(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function uQ(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=zc(this.serializer),n.removeTarget=e,this.Wo(n)}}class YQ extends qP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function aQ(t,e){return t&&t.length>0?(L(void 0!==e),t.map(n=>function(r,i){let s=rt(r.updateTime?r.updateTime:i);return s.isEqual(V.min())&&(s=rt(i)),new WK(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=rt(e.commitTime);return this.listener.cu(r,n)}return L(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function qc(t,e){let n;if(e instanceof fa)n={update:ZO(t,e.key,e.value)};else if(e instanceof pa)n={delete:Gc(t,e.key)};else if(e instanceof ai)n={update:ZO(t,e.key,e.data),updateMask:hQ(e.fieldMask)};else{if(!(e instanceof jw))return k();n={verify:Gc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof da)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ps)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ks)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ha)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw k()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:iQ(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:k()),n;var i}(this.serializer,r))};this.Wo(n)}}class XQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new E(_.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new E(_.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class JQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(tt(n),this.mu=!1):I("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class eY{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(S(function*(){var u;Qi(o)&&(I("RemoteStore","Restarting streams for network reachability change."),yield(u=S(function*(c){const l=A(c);l.vu.add(4),yield Da(l),l.bu.set("Unknown"),l.vu.delete(4),yield nl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new JQ(r,i)}}function nl(t){return CD.apply(this,arguments)}function CD(){return CD=S(function*(t){if(Qi(t))for(const e of t.Ru)yield e(!0)}),CD.apply(this,arguments)}function Da(t){return ED.apply(this,arguments)}function ED(){return ED=S(function*(t){for(const e of t.Ru)yield e(!1)}),ED.apply(this,arguments)}function qf(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),SD(n)?ID(n):Ea(n).Ko()&&bD(n,e))}function rl(t,e){const n=A(t),r=Ea(n);n.Au.delete(e),r.Ko()&&WP(n,e),0===n.Au.size&&(r.Ko()?r.jo():Qi(n)&&n.bu.set("Unknown"))}function bD(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ea(t).su(e)}function WP(t,e){t.Vu.qt(e),Ea(t).iu(e)}function ID(t){t.Vu=new JK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ea(t).start(),t.bu.gu()}function SD(t){return Qi(t)&&!Ea(t).Uo()&&t.Au.size>0}function Qi(t){return 0===A(t).vu.size}function KP(t){t.Vu=void 0}function tY(t){return TD.apply(this,arguments)}function TD(){return TD=S(function*(t){t.Au.forEach((e,n)=>{bD(t,e)})}),TD.apply(this,arguments)}function nY(t,e){return xD.apply(this,arguments)}function xD(){return xD=S(function*(t,e){KP(t),SD(t)?(t.bu.Iu(e),ID(t)):t.bu.set("Unknown")}),xD.apply(this,arguments)}function rY(t,e,n){return AD.apply(this,arguments)}function AD(){return AD=S(function*(t,e,n){if(t.bu.set("Online"),e instanceof GO&&2===e.state&&e.cause)try{yield(r=S(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wf(t,r)}else if(e instanceof Af?t.Vu.Ht(e):e instanceof HO?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(V.min()))try{const r=yield FP(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(yt.EMPTY_BYTE_STRING,c.snapshotVersion)),WP(i,a);const l=new ui(c.target,a,u,c.sequenceNumber);bD(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){I("RemoteStore","Failed to raise snapshot:",r),yield Wf(t,r)}var r}),AD.apply(this,arguments)}function Wf(t,e,n){return MD.apply(this,arguments)}function MD(){return MD=S(function*(t,e,n){if(!Vi(e))throw e;t.vu.add(1),yield Da(t),t.bu.set("Offline"),n||(n=()=>FP(t.localStore)),t.asyncQueue.enqueueRetryable(S(function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield nl(t)}))}),MD.apply(this,arguments)}function QP(t,e){return e().catch(n=>Wf(t,n,e))}function Ca(t){return ND.apply(this,arguments)}function ND(){return ND=S(function*(t){const e=A(t),n=Yi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;iY(e);)try{const i=yield $Q(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,sY(e,i)}catch(i){yield Wf(e,i)}YP(e)&&XP(e)}),ND.apply(this,arguments)}function iY(t){return Qi(t)&&t.Eu.length<10}function sY(t,e){t.Eu.push(e);const n=Yi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function YP(t){return Qi(t)&&!Yi(t).Uo()&&t.Eu.length>0}function XP(t){Yi(t).start()}function oY(t){return RD.apply(this,arguments)}function RD(){return RD=S(function*(t){Yi(t).hu()}),RD.apply(this,arguments)}function aY(t){return OD.apply(this,arguments)}function OD(){return OD=S(function*(t){const e=Yi(t);for(const n of t.Eu)e.uu(n.mutations)}),OD.apply(this,arguments)}function uY(t,e,n){return PD.apply(this,arguments)}function PD(){return PD=S(function*(t,e,n){const r=t.Eu.shift(),i=Hw.from(r,e,n);yield QP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ca(t)}),PD.apply(this,arguments)}function cY(t,e){return kD.apply(this,arguments)}function kD(){return kD=S(function*(t,e){var n;e&&Yi(t).ou&&(yield(n=S(function*(r,i){if(function VO(t){switch(t){default:return k();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}(s=i.code)&&s!==_.ABORTED){const o=r.Eu.shift();Yi(r).Qo(),yield QP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ca(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),YP(t)&&XP(t)}),kD.apply(this,arguments)}function ZP(t,e){return FD.apply(this,arguments)}function FD(){return FD=S(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");const r=Qi(n);n.vu.add(3),yield Da(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield nl(n)}),FD.apply(this,arguments)}function VD(){return VD=S(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield nl(n)):e||(n.vu.add(2),yield Da(n),n.bu.set("Unknown"))}),VD.apply(this,arguments)}function Ea(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new QQ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:tY.bind(null,t),ao:nY.bind(null,t),nu:rY.bind(null,t)}),t.Ru.push(function(){var e=S(function*(n){n?(t.Su.Qo(),SD(t)?ID(t):t.bu.set("Unknown")):(yield t.Su.stop(),KP(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Yi(t){return t.Du||(t.Du=function(e,n,r){const i=A(e);return i.fu(),new YQ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:oY.bind(null,t),ao:cY.bind(null,t),au:aY.bind(null,t),cu:uY.bind(null,t)}),t.Ru.push(function(){var e=S(function*(n){n?(t.Du.Qo(),yield Ca(t)):(yield t.Du.stop(),t.Eu.length>0&&(I("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class BD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new BD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ba(t,e){if(tt("AsyncQueue",`${e}: ${t}`),Vi(t))return new E(_.UNAVAILABLE,`${e}: ${t}`);throw t}class Ia{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Lc(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Ia(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class JP{constructor(){this.Cu=new Oe(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):k():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Sa(e,n,Ia.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class lY{constructor(){this.Nu=void 0,this.listeners=[]}}class dY{constructor(){this.queries=new oi(e=>_O(e),kc),this.onlineState="Unknown",this.ku=new Set}}function jD(){return jD=S(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new lY),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=ba(o,`Initialization of query '${Bw(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&GD(n)}),jD.apply(this,arguments)}function HD(){return HD=S(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),HD.apply(this,arguments)}function hY(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&GD(n)}function fY(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function GD(t){t.ku.forEach(e=>{e.next()})}class zD{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class nk{constructor(e){this.key=e}}class rk{constructor(e){this.key=e}}class ik{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=re(),this.mutatedKeys=re(),this.tc=DO(e),this.ec=new Ia(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new JP,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Fc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Sa(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new JP,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=re(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new rk(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new nk(r))}),n}hc(e){this.Yu=e.ir,this.Zu=re();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Sa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class mY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yY{constructor(e){this.key=e,this.fc=!1}}class vY{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new oi(a=>_O(a),kc),this._c=new Map,this.mc=new Set,this.gc=new Oe(x.comparator),this.yc=new Map,this.Ic=new sD,this.Tc={},this.Ec=new Map,this.Ac=js.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function _Y(t,e){return qD.apply(this,arguments)}function qD(){return qD=S(function*(t,e){const n=function gC(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CY.bind(null,e),e.dc.nu=hY.bind(null,e.eventManager),e.dc.Pc=fY.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function _a(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,sn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function WD(t,e,n,r,i){return KD.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&qf(n.remoteStore,o)}return i}),qD.apply(this,arguments)}function KD(){return KD=S(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=S(function*(g,m,w,C){let v=m.view.sc(w);v.zi&&(v=yield jf(g.localStore,m.query,!1).then(({documents:Y})=>m.view.sc(Y,v)));const R=C&&C.targetChanges.get(m.targetId),U=m.view.applyChanges(v,g.isPrimaryClient,R);return iC(g,m.targetId,U.cc),U.snapshot}),function(g,m,w,C){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield jf(t.localStore,e,!0),o=new ik(e,s.ir),a=o.sc(s.documents),u=Hc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);iC(t,n,c.cc);const l=new mY(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),KD.apply(this,arguments)}function wY(t,e){return QD.apply(this,arguments)}function QD(){return QD=S(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!kc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rl(n.remoteStore,r.targetId),Ta(n,r.targetId)}).catch(Li))):(Ta(n,r.targetId),yield wa(n.localStore,r.targetId,!0))}),QD.apply(this,arguments)}function YD(){return YD=S(function*(t,e,n){const r=function mC(t){const e=A(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bY.bind(null,e),e}(t);try{const i=yield function(s,o){const a=A(s),u=ze.now(),c=o.reduce((h,f)=>h.add(f.key),re());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=gn(),p=re();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,w)=>{w.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const w of o){const C=QK(w,l.get(w.key).overlayedDocument);null!=C&&m.push(new ai(w.key,C,sO(C.value.mapValue),$e.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:EO(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Oe(X)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ci(r,i.changes),yield Ca(r.remoteStore)}catch(i){const s=ba(i,"Failed to persist write");n.reject(s)}}),YD.apply(this,arguments)}function sk(t,e){return XD.apply(this,arguments)}function XD(){return XD=S(function*(t,e){const n=A(t);try{const r=yield function jQ(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(yt.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=gn(),c=re();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function LP(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(V.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(V.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?L(o.fc):i.removedDocuments.size>0&&(L(o.fc),o.fc=!1))}),yield ci(n,r,e)}catch(r){yield Li(r)}}),XD.apply(this,arguments)}function ok(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&GD(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function CY(t,e,n){return ZD.apply(this,arguments)}function ZD(){return ZD=S(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Oe(x.comparator);o=o.insert(s,Be.newNoDocument(s,V.min()));const a=re().add(s),u=new $c(V.min(),new Map,new Oe(X),o,a);yield sk(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),sC(r)}else yield wa(r.localStore,e,!1).then(()=>Ta(r,e,n)).catch(Li)}),ZD.apply(this,arguments)}function EY(t,e){return JD.apply(this,arguments)}function JD(){return JD=S(function*(t,e){const n=A(t),r=e.batch.batchId;try{const i=yield function UQ(t,e){const n=A(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=y.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);L(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=re();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);rC(n,r,null),nC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ci(n,i)}catch(i){yield Li(i)}}),JD.apply(this,arguments)}function bY(t,e,n){return eC.apply(this,arguments)}function eC(){return eC=S(function*(t,e,n){const r=A(t);try{const i=yield function(s,o){const a=A(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(L(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);rC(r,e,n),nC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ci(r,i)}catch(i){yield Li(i)}}),eC.apply(this,arguments)}function nC(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function rC(t,e,n){const r=A(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ta(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||ak(t,r)})}function ak(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(rl(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),sC(t))}function iC(t,e,n){for(const r of n)r instanceof nk?(t.Ic.addReference(r.key,e),SY(t,r)):r instanceof rk?(I("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||ak(t,r.key)):k()}function SY(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(I("SyncEngine","New document in limbo: "+n),t.mc.add(r),sC(t))}function sC(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(ge.fromString(e)),r=t.Ac.next();t.yc.set(r,new yY(n)),t.gc=t.gc.insert(n,r),qf(t.remoteStore,new ui(sn(la(n.path)),r,"TargetPurposeLimboResolution",An.ct))}}function ci(t,e,n){return oC.apply(this,arguments)}function oC(){return oC=S(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=lD.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=S(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(c,h=>y.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>y.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Vi(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),oC.apply(this,arguments)}function TY(t,e){return aC.apply(this,arguments)}function aC(){return aC=S(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());const r=yield kP(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new E(_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ci(n,r.er)}var i}),aC.apply(this,arguments)}function xY(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return re().add(r.key);{let i=re();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Kf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return S(function*(){n.serializer=tl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function PP(t,e,n,r){return new BQ(t,e,n,r)}(this.persistence,new OP,e.initialUser,this.serializer)}createPersistence(e){return new oD(Vf.zs,this.serializer)}createSharedClientState(e){return new HP}terminate(){var e=this;return S(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xa{initialize(e,n){var r=this;return S(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>ok(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=TY.bind(null,r.syncEngine),yield function LD(t,e){return VD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dY}createDatastore(e){const n=tl(e.databaseInfo.databaseId),r=new KQ(e.databaseInfo);return new XQ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>ok(this.syncEngine,a,0),o=GP.D()?new GP:new zQ,new eY(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new vY(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=S(function*(n){const r=A(n);I("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Da(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Qf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):tt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class jY{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=FR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=S(function*(a){I("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(I("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return S(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(S(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ba(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Yf(t,e){return yC.apply(this,arguments)}function yC(){return yC=S(function*(t,e){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=S(function*(s){r.isEqual(s)||(yield kP(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),yC.apply(this,arguments)}function vC(t,e){return _C.apply(this,arguments)}function _C(){return _C=S(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function wC(t){return DC.apply(this,arguments)}(t);I("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>ZP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>ZP(e.remoteStore,s)),t._onlineComponents=e}),_C.apply(this,arguments)}function DC(){return DC=S(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Yf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function fk(t){return"FirebaseError"===t.name?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;tr("Error using user provided cache. Falling back to memory cache: "+n),yield Yf(t,new Kf)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield Yf(t,new Kf);return t._offlineComponents}),DC.apply(this,arguments)}function Xf(t){return CC.apply(this,arguments)}function CC(){return CC=S(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield vC(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield vC(t,new xa))),t._onlineComponents}),CC.apply(this,arguments)}function bC(){return bC=S(function*(t){const e=yield Xf(t),n=e.eventManager;return n.onListen=_Y.bind(null,e.syncEngine),n.onUnlisten=wY.bind(null,e.syncEngine),n}),bC.apply(this,arguments)}function vk(t,e,n={}){const r=new mt;return t.asyncQueue.enqueueAndForget(S(function*(){return function(i,s,o,a,u){const c=new Qf({next:d=>{s.enqueueAndForget(()=>function $D(t,e){return HD.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new E(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new zD(o,c,{includeMetadataChanges:!0,Ku:!0});return function UD(t,e){return jD.apply(this,arguments)}(i,l)}(yield function Aa(t){return bC.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function _k(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const wk=new Map;function IC(t,e,n){if(!n)throw new E(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Dk(t){if(!x.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ck(t){if(x.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":k()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jf(t);throw new E(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class bk{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new E(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new E(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function YY(t,e,n,r){if(!0===e&&!0===r)throw new E(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_k(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class il{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bk(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new KW;switch(n.type){case"firstParty":return new ZW(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new E(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=wk.get(e);n&&(I("ComponentProvider","Removing Datastore"),wk.delete(e),n.terminate())}(this),Promise.resolve()}}class it{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new it(this.firestore,e,this._key)}}class kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kt(this.firestore,e,this._query)}}class Nr extends kt{constructor(e,n,r){super(e,n,la(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new x(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function SC(t,e,...n){if(t=Mi(t),IC("collection","path",e),t instanceof il){const r=ge.fromString(e,...n);return Ck(r),new Nr(t,null,r)}{if(!(t instanceof it||t instanceof Nr))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return Ck(r),new Nr(t.firestore,null,r)}}function Ik(t,e,...n){if(t=Mi(t),1===arguments.length&&(e=FR.A()),IC("doc","path",e),t instanceof il){const r=ge.fromString(e,...n);return Dk(r),new it(t,null,new x(r))}{if(!(t instanceof it||t instanceof Nr))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return Dk(r),new it(t.firestore,t instanceof Nr?t.converter:null,new x(r))}}class ZY{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wD(this,"async_queue_retry"),this.Xc=()=>{const n=zf();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=zf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=zf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new mt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return S(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Vi(n))throw n;I("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,tt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=BD.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&k()}verifyOperationInProgress(){}sa(){var e=this;return S(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ue extends il{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZY,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tk(this),this._firestoreClient.terminate()}}function dt(t){return t._firestoreClient||Tk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Tk(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new xK(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_k(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new jY(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hs(yt.fromBase64String(e))}catch(n){throw new E(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hs(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ma{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new E(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mk{constructor(e){this._methodName=e}}class xC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new E(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new E(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const nX=/^__.*__$/;class rX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new fa(e,this.data,n,this.fieldTransforms)}}function Rk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class ep{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ep(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return np(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Rk(this.ca)&&nX.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class iX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tl(e)}ya(e,n,r,i=!1){return new ep({ca:e,methodName:n,ga:r,path:nt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Na(t){const e=t._freezeSettings(),n=tl(t._databaseId);return new iX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AC(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);NC("Data must be an object, but it was:",o,r);const a=Lk(r,o);let u,c;if(s.merge)u=new pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=al(e,d,n);if(!o.contains(h))throw new E(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Bk(l,h)||l.push(h)}u=new pn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new rX(new Pt(a),u,c)}function Gs(t,e){if(Vk(t=Mi(t)))return NC("Unsupported field value:",e,t),Lk(t,e);if(t instanceof Mk)return function(n,r){if(!Rk(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Gs(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Mi(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return TO(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=ze.fromDate(n);return{timestampValue:ga(r.serializer,i)}}if(n instanceof ze){const i=new ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ga(r.serializer,i)}}if(n instanceof xC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hs)return{bytesValue:KO(r.serializer,n._byteString)};if(n instanceof it){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Jf(n)}`)}(t,e)}function Lk(t,e){const n={};return YR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(r,i)=>{const s=Gs(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Vk(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof xC||t instanceof Hs||t instanceof it||t instanceof Mk)}function NC(t,e,n){if(!Vk(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Jf(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function al(t,e,n){if((e=Mi(e))instanceof Ma)return e._internalPath;if("string"==typeof e)return tp(t,e);throw np("Field path arguments must be of type string or ",t,!1,void 0,n)}const uX=new RegExp("[~\\*/\\[\\]]");function tp(t,e,n){if(e.search(uX)>=0)throw np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ma(...e.split("."))._internalPath}catch{throw np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function np(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new E(_.INVALID_ARGUMENT,a+t+u)}function Bk(t,e){return t.some(n=>n.isEqual(e))}class RC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class cX extends RC{data(){return super.data()}}function rp(t,e){return"string"==typeof e?tp(t,e):e instanceof Ma?e._internalPath:e._delegate._internalPath}class OC{}class lX extends OC{}class ul extends lX{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ul(e,n,r)}_apply(e){const n=this._parse(e);return Gk(e._query,n),new kt(e.firestore,e.converter,Vw(e._query,n))}_parse(e){const n=Na(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new E(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){Hk(l,c);const h=[];for(const f of l)h.push($k(a,i,f));d={arrayValue:{values:h}}}else d=$k(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||Hk(l,c),d=function Fk(t,e,n,r=!1){return Gs(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return he.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ra extends OC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ra(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Se.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Gk(s,a),s=Vw(s,a)}(e._query,n),new kt(e.firestore,e.converter,Vw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function $k(t,e,n){if("string"==typeof(n=Mi(n))){if(""===n)throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lw(e)&&-1!==n.indexOf("/"))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!x.isDocumentKey(r))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ns(t,new x(r))}if(n instanceof it)return Ns(t,n._key);throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(n)}.`)}function Hk(t,e){if(!Array.isArray(t)||0===t.length)throw new E(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gk(t,e){if(e.isInequality()){const r=Ef(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new E(_.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Fw(t);null!==s&&function zk(t,e,n){if(!n.isEqual(e))throw new E(_.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new E(_.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hX{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xC(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);L(iP(r));const i=new Ms(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class zs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends RC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ap extends Oa{data(e={}){return super.data(e)}}class Pa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ap(this._firestore,this._userDataWriter,r.key,r,new zs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new E(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ap(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new ap(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:pX(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}class Xi extends hX{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}}function Wk(t,e){const n=fe(t.firestore,Ue),r=Ik(t),i=function kC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return cl(n,[AC(Na(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,$e.exists(!1))]).then(()=>r)}function cl(t,e){return function(n,r){const i=new mt;return n.asyncQueue.enqueueAndForget(S(function*(){return function DY(t,e,n){return YD.apply(this,arguments)}(yield function EC(t){return Xf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(dt(t),e)}!function(t,e=!0){ia="9.23.0",Ri(new Jr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ue(new YW(n.getProvider("auth-internal")),new JW(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new E(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ms(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Dr(OR,"3.13.0",t),Dr(OR,"3.13.0","esm2017")}();let LC=(()=>{var t;class e{constructor(){this.app=AM(xX),this.analytics=function V7(t=MM()){const e=Ko(t=Mi(t),Ph);return e.isInitialized()?e.getImmediate():function B7(t,e={}){const n=Ko(t,Ph);if(n.isInitialized()){const i=n.getImmediate();if(Mh(e,n.getOptions()))return i;throw nn.create("already-initialized")}return n.initialize({options:e})}(t)}(this.app),this.firestore=function eX(t,e){const r="string"==typeof t?t:e||"(default)",i=Ko("object"==typeof t?t:MM(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Sh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function XY(t,e,n,r={}){var i;const s=(t=fe(t,il))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=bt.MOCK_USER;else{a=function U6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ih(JSON.stringify({alg:"none",type:"JWT"})),Ih(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new E(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new bt(c)}t._authCredentials=new QW(new PR(a,u))}}(i,...s)}return i}(this.app),this.categoryCollection=SC(this.firestore,"categories"),this.coursesCollection=SC(this.firestore,"courses"),this.data={},this.refreshEvent=new Fe,this.refresh(Kt.CATEGORIES),this.refresh(Kt.COURSES)}refresh(r){const s=function dX(t,e,...n){let r=[];e instanceof OC&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Ra).length,o=i.filter(a=>a instanceof ul).length;if(s>1||s>0&&o>0)throw new E(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}(SC(this.firestore,r));(function gX(t){t=fe(t,kt);const e=fe(t.firestore,Ue),n=dt(e),r=new Xi(e);return function Uk(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new E(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),vk(n,t._query).then(i=>new Pa(e,r,t,i))})(s).then(o=>{this.data[r]=[],o.forEach(a=>{let u=a.data();u.id=a.id,this.data[r].push(u)}),this.refreshEvent.emit(r)})}logIn(){}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),pN(this.analytics,r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Kt=(()=>(function(t){t.CATEGORIES="categories",t.COURSES="courses",t.ASSESSMENTS="assessments"}(Kt||(Kt={})),Kt))(),cp=(()=>(function(t){t.PAGE_VIEW="PAGE_VIEW",t.LOGIN="login",t.SIGN_UP="sign_up"}(cp||(cp={})),cp))();const xX={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function AX(t,e){if(1&t){const n=pr();M(0,"i",6),ae("click",function(){_t(n);const i=Ne(2);return wt(i.expand=!i.expand)}),K(1),F()}if(2&t){const n=Ne(2);ye(1),ls(n.expand?"expand_more":"chevron_right")}}function MX(t,e){if(1&t){const n=pr();M(0,"div")(1,"app-category",9),ae("select",function(i){return _t(n),wt(Ne(3).select.emit(i))}),F()()}if(2&t){const n=e.$implicit,r=Ne(3);ye(1),Ee("category",n)("current",r.current)}}function NX(t,e){if(1&t&&(M(0,"div",7),In(1,MX,2,2,"div",8),F()),2&t){const n=Ne(2);ye(1),Ee("ngForOf",n.category.categories)}}const RX=function(t){return{"active-node":t}};function OX(t,e){if(1&t){const n=pr();M(0,"div",1)(1,"div",2),In(2,AX,2,1,"i",3),M(3,"span",4),ae("click",function(){_t(n);const i=Ne();return wt(i.select.emit(i.category))}),K(4),F()(),In(5,NX,2,1,"div",5),F()}if(2&t){const n=Ne();ye(1),Ee("ngClass",mi(4,RX,null!=n.current&&n.category.id==n.current.id)),ye(1),Ee("ngIf",null!=n.category.categories&&n.category.categories.length>=0),ye(2),ls(n.category.name),ye(1),Ee("ngIf",n.expand)}}let PX=(()=>{var t;class e{constructor(){this.select=new Fe,this.expand=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=jn({type:t,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(r,i){1&r&&In(0,OX,6,6,"div",0),2&r&&Ee("ngIf",i.category)},dependencies:[oy,Vd,Au,t],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})();function kX(t,e){if(1&t){const n=pr();M(0,"div",11)(1,"app-category",12),ae("select",function(i){return _t(n),wt(Ne().select(i))}),F()()}if(2&t){const n=e.$implicit,r=Ne();ye(1),Ee("category",n)("current",r.category)}}function FX(t,e){if(1&t){const n=pr();M(0,"button",13),ae("click",function(){return _t(n),wt(Ne().deleteConfirm=!0)}),M(1,"i",8),K(2,"delete"),F()()}}function LX(t,e){if(1&t){const n=pr();M(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),K(5,"New Category"),F(),M(6,"button",19),ae("click",function(){return _t(n),wt(Ne().addCategoryModal=!1)}),F()(),M(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),ae("ngModelChange",function(i){return _t(n),wt(Ne().categoryName=i)}),F()()()(),M(11,"div",24)(12,"button",25),ae("click",function(){return _t(n),wt(Ne().addCategory())}),K(13,"Add"),F()()()()()}if(2&t){const n=Ne();ye(10),Ee("ngModel",n.categoryName)}}function VX(t,e){if(1&t){const n=pr();M(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),K(5,"Delete Category"),F(),M(6,"button",19),ae("click",function(){return _t(n),wt(Ne().deleteConfirm=!1)}),F()(),M(7,"div",20)(8,"div",21)(9,"div",22),K(10),F()()(),M(11,"div",24)(12,"button",25),ae("click",function(){return _t(n),wt(Ne().deleteCategory())}),K(13,"Delete"),F()()()()()}if(2&t){const n=Ne();ye(10),dd(" Confirm to delete ",null==n.category?null:n.category.name," ")}}let BX=(()=>{var t;class e{constructor(r){this.firestore=r,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh(),this.firestore.refreshEvent.subscribe(i=>{i==Kt.CATEGORIES&&this.refresh()})}refresh(){this.categories=[];let r=this.firestore.data[Kt.CATEGORIES];r.filter(i=>null==i.parent).forEach(i=>this.categories.push(i)),this.categories.forEach(i=>this.linkCategories(i,r)),console.log(this.categories)}linkCategories(r,i){r.categories=[],i.filter(s=>null!=s.parent&&s.parent==r.id).forEach(s=>{this.linkCategories(s,i),r.categories?.push(s)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let r={name:this.categoryName,active:!0};this.category&&(r.parent=this.category.id),Wk(this.firestore.categoryCollection,r).then(i=>{alert("Category has been added succesfully ID:"+i.id),this.firestore.refresh(Kt.CATEGORIES)})}else alert("Please enter category name")}isNotEmpty(r){return null!=r&&""!=r}select(r){console.log("Selected Category",r),this.category=r}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&function mX(t){return cl(fe(t.firestore,Ue),[new pa(t._key,$e.none())])}(Ik(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.firestore.refresh(Kt.CATEGORIES)})}}return(t=e).\u0275fac=function(r){return new(r||t)(b(LC))},t.\u0275cmp=jn({type:t,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"span"),K(3,"Categories"),F()()(),M(4,"div",2)(5,"div",3),In(6,kX,2,2,"div",4),F()(),M(7,"div",5)(8,"div",6)(9,"button",7),ae("click",function(){return i.addCategoryModal=!0}),M(10,"i",8),K(11,"add"),F()(),In(12,FX,3,0,"button",9),F()(),In(13,LX,14,1,"div",10),In(14,VX,14,1,"div",10)),2&r&&(ye(6),Ee("ngForOf",i.categories),ye(6),Ee("ngIf",null!=i.category),ye(1),Ee("ngIf",i.addCategoryModal),ye(1),Ee("ngIf",i.deleteConfirm))},dependencies:[Vd,Au,Ou,by,eh,PX],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();function UX(t,e){if(1&t&&(M(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),K(4),M(5,"i",14),K(6,"open_in_new"),F()(),M(7,"h6",15),K(8),F(),pi(9,"p",16),F()()()),2&t){const n=e.$implicit;ye(4),ls(n.name),ye(1),Ee("routerLink",n.route),ye(3),ls(n.description)}}function jX(t,e){if(1&t&&(M(0,"option",34),K(1),F()),2&t){const n=e.$implicit;Ee("value",n.name),ye(1),ls(n.name)}}function $X(t,e){if(1&t){const n=pr();M(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h4",21),K(5,"New Course"),F(),M(6,"button",22),ae("click",function(){return _t(n),wt(Ne().addCourseModal=!1)}),F()(),M(7,"div",23)(8,"div",24)(9,"div",25)(10,"input",26),ae("ngModelChange",function(i){return _t(n),wt(Ne().course.name=i)}),F()(),M(11,"div",25)(12,"input",27),ae("ngModelChange",function(i){return _t(n),wt(Ne().course.description=i)}),F()(),M(13,"div",25)(14,"select",28),ae("ngModelChange",function(i){return _t(n),wt(Ne().course.category=i)}),M(15,"option",29),K(16,"Select Category"),F(),In(17,jX,2,2,"option",30),F()(),M(18,"div",25)(19,"input",31),ae("ngModelChange",function(i){return _t(n),wt(Ne().course.image=i)}),F()()()(),M(20,"div",32)(21,"button",33),ae("click",function(){return _t(n),wt(Ne().addCourse())}),K(22,"Add"),F()()()()()}if(2&t){const n=Ne();ye(10),Ee("ngModel",n.course.name),ye(2),Ee("ngModel",n.course.description),ye(2),Ee("id",n.course.category)("ngModel",n.course.category),ye(3),Ee("ngForOf",n.categories),ye(2),Ee("ngModel",n.course.image)}}const HX=[{path:"",component:I6},{path:"home",redirectTo:""},{path:"account",component:S6},{path:"profile",component:T6},{path:"categories",component:BX},{path:"courses",component:(()=>{var t;class e{constructor(r){this.firestore=r,this.addCourseModal=!1,this.course={name:"",description:"",image:"",category:"",active:!0},this.categories=[],this.courses=[],this.deleteConfirm=!1,this.categories=this.firestore.data[Kt.CATEGORIES],this.courses=this.firestore.data[Kt.COURSES],this.firestore.refreshEvent.subscribe(i=>{i==Kt.CATEGORIES&&(this.categories=this.firestore.data[Kt.CATEGORIES]),(i=Kt.COURSES)&&(this.courses=this.firestore.data[Kt.COURSES])})}addCourse(){console.log(this.course),this.validate()?Wk(this.firestore.coursesCollection,this.course).then(r=>{alert("Course has been added succesfully ID:"+r.id),this.firestore.refresh(Kt.COURSES)}):alert("Please enter name, description, category")}validate(){return this.isNotEmpty(this.course.name)&&this.isNotEmpty(this.course.description)&&this.isNotEmpty(this.course.category)}isNotEmpty(r){return null!=r&&""!=r}}return(t=e).\u0275fac=function(r){return new(r||t)(b(LC))},t.\u0275cmp=jn({type:t,selectors:[["app-courses"]],decls:13,vars:2,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"form-control","x",3,"ngModel","ngModelChange"],["placeholder","Category",1,"form-control","x",3,"id","ngModel","ngModelChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Image URL",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"span"),K(3,"Courses"),F()()(),M(4,"div",2)(5,"div",3),In(6,UX,10,3,"div",4),F()(),M(7,"div",5)(8,"div",6)(9,"button",7),ae("click",function(){return i.addCourseModal=!0}),M(10,"i",8),K(11,"add"),F()()()(),In(12,$X,23,6,"div",9)),2&r&&(ye(6),Ee("ngForOf",i.courses),ye(6),Ee("ngIf",i.addCourseModal))},dependencies:[Vd,Au,Ju,jA,HA,Ou,th,by,eh],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})()}];let GX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=or({type:t}),t.\u0275inj=Un({imports:[cM.forRoot(HX),cM]}),e})();class zX extends mn{constructor(e,n){super()}schedule(e,n=0){return this}}const lp={setInterval(t,e,...n){const{delegate:r}=lp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=lp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},Qk={now:()=>(Qk.delegate||Date).now(),delegate:void 0};class ll{constructor(e,n=ll.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ll.now=Qk.now;const Yk=new class WX extends ll{constructor(e,n=ll.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class qX extends zX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return lp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&lp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ws(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),KX=Yk;function Xk(t,e){return e?n=>rh(e.pipe(Ci(1),function QX(){return ht((t,e)=>{t.subscribe(st(e,dp))})}()),n.pipe(Xk(t))):vt((n,r)=>yn(t(n,r)).pipe(Ci(1),o1(n)))}const ka=function(t){return{active:t}};let JX=(()=>{var t;class e{constructor(r){this.router=r,this.close=new Fe,this.active="",this.active=this.router.url,r.events.subscribe(i=>{i instanceof Ti&&(this.active=this.router.url)})}focus(r){this.router.navigate([r]),this.close.emit(!0)}}return(t=e).\u0275fac=function(r){return new(r||t)(b(tn))},t.\u0275cmp=jn({type:t,selectors:[["app-menu"]],outputs:{close:"close"},decls:35,vars:18,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],[1,"m"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"i",2),ae("click",function(){return i.close.emit(!0)}),K(3,"close"),F()(),M(4,"div",3)(5,"div",4),ae("click",function(){return i.focus("home")}),M(6,"i",5),K(7,"home"),F(),M(8,"span",6),K(9,"Home"),F()(),M(10,"div",4),ae("click",function(){return i.focus("categories")}),M(11,"i",5),K(12,"category"),F(),M(13,"span",6),K(14,"Categories"),F()(),M(15,"div",4),ae("click",function(){return i.focus("courses")}),M(16,"i",5),K(17,"menu_book"),F(),M(18,"span",6),K(19,"Courses"),F()(),M(20,"div",4),ae("click",function(){return i.focus("assessments")}),M(21,"i",5),K(22,"assignment"),F(),M(23,"span",6),K(24,"Assessments"),F()(),M(25,"div",4),ae("click",function(){return i.focus("notifications")}),M(26,"i",5),K(27,"notifications"),F(),M(28,"span",6),K(29,"Notifications"),F()(),M(30,"div",4),ae("click",function(){return i.focus("logout")}),M(31,"i",5),K(32,"logout"),F(),M(33,"span",6),K(34,"Logout"),F()()()()),2&r&&(ye(5),Ee("ngClass",mi(6,ka,"app-profile"==i.active)),ye(5),Ee("ngClass",mi(8,ka,"/categories"==i.active)),ye(5),Ee("ngClass",mi(10,ka,"/courses"==i.active)),ye(5),Ee("ngClass",mi(12,ka,"/assessments"==i.active)),ye(5),Ee("ngClass",mi(14,ka,"/notifications"==i.active)),ye(5),Ee("ngClass",mi(16,ka,"/logout"==i.active)))},dependencies:[oy],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),e})();function eZ(t,e){if(1&t){const n=pr();M(0,"app-menu",8),ae("close",function(){return _t(n),wt(Ne().menu=!1)}),F()}}let tZ=(()=>{var t;class e{constructor(){this.menu=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=jn({type:t,selectors:[["app-header"]],decls:10,vars:1,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],[1,"material-icons","text-light"],[1,"col-12","p-0","text-center"],[1,"t","a"],[3,"close",4,"ngIf"],[3,"close"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),ae("click",function(){return i.menu=!i.menu}),M(4,"i",4),K(5,"menu"),F()()(),M(6,"div",5)(7,"div",6),K(8,"IMPULSE"),F()()()(),In(9,eZ,1,0,"app-menu",7)),2&r&&(ye(9),Ee("ngIf",i.menu))},dependencies:[Au,JX],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),e})(),nZ=(()=>{var t;class e{constructor(r,i,s){this.firestore=r,this.firestore.log(cp.PAGE_VIEW),this.handleScroll(i,s)}handleScroll(r,i){r.events.pipe(Xr(s=>s instanceof Zy)).pipe(function ZX(t,e=Yk){const n=function XX(t=0,e,n=KX){let r=-1;return null!=e&&(a0(e)?n=e:r=e),new Ye(i=>{let s=function YX(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,e);return Xk(()=>n)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(t=e).\u0275fac=function(r){return new(r||t)(b(LC),b(tn),b(_x))},t.\u0275cmp=jn({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&pi(0,"app-header")(1,"router-outlet")},dependencies:[sv,tZ],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),rZ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=or({type:t,bootstrap:[nZ]}),t.\u0275inj=Un({imports:[FG,GX,X9]}),e})();kG().bootstrapModule(rZ).catch(t=>console.error(t))}},xe=>{xe(xe.s=554)}]);