"use strict";(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{114:()=>{function Re(n){return"function"==typeof n}function pu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const td=pu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function wo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Sn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(s){e=s instanceof td?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Y0(s)}catch(o){e=e??[],o instanceof td?e=[...e,...o.errors]:e.push(o)}}if(e)throw new td(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Y0(e);else{if(e instanceof Sn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&wo(t,e)}remove(e){const{_finalizers:t}=this;t&&wo(t,e),e instanceof Sn&&e._removeParent(this)}}Sn.EMPTY=(()=>{const n=new Sn;return n.closed=!0,n})();const K0=Sn.EMPTY;function Q0(n){return n instanceof Sn||n&&"closed"in n&&Re(n.remove)&&Re(n.add)&&Re(n.unsubscribe)}function Y0(n){Re(n)?n():n.unsubscribe()}const _s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},nd={setTimeout(n,e,...t){const{delegate:r}=nd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=nd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function J0(n){nd.setTimeout(()=>{const{onUnhandledError:e}=_s;if(!e)throw n;e(n)})}function _g(){}const yU=vg("C",void 0,void 0);function vg(n,e,t){return{kind:n,value:e,error:t}}let vs=null;function rd(n){if(_s.useDeprecatedSynchronousErrorHandling){const e=!vs;if(e&&(vs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=vs;if(vs=null,t)throw r}}else n()}class wg extends Sn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Q0(e)&&e.add(this)):this.destination=DU}static create(e,t,r){return new gu(e,t,r)}next(e){this.isStopped?Cg(function vU(n){return vg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cg(function _U(n){return vg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cg(yU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const IU=Function.prototype.bind;function Ig(n,e){return IU.call(n,e)}class CU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){id(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){id(r)}else id(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){id(t)}}}class gu extends wg{constructor(e,t,r){let i;if(super(),Re(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&_s.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ig(e.next,s),error:e.error&&Ig(e.error,s),complete:e.complete&&Ig(e.complete,s)}):i=e}this.destination=new CU(i)}}function id(n){_s.useDeprecatedSynchronousErrorHandling?function wU(n){_s.useDeprecatedSynchronousErrorHandling&&vs&&(vs.errorThrown=!0,vs.error=n)}(n):J0(n)}function Cg(n,e){const{onStoppedNotification:t}=_s;t&&nd.setTimeout(()=>t(n,e))}const DU={closed:!0,next:_g,error:function EU(n){throw n},complete:_g},Eg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ws(n){return n}function X0(n){return 0===n.length?ws:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let tt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function SU(n){return n&&n instanceof wg||function TU(n){return n&&Re(n.next)&&Re(n.error)&&Re(n.complete)}(n)&&Q0(n)}(t)?t:new gu(t,r,i);return rd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Z0(r))((i,s)=>{const o=new gu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Eg](){return this}pipe(...t){return X0(t)(this)}toPromise(t){return new(t=Z0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Z0(n){var e;return null!==(e=n??_s.Promise)&&void 0!==e?e:Promise}const AU=pu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Kr=(()=>{class n extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new eb(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new AU}next(t){rd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){rd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){rd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?K0:(this.currentObservers=null,s.push(t),new Sn(()=>{this.currentObservers=null,wo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new tt;return t.source=this,t}}return n.create=(e,t)=>new eb(e,t),n})();class eb extends Kr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:K0}}function tb(n){return Re(n?.lift)}function wt(n){return e=>{if(tb(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(n,e,t,r,i){return new xU(n,e,t,r,i)}class xU extends wg{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(n,e){return wt((t,r)=>{let i=0;t.subscribe(dt(r,s=>{r.next(n.call(e,s,i++))}))})}function sd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Ni(n){return this instanceof Ni?(this.v=n,this):new Ni(n)}function sb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Sg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ob=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ab(n){return Re(n?.then)}function ub(n){return Re(n[Eg])}function cb(n){return Symbol.asyncIterator&&Re(n?.[Symbol.asyncIterator])}function lb(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const db=function YU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hb(n){return Re(n?.[db])}function fb(n){return function ib(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ni?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ni(t.read());if(i)return yield Ni(void 0);yield yield Ni(r)}}finally{t.releaseLock()}})}function pb(n){return Re(n?.getReader)}function An(n){if(n instanceof tt)return n;if(null!=n){if(ub(n))return function JU(n){return new tt(e=>{const t=n[Eg]();if(Re(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ob(n))return function XU(n){return new tt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ab(n))return function ZU(n){return new tt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,J0)})}(n);if(cb(n))return gb(n);if(hb(n))return function eB(n){return new tt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(pb(n))return function tB(n){return gb(fb(n))}(n)}throw lb(n)}function gb(n){return new tt(e=>{(function nB(n,e){var t,r,i,s;return function nb(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=sb(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Qr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Tt(n,e,t=1/0){return Re(e)?Tt((r,i)=>pe((s,o)=>e(r,s,i,o))(An(n(r,i))),t):("number"==typeof e&&(t=e),wt((r,i)=>function rB(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;An(t(m,l++)).subscribe(dt(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Qr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return n.subscribe(dt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Io(n=1/0){return Tt(ws,n)}const vr=new tt(n=>n.complete());function mb(n){return n&&Re(n.schedule)}function Ag(n){return n[n.length-1]}function yb(n){return Re(Ag(n))?n.pop():void 0}function mu(n){return mb(Ag(n))?n.pop():void 0}function _b(n,e=0){return wt((t,r)=>{t.subscribe(dt(r,i=>Qr(r,n,()=>r.next(i),e),()=>Qr(r,n,()=>r.complete(),e),i=>Qr(r,n,()=>r.error(i),e)))})}function vb(n,e=0){return wt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wb(n,e){if(!n)throw new Error("Iterable cannot be null");return new tt(t=>{Qr(t,e,()=>{const r=n[Symbol.asyncIterator]();Qr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ht(n,e){return e?function dB(n,e){if(null!=n){if(ub(n))return function oB(n,e){return An(n).pipe(vb(e),_b(e))}(n,e);if(ob(n))return function uB(n,e){return new tt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ab(n))return function aB(n,e){return An(n).pipe(vb(e),_b(e))}(n,e);if(cb(n))return wb(n,e);if(hb(n))return function cB(n,e){return new tt(t=>{let r;return Qr(t,e,()=>{r=n[db](),Qr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(n,e);if(pb(n))return function lB(n,e){return wb(fb(n),e)}(n,e)}throw lb(n)}(n,e):An(n)}function xg(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new gu({next:()=>{r.unsubscribe(),n()}});return An(e(...t)).subscribe(r)}function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function Mg(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ng(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const pB=Ne({__forward_ref__:Ne});function Pe(n){return n.__forward_ref__=Pe,n.toString=function(){return ke(this())},n}function q(n){return Rg(n)?n():n}function Rg(n){return"function"==typeof n&&n.hasOwnProperty(pB)&&n.__forward_ref__===Pe}function kg(n){return n&&!!n.\u0275providers}const Ib="https://g.co/ng/security#xss";class A extends Error{constructor(e,t){super(od(e,t)),this.code=e}}function od(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function ad(n,e){throw new A(-201,!1)}function jn(n,e){null==n&&function De(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function tr(n){return{providers:n.providers||[],imports:n.imports||[]}}function ud(n){return Cb(n,cd)||Cb(n,Db)}function Cb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Eb(n){return n&&(n.hasOwnProperty(Pg)||n.hasOwnProperty(CB))?n[Pg]:null}const cd=Ne({\u0275prov:Ne}),Pg=Ne({\u0275inj:Ne}),Db=Ne({ngInjectableDef:Ne}),CB=Ne({ngInjectorDef:Ne});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let Og;function $n(n){const e=Og;return Og=n,e}function bb(n,e,t){const r=ud(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&K.Optional?null:void 0!==e?e:void ad(ke(n))}const Ve=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yu={},Fg="__NG_DI_FLAG__",ld="ngTempTokenPath",DB="ngTokenPath",bB=/\n/gm,TB="\u0275",Tb="__source";let _u;function Co(n){const e=_u;return _u=n,e}function SB(n,e=K.Default){if(void 0===_u)throw new A(-203,!1);return null===_u?bb(n,void 0,e):_u.get(n,e&K.Optional?null:void 0,e)}function Q(n,e=K.Default){return(function EB(){return Og}()||SB)(q(n),e)}function ge(n,e=K.Default){return Q(n,dd(e))}function dd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Lg(n){const e=[];for(let t=0;t<n.length;t++){const r=q(n[t]);if(Array.isArray(r)){if(0===r.length)throw new A(900,!1);let i,s=K.Default;for(let o=0;o<r.length;o++){const a=r[o],u=AB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Q(i,s))}else e.push(Q(r))}return e}function vu(n,e){return n[Fg]=e,n.prototype[Fg]=e,n}function AB(n){return n[Fg]}function Yr(n){return{toString:n}.toString()}var wr=(()=>((wr=wr||{})[wr.OnPush=0]="OnPush",wr[wr.Default=1]="Default",wr))(),Ir=(()=>{return(n=Ir||(Ir={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ir;var n})();const Jr={},Ce=[],hd=Ne({\u0275cmp:Ne}),Vg=Ne({\u0275dir:Ne}),Ug=Ne({\u0275pipe:Ne}),Ab=Ne({\u0275mod:Ne}),Xr=Ne({\u0275fac:Ne}),wu=Ne({__NG_ELEMENT_ID__:Ne});let NB=0;function Ft(n){return Yr(()=>{const e=Mb(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ir.Emulated,id:"c"+NB++,styles:n.styles||Ce,_:null,schemas:n.schemas||null,tView:null};Nb(t);const r=n.dependencies;return t.directiveDefs=fd(r,!1),t.pipeDefs=fd(r,!0),t})}function kB(n){return be(n)||Wt(n)}function PB(n){return null!==n}function Cr(n){return Yr(()=>({type:n.type,bootstrap:n.bootstrap||Ce,declarations:n.declarations||Ce,imports:n.imports||Ce,exports:n.exports||Ce,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xb(n,e){if(null==n)return Jr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function J(n){return Yr(()=>{const e=Mb(n);return Nb(e),e})}function be(n){return n[hd]||null}function Wt(n){return n[Vg]||null}function _n(n){return n[Ug]||null}function Mn(n,e){const t=n[Ab]||null;if(!t&&!0===e)throw new Error(`Type ${ke(n)} does not have '\u0275mod' property.`);return t}function Mb(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ce,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xb(n.inputs,e),outputs:xb(n.outputs)}}function Nb(n){n.features?.forEach(e=>e(n))}function fd(n,e){if(!n)return null;const t=e?_n:kB;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(PB)}const Zr=0,F=1,ae=2,Ye=3,nr=4,Is=5,Kt=6,Do=7,nt=8,pd=9,gd=10,ce=11,Bg=12,Iu=13,Rb=14,bo=15,Qt=16,Cu=17,To=18,Er=19,Eu=20,kb=21,Ue=22,jg=1,Pb=2,md=7,yd=8,So=9,on=10;function Nn(n){return Array.isArray(n)&&"object"==typeof n[jg]}function rr(n){return Array.isArray(n)&&!0===n[jg]}function $g(n){return 0!=(4&n.flags)}function Du(n){return n.componentOffset>-1}function _d(n){return 1==(1&n.flags)}function ir(n){return!!n.template}function FB(n){return 0!=(256&n[ae])}function Cs(n,e){return n.hasOwnProperty(Xr)?n[Xr]:null}class UB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Gn(){return Lb}function Lb(n){return n.type.prototype.ngOnChanges&&(n.setInput=jB),BB}function BB(){const n=Ub(this),e=n?.current;if(e){const t=n.previous;if(t===Jr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function jB(n,e,t,r){const i=this.declaredInputs[t],s=Ub(n)||function $B(n,e){return n[Vb]=e}(n,{previous:Jr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new UB(u&&u.currentValue,e,a===Jr),n[r]=e}Gn.ngInherit=!0;const Vb="__ngSimpleChanges__";function Ub(n){return n[Vb]||null}const Hn=function(n,e,t){};function Lt(n){for(;Array.isArray(n);)n=n[Zr];return n}function vd(n,e){return Lt(e[n])}function Rn(n,e){return Lt(e[n.index])}function $b(n,e){return n.data[e]}function vn(n,e){const t=e[n];return Nn(t)?t:t[Zr]}function wd(n){return 64==(64&n[ae])}function ki(n,e){return null==e?null:n[e]}function Gb(n){n[To]=0}function Hg(n,e){n[Is]+=e;let t=n,r=n[Ye];for(;null!==r&&(1===e&&1===t[Is]||-1===e&&0===t[Is]);)r[Is]+=e,t=r,r=r[Ye]}const ne={lFrame:Zb(null),bindingsEnabled:!0};function zb(){return ne.bindingsEnabled}function D(){return ne.lFrame.lView}function _e(){return ne.lFrame.tView}function xe(n){return ne.lFrame.contextLView=n,n[nt]}function Me(n){return ne.lFrame.contextLView=null,n}function Vt(){let n=qb();for(;null!==n&&64===n.type;)n=n.parent;return n}function qb(){return ne.lFrame.currentTNode}function Dr(n,e){const t=ne.lFrame;t.currentTNode=n,t.isParent=e}function zg(){return ne.lFrame.isParent}function xo(){return ne.lFrame.bindingIndex++}function tj(n,e){const t=ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wg(e)}function Wg(n){ne.lFrame.currentDirectiveIndex=n}function Qg(n){ne.lFrame.currentQueryIndex=n}function rj(n){const e=n[F];return 2===e.type?e.declTNode:1===e.type?n[Kt]:null}function Jb(n,e,t){if(t&K.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&K.Host||(i=rj(s),null===i||(s=s[bo],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ne.lFrame=Xb();return r.currentTNode=e,r.lView=n,!0}function Yg(n){const e=Xb(),t=n[F];ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Xb(){const n=ne.lFrame,e=null===n?null:n.child;return null===e?Zb(n):e}function Zb(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function eT(){const n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const tT=eT;function Jg(){const n=eT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function un(){return ne.lFrame.selectedIndex}function Es(n){ne.lFrame.selectedIndex=n}function qe(){const n=ne.lFrame;return $b(n.tView,n.selectedIndex)}function Id(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks??(n.destroyHooks=[])).push(t,l)}}function Cd(n,e,t){nT(n,e,3,t)}function Ed(n,e,t,r){(3&n[ae])===t&&nT(n,e,t,r)}function Xg(n,e){let t=n[ae];(3&t)===e&&(t&=2047,t+=1,n[ae]=t)}function nT(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[To]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[To]+=65536),(a<s||-1==s)&&(hj(n,t,e,u),n[To]=(4294901760&n[To])+u+2),u++}function hj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[ae]>>11<n[To]>>16&&(3&n[ae])===e){n[ae]+=2048,Hn(4,a,s);try{s.call(a)}finally{Hn(5,a,s)}}}else{Hn(4,a,s);try{s.call(a)}finally{Hn(5,a,s)}}}const Mo=-1;class Tu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function em(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];iT(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function rT(n){return 3===n||4===n||6===n}function iT(n){return 64===n.charCodeAt(0)}function Su(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||sT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function sT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function oT(n){return n!==Mo}function Dd(n){return 32767&n}function bd(n,e){let t=function mj(n){return n>>16}(n),r=e;for(;t>0;)r=r[bo],t--;return r}let tm=!0;function Td(n){const e=tm;return tm=n,e}const aT=255,uT=5;let yj=0;const br={};function Sd(n,e){const t=cT(n,e);if(-1!==t)return t;const r=e[F];r.firstCreatePass&&(n.injectorIndex=e.length,nm(r.data,n),nm(e,null),nm(r.blueprint,null));const i=rm(n,e),s=n.injectorIndex;if(oT(i)){const o=Dd(i),a=bd(i,e),u=a[F].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function nm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cT(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function rm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=mT(i),null===r)return Mo;if(t++,i=i[bo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Mo}function im(n,e,t){!function _j(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(wu)&&(r=t[wu]),null==r&&(r=t[wu]=yj++);const i=r&aT;e.data[n+(i>>uT)]|=1<<i}(n,e,t)}function lT(n,e,t){if(t&K.Optional||void 0!==n)return n;ad()}function dT(n,e,t,r){if(t&K.Optional&&void 0===r&&(r=null),!(t&(K.Self|K.Host))){const i=n[pd],s=$n(void 0);try{return i?i.get(e,r,t&K.Optional):bb(e,r,t&K.Optional)}finally{$n(s)}}return lT(r,0,t)}function hT(n,e,t,r=K.Default,i){if(null!==n){if(1024&e[ae]){const o=function Ej(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[ae]&&!(256&o[ae]);){const a=fT(s,o,t,r|K.Self,br);if(a!==br)return a;let u=s.parent;if(!u){const c=o[kb];if(c){const l=c.get(t,br,r);if(l!==br)return l}u=mT(o),o=o[bo]}s=u}return i}(n,e,t,r,br);if(o!==br)return o}const s=fT(n,e,t,r,br);if(s!==br)return s}return dT(e,t,r,i)}function fT(n,e,t,r,i){const s=function Ij(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(wu)?n[wu]:void 0;return"number"==typeof e?e>=0?e&aT:Cj:e}(t);if("function"==typeof s){if(!Jb(e,n,r))return r&K.Host?lT(i,0,r):dT(e,t,r,i);try{const o=s(r);if(null!=o||r&K.Optional)return o;ad()}finally{tT()}}else if("number"==typeof s){let o=null,a=cT(n,e),u=Mo,c=r&K.Host?e[Qt][Kt]:null;for((-1===a||r&K.SkipSelf)&&(u=-1===a?rm(n,e):e[a+8],u!==Mo&&gT(r,!1)?(o=e[F],a=Dd(u),e=bd(u,e)):a=-1);-1!==a;){const l=e[F];if(pT(s,a,l.data)){const d=wj(a,e,t,o,r,c);if(d!==br)return d}u=e[a+8],u!==Mo&&gT(r,e[F].data[a+8]===c)&&pT(s,a,e)?(o=l,a=Dd(u),e=bd(u,e)):a=-1}}return i}function wj(n,e,t,r,i,s){const o=e[F],a=o.data[n+8],l=function Ad(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&ir(f)&&f.type===t)return u}return null}(a,o,t,null==r?Du(a)&&tm:r!=o&&0!=(3&a.type),i&K.Host&&s===a);return null!==l?Ds(e,o,l,a):br}function Ds(n,e,t,r){let i=n[t];const s=e.data;if(function fj(n){return n instanceof Tu}(i)){const o=i;o.resolving&&function gB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new A(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ee(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}(s[t]));const a=Td(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?$n(o.injectImpl):null;Jb(n,r,K.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function dj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Lb(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&$n(u),Td(a),o.resolving=!1,tT()}}return i}function pT(n,e,t){return!!(t[e+(n>>uT)]&1<<n)}function gT(n,e){return!(n&K.Self||n&K.Host&&e)}class No{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return hT(this._tNode,this._lView,e,dd(r),t)}}function Cj(){return new No(Vt(),D())}function Ut(n){return Yr(()=>{const e=n.prototype.constructor,t=e[Xr]||sm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Xr]||sm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function sm(n){return Rg(n)?()=>{const e=sm(q(n));return e&&e()}:Cs(n)}function mT(n){const e=n[F],t=e.type;return 2===t?e.declTNode:1===t?n[Kt]:null}const ko="__parameters__";function Oo(n,e,t){return Yr(()=>{const r=function om(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ko)?u[ko]:Object.defineProperty(u,ko,{value:[]})[ko];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class j{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bs(n,e){n.forEach(t=>Array.isArray(t)?bs(t,e):e(t))}function _T(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Md(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function kn(n,e,t){let r=Fo(n,e);return r>=0?n[1|r]=t:(r=~r,function Sj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function um(n,e){const t=Fo(n,e);if(t>=0)return n[1|t]}function Fo(n,e){return function vT(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Nu=vu(Oo("Optional"),8),Ru=vu(Oo("SkipSelf"),4);var wn=(()=>((wn=wn||{})[wn.Important=1]="Important",wn[wn.DashCase=2]="DashCase",wn))();const pm=new Map;let Qj=0;const mm="__ngContext__";function Yt(n,e){Nn(e)?(n[mm]=e[Eu],function Jj(n){pm.set(n[Eu],n)}(e)):n[mm]=e}let ym;function _m(n,e){return ym(n,e)}function Fu(n){const e=n[Ye];return rr(e)?e[Ye]:e}function vm(n){return UT(n[Iu])}function wm(n){return UT(n[nr])}function UT(n){for(;null!==n&&!rr(n);)n=n[nr];return n}function Vo(n,e,t,r,i){if(null!=r){let s,o=!1;rr(r)?s=r:Nn(r)&&(o=!0,r=r[Zr]);const a=Lt(r);0===n&&null!==t?null==i?zT(e,t,a):Ts(e,t,a,i||null,!0):1===n&&null!==t?Ts(e,t,a,i||null,!0):2===n?function Sm(n,e,t){const r=Pd(n,e);r&&function y$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function w$(n,e,t,r,i){const s=t[md];s!==Lt(t)&&Vo(e,n,r,s,i);for(let a=on;a<t.length;a++){const u=t[a];Lu(u[F],u,n,e,r,s)}}(e,n,s,t,i)}}function Cm(n,e,t){return n.createElement(e,t)}function jT(n,e){const t=n[So],r=t.indexOf(e),i=e[Ye];512&e[ae]&&(e[ae]&=-513,Hg(i,-1)),t.splice(r,1)}function Em(n,e){if(n.length<=on)return;const t=on+e,r=n[t];if(r){const i=r[Cu];null!==i&&i!==n&&jT(i,r),e>0&&(n[t-1][nr]=r[nr]);const s=Md(n,on+e);!function c$(n,e){Lu(n,e,e[ce],2,null,null),e[Zr]=null,e[Kt]=null}(r[F],r);const o=s[Er];null!==o&&o.detachView(s[F]),r[Ye]=null,r[nr]=null,r[ae]&=-65}return r}function $T(n,e){if(!(128&e[ae])){const t=e[ce];t.destroyNode&&Lu(n,e,t,3,null,null),function h$(n){let e=n[Iu];if(!e)return Dm(n[F],n);for(;e;){let t=null;if(Nn(e))t=e[Iu];else{const r=e[on];r&&(t=r)}if(!t){for(;e&&!e[nr]&&e!==n;)Nn(e)&&Dm(e[F],e),e=e[Ye];null===e&&(e=n),Nn(e)&&Dm(e[F],e),t=e&&e[nr]}e=t}}(e)}}function Dm(n,e){if(!(128&e[ae])){e[ae]&=-65,e[ae]|=128,function m$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Tu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Hn(4,a,u);try{u.call(a)}finally{Hn(5,a,u)}}else{Hn(4,i,s);try{s.call(i)}finally{Hn(5,i,s)}}}}}(n,e),function g$(n,e){const t=n.cleanup,r=e[Do];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Do]=null}}(n,e),1===e[F].type&&e[ce].destroy();const t=e[Cu];if(null!==t&&rr(e[Ye])){t!==e[Ye]&&jT(t,e);const r=e[Er];null!==r&&r.detachView(n)}!function Xj(n){pm.delete(n[Eu])}(e)}}function GT(n,e,t){return function HT(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Zr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Ir.None||s===Ir.Emulated)return null}return Rn(r,t)}}(n,e.parent,t)}function Ts(n,e,t,r,i){n.insertBefore(e,t,r,i)}function zT(n,e,t){n.appendChild(e,t)}function qT(n,e,t,r,i){null!==r?Ts(n,e,t,r,i):zT(n,e,t)}function Pd(n,e){return n.parentNode(e)}let bm,Ld,Mm,Vd,QT=function KT(n,e,t){return 40&n.type?Rn(n,t):null};function Od(n,e,t,r){const i=GT(n,r,e),s=e[ce],a=function WT(n,e,t){return QT(n,e,t)}(r.parent||e[Kt],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)qT(s,i,t[u],a,!1);else qT(s,i,t,a,!1);void 0!==bm&&bm(s,r,e,t,i)}function Fd(n,e){if(null!==e){const t=e.type;if(3&t)return Rn(e,n);if(4&t)return Tm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Fd(n,r);{const i=n[e.index];return rr(i)?Tm(-1,i):Lt(i)}}if(32&t)return _m(e,n)()||Lt(n[e.index]);{const r=JT(n,e);return null!==r?Array.isArray(r)?r[0]:Fd(Fu(n[Qt]),r):Fd(n,e.next)}}return null}function JT(n,e){return null!==e?n[Qt][Kt].projection[e.projection]:null}function Tm(n,e){const t=on+n+1;if(t<e.length){const r=e[t],i=r[F].firstChild;if(null!==i)return Fd(r,i)}return e[md]}function Am(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Yt(Lt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Am(n,e,t.child,r,i,s,!1),Vo(e,n,i,a,s);else if(32&u){const c=_m(t,r);let l;for(;l=c();)Vo(e,n,i,l,s);Vo(e,n,i,a,s)}else 16&u?XT(n,e,r,t,i,s):Vo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Lu(n,e,t,r,i,s){Am(t,r,n.firstChild,e,i,s,!1)}function XT(n,e,t,r,i,s){const o=t[Qt],u=o[Kt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Vo(e,n,i,u[c],s);else Am(n,e,u,o[Ye],i,s,!0)}function ZT(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eS(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&em(n,e,r),null!==i&&ZT(n,e,i),null!==s&&function C$(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Uo(n){return function xm(){if(void 0===Ld&&(Ld=null,Ve.trustedTypes))try{Ld=Ve.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ld}()?.createHTML(n)||n}function Nm(){if(void 0===Vd&&(Vd=null,Ve.trustedTypes))try{Vd=Ve.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Vd}function nS(n){return Nm()?.createHTML(n)||n}function iS(n){return Nm()?.createScriptURL(n)||n}class sS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ib})`}}function Pi(n){return n instanceof sS?n.changingThisBreaksApplicationSecurity:n}function Vu(n,e){const t=function R$(n){return n instanceof sS&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ib})`)}return t===e}class k${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Uo(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class P${constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Uo(e),t}}const F$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rm(n){return(n=String(n)).match(F$)?n:"unsafe:"+n}function ni(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Uu(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const aS=ni("area,br,col,hr,img,wbr"),uS=ni("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cS=ni("rp,rt"),km=Uu(aS,Uu(uS,ni("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uu(cS,ni("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uu(cS,uS)),Pm=ni("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lS=Uu(Pm,ni("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ni("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),L$=ni("script,style,template");class V${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!km.hasOwnProperty(t))return this.sanitizedSomething=!0,!L$.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!lS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Pm[a]&&(u=Rm(u)),this.buf.push(" ",o,'="',dS(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();km.hasOwnProperty(t)&&!aS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(dS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const U$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,B$=/([^\#-~ |!])/g;function dS(n){return n.replace(/&/g,"&amp;").replace(U$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(B$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ud;function Om(n){return"content"in n&&function $$(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ft=(()=>((ft=ft||{})[ft.NONE=0]="NONE",ft[ft.HTML=1]="HTML",ft[ft.STYLE=2]="STYLE",ft[ft.SCRIPT=3]="SCRIPT",ft[ft.URL=4]="URL",ft[ft.RESOURCE_URL=5]="RESOURCE_URL",ft))();function hS(n){const e=Bu();return e?nS(e.sanitize(ft.HTML,n)||""):Vu(n,"HTML")?nS(Pi(n)):function j$(n,e){let t=null;try{Ud=Ud||function oS(n){const e=new P$(n);return function O$(){try{return!!(new window.DOMParser).parseFromString(Uo(""),"text/html")}catch{return!1}}()?new k$(e):e}(n);let r=e?String(e):"";t=Ud.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Ud.getInertBodyElement(r)}while(r!==s);return Uo((new V$).sanitizeChildren(Om(t)||t))}finally{if(t){const r=Om(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(function tS(){return void 0!==Mm?Mm:typeof document<"u"?document:void 0}(),te(n))}function fS(n){const e=Bu();return e?e.sanitize(ft.URL,n)||"":Vu(n,"URL")?Pi(n):Rm(te(n))}function pS(n){const e=Bu();if(e)return iS(e.sanitize(ft.RESOURCE_URL,n)||"");if(Vu(n,"ResourceURL"))return iS(Pi(n));throw new A(904,!1)}function Bu(){const n=D();return n&&n[Bg]}const Bd=new j("ENVIRONMENT_INITIALIZER"),mS=new j("INJECTOR",-1),yS=new j("INJECTOR_DEF_TYPES");class _S{get(e,t=yu){if(t===yu){const r=new Error(`NullInjectorError: No provider for ${ke(e)}!`);throw r.name="NullInjectorError",r}return t}}function K$(...n){return{\u0275providers:vS(0,n),\u0275fromNgModule:!0}}function vS(n,...e){const t=[],r=new Set;let i;return bs(e,s=>{const o=s;Fm(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&wS(i,t),t}function wS(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Lm(i,s=>{e.push(s)})}}function Fm(n,e,t,r){if(!(n=q(n)))return!1;let i=null,s=Eb(n);const o=!s&&be(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=Eb(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Fm(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{bs(s.imports,l=>{Fm(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&wS(c,e)}if(!a){const c=Cs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ce},{provide:yS,useValue:i,multi:!0},{provide:Bd,useValue:()=>Q(i),multi:!0})}const u=s.providers;null==u||a||Lm(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function Lm(n,e){for(let t of n)kg(t)&&(t=t.\u0275providers),Array.isArray(t)?Lm(t,e):e(t)}const Q$=Ne({provide:String,useValue:Ne});function Vm(n){return null!==n&&"object"==typeof n&&Q$ in n}function Ss(n){return"function"==typeof n}const Um=new j("Set Injector scope."),jd={},J$={};let Bm;function $d(){return void 0===Bm&&(Bm=new _S),Bm}class ri{}class ES extends ri{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$m(e,o=>this.processProvider(o)),this.records.set(mS,Bo(void 0,this)),i.has("environment")&&this.records.set(ri,Bo(void 0,this));const s=this.records.get(Um);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yS.multi,Ce,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Co(this),r=$n(void 0);try{return e()}finally{Co(t),$n(r)}}get(e,t=yu,r=K.Default){this.assertNotDestroyed(),r=dd(r);const i=Co(this),s=$n(void 0);try{if(!(r&K.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function n4(n){return"function"==typeof n||"object"==typeof n&&n instanceof j}(e)&&ud(e);a=u&&this.injectableDefInScope(u)?Bo(jm(e),jd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&K.Self?$d():this.parent).get(e,t=r&K.Optional&&t===yu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ld]=o[ld]||[]).unshift(ke(e)),i)throw o;return function xB(n,e,t,r){const i=n[ld];throw e[Tb]&&i.unshift(e[Tb]),n.message=function MB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==TB?n.slice(2):n;let i=ke(e);if(Array.isArray(e))i=e.map(ke).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ke(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(bB,"\n  ")}`}("\n"+n.message,i,t,r),n[DB]=i,n[ld]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{$n(s),Co(i)}}resolveInjectorInitializers(){const e=Co(this),t=$n(void 0);try{const r=this.get(Bd.multi,Ce,K.Self);for(const i of r)i()}finally{Co(e),$n(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ke(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){let t=Ss(e=q(e))?e:q(e&&e.provide);const r=function Z$(n){return Vm(n)?Bo(void 0,n.useValue):Bo(DS(n),jd)}(e);if(Ss(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Bo(void 0,jd,!0),i.factory=()=>Lg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===jd&&(t.value=J$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function t4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function jm(n){const e=ud(n),t=null!==e?e.factory:Cs(n);if(null!==t)return t;if(n instanceof j)throw new A(204,!1);if(n instanceof Function)return function X$(n){const e=n.length;if(e>0)throw function Mu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new A(204,!1);const t=function IB(n){return n&&(n[cd]||n[Db])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new A(204,!1)}function DS(n,e,t){let r;if(Ss(n)){const i=q(n);return Cs(i)||jm(i)}if(Vm(n))r=()=>q(n.useValue);else if(function CS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Lg(n.deps||[]));else if(function IS(n){return!(!n||!n.useExisting)}(n))r=()=>Q(q(n.useExisting));else{const i=q(n&&(n.useClass||n.provide));if(!function e4(n){return!!n.deps}(n))return Cs(i)||jm(i);r=()=>new i(...Lg(n.deps))}return r}function Bo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $m(n,e){for(const t of n)Array.isArray(t)?$m(t,e):t&&kg(t)?$m(t.\u0275providers,e):e(t)}class r4{}class bS{}class s4{resolveComponentFactory(e){throw function i4(n){const e=Error(`No component factory found for ${ke(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ju=(()=>{class n{}return n.NULL=new s4,n})();function o4(){return jo(Vt(),D())}function jo(n,e){return new Pn(Rn(n,e))}let Pn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=o4,n})();class SS{}let ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function u4(){const n=D(),t=vn(Vt().index,n);return(Nn(t)?t:n)[ce]}(),n})(),c4=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>null}),n})();class $u{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const l4=new $u("15.2.9"),Gm={},Hm="ngOriginalError";function zm(n){return n[Hm]}class $o{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&zm(e);for(;t&&zm(t);)t=zm(t);return t||null}}function si(n){return n instanceof Function?n():n}function xS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const MS="ng-template";function I4(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==xS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function NS(n){return 4===n.type&&n.value!==MS}function C4(n,e,t){return e===(4!==n.type||t?n.value:MS)}function E4(n,e,t){let r=4;const i=n.attrs||[],s=function T4(n){for(let e=0;e<n.length;e++)if(rT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!C4(n,u,t)||""===u&&1===e.length){if(sr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!I4(n.attrs,c,t)){if(sr(r))return!1;o=!0}continue}const d=D4(8&r?"class":u,i,NS(n),t);if(-1===d){if(sr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==xS(f,c,0)||2&r&&c!==h){if(sr(r))return!1;o=!0}}}}else{if(!o&&!sr(r)&&!sr(u))return!1;if(o&&sr(u))continue;o=!1,r=u|1&r}}return sr(r)||o}function sr(n){return 0==(1&n)}function D4(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function S4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function RS(n,e,t=!1){for(let r=0;r<e.length;r++)if(E4(n,e[r],t))return!0;return!1}function kS(n,e){return n?":not("+e.trim()+")":e}function x4(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!sr(o)&&(e+=kS(s,i),i=""),r=o,s=s||!sr(r);t++}return""!==i&&(e+=kS(s,i)),e}const re={};function se(n){PS(_e(),D(),un()+n,!1)}function PS(n,e,t,r){if(!r)if(3==(3&e[ae])){const s=n.preOrderCheckHooks;null!==s&&Cd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Ed(e,s,0,t)}Es(t)}function VS(n,e=null,t=null,r){const i=US(n,e,t,r);return i.resolveInjectorInitializers(),i}function US(n,e=null,t=null,r,i=new Set){const s=[t||Ce,K$(n)];return r=r||("object"==typeof n?void 0:ke(n)),new ES(s,e||$d(),r||null,i)}let Tr=(()=>{class n{static create(t,r){if(Array.isArray(t))return VS({name:""},r,t,"");{const i=t.name??"";return VS({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=yu,n.NULL=new _S,n.\u0275prov=W({token:n,providedIn:"any",factory:()=>Q(mS)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=K.Default){const t=D();return null===t?Q(n,e):hT(Vt(),t,q(n),e)}function WS(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Qg(t[r]),o.contentQueries(2,e[s],s)}}}function Hd(n,e,t,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Zr]=i,d[ae]=76|r,(null!==l||n&&1024&n[ae])&&(d[ae]|=1024),Gb(d),d[Ye]=d[bo]=n,d[nt]=t,d[gd]=o||n&&n[gd],d[ce]=a||n&&n[ce],d[Bg]=u||n&&n[Bg]||null,d[pd]=c||n&&n[pd]||null,d[Kt]=s,d[Eu]=function Yj(){return Qj++}(),d[kb]=l,d[Qt]=2==e.type?n[Qt]:d,d}function zo(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Ym(n,e,t,r,i){const s=qb(),o=zg(),u=n.data[e]=function tG(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function ej(){return ne.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function bu(){const n=ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Dr(s,!0),s}function Gu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Jm(n,e,t){Yg(e);try{const r=n.viewQuery;null!==r&&oy(1,r,t);const i=n.template;null!==i&&KS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&WS(n,e),n.staticViewQueries&&oy(2,n.viewQuery,t);const s=n.components;null!==s&&function X4(n,e){for(let t=0;t<e.length;t++)IG(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ae]&=-5,Jg()}}function zd(n,e,t,r){const i=e[ae];if(128!=(128&i)){Yg(e);try{Gb(e),function Kb(n){return ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&KS(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Cd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Ed(e,c,0,null),Xg(e,0)}if(function vG(n){for(let e=vm(n);null!==e;e=wm(e)){if(!e[Pb])continue;const t=e[So];for(let r=0;r<t.length;r++){const i=t[r];512&i[ae]||Hg(i[Ye],1),i[ae]|=512}}}(e),function _G(n){for(let e=vm(n);null!==e;e=wm(e))for(let t=on;t<e.length;t++){const r=e[t],i=r[F];wd(r)&&zd(i,r,i.template,r[nt])}}(e),null!==n.contentQueries&&WS(n,e),o){const c=n.contentCheckHooks;null!==c&&Cd(e,c)}else{const c=n.contentHooks;null!==c&&Ed(e,c,1),Xg(e,1)}!function Y4(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Es(~i);else{const s=i,o=t[++r],a=t[++r];tj(o,s),a(2,e[s])}}}finally{Es(-1)}}(n,e);const a=n.components;null!==a&&function J4(n,e){for(let t=0;t<e.length;t++)wG(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&oy(2,u,r),o){const c=n.viewCheckHooks;null!==c&&Cd(e,c)}else{const c=n.viewHooks;null!==c&&Ed(e,c,2),Xg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ae]&=-41,512&e[ae]&&(e[ae]&=-513,Hg(e[Ye],-1))}finally{Jg()}}}function KS(n,e,t,r,i){const s=un(),o=2&r;try{Es(-1),o&&e.length>Ue&&PS(n,e,Ue,!1),Hn(o?2:0,i),t(r,i)}finally{Es(s),Hn(o?3:1,i)}}function Xm(n,e,t){if($g(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Zm(n,e,t){zb()&&(function uG(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Du(t)&&function gG(n,e,t){const r=Rn(e,n),i=QS(t),s=n[gd],o=qd(n,Hd(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Sd(t,e),Yt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=Ds(e,n,a,t);Yt(c,e),null!==o&&mG(0,a-i,c,u,0,o),ir(u)&&(vn(t.index,e)[nt]=Ds(e,n,a,t))}}(n,e,t,Rn(t,e)),64==(64&t.flags)&&eA(n,e,t))}function ey(n,e,t=Rn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function QS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ty(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ty(n,e,t,r,i,s,o,a,u,c){const l=Ue+r,d=l+i,h=function Z4(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:re);return t}(l,d),f="function"==typeof c?c():c;return h[F]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function JS(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?XS(t,e,i,s):r.hasOwnProperty(i)&&XS(t,e,r[i],s)}return t}function XS(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ny(n,e,t,r){if(zb()){const i=null===r?null:{"":-1},s=function lG(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(RS(e,o.selectors,!1))if(r||(r=[]),ir(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ry(n,e,a.length)}else r.unshift(o),ry(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&ZS(n,e,t,o,i,a),i&&function dG(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new A(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Su(t.mergedAttrs,t.attrs)}function ZS(n,e,t,r,i,s){for(let c=0;c<r.length;c++)im(Sd(t,e),n,r[c].type);!function fG(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Gu(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=Su(t.mergedAttrs,l.hostAttrs),pG(n,t,e,u,l),hG(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function nG(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=t?t.get(d):null,p=h?h.outputs:null;u=JS(d.inputs,l,u,h?h.inputs:null),c=JS(d.outputs,l,c,p);const m=null===u||null===o||NS(e)?null:yG(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function eA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function nj(){return ne.lFrame.currentDirectiveIndex}();try{Es(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];Wg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&cG(u,c)}}finally{Es(-1),Wg(o)}}function cG(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ry(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function hG(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ir(e)&&(t[""]=n)}}function pG(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Cs(i.type)),o=new Tu(s,ir(i),C);n.blueprint[r]=o,t[r]=o,function oG(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function aG(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Gu(n,t,i.hostVars,re),i)}function Sr(n,e,t,r,i,s){const o=Rn(n,e);!function iy(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?te(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[ce],o,s,n.value,t,r,i)}function mG(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function yG(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function tA(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function wG(n,e){const t=vn(e,n);if(wd(t)){const r=t[F];48&t[ae]?zd(r,t,r.template,t[nt]):t[Is]>0&&sy(t)}}function sy(n){for(let r=vm(n);null!==r;r=wm(r))for(let i=on;i<r.length;i++){const s=r[i];if(wd(s))if(512&s[ae]){const o=s[F];zd(o,s,o.template,s[nt])}else s[Is]>0&&sy(s)}const t=n[F].components;if(null!==t)for(let r=0;r<t.length;r++){const i=vn(t[r],n);wd(i)&&i[Is]>0&&sy(i)}}function IG(n,e){const t=vn(e,n),r=t[F];(function CG(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Jm(r,t,t[nt])}function qd(n,e){return n[Iu]?n[Rb][nr]=e:n[Iu]=e,n[Rb]=e,e}function Wd(n){for(;n;){n[ae]|=32;const e=Fu(n);if(FB(n)&&!e)return n;n=e}return null}function Kd(n,e,t,r=!0){const i=e[gd];i.begin&&i.begin();try{zd(n,e,n.template,t)}catch(o){throw r&&sA(e,o),o}finally{i.end&&i.end()}}function oy(n,e,t){Qg(0),e(n,t)}function nA(n){return n[Do]||(n[Do]=[])}function rA(n){return n.cleanup||(n.cleanup=[])}function sA(n,e){const t=n[pd],r=t?t.get($o,null):null;r&&r.handleError(e)}function ay(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Qd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ng(i,a):2==s&&(r=Ng(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Yd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Lt(s)),rr(s))for(let a=on;a<s.length;a++){const u=s[a],c=u[F].firstChild;null!==c&&Yd(u[F],u,c,r)}const o=t.type;if(8&o)Yd(n,e,t.child,r);else if(32&o){const a=_m(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=JT(e,t);if(Array.isArray(a))r.push(...a);else{const u=Fu(e[Qt]);Yd(u[F],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Hu{get rootNodes(){const e=this._lView,t=e[F];return Yd(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return 128==(128&this._lView[ae])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ye];if(rr(e)){const t=e[yd],r=t?t.indexOf(this):-1;r>-1&&(Em(e,r),Md(t,r))}this._attachedToViewContainer=!1}$T(this._lView[F],this._lView)}onDestroy(e){!function YS(n,e,t,r){const i=nA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&rA(n).push(r,i.length-1))}(this._lView[F],this._lView,null,e)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ae]&=-65}reattach(){this._lView[ae]|=64}detectChanges(){Kd(this._lView[F],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function d$(n,e){Lu(n,e,e[ce],2,null,null)}(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e}}class EG extends Hu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Kd(e[F],e,e[nt],!1)}checkNoChanges(){}get context(){return null}}class oA extends ju{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=be(e);return new zu(t,this.ngModule)}}function aA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class bG{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=dd(r);const i=this.injector.get(e,Gm,r);return i!==Gm||t===Gm?i:this.parentInjector.get(e,t,r)}}class zu extends bS{get inputs(){return aA(this.componentDef.inputs)}get outputs(){return aA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function M4(n){return n.map(x4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof ri?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new bG(e,s):e,a=o.get(SS,null);if(null===a)throw new A(407,!1);const u=o.get(c4,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function eG(n,e,t){return n.selectRootElement(e,t===Ir.ShadowDom)}(c,r,this.componentDef.encapsulation):Cm(c,l,function DG(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=ty(0,null,null,1,0,null,null,null,null,null),p=Hd(null,f,null,h,null,null,a,c,u,o,null);let m,y;Yg(p);try{const I=this.componentDef;let E,v=null;I.findHostDirectiveDefs?(E=[],v=new Map,I.findHostDirectiveDefs(I,E,v),E.push(I)):E=[I];const k=function SG(n,e){const t=n[F],r=Ue;return n[r]=e,zo(t,r,2,"#host",null)}(p,d),$=function AG(n,e,t,r,i,s,o,a){const u=i[F];!function xG(n,e,t,r){for(const i of n)e.mergedAttrs=Su(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Qd(e,e.mergedAttrs,!0),null!==t&&eS(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),l=Hd(i,QS(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&ry(u,n,r.length-1),qd(i,l),i[n.index]=l}(k,d,I,E,p,a,c);y=$b(f,Ue),d&&function NG(n,e,t,r){if(r)em(n,t,["ng-version",l4.full]);else{const{attrs:i,classes:s}=function N4(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!sr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&em(n,t,i),s&&s.length>0&&ZT(n,t,s.join(" "))}}(c,I,d,r),void 0!==t&&function RG(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,t),m=function MG(n,e,t,r,i,s){const o=Vt(),a=i[F],u=Rn(o,i);ZS(a,i,o,t,null,r);for(let l=0;l<t.length;l++)Yt(Ds(i,a,o.directiveStart+l,o),i);eA(a,i,o),u&&Yt(u,i);const c=Ds(i,a,o.directiveStart+o.componentOffset,o);if(n[nt]=i[nt]=c,null!==s)for(const l of s)l(c,e);return Xm(a,o,n),c}($,I,E,v,p,[kG]),Jm(f,p,null)}finally{Jg()}return new TG(this.componentType,m,jo(y,p),p,y)}}class TG extends r4{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new EG(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;ay(s[F],s,i,e,t),Wd(vn(this._tNode.index,s))}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function kG(){const n=Vt();Id(D()[F],n)}function Te(n){let e=function uA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ir(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=uy(n.inputs),o.declaredInputs=uy(n.declaredInputs),o.outputs=uy(n.outputs);const a=i.hostBindings;a&&LG(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&OG(n,u),c&&FG(n,c),Mg(n.inputs,i.inputs),Mg(n.declaredInputs,i.declaredInputs),Mg(n.outputs,i.outputs),ir(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Te&&(t=!1)}}e=Object.getPrototypeOf(e)}!function PG(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Su(i.hostAttrs,t=Su(t,i.hostAttrs))}}(r)}function uy(n){return n===Jr?{}:n===Ce?[]:n}function OG(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function FG(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function LG(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Jd(n){return!!cy(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function cy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Jt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function xr(n,e,t,r){const i=D();return Jt(i,xo(),e)&&(_e(),Sr(qe(),i,n,e,t,r)),xr}function rt(n,e,t,r,i,s,o,a){const u=D(),c=_e(),l=n+Ue,d=c.firstCreatePass?function WG(n,e,t,r,i,s,o,a,u){const c=e.consts,l=zo(e,n,4,o||null,ki(c,a));ny(e,t,l,ki(c,u)),Id(e,l);const d=l.tView=ty(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];Dr(d,!1);const h=u[ce].createComment("");Od(c,u,h,d),Yt(h,u),qd(u,u[l]=tA(h,u,h,d)),_d(d)&&Zm(c,u,d),null!=o&&ey(u,d,a)}function he(n,e,t){const r=D();return Jt(r,xo(),e)&&function On(n,e,t,r,i,s,o,a){const u=Rn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(ay(n,t,l,r,i),Du(e)&&function iG(n,e){const t=vn(e,n);16&t[ae]||(t[ae]|=32)}(t,e.index)):3&e.type&&(r=function rG(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(_e(),qe(),r,n,e,r[ce],t,!1),he}function ly(n,e,t,r,i){const o=i?"class":"style";ay(n,t,e.inputs[o],o,r)}function S(n,e,t,r){const i=D(),s=_e(),o=Ue+n,a=i[ce],u=s.firstCreatePass?function YG(n,e,t,r,i,s){const o=e.consts,u=zo(e,n,2,r,ki(o,i));return ny(e,t,u,ki(o,s)),null!==u.attrs&&Qd(u,u.attrs,!1),null!==u.mergedAttrs&&Qd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],c=i[o]=Cm(a,e,function lj(){return ne.lFrame.currentNamespace}()),l=_d(u);return Dr(u,!0),eS(a,c,u),32!=(32&u.flags)&&Od(s,i,c,u),0===function KB(){return ne.lFrame.elementDepthCount}()&&Yt(c,i),function QB(){ne.lFrame.elementDepthCount++}(),l&&(Zm(s,i,u),Xm(s,u,i)),null!==r&&ey(i,u),S}function x(){let n=Vt();zg()?function qg(){ne.lFrame.isParent=!1}():(n=n.parent,Dr(n,!1));const e=n;!function YB(){ne.lFrame.elementDepthCount--}();const t=_e();return t.firstCreatePass&&(Id(t,n),$g(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function pj(n){return 0!=(8&n.flags)}(e)&&ly(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function gj(n){return 0!=(16&n.flags)}(e)&&ly(t,e,D(),e.stylesWithoutHost,!1),x}function Wn(n,e,t,r){return S(n,e,t,r),x(),Wn}function cn(){return D()}function Wu(n){return!!n&&"function"==typeof n.then}const fy=function CA(n){return!!n&&"function"==typeof n.subscribe};function X(n,e,t,r){const i=D(),s=_e(),o=Vt();return function DA(n,e,t,r,i,s,o){const a=_d(r),c=n.firstCreatePass&&rA(n),l=e[nt],d=nA(e);let h=!0;if(3&r.type||o){const m=Rn(r,e),y=o?o(m):m,I=d.length,E=o?k=>o(Lt(k[r.index])):r.index;let v=null;if(!o&&a&&(v=function XG(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Do],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=TA(r,e,l,s,!1);const k=t.listen(y,i,s);d.push(s,k),c&&c.push(i,E,I,I+1)}}else s=TA(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const $=e[p[y]][p[y+1]].subscribe(s),z=d.length;d.push(s,$),c&&c.push(i,r.index,z,-(z+1))}}}(s,i,i[ce],o,n,e,r),X}function bA(n,e,t,r){try{return Hn(6,e,t),!1!==t(r)}catch(i){return sA(n,i),!1}finally{Hn(7,e,t)}}function TA(n,e,t,r,i){return function s(o){if(o===Function)return r;Wd(n.componentOffset>-1?vn(n.index,e):e);let u=bA(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)u=bA(e,t,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function le(n=1){return function ij(n){return(ne.lFrame.contextLView=function sj(n,e){for(;n>0;)e=e[bo],n--;return e}(n,ne.lFrame.contextLView))[nt]}(n)}function Zd(n,e){return n<<17|e<<2}function Oi(n){return n>>17&32767}function gy(n){return 2|n}function xs(n){return(131068&n)>>2}function my(n,e){return-131069&n|e<<2}function yy(n){return 1|n}function FA(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Oi(s):xs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];aH(n[a],e)&&(u=!0,n[a+1]=r?yy(l):gy(l)),a=r?Oi(l):xs(l)}u&&(n[t+1]=r?gy(s):yy(s))}function aH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Fo(n,e)>=0}function eh(n,e){return function or(n,e,t,r){const i=D(),s=_e(),o=function ti(n){const e=ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function zA(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[un()],o=function HA(n,e){return e>=n.expandoStartIndex}(n,t);(function QA(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function mH(n,e,t,r){const i=function Kg(n){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Ku(t=_y(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=_y(i,n,e,t,r),null===s){let u=function yH(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==xs(r))return n[Oi(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=_y(null,n,e,u[1],r),u=Ku(u,e.attrs,r),function _H(n,e,t,r){n[Oi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function vH(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ku(r,n[s].hostAttrs,t);return Ku(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function sH(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Oi(o),u=xs(o);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||Fo(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=Oi(n[a+1]);n[r+1]=Zd(h,a),0!==h&&(n[h+1]=my(n[h+1],r)),n[a+1]=function rH(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Zd(a,0),0!==a&&(n[a+1]=my(n[a+1],r)),a=r;else n[r+1]=Zd(u,0),0===a?a=r:n[u+1]=my(n[u+1],r),u=r;c&&(n[r+1]=gy(n[r+1])),FA(n,l,r,!0),FA(n,l,r,!1),function oH(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Fo(s,e)>=0&&(t[r+1]=yy(t[r+1]))}(e,l,n,r,s),o=Zd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==re&&Jt(i,o,e)&&function WA(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function iH(n){return 1==(1&n)}(c)?KA(u,e,t,i,xs(c),o):void 0;th(l)||(th(s)||function nH(n){return 2==(2&n)}(c)&&(s=KA(u,null,t,i,a,o)),function I$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:wn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=wn.Important),n.setStyle(t,r,i,s))}}(r,o,vd(un(),t),i,s))}(s,s.data[un()],i,i[ce],n,i[o+1]=function EH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ke(Pi(n)))),n}(e,t),r,o)}(n,e,null,!0),eh}function _y(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Ku(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Ku(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),kn(n,o,!!t||e[++s]))}return void 0===n?null:n}function KA(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===re&&(h=d?Ce:void 0);let f=d?um(h,r):l===r?h:void 0;if(c&&!th(f)&&(f=um(u,r)),th(f)&&(a=f,o))return a;const p=n[i+1];i=o?Oi(p):xs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=um(u,r))}return a}function th(n){return void 0!==n}function V(n,e=""){const t=D(),r=_e(),i=n+Ue,s=r.firstCreatePass?zo(r,i,1,e,null):r.data[i],o=t[i]=function Im(n,e){return n.createText(e)}(t[ce],e);Od(r,t,o,s),Dr(s,!1)}function Kn(n){return nh("",n,""),Kn}function nh(n,e,t){const r=D(),i=function Wo(n,e,t,r){return Jt(n,xo(),t)?e+te(t)+r:re}(r,n,e,t);return i!==re&&function oi(n,e,t){const r=vd(e,n);!function BT(n,e,t){n.setValue(e,t)}(n[ce],r,t)}(r,un(),i),nh}const ra="en-US";let yx=ra;function Iy(n,e,t,r,i){if(n=q(n),Array.isArray(n))for(let s=0;s<n.length;s++)Iy(n[s],e,t,r,i);else{const s=_e(),o=D();let a=Ss(n)?n:q(n.provide),u=DS(n);const c=Vt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ss(n)||!n.multi){const f=new Tu(u,i,C),p=Ey(a,e,i?l:l+h,d);-1===p?(im(Sd(c,o),s,a),Cy(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Ey(a,e,l+h,d),p=Ey(a,e,l,l+h),y=p>=0&&t[p];if(i&&!y||!i&&!(f>=0&&t[f])){im(Sd(c,o),s,a);const I=function j3(n,e,t,r,i){const s=new Tu(n,t,C);return s.multi=[],s.index=e,s.componentProviders=0,$x(s,i,r&&!t),s}(i?B3:U3,t.length,i,r,u);!i&&y&&(t[p].providerFactory=I),Cy(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),o.push(I)}else Cy(s,n,f>-1?f:p,$x(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function Cy(n,e,t,r){const i=Ss(e),s=function Y$(n){return!!n.useClass}(e);if(i||s){const u=(s?q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function $x(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ey(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function U3(n,e,t,r){return Dy(this.multi,[])}function B3(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ds(t,t[F],this.providerFactory.index,r);s=a.slice(0,o),Dy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Dy(i,s);return s}function Dy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function He(n,e=[]){return t=>{t.providersResolver=(r,i)=>function V3(n,e,t){const r=_e();if(r.firstCreatePass){const i=ir(n);Iy(t,r.data,r.blueprint,i,!0),Iy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ia{}class Gx{}class Hx extends ia{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oA(this);const r=Mn(e);this._bootstrapComponents=si(r.bootstrap),this._r3Injector=US(e,t,[{provide:ia,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],ke(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class by extends Gx{constructor(e){super(),this.moduleType=e}create(e){return new Hx(this.moduleType,e)}}class G3 extends ia{constructor(e,t,r){super(),this.componentFactoryResolver=new oA(this),this.instance=null;const i=new ES([...e,{provide:ia,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],t||$d(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ah(n,e,t=null){return new G3(n,e,t).injector}let H3=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=vS(0,t.type),i=r.length>0?ah([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(Q(ri))}),n})();function zx(n){n.getStandaloneInjector=e=>e.get(H3).getOrCreateStandaloneInjector(n)}function Sy(n,e,t,r){return function Xx(n,e,t,r,i,s){const o=e+t;return Jt(n,o,i)?function Ar(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function ec(n,e){const t=n[e];return t===re?void 0:t}(n,o+1)}(D(),function an(){const n=ne.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function Ay(n){return e=>{setTimeout(n,void 0,e)}}const Oe=class gz extends Kr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Ay(s),i&&(i=Ay(i)),o&&(o=Ay(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Sn&&e.add(a),a}};let ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=vz,n})();const yz=ai,_z=class extends yz{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=Hd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Cu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Er];return null!==o&&(i[Er]=o.createEmbeddedView(r)),Jm(r,i,e),new Hu(i)}};function vz(){return function uh(n,e){return 4&n.type?new _z(e,n,jo(n,e)):null}(Vt(),D())}let ur=(()=>{class n{}return n.__NG_ELEMENT_ID__=wz,n})();function wz(){return function s1(n,e){let t;const r=e[n.index];if(rr(r))t=r;else{let i;if(8&n.type)i=Lt(r);else{const s=e[ce];i=s.createComment("");const o=Rn(n,e);Ts(s,Pd(s,o),i,function _$(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=tA(r,e,i,n),qd(e,t)}return new r1(t,n,e)}(Vt(),D())}const Iz=ur,r1=class extends Iz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return jo(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const e=rm(this._hostTNode,this._hostLView);if(oT(e)){const t=bd(e,this._hostLView),r=Dd(e);return new No(t[F].data[r+8],t)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=i1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-on}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function xu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new zu(be(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(ri,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[F];if(function WB(n){return rr(n[Ye])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Ye],h=new r1(d,d[Kt],d[Ye]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function f$(n,e,t,r){const i=on+r,s=t.length;r>0&&(t[i-1][nr]=e),r<s-on?(e[nr]=t[i],_T(t,on+r,e)):(t.push(e),e[nr]=null),e[Ye]=t;const o=e[Cu];null!==o&&t!==o&&function p$(n,e){const t=n[So];e[Qt]!==e[Ye][Ye][Qt]&&(n[Pb]=!0),null===t?n[So]=[e]:t.push(e)}(o,e);const a=e[Er];null!==a&&a.insertView(n),e[ae]|=64}(i,r,o,s);const a=Tm(s,o),u=r[ce],c=Pd(u,o[md]);return null!==c&&function l$(n,e,t,r,i,s){r[Zr]=i,r[Kt]=e,Lu(n,r,t,1,i,s)}(i,o[Kt],u,r,c,a),e.attachToViewContainerRef(),_T(My(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=i1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Em(this._lContainer,t);r&&(Md(My(this._lContainer),t),$T(r[F],r))}detach(e){const t=this._adjustIndex(e,-1),r=Em(this._lContainer,t);return r&&null!=Md(My(this._lContainer),t)?new Hu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function i1(n){return n[yd]}function My(n){return n[yd]||(n[yd]=[])}function lh(...n){}const dh=new j("Application Initializer");let hh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=lh,this.reject=lh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Wu(s))t.push(s);else if(fy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Q(dh,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rc=new j("AppId",{providedIn:"root",factory:function N1(){return`${jy()}${jy()}${jy()}`}});function jy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const R1=new j("Platform Initializer"),k1=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Qz=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ui=new j("LocaleId",{providedIn:"root",factory:()=>ge(ui,K.Optional|K.SkipSelf)||function Yz(){return typeof $localize<"u"&&$localize.locale||ra}()});class Xz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let P1=(()=>{class n{compileModuleSync(t){return new by(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=si(Mn(t).declarations).reduce((o,a)=>{const u=be(a);return u&&o.push(new zu(u)),o},[]);return new Xz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t5=(()=>Promise.resolve(0))();function $y(n){typeof Zone>"u"?t5.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class it{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function n5(){let n=Ve.requestAnimationFrame,e=Ve.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function s5(n){const e=()=>{!function i5(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ve,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hy(n),n.isCheckStableRunning=!0,Gy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return L1(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),V1(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return L1(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),V1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Hy(n),Gy(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!it.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(it.isInAngularZone())throw new A(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,r5,lh,lh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const r5={};function Gy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Hy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function L1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V1(n){n._nesting--,Gy(n)}class o5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const U1=new j(""),fh=new j("");let Wy,zy=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wy||(function a5(n){Wy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{it.assertNotInAngularZone(),$y(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$y(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Q(it),Q(qy),Q(fh))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),qy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Wy?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ci=!1;let Fi=null;const B1=new j("AllowMultipleToken"),Ky=new j("PlatformDestroyListeners"),j1=new j("appBootstrapListener");class $1{constructor(e,t){this.name=e,this.token=t}}function H1(n,e,t=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=Qy();if(!o||o.injector.get(B1,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function l5(n){if(Fi&&!Fi.get(B1,!1))throw new A(400,!1);Fi=n;const e=n.get(q1);(function G1(n){const e=n.get(R1,null);e&&e.forEach(t=>t())})(n)}(function z1(n=[],e){return Tr.create({name:e,providers:[{provide:Um,useValue:"platform"},{provide:Ky,useValue:new Set([()=>Fi=null])},...n]})}(a,r))}return function h5(n){const e=Qy();if(!e)throw new A(401,!1);return e}()}}function Qy(){return Fi?.get(q1)??null}let q1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function K1(n,e){let t;return t="noop"===n?new o5:("zone.js"===n?void 0:n)||new it(e),t}(r?.ngZone,function W1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:it,useValue:i}];return i.run(()=>{const o=Tr.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get($o,null);if(!u)throw new A(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{gh(this._modules,a),c.unsubscribe()})}),function Q1(n,e,t){try{const r=t();return Wu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(hh);return c.runInitializers(),c.donePromise.then(()=>(function _x(n){jn(n,"Expected localeId to be defined"),"string"==typeof n&&(yx=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ui,ra)||ra),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=Y1({},r);return function u5(n,e,t){const r=new by(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(ph);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new A(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Ky,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Q(Tr))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Y1(n,e){return Array.isArray(e)?e.reduce(Y1,n):{...n,...e}}let ph=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new tt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new tt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),$y(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function hB(...n){const e=mu(n),t=function sB(n,e){return"number"==typeof Ag(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?An(r[0]):Io(t)(ht(r,e)):vr}(s,o.pipe(function fB(n={}){const{connector:e=(()=>new Kr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return wt((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=xg(p,i))}),I.subscribe(y),!o&&c>0&&(o=new gu({next:E=>I.next(E),error:E=>{d=!0,h(),a=xg(f,t,E),I.error(E)},complete:()=>{l=!0,h(),a=xg(f,r),I.complete()}}),An(m).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof bS;if(!this._injector.get(hh).done){!i&&function Eo(n){const e=be(n)||Wt(n)||_n(n);return null!==e&&e.standalone}(t);throw new A(405,ci)}let o;o=i?t:this._injector.get(ju).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function c5(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ia),c=o.create(Tr.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(U1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),gh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;gh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(j1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>gh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new A(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Q(it),Q(ri),Q($o))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let mh=(()=>{class n{}return n.__NG_ELEMENT_ID__=p5,n})();function p5(n){return function g5(n,e,t){if(Du(n)&&!t){const r=vn(n.index,e);return new Hu(r,r)}return 47&n.type?new Hu(e[Qt],e):null}(Vt(),D(),16==(16&n))}class tM{constructor(){}supports(e){return Jd(e)}create(e){return new I5(e)}}const w5=(n,e)=>e;class I5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||w5}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<rM(r,i,s)?t:r,a=rM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Jd(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function HG(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new C5(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new nM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class C5{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class E5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class nM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new E5,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class iM{constructor(){}supports(e){return e instanceof Map||cy(e)}create(){return new D5}}class D5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||cy(e)))throw new A(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new b5(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class b5{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sM(){return new vh([new tM])}let vh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sM()),deps:[[n,new Ru,new Nu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new A(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:sM}),n})();function oM(){return new ic([new iM])}let ic=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||oM()),deps:[[n,new Ru,new Nu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new A(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:oM}),n})();const A5=H1(null,"core",[]);let x5=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Q(ph))},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({}),n})();function aa(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let e_=null;function li(){return e_}class R5{}const Cn=new j("DocumentToken");let t_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return function k5(){return Q(aM)}()},providedIn:"platform"}),n})();const P5=new j("Location Initialized");let aM=(()=>{class n extends t_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return li().getBaseHref(this._doc)}onPopState(t){const r=li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){uM()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){uM()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Q(Cn))},n.\u0275prov=W({token:n,factory:function(){return function O5(){return new aM(Q(Cn))}()},providedIn:"platform"}),n})();function uM(){return!!window.history.pushState}function n_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function di(n){return n&&"?"!==n[0]?"?"+n:n}let Rs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(dM)},providedIn:"root"}),n})();const lM=new j("appBaseHref");let dM=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ge(Cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return n_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Q(t_),Q(lM,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F5=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=n_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Q(t_),Q(lM,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),r_=(()=>{class n{constructor(t){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function U5(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(cM(hM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+di(r))}normalize(t){return n.stripTrailingSlash(function V5(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,hM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=di,n.joinWithSlash=n_,n.stripTrailingSlash=cM,n.\u0275fac=function(t){return new(t||n)(Q(Rs))},n.\u0275prov=W({token:n,factory:function(){return function L5(){return new r_(Q(Rs))}()},providedIn:"root"}),n})();function hM(n){return n.replace(/\/index.html$/,"")}const f_=/\s+/,IM=[];let p_=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=IM,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(f_):IM}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(f_):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(f_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(C(vh),C(ic),C(Pn),C(ii))},n.\u0275dir=J({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Dq{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ua=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Dq(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),DM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{DM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(ur),C(ai),C(vh))},n.\u0275dir=J({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function DM(n,e){n.context.$implicit=e.item}let ks=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Tq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(ur),C(ai))},n.\u0275dir=J({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Tq{constructor(){this.$implicit=null,this.ngIf=null}}function bM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ke(e)}'.`)}let Jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({}),n})();let xM=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>new t9(Q(Cn),window)}),n})();class t9{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function n9(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=MM(this.window.history)||MM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function MM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class M9 extends R5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class I_ extends M9{static makeCurrent(){!function N5(n){e_||(e_=n)}(new I_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function N9(){return uc=uc||document.querySelector("base"),uc?uc.getAttribute("href"):null}();return null==t?null:function R9(n){Nh=Nh||document.createElement("a"),Nh.setAttribute("href",n);const e=Nh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){uc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Cq(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Nh,uc=null;const OM=new j("TRANSITION_ID"),P9=[{provide:dh,useFactory:function k9(n,e,t){return()=>{t.get(hh).donePromise.then(()=>{const r=li(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[OM,Cn,Tr],multi:!0}];let F9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const Rh=new j("EventManagerPlugins");let kh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Q(Rh),Q(it))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class FM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=li().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let LM=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),cc=(()=>{class n extends LM{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(Q(Cn))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const C_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},E_=/%COMP%/g,BM=new j("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function jM(n,e){return e.flat(100).map(t=>t.replace(E_,n))}function $M(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let D_=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new b_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof zM?i.applyToHost(t):i instanceof T_&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Ir.Emulated:s=new zM(o,a,r,this.appId,u);break;case Ir.ShadowDom:return new G9(o,a,t,r);default:s=new T_(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Q(kh),Q(cc),Q(rc),Q(BM))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class b_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(C_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(HM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(HM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=C_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=C_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(wn.DashCase|wn.Important)?e.style.setProperty(t,r,i&wn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&wn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$M(r)):this.eventManager.addEventListener(e,t,$M(r))}}function HM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class G9 extends b_{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=jM(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class T_ extends b_{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=jM(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class zM extends T_{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function B9(n){return"_ngcontent-%COMP%".replace(E_,n)}(o),this.hostAttr=function j9(n){return"_nghost-%COMP%".replace(E_,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let H9=(()=>{class n extends FM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Q(Cn))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const qM=["alt","control","meta","shift"],z9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let W9=(()=>{class n extends FM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>li().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),qM.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=z9[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qM.forEach(o=>{o!==i&&(0,q9[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Q(Cn))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const KM=[{provide:k1,useValue:"browser"},{provide:R1,useValue:function K9(){I_.makeCurrent()},multi:!0},{provide:Cn,useFactory:function Y9(){return function T$(n){Mm=n}(document),document},deps:[]}],J9=H1(A5,"browser",KM),QM=new j(""),YM=[{provide:fh,useClass:class O9{addToWindow(e){Ve.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ve.getAllAngularRootElements=()=>e.getAllRootElements(),Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(r=>{const i=Ve.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?li().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:U1,useClass:zy,deps:[it,qy,fh]},{provide:zy,useClass:zy,deps:[it,qy,fh]}],JM=[{provide:Um,useValue:"root"},{provide:$o,useFactory:function Q9(){return new $o},deps:[]},{provide:Rh,useClass:H9,multi:!0,deps:[Cn,it,k1]},{provide:Rh,useClass:W9,multi:!0,deps:[Cn]},{provide:D_,useClass:D_,deps:[kh,cc,rc,BM]},{provide:SS,useExisting:D_},{provide:LM,useExisting:cc},{provide:cc,useClass:cc,deps:[Cn]},{provide:kh,useClass:kh,deps:[Rh,it]},{provide:class r9{},useClass:F9,deps:[]},[]];let X9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:rc,useValue:t.appId},{provide:OM,useExisting:rc},P9]}}}return n.\u0275fac=function(t){return new(t||n)(Q(QM,12))},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({providers:[...JM,...YM],imports:[Jq,x5]}),n})(),XM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Q(Cn))},n.\u0275prov=W({token:n,factory:function(t){let r=null;return r=t?new t:function e6(){return new XM(Q(Cn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:o6}=Array,{getPrototypeOf:a6,prototype:u6,keys:c6}=Object;function tN(n){if(1===n.length){const e=n[0];if(o6(e))return{args:e,keys:null};if(function l6(n){return n&&"object"==typeof n&&a6(n)===u6}(e)){const t=c6(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:d6}=Array;function nN(n){return pe(e=>function h6(n,e){return d6(e)?n(...e):n(e)}(n,e))}function rN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let iN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(ii),C(Pn))},n.\u0275dir=J({type:n}),n})(),Ps=(()=>{class n extends iN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}(),n.\u0275dir=J({type:n,features:[Te]}),n})();const Rr=new j("NgValueAccessor"),g6={provide:Rr,useExisting:Pe(()=>ca),multi:!0},y6=new j("CompositionEventMode");let ca=(()=>{class n extends iN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function m6(){const n=li()?li().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(ii),C(Pn),C(y6,8))},n.\u0275dir=J({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&X("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[He([g6]),Te]}),n})();const _6=!1,Xt=new j("NgValidators"),Ui=new j("NgAsyncValidators");function gN(n){return null!=n}function mN(n){const e=Wu(n)?ht(n):n;if(_6&&!fy(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new A(-1101,t)}return e}function yN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function _N(n,e){return e.map(t=>t(n))}function vN(n){return n.map(e=>function w6(n){return!n.validate}(e)?e:t=>e.validate(t))}function x_(n){return null!=n?function wN(n){if(!n)return null;const e=n.filter(gN);return 0==e.length?null:function(t){return yN(_N(t,e))}}(vN(n)):null}function M_(n){return null!=n?function IN(n){if(!n)return null;const e=n.filter(gN);return 0==e.length?null:function(t){return function f6(...n){const e=yb(n),{args:t,keys:r}=tN(n),i=new tt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;An(t[l]).subscribe(dt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?rN(r,a):a),s.complete())}))}});return e?i.pipe(nN(e)):i}(_N(t,e).map(mN)).pipe(pe(yN))}}(vN(n)):null}function CN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function N_(n){return n?Array.isArray(n)?n:[n]:[]}function Oh(n,e){return Array.isArray(n)?n.includes(e):n===e}function bN(n,e){const t=N_(e);return N_(n).forEach(i=>{Oh(t,i)||t.push(i)}),t}function TN(n,e){return N_(e).filter(t=>!Oh(n,t))}class SN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=x_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=M_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hn extends SN{get formDirective(){return null}get path(){return null}}class Bi extends SN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class AN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fh=(()=>{class n extends AN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Bi,2))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&eh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Te]}),n})();const lc="VALID",Vh="INVALID",la="PENDING",dc="DISABLED";function Uh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class RN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lc}get invalid(){return this.status===Vh}get pending(){return this.status==la}get disabled(){return this.status===dc}get enabled(){return this.status!==dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(TN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(TN(e,this._rawAsyncValidators))}hasValidator(e){return Oh(this._rawValidators,e)}hasAsyncValidator(e){return Oh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=la,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lc||this.status===la)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dc:lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=la,this._hasOwnPendingAsyncValidator=!0;const t=mN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?dc:this.errors?Vh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(la)?la:this._anyControlsHaveStatus(Vh)?Vh:lc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Uh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function A6(n){return Array.isArray(n)?x_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function x6(n){return Array.isArray(n)?M_(n):n||null}(this._rawAsyncValidators)}}const da=new j("CallSetDisabledState",{providedIn:"root",factory:()=>Bh}),Bh="always";function hc(n,e,t=Bh){(function V_(n,e){const t=function EN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(CN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function DN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(CN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Gh(e._rawValidators,i),Gh(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function R6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kN(n,e)})}(n,e),function P6(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function k6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function N6(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Gh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function FN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function LN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const VN=class extends RN{constructor(e=null,t,r){super(function O_(n){return(Uh(n)?n.validators:n)||null}(t),function F_(n,e){return(Uh(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Uh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=LN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){LN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},$6={provide:Bi,useExisting:Pe(()=>pc)},jN=(()=>Promise.resolve())();let pc=(()=>{class n extends Bi{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new VN,this._registered=!1,this.update=new Oe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function j_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ca?t=s:function L6(n){return Object.getPrototypeOf(n.constructor)===Ps}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function B_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){jN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&aa(r);jN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function jh(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(C(hn,9),C(Xt,10),C(Ui,10),C(Rr,10),C(mh,8),C(da,8))},n.\u0275dir=J({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[He([$6]),Te,Gn]}),n})(),GN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({}),n})();const Z6={provide:Rr,useExisting:Pe(()=>zh),multi:!0};function YN(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let zh=(()=>{class n extends Ps{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=YN(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function e8(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&X("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([Z6]),Te]}),n})(),JN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(YN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(C(Pn),C(ii),C(zh,9))},n.\u0275dir=J({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const t8={provide:Rr,useExisting:Pe(()=>q_),multi:!0};function XN(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let q_=(()=>{class n extends Ps{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function n8(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&X("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([t8]),Te]}),n})(),ZN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(XN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(XN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(C(Pn),C(ii),C(q_,9))},n.\u0275dir=J({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),d8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({imports:[GN]}),n})(),f8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:da,useValue:t.callSetDisabledState??Bh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({imports:[d8]}),n})();function H(...n){return ht(n,mu(n))}class hr extends Kr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const qh=pu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function cR(...n){const e=mu(n),t=yb(n),{args:r,keys:i}=tN(n);if(0===r.length)return ht([],e);const s=new tt(function p8(n,e,t=ws){return r=>{lR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)lR(e,()=>{const c=ht(n[u],e);let l=!1;c.subscribe(dt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>rN(i,o):ws));return t?s.pipe(nN(t)):s}function lR(n,e,t){n?Qr(t,n,e):e()}function Wh(...n){return function g8(){return Io(1)}()(ht(n,mu(n)))}function dR(n){return new tt(e=>{An(n()).subscribe(e)})}function gc(n,e){const t=Re(n)?n:()=>n,r=i=>i.error(t());return new tt(e?i=>e.schedule(r,0,i):r)}function K_(){return wt((n,e)=>{let t=null;n._refCount++;const r=dt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hR extends tt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,tb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sn;const t=this.getSubject();e.add(this.source.subscribe(dt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sn.EMPTY)}return e}refCount(){return K_()(this)}}function kr(n,e){return wt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(dt(r,u=>{i?.unsubscribe();let c=0;const l=s++;An(n(u,l)).subscribe(i=dt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ji(n){return n<=0?()=>vr:wt((e,t)=>{let r=0;e.subscribe(dt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fi(n,e){return wt((t,r)=>{let i=0;t.subscribe(dt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Kh(n){return wt((e,t)=>{let r=!1;e.subscribe(dt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function fR(n=y8){return wt((e,t)=>{let r=!1;e.subscribe(dt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function y8(){return new qh}function $i(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,s)=>n(i,s,r)):ws,ji(1),t?Kh(e):fR(()=>new qh))}function Fs(n,e){return Re(e)?Tt(n,e,1):Tt(n,1)}function Zt(n,e,t){const r=Re(n)||e||t?{next:n,error:e,complete:t}:n;return r?wt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(dt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ws}function Gi(n){return wt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(dt(t,void 0,void 0,o=>{s=An(n(o,Gi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function pR(n,e){return wt(function _8(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(dt(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function Q_(n){return n<=0?()=>vr:wt((e,t)=>{let r=[];e.subscribe(dt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function gR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,s)=>n(i,s,r)):ws,Q_(1),t?Kh(e):fR(()=>new qh))}function mR(n){return pe(()=>n)}function Y_(n){return wt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ie="primary",mc=Symbol("RouteTitle");class w8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ha(n){return new w8(n)}function I8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Pr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!yR(n[i],e[i]))return!1;return!0}function yR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function _R(n){return Array.prototype.concat.apply([],n)}function vR(n){return n.length>0?n[n.length-1]:null}function Bt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Hi(n){return fy(n)?n:Wu(n)?ht(Promise.resolve(n)):H(n)}const Qh=!1,E8={exact:function CR(n,e,t){if(!Ls(n.segments,e.segments)||!Yh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!CR(n.children[r],e.children[r],t))return!1;return!0},subset:ER},wR={exact:function D8(n,e){return Pr(n,e)},subset:function b8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yR(n[t],e[t]))},ignored:()=>!0};function IR(n,e,t){return E8[t.paths](n.root,e.root,t.matrixParams)&&wR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ER(n,e,t){return DR(n,e,e.segments,t)}function DR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ls(i,t)||e.hasChildren()||!Yh(i,t,r))}if(n.segments.length===t.length){if(!Ls(n.segments,t)||!Yh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ER(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ls(n.segments,i)&&Yh(n.segments,i,r)&&n.children[ie])&&DR(n.children[ie],e,s,r)}}function Yh(n,e,t){return e.every((r,i)=>wR[t](n[i].parameters,r.parameters))}class zi{constructor(e=new de([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ha(this.queryParams)),this._queryParamMap}toString(){return A8.serialize(this)}}class de{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Bt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jh(this)}}class yc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ha(this.parameters)),this._parameterMap}toString(){return SR(this)}}function Ls(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let _c=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return new J_},providedIn:"root"}),n})();class J_{parse(e){const t=new L8(e);return new zi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${vc(e.root,!0)}`,r=function N8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Xh(t)}=${Xh(i)}`).join("&"):`${Xh(t)}=${Xh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function x8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const A8=new J_;function Jh(n){return n.segments.map(e=>SR(e)).join("/")}function vc(n,e){if(!n.hasChildren())return Jh(n);if(e){const t=n.children[ie]?vc(n.children[ie],!1):"",r=[];return Bt(n.children,(i,s)=>{s!==ie&&r.push(`${s}:${vc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function S8(n,e){let t=[];return Bt(n.children,(r,i)=>{i===ie&&(t=t.concat(e(r,i)))}),Bt(n.children,(r,i)=>{i!==ie&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ie?[vc(n.children[ie],!1)]:[`${i}:${vc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ie]?`${Jh(n)}/${t[0]}`:`${Jh(n)}/(${t.join("//")})`}}function bR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xh(n){return bR(n).replace(/%3B/gi,";")}function X_(n){return bR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zh(n){return decodeURIComponent(n)}function TR(n){return Zh(n.replace(/\+/g,"%20"))}function SR(n){return`${X_(n.path)}${function M8(n){return Object.keys(n).map(e=>`;${X_(e)}=${X_(n[e])}`).join("")}(n.parameters)}`}const R8=/^[^\/()?;=#]+/;function ef(n){const e=n.match(R8);return e?e[0]:""}const k8=/^[^=?&#]+/,O8=/^[^&#]+/;class L8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new de(e,t)),r}parseSegment(){const e=ef(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new A(4009,Qh);return this.capture(e),new yc(Zh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ef(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ef(this.remaining);i&&(r=i,this.capture(r))}e[Zh(t)]=Zh(r)}parseQueryParam(e){const t=function P8(n){const e=n.match(k8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function F8(n){const e=n.match(O8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=TR(t),s=TR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ef(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new A(4010,Qh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ie]:new de([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new A(4011,Qh)}}function Z_(n){return n.segments.length>0?new de([],{[ie]:n}):n}function tf(n){const e={};for(const r of Object.keys(n.children)){const s=tf(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function V8(n){if(1===n.numberOfChildren&&n.children[ie]){const e=n.children[ie];return new de(n.segments.concat(e.segments),e.children)}return n}(new de(n.segments,e))}function Vs(n){return n instanceof zi}const ev=!1;function U8(n,e,t,r,i){if(0===t.length)return fa(e.root,e.root,e.root,r,i);const s=function RR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new NR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Bt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new NR(t,e,r)}(t);return s.toRoot()?fa(e.root,e.root,new de([],{}),r,i):function o(u){const c=function j8(n,e,t,r){if(n.isAbsolute)return new pa(e.root,!0,0);if(-1===r)return new pa(t,t===e.root,0);return function kR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,ev&&"Invalid number of '../'");i=r.segments.length}return new pa(r,!1,i-s)}(t,r+(wc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),l=c.processChildren?ga(c.segmentGroup,c.index,s.commands):tv(c.segmentGroup,c.index,s.commands);return fa(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function wc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ic(n){return"object"==typeof n&&null!=n&&n.outlets}function fa(n,e,t,r,i){let o,s={};r&&Bt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=n===e?t:MR(n,e,t);const a=Z_(tf(o));return new zi(a,s,i)}function MR(n,e,t){const r={};return Bt(n.children,(i,s)=>{r[s]=i===e?t:MR(i,e,t)}),new de(n.segments,r)}class NR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wc(r[0]))throw new A(4003,ev&&"Root segment cannot have matrix parameters");const i=r.find(Ic);if(i&&i!==vR(r))throw new A(4004,ev&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function tv(n,e,t){if(n||(n=new de([],{})),0===n.segments.length&&n.hasChildren())return ga(n,e,t);const r=function G8(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Ic(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!OR(u,c,o))return s;r+=2}else{if(!OR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new de(n.segments.slice(0,r.pathIndex),{});return s.children[ie]=new de(n.segments.slice(r.pathIndex),n.children),ga(s,0,i)}return r.match&&0===i.length?new de(n.segments,{}):r.match&&!n.hasChildren()?nv(n,e,t):r.match?ga(n,0,i):nv(n,e,t)}function ga(n,e,t){if(0===t.length)return new de(n.segments,{});{const r=function $8(n){return Ic(n[0])?n[0].outlets:{[ie]:n}}(t),i={};if(!r[ie]&&n.children[ie]&&1===n.numberOfChildren&&0===n.children[ie].segments.length){const s=ga(n.children[ie],e,t);return new de(n.segments,s.children)}return Bt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=tv(n.children[o],e,s))}),Bt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(n.segments,i)}}function nv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Ic(s)){const u=H8(s.outlets);return new de(r,u)}if(0===i&&wc(t[0])){r.push(new yc(n.segments[e].path,PR(t[0]))),i++;continue}const o=Ic(s)?s.outlets[ie]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&wc(a)?(r.push(new yc(o,PR(a))),i+=2):(r.push(new yc(o,{})),i++)}return new de(r,{})}function H8(n){const e={};return Bt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=nv(new de([],{}),0,t))}),e}function PR(n){const e={};return Bt(n,(t,r)=>e[r]=`${t}`),e}function OR(n,e,t){return n==t.path&&Pr(e,t.parameters)}const Cc="imperative";class Or{constructor(e,t){this.id=e,this.url=t}}class rv extends Or{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qi extends Or{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nf extends Or{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rf extends Or{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class iv extends Or{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class z8 extends Or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q8 extends Or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W8 extends Or{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K8 extends Or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q8 extends Or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class J8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class X8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let i7=(()=>{class n{createUrlTree(t,r,i,s,o,a){return U8(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),o7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(e){return i7.\u0275fac(e)},providedIn:"root"}),n})();class FR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ov(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ov(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=av(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return av(e,this._root).map(t=>t.value)}}function ov(n,e){if(n===e.value)return e;for(const t of e.children){const r=ov(n,t);if(r)return r}return null}function av(n,e){if(n===e.value)return[e];for(const t of e.children){const r=av(n,t);if(r.length)return r.unshift(e),r}return[]}class pi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ma(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class LR extends FR{constructor(e,t){super(e),this.snapshot=t,uv(this,e)}toString(){return this.snapshot.toString()}}function VR(n,e){const t=function a7(n,e){const o=new sf([],{},{},"",{},ie,e,null,n.root,-1,{});return new BR("",new pi(o,[]))}(n,e),r=new hr([new yc("",{})]),i=new hr({}),s=new hr({}),o=new hr({}),a=new hr(""),u=new Us(r,i,o,a,s,ie,e,t.root);return u.snapshot=t.root,new LR(new pi(u,[]),t)}class Us{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(pe(c=>c[mc]))??H(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>ha(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>ha(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function UR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function u7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class sf{get title(){return this.data?.[mc]}constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ha(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ha(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BR extends FR{constructor(e,t){super(t),this.url=e,uv(this,t)}toString(){return jR(this._root)}}function uv(n,e){e.value._routerState=n,e.children.forEach(t=>uv(n,t))}function jR(n){const e=n.children.length>0?` { ${n.children.map(jR).join(", ")} } `:"";return`${n.value}${e}`}function cv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pr(e.params,t.params)||n.params.next(t.params),function C8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function lv(n,e){const t=Pr(n.params,e.params)&&function T8(n,e){return Ls(n,e)&&n.every((t,r)=>Pr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||lv(n.parent,e.parent))}function Ec(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function l7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ec(n,r,i);return Ec(n,r)})}(n,e,t);return new pi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ec(n,a)),o}}const r=function d7(n){return new Us(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ec(n,s));return new pi(r,i)}}const dv="ngNavigationCancelingError";function $R(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GR(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function GR(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[dv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function HR(n){return zR(n)&&Vs(n.url)}function zR(n){return n&&n[dv]}class h7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Dc,this.attachRef=null}}let Dc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new h7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const af=!1;let hv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=ge(Dc),this.location=ge(ur),this.changeDetector=ge(mh),this.environmentInjector=ge(ri)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,af);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,af);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,af);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new A(4013,af);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new f7(t,a,i.injector);if(r&&function p7(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gn]}),n})();class f7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Us?this.route:e===Dc?this.childContexts:this.parent.get(e,t)}}let fv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ft({type:n,selectors:[["ng-component"]],standalone:!0,features:[zx],decls:1,vars:0,template:function(t,r){1&t&&Wn(0,"router-outlet")},dependencies:[hv],encapsulation:2}),n})();function qR(n,e){return n.providers&&!n._injector&&(n._injector=ah(n.providers,e,`Route: ${n.path}`)),n._injector??e}function gv(n){const e=n.children&&n.children.map(gv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=fv),t}function Jn(n){return n.outlet||ie}function WR(n,e){const t=n.filter(r=>Jn(r)===e);return t.push(...n.filter(r=>Jn(r)!==e)),t}function bc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class v7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),cv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ma(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Bt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ma(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ma(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ma(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new t7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Z8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(cv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=bc(i.snapshot),u=a?.get(ju)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class KR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uf{constructor(e,t){this.component=e,this.route=t}}function w7(n,e,t){const r=n._root;return Tc(r,e?e._root:null,t,[r.value])}function ya(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function wB(n){return null!==ud(n)}(n)?e.get(n):n:r}function Tc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ma(e);return n.children.forEach(o=>{(function C7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function E7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ls(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ls(n.url,e.url)||!Pr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lv(n,e)||!Pr(n.queryParams,e.queryParams);default:return!lv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new KR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Tc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new uf(a.outlet.component,o))}else o&&Sc(e,a,i),i.canActivateChecks.push(new KR(r)),Tc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Bt(s,(o,a)=>Sc(o,t.getContext(a),i)),i}function Sc(n,e,t){const r=ma(n),i=n.value;Bt(r,(s,o)=>{Sc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new uf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ac(n){return"function"==typeof n}function mv(n){return n instanceof qh||"EmptyError"===n?.name}const cf=Symbol("INITIAL_VALUE");function _a(){return kr(n=>cR(n.map(e=>e.pipe(ji(1),function m8(...n){const e=mu(n);return wt((t,r)=>{(e?Wh(n,t,e):Wh(n,t)).subscribe(r)})}(cf)))).pipe(pe(e=>{for(const t of e)if(!0!==t){if(t===cf)return cf;if(!1===t||t instanceof zi)return t}return!0}),fi(e=>e!==cf),ji(1)))}function QR(n){return function bU(...n){return X0(n)}(Zt(e=>{if(Vs(e))throw $R(0,e)}),pe(e=>!0===e))}const yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YR(n,e,t,r,i){const s=_v(n,e,t);return s.matched?function B7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?H(i.map(o=>{const a=ya(o,n);return Hi(function x7(n){return n&&Ac(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(_a(),QR()):H(!0)}(r=qR(e,r),e,t).pipe(pe(o=>!0===o?s:{...yv})):H(s)}function _v(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...yv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||I8)(t,n,e);if(!i)return{...yv};const s={};Bt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function lf(n,e,t,r){if(t.length>0&&function G7(n,e,t){return t.some(r=>df(n,e,r)&&Jn(r)!==ie)}(n,t,r)){const s=new de(e,function $7(n,e,t,r){const i={};i[ie]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Jn(s)!==ie){const o=new de([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Jn(s)]=o}return i}(n,e,r,new de(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function H7(n,e,t){return t.some(r=>df(n,e,r))}(n,t,r)){const s=new de(n.segments,function j7(n,e,t,r,i){const s={};for(const o of r)if(df(n,t,o)&&!i[Jn(o)]){const a=new de([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Jn(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new de(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function df(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function JR(n,e,t,r){return!!(Jn(n)===r||r!==ie&&df(e,t,n))&&("**"===n.path||_v(e,n,t).matched)}function XR(n,e,t){return 0===e.length&&!n.children[t]}const hf=!1;class ff{constructor(e){this.segmentGroup=e||null}}class ZR{constructor(e){this.urlTree=e}}function xc(n){return gc(new ff(n))}function ek(n){return gc(new ZR(n))}class K7{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=lf(this.urlTree.root,[],[],this.config).segmentGroup,t=new de(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ie).pipe(pe(s=>this.createUrlTree(tf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gi(s=>{if(s instanceof ZR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ff?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ie).pipe(pe(i=>this.createUrlTree(tf(i),e.queryParams,e.fragment))).pipe(Gi(i=>{throw i instanceof ff?this.noMatchError(i):i}))}noMatchError(e){return new A(4002,hf)}createUrlTree(e,t,r){const i=Z_(e);return new zi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(pe(s=>new de([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ht(i).pipe(Fs(s=>{const o=r.children[s],a=WR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(pe(u=>({segment:u,outlet:s})))}),pR((s,o)=>(s[o.outlet]=o.segment,s),{}),gR())}expandSegment(e,t,r,i,s,o){return ht(r).pipe(Fs(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Gi(c=>{if(c instanceof ff)return H(null);throw c}))),$i(a=>!!a),Gi((a,u)=>{if(mv(a))return XR(t,i,s)?H(new de([],{})):xc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return JR(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):xc(t):xc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ek(s):this.lineralizeSegments(r,s).pipe(Tt(o=>{const a=new de(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=_v(t,i,s);if(!a)return xc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?ek(d):this.lineralizeSegments(i,d).pipe(Tt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=qR(r,e),r.loadChildren?(r._loadedRoutes?H({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(pe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new de(i,{})))):H(new de(i,{}))):YR(t,r,i,e).pipe(kr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Tt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=lf(t,a,u,h),m=new de(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(pe(v=>new de(a,v)));if(0===h.length&&0===p.length)return H(new de(a,{}));const y=Jn(r)===s;return this.expandSegment(d,m,h,p,y?ie:s,!0).pipe(pe(E=>new de(a.concat(E.segments),E.children)))})):xc(t)))}getChildConfig(e,t,r){return t.children?H({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?H({routes:t._loadedRoutes,injector:t._loadedInjector}):function U7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?H(!0):H(i.map(o=>{const a=ya(o,n);return Hi(function b7(n){return n&&Ac(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(_a(),QR())}(e,t,r).pipe(Tt(i=>i?this.configLoader.loadChildren(e,t).pipe(Zt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function q7(n){return gc(GR(hf,3))}())):H({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return H(r);if(i.numberOfChildren>1||!i.children[ie])return e.redirectTo,gc(new A(4e3,hf));i=i.children[ie]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new zi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Bt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Bt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new A(4001,hf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Y7{}class Z7{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=lf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(pe(t=>{if(null===t)return null;const r=new sf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new pi(r,t),s=new BR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=UR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ht(Object.keys(r.children)).pipe(Fs(i=>{const s=r.children[i],o=WR(t,i);return this.processSegmentGroup(e,o,s,i)}),pR((i,s)=>i&&s?(i.push(...s),i):null),function v8(n,e=!1){return wt((t,r)=>{let i=0;t.subscribe(dt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Kh(null),gR(),pe(i=>{if(null===i)return null;const s=nk(i);return function eW(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return ht(t).pipe(Fs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),$i(o=>!!o),Gi(o=>{if(mv(o))return XR(r,i,s)?H([]):H(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!JR(t,r,i,s))return H(null);let o;if("**"===t.path){const a=i.length>0?vR(i).parameters:{},u=ik(r)+i.length;o=H({snapshot:new sf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sk(t),Jn(t),t.component??t._loadedComponent??null,t,rk(r),u,ok(t)),consumedSegments:[],remainingSegments:[]})}else o=YR(r,t,i,e).pipe(pe(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=ik(r)+u.length;return{snapshot:new sf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sk(t),Jn(t),t.component??t._loadedComponent??null,t,rk(r),d,ok(t)),consumedSegments:u,remainingSegments:c}}));return o.pipe(kr(a=>{if(null===a)return H(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function tW(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=lf(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(pe(y=>null===y?null:[new pi(u,y)]));if(0===h.length&&0===p.length)return H([new pi(u,[])]);const m=Jn(t)===s;return this.processSegment(d,h,f,p,m?ie:s).pipe(pe(y=>null===y?null:[new pi(u,y)]))}))}}function nW(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function nk(n){const e=[],t=new Set;for(const r of n){if(!nW(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=nk(r.children);e.push(new pi(r.value,i))}return e.filter(r=>!t.has(r))}function rk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ik(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function sk(n){return n.data||{}}function ok(n){return n.resolve||{}}function ak(n){return"string"==typeof n.title||null===n.title}function vv(n){return kr(e=>{const t=n(e);return t?ht(t).pipe(pe(()=>e)):H(e)})}const va=new j("ROUTES");let wv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ge(P1)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return H(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hi(t.loadComponent()).pipe(pe(ck),Zt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Y_(()=>{this.componentLoaders.delete(t)})),i=new hR(r,()=>new Kr).pipe(K_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=_R(u.get(va,[],K.Self|K.Optional)));return{routes:c.map(gv),injector:u}}),Y_(()=>{this.childrenLoaders.delete(r)})),o=new hR(s,()=>new Kr).pipe(K_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Hi(t()).pipe(pe(ck),Tt(r=>r instanceof Gx||Array.isArray(r)?H(r):ht(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ck(n){return function lW(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let gf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Kr,this.configLoader=ge(wv),this.environmentInjector=ge(ri),this.urlSerializer=ge(_c),this.rootContexts=ge(Dc),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new J8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Y8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(r=>0!==r.id),pe(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),kr(r=>{let i=!1,s=!1;return H(r).pipe(Zt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kr(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new rf(o.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),vr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return lk(o.source)&&(t.browserUrlTree=o.extractedUrl),H(o).pipe(kr(l=>{const d=this.transitions?.getValue();return this.events.next(new rv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?vr:Promise.resolve(l)}),function Q7(n,e,t,r){return kr(i=>function W7(n,e,t,r,i){return new K7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(pe(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Zt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function iW(n,e,t,r,i){return Tt(s=>function X7(n,e,t,r,i,s,o="emptyOnly"){return new Z7(n,e,t,r,i,o,s).recognize().pipe(kr(a=>null===a?function J7(n){return new tt(e=>e.error(n))}(new Y7):H(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(pe(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Zt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new z8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new rv(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=VR(d,this.rootComponentType).snapshot;return H(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new rf(o.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),vr}}),Zt(o=>{const a=new q8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),pe(o=>r={...o,guards:w7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function N7(n,e){return Tt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?H({...t,guardsResult:!0}):function R7(n,e,t,r){return ht(n).pipe(Tt(i=>function V7(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?H(s.map(a=>{const u=bc(e)??i,c=ya(a,u);return Hi(function A7(n){return n&&Ac(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe($i())})).pipe(_a()):H(!0)}(i.component,i.route,t,e,r)),$i(i=>!0!==i,!0))}(o,r,i,n).pipe(Tt(a=>a&&function D7(n){return"boolean"==typeof n}(a)?function k7(n,e,t,r){return ht(e).pipe(Fs(i=>Wh(function O7(n,e){return null!==n&&e&&e(new X8(n)),H(!0)}(i.route.parent,r),function P7(n,e){return null!==n&&e&&e(new e7(n)),H(!0)}(i.route,r),function L7(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function I7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>dR(()=>H(o.guards.map(u=>{const c=bc(o.node)??t,l=ya(u,c);return Hi(function S7(n){return n&&Ac(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe($i())})).pipe(_a())));return H(s).pipe(_a())}(n,i.path,t),function F7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return H(!0);const i=r.map(s=>dR(()=>{const o=bc(e)??t,a=ya(s,o);return Hi(function T7(n){return n&&Ac(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe($i())}));return H(i).pipe(_a())}(n,i.route,t))),$i(i=>!0!==i,!0))}(r,s,n,e):H(a)),pe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Zt(o=>{if(r.guardsResult=o.guardsResult,Vs(o.guardsResult))throw $R(0,o.guardsResult);const a=new W8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),fi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),vv(o=>{if(o.guards.canActivateChecks.length)return H(o).pipe(Zt(a=>{const u=new K8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),kr(a=>{let u=!1;return H(a).pipe(function sW(n,e){return Tt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let s=0;return ht(i).pipe(Fs(o=>function oW(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!ak(i)&&(s[mc]=i.title),function aW(n,e,t,r){const i=function uW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return H({});const s={};return ht(i).pipe(Tt(o=>function cW(n,e,t,r){const i=bc(e)??r,s=ya(n,i);return Hi(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe($i(),Zt(a=>{s[o]=a}))),Q_(1),mR(s),Gi(o=>mv(o)?vr:gc(o)))}(s,n,e,r).pipe(pe(o=>(n._resolvedData=o,n.data=UR(n,t).resolve,i&&ak(i)&&(n.data[mc]=i.title),null)))}(o.route,r,n,e)),Zt(()=>s++),Q_(1),Tt(o=>s===i.length?H(t):vr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Zt({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Zt(a=>{const u=new Q8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),vv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Zt(l=>{u.component=l}),pe(()=>{})));for(const l of u.children)c.push(...a(l));return c};return cR(a(o.targetSnapshot.root)).pipe(Kh(),ji(1))}),vv(()=>this.afterPreactivation()),pe(o=>{const a=function c7(n,e,t){const r=Ec(n,e._root,t?t._root:void 0);return new LR(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Zt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>pe(r=>(new v7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),ji(1),Zt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new qi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Y_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Gi(o=>{if(s=!0,zR(o)){HR(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new nf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),HR(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||lk(r.source)};t.scheduleNavigation(u,Cc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new iv(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return vr}))}))}cancelNavigationTransition(t,r,i){const s=new nf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lk(n){return n!==Cc}let dk=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[mc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(dW)},providedIn:"root"}),n})(),dW=(()=>{class n extends dk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(Q(XM))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(pW)},providedIn:"root"}),n})();class fW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let pW=(()=>{class n extends fW{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}(),n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mf=new j("",{providedIn:"root",factory:()=>({})});let mW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(yW)},providedIn:"root"}),n})(),yW=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _W(n){throw n}function vW(n,e,t){return e.parse("/")}const wW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ge(Qz),this.isNgZoneEnabled=!1,this.options=ge(mf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||_W,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ge(mW),this.routeReuseStrategy=ge(hW),this.urlCreationStrategy=ge(o7),this.titleStrategy=ge(dk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_R(ge(va,{optional:!0})??[]),this.navigationTransitions=ge(gf),this.urlSerializer=ge(_c),this.location=ge(r_),this.isNgZoneEnabled=ge(it)instanceof it&&it.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new zi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=VR(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Cc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(gv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Vs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Cc,null,r)}navigate(t,r={skipLocationChange:!1}){return function CW(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new A(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...wW}:!1===r?{...IW}:r,Vs(t))return IR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return IR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wa=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Kr;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof qi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=aa(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=aa(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=aa(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function gS(n,e,t){return function W$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?pS:fS}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(C(jt),C(Us),function xd(n){return function vj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(rT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Vt(),n)}("tabindex"),C(ii),C(Pn),C(Rs))},n.\u0275dir=J({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&X("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&xr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Gn]}),n})();class hk{}let bW=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(fi(t=>t instanceof qi),Fs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=ah(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ht(i).pipe(Io())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):H(null);const s=i.pipe(Tt(o=>null===o?H(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ht([s,this.loader.loadComponent(r)]).pipe(Io()):s})}}return n.\u0275fac=function(t){return new(t||n)(Q(jt),Q(P1),Q(ri),Q(hk),Q(wv))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cv=new j("");let fk=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof rv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function qS(){throw new Error("invalid")}()},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();var Fn=(()=>((Fn=Fn||{})[Fn.COMPLETE=0]="COMPLETE",Fn[Fn.FAILED=1]="FAILED",Fn[Fn.REDIRECTING=2]="REDIRECTING",Fn))();const Ia=!1;function Wi(n,e){return{\u0275kind:n,\u0275providers:e}}const Ev=new j("",{providedIn:"root",factory:()=>!1});function gk(){const n=ge(Tr);return e=>{const t=n.get(ph);if(e!==t.components[0])return;const r=n.get(jt),i=n.get(mk);1===n.get(Dv)&&r.initialNavigation(),n.get(yk,null,K.Optional)?.setUpPreloading(),n.get(Cv,null,K.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const mk=new j(Ia?"bootstrap done indicator":"",{factory:()=>new Kr}),Dv=new j(Ia?"initial navigation":"",{providedIn:"root",factory:()=>1});function MW(){let n=[];return n=Ia?[{provide:Bd,multi:!0,useFactory:()=>{const e=ge(jt);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function n7(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Wi(1,n)}const yk=new j(Ia?"router preloader":"");function NW(n){return Wi(0,[{provide:yk,useExisting:bW},{provide:hk,useExisting:n}])}const Mc=!1,_k=new j(Mc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),RW=[r_,{provide:_c,useClass:J_},jt,Dc,{provide:Us,useFactory:function pk(n){return n.routerState.root},deps:[jt]},wv,Mc?{provide:Ev,useValue:!0}:[]];function kW(){return new $1("Router",jt)}let vk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[RW,Mc&&r?.enableTracing?MW().\u0275providers:[],{provide:va,multi:!0,useValue:t},{provide:_k,useFactory:LW,deps:[[jt,new Nu,new Ru]]},{provide:mf,useValue:r||{}},r?.useHash?{provide:Rs,useClass:F5}:{provide:Rs,useClass:dM},{provide:Cv,useFactory:()=>{const n=ge(xM),e=ge(it),t=ge(mf),r=ge(gf),i=ge(_c);return t.scrollOffset&&n.setOffset(t.scrollOffset),new fk(i,r,n,e,t)}},r?.preloadingStrategy?NW(r.preloadingStrategy).\u0275providers:[],{provide:$1,multi:!0,useFactory:kW},r?.initialNavigation?VW(r):[],[{provide:wk,useFactory:gk},{provide:j1,multi:!0,useExisting:wk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:va,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(Q(_k,8))},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({imports:[fv]}),n})();function LW(n){if(Mc&&n)throw new A(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function VW(n){return["disabled"===n.initialNavigation?Wi(3,[{provide:dh,multi:!0,useFactory:()=>{const e=ge(jt);return()=>{e.setUpLocationChangeListener()}}},{provide:Dv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Wi(2,[{provide:Dv,useValue:0},{provide:dh,multi:!0,deps:[Tr],useFactory:e=>{const t=e.get(P5,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(jt),s=e.get(mk);(function TW(n,e){n.events.pipe(fi(t=>t instanceof qi||t instanceof nf||t instanceof iv||t instanceof rf),pe(t=>t instanceof qi||t instanceof rf?Fn.COMPLETE:t instanceof nf&&(0===t.code||1===t.code)?Fn.REDIRECTING:Fn.FAILED),fi(t=>t!==Fn.REDIRECTING),ji(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(gf).afterPreactivation=()=>(r(!0),s.closed?H(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const wk=new j(Mc?"Router Initializer":"");let jW=(()=>{var n;class e{constructor(){this.isMobile=function(){let n=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(n=!0),n;var e}(),this.menu=!this.isMobile}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-home"]],decls:0,vars:0,template:function(r,i){},styles:[".a[_ngcontent-%COMP%]{height:70px;background-color:#6495ed}.a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:35px;font-weight:700;margin:10px;color:#fff}"]}),e})(),$W=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(Wn(0,"div",0),S(1,"div",1)(2,"div",2),Wn(3,"img",3),S(4,"span",4)(5,"i",5),V(6,"edit"),x()(),S(7,"div",6)(8,"div",7),V(9,"V.V.S.K Chaitanya"),x(),S(10,"div",8),V(11,"Software Engineer"),x()()()(),S(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),V(16,"menu_book"),x(),S(17,"span"),V(18,"Courses"),x()(),S(19,"div",12)(20,"i",5),V(21,"assignment"),x(),S(22,"span"),V(23,"Assessments"),x()(),S(24,"div",13)(25,"i",5),V(26,"notifications"),x(),S(27,"span"),V(28,"Notifications"),x()(),S(29,"div",14)(30,"i",5),V(31,"person"),x(),S(32,"span"),V(33,"Update Profile"),x()(),S(34,"div",15)(35,"i",5),V(36,"logout"),x(),S(37,"span"),V(38,"Logout"),x()()()())},dependencies:[wa],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})(),GW=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&Wn(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})();function Ik(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){Ik(s,r,i,o,a,"next",u)}function a(u){Ik(s,r,i,o,a,"throw",u)}o(void 0)})}}const Ck=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Ek={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ck(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new WW;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yf=function(n){return function(n){const e=Ck(n);return Ek.encodeByteArray(e,!0)}(n).replace(/\./g,"")},_f=function(n){try{return Ek.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},vf=()=>{try{return function YW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_f(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},bk=n=>{var e,t;return null===(t=null===(e=vf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},Tk=()=>{var n;return null===(n=vf())||void 0===n?void 0:n.config},Sk=n=>{var e;return null===(e=vf())||void 0===e?void 0:e[`_${n}`]};class Ak{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xk(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Mk(){try{return"object"==typeof indexedDB}catch{return!1}}function Nk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}class fr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bs.prototype.create)}}class Bs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function uK(n,e){return n.replace(cK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new fr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const cK=/\{\$([^}]+)}/g;function Nc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(kk(s)&&kk(o)){if(!Nc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function kk(n){return null!==n&&"object"==typeof n}function Rc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class hK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function fK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Tv),void 0===i.error&&(i.error=Tv),void 0===i.complete&&(i.complete=Tv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tv(){}const pK=1e3,gK=2,mK=144e5,yK=.5;function Pk(n,e=pK,t=gK){const r=e*Math.pow(t,n),i=Math.round(yK*r*(Math.random()-.5)*2);return Math.min(mK,r+i)}function fn(n){return n&&n._delegate?n._delegate:n}class pr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const js="[DEFAULT]";class vK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ak;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function IK(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===js?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class CK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Av=[];var ve=(()=>{return(n=ve||(ve={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ve;var n})();const Ok={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},EK=ve.INFO,DK={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},bK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=DK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class If{constructor(e){this.name=e,this._logLevel=EK,this._logHandler=bK,this._userLogHandler=null,Av.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ok[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const TK=(n,e)=>e.some(t=>n instanceof t);let Fk,Lk;const Vk=new WeakMap,xv=new WeakMap,Uk=new WeakMap,Mv=new WeakMap,Nv=new WeakMap;let Rv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return xv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Uk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function kK(n){return"function"==typeof n?function RK(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function AK(){return Lk||(Lk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(kv(this),e),Ki(Vk.get(this))}:function(...e){return Ki(n.apply(kv(this),e))}:function(e,...t){const r=n.call(kv(this),e,...t);return Uk.set(r,e.sort?e.sort():[e]),Ki(r)}}(n):(n instanceof IDBTransaction&&function MK(n){if(xv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});xv.set(n,e)}(n),TK(n,function SK(){return Fk||(Fk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Rv):n)}function Ki(n){if(n instanceof IDBRequest)return function xK(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ki(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Vk.set(t,n)}).catch(()=>{}),Nv.set(e,n),e}(n);if(Mv.has(n))return Mv.get(n);const e=kK(n);return e!==n&&(Mv.set(n,e),Nv.set(e,n)),e}const kv=n=>Nv.get(n),OK=["get","getKey","getAll","getAllKeys","count"],FK=["put","add","delete","clear"],Pv=new Map;function Bk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Pv.get(e))return Pv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=FK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!OK.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Pv.set(e,s),s}!function NK(n){Rv=n(Rv)}(n=>({...n,get:(e,t,r)=>Bk(e,t)||n.get(e,t,r),has:(e,t)=>!!Bk(e,t)||n.has(e,t)}));class LK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function VK(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Ov="@firebase/app",$s=new If("@firebase/app"),Cf="[DEFAULT]",lQ={[Ov]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gs=new Map,Ef=new Map;function dQ(n,e){try{n.container.addComponent(e)}catch(t){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fr(n){const e=n.name;if(Ef.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Ef.set(e,n);for(const t of Gs.values())dQ(t,n);return!0}function Qi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const gi=new Bs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const Ca="9.23.0";function $k(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Cf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw gi.create("bad-app-name",{appName:String(i)});if(t||(t=Tk()),!t)throw gi.create("no-options");const s=Gs.get(i);if(s){if(Nc(t,s.options)&&Nc(r,s.config))return s;throw gi.create("duplicate-app",{appName:i})}const o=new CK(i);for(const u of Ef.values())o.addComponent(u);const a=new fQ(t,r,o);return Gs.set(i,a),a}function Fv(n=Cf){const e=Gs.get(n);if(!e&&n===Cf&&Tk())return $k();if(!e)throw gi.create("no-app",{appName:n});return e}function Xn(n,e,t){var r;let i=null!==(r=lQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void $s.warn(a.join(" "))}Fr(new pr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const pQ="firebase-heartbeat-database",gQ=1,kc="firebase-heartbeat-store";let Vv=null;function Gk(){return Vv||(Vv=function PK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ki(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ki(o.result),u.oldVersion,u.newVersion,Ki(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(pQ,gQ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(kc)}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),Vv}function Uv(){return(Uv=g(function*(n){try{return yield(yield Gk()).transaction(kc).objectStore(kc).get(zk(n))}catch(e){if(e instanceof fr)$s.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e?.message});$s.warn(t.message)}}})).apply(this,arguments)}function Hk(n,e){return Bv.apply(this,arguments)}function Bv(){return(Bv=g(function*(n,e){try{const r=(yield Gk()).transaction(kc,"readwrite");yield r.objectStore(kc).put(e,zk(n)),yield r.done}catch(t){if(t instanceof fr)$s.warn(t.message);else{const r=gi.create("idb-set",{originalErrorMessage:t?.message});$s.warn(r.message)}}})).apply(this,arguments)}function zk(n){return`${n.name}!${n.options.appId}`}class vQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IQ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=qk(),{heartbeatsToSend:r,unsentEntries:i}=function wQ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wk(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Wk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=yf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function qk(){return(new Date).toISOString().substring(0,10)}class IQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Mk()&&Nk().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function mQ(n){return Uv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Hk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Hk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Wk(n){return yf(JSON.stringify({version:2,heartbeats:n})).length}!function CQ(n){Fr(new pr("platform-logger",e=>new LK(e),"PRIVATE")),Fr(new pr("heartbeat",e=>new vQ(e),"PRIVATE")),Xn(Ov,"0.9.13",n),Xn(Ov,"0.9.13","esm2017"),Xn("fire-js","")}(""),Xn("firebase","9.23.0","app");const bQ=(n,e)=>e.some(t=>n instanceof t);let Kk,Qk;const Yk=new WeakMap,jv=new WeakMap,Jk=new WeakMap,$v=new WeakMap,Gv=new WeakMap;let Hv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return jv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Jk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function RQ(n){return"function"==typeof n?function NQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function SQ(){return Qk||(Qk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(zv(this),e),Yi(Yk.get(this))}:function(...e){return Yi(n.apply(zv(this),e))}:function(e,...t){const r=n.call(zv(this),e,...t);return Jk.set(r,e.sort?e.sort():[e]),Yi(r)}}(n):(n instanceof IDBTransaction&&function xQ(n){if(jv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});jv.set(n,e)}(n),bQ(n,function TQ(){return Kk||(Kk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Hv):n)}function Yi(n){if(n instanceof IDBRequest)return function AQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Yi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Yk.set(t,n)}).catch(()=>{}),Gv.set(e,n),e}(n);if($v.has(n))return $v.get(n);const e=RQ(n);return e!==n&&($v.set(n,e),Gv.set(e,n)),e}const zv=n=>Gv.get(n),PQ=["get","getKey","getAll","getAllKeys","count"],OQ=["put","add","delete","clear"],qv=new Map;function Xk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(qv.get(e))return qv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=OQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!PQ.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return qv.set(e,s),s}!function MQ(n){Hv=n(Hv)}(n=>({...n,get:(e,t,r)=>Xk(e,t)||n.get(e,t,r),has:(e,t)=>!!Xk(e,t)||n.has(e,t)}));const Zk="@firebase/installations",Wv="0.6.4",eP=1e4,tP=`w:${Wv}`,nP="FIS_v2",FQ="https://firebaseinstallations.googleapis.com/v1",LQ=36e5,mi=new Bs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rP(n){return n instanceof fr&&n.code.includes("request-failed")}function Kv({projectId:n}){return`${FQ}/projects/${n}/installations`}function iP(n){return{token:n.token,requestStatus:2,expiresIn:jQ(n.expiresIn),creationTime:Date.now()}}function Qv(n,e){return Yv.apply(this,arguments)}function Yv(){return(Yv=g(function*(n,e){const r=(yield e.json()).error;return mi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function sP({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Jv(n){return Xv.apply(this,arguments)}function Xv(){return(Xv=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function jQ(n){return Number(n.replace("s","000"))}function Zv(){return(Zv=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Kv(n),i=sP(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:nP,appId:n.appId,sdkVersion:tP})},u=yield Jv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:iP(c.authToken)}}throw yield Qv("Create Installation",u)})).apply(this,arguments)}function aP(n){return new Promise(e=>{setTimeout(e,n)})}const zQ=/^[cdef][\w-]{21}$/,ew="";function qQ(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function WQ(n){return function HQ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return zQ.test(t)?t:ew}catch{return ew}}function Ea(n){return`${n.appName}!${n.appId}`}const Da=new Map;function uP(n,e){const t=Ea(n);cP(t,e),function YQ(n,e){const t=function lP(){return!Hs&&"BroadcastChannel"in self&&(Hs=new BroadcastChannel("[Firebase] FID Change"),Hs.onmessage=n=>{cP(n.data.key,n.data.fid)}),Hs}();t&&t.postMessage({key:n,fid:e}),function dP(){0===Da.size&&Hs&&(Hs.close(),Hs=null)}()}(t,e)}function cP(n,e){const t=Da.get(n);if(t)for(const r of t)r(e)}let Hs=null;const JQ="firebase-installations-database",XQ=1,zs="firebase-installations-store";let tw=null;function nw(){return tw||(tw=function kQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Yi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Yi(o.result),u.oldVersion,u.newVersion,Yi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(JQ,XQ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(zs)}})),tw}function Df(n,e){return rw.apply(this,arguments)}function rw(){return(rw=g(function*(n,e){const t=Ea(n),i=(yield nw()).transaction(zs,"readwrite"),s=i.objectStore(zs),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&uP(n,e.fid),e})).apply(this,arguments)}function iw(n){return sw.apply(this,arguments)}function sw(){return(sw=g(function*(n){const e=Ea(n),r=(yield nw()).transaction(zs,"readwrite");yield r.objectStore(zs).delete(e),yield r.done})).apply(this,arguments)}function Pc(n,e){return ow.apply(this,arguments)}function ow(){return(ow=g(function*(n,e){const t=Ea(n),i=(yield nw()).transaction(zs,"readwrite"),s=i.objectStore(zs),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&uP(n,a.fid),a})).apply(this,arguments)}function aw(n){return uw.apply(this,arguments)}function uw(){return uw=g(function*(n){let e;const t=yield Pc(n.appConfig,r=>{const i=function ZQ(n){return fP(n||{fid:qQ(),registrationStatus:0})}(r),s=function eY(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(mi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function tY(n,e){return cw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:nY(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===ew?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),uw.apply(this,arguments)}function cw(){return cw=g(function*(n,e){try{const t=yield function GQ(n,e){return Zv.apply(this,arguments)}(n,e);return Df(n.appConfig,t)}catch(t){throw rP(t)&&409===t.customData.serverCode?yield iw(n.appConfig):yield Df(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),cw.apply(this,arguments)}function nY(n){return lw.apply(this,arguments)}function lw(){return(lw=g(function*(n){let e=yield hP(n.appConfig);for(;1===e.registrationStatus;)yield aP(100),e=yield hP(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield aw(n);return r||t}return e})).apply(this,arguments)}function hP(n){return Pc(n,e=>{if(!e)throw mi.create("installation-not-found");return fP(e)})}function fP(n){return function rY(n){return 1===n.registrationStatus&&n.registrationTime+eP<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function dw(){return(dw=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function sY(n,{fid:e}){return`${Kv(n)}/${e}/authTokens:generate`}(n,t),i=function oP(n,{refreshToken:e}){const t=sP(n);return t.append("Authorization",function $Q(n){return`${nP} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:tP,appId:n.appId}})},u=yield Jv(()=>fetch(r,a));if(u.ok)return iP(yield u.json());throw yield Qv("Generate Auth Token",u)})).apply(this,arguments)}function hw(n){return fw.apply(this,arguments)}function fw(){return fw=g(function*(n,e=!1){let t;const r=yield Pc(n.appConfig,s=>{if(!gP(s))throw mi.create("not-registered");const o=s.authToken;if(!e&&function uY(n){return 2===n.requestStatus&&!function cY(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+LQ}(n)}(o))return s;if(1===o.requestStatus)return t=function oY(n,e){return pw.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw mi.create("app-offline");const a=function lY(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function aY(n,e){return gw.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),fw.apply(this,arguments)}function pw(){return(pw=g(function*(n,e){let t=yield pP(n.appConfig);for(;1===t.authToken.requestStatus;)yield aP(100),t=yield pP(n.appConfig);const r=t.authToken;return 0===r.requestStatus?hw(n,e):r})).apply(this,arguments)}function pP(n){return Pc(n,e=>{if(!gP(e))throw mi.create("not-registered");return function dY(n){return 1===n.requestStatus&&n.requestTime+eP<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function gw(){return gw=g(function*(n,e){try{const t=yield function iY(n,e){return dw.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Df(n.appConfig,r),t}catch(t){if(!rP(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Df(n.appConfig,r)}else yield iw(n.appConfig);throw t}}),gw.apply(this,arguments)}function gP(n){return void 0!==n&&2===n.registrationStatus}function mw(){return(mw=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield aw(e);return r?r.catch(console.error):hw(e).catch(console.error),t.fid})).apply(this,arguments)}function yw(){return yw=g(function*(n,e=!1){const t=n;return yield function pY(n){return _w.apply(this,arguments)}(t),(yield hw(t,e)).token}),yw.apply(this,arguments)}function _w(){return(_w=g(function*(n){const{registrationPromise:e}=yield aw(n);e&&(yield e)})).apply(this,arguments)}function Iw(n){return mi.create("missing-app-config-values",{valueName:n})}const mP="installations",vY=n=>{const e=n.getProvider("app").getImmediate(),t=function yY(n){if(!n||!n.options)throw Iw("App Configuration");if(!n.name)throw Iw("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Iw(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Qi(e,"heartbeat"),_delete:()=>Promise.resolve()}},wY=n=>{const t=Qi(n.getProvider("app").getImmediate(),mP).getImmediate();return{getId:()=>function hY(n){return mw.apply(this,arguments)}(t),getToken:i=>function fY(n){return yw.apply(this,arguments)}(t,i)}};(function IY(){Fr(new pr(mP,vY,"PUBLIC")),Fr(new pr("installations-internal",wY,"PRIVATE"))})(),Xn(Zk,Wv),Xn(Zk,Wv,"esm2017");const bf="analytics",CY="firebase_id",EY="origin",DY=6e4,bY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cw="https://www.googletagmanager.com/gtag/js",At=new If("@firebase/analytics"),pn=new Bs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function SY(n){if(!n.startsWith(Cw)){const e=pn.create("invalid-gtag-resource",{gtagURL:n});return At.warn(e.message),""}return n}function yP(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Ew(){return(Ew=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield yP(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){At.error(a)}n("config",i,s)})).apply(this,arguments)}function Dw(){return(Dw=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield yP(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){At.error(s)}})).apply(this,arguments)}const FY=30,_P=new class VY{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function UY(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function bw(){return(bw=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:UY(r)},s=bY.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw pn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Tw(){return(Tw=g(function*(n,e=_P,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw pn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw pn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HY;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:DY),vP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function vP(n,e,t){return Sw.apply(this,arguments)}function Sw(){return Sw=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=_P){var s;const{appId:o,measurementId:a}=n;try{yield function $Y(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return At.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function BY(n){return bw.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function GY(n){if(!(n instanceof fr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return At.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Pk(t,i.intervalMillis,FY):Pk(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),At.debug(`Calling attemptFetch again in ${l} millis`),vP(n,d,r,i)}}),Sw.apply(this,arguments)}class HY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Aw,Ow;function xw(){return(xw=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Fw(){return(Fw=g(function*(){if(!Mk())return At.warn(pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Nk()}catch(n){return At.warn(pn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function Lw(){return Lw=g(function*(n,e,t,r,i,s,o){var a;const u=function jY(n){return Tw.apply(this,arguments)}(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&At.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>At.error(f)),e.push(u);const c=function JY(){return Fw.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function OY(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Cw)&&t.src.includes(n))return t;return null})(s)||function xY(n,e){const t=function AY(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:SY}),r=document.createElement("script"),i=`${Cw}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),Ow&&(i("consent","default",Ow),function wP(n){Ow=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[EY]="firebase",h.update=!0,null!=d&&(h[CY]=d),i("config",l.measurementId,h),Aw&&(i("set",Aw),function IP(n){Aw=n}(void 0)),l.measurementId}),Lw.apply(this,arguments)}class ZY{constructor(e){this.app=e}_delete(){return delete Lr[this.app.options.appId],Promise.resolve()}}let Lr={},CP=[];const EP={};let bP,Vr,Tf="dataLayer",DP="gtag",Vw=!1;function tJ(n,e,t){!function eJ(){const n=[];if(xk()&&n.push("This is a browser extension environment."),function oK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=pn.create("invalid-analytics-context",{errorInfo:e});At.warn(t.message)}}();const r=n.options.appId;if(!r)throw pn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw pn.create("no-api-key");At.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Lr[r])throw pn.create("already-exists",{id:r});if(!Vw){!function MY(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Tf);const{wrappedGtag:s,gtagCore:o}=function PY(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function kY(n,e,t,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function RY(n,e,t,r,i){return Dw.apply(this,arguments)}(n,e,t,u,c)}else if("config"===o){const[u,c]=a;yield function NY(n,e,t,r,i,s){return Ew.apply(this,arguments)}(n,e,t,r,u,c)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,c,l]=a;n("get",u,c,l)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){At.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Lr,CP,EP,Tf,DP);Vr=s,bP=o,Vw=!0}return Lr[r]=function XY(n,e,t,r,i,s,o){return Lw.apply(this,arguments)}(n,CP,EP,e,bP,Tf,t),new ZY(n)}function TP(n,e,t,r){n=fn(n),function zY(n,e,t,r,i){return xw.apply(this,arguments)}(Vr,Lr[n.app.options.appId],e,t,r).catch(i=>At.error(i))}const SP="@firebase/analytics";!function iJ(){Fr(new pr(bf,(e,{options:t})=>tJ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Fr(new pr("analytics-internal",function n(e){try{const t=e.getProvider(bf).getImmediate();return{logEvent:(r,i,s)=>TP(t,r,i,s)}}catch(t){throw pn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Xn(SP,"0.10.0"),Xn(SP,"0.10.0","esm2017")}();const sJ=function xP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},MP=new Bs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sf=new If("@firebase/auth");function Af(n,...e){Sf.logLevel<=ve.ERROR&&Sf.error(`Auth (${Ca}): ${n}`,...e)}function Dn(n,...e){throw jw(n,...e)}function Ln(n,...e){return jw(n,...e)}function NP(n,e,t){const r=Object.assign(Object.assign({},sJ()),{[e]:t});return new Bs("auth","Firebase",r).create(e,{appName:n.name})}function jw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return MP.create(n,...e)}function M(n,e,...t){if(!n)throw jw(e,...t)}function Ur(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Af(e),new Error(e)}function yi(n,e){n||Ur(e)}function Oc(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function RP(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=function nK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}()||function iK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function aJ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $w(){return"http:"===RP()||"https:"===RP()}()||xk()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gw(n,e){yi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class kP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},lJ=new Fc(3e4,6e4);function Ke(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Xe(n,e,t,r){return Hw.apply(this,arguments)}function Hw(){return(Hw=g(function*(n,e,t,r,i={}){return PP(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Rc(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),kP.fetch()(OP(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function PP(n,e,t){return zw.apply(this,arguments)}function zw(){return(zw=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},cJ),e);try{const i=new dJ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Lc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Lc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Lc(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Lc(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw NP(n,l,c);Dn(n,l)}}catch(i){if(i instanceof fr)throw i;Dn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function _i(n,e,t,r){return qw.apply(this,arguments)}function qw(){return(qw=g(function*(n,e,t,r,i={}){const s=yield Xe(n,e,t,r,i);return"mfaPendingCredential"in s&&Dn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function OP(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Gw(n.config,i):`${n.config.apiScheme}://${i}`}class dJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ln(this.auth,"network-request-failed")),lJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ln(n,e,r);return i.customData._tokenResponse=t,i}function Ww(){return(Ww=g(function*(n,e){return Xe(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Qw(){return(Qw=g(function*(n,e){return Xe(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Vc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Yw(){return(Yw=g(function*(n,e=!1){const t=fn(n),r=yield t.getIdToken(e),i=xf(r);M(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Vc(Jw(i.auth_time)),issuedAtTime:Vc(Jw(i.iat)),expirationTime:Vc(Jw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Jw(n){return 1e3*Number(n)}function xf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const i=_f(t);return i?JSON.parse(i):(Af("Failed to decode base64 JWT payload"),null)}catch(i){return Af("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vi(n,e){return Xw.apply(this,arguments)}function Xw(){return(Xw=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof fr&&function yJ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class _J{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class FP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Uc(n){return Zw.apply(this,arguments)}function Zw(){return Zw=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield vi(n,function pJ(n,e){return Qw.apply(this,arguments)}(t,{idToken:r}));M(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function IJ(n){return n.map(e=>{var{providerId:t}=e,r=sd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function wJ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new FP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),Zw.apply(this,arguments)}function eI(){return(eI=g(function*(n){const e=fn(n);yield Uc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function tI(){return(tI=g(function*(n,e){const t=yield PP(n,{},g(function*(){const r=Rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=OP(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function mJ(n){const e=xf(n);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function CJ(n,e){return tI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Bc;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function Ji(n,e){M("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class qs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=sd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _J(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new FP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield vi(t,t.stsTokenManager.getToken(t.auth,e));return M(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function gJ(n){return Yw.apply(this,arguments)}(this,e)}reload(){return function vJ(n){return eI.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Uc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield vi(e,function hJ(n,e){return Ww.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=t.createdAt)&&void 0!==c?c:void 0,E=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:k,isAnonymous:$,providerData:z,stsTokenManager:Ot}=t;M(v&&Ot,e,"internal-error");const Mi=Bc.fromJSON(this.name,Ot);M("string"==typeof v,e,"internal-error"),Ji(d,e.name),Ji(h,e.name),M("boolean"==typeof k,e,"internal-error"),M("boolean"==typeof $,e,"internal-error"),Ji(f,e.name),Ji(p,e.name),Ji(m,e.name),Ji(y,e.name),Ji(I,e.name),Ji(E,e.name);const fu=new qs({uid:v,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Mi,createdAt:I,lastLoginAt:E});return z&&Array.isArray(z)&&(fu.providerData=z.map(Dse=>Object.assign({},Dse))),y&&(fu._redirectEventId=y),fu}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Bc;i.updateFromServerResponse(t);const s=new qs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Uc(s),s})()}}const LP=new Map;function wi(n){yi(n instanceof Function,"Expected a class definition");let e=LP.get(n);return e?(yi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LP.set(n,e),e)}const VP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Mf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ta{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Mf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?qs._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new Ta(wi(VP),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||wi(VP);const o=Mf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=qs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ta(s,e,r)):new Ta(s,e,r)})()}}function UP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($P(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HP(e))return"Blackberry";if(zP(e))return"Webos";if(nI(e))return"Safari";if((e.includes("chrome/")||jP(e))&&!e.includes("edge/"))return"Chrome";if(GP(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function BP(n=St()){return/firefox\//i.test(n)}function nI(n=St()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jP(n=St()){return/crios\//i.test(n)}function $P(n=St()){return/iemobile/i.test(n)}function GP(n=St()){return/android/i.test(n)}function HP(n=St()){return/blackberry/i.test(n)}function zP(n=St()){return/webos/i.test(n)}function Nf(n=St()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qP(n=St()){return Nf(n)||GP(n)||zP(n)||HP(n)||/windows phone/i.test(n)||$P(n)}function WP(n,e=[]){let t;switch(n){case"Browser":t=UP(St());break;case"Worker":t=`${UP(St())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ca}/${r}`}function KP(n,e){return iI.apply(this,arguments)}function iI(){return(iI=g(function*(n,e){return Xe(n,"GET","/v2/recaptchaConfig",Ke(n,e))})).apply(this,arguments)}function YP(n){return void 0!==n&&void 0!==n.enterprise}class JP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function sI(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ln("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function SJ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function XP(n){return`__${n}${Math.floor(1e6*Math.random())}`}const MJ="NO_RECAPTCHA";class ZP{constructor(e){this.type="recaptcha-enterprise",this.auth=xt(e)}verify(e="verify",t=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){KP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new JP(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;YP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(MJ)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&YP(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));sI("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class NJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class RJ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eO(this),this.idTokenSubscription=new eO(this),this.beforeStateQueue=new NJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=wi(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ta.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return M(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield Uc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function uJ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?fn(e):null;return r&&M(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(wi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const t=yield KP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new JP(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new ZP(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&wi(e)||t._popupRedirectResolver;M(r,t,"argument-error"),t.redirectPersistenceManager=yield Ta.create(t,[wi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function oJ(n,...e){Sf.logLevel<=ve.WARN&&Sf.warn(`Auth (${Ca}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function xt(n){return fn(n)}class eO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function dK(n,e){const t=new hK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nO(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class rO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,t){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}function Ii(n,e){return CI.apply(this,arguments)}function CI(){return(CI=g(function*(n,e){return _i(n,"POST","/v1/accounts:signInWithIdp",Ke(n,e))})).apply(this,arguments)}class Sa extends rO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=sd(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Sa(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Ii(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ii(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ii(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rc(t)}return e}}class Zi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class aO extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let SI=(()=>{class n extends aO{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Sa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();class Zn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield qs._fromIdTokenResponse(e,r,i),o=uO(r);return new Zn({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=uO(r);return new Zn({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function uO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ff extends fr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ff(e,t,r,i)}}function cO(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Ff._fromErrorAndOperation(n,s,e,r):s})}function RI(n,e){return kI.apply(this,arguments)}function kI(){return(kI=g(function*(n,e,t=!1){const r=yield vi(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Zn._forOperation(n,"link",r)})).apply(this,arguments)}function dO(n,e){return OI.apply(this,arguments)}function OI(){return(OI=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield vi(n,cO(r,i,e,n),t);M(s.idToken,r,"internal-error");const o=xf(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(n.uid===a,r,"user-mismatch"),Zn._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Dn(r,"user-mismatch"),s}})).apply(this,arguments)}function hO(n,e){return FI.apply(this,arguments)}function FI(){return(FI=g(function*(n,e,t=!1){const r="signIn",i=yield cO(n,r,e),s=yield Zn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Vf="__sak";class pO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wX=(()=>{class n extends pO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yX(){const n=St();return nI(n)||Nf(n)}()&&function bJ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function DJ(){return function sK(){const n=St();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),gO=(()=>{class n extends pO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let CX=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function IX(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Uf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class EX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Uf("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function mt(){return window}function hC(){return typeof mt().WorkerGlobalScope<"u"&&"function"==typeof mt().importScripts}function fC(){return(fC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const mO="firebaseLocalStorageDb",AX=1,Bf="firebaseLocalStorage",yO="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jf(n,e){return n.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function pC(){const n=indexedDB.open(mO,AX);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Bf,{keyPath:yO})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),yield function xX(){const n=indexedDB.deleteDatabase(mO);return new Gc(n).toPromise()}(),e(yield pC()))}))})}function _O(n,e,t){return gC.apply(this,arguments)}function gC(){return(gC=g(function*(n,e,t){const r=jf(n,!0).put({[yO]:e,value:t});return new Gc(r).toPromise()})).apply(this,arguments)}function mC(){return(mC=g(function*(n,e){const t=jf(n,!1).get(e),r=yield new Gc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function vO(n,e){const t=jf(n,!0).delete(e);return new Gc(t).toPromise()}const kX=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield pC()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return hC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=CX._getInstance(function SX(){return hC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function bX(){return fC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new EX(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function TX(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield pC();return yield _O(t,Vf,"1"),yield vO(t,Vf),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>_O(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function MX(n,e){return mC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>vO(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=jf(o,!1).getAll();return new Gc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Ks(n,e){return e?wi(e):(M(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}XP("rcb"),new Fc(3e4,6e4);class bC extends rO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ii(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ii(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QX(n){return hO(n.auth,new bC(n),n.bypassAuthState)}function YX(n){const{auth:e,user:t}=n;return M(t,e,"internal-error"),dO(t,new bC(n),n.bypassAuthState)}function JX(n){return TC.apply(this,arguments)}function TC(){return(TC=g(function*(n){const{auth:e,user:t}=n;return M(t,e,"internal-error"),RI(t,new bC(n),n.bypassAuthState)})).apply(this,arguments)}class IO{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QX;case"linkViaPopup":case"linkViaRedirect":return JX;case"reauthViaPopup":case"reauthViaRedirect":return YX;default:Dn(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XX=new Fc(2e3,1e4);function SC(){return(SC=g(function*(n,e,t){const r=xt(n);!function ba(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Dn(n,"argument-error"),NP(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,e,Zi);const i=Ks(r,t);return new MC(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let MC=(()=>{class n extends IO{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return g(function*(){const r=yield t.execute();return M(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return g(function*(){yi(1===t.filter.length,"Popup operations only handle one event");const r=Uf();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Ln(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,XX.get())};t()}}return n.currentPopupAction=null,n})();const eZ="pendingRedirect",Hc=new Map;class tZ extends IO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Hc.get(t.auth._key());if(!r){try{const s=(yield function nZ(n,e){return NC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Hc.set(t.auth._key(),r)}return t.bypassAuthState||Hc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function NC(){return(NC=g(function*(n,e){const t=function EO(n){return Mf(eZ,n.config.apiKey,n.name)}(e),r=function CO(n){return wi(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function rZ(n,e){Hc.set(n._key(),e)}function DO(n,e){return VC.apply(this,arguments)}function VC(){return(VC=g(function*(n,e,t=!1){const r=xt(n),i=Ks(r,e),o=yield new tZ(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class uZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function cZ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SO(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!SO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ln(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(TO(e))}saveEventToCache(e){this.cachedEventUids.add(TO(e)),this.lastProcessedEventTime=Date.now()}}function TO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function SO({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function BC(){return(BC=g(function*(n,e={}){return Xe(n,"GET","/v1/projects",e)})).apply(this,arguments)}const dZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hZ=/^https?/;function jC(){return jC=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function lZ(n){return BC.apply(this,arguments)}(n);for(const t of e)try{if(pZ(t))return}catch{}Dn(n,"unauthorized-domain")}),jC.apply(this,arguments)}function pZ(n){const e=Oc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!hZ.test(t))return!1;if(dZ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gZ=new Fc(3e4,6e4);function AO(){const n=mt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Gf=null;const _Z=new Fc(5e3,15e3),vZ="__/auth/iframe",wZ="emulator/auth/iframe",IZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EZ(n){const e=n.config;M(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gw(e,wZ):`https://${n.config.authDomain}/${vZ}`,r={apiKey:e.apiKey,appName:n.name,v:Ca},i=CZ.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Rc(r).slice(1)}`}function $C(){return $C=g(function*(n){const e=yield function yZ(n){return Gf=Gf||function mZ(n){return new Promise((e,t)=>{var r,i,s;function o(){AO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AO(),t(Ln(n,"network-request-failed"))},timeout:gZ.get()})}if(null!==(i=null===(r=mt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=mt().gapi)||void 0===s||!s.load){const a=XP("iframefcb");return mt()[a]=()=>{gapi.load?o():t(Ln(n,"network-request-failed"))},sI(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Gf=null,e})}(n),Gf}(n),t=mt().gapi;return M(t,n,"internal-error"),e.open({where:document.body,url:EZ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IZ,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ln(n,"network-request-failed"),u=mt().setTimeout(()=>{o(a)},_Z.get());function c(){mt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),$C.apply(this,arguments)}const bZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TZ=500,SZ=600,AZ="_blank",xZ="http://localhost";class xO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const RZ="__/auth/handler",kZ="emulator/auth/handler",PZ=encodeURIComponent("fac");function MO(n,e,t,r,i,s){return GC.apply(this,arguments)}function GC(){return(GC=g(function*(n,e,t,r,i,s){M(n.config.authDomain,n,"auth-domain-config-required"),M(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ca,eventId:i};if(e instanceof Zi){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function lK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof aO){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield n._getAppCheckToken(),c=u?`#${PZ}=${encodeURIComponent(u)}`:"";return`${function OZ({config:n}){return n.emulator?Gw(n,kZ):`https://${n.authDomain}/${RZ}`}(n)}?${Rc(a).slice(1)}${c}`})).apply(this,arguments)}const HC="webStorageSupport",LZ=class FZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gO,this._completeRedirectFn=DO,this._overrideRedirectResult=rZ}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;yi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield MO(e,t,r,Oc(),i);return function MZ(n,e,t,r=TZ,i=SZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},bZ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=St().toLowerCase();t&&(a=jP(c)?AZ:t),BP(c)&&(e=e||xZ,u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function EJ(n=St()){var e;return Nf(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function NZ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new xO(null);const d=window.open(e||"",a,l);M(d,n,"popup-blocked");try{d.focus()}catch{}return new xO(d)}(e,a,Uf())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function DX(n){mt().location.href=n}(yield MO(e,t,r,Oc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(yi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function DZ(n){return $C.apply(this,arguments)}(e),i=new uZ(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(HC,{type:HC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[HC];void 0!==o&&t(!!o),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function fZ(n){return jC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qP()||nI()||Nf()}};var kO="@firebase/auth";class VZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $Z=Sk("authIdTokenMaxAge")||300;let OO=null;const GZ=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>$Z)return;const s=r?.token;OO!==s&&(OO=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function HZ(n=Fv()){const e=Qi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function kJ(n,e){const t=Qi(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Nc(t.getOptions(),e??{}))return i;Dn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:LZ,persistence:[kX,wX,gO]}),r=Sk("authTokenSyncURL");if(r){const s=GZ(r);(function dX(n,e,t){fn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function lX(n,e,t,r){fn(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=bk("auth");return i&&function OJ(n,e,t){const r=xt(n);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=tO(e),{host:o,port:a}=function FJ(n){const e=tO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:nO(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:nO(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function LJ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function BZ(n){Fr(new pr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WP(n)},c=new RJ(r,i,s,u);return function PJ(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(wi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fr(new pr("auth-internal",e=>{const t=xt(e.getProvider("auth").getImmediate());return new VZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(kO,"0.23.2",function UZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Xn(kO,"0.23.2","esm2017")}("Browser");var P,zZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gr={},qC=qC||{},ee=zZ||self;function zf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var WC="closure_uid_"+(1e9*Math.random()>>>0),WZ=0;function KZ(n,e,t){return n.call.apply(n.bind,arguments)}function QZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function en(n,e,t){return(en=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?KZ:QZ).apply(null,arguments)}function qf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function es(){this.s=this.s,this.o=this.o}es.prototype.s=!1,es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qZ(n){Object.prototype.hasOwnProperty.call(n,WC)&&n[WC]||(n[WC]=++WZ)}(this)},es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function KC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function LO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(zf(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function tn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var JZ=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return n}();function qc(n){return/^[\s\xa0]*$/.test(n)}function Wf(){var n=ee.navigator;return n&&(n=n.userAgent)?n:""}function Br(n){return-1!=Wf().indexOf(n)}function QC(n){return QC[" "](n),n}QC[" "]=function(){};var JC,n,ZZ=Br("Opera"),xa=Br("Trident")||Br("MSIE"),VO=Br("Edge"),YC=VO||xa,UO=Br("Gecko")&&!(-1!=Wf().toLowerCase().indexOf("webkit")&&!Br("Edge"))&&!(Br("Trident")||Br("MSIE"))&&!Br("Edge"),eee=-1!=Wf().toLowerCase().indexOf("webkit")&&!Br("Edge");function BO(){var n=ee.document;return n?n.documentMode:void 0}e:{var XC="",ZC=(n=Wf(),UO?/rv:([^\);]+)(\)|;)/.exec(n):VO?/Edge\/([\d\.]+)/.exec(n):xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):eee?/WebKit\/(\S+)/.exec(n):ZZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ZC&&(XC=ZC?ZC[1]:""),xa){var eE=BO();if(null!=eE&&eE>parseFloat(XC)){JC=String(eE);break e}}JC=XC}var tee=ee.document&&xa&&(BO()||parseInt(JC,10))||void 0;function Wc(n,e){if(tn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(UO){e:{try{QC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wc.$.h.call(this)}}Mt(Wc,tn);var nee={2:"touch",3:"pen",4:"mouse"};Wc.prototype.h=function(){Wc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Kc="closure_listenable_"+(1e6*Math.random()|0),ree=0;function iee(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++ree,this.fa=this.ia=!1}function Kf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function nE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $O(n){const e={};for(const t in n)e[t]=n[t];return e}const GO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<GO.length;s++)t=GO[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Qf(n){this.src=n,this.g={},this.h=0}function rE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=FO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Kf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function iE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Qf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=iE(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new iee(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var sE="closure_lm_"+(1e6*Math.random()|0),oE={};function zO(n,e,t,r,i){if(r&&r.once)return WO(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zO(n,e[s],t,r,i);return null}return t=lE(t),n&&n[Kc]?n.O(e,t,zc(r)?!!r.capture:!!r,i):qO(n,e,t,!1,r,i)}function qO(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=zc(i)?!!i.capture:!!i,a=uE(n);if(a||(n[sE]=a=new Qf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function oee(){const e=aee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)JZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(QO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function WO(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WO(n,e[s],t,r,i);return null}return t=lE(t),n&&n[Kc]?n.P(e,t,zc(r)?!!r.capture:!!r,i):qO(n,e,t,!0,r,i)}function KO(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)KO(n,e[s],t,r,i);else r=zc(r)?!!r.capture:!!r,t=lE(t),n&&n[Kc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=iE(s=n.g[e],t,r,i))&&(Kf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=uE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=iE(e,t,r,i)),(t=-1<n?e[n]:null)&&aE(t))}function aE(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Kc])rE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(QO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=uE(e))?(rE(t,n),0==t.h&&(t.src=null,e[sE]=null)):Kf(n)}}}function QO(n){return n in oE?oE[n]:oE[n]="on"+n}function aee(n,e){if(n.fa)n=!0;else{e=new Wc(e,this);var t=n.listener,r=n.la||n.src;n.ia&&aE(n),n=t.call(r,e)}return n}function uE(n){return(n=n[sE])instanceof Qf?n:null}var cE="__closure_events_fn_"+(1e9*Math.random()>>>0);function lE(n){return"function"==typeof n?n:(n[cE]||(n[cE]=function(e){return n.handleEvent(e)}),n[cE])}function Nt(){es.call(this),this.i=new Qf(this),this.S=this,this.J=null}function $t(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new tn(e,n);else if(e instanceof tn)e.target=e.target||n;else{var i=e;HO(e=new tn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Yf(o,r,!0,e)&&i}if(i=Yf(o=e.g=n,r,!0,e)&&i,i=Yf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Yf(o=e.g=t[s],r,!1,e)&&i}function Yf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&rE(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Mt(Nt,es),Nt.prototype[Kc]=!0,Nt.prototype.removeEventListener=function(n,e,t,r){KO(this,n,e,t,r)},Nt.prototype.N=function(){if(Nt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Kf(t[r]);delete n.g[e],n.h--}}this.J=null},Nt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Nt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dE=ee.JSON.stringify;function cee(){var n=hE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var YO=new class uee{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new dee,n=>n.reset());class dee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hee(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function fee(n){ee.setTimeout(()=>{throw n},0)}let Qc,Yc=!1,hE=new class lee{constructor(){this.h=this.g=null}add(e,t){const r=YO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},JO=()=>{const n=ee.Promise.resolve(void 0);Qc=()=>{n.then(pee)}};var pee=()=>{for(var n;n=cee();){try{n.h.call(n.g)}catch(t){fee(t)}var e=YO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Yc=!1};function Jf(n,e){Nt.call(this),this.h=n||1,this.g=e||ee,this.j=en(this.qb,this),this.l=Date.now()}function fE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function pE(n,e,t){if("function"==typeof n)t&&(n=en(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=en(n.handleEvent,n)}return 2147483647<Number(e)?-1:ee.setTimeout(n,e||0)}function XO(n){n.g=pE(()=>{n.g=null,n.i&&(n.i=!1,XO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mt(Jf,Nt),(P=Jf.prototype).ga=!1,P.T=null,P.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$t(this,"tick"),this.ga&&(fE(this),this.start()))}},P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.N=function(){Jf.$.N.call(this),fE(this),delete this.g};class gee extends es{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XO(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jc(n){es.call(this),this.h=n,this.g={}}Mt(Jc,es);var ZO=[];function eF(n,e,t,r){Array.isArray(t)||(t&&(ZO[0]=t.toString()),t=ZO);for(var i=0;i<t.length;i++){var s=zO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function tF(n){nE(n.g,function(e,t){this.g.hasOwnProperty(t)&&aE(e)},n),n.g={}}function Xf(){this.g=!0}function Ma(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return dE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Jc.prototype.N=function(){Jc.$.N.call(this),tF(this)},Jc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xf.prototype.Ea=function(){this.g=!1},Xf.prototype.info=function(){};var Qs={},nF=null;function Zf(){return nF=nF||new Nt}function rF(n){tn.call(this,Qs.Ta,n)}function Xc(n){const e=Zf();$t(e,new rF(e))}function iF(n,e){tn.call(this,Qs.STAT_EVENT,n),this.stat=e}function gn(n){const e=Zf();$t(e,new iF(e,n))}function sF(n,e){tn.call(this,Qs.Ua,n),this.size=e}function Zc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){n()},e)}Qs.Ta="serverreachability",Mt(rF,tn),Qs.STAT_EVENT="statevent",Mt(iF,tn),Qs.Ua="timingevent",Mt(sF,tn);var ep={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gE(){}function uF(){}gE.prototype.h=null;var _E,el={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mE(){tn.call(this,"d")}function yE(){tn.call(this,"c")}function tp(){}function tl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Jc(this),this.P=wee,this.V=new Jf(n=YC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cF}function cF(){this.i=null,this.g="",this.h=!1}Mt(mE,tn),Mt(yE,tn),Mt(tp,gE),tp.prototype.g=function(){return new XMLHttpRequest},tp.prototype.i=function(){return{}},_E=new tp;var wee=45e3,vE={},np={};function wE(n,e,t){n.L=1,n.v=op(Ci(e)),n.s=t,n.S=!0,lF(n,null)}function lF(n,e){n.G=Date.now(),nl(n),n.A=Ci(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),wF(t.i,"t",r),n.C=0,t=n.l.J,n.h=new cF,n.g=HF(n.l,t?e:null,!n.s),0<n.O&&(n.M=new gee(en(n.Pa,n,n.g),n.O)),eF(n.U,n.g,"readystatechange",n.nb),e=n.I?$O(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Xc(),function mee(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function dF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function hF(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Iee(n,t),i==np){4==e&&(n.o=4,gn(14),r=!1),Ma(n.j,n.m,null,"[Incomplete Response]");break}if(i==vE){n.o=4,gn(15),Ma(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ma(n.j,n.m,i,null),IE(n,i)}dF(n)&&i!=np&&i!=vE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),AE(e),e.M=!0,gn(11))):(Ma(n.j,n.m,t,"[Invalid Chunked Response]"),Ys(n),rl(n))}function Iee(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?np:(t=Number(e.substring(t,r)),isNaN(t)?vE:(r+=1)+t>e.length?np:(e=e.slice(r,r+t),n.C=r+t,e))}function nl(n){n.Y=Date.now()+n.P,fF(n,n.P)}function fF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Zc(en(n.lb,n),e)}function rp(n){n.B&&(ee.clearTimeout(n.B),n.B=null)}function rl(n){0==n.l.H||n.J||BF(n.l,n)}function Ys(n){rp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,fE(n.V),tF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function IE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||CE(t.i,n)))if(!n.K&&CE(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;hp(t),lp(t)}SE(t),gn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Zc(en(t.ib,t),6e3));if(1>=EF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Xs(t,11)}else if((n.K||t.g==n)&&hp(t),!qc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(EE(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Be(r.I,r.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=GF(r,r.J?r.pa:null,r.Y),o.K){DF(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(rp(a),nl(a)),r.g=o}else VF(r);0<t.j.length&&dp(t)}else"stop"!=c[0]&&"close"!=c[0]||Xs(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Xs(t,7):TE(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Xc()}catch{}}function pF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Eee(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(zf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Cee(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(zf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(P=tl.prototype).setTimeout=function(n){this.P=n},P.nb=function(n){n=n.target;const e=this.M;e&&3==jr(n)?e.l():this.Pa(n)},P.Pa=function(n){try{if(n==this.g)e:{const l=jr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||YC||this.g&&(this.h.h||this.g.ja()||RF(this.g)))){this.J||4!=l||7==e||Xc(),rp(this);var t=this.g.da();this.ca=t;t:if(dF(this)){var r=RF(this.g);n="";var i=r.length,s=4==jr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),rl(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function yee(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qc(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,gn(12),Ys(this),rl(this);break e}Ma(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IE(this,t)}this.S?(hF(this,l,o),YC&&this.i&&3==l&&(eF(this.U,this.V,"tick",this.mb),this.V.start())):(Ma(this.j,this.m,o,null),IE(this,o)),4==l&&Ys(this),this.i&&!this.J&&(4==l?BF(this.l,this):(this.i=!1,nl(this)))}else(function jee(n){const e={};n=(n.g&&2<=jr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(qc(n[r]))continue;var t=hee(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function see(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,gn(12)):(this.o=0,gn(13)),Ys(this),rl(this)}}}catch{}},P.mb=function(){if(this.g){var n=jr(this.g),e=this.g.ja();this.C<e.length&&(rp(this),hF(this,n,e),this.i&&4!=n&&nl(this))}},P.cancel=function(){this.J=!0,Ys(this)},P.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function _ee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xc(),gn(17)),Ys(this),this.o=2,rl(this)):fF(this,this.Y-n)};var gF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Js){this.h=n.h,ip(this,n.j),this.s=n.s,this.g=n.g,sp(this,n.m),this.l=n.l;var e=n.i,t=new ol;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),mF(this,t),this.o=n.o}else n&&(e=String(n).match(gF))?(this.h=!1,ip(this,e[1]||"",!0),this.s=il(e[2]||""),this.g=il(e[3]||"",!0),sp(this,e[4]),this.l=il(e[5]||"",!0),mF(this,e[6]||"",!0),this.o=il(e[7]||"")):(this.h=!1,this.i=new ol(null,this.h))}function Ci(n){return new Js(n)}function ip(n,e,t){n.j=t?il(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function mF(n,e,t){e instanceof ol?(n.i=e,function Mee(n,e){e&&!n.j&&(ts(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(_F(this,r),wF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=sl(e,Aee)),n.i=new ol(e,n.h))}function Be(n,e,t){n.i.set(e,t)}function op(n){return Be(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function il(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,bee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Js.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sl(e,yF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sl(e,yF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(sl(t,"/"==t.charAt(0)?See:Tee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",sl(t,xee)),n.join("")};var yF=/[#\/\?@]/g,Tee=/[#\?:]/g,See=/[#\?]/g,Aee=/[#\?@]/g,xee=/#/g;function ol(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ts(n){n.g||(n.g=new Map,n.h=0,n.i&&function Dee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _F(n,e){ts(n),e=Na(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function vF(n,e){return ts(n),e=Na(n,e),n.g.has(e)}function wF(n,e,t){_F(n,e),0<t.length&&(n.i=null,n.g.set(Na(n,e),KC(t)),n.h+=t.length)}function Na(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function IF(n){this.l=n||Ree,n=ee.PerformanceNavigationTiming?0<(n=ee.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=ol.prototype).add=function(n,e){ts(this),this.i=null,n=Na(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},P.forEach=function(n,e){ts(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},P.ta=function(){ts(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},P.Z=function(n){ts(this);let e=[];if("string"==typeof n)vF(this,n)&&(e=e.concat(this.g.get(Na(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},P.set=function(n,e){return ts(this),this.i=null,vF(this,n=Na(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},P.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Ree=10;function CF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EF(n){return n.h?1:n.g?n.g.size:0}function CE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function EE(n,e){n.g?n.g.add(e):n.h=e}function DF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function bF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return KC(n.i)}IF.prototype.cancel=function(){if(this.i=bF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var kee=class{stringify(n){return ee.JSON.stringify(n,void 0)}parse(n){return ee.JSON.parse(n,void 0)}};function Pee(){this.g=new kee}function Oee(n,e,t){const r=t||"";try{pF(n,function(i,s){let o=i;zc(i)&&(o=dE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ap(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function al(n){this.l=n.fc||null,this.j=n.ob||!1}function up(n,e){Nt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=DE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mt(al,gE),al.prototype.g=function(){return new up(this.l,this.j)},al.prototype.i=function(n){return function(){return n}}({}),Mt(up,Nt);var DE=0;function TF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ul(n){n.readyState=4,n.l=null,n.j=null,n.A=null,cl(n)}function cl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(P=up.prototype).open=function(n,e){if(this.readyState!=DE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,cl(this)},P.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ul(this)),this.readyState=DE},P.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,cl(this)),this.g&&(this.readyState=3,cl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},P.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ul(this):cl(this),3==this.readyState&&TF(this)}},P.Za=function(n){this.g&&(this.response=this.responseText=n,ul(this))},P.Ya=function(n){this.g&&(this.response=n,ul(this))},P.ka=function(){this.g&&ul(this)},P.setRequestHeader=function(n,e){this.v.append(n,e)},P.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(up.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Lee=ee.JSON.parse;function Ze(n){Nt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=SF,this.L=this.M=!1}Mt(Ze,Nt);var SF="",Vee=/^https?$/i,Uee=["POST","PUT"];function AF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,xF(n),cp(n)}function xF(n){n.F||(n.F=!0,$t(n,"complete"),$t(n,"error"))}function MF(n){if(n.h&&typeof qC<"u"&&(!n.C[1]||4!=jr(n)||2!=n.da()))if(n.v&&4==jr(n))pE(n.La,0,n);else if($t(n,"readystatechange"),4==jr(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(gF)[1]||null;!i&&ee.self&&ee.self.location&&(i=ee.self.location.protocol.slice(0,-1)),r=!Vee.test(i?i.toLowerCase():"")}t=r}if(t)$t(n,"complete"),$t(n,"success");else{n.m=6;try{var s=2<jr(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",xF(n)}}finally{cp(n)}}}function cp(n,e){if(n.g){NF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||$t(n,"ready");try{t.onreadystatechange=r}catch{}}}function NF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ee.clearTimeout(n.A),n.A=null)}function jr(n){return n.g?n.g.readyState:0}function RF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case SF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function kF(n){let e="";return nE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function bE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=kF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Be(n,e,t))}function ll(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function PF(n){this.Ga=0,this.j=[],this.l=new Xf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ll("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ll("baseRetryDelayMs",5e3,n),this.hb=ll("retryDelaySeedMs",1e4,n),this.eb=ll("forwardChannelMaxRetries",2,n),this.xa=ll("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new IF(n&&n.concurrentRequestLimit),this.Ja=new Pee,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function TE(n){if(OF(n),3==n.H){var e=n.W++,t=Ci(n.I);if(Be(t,"SID",n.K),Be(t,"RID",e),Be(t,"TYPE","terminate"),dl(n,t),(e=new tl(n,n.l,e)).L=2,e.v=op(Ci(t)),t=!1,ee.navigator&&ee.navigator.sendBeacon)try{t=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=HF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),nl(e)}$F(n)}function lp(n){n.g&&(AE(n),n.g.cancel(),n.g=null)}function OF(n){lp(n),n.u&&(ee.clearTimeout(n.u),n.u=null),hp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ee.clearTimeout(n.m),n.m=null)}function dp(n){if(!CF(n.i)&&!n.m){n.m=!0;var e=n.Na;Qc||JO(),Yc||(Qc(),Yc=!0),hE.add(e,n),n.C=0}}function FF(n,e){var t;t=e?e.m:n.W++;const r=Ci(n.I);Be(r,"SID",n.K),Be(r,"RID",t),Be(r,"AID",n.V),dl(n,r),n.o&&n.s&&bE(r,n.o,n.s),t=new tl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=LF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),EE(n.i,t),wE(t,r,e)}function dl(n,e){n.na&&nE(n.na,function(t,r){Be(e,r,t)}),n.h&&pF({},function(t,r){Be(e,r,t)})}function LF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?en(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Oee(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function VF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Qc||JO(),Yc||(Qc(),Yc=!0),hE.add(e,n),n.A=0}}function SE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Zc(en(n.Ma,n),jF(n,n.A)),n.A++,0))}function AE(n){null!=n.B&&(ee.clearTimeout(n.B),n.B=null)}function UF(n){n.g=new tl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ci(n.wa);Be(e,"RID","rpc"),Be(e,"SID",n.K),Be(e,"AID",n.V),Be(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Be(e,"TO",n.qa),Be(e,"TYPE","xmlhttp"),dl(n,e),n.o&&n.s&&bE(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=op(Ci(e)),t.s=null,t.S=!0,lF(t,n)}function hp(n){null!=n.v&&(ee.clearTimeout(n.v),n.v=null)}function BF(n,e){var t=null;if(n.g==e){hp(n),AE(n),n.g=null;var r=2}else{if(!CE(n.i,e))return;t=e.F,DF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;$t(r=Zf(),new sF(r,t)),dp(n)}else VF(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function $ee(n,e){return!(EF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Zc(en(n.Na,n,e),jF(n,n.C)),n.C++,0)))}(n,e)||2==r&&SE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Xs(n,5);break;case 4:Xs(n,10);break;case 3:Xs(n,6);break;default:Xs(n,2)}}function jF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Xs(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=en(n.pb,n);t||(t=new Js("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||ip(t,"https"),op(t)),function Fee(n,e){const t=new Xf;if(ee.Image){const r=new Image;r.onload=qf(ap,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qf(ap,t,r,"TestLoadImage: error",!1,e),r.onabort=qf(ap,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qf(ap,t,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else gn(2);n.H=0,n.h&&n.h.za(e),$F(n),OF(n)}function $F(n){if(n.H=0,n.ma=[],n.h){const e=bF(n.i);(0!=e.length||0!=n.j.length)&&(LO(n.ma,e),LO(n.ma,n.j),n.i.i.length=0,KC(n.j),n.j.length=0),n.h.ya()}}function GF(n,e,t){var r=t instanceof Js?Ci(t):new Js(t);if(""!=r.g)e&&(r.g=e+"."+r.g),sp(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Js(null);r&&ip(s,r),e&&(s.g=e),i&&sp(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Be(r,t,e),Be(r,"VER",n.ra),dl(n,r),r}function HF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ze(t&&n.Ha&&!n.va?new al({ob:!0}):n.va)).Oa(n.J),e}function zF(){}function fp(){if(xa&&!(10<=Number(tee)))throw Error("Environmental error: no available transport.")}function Vn(n,e){Nt.call(this),this.g=new PF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!qc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ra(this)}function qF(n){mE.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function WF(){yE.call(this),this.status=1}function Ra(n){this.g=n}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xE(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Se(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(P=Ze.prototype).Oa=function(n){this.M=n},P.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_E.g(),this.C=function aF(n){return n.h||(n.h=n.i())}(this.u?this.u:_E),this.g.onreadystatechange=en(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void AF(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ee.FormData&&n instanceof ee.FormData,!(0<=FO(Uee,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NF(this),0<this.B&&((this.L=function Bee(n){return xa&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.ua,this)):this.A=pE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){AF(this,s)}},P.ua=function(){typeof qC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$t(this,"timeout"),this.abort(8))},P.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$t(this,"complete"),$t(this,"abort"),cp(this))},P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cp(this,!0)),Ze.$.N.call(this)},P.La=function(){this.s||(this.G||this.v||this.l?MF(this):this.kb())},P.kb=function(){MF(this)},P.isActive=function(){return!!this.g},P.da=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},P.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Lee(e)}},P.Ia=function(){return this.m},P.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=PF.prototype).ra=8,P.H=1,P.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new tl(this,this.l,n);let s=this.s;if(this.U&&(s?(s=$O(s),HO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=LF(this,i,e),Be(t=Ci(this.I),"RID",n),Be(t,"CVER",22),this.F&&Be(t,"X-HTTP-Session-Id",this.F),dl(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(kF(s)))+"&"+e:this.o&&bE(t,this.o,s)),EE(this.i,i),this.bb&&Be(t,"TYPE","init"),this.P?(Be(t,"$req",e),Be(t,"SID","null"),i.aa=!0,wE(i,t,null)):wE(i,t,e),this.H=2}}else 3==this.H&&(n?FF(this,n):0==this.j.length||CF(this.i)||FF(this))},P.Ma=function(){if(this.u=null,UF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Zc(en(this.jb,this),n)}},P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gn(10),lp(this),UF(this))},P.ib=function(){null!=this.v&&(this.v=null,lp(this),SE(this),gn(19))},P.pb=function(n){n?(this.l.info("Successfully pinged google.com"),gn(2)):(this.l.info("Failed to ping google.com"),gn(1))},P.isActive=function(){return!!this.h&&this.h.isActive(this)},(P=zF.prototype).Ba=function(){},P.Aa=function(){},P.za=function(){},P.ya=function(){},P.isActive=function(){return!0},P.Va=function(){},fp.prototype.g=function(n,e){return new Vn(n,e)},Mt(Vn,Nt),Vn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;gn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=GF(n,null,n.Y),dp(n)},Vn.prototype.close=function(){TE(this.g)},Vn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dE(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&dp(e)},Vn.prototype.N=function(){this.g.h=null,delete this.j,TE(this.g),delete this.g,Vn.$.N.call(this)},Mt(qF,mE),Mt(WF,yE),Mt(Ra,zF),Ra.prototype.Ba=function(){$t(this.g,"a")},Ra.prototype.Aa=function(n){$t(this.g,new qF(n))},Ra.prototype.za=function(n){$t(this.g,new WF)},Ra.prototype.ya=function(){$t(this.g,"b")},Mt(mr,function Gee(){this.blockSize=-1}),mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)xE(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){xE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){xE(this,r),i=0;break}}this.h=i,this.i+=e},mr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Hee={};function ME(n){return-128<=n&&128>n?function XZ(n,e){var t=Hee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Se([0|e],0>e?-1:0)}):new Se([0|n],0>n?-1:0)}function $r(n){if(isNaN(n)||!isFinite(n))return ka;if(0>n)return Gt($r(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=NE;return new Se(e,0)}var NE=4294967296,ka=ME(0),RE=ME(1),QF=ME(16777216);function Ei(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function er(n){return-1==n.h}function Gt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Se(t,~n.h).add(RE)}function pp(n,e){return n.add(Gt(e))}function gp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function hl(n,e){this.g=n,this.h=e}function mp(n,e){if(Ei(e))throw Error("division by zero");if(Ei(n))return new hl(ka,ka);if(er(n))return e=mp(Gt(n),e),new hl(Gt(e.g),Gt(e.h));if(er(e))return e=mp(n,Gt(e)),new hl(Gt(e.g),e.h);if(30<n.g.length){if(er(n)||er(e))throw Error("slowDivide_ only works with positive integers.");for(var t=RE,r=e;0>=r.X(n);)t=YF(t),r=YF(r);var i=Pa(t,1),s=Pa(r,1);for(r=Pa(r,2),t=Pa(t,2);!Ei(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Pa(r,1),t=Pa(t,1)}return e=pp(n,i.R(e)),new hl(i,e)}for(i=ka;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=$r(t)).R(e);er(o)||0<o.X(n);)o=(s=$r(t-=r)).R(e);Ei(s)&&(s=RE),i=i.add(s),n=pp(n,o)}return new hl(i,n)}function YF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Se(t,n.h)}function Pa(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Se(i,n.h)}(P=Se.prototype).ea=function(){if(er(this))return-Gt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:NE+r)*e,e*=NE}return n},P.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ei(this))return"0";if(er(this))return"-"+Gt(this).toString(n);for(var e=$r(Math.pow(n,6)),t=this,r="";;){var i=mp(t,e).g,s=((0<(t=pp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ei(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},P.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},P.X=function(n){return er(n=pp(this,n))?-1:Ei(n)?0:1},P.abs=function(){return er(this)?Gt(this):this},P.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Se(t,-2147483648&t[t.length-1]?-1:0)},P.R=function(n){if(Ei(this)||Ei(n))return ka;if(er(this))return er(n)?Gt(this).R(Gt(n)):Gt(Gt(this).R(n));if(er(n))return Gt(this.R(Gt(n)));if(0>this.X(QF)&&0>n.X(QF))return $r(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,gp(t,2*r+2*i),t[2*r+2*i+1]+=s*u,gp(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,gp(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,gp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Se(t,0)},P.gb=function(n){return mp(this,n).h},P.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Se(t,this.h&n.h)},P.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Se(t,this.h|n.h)},P.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Se(t,this.h^n.h)},fp.prototype.createWebChannel=fp.prototype.g,Vn.prototype.send=Vn.prototype.u,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,ep.NO_ERROR=0,ep.TIMEOUT=8,ep.HTTP_ERROR=6,oF.COMPLETE="complete",uF.EventType=el,el.OPEN="a",el.CLOSE="b",el.ERROR="c",el.MESSAGE="d",Nt.prototype.listen=Nt.prototype.O,Ze.prototype.listenOnce=Ze.prototype.P,Ze.prototype.getLastError=Ze.prototype.Sa,Ze.prototype.getLastErrorCode=Ze.prototype.Ia,Ze.prototype.getStatus=Ze.prototype.da,Ze.prototype.getResponseJson=Ze.prototype.Wa,Ze.prototype.getResponseText=Ze.prototype.ja,Ze.prototype.send=Ze.prototype.ha,Ze.prototype.setWithCredentials=Ze.prototype.Oa,mr.prototype.digest=mr.prototype.l,mr.prototype.reset=mr.prototype.reset,mr.prototype.update=mr.prototype.j,Se.prototype.add=Se.prototype.add,Se.prototype.multiply=Se.prototype.R,Se.prototype.modulo=Se.prototype.gb,Se.prototype.compare=Se.prototype.X,Se.prototype.toNumber=Se.prototype.ea,Se.prototype.toString=Se.prototype.toString,Se.prototype.getBits=Se.prototype.D,Se.fromNumber=$r,Se.fromString=function KF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Gt(KF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=$r(Math.pow(e,8)),r=ka,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=$r(Math.pow(e,s)),r=r.R(s).add($r(o))):r=(r=r.R(t)).add($r(o))}return r};var zee=gr.createWebChannelTransport=function(){return new fp},qee=gr.getStatEventTarget=function(){return Zf()},kE=gr.ErrorCode=ep,Wee=gr.EventType=oF,Kee=gr.Event=Qs,JF=gr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qee=gr.FetchXmlHttpFactory=al,yp=gr.WebChannel=uF,Yee=gr.XhrIo=Ze,Jee=gr.Md5=mr,Oa=gr.Integer=Se;const XF="@firebase/firestore";class Rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");let Fa="9.23.0";const ns=new If("@firebase/firestore");function PE(){return ns.logLevel}function T(n,...e){if(ns.logLevel<=ve.DEBUG){const t=e.map(OE);ns.debug(`Firestore (${Fa}): ${n}`,...t)}}function at(n,...e){if(ns.logLevel<=ve.ERROR){const t=e.map(OE);ns.error(`Firestore (${Fa}): ${n}`,...t)}}function yr(n,...e){if(ns.logLevel<=ve.WARN){const t=e.map(OE);ns.warn(`Firestore (${Fa}): ${n}`,...t)}}function OE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function L(n="Unexpected state"){const e=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: `+n;throw at(e),new Error(e)}function U(n,e){n||L()}function R(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ZF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rt.UNAUTHENTICATED))}shutdown(){}}class Zee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ete{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new ZF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Rt(e)}}class tte{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nte{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new tte(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rte{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(U("string"==typeof t.token),this.T=t.token,new eL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ite(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class tL{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ite(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Z(n,e){return n<e?-1:n>e?1:0}function La(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Qe{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qe(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Qe(0,0))}static max(){return new B(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fl{constructor(e,t,r){void 0===t?t=0:t>e.length&&L(),void 0===r?r=e.length-t:r>e.length-t&&L(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===fl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class we extends fl{construct(e,t,r){return new we(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new we(t)}static emptyPath(){return new we([])}}const ste=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends fl{construct(e,t,r){return new ut(e,t,r)}static isValidIdentifier(e){return ste.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(t)}static emptyPath(){return new ut([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(we.fromString(e))}static fromName(e){return new N(we.fromString(e).popFirst(5))}static empty(){return new N(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return we.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new we(e.slice()))}}function iL(n){return new Un(n.readTime,n.key,-1)}class Un{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Un(B.min(),N.empty(),-1)}static max(){return new Un(B.max(),N.empty(),-1)}}function LE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=N.comparator(n.documentKey,e.documentKey),0!==t?t:Z(n.largestBatchId,e.largestBatchId))}const sL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ute{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function rs(n){return VE.apply(this,arguments)}function VE(){return VE=g(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==sL)throw n;T("LocalStore","Unexpectedly lost primary lease")}),VE.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _?t:_.resolve(t)}catch(t){return _.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_.reject(t)}static resolve(e){return new _((t,r)=>{t(e)})}static reject(e){return new _((t,r)=>{r(e)})}static waitFor(e){return new _((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=_.resolve(!1);for(const r of e)t=t.next(i=>i?_.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new _((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function is(n){return"IndexedDbTransactionError"===n.name}let Bn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function ml(n){return null==n}function yl(n){return 0===n&&1/n==-1/0}function pL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ss(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Le{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new Le(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=s??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ht(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1,Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ht(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mL(this.data.getIterator())}getIteratorFrom(e){return new mL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new je(this.comparator);return t.data=e,t}}class mL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new bn([])}unionWith(e){let t=new je(ut.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class yL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yL("Invalid base64 string: "+i):i}}(e);return new bt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const Nte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(n){if(U(!!n),"string"==typeof n){let e=0;const t=Nte.exec(n);if(U(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(n.seconds),nanos:et(n.nanos)}}function et(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Di(n){return"string"==typeof n?bt.fromBase64String(n):bt.fromUint8Array(n)}function Ep(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Dp(n){const e=n.mapValue.fields.__previous_value__;return Ep(e)?Dp(e):e}function _l(n){const e=os(n.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class Rte{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class to{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new to("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}const as={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ep(n)?4:IL(n)?9007199254740991:10:L()}function Hr(n,e){if(n===e)return!0;const t=us(n);if(t!==us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _l(n).isEqual(_l(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=os(r.timestampValue),o=os(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Di(n.bytesValue).isEqual(Di(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return et(r.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return et(r.integerValue)===et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=et(r.doubleValue),o=et(i.doubleValue);return s===o?yl(s)===yl(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return La(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(pL(s)!==pL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Hr(s[a],o[a])))return!1;return!0}(n,e);default:return L()}var i}function vl(n,e){return void 0!==(n.values||[]).find(t=>Hr(t,e))}function cs(n,e){if(n===e)return 0;const t=us(n),r=us(e);if(t!==r)return Z(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Z(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=et(i.integerValue||i.doubleValue),a=et(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return _L(n.timestampValue,e.timestampValue);case 4:return _L(_l(n),_l(e));case 5:return Z(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Di(i),a=Di(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Z(o[u],a[u]);if(0!==c)return c}return Z(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Z(et(i.latitude),et(s.latitude));return 0!==o?o:Z(et(i.longitude),et(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=cs(o[u],a[u]);if(c)return c}return Z(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===as.mapValue&&s===as.mapValue)return 0;if(i===as.mapValue)return 1;if(s===as.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Z(a[l],c[l]);if(0!==d)return d;const h=cs(o[a[l]],u[c[l]]);if(0!==h)return h}return Z(a.length,c.length)}(n.mapValue,e.mapValue);default:throw L()}}function _L(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Z(n,e);const t=os(n),r=os(e),i=Z(t.seconds,r.seconds);return 0!==i?i:Z(t.nanos,r.nanos)}function Ua(n){return jE(n)}function jE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=os(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Di(n.bytesValue).toBase64():"referenceValue"in n?N.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jE(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jE(r.fields[a])}`;return s+"}"}(n.mapValue):L();var e}function no(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $E(n){return!!n&&"integerValue"in n}function wl(n){return!!n&&"arrayValue"in n}function vL(n){return!!n&&"nullValue"in n}function wL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sp(n){return!!n&&"mapValue"in n}function Il(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ss(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Il(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Il(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(t)}setAll(e){let t=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Il(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Sp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ss(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(Il(this.value))}}function DL(n){const e=[];return ss(n.fields,(t,r)=>{const i=new ut([t]);if(Sp(r)){const s=DL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new bn(e)}class $e{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $e(e,0,B.min(),B.min(),B.min(),zt.empty(),0)}static newFoundDocument(e,t,r,i){return new $e(e,1,t,B.min(),r,i,0)}static newNoDocument(e,t){return new $e(e,2,t,B.min(),B.min(),zt.empty(),0)}static newUnknownDocument(e,t){return new $e(e,3,t,B.min(),B.min(),zt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ls{constructor(e,t){this.position=e,this.inclusive=t}}function bL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?N.comparator(N.fromName(o.referenceValue),t.key):cs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function TL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}class Ba{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ote(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class SL{}class me extends SL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Fte(e,t,r):"array-contains"===t?new Ute(e,r):"in"===t?new kL(e,r):"not-in"===t?new Bte(e,r):"array-contains-any"===t?new jte(e,r):new me(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Lte(e,r):new Vte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cs(t,this.value)):null!==t&&us(this.value)===us(t)&&this.matchesComparison(cs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ae extends SL{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ae(e,t)}matches(e){return ja(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ja(n){return"and"===n.op}function HE(n){return function AL(n){for(const e of n.filters)if(e instanceof Ae)return!1;return!0}(n)&&ja(n)}function zE(n){if(n instanceof me)return n.field.canonicalString()+n.op.toString()+Ua(n.value);if(HE(n))return n.filters.map(e=>zE(e)).join(",");{const e=n.filters.map(t=>zE(t)).join(",");return`${n.op}(${e})`}}function xL(n,e){return n instanceof me?(t=n,(r=e)instanceof me&&t.op===r.op&&t.field.isEqual(r.field)&&Hr(t.value,r.value)):n instanceof Ae?function(t,r){return r instanceof Ae&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&xL(s,r.filters[o]),!0)}(n,e):void L();var t,r}function NL(n){return n instanceof me?`${(e=n).field.canonicalString()} ${e.op} ${Ua(e.value)}`:n instanceof Ae?function(e){return e.op.toString()+" {"+e.getFilters().map(NL).join(" ,")+"}"}(n):"Filter";var e}class Fte extends me{constructor(e,t,r){super(e,t,r),this.key=N.fromName(r.referenceValue)}matches(e){const t=N.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lte extends me{constructor(e,t){super(e,"in",t),this.keys=RL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vte extends me{constructor(e,t){super(e,"not-in",t),this.keys=RL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>N.fromName(r.referenceValue))}class Ute extends me{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wl(t)&&vl(t.arrayValue,this.value)}}class kL extends me{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vl(this.value.arrayValue,t)}}class Bte extends me{constructor(e,t){super(e,"not-in",t)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vl(this.value.arrayValue,t)}}class jte extends me{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}}class $te{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function qE(n,e=null,t=[],r=[],i=null,s=null,o=null){return new $te(n,e,t,r,i,s,o)}function ro(n){const e=R(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ml(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ua(r)).join(",")),e.dt=t}return e.dt}function Cl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ote(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TL(n.startAt,e.startAt)&&TL(n.endAt,e.endAt)}function Ap(n){return N.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class bi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function $a(n){return new bi(n)}function LL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function WE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Mp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function KE(n){return null!==n.collectionGroup}function io(n){const e=R(n);if(null===e.wt){e.wt=[];const t=Mp(e),r=WE(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ba(t)),e.wt.push(new Ba(ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ba(ut.keyField(),s))}}}return e.wt}function mn(n){const e=R(n);if(!e._t)if("F"===e.limitType)e._t=qE(e.path,e.collectionGroup,io(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of io(e))t.push(new Ba(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ls(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ls(e.startAt.position,e.startAt.inclusive):null;e._t=qE(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function QE(n,e){e.getFirstInequalityField(),Mp(n);const t=n.filters.concat([e]);return new bi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Np(n,e,t){return new bi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function El(n,e){return Cl(mn(n),mn(e))&&n.limitType===e.limitType}function VL(n){return`${ro(mn(n))}|lt:${n.limitType}`}function YE(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>NL(r)).join(", ")}]`),ml(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ua(r)).join(",")),`Target(${t})`}(mn(n))}; limitType=${n.limitType})`}function Dl(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):N.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of io(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=bL(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,io(t),r)||t.endAt&&!function(i,s,o){const a=bL(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,io(t),r)));var t,r}function BL(n){return(e,t)=>{let r=!1;for(const i of io(n)){const s=Gte(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Gte(n,e,t){const r=n.field.isKeyField()?N.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?cs(a,u):L()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}class Ti{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gL(this.inner)}size(){return this.innerSize}}const Hte=new Le(N.comparator);function Tn(){return Hte}const jL=new Le(N.comparator);function bl(...n){let e=jL;for(const t of n)e=e.insert(t.key,t);return e}function $L(n){let e=jL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zr(){return Tl()}function GL(){return Tl()}function Tl(){return new Ti(n=>n.toString(),(n,e)=>n.isEqual(e))}const zte=new Le(N.comparator),qte=new je(N.comparator);function oe(...n){let e=qte;for(const t of n)e=e.add(t);return e}const Wte=new je(Z);function HL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yl(e)?"-0":e}}function zL(n){return{integerValue:""+n}}function qL(n,e){return function aL(n){return"number"==typeof n&&Number.isInteger(n)&&!yl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?zL(e):HL(n,e)}class Rp{constructor(){this._=void 0}}function Kte(n,e,t){return n instanceof Ga?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Ep(i)&&(i=Dp(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof so?KL(n,e):n instanceof oo?QL(n,e):function(r,i){const s=WL(r,i),o=YL(s)+YL(r.gt);return $E(s)&&$E(r.gt)?zL(o):HL(r.serializer,o)}(n,e)}function Qte(n,e,t){return n instanceof so?KL(n,e):n instanceof oo?QL(n,e):t}function WL(n,e){return n instanceof Ha?$E(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ga extends Rp{}class so extends Rp{constructor(e){super(),this.elements=e}}function KL(n,e){const t=JL(e);for(const r of n.elements)t.some(i=>Hr(i,r))||t.push(r);return{arrayValue:{values:t}}}class oo extends Rp{constructor(e){super(),this.elements=e}}function QL(n,e){let t=JL(e);for(const r of n.elements)t=t.filter(i=>!Hr(i,r));return{arrayValue:{values:t}}}class Ha extends Rp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function YL(n){return et(n.integerValue||n.doubleValue)}function JL(n){return wl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jte{constructor(e,t){this.version=e,this.transformResults=t}}class ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ze}static exists(e){return new ze(void 0,e)}static updateTime(e){return new ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Pp{}function XL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new qa(n.key,ze.none()):new za(n.key,n.data,ze.none());{const t=n.data,r=zt.empty();let i=new je(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Si(n.key,r,new bn(i.toArray()),ze.none())}}function Xte(n,e,t){n instanceof za?function(r,i,s){const o=r.value.clone(),a=t2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Si?function(r,i,s){if(!kp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=t2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(e2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Al(n,e,t,r){return n instanceof za?function(i,s,o,a){if(!kp(i.precondition,s))return o;const u=i.value.clone(),c=n2(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Si?function(i,s,o,a){if(!kp(i.precondition,s))return o;const u=n2(i.fieldTransforms,a,s),c=s.data;return c.setAll(e2(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,kp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Zte(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=WL(r.transform,i||null);null!=s&&(null===t&&(t=zt.empty()),t.set(r.field,s))}return t||null}function ZL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&La(t,r,(i,s)=>function Yte(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof so&&r instanceof so||t instanceof oo&&r instanceof oo?La(t.elements,r.elements,Hr):t instanceof Ha&&r instanceof Ha?Hr(t.gt,r.gt):t instanceof Ga&&r instanceof Ga);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class za extends Pp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Si extends Pp{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function e2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function t2(n,e,t){const r=new Map;U(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Qte(o,a,t[i]))}return r}function n2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Kte(s,o,e))}return r}class qa extends Pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XE extends Pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZE{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Xte(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Al(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Al(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=XL(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),oe())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(t,r)=>ZL(t,r))&&La(this.baseMutations,e.baseMutations,(t,r)=>ZL(t,r))}}class eD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){U(e.mutations.length===r.length);let i=zte;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new eD(e,t,r,i)}}class tD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tne{constructor(e,t){this.count=e,this.unchangedNames=t}}var yt,Ie;function i2(n){if(void 0===n)return at("GRPC error has no .code"),w.UNKNOWN;switch(n){case yt.OK:return w.OK;case yt.CANCELLED:return w.CANCELLED;case yt.UNKNOWN:return w.UNKNOWN;case yt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case yt.INTERNAL:return w.INTERNAL;case yt.UNAVAILABLE:return w.UNAVAILABLE;case yt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case yt.NOT_FOUND:return w.NOT_FOUND;case yt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case yt.ABORTED:return w.ABORTED;case yt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case yt.DATA_LOSS:return w.DATA_LOSS;default:return L()}}(Ie=yt||(yt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class nD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Op}static getOrCreateInstance(){return null===Op&&(Op=new nD),Op}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Op=null;const nne=new Oa([4294967295,4294967295],0);function o2(n){const e=function s2(){return new TextEncoder}().encode(n),t=new Jee;return t.update(e),new Uint8Array(t.digest())}function a2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Oa([t,r],0),new Oa([i,s],0)]}class rD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xl(`Invalid padding: ${t}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new xl(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new xl(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Oa.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Oa.fromNumber(r)));return 1===i.compare(nne)&&(i=new Oa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=o2(e),[r,i]=a2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new rD(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=o2(e),[r,i]=a2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ml{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ml(B.min(),i,new Le(Z),Tn(),oe())}}class Nl{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nl(r,t,oe(),oe(),oe())}}class Fp{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class u2{constructor(e,t){this.targetId=e,this.Vt=t}}class c2{constructor(e,t,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class l2{constructor(){this.St=0,this.Dt=h2(),this.Ct=bt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=oe(),t=oe(),r=oe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:L()}}),new Nl(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=h2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class rne{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Tn(),this.zt=d2(),this.Wt=new Le(Z)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:L()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Ap(o))if(0===i){const a=new N(o.path);this.Yt(r,a,$e.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=nD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,I;const E={localCacheCount:l,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(E.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(I=null===(y=v?.bits)||void 0===y?void 0:y.padding)&&void 0!==I?I:0}),E}(u,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Di(s).toUint8Array()}catch(l){if(l instanceof yL)return yr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new rD(u,o,a)}catch(l){return yr(l instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ap(a.target)){const u=new N(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,$e.newNoDocument(u,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=oe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Ml(e,t,this.Wt,this.jt,r);return this.jt=Tn(),this.zt=d2(),this.Wt=new Le(Z),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new l2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new je(Z),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new l2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function d2(){return new Le(N.comparator)}function h2(){return new Le(N.comparator)}const ine={asc:"ASCENDING",desc:"DESCENDING"},sne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},one={and:"AND",or:"OR"};class ane{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function iD(n,e){return n.useProto3Json||ml(e)?e:{value:e}}function Wa(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function une(n,e){return Wa(n,e.toTimestamp())}function ct(n){return U(!!n),B.fromTimestamp(function(e){const t=os(e);return new Qe(t.seconds,t.nanos)}(n))}function sD(n,e){return(t=n,new we(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function p2(n){const e=we.fromString(n);return U(E2(e)),e}function Rl(n,e){return sD(n.databaseId,e.path)}function qr(n,e){const t=p2(e);if(t.get(1)!==n.databaseId.projectId)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new N(m2(t))}function oD(n,e){return sD(n.databaseId,e)}function kl(n){return new we(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function m2(n){return U(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function y2(n,e,t){return{name:Rl(n,e),fields:t.value.mapValue.fields}}function v2(n,e){return{documents:[oD(n,e.path)]}}function uD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=oD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=oD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return C2(Ae.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ds((l=c).field),direction:fne(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=iD(n,e.limit);var a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function w2(n){let e=function g2(n){const e=p2(n);return 4===e.length?we.emptyPath():m2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){U(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(l){const d=I2(l);return d instanceof Ae&&HE(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new Ba(Ka((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,ml(d)?null:d}(t.limit));let u=null;var l;t.startAt&&(u=new ls((l=t.startAt).values||[],!!l.before));let c=null;return t.endAt&&(c=function(l){return new ls(l.values||[],!l.before)}(t.endAt)),function FL(n,e,t,r,i,s,o,a){return new bi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function I2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ka(e.unaryFilter.field);return me.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Ka(e.unaryFilter.field);return me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ka(e.unaryFilter.field);return me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ka(e.unaryFilter.field);return me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(n):void 0!==n.fieldFilter?me.create(Ka((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ae.create(e.compositeFilter.filters.map(t=>I2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return L()}}(e.compositeFilter.op))}(n):L();var e}function fne(n){return ine[n]}function pne(n){return sne[n]}function gne(n){return one[n]}function ds(n){return{fieldPath:n.canonicalString()}}function Ka(n){return ut.fromServerFormat(n.fieldPath)}function C2(n){return n instanceof me?function(e){if("=="===e.op){if(wL(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NAN"}};if(vL(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wL(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NOT_NAN"}};if(vL(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(e.field),op:pne(e.op),value:e.value}}}(n):n instanceof Ae?function(e){const t=e.getFilters().map(r=>C2(r));return 1===t.length?t[0]:{compositeFilter:{op:gne(e.op),filters:t}}}(n):L()}function mne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function E2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ai{constructor(e,t,r,i,s=B.min(),o=B.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class D2{constructor(e){this.fe=e}}function cD(n){const e=w2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Np(e,e.limit,"L"):e}class lo{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(et(e.integerValue));else if("doubleValue"in e){const r=et(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),yl(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Di(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?IL(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):L()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),N.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}lo.Ve=new lo;class bne{constructor(){this.rn=new gD}addToCollectionParentIndex(e,t){return this.rn.add(t),_.resolve()}getCollectionParents(e,t){return _.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return _.resolve()}deleteFieldIndex(e,t){return _.resolve()}getDocumentsMatchingTarget(e,t){return _.resolve(null)}getIndexType(e,t){return _.resolve(0)}getFieldIndexes(e,t){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,t){return _.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,t){return _.resolve(Un.min())}updateCollectionGroup(e,t,r){return _.resolve()}updateIndexEntries(e,t){return _.resolve()}}class gD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new je(we.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(we.comparator)).toArray()}}new Uint8Array(0);class rn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class fo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fo(0)}static Mn(){return new fo(-1)}}class Nne{constructor(){this.changes=new Ti(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Y2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Al(r.mutation,i,bn.empty(),Qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=oe()){const i=zr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=bl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=zr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,oe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Tn();const o=Tl(),a=Tl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Si)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Al(l.mutation,c,l.mutation.getFieldMask(),Qe.now())):o.set(c.key,bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new Pne(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Tl();let i=new Le((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||bn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=GL();l.forEach(h=>{if(!s.has(h)){const f=XL(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return N.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):KE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):_.resolve(zr());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(l=>({batchId:a,changes:$L(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N(t)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=bl();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=t,l=a.child(i),new bi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,$e.newInvalidDocument(c)))});let o=bl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Al(c.mutation,u,bn.empty(),Qe.now()),Dl(t,u)&&(o=o.insert(a,u))}),o})}}class One{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return _.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:ct(r.createTime)}),_.resolve()}getNamedQuery(e,t){return _.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:cD(r.bundledQuery),readTime:ct(r.readTime)}),_.resolve();var r}}class Fne{constructor(){this.overlays=new Le(N.comparator),this.ls=new Map}getOverlay(e,t){return _.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zr();return _.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),_.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),_.resolve()}getOverlaysForCollection(e,t,r){const i=zr(),s=t.length+1,o=new N(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Le((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=zr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tD(t,r));let s=this.ls.get(t);void 0===s&&(s=oe(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class mD{constructor(){this.fs=new je(Pt.ds),this.ws=new je(Pt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Pt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Pt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new N(new we([])),r=new Pt(t,e),i=new Pt(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new N(new we([])),r=new Pt(t,e),i=new Pt(t,e+1);let s=oe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Pt(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Pt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return N.comparator(e.key,t.key)||Z(e.As,t.As)}static _s(e,t){return Z(e.As,t.As)||N.comparator(e.key,t.key)}}class Lne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new je(Pt.ds)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new ZE(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,t){return _.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pt(t,0),i=new Pt(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new je(Z);return t.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),_.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new N(s),0);let a=new je(Z);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),_.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){U(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return _.forEach(t.mutations,i=>{const s=new Pt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Pt(t,0),i=this.Rs.firstAfterOrEqual(r);return _.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vne{constructor(e){this.Ds=e,this.docs=new Le(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(t))}getEntries(e,t){let r=Tn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Tn();const o=t.path,a=new N(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||LE(iL(l),r)<=0||(i.has(l.key)||Dl(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,t,r,i){L()}Cs(e,t){return _.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Une(this)}getSize(e){return _.resolve(this.size)}}class Une extends Nne{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),_.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Bne{constructor(e){this.persistence=e,this.xs=new Ti(t=>ro(t),Cl),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new mD,this.targetCount=0,this.Ms=fo.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),_.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new fo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,_.resolve()}updateTargetData(e,t){return this.Fn(t),_.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return _.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),_.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),_.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return _.resolve(r)}containsKey(e,t){return _.resolve(this.ks.containsKey(t))}}class yD{constructor(e,t){this.$s={},this.overlays={},this.Os=new Bn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Bne(this),this.indexManager=new bne,this.remoteDocumentCache=new Vne(r=>this.referenceDelegate.Ls(r)),this.serializer=new D2(t),this.qs=new One(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Lne(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){T("MemoryPersistence","Starting transaction:",e);const i=new jne(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return _.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class jne extends ute{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Qs=new mD,this.js=null}static zs(e){return new zp(e)}get Ws(){if(this.js)return this.js;throw L()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),_.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),_.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,r=>{const i=N.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,B.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return _.or([()=>_.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ID{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=oe(),i=oe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ID(e,t.fromCache,r,i)}}class X2{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(LL(t))return _.resolve(null);let r=mn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Np(t,null,"F"),r=mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(t,a);return this.zi(t,c,o,u.readTime)?this.Ki(e,Np(t,null,"F")):this.Wi(e,c,t,u)}))})))}Gi(e,t,r,i){return LL(t)||i.isEqual(B.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(PE()<=ve.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),YE(t)),this.Wi(e,o,t,function rL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new Qe(t+1,0):new Qe(t,r));return new Un(i,N.empty(),e)}(i,-1)))})}ji(e,t){let r=new je(BL(e));return t.forEach((i,s)=>{Dl(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return PE()<=ve.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",YE(t)),this.Ui.getDocumentsMatchingQuery(e,t,Un.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Gne{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Le(Z),this.Yi=new Ti(s=>ro(s),Cl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y2(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function eV(n,e){return CD.apply(this,arguments)}function CD(){return CD=g(function*(n,e){const t=R(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=oe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),CD.apply(this,arguments)}function tV(n){const e=R(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function qne(n,e){const t=R(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xa(n,e,t){return ED.apply(this,arguments)}function ED(){return ED=g(function*(n,e,t){const r=R(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!is(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),ED.apply(this,arguments)}function Kp(n,e,t){const r=R(n);let i=B.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?_.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:B.min(),t?s:oe())).next(a=>(function sV(n,e,t){let r=n.Xi.get(e)||B.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function UL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class AD{constructor(){this.activeTargetIds=function JE(){return Wte}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uV{constructor(){this.Hr=new AD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new AD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qne{Yr(e){}shutdown(){}}class cV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jp=null;function MD(){return null===Jp?Jp=268435456+Math.round(2147483648*Math.random()):Jp++,"0x"+Jp.toString(16)}const Yne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jne{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const sn="WebChannelConnection";class Xne extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=MD(),a=this.To(e,t);T("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(T("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw yr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Yne[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=MD();return new Promise((o,a)=>{const u=new Yee;u.setWithCredentials(!0),u.listenOnce(Wee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kE.NO_ERROR:const l=u.getResponseJson();T(sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case kE.TIMEOUT:T(sn,`RPC '${e}' ${s} timed out`),a(new b(w.DEADLINE_EXCEEDED,"Request time out"));break;case kE.HTTP_ERROR:const d=u.getStatus();if(T(sn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(y)>=0?y:w.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(w.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{T(sn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);T(sn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=MD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zee(),a=qee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Qee({})),this.Eo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=s.join("");T(sn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Jne({ro:y=>{f?T(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(T(sn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(sn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,I,E)=>{y.listen(I,v=>{try{E(v)}catch(k){setTimeout(()=>{throw k},0)}})};return m(d,yp.EventType.OPEN,()=>{f||T(sn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,yp.EventType.CLOSE,()=>{f||(f=!0,T(sn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,yp.EventType.ERROR,y=>{f||(f=!0,yr(sn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new b(w.UNAVAILABLE,"The operation could not be completed")))}),m(d,yp.EventType.MESSAGE,y=>{var I;if(!f){const E=y.data[0];U(!!E);const k=E.error||(null===(I=E[0])||void 0===I?void 0:I.error);if(k){T(sn,`RPC '${e}' stream ${i} received error:`,k);const $=k.status;let z=function(Mi){const fu=yt[Mi];if(void 0!==fu)return i2(fu)}($),Ot=k.message;void 0===z&&(z=w.INTERNAL,Ot="Unknown error status: "+$+" with message "+k.message),f=!0,p.wo(new b(z,Ot)),d.close()}else T(sn,`RPC '${e}' stream ${i} received:`,E),p._o(E)}}),m(a,Kee.STAT_EVENT,y=>{y.stat===JF.PROXY?T(sn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===JF.NOPROXY&&T(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Xp(){return typeof document<"u"?document:null}function Gl(n){return new ane(n,!0)}class ND{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class dV{constructor(e,t,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ND(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(at(t.toString()),at("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new b(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zne extends dV{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function lne(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:L(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),bt.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:i2(u.code);return new b(c,u.message||"")}(o);t=new c2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=qr(n,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):B.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=$e.newFoundDocument(i,s,o,a);t=new Fp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=qr(n,r.document),s=r.readTime?ct(r.readTime):B.min(),o=$e.newNoDocument(i,s);t=new Fp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=qr(n,r.document);t=new Fp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return L();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new tne(i,s);t=new u2(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?ct(s.readTime):B.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=kl(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=Ap(a)?{documents:v2(i,a)}:{query:uD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=f2(i,s.resumeToken);const u=iD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=Wa(i,s.snapshotVersion.toTimestamp());const u=iD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function hne(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=kl(this.serializer),t.removeTarget=e,this.Wo(t)}}class ere extends dV{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function dne(n,e){return n&&n.length>0?(U(void 0!==e),n.map(t=>function(r,i){let s=ct(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=ct(i)),new Jte(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.cu(r,t)}return U(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=kl(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Pl(n,e){let t;if(e instanceof za)t={update:y2(n,e.key,e.value)};else if(e instanceof qa)t={delete:Rl(n,e.key)};else if(e instanceof Si)t={update:y2(n,e.key,e.data),updateMask:mne(e.fieldMask)};else{if(!(e instanceof XE))return L();t={verify:Rl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ga)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof so)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ha)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw L()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:une(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:L()),t;var i}(this.serializer,r))};this.Wo(t)}}class tre extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(w.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(w.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class rre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(at(t),this.mu=!1):T("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ire{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;gs(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.vu.add(4),yield Za(l),l.bu.set("Unknown"),l.vu.delete(4),yield Hl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new rre(r,i)}}function Hl(n){return kD.apply(this,arguments)}function kD(){return kD=g(function*(n){if(gs(n))for(const e of n.Ru)yield e(!0)}),kD.apply(this,arguments)}function Za(n){return PD.apply(this,arguments)}function PD(){return PD=g(function*(n){for(const e of n.Ru)yield e(!1)}),PD.apply(this,arguments)}function Zp(n,e){const t=R(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),LD(t)?FD(t):tu(t).Ko()&&OD(t,e))}function zl(n,e){const t=R(n),r=tu(t);t.Au.delete(e),r.Ko()&&hV(t,e),0===t.Au.size&&(r.Ko()?r.jo():gs(t)&&t.bu.set("Unknown"))}function OD(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tu(n).su(e)}function hV(n,e){n.Vu.qt(e),tu(n).iu(e)}function FD(n){n.Vu=new rne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),tu(n).start(),n.bu.gu()}function LD(n){return gs(n)&&!tu(n).Uo()&&n.Au.size>0}function gs(n){return 0===R(n).vu.size}function fV(n){n.Vu=void 0}function sre(n){return VD.apply(this,arguments)}function VD(){return VD=g(function*(n){n.Au.forEach((e,t)=>{OD(n,e)})}),VD.apply(this,arguments)}function ore(n,e){return UD.apply(this,arguments)}function UD(){return UD=g(function*(n,e){fV(n),LD(n)?(n.bu.Iu(e),FD(n)):n.bu.set("Unknown")}),UD.apply(this,arguments)}function are(n,e,t){return BD.apply(this,arguments)}function BD(){return BD=g(function*(n,e,t){if(n.bu.set("Online"),e instanceof c2&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eg(n,r)}else if(e instanceof Fp?n.Vu.Ht(e):e instanceof u2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(B.min()))try{const r=yield tV(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(bt.EMPTY_BYTE_STRING,c.snapshotVersion)),hV(i,a);const l=new Ai(c.target,a,u,c.sequenceNumber);OD(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield eg(n,r)}var r}),BD.apply(this,arguments)}function eg(n,e,t){return jD.apply(this,arguments)}function jD(){return jD=g(function*(n,e,t){if(!is(e))throw e;n.vu.add(1),yield Za(n),n.bu.set("Offline"),t||(t=()=>tV(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Hl(n)}))}),jD.apply(this,arguments)}function pV(n,e){return e().catch(t=>eg(n,t,e))}function eu(n){return $D.apply(this,arguments)}function $D(){return $D=g(function*(n){const e=R(n),t=ms(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ure(e);)try{const i=yield qne(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,cre(e,i)}catch(i){yield eg(e,i)}gV(e)&&mV(e)}),$D.apply(this,arguments)}function ure(n){return gs(n)&&n.Eu.length<10}function cre(n,e){n.Eu.push(e);const t=ms(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function gV(n){return gs(n)&&!ms(n).Uo()&&n.Eu.length>0}function mV(n){ms(n).start()}function lre(n){return GD.apply(this,arguments)}function GD(){return GD=g(function*(n){ms(n).hu()}),GD.apply(this,arguments)}function dre(n){return HD.apply(this,arguments)}function HD(){return HD=g(function*(n){const e=ms(n);for(const t of n.Eu)e.uu(t.mutations)}),HD.apply(this,arguments)}function hre(n,e,t){return zD.apply(this,arguments)}function zD(){return zD=g(function*(n,e,t){const r=n.Eu.shift(),i=eD.from(r,e,t);yield pV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield eu(n)}),zD.apply(this,arguments)}function fre(n,e){return qD.apply(this,arguments)}function qD(){return qD=g(function*(n,e){var t;e&&ms(n).ou&&(yield(t=g(function*(r,i){if(function r2(n){switch(n){default:return L();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(s=i.code)&&s!==w.ABORTED){const o=r.Eu.shift();ms(r).Qo(),yield pV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield eu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),gV(n)&&mV(n)}),qD.apply(this,arguments)}function yV(n,e){return WD.apply(this,arguments)}function WD(){return WD=g(function*(n,e){const t=R(n);t.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=gs(t);t.vu.add(3),yield Za(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Hl(t)}),WD.apply(this,arguments)}function QD(){return QD=g(function*(n,e){const t=R(n);e?(t.vu.delete(2),yield Hl(t)):e||(t.vu.add(2),yield Za(t),t.bu.set("Unknown"))}),QD.apply(this,arguments)}function tu(n){return n.Su||(n.Su=function(e,t,r){const i=R(e);return i.fu(),new Zne(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:sre.bind(null,n),ao:ore.bind(null,n),nu:are.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Su.Qo(),LD(n)?FD(n):n.bu.set("Unknown")):(yield n.Su.stop(),fV(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ms(n){return n.Du||(n.Du=function(e,t,r){const i=R(e);return i.fu(),new ere(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:lre.bind(null,n),ao:fre.bind(null,n),au:dre.bind(null,n),cu:hre.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Du.Qo(),yield eu(n)):(yield n.Du.stop(),n.Eu.length>0&&(T("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class YD{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new YD(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nu(n,e){if(at("AsyncQueue",`${e}: ${n}`),is(n))return new b(w.UNAVAILABLE,`${e}: ${n}`);throw n}class ru{constructor(e){this.comparator=e?(t,r)=>e(t,r)||N.comparator(t.key,r.key):(t,r)=>N.comparator(t.key,r.key),this.keyedMap=bl(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new ru(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ru)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _V{constructor(){this.Cu=new Le(N.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):L():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class iu{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new iu(e,t,ru.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&El(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class pre{constructor(){this.Nu=void 0,this.listeners=[]}}class gre{constructor(){this.queries=new Ti(e=>VL(e),El),this.onlineState="Unknown",this.ku=new Set}}function JD(n,e){return XD.apply(this,arguments)}function XD(){return XD=g(function*(n,e){const t=R(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new pre),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=nu(o,`Initialization of query '${YE(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&t0(t)}),XD.apply(this,arguments)}function ZD(n,e){return e0.apply(this,arguments)}function e0(){return e0=g(function*(n,e){const t=R(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),e0.apply(this,arguments)}function mre(n,e){const t=R(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&t0(t)}function yre(n,e,t){const r=R(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function t0(n){n.ku.forEach(e=>{e.next()})}class n0{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class IV{constructor(e){this.key=e}}class CV{constructor(e){this.key=e}}class EV{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=oe(),this.mutatedKeys=oe(),this.tc=BL(e),this.ec=new ru(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new _V,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Dl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new iu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _V,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=oe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new CV(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new IV(r))}),t}hc(e){this.Yu=e.ir,this.Zu=oe();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return iu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class wre{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ire{constructor(e){this.key=e,this.fc=!1}}class Cre{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ti(a=>VL(a),El),this._c=new Map,this.mc=new Set,this.gc=new Le(N.comparator),this.yc=new Map,this.Ic=new mD,this.Tc={},this.Ec=new Map,this.Ac=fo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ere(n,e){return r0.apply(this,arguments)}function r0(){return r0=g(function*(n,e){const t=function S0(n){const e=R(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tre.bind(null,e),e.dc.nu=mre.bind(null,e.eventManager),e.dc.Pc=yre.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Ja(n,e){const t=R(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Ai(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,mn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function s0(n,e,t,r,i){return o0.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Zp(t.remoteStore,o)}return i}),r0.apply(this,arguments)}function o0(){return o0=g(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=g(function*(m,y,I,E){let v=y.view.sc(I);v.zi&&(v=yield Kp(m.localStore,y.query,!1).then(({documents:z})=>y.view.sc(z,v)));const k=E&&E.targetChanges.get(y.targetId),$=y.view.applyChanges(v,m.isPrimaryClient,k);return m0(m,y.targetId,$.cc),$.snapshot}),function(m,y,I,E){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Kp(n.localStore,e,!0),o=new EV(e,s.ir),a=o.sc(s.documents),u=Nl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);m0(n,t,c.cc);const l=new wre(e,t,o);return n.wc.set(e,l),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),o0.apply(this,arguments)}function Dre(n,e){return a0.apply(this,arguments)}function a0(){return a0=g(function*(n,e){const t=R(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!El(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xa(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),zl(t.remoteStore,r.targetId),su(t,r.targetId)}).catch(rs))):(su(t,r.targetId),yield Xa(t.localStore,r.targetId,!0))}),a0.apply(this,arguments)}function u0(){return u0=g(function*(n,e,t){const r=function A0(n){const e=R(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Are.bind(null,e),e}(n);try{const i=yield function(s,o){const a=R(s),u=Qe.now(),c=o.reduce((h,f)=>h.add(f.key),oe());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Tn(),p=oe();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const I of o){const E=Zte(I,l.get(I.key).overlayedDocument);null!=E&&y.push(new Si(I.key,E,DL(E.value.mapValue),ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:$L(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Le(Z)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield xi(r,i.changes),yield eu(r.remoteStore)}catch(i){const s=nu(i,"Failed to persist write");t.reject(s)}}),u0.apply(this,arguments)}function DV(n,e){return c0.apply(this,arguments)}function c0(){return c0=g(function*(n,e){const t=R(n);try{const r=yield function zne(n,e){const t=R(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(bt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let u=Tn(),c=oe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function nV(n,e,t){let r=oe(),i=oe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Tn();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield xi(t,r,e)}catch(r){yield rs(r)}}),c0.apply(this,arguments)}function bV(n,e,t){const r=R(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&t0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Tre(n,e,t){return l0.apply(this,arguments)}function l0(){return l0=g(function*(n,e,t){const r=R(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Le(N.comparator);o=o.insert(s,$e.newNoDocument(s,B.min()));const a=oe().add(s),u=new Ml(B.min(),new Map,new Le(Z),o,a);yield DV(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),y0(r)}else yield Xa(r.localStore,e,!1).then(()=>su(r,e,t)).catch(rs)}),l0.apply(this,arguments)}function Sre(n,e){return d0.apply(this,arguments)}function d0(){return d0=g(function*(n,e){const t=R(n),r=e.batch.batchId;try{const i=yield function Hne(n,e){const t=R(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);U(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=oe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);g0(t,r,null),p0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xi(t,i)}catch(i){yield rs(i)}}),d0.apply(this,arguments)}function Are(n,e,t){return h0.apply(this,arguments)}function h0(){return h0=g(function*(n,e,t){const r=R(n);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);g0(r,e,t),p0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xi(r,i)}catch(i){yield rs(i)}}),h0.apply(this,arguments)}function p0(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function g0(n,e,t){const r=R(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function su(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||TV(n,r)})}function TV(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(zl(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),y0(n))}function m0(n,e,t){for(const r of t)r instanceof IV?(n.Ic.addReference(r.key,e),Mre(n,r)):r instanceof CV?(T("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||TV(n,r.key)):L()}function Mre(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(T("SyncEngine","New document in limbo: "+t),n.mc.add(r),y0(n))}function y0(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new N(we.fromString(e)),r=n.Ac.next();n.yc.set(r,new Ire(t)),n.gc=n.gc.insert(t,r),Zp(n.remoteStore,new Ai(mn($a(t.path)),r,"TargetPurposeLimboResolution",Bn.ct))}}function xi(n,e,t){return _0.apply(this,arguments)}function _0(){return _0=g(function*(n,e,t){const r=R(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=ID.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!is(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),_0.apply(this,arguments)}function Nre(n,e){return v0.apply(this,arguments)}function v0(){return v0=g(function*(n,e){const t=R(n);if(!t.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield eV(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xi(t,r.er)}var i}),v0.apply(this,arguments)}function Rre(n,e){const t=R(n),r=t.yc.get(e);if(r&&r.fc)return oe().add(r.key);{let i=oe();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class tg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.serializer=Gl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Z2(n,e,t,r){return new Gne(n,e,t,r)}(this.persistence,new X2,e.initialUser,this.serializer)}createPersistence(e){return new yD(zp.zs,this.serializer)}createSharedClientState(e){return new uV}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ou{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>bV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Nre.bind(null,r.syncEngine),yield function KD(n,e){return QD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gre}createDatastore(e){const t=Gl(e.databaseInfo.databaseId),r=new Xne(e.databaseInfo);return new tre(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>bV(this.syncEngine,a,0),o=cV.D()?new cV:new Qne,new ire(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new Cre(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=R(t);T("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Za(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zre{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=tL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=nu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function rg(n,e){return x0.apply(this,arguments)}function x0(){return x0=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield eV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),x0.apply(this,arguments)}function M0(n,e){return N0.apply(this,arguments)}function N0(){return N0=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function R0(n){return k0.apply(this,arguments)}(n);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>yV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>yV(e.remoteStore,s)),n._onlineComponents=e}),N0.apply(this,arguments)}function k0(){return k0=g(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function RV(n){return"FirebaseError"===n.name?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;yr("Error using user provided cache. Falling back to memory cache: "+t),yield rg(n,new tg)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield rg(n,new tg);return n._offlineComponents}),k0.apply(this,arguments)}function ig(n){return P0.apply(this,arguments)}function P0(){return P0=g(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield M0(n,n._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield M0(n,new ou))),n._onlineComponents}),P0.apply(this,arguments)}function au(n){return F0.apply(this,arguments)}function F0(){return F0=g(function*(n){const e=yield ig(n),t=e.eventManager;return t.onListen=Ere.bind(null,e.syncEngine),t.onUnlisten=Dre.bind(null,e.syncEngine),t}),F0.apply(this,arguments)}function VV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const UV=new Map;function L0(n,e,t){if(!t)throw new b(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BV(n){if(!N.isDocumentKey(n))throw new b(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jV(n){if(N.isDocumentKey(n))throw new b(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function og(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":L()}function ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=og(n);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class GV{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function eie(n,e,t,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=VV(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ql{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Xee;switch(t.type){case"firstParty":return new nte(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new b(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=UV.get(e);t&&(T("ComponentProvider","Removing Datastore"),UV.delete(e),t.terminate())}(this),Promise.resolve()}}class lt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class qt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qt(this.firestore,e,this._query)}}class Wr extends qt{constructor(e,t,r){super(e,t,$a(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new N(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function Wl(n,e,...t){if(n=fn(n),L0("collection","path",e),n instanceof ql){const r=we.fromString(e,...t);return jV(r),new Wr(n,null,r)}{if(!(n instanceof lt||n instanceof Wr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(we.fromString(e,...t));return jV(r),new Wr(n.firestore,null,r)}}function Kl(n,e,...t){if(n=fn(n),1===arguments.length&&(e=tL.A()),L0("doc","path",e),n instanceof ql){const r=we.fromString(e,...t);return BV(r),new lt(n,null,new N(r))}{if(!(n instanceof lt||n instanceof Wr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(we.fromString(e,...t));return BV(r),new lt(n.firestore,n instanceof Wr?n.converter:null,new N(r))}}class nie{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ND(this,"async_queue_retry"),this.Xc=()=>{const t=Xp();t&&T("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Xp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Xp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Dt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!is(t))throw t;T("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,at("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=YD.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&L()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Ge extends ql{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new nie,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zV(this),this._firestoreClient.terminate()}}function _t(n){return n._firestoreClient||zV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zV(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Rte(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,VV(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new zre(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(bt.fromBase64String(e))}catch(t){throw new b(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new go(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class uu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new b(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class KV{constructor(e){this._methodName=e}}class U0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new b(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new b(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}const oie=/^__.*__$/;class aie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Si(e,this.data,this.fieldMask,t,this.fieldTransforms):new za(e,this.data,t,this.fieldTransforms)}}function YV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class ag{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ag(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return cg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(YV(this.ca)&&oie.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class uie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gl(e)}ya(e,t,r,i=!1){return new ag({ca:e,methodName:t,ga:r,path:ut.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cu(n){const e=n._freezeSettings(),t=Gl(n._databaseId);return new uie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function B0(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);$0("Data must be an object, but it was:",o,r);const a=tU(r,o);let u,c;if(s.merge)u=new bn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Jl(e,d,t);if(!o.contains(h))throw new b(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);rU(l,h)||l.push(h)}u=new bn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new aie(new zt(a),u,c)}function mo(n,e){if(nU(n=fn(n)))return $0("Unsupported field value:",e,n),tU(n,e);if(n instanceof KV)return function(t,r){if(!YV(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=mo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=fn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qL(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Qe.fromDate(t);return{timestampValue:Wa(r.serializer,i)}}if(t instanceof Qe){const i=new Qe(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wa(r.serializer,i)}}if(t instanceof U0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof go)return{bytesValue:f2(r.serializer,t._byteString)};if(t instanceof lt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sD(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${og(t)}`)}(n,e)}function tU(n,e){const t={};return gL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(n,(r,i)=>{const s=mo(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function nU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof U0||n instanceof go||n instanceof lt||n instanceof KV)}function $0(n,e,t){if(!nU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=og(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Jl(n,e,t){if((e=fn(e))instanceof uu)return e._internalPath;if("string"==typeof e)return ug(n,e);throw cg("Field path arguments must be of type string or ",n,!1,void 0,t)}const hie=new RegExp("[~\\*/\\[\\]]");function ug(n,e,t){if(e.search(hie)>=0)throw cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uu(...e.split("."))._internalPath}catch{throw cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(w.INVALID_ARGUMENT,a+n+u)}function rU(n,e){return n.some(t=>t.isEqual(e))}class G0{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fie extends G0{data(){return super.data()}}function lg(n,e){return"string"==typeof e?ug(n,e):e instanceof uu?e._internalPath:e._delegate._internalPath}class H0{}class pie extends H0{}class Xl extends pie{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Xl(e,t,r)}_apply(e){const t=this._parse(e);return uU(e._query,t),new qt(e.firestore,e.converter,QE(e._query,t))}_parse(e){const t=cu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new b(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){aU(l,c);const h=[];for(const f of l)h.push(oU(a,i,f));d={arrayValue:{values:h}}}else d=oU(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||aU(l,c),d=function eU(n,e,t,r=!1){return mo(t,n.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return me.create(u,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class lu extends H0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lu(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Ae.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)uU(s,a),s=QE(s,a)}(e._query,t),new qt(e.firestore,e.converter,QE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function oU(n,e,t){if("string"==typeof(t=fn(t))){if(""===t)throw new b(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KE(e)&&-1!==t.indexOf("/"))throw new b(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(we.fromString(t));if(!N.isDocumentKey(r))throw new b(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return no(n,new N(r))}if(t instanceof lt)return no(n,t._key);throw new b(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(t)}.`)}function aU(n,e){if(!Array.isArray(n)||0===n.length)throw new b(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uU(n,e){if(e.isInequality()){const r=Mp(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=WE(n);null!==s&&function cU(n,e,t){if(!t.isEqual(e))throw new b(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new b(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mie{convertValue(e,t="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw L()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ss(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new U0(et(e.latitude),et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Dp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=os(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=we.fromString(e);U(E2(r));const i=new to(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(t)||at(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function q0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class yo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class du extends G0{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class pg extends du{data(e={}){return super.data(e)}}class hu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new pg(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new b(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new pg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new yo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new pg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new yo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:_ie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _ie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}class ys extends mie{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,t)}}function dU(n,e,t){n=ye(n,lt);const r=ye(n.firestore,Ge),i=q0(n.converter,e,t);return Zl(r,[B0(cu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ze.none())])}function hU(n,e){const t=ye(n.firestore,Ge),r=Kl(n),i=q0(n.converter,e);return Zl(t,[B0(cu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ze.exists(!1))]).then(()=>r)}function Zl(n,e){return function(t,r){const i=new Dt;return t.asyncQueue.enqueueAndForget(g(function*(){return function bre(n,e,t){return u0.apply(this,arguments)}(yield function O0(n){return ig(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(_t(n),e)}!function(n,e=!0){Fa=Ca,Fr(new pr("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Ge(new ete(t.getProvider("auth-internal")),new rte(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Xn(XF,"3.13.0",n),Xn(XF,"3.13.0","esm2017")}();let _o=(()=>{var n;class e{constructor(){this.app=$k(kie),this.analytics=function nJ(n=Fv()){const e=Qi(n=fn(n),bf);return e.isInitialized()?e.getImmediate():function rJ(n,e={}){const t=Qi(n,bf);if(t.isInitialized()){const i=t.getImmediate();if(Nc(e,t.getOptions()))return i;throw pn.create("already-initialized")}return t.initialize({options:e})}(n)}(this.app),this.firestore=function iie(n,e){const r="string"==typeof n?n:e||"(default)",i=Qi("object"==typeof n?n:Fv(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=bk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function tie(n,e,t,r={}){var i;const s=(n=ye(n,ql))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Rt.MOCK_USER;else{a=function tK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[yf(JSON.stringify({alg:"none",type:"JWT"})),yf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rt(c)}n._authCredentials=new Zee(new ZF(a,u))}}(i,...s)}return i}(this.app),this.auth=HZ(this.app),this.categoryCollection=Wl(this.firestore,"categories"),this.coursesCollection=Wl(this.firestore,"courses"),this.data={},this.refreshEvent=new Oe,this.refreshUser=new Oe,this.refresh(vt.CATEGORIES),this.refresh(vt.COURSES)}refresh(r){const s=function gie(n,e,...t){let r=[];e instanceof H0&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof lu).length,o=i.filter(a=>a instanceof Xl).length;if(s>1||s>0&&o>0)throw new b(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}(Wl(this.firestore,r));(function wie(n){n=ye(n,qt);const e=ye(n.firestore,Ge),t=_t(e),r=new ys(e);return function iU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new b(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function LV(n,e,t={}){const r=new Dt;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new ng({next:d=>{s.enqueueAndForget(()=>ZD(i,l)),d.fromCache&&"server"===a.source?u.reject(new b(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new n0(o,c,{includeMetadataChanges:!0,Ku:!0});return JD(i,l)}(yield au(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new hu(e,r,n,i))})(s).then(o=>{this.data[r]=[],o.forEach(a=>{let u=a.data();u.id=a.id,this.data[r].push(u)}),this.refreshEvent.emit(r)})}login(r){var i=this;return g(function*(){const s=Kl(i.firestore,"users",r.id),o=yield function vie(n){n=ye(n,lt);const e=ye(n.firestore,Ge);return function FV(n,e,t={}){const r=new Dt;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new ng({next:d=>{s.enqueueAndForget(()=>ZD(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new b(w.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new b(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new n0($a(o.path),c,{includeMetadataChanges:!0,Ku:!0});return JD(i,l)}(yield au(n),n.asyncQueue,e,t,r)})),r.promise}(_t(e),n._key).then(t=>function W0(n,e,t){const r=t.docs.get(e._key),i=new ys(n);return new du(n,i,e._key,r,new yo(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}(s);if(o.exists()){let a=o.data();console.log("FirestoreService:login:: Existing User :",a),i.user={id:a.id,name:a.name,email:a.email,contact:a.contact,role:a.role,image:a.image},i.refreshUser.emit(i.user),i.log(vo.LOGIN,i.user)}else console.log("FirestoreService:login:: Create new user: "+r.email),i.user=r,yield dU(Kl(Wl(i.firestore,"users"),r.id),i.user),console.log("FirestoreService:login:: Created new user: "+r.email),i.refreshUser.emit(i.user),i.log(vo.SIGN_UP,i.user)})()}logout(){var r=this;return g(function*(){console.log("FirestoreService:logout:: Logging out user: "+r.user?.email),r.user=void 0,r.log(vo.LOGOUT,r.user),r.refreshUser.emit(r.user)})()}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),TP(this.analytics,r,s)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var vt=(()=>(function(n){n.USERS="users",n.CATEGORIES="categories",n.COURSES="courses",n.ASSESSMENTS="assessments"}(vt||(vt={})),vt))(),vo=(()=>(function(n){n.PAGE_VIEW="PAGE_VIEW",n.LOGIN="login",n.SIGN_UP="sign_up",n.LOGOUT="logout"}(vo||(vo={})),vo))();const kie={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function Pie(n,e){if(1&n){const t=cn();S(0,"i",6),X("click",function(){xe(t);const i=le(2);return Me(i.expand=!i.expand)}),V(1),x()}if(2&n){const t=le(2);se(1),Kn(t.expand?"expand_more":"chevron_right")}}function Oie(n,e){if(1&n){const t=cn();S(0,"div")(1,"app-category",9),X("select",function(i){return xe(t),Me(le(3).select.emit(i))}),x()()}if(2&n){const t=e.$implicit,r=le(3);se(1),he("category",t)("current",r.current)}}function Fie(n,e){if(1&n&&(S(0,"div",7),rt(1,Oie,2,2,"div",8),x()),2&n){const t=le(2);se(1),he("ngForOf",t.category.categories)}}const Lie=function(n){return{"active-node":n}};function Vie(n,e){if(1&n){const t=cn();S(0,"div",1)(1,"div",2),rt(2,Pie,2,1,"i",3),S(3,"span",4),X("click",function(){xe(t);const i=le();return Me(i.select.emit(i.category))}),V(4),x()(),rt(5,Fie,2,1,"div",5),x()}if(2&n){const t=le();se(1),he("ngClass",Sy(4,Lie,null!=t.current&&t.category.id==t.current.id)),se(1),he("ngIf",null!=t.category.categories&&t.category.categories.length>=0),se(2),Kn(t.category.name),se(1),he("ngIf",t.expand)}}let Uie=(()=>{var n;class e{constructor(){this.select=new Oe,this.expand=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(r,i){1&r&&rt(0,Vie,6,6,"div",0),2&r&&he("ngIf",i.category)},dependencies:[p_,ua,ks,n],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})();function Bie(n,e){if(1&n){const t=cn();S(0,"div",11)(1,"app-category",12),X("select",function(i){return xe(t),Me(le().select(i))}),x()()}if(2&n){const t=e.$implicit,r=le();se(1),he("category",t)("current",r.category)}}function jie(n,e){if(1&n){const t=cn();S(0,"button",13),X("click",function(){return xe(t),Me(le().deleteConfirm=!0)}),S(1,"i",8),V(2,"delete"),x()()}}function $ie(n,e){if(1&n){const t=cn();S(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),V(5,"New Category"),x(),S(6,"button",19),X("click",function(){return xe(t),Me(le().addCategoryModal=!1)}),x()(),S(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),X("ngModelChange",function(i){return xe(t),Me(le().categoryName=i)}),x()()()(),S(11,"div",24)(12,"button",25),X("click",function(){return xe(t),Me(le().addCategory())}),V(13,"Add"),x()()()()()}if(2&n){const t=le();se(10),he("ngModel",t.categoryName)}}function Gie(n,e){if(1&n){const t=cn();S(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),V(5,"Delete Category"),x(),S(6,"button",19),X("click",function(){return xe(t),Me(le().deleteConfirm=!1)}),x()(),S(7,"div",20)(8,"div",21)(9,"div",22),V(10),x()()(),S(11,"div",24)(12,"button",25),X("click",function(){return xe(t),Me(le().deleteCategory())}),V(13,"Delete"),x()()()()()}if(2&n){const t=le();se(10),nh(" Confirm to delete ",null==t.category?null:t.category.name," ")}}let Hie=(()=>{var n;class e{constructor(r){this.firestore=r,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh(),this.firestore.refreshEvent.subscribe(i=>{i==vt.CATEGORIES&&this.refresh()})}refresh(){this.categories=[];let r=this.firestore.data[vt.CATEGORIES];r.filter(i=>null==i.parent).forEach(i=>this.categories.push(i)),this.categories.forEach(i=>this.linkCategories(i,r)),console.log(this.categories)}linkCategories(r,i){r.categories=[],i.filter(s=>null!=s.parent&&s.parent==r.id).forEach(s=>{this.linkCategories(s,i),r.categories?.push(s)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let r={name:this.categoryName,active:!0};this.category&&(r.parent=this.category.id),hU(this.firestore.categoryCollection,r).then(i=>{alert("Category has been added succesfully ID:"+i.id),this.firestore.refresh(vt.CATEGORIES)})}else alert("Please enter category name")}isNotEmpty(r){return null!=r&&""!=r}select(r){console.log("Selected Category",r),this.category=r}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&function Iie(n){return Zl(ye(n.firestore,Ge),[new qa(n._key,ze.none())])}(Kl(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.firestore.refresh(vt.CATEGORIES)})}}return(n=e).\u0275fac=function(r){return new(r||n)(C(_o))},n.\u0275cmp=Ft({type:n,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1)(2,"span"),V(3,"Categories"),x()()(),S(4,"div",2)(5,"div",3),rt(6,Bie,2,2,"div",4),x()(),S(7,"div",5)(8,"div",6)(9,"button",7),X("click",function(){return i.addCategoryModal=!0}),S(10,"i",8),V(11,"add"),x()(),rt(12,jie,3,0,"button",9),x()(),rt(13,$ie,14,1,"div",10),rt(14,Gie,14,1,"div",10)),2&r&&(se(6),he("ngForOf",i.categories),se(6),he("ngIf",null!=i.category),se(1),he("ngIf",i.addCategoryModal),se(1),he("ngIf",i.deleteConfirm))},dependencies:[ua,ks,ca,Fh,pc,Uie],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();function zie(n,e){if(1&n&&(S(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),V(4),S(5,"i",14),V(6,"open_in_new"),x()(),S(7,"h6",15),V(8),x(),Wn(9,"p",16),x()()()),2&n){const t=e.$implicit;se(4),Kn(t.name),se(1),he("routerLink","/course/"+t.id),se(3),Kn(t.description)}}function qie(n,e){if(1&n&&(S(0,"option",34),V(1),x()),2&n){const t=e.$implicit;he("value",t.name),se(1),Kn(t.name)}}function Wie(n,e){if(1&n){const t=cn();S(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h4",21),V(5,"New Course"),x(),S(6,"button",22),X("click",function(){return xe(t),Me(le().addCourseModal=!1)}),x()(),S(7,"div",23)(8,"div",24)(9,"div",25)(10,"input",26),X("ngModelChange",function(i){return xe(t),Me(le().course.name=i)}),x()(),S(11,"div",25)(12,"input",27),X("ngModelChange",function(i){return xe(t),Me(le().course.description=i)}),x()(),S(13,"div",25)(14,"select",28),X("ngModelChange",function(i){return xe(t),Me(le().course.category=i)}),S(15,"option",29),V(16,"Select Category"),x(),rt(17,qie,2,2,"option",30),x()(),S(18,"div",25)(19,"input",31),X("ngModelChange",function(i){return xe(t),Me(le().course.image=i)}),x()()()(),S(20,"div",32)(21,"button",33),X("click",function(){return xe(t),Me(le().addCourse())}),V(22,"Add"),x()()()()()}if(2&n){const t=le();se(10),he("ngModel",t.course.name),se(2),he("ngModel",t.course.description),se(2),he("id",t.course.category)("ngModel",t.course.category),se(3),he("ngForOf",t.categories),se(2),he("ngModel",t.course.image)}}let Kie=(()=>{var n;class e{constructor(r){this.firestore=r,this.addCourseModal=!1,this.course={name:"",description:"",image:"",category:"",active:!0},this.categories=[],this.courses=[],this.deleteConfirm=!1,this.categories=this.firestore.data[vt.CATEGORIES],this.courses=this.firestore.data[vt.COURSES],this.firestore.refreshEvent.subscribe(i=>{i==vt.CATEGORIES&&(this.categories=this.firestore.data[vt.CATEGORIES]),(i=vt.COURSES)&&(this.courses=this.firestore.data[vt.COURSES])})}addCourse(){console.log(this.course),this.validate()?hU(this.firestore.coursesCollection,this.course).then(r=>{alert("Course has been added succesfully ID:"+r.id),this.firestore.refresh(vt.COURSES)}):alert("Please enter name, description, category")}validate(){return this.isNotEmpty(this.course.name)&&this.isNotEmpty(this.course.description)&&this.isNotEmpty(this.course.category)}isNotEmpty(r){return null!=r&&""!=r}}return(n=e).\u0275fac=function(r){return new(r||n)(C(_o))},n.\u0275cmp=Ft({type:n,selectors:[["app-courses"]],decls:13,vars:2,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"form-control","x",3,"ngModel","ngModelChange"],["placeholder","Category",1,"form-control","x",3,"id","ngModel","ngModelChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Image URL",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1)(2,"span"),V(3,"Courses"),x()()(),S(4,"div",2)(5,"div",3),rt(6,zie,10,3,"div",4),x()(),S(7,"div",5)(8,"div",6)(9,"button",7),X("click",function(){return i.addCourseModal=!0}),S(10,"i",8),V(11,"add"),x()()()(),rt(12,Wie,23,6,"div",9)),2&r&&(se(6),he("ngForOf",i.courses),se(6),he("ngIf",i.addCourseModal))},dependencies:[ua,ks,wa,JN,ZN,ca,zh,Fh,pc],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();var mg=(()=>(function(n){n.USER="USER",n.CLIENT="CLIENT",n.ADMIN="ADMIN"}(mg||(mg={})),mg))();let Qie=(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,this.provider=new SI,i.refreshUser.subscribe(s=>this.router.navigate(s?["dashboard"]:["home"]))}login(){(function ZX(n,e,t){return SC.apply(this,arguments)})(this.fs.auth,this.provider).then(r=>{SI.credentialFromResult(r);let o=r.user;this.fs.login({id:o.uid,email:o.email,name:o.displayName,contact:o.phoneNumber,image:o.photoURL,role:mg.USER})}).catch(r=>{console.error(r),SI.credentialFromError(r)})}}return(n=e).\u0275fac=function(r){return new(r||n)(C(jt),C(_o))},n.\u0275cmp=Ft({type:n,selectors:[["app-login"]],decls:5,vars:0,consts:[[1,"row","text-center"],[1,"col-md-4","col-sm-6","col-xs-6","col-6","form"],["src","../../assets/icons/google-logo.png"],[3,"click"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1),Wn(2,"img",2),S(3,"button",3),X("click",function(){return i.login()}),V(4,"Sign in"),x()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:55px auto 10px}"]}),e})(),Yie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(r,i){}}),e})(),Jie=(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,i.refreshUser.subscribe(s=>this.router.navigate(s?["dashboard"]:["home"]))}logout(){(function hX(n){return fn(n).signOut()})(this.fs.auth).then(()=>this.fs.logout())}}return(n=e).\u0275fac=function(r){return new(r||n)(C(jt),C(_o))},n.\u0275cmp=Ft({type:n,selectors:[["app-logout"]],decls:7,vars:0,consts:[[1,"row","text-center"],[1,"col-md-4","col-sm-6","col-xs-6","col-6","form"],[3,"click"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1)(2,"p"),V(3," Are you sure you want to log-off? "),Wn(4,"br"),x(),S(5,"button",2),X("click",function(){return i.logout()}),V(6,"Logout"),x()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:55px auto 10px}"]}),e})(),Xie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-assessment"]],decls:2,vars:0,template:function(r,i){1&r&&(S(0,"p"),V(1,"assessment works!"),x())}}),e})();function Zie(n,e){if(1&n&&(S(0,"tr")(1,"td"),V(2),x(),S(3,"td"),V(4),x(),S(5,"td")(6,"i",3),V(7,"open_in_new"),x(),S(8,"i",4),V(9,"edit"),x(),S(10,"i",5),V(11,"delete"),x()()()),2&n){const t=e.$implicit;se(2),Kn(t.name),se(2),Kn(t.course)}}let ese=(()=>{var n;class e{constructor(){this.assessments=[],this.assessments.push({id:"asdf",name:"Assess 1",course:"Course 1",content:""})}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-assessments"]],decls:14,vars:1,consts:[[1,"container","mt-3"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","pointer"],[1,"material-icons","mx-2","pointer","text-info"],[1,"material-icons","mx-2","pointer","text-danger"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"h2"),V(2,"Assessments"),x(),S(3,"table",1)(4,"thead")(5,"tr")(6,"th"),V(7,"Name"),x(),S(8,"th"),V(9,"Course"),x(),S(10,"th"),V(11,"Actions"),x()()(),S(12,"tbody"),rt(13,Zie,12,2,"tr",2),x()()()),2&r&&(se(13),he("ngForOf",i.assessments))},dependencies:[ua]}),e})();function tse(n,e){if(1&n&&(S(0,"div",11)(1,"div",12)(2,"span"),V(3),x(),S(4,"span",13)(5,"i",14),V(6,"logout"),x(),V(7,"Exit"),x()()()),2&n){const t=le();se(3),Kn(t.course.name),se(1),he("routerLink","/courses")}}function nse(n,e){if(1&n){const t=cn();S(0,"div",15)(1,"div",16)(2,"span",17),X("click",function(){return xe(t),Me(le().prev())}),S(3,"i",14),V(4,"chevron_left"),x(),V(5,"PREV"),x()(),S(6,"div",16)(7,"span",18),X("click",function(){return xe(t),Me(le().next())}),V(8,"NEXT"),S(9,"i",14),V(10,"chevron_right"),x()()()()}}function rse(n,e){if(1&n){const t=cn();S(0,"button",19),X("click",function(){return xe(t),Me(le().editPageModal=!0)}),S(1,"i",9),V(2,"edit"),x()()}}function ise(n,e){if(1&n){const t=cn();S(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23)(4,"h4",24),V(5,"Add Page"),x(),S(6,"button",25),X("click",function(){return xe(t),Me(le().addPageModal=!1)}),x()(),S(7,"div",26)(8,"div",27)(9,"div",28)(10,"textarea",29),X("ngModelChange",function(i){return xe(t),Me(le().newPage=i)}),x()()()(),S(11,"div",30)(12,"button",31),X("click",function(){return xe(t),Me(le().addPage())}),V(13,"Add"),x()()()()()}if(2&n){const t=le();se(10),he("ngModel",t.newPage)}}function sse(n,e){if(1&n){const t=cn();S(0,"div",20)(1,"div",32)(2,"div",22)(3,"div",23)(4,"h4",24),V(5,"Edit Page"),x(),S(6,"button",25),X("click",function(){return xe(t),Me(le().editPageModal=!1)}),x()(),S(7,"div",26)(8,"div",27)(9,"div",28)(10,"textarea",29),X("ngModelChange",function(i){return xe(t),Me(le().page=i)}),x()()()(),S(11,"div",30)(12,"button",31),X("click",function(){return xe(t),Me(le().editPage())}),V(13,"Update"),x()()()()()}if(2&n){const t=le();se(10),he("ngModel",t.page)}}const ose=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:jW},{path:"login",component:Qie},{path:"dashboard",component:Yie},{path:"logout",component:Jie},{path:"account",component:$W},{path:"profile",component:GW},{path:"categories",component:Hie},{path:"courses",component:Kie},{path:"course/:id",component:(()=>{var n;class e{constructor(r,i){this.firestore=r,this.route=i,this.id=null,this.page=void 0,this.newPage="",this.pageIndex=0,this.addPageModal=!1,this.editPageModal=!1}ngOnDestroy(){window.postMessage("ToggleHeader")}ngOnInit(){window.postMessage("ToggleHeader"),this.id=this.route.snapshot.paramMap.get("id"),console.log("Course ID: "+this.id),this.firestore.refreshEvent.subscribe(r=>{r==vt.COURSES&&this.refresh()})}refresh(){var r=void 0;this.id&&null!=this.firestore.data[vt.COURSES]&&(r=this.firestore.data[vt.COURSES].filter(i=>i.id==this.id)[0]),r&&(this.course=r),this.course?.pages&&this.course?.pages[0]&&(this.page=this.course.pages[0])}save(){var r=this;return g(function*(){r.course&&(yield dU(Kl(Wl(r.firestore.firestore,vt.COURSES),r.course.id),r.course))})()}next(){this.course&&null!=this.course.pages&&this.pageIndex!=this.course?.pages?.length-1&&(this.pageIndex++,this.page=this.course.pages[this.pageIndex])}prev(){this.course&&null!=this.course.pages&&0!=this.pageIndex&&(this.pageIndex--,this.page=this.course.pages[this.pageIndex])}addPage(){this.course&&(null==this.course.pages&&(this.course.pages=[]),this.course.pages.push(this.newPage),this.save())}editPage(){this.course&&null!=this.course.pages&&this.page&&(this.course.pages[this.pageIndex]=this.page,this.save())}}return(n=e).\u0275fac=function(r){return new(r||n)(C(_o),C(Us))},n.\u0275cmp=Ft({type:n,selectors:[["app-course"]],decls:13,vars:6,consts:[["class","row m-0 px-2 r text-center",4,"ngIf"],[1,"c","px-1"],[1,"row","mt-3"],[1,"col-12","mx-3","my-1","p-0","h-100",3,"innerHtml"],["class","row m-0 fo",4,"ngIf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","modal extended",4,"ngIf"],[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"e",3,"routerLink"],[1,"material-icons"],[1,"row","m-0","fo"],[1,"col-6"],[3,"click"],[2,"float","right",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-dialog","modal-lg"]],template:function(r,i){1&r&&(rt(0,tse,8,2,"div",0),S(1,"div",1)(2,"div",2),Wn(3,"div",3),x()(),rt(4,nse,11,0,"div",4),S(5,"div",5)(6,"div",6),rt(7,rse,3,0,"button",7),S(8,"button",8),X("click",function(){return i.addPageModal=!0}),S(9,"i",9),V(10,"add"),x()()()(),rt(11,ise,14,1,"div",10),rt(12,sse,14,1,"div",10)),2&r&&(he("ngIf",i.course),se(3),he("innerHtml",i.page,hS),se(1),he("ngIf",i.course),se(3),he("ngIf",i.page),se(4),he("ngIf",i.addPageModal),se(1),he("ngIf",i.editPageModal))},dependencies:[ks,wa,ca,Fh,pc],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]{float:right;font-size:20px;padding:10px;cursor:pointer}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{vertical-align:sub;margin-right:5px}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin:0 10px;padding:5px;cursor:pointer;vertical-align:sub}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.fo[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}"]}),e})()},{path:"assessments",component:ese},{path:"assessments/:id",component:Xie}];let ase=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({imports:[vk.forRoot(ose),vk]}),e})();class use extends Sn{constructor(e,t){super()}schedule(e,t=0){return this}}const yg={setInterval(n,e,...t){const{delegate:r}=yg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=yg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},pU={now:()=>(pU.delegate||Date).now(),delegate:void 0};class ed{constructor(e,t=ed.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ed.now=pU.now;const gU=new class lse extends ed{constructor(e,t=ed.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class cse extends use{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return yg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&yg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),dse=gU;function mU(n,e){return e?t=>Wh(e.pipe(ji(1),function hse(){return wt((n,e)=>{n.subscribe(dt(e,_g))})}()),t.pipe(mU(n))):Tt((t,r)=>An(n(t,r)).pipe(ji(1),mR(t)))}const mse=function(n){return{active:n}};function yse(n,e){if(1&n){const t=cn();S(0,"div",5),X("click",function(){const s=xe(t).$implicit;return Me(le().focus(s.route))}),S(1,"i",6),V(2),x(),S(3,"span",7),V(4),x()()}if(2&n){const t=e.$implicit,r=le();he("ngClass",Sy(3,mse,r.active=="/"+t.route)),se(2),Kn(t.icon),se(2),Kn(t.name)}}let _se=(()=>{var n;class e{constructor(r,i){this.router=r,this.firestore=i,this.close=new Oe,this.active="",this.menus=[],this.active=this.router.url,this.user=i.user,this.load(),r.events.subscribe(s=>{s instanceof qi&&(this.active=this.router.url)}),i.refreshUser.subscribe(s=>{this.user=s,this.load()})}load(){this.menus=[],this.user?"ADMIN"==this.user.role?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Categories",icon:"category",route:"categories"}),this.menus.push({name:"Courses",icon:"menu_book",route:"courses"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):("CLIENT"==this.user.role||"USER"==this.user.role)&&(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Assessments",icon:"assignment",route:"assessments"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):this.menus.push({name:"Login",icon:"login",route:"login"})}focus(r){this.router.navigate([r]),this.close.emit(!0)}}return(n=e).\u0275fac=function(r){return new(r||n)(C(jt),C(_o))},n.\u0275cmp=Ft({type:n,selectors:[["app-menu"]],outputs:{close:"close"},decls:6,vars:1,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1)(2,"i",2),X("click",function(){return i.close.emit(!0)}),V(3,"close"),x()(),S(4,"div",3),rt(5,yse,5,5,"div",4),x()()),2&r&&(se(5),he("ngForOf",i.menus))},dependencies:[p_,ua],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),e})();function vse(n,e){if(1&n){const t=cn();S(0,"app-menu",8),X("close",function(){return xe(t),Me(le().menu=!1)}),x()}}let wse=(()=>{var n;class e{constructor(){this.menu=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-header"]],decls:10,vars:1,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],[1,"material-icons","text-light"],[1,"col-12","p-0","text-center"],[1,"t","a"],[3,"close",4,"ngIf"],[3,"close"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),X("click",function(){return i.menu=!i.menu}),S(4,"i",4),V(5,"menu"),x()()(),S(6,"div",5)(7,"div",6),V(8,"IMPULSE"),x()()()(),rt(9,vse,1,0,"app-menu",7)),2&r&&(se(9),he("ngIf",i.menu))},dependencies:[ks,_se],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8.5rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),e})();function Ise(n,e){1&n&&Wn(0,"app-header")}let Cse=(()=>{var n;class e{constructor(r,i,s){this.firestore=r,this.header=!0,this.firestore.log(vo.PAGE_VIEW),this.handleScroll(i,s),window.addEventListener("message",o=>{o.origin===window.location.origin&&"ToggleHeader"==o.data&&(this.header=!this.header)},!1)}handleScroll(r,i){r.events.pipe(fi(s=>s instanceof sv)).pipe(function gse(n,e=gU){const t=function pse(n=0,e,t=dse){let r=-1;return null!=e&&(mb(e)?t=e:r=e),new tt(i=>{let s=function fse(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return mU(()=>t)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(n=e).\u0275fac=function(r){return new(r||n)(C(_o),C(jt),C(xM))},n.\u0275cmp=Ft({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(r,i){1&r&&(rt(0,Ise,1,0,"app-header",0),Wn(1,"router-outlet")),2&r&&he("ngIf",i.header)},dependencies:[ks,hv,wse],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),Ese=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Cr({type:n,bootstrap:[Cse]}),n.\u0275inj=tr({imports:[X9,ase,f8]}),e})();J9().bootstrapModule(Ese).catch(n=>console.error(n))}},Re=>{Re(Re.s=114)}]);