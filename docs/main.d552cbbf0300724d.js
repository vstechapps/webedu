"use strict";(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{114:()=>{function Re(n){return"function"==typeof n}function pu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const nd=pu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function wo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Sn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(s){e=s instanceof nd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Y0(s)}catch(o){e=e??[],o instanceof nd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new nd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Y0(e);else{if(e instanceof Sn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&wo(t,e)}remove(e){const{_finalizers:t}=this;t&&wo(t,e),e instanceof Sn&&e._removeParent(this)}}Sn.EMPTY=(()=>{const n=new Sn;return n.closed=!0,n})();const K0=Sn.EMPTY;function Q0(n){return n instanceof Sn||n&&"closed"in n&&Re(n.remove)&&Re(n.add)&&Re(n.unsubscribe)}function Y0(n){Re(n)?n():n.unsubscribe()}const _s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},rd={setTimeout(n,e,...t){const{delegate:r}=rd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=rd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function J0(n){rd.setTimeout(()=>{const{onUnhandledError:e}=_s;if(!e)throw n;e(n)})}function _g(){}const _U=vg("C",void 0,void 0);function vg(n,e,t){return{kind:n,value:e,error:t}}let vs=null;function id(n){if(_s.useDeprecatedSynchronousErrorHandling){const e=!vs;if(e&&(vs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=vs;if(vs=null,t)throw r}}else n()}class wg extends Sn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Q0(e)&&e.add(this)):this.destination=bU}static create(e,t,r){return new gu(e,t,r)}next(e){this.isStopped?Cg(function wU(n){return vg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cg(function vU(n){return vg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cg(_U,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const CU=Function.prototype.bind;function Ig(n,e){return CU.call(n,e)}class EU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){sd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){sd(r)}else sd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){sd(t)}}}class gu extends wg{constructor(e,t,r){let i;if(super(),Re(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&_s.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ig(e.next,s),error:e.error&&Ig(e.error,s),complete:e.complete&&Ig(e.complete,s)}):i=e}this.destination=new EU(i)}}function sd(n){_s.useDeprecatedSynchronousErrorHandling?function IU(n){_s.useDeprecatedSynchronousErrorHandling&&vs&&(vs.errorThrown=!0,vs.error=n)}(n):J0(n)}function Cg(n,e){const{onStoppedNotification:t}=_s;t&&rd.setTimeout(()=>t(n,e))}const bU={closed:!0,next:_g,error:function DU(n){throw n},complete:_g},Eg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ws(n){return n}function X0(n){return 0===n.length?ws:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let nt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function AU(n){return n&&n instanceof wg||function SU(n){return n&&Re(n.next)&&Re(n.error)&&Re(n.complete)}(n)&&Q0(n)}(t)?t:new gu(t,r,i);return id(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Z0(r))((i,s)=>{const o=new gu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Eg](){return this}pipe(...t){return X0(t)(this)}toPromise(t){return new(t=Z0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Z0(n){var e;return null!==(e=n??_s.Promise)&&void 0!==e?e:Promise}const xU=pu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Kr=(()=>{class n extends nt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new eb(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new xU}next(t){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?K0:(this.currentObservers=null,s.push(t),new Sn(()=>{this.currentObservers=null,wo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new nt;return t.source=this,t}}return n.create=(e,t)=>new eb(e,t),n})();class eb extends Kr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:K0}}function tb(n){return Re(n?.lift)}function wt(n){return e=>{if(tb(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(n,e,t,r,i){return new MU(n,e,t,r,i)}class MU extends wg{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(n,e){return wt((t,r)=>{let i=0;t.subscribe(ht(r,s=>{r.next(n.call(e,s,i++))}))})}function od(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Ni(n){return this instanceof Ni?(this.v=n,this):new Ni(n)}function sb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Sg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ob=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ab(n){return Re(n?.then)}function ub(n){return Re(n[Eg])}function cb(n){return Symbol.asyncIterator&&Re(n?.[Symbol.asyncIterator])}function lb(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const db=function JU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hb(n){return Re(n?.[db])}function fb(n){return function ib(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ni?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ni(t.read());if(i)return yield Ni(void 0);yield yield Ni(r)}}finally{t.releaseLock()}})}function pb(n){return Re(n?.getReader)}function An(n){if(n instanceof nt)return n;if(null!=n){if(ub(n))return function XU(n){return new nt(e=>{const t=n[Eg]();if(Re(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ob(n))return function ZU(n){return new nt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ab(n))return function eB(n){return new nt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,J0)})}(n);if(cb(n))return gb(n);if(hb(n))return function tB(n){return new nt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(pb(n))return function nB(n){return gb(fb(n))}(n)}throw lb(n)}function gb(n){return new nt(e=>{(function rB(n,e){var t,r,i,s;return function nb(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=sb(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Qr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Tt(n,e,t=1/0){return Re(e)?Tt((r,i)=>pe((s,o)=>e(r,s,i,o))(An(n(r,i))),t):("number"==typeof e&&(t=e),wt((r,i)=>function iB(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;An(t(m,l++)).subscribe(ht(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Qr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return n.subscribe(ht(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Io(n=1/0){return Tt(ws,n)}const vr=new nt(n=>n.complete());function mb(n){return n&&Re(n.schedule)}function Ag(n){return n[n.length-1]}function yb(n){return Re(Ag(n))?n.pop():void 0}function mu(n){return mb(Ag(n))?n.pop():void 0}function _b(n,e=0){return wt((t,r)=>{t.subscribe(ht(r,i=>Qr(r,n,()=>r.next(i),e),()=>Qr(r,n,()=>r.complete(),e),i=>Qr(r,n,()=>r.error(i),e)))})}function vb(n,e=0){return wt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wb(n,e){if(!n)throw new Error("Iterable cannot be null");return new nt(t=>{Qr(t,e,()=>{const r=n[Symbol.asyncIterator]();Qr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ft(n,e){return e?function hB(n,e){if(null!=n){if(ub(n))return function aB(n,e){return An(n).pipe(vb(e),_b(e))}(n,e);if(ob(n))return function cB(n,e){return new nt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ab(n))return function uB(n,e){return An(n).pipe(vb(e),_b(e))}(n,e);if(cb(n))return wb(n,e);if(hb(n))return function lB(n,e){return new nt(t=>{let r;return Qr(t,e,()=>{r=n[db](),Qr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(n,e);if(pb(n))return function dB(n,e){return wb(fb(n),e)}(n,e)}throw lb(n)}(n,e):An(n)}function xg(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new gu({next:()=>{r.unsubscribe(),n()}});return An(e(...t)).subscribe(r)}function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function Mg(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ng(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const gB=Ne({__forward_ref__:Ne});function Pe(n){return n.__forward_ref__=Pe,n.toString=function(){return ke(this())},n}function q(n){return Rg(n)?n():n}function Rg(n){return"function"==typeof n&&n.hasOwnProperty(gB)&&n.__forward_ref__===Pe}function kg(n){return n&&!!n.\u0275providers}const Ib="https://g.co/ng/security#xss";class A extends Error{constructor(e,t){super(ad(e,t)),this.code=e}}function ad(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function ud(n,e){throw new A(-201,!1)}function $n(n,e){null==n&&function Te(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function tr(n){return{providers:n.providers||[],imports:n.imports||[]}}function cd(n){return Cb(n,ld)||Cb(n,Db)}function Cb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Eb(n){return n&&(n.hasOwnProperty(Pg)||n.hasOwnProperty(EB))?n[Pg]:null}const ld=Ne({\u0275prov:Ne}),Pg=Ne({\u0275inj:Ne}),Db=Ne({ngInjectableDef:Ne}),EB=Ne({ngInjectorDef:Ne});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let Og;function Gn(n){const e=Og;return Og=n,e}function bb(n,e,t){const r=cd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&K.Optional?null:void 0!==e?e:void ud(ke(n))}const Ve=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yu={},Fg="__NG_DI_FLAG__",dd="ngTempTokenPath",bB="ngTokenPath",TB=/\n/gm,SB="\u0275",Tb="__source";let _u;function Co(n){const e=_u;return _u=n,e}function AB(n,e=K.Default){if(void 0===_u)throw new A(-203,!1);return null===_u?bb(n,void 0,e):_u.get(n,e&K.Optional?null:void 0,e)}function Q(n,e=K.Default){return(function DB(){return Og}()||AB)(q(n),e)}function ge(n,e=K.Default){return Q(n,hd(e))}function hd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Lg(n){const e=[];for(let t=0;t<n.length;t++){const r=q(n[t]);if(Array.isArray(r)){if(0===r.length)throw new A(900,!1);let i,s=K.Default;for(let o=0;o<r.length;o++){const a=r[o],u=xB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Q(i,s))}else e.push(Q(r))}return e}function vu(n,e){return n[Fg]=e,n.prototype[Fg]=e,n}function xB(n){return n[Fg]}function Yr(n){return{toString:n}.toString()}var wr=(()=>((wr=wr||{})[wr.OnPush=0]="OnPush",wr[wr.Default=1]="Default",wr))(),Ir=(()=>{return(n=Ir||(Ir={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ir;var n})();const Jr={},Ce=[],fd=Ne({\u0275cmp:Ne}),Vg=Ne({\u0275dir:Ne}),Ug=Ne({\u0275pipe:Ne}),Ab=Ne({\u0275mod:Ne}),Xr=Ne({\u0275fac:Ne}),wu=Ne({__NG_ELEMENT_ID__:Ne});let RB=0;function Ft(n){return Yr(()=>{const e=Mb(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ir.Emulated,id:"c"+RB++,styles:n.styles||Ce,_:null,schemas:n.schemas||null,tView:null};Nb(t);const r=n.dependencies;return t.directiveDefs=pd(r,!1),t.pipeDefs=pd(r,!0),t})}function PB(n){return Se(n)||Kt(n)}function OB(n){return null!==n}function Cr(n){return Yr(()=>({type:n.type,bootstrap:n.bootstrap||Ce,declarations:n.declarations||Ce,imports:n.imports||Ce,exports:n.exports||Ce,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xb(n,e){if(null==n)return Jr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function J(n){return Yr(()=>{const e=Mb(n);return Nb(e),e})}function Se(n){return n[fd]||null}function Kt(n){return n[Vg]||null}function _n(n){return n[Ug]||null}function Mn(n,e){const t=n[Ab]||null;if(!t&&!0===e)throw new Error(`Type ${ke(n)} does not have '\u0275mod' property.`);return t}function Mb(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ce,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xb(n.inputs,e),outputs:xb(n.outputs)}}function Nb(n){n.features?.forEach(e=>e(n))}function pd(n,e){if(!n)return null;const t=e?_n:PB;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(OB)}const Zr=0,F=1,ue=2,Je=3,nr=4,Is=5,Qt=6,Do=7,rt=8,gd=9,md=10,le=11,Bg=12,Iu=13,Rb=14,bo=15,Yt=16,Cu=17,To=18,Er=19,Eu=20,kb=21,Ue=22,jg=1,Pb=2,yd=7,_d=8,So=9,an=10;function Nn(n){return Array.isArray(n)&&"object"==typeof n[jg]}function rr(n){return Array.isArray(n)&&!0===n[jg]}function $g(n){return 0!=(4&n.flags)}function Du(n){return n.componentOffset>-1}function vd(n){return 1==(1&n.flags)}function ir(n){return!!n.template}function LB(n){return 0!=(256&n[ue])}function Cs(n,e){return n.hasOwnProperty(Xr)?n[Xr]:null}class BB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Hn(){return Lb}function Lb(n){return n.type.prototype.ngOnChanges&&(n.setInput=$B),jB}function jB(){const n=Ub(this),e=n?.current;if(e){const t=n.previous;if(t===Jr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function $B(n,e,t,r){const i=this.declaredInputs[t],s=Ub(n)||function GB(n,e){return n[Vb]=e}(n,{previous:Jr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new BB(u&&u.currentValue,e,a===Jr),n[r]=e}Hn.ngInherit=!0;const Vb="__ngSimpleChanges__";function Ub(n){return n[Vb]||null}const zn=function(n,e,t){};function Lt(n){for(;Array.isArray(n);)n=n[Zr];return n}function wd(n,e){return Lt(e[n])}function Rn(n,e){return Lt(e[n.index])}function $b(n,e){return n.data[e]}function vn(n,e){const t=e[n];return Nn(t)?t:t[Zr]}function Id(n){return 64==(64&n[ue])}function ki(n,e){return null==e?null:n[e]}function Gb(n){n[To]=0}function Hg(n,e){n[Is]+=e;let t=n,r=n[Je];for(;null!==r&&(1===e&&1===t[Is]||-1===e&&0===t[Is]);)r[Is]+=e,t=r,r=r[Je]}const ne={lFrame:Zb(null),bindingsEnabled:!0};function zb(){return ne.bindingsEnabled}function D(){return ne.lFrame.lView}function _e(){return ne.lFrame.tView}function Ee(n){return ne.lFrame.contextLView=n,n[rt]}function De(n){return ne.lFrame.contextLView=null,n}function Vt(){let n=qb();for(;null!==n&&64===n.type;)n=n.parent;return n}function qb(){return ne.lFrame.currentTNode}function Dr(n,e){const t=ne.lFrame;t.currentTNode=n,t.isParent=e}function zg(){return ne.lFrame.isParent}function xo(){return ne.lFrame.bindingIndex++}function nj(n,e){const t=ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wg(e)}function Wg(n){ne.lFrame.currentDirectiveIndex=n}function Qg(n){ne.lFrame.currentQueryIndex=n}function ij(n){const e=n[F];return 2===e.type?e.declTNode:1===e.type?n[Qt]:null}function Jb(n,e,t){if(t&K.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&K.Host||(i=ij(s),null===i||(s=s[bo],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ne.lFrame=Xb();return r.currentTNode=e,r.lView=n,!0}function Yg(n){const e=Xb(),t=n[F];ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Xb(){const n=ne.lFrame,e=null===n?null:n.child;return null===e?Zb(n):e}function Zb(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function eT(){const n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const tT=eT;function Jg(){const n=eT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function cn(){return ne.lFrame.selectedIndex}function Es(n){ne.lFrame.selectedIndex=n}function qe(){const n=ne.lFrame;return $b(n.tView,n.selectedIndex)}function Cd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks??(n.destroyHooks=[])).push(t,l)}}function Ed(n,e,t){nT(n,e,3,t)}function Dd(n,e,t,r){(3&n[ue])===t&&nT(n,e,t,r)}function Xg(n,e){let t=n[ue];(3&t)===e&&(t&=2047,t+=1,n[ue]=t)}function nT(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[To]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[To]+=65536),(a<s||-1==s)&&(fj(n,t,e,u),n[To]=(4294901760&n[To])+u+2),u++}function fj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[ue]>>11<n[To]>>16&&(3&n[ue])===e){n[ue]+=2048,zn(4,a,s);try{s.call(a)}finally{zn(5,a,s)}}}else{zn(4,a,s);try{s.call(a)}finally{zn(5,a,s)}}}const Mo=-1;class Tu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function em(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];iT(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function rT(n){return 3===n||4===n||6===n}function iT(n){return 64===n.charCodeAt(0)}function Su(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||sT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function sT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function oT(n){return n!==Mo}function bd(n){return 32767&n}function Td(n,e){let t=function yj(n){return n>>16}(n),r=e;for(;t>0;)r=r[bo],t--;return r}let tm=!0;function Sd(n){const e=tm;return tm=n,e}const aT=255,uT=5;let _j=0;const br={};function Ad(n,e){const t=cT(n,e);if(-1!==t)return t;const r=e[F];r.firstCreatePass&&(n.injectorIndex=e.length,nm(r.data,n),nm(e,null),nm(r.blueprint,null));const i=rm(n,e),s=n.injectorIndex;if(oT(i)){const o=bd(i),a=Td(i,e),u=a[F].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function nm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cT(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function rm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=mT(i),null===r)return Mo;if(t++,i=i[bo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Mo}function im(n,e,t){!function vj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(wu)&&(r=t[wu]),null==r&&(r=t[wu]=_j++);const i=r&aT;e.data[n+(i>>uT)]|=1<<i}(n,e,t)}function lT(n,e,t){if(t&K.Optional||void 0!==n)return n;ud()}function dT(n,e,t,r){if(t&K.Optional&&void 0===r&&(r=null),!(t&(K.Self|K.Host))){const i=n[gd],s=Gn(void 0);try{return i?i.get(e,r,t&K.Optional):bb(e,r,t&K.Optional)}finally{Gn(s)}}return lT(r,0,t)}function hT(n,e,t,r=K.Default,i){if(null!==n){if(1024&e[ue]){const o=function Dj(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[ue]&&!(256&o[ue]);){const a=fT(s,o,t,r|K.Self,br);if(a!==br)return a;let u=s.parent;if(!u){const c=o[kb];if(c){const l=c.get(t,br,r);if(l!==br)return l}u=mT(o),o=o[bo]}s=u}return i}(n,e,t,r,br);if(o!==br)return o}const s=fT(n,e,t,r,br);if(s!==br)return s}return dT(e,t,r,i)}function fT(n,e,t,r,i){const s=function Cj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(wu)?n[wu]:void 0;return"number"==typeof e?e>=0?e&aT:Ej:e}(t);if("function"==typeof s){if(!Jb(e,n,r))return r&K.Host?lT(i,0,r):dT(e,t,r,i);try{const o=s(r);if(null!=o||r&K.Optional)return o;ud()}finally{tT()}}else if("number"==typeof s){let o=null,a=cT(n,e),u=Mo,c=r&K.Host?e[Yt][Qt]:null;for((-1===a||r&K.SkipSelf)&&(u=-1===a?rm(n,e):e[a+8],u!==Mo&&gT(r,!1)?(o=e[F],a=bd(u),e=Td(u,e)):a=-1);-1!==a;){const l=e[F];if(pT(s,a,l.data)){const d=Ij(a,e,t,o,r,c);if(d!==br)return d}u=e[a+8],u!==Mo&&gT(r,e[F].data[a+8]===c)&&pT(s,a,e)?(o=l,a=bd(u),e=Td(u,e)):a=-1}}return i}function Ij(n,e,t,r,i,s){const o=e[F],a=o.data[n+8],l=function xd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&ir(f)&&f.type===t)return u}return null}(a,o,t,null==r?Du(a)&&tm:r!=o&&0!=(3&a.type),i&K.Host&&s===a);return null!==l?Ds(e,o,l,a):br}function Ds(n,e,t,r){let i=n[t];const s=e.data;if(function pj(n){return n instanceof Tu}(i)){const o=i;o.resolving&&function mB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new A(-200,`Circular dependency in DI detected for ${n}${t}`)}(function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}(s[t]));const a=Sd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Gn(o.injectImpl):null;Jb(n,r,K.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function hj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Lb(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Gn(u),Sd(a),o.resolving=!1,tT()}}return i}function pT(n,e,t){return!!(t[e+(n>>uT)]&1<<n)}function gT(n,e){return!(n&K.Self||n&K.Host&&e)}class No{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return hT(this._tNode,this._lView,e,hd(r),t)}}function Ej(){return new No(Vt(),D())}function Ut(n){return Yr(()=>{const e=n.prototype.constructor,t=e[Xr]||sm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Xr]||sm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function sm(n){return Rg(n)?()=>{const e=sm(q(n));return e&&e()}:Cs(n)}function mT(n){const e=n[F],t=e.type;return 2===t?e.declTNode:1===t?n[Qt]:null}const ko="__parameters__";function Oo(n,e,t){return Yr(()=>{const r=function om(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ko)?u[ko]:Object.defineProperty(u,ko,{value:[]})[ko];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class j{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bs(n,e){n.forEach(t=>Array.isArray(t)?bs(t,e):e(t))}function _T(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Nd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function kn(n,e,t){let r=Fo(n,e);return r>=0?n[1|r]=t:(r=~r,function Aj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function um(n,e){const t=Fo(n,e);if(t>=0)return n[1|t]}function Fo(n,e){return function vT(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Nu=vu(Oo("Optional"),8),Ru=vu(Oo("SkipSelf"),4);var wn=(()=>((wn=wn||{})[wn.Important=1]="Important",wn[wn.DashCase=2]="DashCase",wn))();const pm=new Map;let Yj=0;const mm="__ngContext__";function Jt(n,e){Nn(e)?(n[mm]=e[Eu],function Xj(n){pm.set(n[Eu],n)}(e)):n[mm]=e}let ym;function _m(n,e){return ym(n,e)}function Fu(n){const e=n[Je];return rr(e)?e[Je]:e}function vm(n){return UT(n[Iu])}function wm(n){return UT(n[nr])}function UT(n){for(;null!==n&&!rr(n);)n=n[nr];return n}function Vo(n,e,t,r,i){if(null!=r){let s,o=!1;rr(r)?s=r:Nn(r)&&(o=!0,r=r[Zr]);const a=Lt(r);0===n&&null!==t?null==i?zT(e,t,a):Ts(e,t,a,i||null,!0):1===n&&null!==t?Ts(e,t,a,i||null,!0):2===n?function Sm(n,e,t){const r=Od(n,e);r&&function _$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function I$(n,e,t,r,i){const s=t[yd];s!==Lt(t)&&Vo(e,n,r,s,i);for(let a=an;a<t.length;a++){const u=t[a];Lu(u[F],u,n,e,r,s)}}(e,n,s,t,i)}}function Cm(n,e,t){return n.createElement(e,t)}function jT(n,e){const t=n[So],r=t.indexOf(e),i=e[Je];512&e[ue]&&(e[ue]&=-513,Hg(i,-1)),t.splice(r,1)}function Em(n,e){if(n.length<=an)return;const t=an+e,r=n[t];if(r){const i=r[Cu];null!==i&&i!==n&&jT(i,r),e>0&&(n[t-1][nr]=r[nr]);const s=Nd(n,an+e);!function l$(n,e){Lu(n,e,e[le],2,null,null),e[Zr]=null,e[Qt]=null}(r[F],r);const o=s[Er];null!==o&&o.detachView(s[F]),r[Je]=null,r[nr]=null,r[ue]&=-65}return r}function $T(n,e){if(!(128&e[ue])){const t=e[le];t.destroyNode&&Lu(n,e,t,3,null,null),function f$(n){let e=n[Iu];if(!e)return Dm(n[F],n);for(;e;){let t=null;if(Nn(e))t=e[Iu];else{const r=e[an];r&&(t=r)}if(!t){for(;e&&!e[nr]&&e!==n;)Nn(e)&&Dm(e[F],e),e=e[Je];null===e&&(e=n),Nn(e)&&Dm(e[F],e),t=e&&e[nr]}e=t}}(e)}}function Dm(n,e){if(!(128&e[ue])){e[ue]&=-65,e[ue]|=128,function y$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Tu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];zn(4,a,u);try{u.call(a)}finally{zn(5,a,u)}}else{zn(4,i,s);try{s.call(i)}finally{zn(5,i,s)}}}}}(n,e),function m$(n,e){const t=n.cleanup,r=e[Do];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Do]=null}}(n,e),1===e[F].type&&e[le].destroy();const t=e[Cu];if(null!==t&&rr(e[Je])){t!==e[Je]&&jT(t,e);const r=e[Er];null!==r&&r.detachView(n)}!function Zj(n){pm.delete(n[Eu])}(e)}}function GT(n,e,t){return function HT(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Zr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Ir.None||s===Ir.Emulated)return null}return Rn(r,t)}}(n,e.parent,t)}function Ts(n,e,t,r,i){n.insertBefore(e,t,r,i)}function zT(n,e,t){n.appendChild(e,t)}function qT(n,e,t,r,i){null!==r?Ts(n,e,t,r,i):zT(n,e,t)}function Od(n,e){return n.parentNode(e)}let bm,Vd,Mm,Ud,QT=function KT(n,e,t){return 40&n.type?Rn(n,t):null};function Fd(n,e,t,r){const i=GT(n,r,e),s=e[le],a=function WT(n,e,t){return QT(n,e,t)}(r.parent||e[Qt],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)qT(s,i,t[u],a,!1);else qT(s,i,t,a,!1);void 0!==bm&&bm(s,r,e,t,i)}function Ld(n,e){if(null!==e){const t=e.type;if(3&t)return Rn(e,n);if(4&t)return Tm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ld(n,r);{const i=n[e.index];return rr(i)?Tm(-1,i):Lt(i)}}if(32&t)return _m(e,n)()||Lt(n[e.index]);{const r=JT(n,e);return null!==r?Array.isArray(r)?r[0]:Ld(Fu(n[Yt]),r):Ld(n,e.next)}}return null}function JT(n,e){return null!==e?n[Yt][Qt].projection[e.projection]:null}function Tm(n,e){const t=an+n+1;if(t<e.length){const r=e[t],i=r[F].firstChild;if(null!==i)return Ld(r,i)}return e[yd]}function Am(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Jt(Lt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Am(n,e,t.child,r,i,s,!1),Vo(e,n,i,a,s);else if(32&u){const c=_m(t,r);let l;for(;l=c();)Vo(e,n,i,l,s);Vo(e,n,i,a,s)}else 16&u?XT(n,e,r,t,i,s):Vo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Lu(n,e,t,r,i,s){Am(t,r,n.firstChild,e,i,s,!1)}function XT(n,e,t,r,i,s){const o=t[Yt],u=o[Qt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Vo(e,n,i,u[c],s);else Am(n,e,u,o[Je],i,s,!0)}function ZT(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eS(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&em(n,e,r),null!==i&&ZT(n,e,i),null!==s&&function E$(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Uo(n){return function xm(){if(void 0===Vd&&(Vd=null,Ve.trustedTypes))try{Vd=Ve.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Vd}()?.createHTML(n)||n}function Nm(){if(void 0===Ud&&(Ud=null,Ve.trustedTypes))try{Ud=Ve.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ud}function nS(n){return Nm()?.createHTML(n)||n}function iS(n){return Nm()?.createScriptURL(n)||n}class sS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ib})`}}function Pi(n){return n instanceof sS?n.changingThisBreaksApplicationSecurity:n}function Vu(n,e){const t=function k$(n){return n instanceof sS&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ib})`)}return t===e}class P${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Uo(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class O${constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Uo(e),t}}const L$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rm(n){return(n=String(n)).match(L$)?n:"unsafe:"+n}function ni(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Uu(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const aS=ni("area,br,col,hr,img,wbr"),uS=ni("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cS=ni("rp,rt"),km=Uu(aS,Uu(uS,ni("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uu(cS,ni("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uu(cS,uS)),Pm=ni("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lS=Uu(Pm,ni("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ni("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),V$=ni("script,style,template");class U${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!km.hasOwnProperty(t))return this.sanitizedSomething=!0,!V$.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!lS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Pm[a]&&(u=Rm(u)),this.buf.push(" ",o,'="',dS(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();km.hasOwnProperty(t)&&!aS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(dS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const B$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j$=/([^\#-~ |!])/g;function dS(n){return n.replace(/&/g,"&amp;").replace(B$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(j$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bd;function Om(n){return"content"in n&&function G$(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var pt=(()=>((pt=pt||{})[pt.NONE=0]="NONE",pt[pt.HTML=1]="HTML",pt[pt.STYLE=2]="STYLE",pt[pt.SCRIPT=3]="SCRIPT",pt[pt.URL=4]="URL",pt[pt.RESOURCE_URL=5]="RESOURCE_URL",pt))();function hS(n){const e=Bu();return e?nS(e.sanitize(pt.HTML,n)||""):Vu(n,"HTML")?nS(Pi(n)):function $$(n,e){let t=null;try{Bd=Bd||function oS(n){const e=new O$(n);return function F$(){try{return!!(new window.DOMParser).parseFromString(Uo(""),"text/html")}catch{return!1}}()?new P$(e):e}(n);let r=e?String(e):"";t=Bd.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Bd.getInertBodyElement(r)}while(r!==s);return Uo((new U$).sanitizeChildren(Om(t)||t))}finally{if(t){const r=Om(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(function tS(){return void 0!==Mm?Mm:typeof document<"u"?document:void 0}(),te(n))}function fS(n){const e=Bu();return e?e.sanitize(pt.URL,n)||"":Vu(n,"URL")?Pi(n):Rm(te(n))}function pS(n){const e=Bu();if(e)return iS(e.sanitize(pt.RESOURCE_URL,n)||"");if(Vu(n,"ResourceURL"))return iS(Pi(n));throw new A(904,!1)}function Bu(){const n=D();return n&&n[Bg]}const jd=new j("ENVIRONMENT_INITIALIZER"),mS=new j("INJECTOR",-1),yS=new j("INJECTOR_DEF_TYPES");class _S{get(e,t=yu){if(t===yu){const r=new Error(`NullInjectorError: No provider for ${ke(e)}!`);throw r.name="NullInjectorError",r}return t}}function Q$(...n){return{\u0275providers:vS(0,n),\u0275fromNgModule:!0}}function vS(n,...e){const t=[],r=new Set;let i;return bs(e,s=>{const o=s;Fm(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&wS(i,t),t}function wS(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Lm(i,s=>{e.push(s)})}}function Fm(n,e,t,r){if(!(n=q(n)))return!1;let i=null,s=Eb(n);const o=!s&&Se(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=Eb(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Fm(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{bs(s.imports,l=>{Fm(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&wS(c,e)}if(!a){const c=Cs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ce},{provide:yS,useValue:i,multi:!0},{provide:jd,useValue:()=>Q(i),multi:!0})}const u=s.providers;null==u||a||Lm(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function Lm(n,e){for(let t of n)kg(t)&&(t=t.\u0275providers),Array.isArray(t)?Lm(t,e):e(t)}const Y$=Ne({provide:String,useValue:Ne});function Vm(n){return null!==n&&"object"==typeof n&&Y$ in n}function Ss(n){return"function"==typeof n}const Um=new j("Set Injector scope."),$d={},X$={};let Bm;function Gd(){return void 0===Bm&&(Bm=new _S),Bm}class ri{}class ES extends ri{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$m(e,o=>this.processProvider(o)),this.records.set(mS,Bo(void 0,this)),i.has("environment")&&this.records.set(ri,Bo(void 0,this));const s=this.records.get(Um);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yS.multi,Ce,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Co(this),r=Gn(void 0);try{return e()}finally{Co(t),Gn(r)}}get(e,t=yu,r=K.Default){this.assertNotDestroyed(),r=hd(r);const i=Co(this),s=Gn(void 0);try{if(!(r&K.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function r4(n){return"function"==typeof n||"object"==typeof n&&n instanceof j}(e)&&cd(e);a=u&&this.injectableDefInScope(u)?Bo(jm(e),$d):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&K.Self?Gd():this.parent).get(e,t=r&K.Optional&&t===yu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[dd]=o[dd]||[]).unshift(ke(e)),i)throw o;return function MB(n,e,t,r){const i=n[dd];throw e[Tb]&&i.unshift(e[Tb]),n.message=function NB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==SB?n.slice(2):n;let i=ke(e);if(Array.isArray(e))i=e.map(ke).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ke(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(TB,"\n  ")}`}("\n"+n.message,i,t,r),n[bB]=i,n[dd]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Gn(s),Co(i)}}resolveInjectorInitializers(){const e=Co(this),t=Gn(void 0);try{const r=this.get(jd.multi,Ce,K.Self);for(const i of r)i()}finally{Co(e),Gn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ke(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){let t=Ss(e=q(e))?e:q(e&&e.provide);const r=function e4(n){return Vm(n)?Bo(void 0,n.useValue):Bo(DS(n),$d)}(e);if(Ss(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Bo(void 0,$d,!0),i.factory=()=>Lg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===$d&&(t.value=X$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function n4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function jm(n){const e=cd(n),t=null!==e?e.factory:Cs(n);if(null!==t)return t;if(n instanceof j)throw new A(204,!1);if(n instanceof Function)return function Z$(n){const e=n.length;if(e>0)throw function Mu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new A(204,!1);const t=function CB(n){return n&&(n[ld]||n[Db])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new A(204,!1)}function DS(n,e,t){let r;if(Ss(n)){const i=q(n);return Cs(i)||jm(i)}if(Vm(n))r=()=>q(n.useValue);else if(function CS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Lg(n.deps||[]));else if(function IS(n){return!(!n||!n.useExisting)}(n))r=()=>Q(q(n.useExisting));else{const i=q(n&&(n.useClass||n.provide));if(!function t4(n){return!!n.deps}(n))return Cs(i)||jm(i);r=()=>new i(...Lg(n.deps))}return r}function Bo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $m(n,e){for(const t of n)Array.isArray(t)?$m(t,e):t&&kg(t)?$m(t.\u0275providers,e):e(t)}class i4{}class bS{}class o4{resolveComponentFactory(e){throw function s4(n){const e=Error(`No component factory found for ${ke(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ju=(()=>{class n{}return n.NULL=new o4,n})();function a4(){return jo(Vt(),D())}function jo(n,e){return new Pn(Rn(n,e))}let Pn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=a4,n})();class SS{}let ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function c4(){const n=D(),t=vn(Vt().index,n);return(Nn(t)?t:n)[le]}(),n})(),l4=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>null}),n})();class $u{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const d4=new $u("15.2.9"),Gm={},Hm="ngOriginalError";function zm(n){return n[Hm]}class $o{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&zm(e);for(;t&&zm(t);)t=zm(t);return t||null}}function si(n){return n instanceof Function?n():n}function xS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const MS="ng-template";function C4(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==xS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function NS(n){return 4===n.type&&n.value!==MS}function E4(n,e,t){return e===(4!==n.type||t?n.value:MS)}function D4(n,e,t){let r=4;const i=n.attrs||[],s=function S4(n){for(let e=0;e<n.length;e++)if(rT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!E4(n,u,t)||""===u&&1===e.length){if(sr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!C4(n.attrs,c,t)){if(sr(r))return!1;o=!0}continue}const d=b4(8&r?"class":u,i,NS(n),t);if(-1===d){if(sr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==xS(f,c,0)||2&r&&c!==h){if(sr(r))return!1;o=!0}}}}else{if(!o&&!sr(r)&&!sr(u))return!1;if(o&&sr(u))continue;o=!1,r=u|1&r}}return sr(r)||o}function sr(n){return 0==(1&n)}function b4(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function A4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function RS(n,e,t=!1){for(let r=0;r<e.length;r++)if(D4(n,e[r],t))return!0;return!1}function kS(n,e){return n?":not("+e.trim()+")":e}function M4(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!sr(o)&&(e+=kS(s,i),i=""),r=o,s=s||!sr(r);t++}return""!==i&&(e+=kS(s,i)),e}const re={};function ie(n){PS(_e(),D(),cn()+n,!1)}function PS(n,e,t,r){if(!r)if(3==(3&e[ue])){const s=n.preOrderCheckHooks;null!==s&&Ed(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Dd(e,s,0,t)}Es(t)}function VS(n,e=null,t=null,r){const i=US(n,e,t,r);return i.resolveInjectorInitializers(),i}function US(n,e=null,t=null,r,i=new Set){const s=[t||Ce,Q$(n)];return r=r||("object"==typeof n?void 0:ke(n)),new ES(s,e||Gd(),r||null,i)}let Tr=(()=>{class n{static create(t,r){if(Array.isArray(t))return VS({name:""},r,t,"");{const i=t.name??"";return VS({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=yu,n.NULL=new _S,n.\u0275prov=W({token:n,providedIn:"any",factory:()=>Q(mS)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=K.Default){const t=D();return null===t?Q(n,e):hT(Vt(),t,q(n),e)}function WS(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Qg(t[r]),o.contentQueries(2,e[s],s)}}}function zd(n,e,t,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Zr]=i,d[ue]=76|r,(null!==l||n&&1024&n[ue])&&(d[ue]|=1024),Gb(d),d[Je]=d[bo]=n,d[rt]=t,d[md]=o||n&&n[md],d[le]=a||n&&n[le],d[Bg]=u||n&&n[Bg]||null,d[gd]=c||n&&n[gd]||null,d[Qt]=s,d[Eu]=function Jj(){return Yj++}(),d[kb]=l,d[Yt]=2==e.type?n[Yt]:d,d}function zo(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Ym(n,e,t,r,i){const s=qb(),o=zg(),u=n.data[e]=function nG(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function tj(){return ne.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function bu(){const n=ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Dr(s,!0),s}function Gu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Jm(n,e,t){Yg(e);try{const r=n.viewQuery;null!==r&&oy(1,r,t);const i=n.template;null!==i&&KS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&WS(n,e),n.staticViewQueries&&oy(2,n.viewQuery,t);const s=n.components;null!==s&&function Z4(n,e){for(let t=0;t<e.length;t++)CG(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,Jg()}}function qd(n,e,t,r){const i=e[ue];if(128!=(128&i)){Yg(e);try{Gb(e),function Kb(n){return ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&KS(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Ed(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Dd(e,c,0,null),Xg(e,0)}if(function wG(n){for(let e=vm(n);null!==e;e=wm(e)){if(!e[Pb])continue;const t=e[So];for(let r=0;r<t.length;r++){const i=t[r];512&i[ue]||Hg(i[Je],1),i[ue]|=512}}}(e),function vG(n){for(let e=vm(n);null!==e;e=wm(e))for(let t=an;t<e.length;t++){const r=e[t],i=r[F];Id(r)&&qd(i,r,i.template,r[rt])}}(e),null!==n.contentQueries&&WS(n,e),o){const c=n.contentCheckHooks;null!==c&&Ed(e,c)}else{const c=n.contentHooks;null!==c&&Dd(e,c,1),Xg(e,1)}!function J4(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Es(~i);else{const s=i,o=t[++r],a=t[++r];nj(o,s),a(2,e[s])}}}finally{Es(-1)}}(n,e);const a=n.components;null!==a&&function X4(n,e){for(let t=0;t<e.length;t++)IG(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&oy(2,u,r),o){const c=n.viewCheckHooks;null!==c&&Ed(e,c)}else{const c=n.viewHooks;null!==c&&Dd(e,c,2),Xg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ue]&=-41,512&e[ue]&&(e[ue]&=-513,Hg(e[Je],-1))}finally{Jg()}}}function KS(n,e,t,r,i){const s=cn(),o=2&r;try{Es(-1),o&&e.length>Ue&&PS(n,e,Ue,!1),zn(o?2:0,i),t(r,i)}finally{Es(s),zn(o?3:1,i)}}function Xm(n,e,t){if($g(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Zm(n,e,t){zb()&&(function cG(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Du(t)&&function mG(n,e,t){const r=Rn(e,n),i=QS(t),s=n[md],o=Wd(n,zd(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ad(t,e),Jt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=Ds(e,n,a,t);Jt(c,e),null!==o&&yG(0,a-i,c,u,0,o),ir(u)&&(vn(t.index,e)[rt]=Ds(e,n,a,t))}}(n,e,t,Rn(t,e)),64==(64&t.flags)&&eA(n,e,t))}function ey(n,e,t=Rn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function QS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ty(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ty(n,e,t,r,i,s,o,a,u,c){const l=Ue+r,d=l+i,h=function eG(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:re);return t}(l,d),f="function"==typeof c?c():c;return h[F]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function JS(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?XS(t,e,i,s):r.hasOwnProperty(i)&&XS(t,e,r[i],s)}return t}function XS(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ny(n,e,t,r){if(zb()){const i=null===r?null:{"":-1},s=function dG(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(RS(e,o.selectors,!1))if(r||(r=[]),ir(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ry(n,e,a.length)}else r.unshift(o),ry(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&ZS(n,e,t,o,i,a),i&&function hG(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new A(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Su(t.mergedAttrs,t.attrs)}function ZS(n,e,t,r,i,s){for(let c=0;c<r.length;c++)im(Ad(t,e),n,r[c].type);!function pG(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Gu(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=Su(t.mergedAttrs,l.hostAttrs),gG(n,t,e,u,l),fG(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function rG(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=t?t.get(d):null,p=h?h.outputs:null;u=JS(d.inputs,l,u,h?h.inputs:null),c=JS(d.outputs,l,c,p);const m=null===u||null===o||NS(e)?null:_G(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function eA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function rj(){return ne.lFrame.currentDirectiveIndex}();try{Es(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];Wg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&lG(u,c)}}finally{Es(-1),Wg(o)}}function lG(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ry(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function fG(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ir(e)&&(t[""]=n)}}function gG(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Cs(i.type)),o=new Tu(s,ir(i),C);n.blueprint[r]=o,t[r]=o,function aG(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function uG(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Gu(n,t,i.hostVars,re),i)}function Sr(n,e,t,r,i,s){const o=Rn(n,e);!function iy(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?te(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[le],o,s,n.value,t,r,i)}function yG(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function _G(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function tA(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function IG(n,e){const t=vn(e,n);if(Id(t)){const r=t[F];48&t[ue]?qd(r,t,r.template,t[rt]):t[Is]>0&&sy(t)}}function sy(n){for(let r=vm(n);null!==r;r=wm(r))for(let i=an;i<r.length;i++){const s=r[i];if(Id(s))if(512&s[ue]){const o=s[F];qd(o,s,o.template,s[rt])}else s[Is]>0&&sy(s)}const t=n[F].components;if(null!==t)for(let r=0;r<t.length;r++){const i=vn(t[r],n);Id(i)&&i[Is]>0&&sy(i)}}function CG(n,e){const t=vn(e,n),r=t[F];(function EG(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Jm(r,t,t[rt])}function Wd(n,e){return n[Iu]?n[Rb][nr]=e:n[Iu]=e,n[Rb]=e,e}function Kd(n){for(;n;){n[ue]|=32;const e=Fu(n);if(LB(n)&&!e)return n;n=e}return null}function Qd(n,e,t,r=!0){const i=e[md];i.begin&&i.begin();try{qd(n,e,n.template,t)}catch(o){throw r&&sA(e,o),o}finally{i.end&&i.end()}}function oy(n,e,t){Qg(0),e(n,t)}function nA(n){return n[Do]||(n[Do]=[])}function rA(n){return n.cleanup||(n.cleanup=[])}function sA(n,e){const t=n[gd],r=t?t.get($o,null):null;r&&r.handleError(e)}function ay(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Yd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ng(i,a):2==s&&(r=Ng(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Jd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Lt(s)),rr(s))for(let a=an;a<s.length;a++){const u=s[a],c=u[F].firstChild;null!==c&&Jd(u[F],u,c,r)}const o=t.type;if(8&o)Jd(n,e,t.child,r);else if(32&o){const a=_m(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=JT(e,t);if(Array.isArray(a))r.push(...a);else{const u=Fu(e[Yt]);Jd(u[F],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Hu{get rootNodes(){const e=this._lView,t=e[F];return Jd(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return 128==(128&this._lView[ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Je];if(rr(e)){const t=e[_d],r=t?t.indexOf(this):-1;r>-1&&(Em(e,r),Nd(t,r))}this._attachedToViewContainer=!1}$T(this._lView[F],this._lView)}onDestroy(e){!function YS(n,e,t,r){const i=nA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&rA(n).push(r,i.length-1))}(this._lView[F],this._lView,null,e)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-65}reattach(){this._lView[ue]|=64}detectChanges(){Qd(this._lView[F],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function h$(n,e){Lu(n,e,e[le],2,null,null)}(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e}}class DG extends Hu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Qd(e[F],e,e[rt],!1)}checkNoChanges(){}get context(){return null}}class oA extends ju{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Se(e);return new zu(t,this.ngModule)}}function aA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class TG{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=hd(r);const i=this.injector.get(e,Gm,r);return i!==Gm||t===Gm?i:this.parentInjector.get(e,t,r)}}class zu extends bS{get inputs(){return aA(this.componentDef.inputs)}get outputs(){return aA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function N4(n){return n.map(M4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof ri?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new TG(e,s):e,a=o.get(SS,null);if(null===a)throw new A(407,!1);const u=o.get(l4,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function tG(n,e,t){return n.selectRootElement(e,t===Ir.ShadowDom)}(c,r,this.componentDef.encapsulation):Cm(c,l,function bG(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=ty(0,null,null,1,0,null,null,null,null,null),p=zd(null,f,null,h,null,null,a,c,u,o,null);let m,y;Yg(p);try{const I=this.componentDef;let E,v=null;I.findHostDirectiveDefs?(E=[],v=new Map,I.findHostDirectiveDefs(I,E,v),E.push(I)):E=[I];const k=function AG(n,e){const t=n[F],r=Ue;return n[r]=e,zo(t,r,2,"#host",null)}(p,d),$=function xG(n,e,t,r,i,s,o,a){const u=i[F];!function MG(n,e,t,r){for(const i of n)e.mergedAttrs=Su(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Yd(e,e.mergedAttrs,!0),null!==t&&eS(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),l=zd(i,QS(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&ry(u,n,r.length-1),Wd(i,l),i[n.index]=l}(k,d,I,E,p,a,c);y=$b(f,Ue),d&&function RG(n,e,t,r){if(r)em(n,t,["ng-version",d4.full]);else{const{attrs:i,classes:s}=function R4(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!sr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&em(n,t,i),s&&s.length>0&&ZT(n,t,s.join(" "))}}(c,I,d,r),void 0!==t&&function kG(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,t),m=function NG(n,e,t,r,i,s){const o=Vt(),a=i[F],u=Rn(o,i);ZS(a,i,o,t,null,r);for(let l=0;l<t.length;l++)Jt(Ds(i,a,o.directiveStart+l,o),i);eA(a,i,o),u&&Jt(u,i);const c=Ds(i,a,o.directiveStart+o.componentOffset,o);if(n[rt]=i[rt]=c,null!==s)for(const l of s)l(c,e);return Xm(a,o,n),c}($,I,E,v,p,[PG]),Jm(f,p,null)}finally{Jg()}return new SG(this.componentType,m,jo(y,p),p,y)}}class SG extends i4{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new DG(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;ay(s[F],s,i,e,t),Kd(vn(this._tNode.index,s))}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function PG(){const n=Vt();Cd(D()[F],n)}function Ae(n){let e=function uA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ir(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=uy(n.inputs),o.declaredInputs=uy(n.declaredInputs),o.outputs=uy(n.outputs);const a=i.hostBindings;a&&VG(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&FG(n,u),c&&LG(n,c),Mg(n.inputs,i.inputs),Mg(n.declaredInputs,i.declaredInputs),Mg(n.outputs,i.outputs),ir(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ae&&(t=!1)}}e=Object.getPrototypeOf(e)}!function OG(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Su(i.hostAttrs,t=Su(t,i.hostAttrs))}}(r)}function uy(n){return n===Jr?{}:n===Ce?[]:n}function FG(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function LG(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function VG(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Xd(n){return!!cy(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function cy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function xr(n,e,t,r){const i=D();return Xt(i,xo(),e)&&(_e(),Sr(qe(),i,n,e,t,r)),xr}function We(n,e,t,r,i,s,o,a){const u=D(),c=_e(),l=n+Ue,d=c.firstCreatePass?function KG(n,e,t,r,i,s,o,a,u){const c=e.consts,l=zo(e,n,4,o||null,ki(c,a));ny(e,t,l,ki(c,u)),Cd(e,l);const d=l.tView=ty(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];Dr(d,!1);const h=u[le].createComment("");Fd(c,u,h,d),Jt(h,u),Wd(u,u[l]=tA(h,u,h,d)),vd(d)&&Zm(c,u,d),null!=o&&ey(u,d,a)}function de(n,e,t){const r=D();return Xt(r,xo(),e)&&function On(n,e,t,r,i,s,o,a){const u=Rn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(ay(n,t,l,r,i),Du(e)&&function sG(n,e){const t=vn(e,n);16&t[ue]||(t[ue]|=32)}(t,e.index)):3&e.type&&(r=function iG(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(_e(),qe(),r,n,e,r[le],t,!1),de}function ly(n,e,t,r,i){const o=i?"class":"style";ay(n,t,e.inputs[o],o,r)}function S(n,e,t,r){const i=D(),s=_e(),o=Ue+n,a=i[le],u=s.firstCreatePass?function JG(n,e,t,r,i,s){const o=e.consts,u=zo(e,n,2,r,ki(o,i));return ny(e,t,u,ki(o,s)),null!==u.attrs&&Yd(u,u.attrs,!1),null!==u.mergedAttrs&&Yd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],c=i[o]=Cm(a,e,function dj(){return ne.lFrame.currentNamespace}()),l=vd(u);return Dr(u,!0),eS(a,c,u),32!=(32&u.flags)&&Fd(s,i,c,u),0===function QB(){return ne.lFrame.elementDepthCount}()&&Jt(c,i),function YB(){ne.lFrame.elementDepthCount++}(),l&&(Zm(s,i,u),Xm(s,u,i)),null!==r&&ey(i,u),S}function x(){let n=Vt();zg()?function qg(){ne.lFrame.isParent=!1}():(n=n.parent,Dr(n,!1));const e=n;!function JB(){ne.lFrame.elementDepthCount--}();const t=_e();return t.firstCreatePass&&(Cd(t,n),$g(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function gj(n){return 0!=(8&n.flags)}(e)&&ly(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function mj(n){return 0!=(16&n.flags)}(e)&&ly(t,e,D(),e.stylesWithoutHost,!1),x}function Fn(n,e,t,r){return S(n,e,t,r),x(),Fn}function Bt(){return D()}function Wu(n){return!!n&&"function"==typeof n.then}const fy=function CA(n){return!!n&&"function"==typeof n.subscribe};function X(n,e,t,r){const i=D(),s=_e(),o=Vt();return function DA(n,e,t,r,i,s,o){const a=vd(r),c=n.firstCreatePass&&rA(n),l=e[rt],d=nA(e);let h=!0;if(3&r.type||o){const m=Rn(r,e),y=o?o(m):m,I=d.length,E=o?k=>o(Lt(k[r.index])):r.index;let v=null;if(!o&&a&&(v=function ZG(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Do],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=TA(r,e,l,s,!1);const k=t.listen(y,i,s);d.push(s,k),c&&c.push(i,E,I,I+1)}}else s=TA(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const $=e[p[y]][p[y+1]].subscribe(s),z=d.length;d.push(s,$),c&&c.push(i,r.index,z,-(z+1))}}}(s,i,i[le],o,n,e,r),X}function bA(n,e,t,r){try{return zn(6,e,t),!1!==t(r)}catch(i){return sA(n,i),!1}finally{zn(7,e,t)}}function TA(n,e,t,r,i){return function s(o){if(o===Function)return r;Kd(n.componentOffset>-1?vn(n.index,e):e);let u=bA(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)u=bA(e,t,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function se(n=1){return function sj(n){return(ne.lFrame.contextLView=function oj(n,e){for(;n>0;)e=e[bo],n--;return e}(n,ne.lFrame.contextLView))[rt]}(n)}function eh(n,e){return n<<17|e<<2}function Oi(n){return n>>17&32767}function gy(n){return 2|n}function xs(n){return(131068&n)>>2}function my(n,e){return-131069&n|e<<2}function yy(n){return 1|n}function FA(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Oi(s):xs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];u3(n[a],e)&&(u=!0,n[a+1]=r?yy(l):gy(l)),a=r?Oi(l):xs(l)}u&&(n[t+1]=r?gy(s):yy(s))}function u3(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Fo(n,e)>=0}function th(n,e){return function or(n,e,t,r){const i=D(),s=_e(),o=function ti(n){const e=ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function zA(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[cn()],o=function HA(n,e){return e>=n.expandoStartIndex}(n,t);(function QA(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function y3(n,e,t,r){const i=function Kg(n){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Ku(t=_y(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=_y(i,n,e,t,r),null===s){let u=function _3(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==xs(r))return n[Oi(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=_y(null,n,e,u[1],r),u=Ku(u,e.attrs,r),function v3(n,e,t,r){n[Oi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function w3(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ku(r,n[s].hostAttrs,t);return Ku(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function o3(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Oi(o),u=xs(o);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||Fo(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=Oi(n[a+1]);n[r+1]=eh(h,a),0!==h&&(n[h+1]=my(n[h+1],r)),n[a+1]=function i3(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=eh(a,0),0!==a&&(n[a+1]=my(n[a+1],r)),a=r;else n[r+1]=eh(u,0),0===a?a=r:n[u+1]=my(n[u+1],r),u=r;c&&(n[r+1]=gy(n[r+1])),FA(n,l,r,!0),FA(n,l,r,!1),function a3(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Fo(s,e)>=0&&(t[r+1]=yy(t[r+1]))}(e,l,n,r,s),o=eh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==re&&Xt(i,o,e)&&function WA(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function s3(n){return 1==(1&n)}(c)?KA(u,e,t,i,xs(c),o):void 0;nh(l)||(nh(s)||function r3(n){return 2==(2&n)}(c)&&(s=KA(u,null,t,i,a,o)),function C$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:wn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=wn.Important),n.setStyle(t,r,i,s))}}(r,o,wd(cn(),t),i,s))}(s,s.data[cn()],i,i[le],n,i[o+1]=function D3(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ke(Pi(n)))),n}(e,t),r,o)}(n,e,null,!0),th}function _y(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Ku(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Ku(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),kn(n,o,!!t||e[++s]))}return void 0===n?null:n}function KA(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===re&&(h=d?Ce:void 0);let f=d?um(h,r):l===r?h:void 0;if(c&&!nh(f)&&(f=um(u,r)),nh(f)&&(a=f,o))return a;const p=n[i+1];i=o?Oi(p):xs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=um(u,r))}return a}function nh(n){return void 0!==n}function V(n,e=""){const t=D(),r=_e(),i=n+Ue,s=r.firstCreatePass?zo(r,i,1,e,null):r.data[i],o=t[i]=function Im(n,e){return n.createText(e)}(t[le],e);Fd(r,t,o,s),Dr(s,!1)}function Kn(n){return rh("",n,""),Kn}function rh(n,e,t){const r=D(),i=function Wo(n,e,t,r){return Xt(n,xo(),t)?e+te(t)+r:re}(r,n,e,t);return i!==re&&function oi(n,e,t){const r=wd(e,n);!function BT(n,e,t){n.setValue(e,t)}(n[le],r,t)}(r,cn(),i),rh}const ra="en-US";let yx=ra;function Iy(n,e,t,r,i){if(n=q(n),Array.isArray(n))for(let s=0;s<n.length;s++)Iy(n[s],e,t,r,i);else{const s=_e(),o=D();let a=Ss(n)?n:q(n.provide),u=DS(n);const c=Vt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ss(n)||!n.multi){const f=new Tu(u,i,C),p=Ey(a,e,i?l:l+h,d);-1===p?(im(Ad(c,o),s,a),Cy(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Ey(a,e,l+h,d),p=Ey(a,e,l,l+h),y=p>=0&&t[p];if(i&&!y||!i&&!(f>=0&&t[f])){im(Ad(c,o),s,a);const I=function $H(n,e,t,r,i){const s=new Tu(n,t,C);return s.multi=[],s.index=e,s.componentProviders=0,$x(s,i,r&&!t),s}(i?jH:BH,t.length,i,r,u);!i&&y&&(t[p].providerFactory=I),Cy(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),o.push(I)}else Cy(s,n,f>-1?f:p,$x(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function Cy(n,e,t,r){const i=Ss(e),s=function J$(n){return!!n.useClass}(e);if(i||s){const u=(s?q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function $x(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ey(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function BH(n,e,t,r){return Dy(this.multi,[])}function jH(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ds(t,t[F],this.providerFactory.index,r);s=a.slice(0,o),Dy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Dy(i,s);return s}function Dy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function He(n,e=[]){return t=>{t.providersResolver=(r,i)=>function UH(n,e,t){const r=_e();if(r.firstCreatePass){const i=ir(n);Iy(t,r.data,r.blueprint,i,!0),Iy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ia{}class Gx{}class Hx extends ia{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oA(this);const r=Mn(e);this._bootstrapComponents=si(r.bootstrap),this._r3Injector=US(e,t,[{provide:ia,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],ke(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class by extends Gx{constructor(e){super(),this.moduleType=e}create(e){return new Hx(this.moduleType,e)}}class HH extends ia{constructor(e,t,r){super(),this.componentFactoryResolver=new oA(this),this.instance=null;const i=new ES([...e,{provide:ia,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],t||Gd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function uh(n,e,t=null){return new HH(n,e,t).injector}let zH=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=vS(0,t.type),i=r.length>0?uh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(Q(ri))}),n})();function zx(n){n.getStandaloneInjector=e=>e.get(zH).getOrCreateStandaloneInjector(n)}function Sy(n,e,t,r){return function Xx(n,e,t,r,i,s){const o=e+t;return Xt(n,o,i)?function Ar(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function ec(n,e){const t=n[e];return t===re?void 0:t}(n,o+1)}(D(),function un(){const n=ne.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function Ay(n){return e=>{setTimeout(n,void 0,e)}}const Oe=class mz extends Kr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Ay(s),i&&(i=Ay(i)),o&&(o=Ay(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Sn&&e.add(a),a}};let ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=wz,n})();const _z=ai,vz=class extends _z{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=zd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Cu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Er];return null!==o&&(i[Er]=o.createEmbeddedView(r)),Jm(r,i,e),new Hu(i)}};function wz(){return function ch(n,e){return 4&n.type?new vz(e,n,jo(n,e)):null}(Vt(),D())}let ur=(()=>{class n{}return n.__NG_ELEMENT_ID__=Iz,n})();function Iz(){return function s1(n,e){let t;const r=e[n.index];if(rr(r))t=r;else{let i;if(8&n.type)i=Lt(r);else{const s=e[le];i=s.createComment("");const o=Rn(n,e);Ts(s,Od(s,o),i,function v$(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=tA(r,e,i,n),Wd(e,t)}return new r1(t,n,e)}(Vt(),D())}const Cz=ur,r1=class extends Cz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return jo(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const e=rm(this._hostTNode,this._hostLView);if(oT(e)){const t=Td(e,this._hostLView),r=bd(e);return new No(t[F].data[r+8],t)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=i1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-an}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function xu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new zu(Se(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(ri,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[F];if(function KB(n){return rr(n[Je])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Je],h=new r1(d,d[Qt],d[Je]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function p$(n,e,t,r){const i=an+r,s=t.length;r>0&&(t[i-1][nr]=e),r<s-an?(e[nr]=t[i],_T(t,an+r,e)):(t.push(e),e[nr]=null),e[Je]=t;const o=e[Cu];null!==o&&t!==o&&function g$(n,e){const t=n[So];e[Yt]!==e[Je][Je][Yt]&&(n[Pb]=!0),null===t?n[So]=[e]:t.push(e)}(o,e);const a=e[Er];null!==a&&a.insertView(n),e[ue]|=64}(i,r,o,s);const a=Tm(s,o),u=r[le],c=Od(u,o[yd]);return null!==c&&function d$(n,e,t,r,i,s){r[Zr]=i,r[Qt]=e,Lu(n,r,t,1,i,s)}(i,o[Qt],u,r,c,a),e.attachToViewContainerRef(),_T(My(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=i1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Em(this._lContainer,t);r&&(Nd(My(this._lContainer),t),$T(r[F],r))}detach(e){const t=this._adjustIndex(e,-1),r=Em(this._lContainer,t);return r&&null!=Nd(My(this._lContainer),t)?new Hu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function i1(n){return n[_d]}function My(n){return n[_d]||(n[_d]=[])}function dh(...n){}const hh=new j("Application Initializer");let fh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=dh,this.reject=dh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Wu(s))t.push(s);else if(fy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Q(hh,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rc=new j("AppId",{providedIn:"root",factory:function N1(){return`${jy()}${jy()}${jy()}`}});function jy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const R1=new j("Platform Initializer"),k1=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Yz=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ui=new j("LocaleId",{providedIn:"root",factory:()=>ge(ui,K.Optional|K.SkipSelf)||function Jz(){return typeof $localize<"u"&&$localize.locale||ra}()});class Zz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let P1=(()=>{class n{compileModuleSync(t){return new by(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=si(Mn(t).declarations).reduce((o,a)=>{const u=Se(a);return u&&o.push(new zu(u)),o},[]);return new Zz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n5=(()=>Promise.resolve(0))();function $y(n){typeof Zone>"u"?n5.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class it{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function r5(){let n=Ve.requestAnimationFrame,e=Ve.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function o5(n){const e=()=>{!function s5(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ve,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hy(n),n.isCheckStableRunning=!0,Gy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return L1(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),V1(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return L1(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),V1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Hy(n),Gy(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!it.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(it.isInAngularZone())throw new A(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,i5,dh,dh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const i5={};function Gy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Hy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function L1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V1(n){n._nesting--,Gy(n)}class a5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const U1=new j(""),ph=new j("");let Wy,zy=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wy||(function u5(n){Wy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{it.assertNotInAngularZone(),$y(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$y(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Q(it),Q(qy),Q(ph))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),qy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Wy?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ci=!1;let Fi=null;const B1=new j("AllowMultipleToken"),Ky=new j("PlatformDestroyListeners"),j1=new j("appBootstrapListener");class $1{constructor(e,t){this.name=e,this.token=t}}function H1(n,e,t=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=Qy();if(!o||o.injector.get(B1,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function d5(n){if(Fi&&!Fi.get(B1,!1))throw new A(400,!1);Fi=n;const e=n.get(q1);(function G1(n){const e=n.get(R1,null);e&&e.forEach(t=>t())})(n)}(function z1(n=[],e){return Tr.create({name:e,providers:[{provide:Um,useValue:"platform"},{provide:Ky,useValue:new Set([()=>Fi=null])},...n]})}(a,r))}return function f5(n){const e=Qy();if(!e)throw new A(401,!1);return e}()}}function Qy(){return Fi?.get(q1)??null}let q1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function K1(n,e){let t;return t="noop"===n?new a5:("zone.js"===n?void 0:n)||new it(e),t}(r?.ngZone,function W1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:it,useValue:i}];return i.run(()=>{const o=Tr.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get($o,null);if(!u)throw new A(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{mh(this._modules,a),c.unsubscribe()})}),function Q1(n,e,t){try{const r=t();return Wu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(fh);return c.runInitializers(),c.donePromise.then(()=>(function _x(n){$n(n,"Expected localeId to be defined"),"string"==typeof n&&(yx=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ui,ra)||ra),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=Y1({},r);return function c5(n,e,t){const r=new by(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(gh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new A(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Ky,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Q(Tr))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Y1(n,e){return Array.isArray(e)?e.reduce(Y1,n):{...n,...e}}let gh=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new nt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new nt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),$y(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function fB(...n){const e=mu(n),t=function oB(n,e){return"number"==typeof Ag(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?An(r[0]):Io(t)(ft(r,e)):vr}(s,o.pipe(function pB(n={}){const{connector:e=(()=>new Kr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return wt((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=xg(p,i))}),I.subscribe(y),!o&&c>0&&(o=new gu({next:E=>I.next(E),error:E=>{d=!0,h(),a=xg(f,t,E),I.error(E)},complete:()=>{l=!0,h(),a=xg(f,r),I.complete()}}),An(m).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof bS;if(!this._injector.get(fh).done){!i&&function Eo(n){const e=Se(n)||Kt(n)||_n(n);return null!==e&&e.standalone}(t);throw new A(405,ci)}let o;o=i?t:this._injector.get(ju).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function l5(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ia),c=o.create(Tr.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(U1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),mh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;mh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(j1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new A(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Q(it),Q(ri),Q($o))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let yh=(()=>{class n{}return n.__NG_ELEMENT_ID__=g5,n})();function g5(n){return function m5(n,e,t){if(Du(n)&&!t){const r=vn(n.index,e);return new Hu(r,r)}return 47&n.type?new Hu(e[Yt],e):null}(Vt(),D(),16==(16&n))}class tM{constructor(){}supports(e){return Xd(e)}create(e){return new C5(e)}}const I5=(n,e)=>e;class C5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||I5}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<rM(r,i,s)?t:r,a=rM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Xd(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function zG(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new E5(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new nM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class E5{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class D5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class nM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new D5,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class iM{constructor(){}supports(e){return e instanceof Map||cy(e)}create(){return new b5}}class b5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||cy(e)))throw new A(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new T5(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class T5{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sM(){return new wh([new tM])}let wh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sM()),deps:[[n,new Ru,new Nu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new A(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:sM}),n})();function oM(){return new ic([new iM])}let ic=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||oM()),deps:[[n,new Ru,new Nu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new A(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:oM}),n})();const x5=H1(null,"core",[]);let M5=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Q(gh))},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({}),n})();function aa(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let e_=null;function li(){return e_}class k5{}const Cn=new j("DocumentToken");let t_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return function P5(){return Q(aM)}()},providedIn:"platform"}),n})();const O5=new j("Location Initialized");let aM=(()=>{class n extends t_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return li().getBaseHref(this._doc)}onPopState(t){const r=li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=li().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){uM()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){uM()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Q(Cn))},n.\u0275prov=W({token:n,factory:function(){return function F5(){return new aM(Q(Cn))}()},providedIn:"platform"}),n})();function uM(){return!!window.history.pushState}function n_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function di(n){return n&&"?"!==n[0]?"?"+n:n}let Rs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(dM)},providedIn:"root"}),n})();const lM=new j("appBaseHref");let dM=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ge(Cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return n_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Q(t_),Q(lM,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L5=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=n_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Q(t_),Q(lM,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),r_=(()=>{class n{constructor(t){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function B5(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(cM(hM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+di(r))}normalize(t){return n.stripTrailingSlash(function U5(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,hM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=di,n.joinWithSlash=n_,n.stripTrailingSlash=cM,n.\u0275fac=function(t){return new(t||n)(Q(Rs))},n.\u0275prov=W({token:n,factory:function(){return function V5(){return new r_(Q(Rs))}()},providedIn:"root"}),n})();function hM(n){return n.replace(/\/index.html$/,"")}const f_=/\s+/,IM=[];let p_=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=IM,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(f_):IM}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(f_):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(f_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(C(wh),C(ic),C(Pn),C(ii))},n.\u0275dir=J({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class bq{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ua=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new bq(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),DM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{DM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(ur),C(ai),C(wh))},n.\u0275dir=J({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function DM(n,e){n.context.$implicit=e.item}let ks=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Sq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(ur),C(ai))},n.\u0275dir=J({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Sq{constructor(){this.$implicit=null,this.ngIf=null}}function bM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ke(e)}'.`)}let Xq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({}),n})();let xM=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>new n9(Q(Cn),window)}),n})();class n9{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function r9(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=MM(this.window.history)||MM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function MM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class N9 extends k5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class I_ extends N9{static makeCurrent(){!function R5(n){e_||(e_=n)}(new I_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function R9(){return uc=uc||document.querySelector("base"),uc?uc.getAttribute("href"):null}();return null==t?null:function k9(n){Rh=Rh||document.createElement("a"),Rh.setAttribute("href",n);const e=Rh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){uc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Eq(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Rh,uc=null;const OM=new j("TRANSITION_ID"),O9=[{provide:hh,useFactory:function P9(n,e,t){return()=>{t.get(fh).donePromise.then(()=>{const r=li(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[OM,Cn,Tr],multi:!0}];let L9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const kh=new j("EventManagerPlugins");let Ph=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Q(kh),Q(it))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class FM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=li().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let LM=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),cc=(()=>{class n extends LM{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(Q(Cn))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const C_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},E_=/%COMP%/g,BM=new j("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function jM(n,e){return e.flat(100).map(t=>t.replace(E_,n))}function $M(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let D_=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new b_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof zM?i.applyToHost(t):i instanceof T_&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Ir.Emulated:s=new zM(o,a,r,this.appId,u);break;case Ir.ShadowDom:return new H9(o,a,t,r);default:s=new T_(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Q(Ph),Q(cc),Q(rc),Q(BM))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class b_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(C_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(HM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(HM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=C_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=C_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(wn.DashCase|wn.Important)?e.style.setProperty(t,r,i&wn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&wn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$M(r)):this.eventManager.addEventListener(e,t,$M(r))}}function HM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class H9 extends b_{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=jM(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class T_ extends b_{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=jM(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class zM extends T_{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function j9(n){return"_ngcontent-%COMP%".replace(E_,n)}(o),this.hostAttr=function $9(n){return"_nghost-%COMP%".replace(E_,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let z9=(()=>{class n extends FM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Q(Cn))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const qM=["alt","control","meta","shift"],q9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let K9=(()=>{class n extends FM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>li().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),qM.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=q9[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qM.forEach(o=>{o!==i&&(0,W9[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Q(Cn))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const KM=[{provide:k1,useValue:"browser"},{provide:R1,useValue:function Q9(){I_.makeCurrent()},multi:!0},{provide:Cn,useFactory:function J9(){return function S$(n){Mm=n}(document),document},deps:[]}],X9=H1(x5,"browser",KM),QM=new j(""),YM=[{provide:ph,useClass:class F9{addToWindow(e){Ve.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ve.getAllAngularRootElements=()=>e.getAllRootElements(),Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(r=>{const i=Ve.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?li().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:U1,useClass:zy,deps:[it,qy,ph]},{provide:zy,useClass:zy,deps:[it,qy,ph]}],JM=[{provide:Um,useValue:"root"},{provide:$o,useFactory:function Y9(){return new $o},deps:[]},{provide:kh,useClass:z9,multi:!0,deps:[Cn,it,k1]},{provide:kh,useClass:K9,multi:!0,deps:[Cn]},{provide:D_,useClass:D_,deps:[Ph,cc,rc,BM]},{provide:SS,useExisting:D_},{provide:LM,useExisting:cc},{provide:cc,useClass:cc,deps:[Cn]},{provide:Ph,useClass:Ph,deps:[kh,it]},{provide:class i9{},useClass:L9,deps:[]},[]];let Z9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:rc,useValue:t.appId},{provide:OM,useExisting:rc},O9]}}}return n.\u0275fac=function(t){return new(t||n)(Q(QM,12))},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({providers:[...JM,...YM],imports:[Xq,M5]}),n})(),XM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Q(Cn))},n.\u0275prov=W({token:n,factory:function(t){let r=null;return r=t?new t:function t6(){return new XM(Q(Cn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:a6}=Array,{getPrototypeOf:u6,prototype:c6,keys:l6}=Object;function tN(n){if(1===n.length){const e=n[0];if(a6(e))return{args:e,keys:null};if(function d6(n){return n&&"object"==typeof n&&u6(n)===c6}(e)){const t=l6(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:h6}=Array;function nN(n){return pe(e=>function f6(n,e){return h6(e)?n(...e):n(e)}(n,e))}function rN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let iN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(ii),C(Pn))},n.\u0275dir=J({type:n}),n})(),Ps=(()=>{class n extends iN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}(),n.\u0275dir=J({type:n,features:[Ae]}),n})();const Rr=new j("NgValueAccessor"),m6={provide:Rr,useExisting:Pe(()=>ca),multi:!0},_6=new j("CompositionEventMode");let ca=(()=>{class n extends iN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function y6(){const n=li()?li().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(ii),C(Pn),C(_6,8))},n.\u0275dir=J({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&X("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[He([m6]),Ae]}),n})();const v6=!1,Zt=new j("NgValidators"),Ui=new j("NgAsyncValidators");function gN(n){return null!=n}function mN(n){const e=Wu(n)?ft(n):n;if(v6&&!fy(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new A(-1101,t)}return e}function yN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function _N(n,e){return e.map(t=>t(n))}function vN(n){return n.map(e=>function I6(n){return!n.validate}(e)?e:t=>e.validate(t))}function x_(n){return null!=n?function wN(n){if(!n)return null;const e=n.filter(gN);return 0==e.length?null:function(t){return yN(_N(t,e))}}(vN(n)):null}function M_(n){return null!=n?function IN(n){if(!n)return null;const e=n.filter(gN);return 0==e.length?null:function(t){return function p6(...n){const e=yb(n),{args:t,keys:r}=tN(n),i=new nt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;An(t[l]).subscribe(ht(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?rN(r,a):a),s.complete())}))}});return e?i.pipe(nN(e)):i}(_N(t,e).map(mN)).pipe(pe(yN))}}(vN(n)):null}function CN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function N_(n){return n?Array.isArray(n)?n:[n]:[]}function Fh(n,e){return Array.isArray(n)?n.includes(e):n===e}function bN(n,e){const t=N_(e);return N_(n).forEach(i=>{Fh(t,i)||t.push(i)}),t}function TN(n,e){return N_(e).filter(t=>!Fh(n,t))}class SN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=x_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=M_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hn extends SN{get formDirective(){return null}get path(){return null}}class Bi extends SN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class AN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Lh=(()=>{class n extends AN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Bi,2))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&th("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ae]}),n})();const lc="VALID",Uh="INVALID",la="PENDING",dc="DISABLED";function Bh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class RN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lc}get invalid(){return this.status===Uh}get pending(){return this.status==la}get disabled(){return this.status===dc}get enabled(){return this.status!==dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(TN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(TN(e,this._rawAsyncValidators))}hasValidator(e){return Fh(this._rawValidators,e)}hasAsyncValidator(e){return Fh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=la,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lc||this.status===la)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dc:lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=la,this._hasOwnPendingAsyncValidator=!0;const t=mN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?dc:this.errors?Uh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(la)?la:this._anyControlsHaveStatus(Uh)?Uh:lc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function x6(n){return Array.isArray(n)?x_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function M6(n){return Array.isArray(n)?M_(n):n||null}(this._rawAsyncValidators)}}const da=new j("CallSetDisabledState",{providedIn:"root",factory:()=>jh}),jh="always";function hc(n,e,t=jh){(function V_(n,e){const t=function EN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(CN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function DN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(CN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Hh(e._rawValidators,i),Hh(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function k6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kN(n,e)})}(n,e),function O6(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function P6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function R6(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Hh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function FN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function LN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const VN=class extends RN{constructor(e=null,t,r){super(function O_(n){return(Bh(n)?n.validators:n)||null}(t),function F_(n,e){return(Bh(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=LN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){LN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},G6={provide:Bi,useExisting:Pe(()=>pc)},jN=(()=>Promise.resolve())();let pc=(()=>{class n extends Bi{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new VN,this._registered=!1,this.update=new Oe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function j_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ca?t=s:function V6(n){return Object.getPrototypeOf(n.constructor)===Ps}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function B_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){jN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&aa(r);jN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function $h(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(C(hn,9),C(Zt,10),C(Ui,10),C(Rr,10),C(yh,8),C(da,8))},n.\u0275dir=J({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[He([G6]),Ae,Hn]}),n})(),GN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({}),n})();const e8={provide:Rr,useExisting:Pe(()=>qh),multi:!0};function YN(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let qh=(()=>{class n extends Ps{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=YN(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function t8(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&X("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([e8]),Ae]}),n})(),JN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(YN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(C(Pn),C(ii),C(qh,9))},n.\u0275dir=J({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const n8={provide:Rr,useExisting:Pe(()=>q_),multi:!0};function XN(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let q_=(()=>{class n extends Ps{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function r8(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&X("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([n8]),Ae]}),n})(),ZN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(XN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(XN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(C(Pn),C(ii),C(q_,9))},n.\u0275dir=J({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),h8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({imports:[GN]}),n})(),p8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:da,useValue:t.callSetDisabledState??jh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({imports:[h8]}),n})();function H(...n){return ft(n,mu(n))}class hr extends Kr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Wh=pu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function cR(...n){const e=mu(n),t=yb(n),{args:r,keys:i}=tN(n);if(0===r.length)return ft([],e);const s=new nt(function g8(n,e,t=ws){return r=>{lR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)lR(e,()=>{const c=ft(n[u],e);let l=!1;c.subscribe(ht(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>rN(i,o):ws));return t?s.pipe(nN(t)):s}function lR(n,e,t){n?Qr(t,n,e):e()}function Kh(...n){return function m8(){return Io(1)}()(ft(n,mu(n)))}function dR(n){return new nt(e=>{An(n()).subscribe(e)})}function gc(n,e){const t=Re(n)?n:()=>n,r=i=>i.error(t());return new nt(e?i=>e.schedule(r,0,i):r)}function K_(){return wt((n,e)=>{let t=null;n._refCount++;const r=ht(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hR extends nt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,tb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sn;const t=this.getSubject();e.add(this.source.subscribe(ht(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sn.EMPTY)}return e}refCount(){return K_()(this)}}function kr(n,e){return wt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ht(r,u=>{i?.unsubscribe();let c=0;const l=s++;An(n(u,l)).subscribe(i=ht(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ji(n){return n<=0?()=>vr:wt((e,t)=>{let r=0;e.subscribe(ht(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fi(n,e){return wt((t,r)=>{let i=0;t.subscribe(ht(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Qh(n){return wt((e,t)=>{let r=!1;e.subscribe(ht(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function fR(n=_8){return wt((e,t)=>{let r=!1;e.subscribe(ht(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _8(){return new Wh}function $i(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,s)=>n(i,s,r)):ws,ji(1),t?Qh(e):fR(()=>new Wh))}function Fs(n,e){return Re(e)?Tt(n,e,1):Tt(n,1)}function en(n,e,t){const r=Re(n)||e||t?{next:n,error:e,complete:t}:n;return r?wt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ht(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ws}function Gi(n){return wt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ht(t,void 0,void 0,o=>{s=An(n(o,Gi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function pR(n,e){return wt(function v8(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(ht(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function Q_(n){return n<=0?()=>vr:wt((e,t)=>{let r=[];e.subscribe(ht(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function gR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,s)=>n(i,s,r)):ws,Q_(1),t?Qh(e):fR(()=>new Wh))}function mR(n){return pe(()=>n)}function Y_(n){return wt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const oe="primary",mc=Symbol("RouteTitle");class I8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ha(n){return new I8(n)}function C8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Pr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!yR(n[i],e[i]))return!1;return!0}function yR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function _R(n){return Array.prototype.concat.apply([],n)}function vR(n){return n.length>0?n[n.length-1]:null}function jt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Hi(n){return fy(n)?n:Wu(n)?ft(Promise.resolve(n)):H(n)}const Yh=!1,D8={exact:function CR(n,e,t){if(!Ls(n.segments,e.segments)||!Jh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!CR(n.children[r],e.children[r],t))return!1;return!0},subset:ER},wR={exact:function b8(n,e){return Pr(n,e)},subset:function T8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yR(n[t],e[t]))},ignored:()=>!0};function IR(n,e,t){return D8[t.paths](n.root,e.root,t.matrixParams)&&wR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ER(n,e,t){return DR(n,e,e.segments,t)}function DR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ls(i,t)||e.hasChildren()||!Jh(i,t,r))}if(n.segments.length===t.length){if(!Ls(n.segments,t)||!Jh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ER(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ls(n.segments,i)&&Jh(n.segments,i,r)&&n.children[oe])&&DR(n.children[oe],e,s,r)}}function Jh(n,e,t){return e.every((r,i)=>wR[t](n[i].parameters,r.parameters))}class zi{constructor(e=new he([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ha(this.queryParams)),this._queryParamMap}toString(){return x8.serialize(this)}}class he{constructor(e,t){this.segments=e,this.children=t,this.parent=null,jt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xh(this)}}class yc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ha(this.parameters)),this._parameterMap}toString(){return SR(this)}}function Ls(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let _c=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return new J_},providedIn:"root"}),n})();class J_{parse(e){const t=new V8(e);return new zi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${vc(e.root,!0)}`,r=function R8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Zh(t)}=${Zh(i)}`).join("&"):`${Zh(t)}=${Zh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function M8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const x8=new J_;function Xh(n){return n.segments.map(e=>SR(e)).join("/")}function vc(n,e){if(!n.hasChildren())return Xh(n);if(e){const t=n.children[oe]?vc(n.children[oe],!1):"",r=[];return jt(n.children,(i,s)=>{s!==oe&&r.push(`${s}:${vc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function A8(n,e){let t=[];return jt(n.children,(r,i)=>{i===oe&&(t=t.concat(e(r,i)))}),jt(n.children,(r,i)=>{i!==oe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===oe?[vc(n.children[oe],!1)]:[`${i}:${vc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[oe]?`${Xh(n)}/${t[0]}`:`${Xh(n)}/(${t.join("//")})`}}function bR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zh(n){return bR(n).replace(/%3B/gi,";")}function X_(n){return bR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ef(n){return decodeURIComponent(n)}function TR(n){return ef(n.replace(/\+/g,"%20"))}function SR(n){return`${X_(n.path)}${function N8(n){return Object.keys(n).map(e=>`;${X_(e)}=${X_(n[e])}`).join("")}(n.parameters)}`}const k8=/^[^\/()?;=#]+/;function tf(n){const e=n.match(k8);return e?e[0]:""}const P8=/^[^=?&#]+/,F8=/^[^&#]+/;class V8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new he(e,t)),r}parseSegment(){const e=tf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new A(4009,Yh);return this.capture(e),new yc(ef(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=tf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=tf(this.remaining);i&&(r=i,this.capture(r))}e[ef(t)]=ef(r)}parseQueryParam(e){const t=function O8(n){const e=n.match(P8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function L8(n){const e=n.match(F8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=TR(t),s=TR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=tf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new A(4010,Yh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[oe]:new he([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new A(4011,Yh)}}function Z_(n){return n.segments.length>0?new he([],{[oe]:n}):n}function nf(n){const e={};for(const r of Object.keys(n.children)){const s=nf(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function U8(n){if(1===n.numberOfChildren&&n.children[oe]){const e=n.children[oe];return new he(n.segments.concat(e.segments),e.children)}return n}(new he(n.segments,e))}function Vs(n){return n instanceof zi}const ev=!1;function B8(n,e,t,r,i){if(0===t.length)return fa(e.root,e.root,e.root,r,i);const s=function RR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new NR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return jt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new NR(t,e,r)}(t);return s.toRoot()?fa(e.root,e.root,new he([],{}),r,i):function o(u){const c=function $8(n,e,t,r){if(n.isAbsolute)return new pa(e.root,!0,0);if(-1===r)return new pa(t,t===e.root,0);return function kR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,ev&&"Invalid number of '../'");i=r.segments.length}return new pa(r,!1,i-s)}(t,r+(wc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),l=c.processChildren?ga(c.segmentGroup,c.index,s.commands):tv(c.segmentGroup,c.index,s.commands);return fa(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function wc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ic(n){return"object"==typeof n&&null!=n&&n.outlets}function fa(n,e,t,r,i){let o,s={};r&&jt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=n===e?t:MR(n,e,t);const a=Z_(nf(o));return new zi(a,s,i)}function MR(n,e,t){const r={};return jt(n.children,(i,s)=>{r[s]=i===e?t:MR(i,e,t)}),new he(n.segments,r)}class NR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wc(r[0]))throw new A(4003,ev&&"Root segment cannot have matrix parameters");const i=r.find(Ic);if(i&&i!==vR(r))throw new A(4004,ev&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function tv(n,e,t){if(n||(n=new he([],{})),0===n.segments.length&&n.hasChildren())return ga(n,e,t);const r=function H8(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Ic(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!OR(u,c,o))return s;r+=2}else{if(!OR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new he(n.segments.slice(0,r.pathIndex),{});return s.children[oe]=new he(n.segments.slice(r.pathIndex),n.children),ga(s,0,i)}return r.match&&0===i.length?new he(n.segments,{}):r.match&&!n.hasChildren()?nv(n,e,t):r.match?ga(n,0,i):nv(n,e,t)}function ga(n,e,t){if(0===t.length)return new he(n.segments,{});{const r=function G8(n){return Ic(n[0])?n[0].outlets:{[oe]:n}}(t),i={};if(!r[oe]&&n.children[oe]&&1===n.numberOfChildren&&0===n.children[oe].segments.length){const s=ga(n.children[oe],e,t);return new he(n.segments,s.children)}return jt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=tv(n.children[o],e,s))}),jt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new he(n.segments,i)}}function nv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Ic(s)){const u=z8(s.outlets);return new he(r,u)}if(0===i&&wc(t[0])){r.push(new yc(n.segments[e].path,PR(t[0]))),i++;continue}const o=Ic(s)?s.outlets[oe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&wc(a)?(r.push(new yc(o,PR(a))),i+=2):(r.push(new yc(o,{})),i++)}return new he(r,{})}function z8(n){const e={};return jt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=nv(new he([],{}),0,t))}),e}function PR(n){const e={};return jt(n,(t,r)=>e[r]=`${t}`),e}function OR(n,e,t){return n==t.path&&Pr(e,t.parameters)}const Cc="imperative";class Or{constructor(e,t){this.id=e,this.url=t}}class rv extends Or{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qi extends Or{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rf extends Or{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sf extends Or{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class iv extends Or{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class q8 extends Or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W8 extends Or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K8 extends Or{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Q8 extends Or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y8 extends Or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class X8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Z8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e7{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let s7=(()=>{class n{createUrlTree(t,r,i,s,o,a){return B8(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),a7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(e){return s7.\u0275fac(e)},providedIn:"root"}),n})();class FR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ov(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ov(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=av(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return av(e,this._root).map(t=>t.value)}}function ov(n,e){if(n===e.value)return e;for(const t of e.children){const r=ov(n,t);if(r)return r}return null}function av(n,e){if(n===e.value)return[e];for(const t of e.children){const r=av(n,t);if(r.length)return r.unshift(e),r}return[]}class pi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ma(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class LR extends FR{constructor(e,t){super(e),this.snapshot=t,uv(this,e)}toString(){return this.snapshot.toString()}}function VR(n,e){const t=function u7(n,e){const o=new af([],{},{},"",{},oe,e,null,n.root,-1,{});return new BR("",new pi(o,[]))}(n,e),r=new hr([new yc("",{})]),i=new hr({}),s=new hr({}),o=new hr({}),a=new hr(""),u=new Us(r,i,o,a,s,oe,e,t.root);return u.snapshot=t.root,new LR(new pi(u,[]),t)}class Us{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(pe(c=>c[mc]))??H(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>ha(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>ha(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function UR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function c7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class af{get title(){return this.data?.[mc]}constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ha(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ha(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BR extends FR{constructor(e,t){super(t),this.url=e,uv(this,t)}toString(){return jR(this._root)}}function uv(n,e){e.value._routerState=n,e.children.forEach(t=>uv(n,t))}function jR(n){const e=n.children.length>0?` { ${n.children.map(jR).join(", ")} } `:"";return`${n.value}${e}`}function cv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pr(e.params,t.params)||n.params.next(t.params),function E8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function lv(n,e){const t=Pr(n.params,e.params)&&function S8(n,e){return Ls(n,e)&&n.every((t,r)=>Pr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||lv(n.parent,e.parent))}function Ec(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function d7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ec(n,r,i);return Ec(n,r)})}(n,e,t);return new pi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ec(n,a)),o}}const r=function h7(n){return new Us(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ec(n,s));return new pi(r,i)}}const dv="ngNavigationCancelingError";function $R(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GR(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function GR(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[dv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function HR(n){return zR(n)&&Vs(n.url)}function zR(n){return n&&n[dv]}class f7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Dc,this.attachRef=null}}let Dc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new f7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uf=!1;let hv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=ge(Dc),this.location=ge(ur),this.changeDetector=ge(yh),this.environmentInjector=ge(ri)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,uf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,uf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,uf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new A(4013,uf);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new p7(t,a,i.injector);if(r&&function g7(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hn]}),n})();class p7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Us?this.route:e===Dc?this.childContexts:this.parent.get(e,t)}}let fv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ft({type:n,selectors:[["ng-component"]],standalone:!0,features:[zx],decls:1,vars:0,template:function(t,r){1&t&&Fn(0,"router-outlet")},dependencies:[hv],encapsulation:2}),n})();function qR(n,e){return n.providers&&!n._injector&&(n._injector=uh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function gv(n){const e=n.children&&n.children.map(gv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=fv),t}function Jn(n){return n.outlet||oe}function WR(n,e){const t=n.filter(r=>Jn(r)===e);return t.push(...n.filter(r=>Jn(r)!==e)),t}function bc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class w7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),cv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ma(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),jt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ma(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ma(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ma(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new n7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new e7(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(cv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=bc(i.snapshot),u=a?.get(ju)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class KR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cf{constructor(e,t){this.component=e,this.route=t}}function I7(n,e,t){const r=n._root;return Tc(r,e?e._root:null,t,[r.value])}function ya(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function IB(n){return null!==cd(n)}(n)?e.get(n):n:r}function Tc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ma(e);return n.children.forEach(o=>{(function E7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function D7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ls(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ls(n.url,e.url)||!Pr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lv(n,e)||!Pr(n.queryParams,e.queryParams);default:return!lv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new KR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Tc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cf(a.outlet.component,o))}else o&&Sc(e,a,i),i.canActivateChecks.push(new KR(r)),Tc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),jt(s,(o,a)=>Sc(o,t.getContext(a),i)),i}function Sc(n,e,t){const r=ma(n),i=n.value;jt(r,(s,o)=>{Sc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new cf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ac(n){return"function"==typeof n}function mv(n){return n instanceof Wh||"EmptyError"===n?.name}const lf=Symbol("INITIAL_VALUE");function _a(){return kr(n=>cR(n.map(e=>e.pipe(ji(1),function y8(...n){const e=mu(n);return wt((t,r)=>{(e?Kh(n,t,e):Kh(n,t)).subscribe(r)})}(lf)))).pipe(pe(e=>{for(const t of e)if(!0!==t){if(t===lf)return lf;if(!1===t||t instanceof zi)return t}return!0}),fi(e=>e!==lf),ji(1)))}function QR(n){return function TU(...n){return X0(n)}(en(e=>{if(Vs(e))throw $R(0,e)}),pe(e=>!0===e))}const yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YR(n,e,t,r,i){const s=_v(n,e,t);return s.matched?function j7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?H(i.map(o=>{const a=ya(o,n);return Hi(function M7(n){return n&&Ac(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(_a(),QR()):H(!0)}(r=qR(e,r),e,t).pipe(pe(o=>!0===o?s:{...yv})):H(s)}function _v(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...yv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||C8)(t,n,e);if(!i)return{...yv};const s={};jt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function df(n,e,t,r){if(t.length>0&&function H7(n,e,t){return t.some(r=>hf(n,e,r)&&Jn(r)!==oe)}(n,t,r)){const s=new he(e,function G7(n,e,t,r){const i={};i[oe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Jn(s)!==oe){const o=new he([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Jn(s)]=o}return i}(n,e,r,new he(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function z7(n,e,t){return t.some(r=>hf(n,e,r))}(n,t,r)){const s=new he(n.segments,function $7(n,e,t,r,i){const s={};for(const o of r)if(hf(n,t,o)&&!i[Jn(o)]){const a=new he([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Jn(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new he(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function hf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function JR(n,e,t,r){return!!(Jn(n)===r||r!==oe&&hf(e,t,n))&&("**"===n.path||_v(e,n,t).matched)}function XR(n,e,t){return 0===e.length&&!n.children[t]}const ff=!1;class pf{constructor(e){this.segmentGroup=e||null}}class ZR{constructor(e){this.urlTree=e}}function xc(n){return gc(new pf(n))}function ek(n){return gc(new ZR(n))}class Q7{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=df(this.urlTree.root,[],[],this.config).segmentGroup,t=new he(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,oe).pipe(pe(s=>this.createUrlTree(nf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gi(s=>{if(s instanceof ZR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof pf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,oe).pipe(pe(i=>this.createUrlTree(nf(i),e.queryParams,e.fragment))).pipe(Gi(i=>{throw i instanceof pf?this.noMatchError(i):i}))}noMatchError(e){return new A(4002,ff)}createUrlTree(e,t,r){const i=Z_(e);return new zi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(pe(s=>new he([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ft(i).pipe(Fs(s=>{const o=r.children[s],a=WR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(pe(u=>({segment:u,outlet:s})))}),pR((s,o)=>(s[o.outlet]=o.segment,s),{}),gR())}expandSegment(e,t,r,i,s,o){return ft(r).pipe(Fs(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Gi(c=>{if(c instanceof pf)return H(null);throw c}))),$i(a=>!!a),Gi((a,u)=>{if(mv(a))return XR(t,i,s)?H(new he([],{})):xc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return JR(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):xc(t):xc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ek(s):this.lineralizeSegments(r,s).pipe(Tt(o=>{const a=new he(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=_v(t,i,s);if(!a)return xc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?ek(d):this.lineralizeSegments(i,d).pipe(Tt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=qR(r,e),r.loadChildren?(r._loadedRoutes?H({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(pe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new he(i,{})))):H(new he(i,{}))):YR(t,r,i,e).pipe(kr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Tt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=df(t,a,u,h),m=new he(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(pe(v=>new he(a,v)));if(0===h.length&&0===p.length)return H(new he(a,{}));const y=Jn(r)===s;return this.expandSegment(d,m,h,p,y?oe:s,!0).pipe(pe(E=>new he(a.concat(E.segments),E.children)))})):xc(t)))}getChildConfig(e,t,r){return t.children?H({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?H({routes:t._loadedRoutes,injector:t._loadedInjector}):function B7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?H(!0):H(i.map(o=>{const a=ya(o,n);return Hi(function T7(n){return n&&Ac(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(_a(),QR())}(e,t,r).pipe(Tt(i=>i?this.configLoader.loadChildren(e,t).pipe(en(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function W7(n){return gc(GR(ff,3))}())):H({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return H(r);if(i.numberOfChildren>1||!i.children[oe])return e.redirectTo,gc(new A(4e3,ff));i=i.children[oe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new zi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return jt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return jt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new he(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new A(4001,ff);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class J7{}class eW{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=df(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,oe).pipe(pe(t=>{if(null===t)return null;const r=new af([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new pi(r,t),s=new BR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=UR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ft(Object.keys(r.children)).pipe(Fs(i=>{const s=r.children[i],o=WR(t,i);return this.processSegmentGroup(e,o,s,i)}),pR((i,s)=>i&&s?(i.push(...s),i):null),function w8(n,e=!1){return wt((t,r)=>{let i=0;t.subscribe(ht(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Qh(null),gR(),pe(i=>{if(null===i)return null;const s=nk(i);return function tW(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return ft(t).pipe(Fs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),$i(o=>!!o),Gi(o=>{if(mv(o))return XR(r,i,s)?H([]):H(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!JR(t,r,i,s))return H(null);let o;if("**"===t.path){const a=i.length>0?vR(i).parameters:{},u=ik(r)+i.length;o=H({snapshot:new af(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sk(t),Jn(t),t.component??t._loadedComponent??null,t,rk(r),u,ok(t)),consumedSegments:[],remainingSegments:[]})}else o=YR(r,t,i,e).pipe(pe(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=ik(r)+u.length;return{snapshot:new af(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sk(t),Jn(t),t.component??t._loadedComponent??null,t,rk(r),d,ok(t)),consumedSegments:u,remainingSegments:c}}));return o.pipe(kr(a=>{if(null===a)return H(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function nW(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=df(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(pe(y=>null===y?null:[new pi(u,y)]));if(0===h.length&&0===p.length)return H([new pi(u,[])]);const m=Jn(t)===s;return this.processSegment(d,h,f,p,m?oe:s).pipe(pe(y=>null===y?null:[new pi(u,y)]))}))}}function rW(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function nk(n){const e=[],t=new Set;for(const r of n){if(!rW(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=nk(r.children);e.push(new pi(r.value,i))}return e.filter(r=>!t.has(r))}function rk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ik(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function sk(n){return n.data||{}}function ok(n){return n.resolve||{}}function ak(n){return"string"==typeof n.title||null===n.title}function vv(n){return kr(e=>{const t=n(e);return t?ft(t).pipe(pe(()=>e)):H(e)})}const va=new j("ROUTES");let wv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ge(P1)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return H(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hi(t.loadComponent()).pipe(pe(ck),en(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Y_(()=>{this.componentLoaders.delete(t)})),i=new hR(r,()=>new Kr).pipe(K_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=_R(u.get(va,[],K.Self|K.Optional)));return{routes:c.map(gv),injector:u}}),Y_(()=>{this.childrenLoaders.delete(r)})),o=new hR(s,()=>new Kr).pipe(K_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Hi(t()).pipe(pe(ck),Tt(r=>r instanceof Gx||Array.isArray(r)?H(r):ft(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ck(n){return function dW(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let mf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Kr,this.configLoader=ge(wv),this.environmentInjector=ge(ri),this.urlSerializer=ge(_c),this.rootContexts=ge(Dc),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new X8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new J8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(r=>0!==r.id),pe(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),kr(r=>{let i=!1,s=!1;return H(r).pipe(en(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kr(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new sf(o.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),vr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return lk(o.source)&&(t.browserUrlTree=o.extractedUrl),H(o).pipe(kr(l=>{const d=this.transitions?.getValue();return this.events.next(new rv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?vr:Promise.resolve(l)}),function Y7(n,e,t,r){return kr(i=>function K7(n,e,t,r,i){return new Q7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(pe(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),en(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function sW(n,e,t,r,i){return Tt(s=>function Z7(n,e,t,r,i,s,o="emptyOnly"){return new eW(n,e,t,r,i,o,s).recognize().pipe(kr(a=>null===a?function X7(n){return new nt(e=>e.error(n))}(new J7):H(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(pe(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),en(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new q8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new rv(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=VR(d,this.rootComponentType).snapshot;return H(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new sf(o.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),vr}}),en(o=>{const a=new W8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),pe(o=>r={...o,guards:I7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function R7(n,e){return Tt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?H({...t,guardsResult:!0}):function k7(n,e,t,r){return ft(n).pipe(Tt(i=>function U7(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?H(s.map(a=>{const u=bc(e)??i,c=ya(a,u);return Hi(function x7(n){return n&&Ac(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe($i())})).pipe(_a()):H(!0)}(i.component,i.route,t,e,r)),$i(i=>!0!==i,!0))}(o,r,i,n).pipe(Tt(a=>a&&function b7(n){return"boolean"==typeof n}(a)?function P7(n,e,t,r){return ft(e).pipe(Fs(i=>Kh(function F7(n,e){return null!==n&&e&&e(new Z8(n)),H(!0)}(i.route.parent,r),function O7(n,e){return null!==n&&e&&e(new t7(n)),H(!0)}(i.route,r),function V7(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function C7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>dR(()=>H(o.guards.map(u=>{const c=bc(o.node)??t,l=ya(u,c);return Hi(function A7(n){return n&&Ac(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe($i())})).pipe(_a())));return H(s).pipe(_a())}(n,i.path,t),function L7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return H(!0);const i=r.map(s=>dR(()=>{const o=bc(e)??t,a=ya(s,o);return Hi(function S7(n){return n&&Ac(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe($i())}));return H(i).pipe(_a())}(n,i.route,t))),$i(i=>!0!==i,!0))}(r,s,n,e):H(a)),pe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),en(o=>{if(r.guardsResult=o.guardsResult,Vs(o.guardsResult))throw $R(0,o.guardsResult);const a=new K8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),fi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),vv(o=>{if(o.guards.canActivateChecks.length)return H(o).pipe(en(a=>{const u=new Q8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),kr(a=>{let u=!1;return H(a).pipe(function oW(n,e){return Tt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let s=0;return ft(i).pipe(Fs(o=>function aW(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!ak(i)&&(s[mc]=i.title),function uW(n,e,t,r){const i=function cW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return H({});const s={};return ft(i).pipe(Tt(o=>function lW(n,e,t,r){const i=bc(e)??r,s=ya(n,i);return Hi(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe($i(),en(a=>{s[o]=a}))),Q_(1),mR(s),Gi(o=>mv(o)?vr:gc(o)))}(s,n,e,r).pipe(pe(o=>(n._resolvedData=o,n.data=UR(n,t).resolve,i&&ak(i)&&(n.data[mc]=i.title),null)))}(o.route,r,n,e)),en(()=>s++),Q_(1),Tt(o=>s===i.length?H(t):vr))})}(t.paramsInheritanceStrategy,this.environmentInjector),en({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),en(a=>{const u=new Y8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),vv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(en(l=>{u.component=l}),pe(()=>{})));for(const l of u.children)c.push(...a(l));return c};return cR(a(o.targetSnapshot.root)).pipe(Qh(),ji(1))}),vv(()=>this.afterPreactivation()),pe(o=>{const a=function l7(n,e,t){const r=Ec(n,e._root,t?t._root:void 0);return new LR(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),en(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>pe(r=>(new w7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),ji(1),en({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new qi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Y_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Gi(o=>{if(s=!0,zR(o)){HR(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new rf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),HR(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||lk(r.source)};t.scheduleNavigation(u,Cc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new iv(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return vr}))}))}cancelNavigationTransition(t,r,i){const s=new rf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lk(n){return n!==Cc}let dk=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[mc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(hW)},providedIn:"root"}),n})(),hW=(()=>{class n extends dk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(Q(XM))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(gW)},providedIn:"root"}),n})();class pW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let gW=(()=>{class n extends pW{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}(),n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yf=new j("",{providedIn:"root",factory:()=>({})});let yW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(_W)},providedIn:"root"}),n})(),_W=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vW(n){throw n}function wW(n,e,t){return e.parse("/")}const IW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $t=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ge(Yz),this.isNgZoneEnabled=!1,this.options=ge(yf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||vW,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ge(yW),this.routeReuseStrategy=ge(fW),this.urlCreationStrategy=ge(a7),this.titleStrategy=ge(dk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_R(ge(va,{optional:!0})??[]),this.navigationTransitions=ge(mf),this.urlSerializer=ge(_c),this.location=ge(r_),this.isNgZoneEnabled=ge(it)instanceof it&&it.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new zi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=VR(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Cc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(gv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Vs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Cc,null,r)}navigate(t,r={skipLocationChange:!1}){return function EW(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new A(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...IW}:!1===r?{...CW}:r,Vs(t))return IR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return IR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wa=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Kr;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof qi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=aa(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=aa(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=aa(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function gS(n,e,t){return function K$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?pS:fS}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(C($t),C(Us),function Md(n){return function wj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(rT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Vt(),n)}("tabindex"),C(ii),C(Pn),C(Rs))},n.\u0275dir=J({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&X("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&xr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Hn]}),n})();class hk{}let TW=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(fi(t=>t instanceof qi),Fs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=uh(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ft(i).pipe(Io())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):H(null);const s=i.pipe(Tt(o=>null===o?H(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ft([s,this.loader.loadComponent(r)]).pipe(Io()):s})}}return n.\u0275fac=function(t){return new(t||n)(Q($t),Q(P1),Q(ri),Q(hk),Q(wv))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cv=new j("");let fk=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof rv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function qS(){throw new Error("invalid")}()},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();var Ln=(()=>((Ln=Ln||{})[Ln.COMPLETE=0]="COMPLETE",Ln[Ln.FAILED=1]="FAILED",Ln[Ln.REDIRECTING=2]="REDIRECTING",Ln))();const Ia=!1;function Wi(n,e){return{\u0275kind:n,\u0275providers:e}}const Ev=new j("",{providedIn:"root",factory:()=>!1});function gk(){const n=ge(Tr);return e=>{const t=n.get(gh);if(e!==t.components[0])return;const r=n.get($t),i=n.get(mk);1===n.get(Dv)&&r.initialNavigation(),n.get(yk,null,K.Optional)?.setUpPreloading(),n.get(Cv,null,K.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const mk=new j(Ia?"bootstrap done indicator":"",{factory:()=>new Kr}),Dv=new j(Ia?"initial navigation":"",{providedIn:"root",factory:()=>1});function NW(){let n=[];return n=Ia?[{provide:jd,multi:!0,useFactory:()=>{const e=ge($t);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function r7(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Wi(1,n)}const yk=new j(Ia?"router preloader":"");function RW(n){return Wi(0,[{provide:yk,useExisting:TW},{provide:hk,useExisting:n}])}const Mc=!1,_k=new j(Mc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),kW=[r_,{provide:_c,useClass:J_},$t,Dc,{provide:Us,useFactory:function pk(n){return n.routerState.root},deps:[$t]},wv,Mc?{provide:Ev,useValue:!0}:[]];function PW(){return new $1("Router",$t)}let vk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[kW,Mc&&r?.enableTracing?NW().\u0275providers:[],{provide:va,multi:!0,useValue:t},{provide:_k,useFactory:VW,deps:[[$t,new Nu,new Ru]]},{provide:yf,useValue:r||{}},r?.useHash?{provide:Rs,useClass:L5}:{provide:Rs,useClass:dM},{provide:Cv,useFactory:()=>{const n=ge(xM),e=ge(it),t=ge(yf),r=ge(mf),i=ge(_c);return t.scrollOffset&&n.setOffset(t.scrollOffset),new fk(i,r,n,e,t)}},r?.preloadingStrategy?RW(r.preloadingStrategy).\u0275providers:[],{provide:$1,multi:!0,useFactory:PW},r?.initialNavigation?UW(r):[],[{provide:wk,useFactory:gk},{provide:j1,multi:!0,useExisting:wk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:va,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(Q(_k,8))},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({imports:[fv]}),n})();function VW(n){if(Mc&&n)throw new A(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function UW(n){return["disabled"===n.initialNavigation?Wi(3,[{provide:hh,multi:!0,useFactory:()=>{const e=ge($t);return()=>{e.setUpLocationChangeListener()}}},{provide:Dv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Wi(2,[{provide:Dv,useValue:0},{provide:hh,multi:!0,deps:[Tr],useFactory:e=>{const t=e.get(O5,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get($t),s=e.get(mk);(function SW(n,e){n.events.pipe(fi(t=>t instanceof qi||t instanceof rf||t instanceof iv||t instanceof sf),pe(t=>t instanceof qi||t instanceof sf?Ln.COMPLETE:t instanceof rf&&(0===t.code||1===t.code)?Ln.REDIRECTING:Ln.FAILED),fi(t=>t!==Ln.REDIRECTING),ji(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(mf).afterPreactivation=()=>(r(!0),s.closed?H(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const wk=new j(Mc?"Router Initializer":"");function Ik(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){Ik(s,r,i,o,a,"next",u)}function a(u){Ik(s,r,i,o,a,"throw",u)}o(void 0)})}}const Ck=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Ek={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ck(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new zW;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _f=function(n){return function(n){const e=Ck(n);return Ek.encodeByteArray(e,!0)}(n).replace(/\./g,"")},vf=function(n){try{return Ek.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},wf=()=>{try{return function KW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},bk=n=>{var e,t;return null===(t=null===(e=wf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},Tk=()=>{var n;return null===(n=wf())||void 0===n?void 0:n.config},Sk=n=>{var e;return null===(e=wf())||void 0===e?void 0:e[`_${n}`]};class Ak{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xk(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Mk(){try{return"object"==typeof indexedDB}catch{return!1}}function Nk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}class fr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bs.prototype.create)}}class Bs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function oK(n,e){return n.replace(aK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new fr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const aK=/\{\$([^}]+)}/g;function Nc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(kk(s)&&kk(o)){if(!Nc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function kk(n){return null!==n&&"object"==typeof n}function Rc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class lK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function dK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Tv),void 0===i.error&&(i.error=Tv),void 0===i.complete&&(i.complete=Tv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tv(){}const hK=1e3,fK=2,pK=144e5,gK=.5;function Pk(n,e=hK,t=fK){const r=e*Math.pow(t,n),i=Math.round(gK*r*(Math.random()-.5)*2);return Math.min(pK,r+i)}function fn(n){return n&&n._delegate?n._delegate:n}class pr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const js="[DEFAULT]";class yK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ak;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function vK(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===js?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class wK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Av=[];var ve=(()=>{return(n=ve||(ve={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ve;var n})();const Ok={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},IK=ve.INFO,CK={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},EK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=CK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Cf{constructor(e){this.name=e,this._logLevel=IK,this._logHandler=EK,this._userLogHandler=null,Av.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ok[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const DK=(n,e)=>e.some(t=>n instanceof t);let Fk,Lk;const Vk=new WeakMap,xv=new WeakMap,Uk=new WeakMap,Mv=new WeakMap,Nv=new WeakMap;let Rv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return xv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Uk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function NK(n){return"function"==typeof n?function MK(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function TK(){return Lk||(Lk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(kv(this),e),Ki(Vk.get(this))}:function(...e){return Ki(n.apply(kv(this),e))}:function(e,...t){const r=n.call(kv(this),e,...t);return Uk.set(r,e.sort?e.sort():[e]),Ki(r)}}(n):(n instanceof IDBTransaction&&function AK(n){if(xv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});xv.set(n,e)}(n),DK(n,function bK(){return Fk||(Fk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Rv):n)}function Ki(n){if(n instanceof IDBRequest)return function SK(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ki(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Vk.set(t,n)}).catch(()=>{}),Nv.set(e,n),e}(n);if(Mv.has(n))return Mv.get(n);const e=NK(n);return e!==n&&(Mv.set(n,e),Nv.set(e,n)),e}const kv=n=>Nv.get(n),kK=["get","getKey","getAll","getAllKeys","count"],PK=["put","add","delete","clear"],Pv=new Map;function Bk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Pv.get(e))return Pv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=PK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!kK.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Pv.set(e,s),s}!function xK(n){Rv=n(Rv)}(n=>({...n,get:(e,t,r)=>Bk(e,t)||n.get(e,t,r),has:(e,t)=>!!Bk(e,t)||n.has(e,t)}));class OK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function FK(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Ov="@firebase/app",$s=new Cf("@firebase/app"),Ef="[DEFAULT]",uQ={[Ov]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gs=new Map,Df=new Map;function cQ(n,e){try{n.container.addComponent(e)}catch(t){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fr(n){const e=n.name;if(Df.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,n);for(const t of Gs.values())cQ(t,n);return!0}function Qi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const gi=new Bs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const Ca="9.23.0";function $k(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ef,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw gi.create("bad-app-name",{appName:String(i)});if(t||(t=Tk()),!t)throw gi.create("no-options");const s=Gs.get(i);if(s){if(Nc(t,s.options)&&Nc(r,s.config))return s;throw gi.create("duplicate-app",{appName:i})}const o=new wK(i);for(const u of Df.values())o.addComponent(u);const a=new dQ(t,r,o);return Gs.set(i,a),a}function Fv(n=Ef){const e=Gs.get(n);if(!e&&n===Ef&&Tk())return $k();if(!e)throw gi.create("no-app",{appName:n});return e}function Xn(n,e,t){var r;let i=null!==(r=uQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void $s.warn(a.join(" "))}Fr(new pr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const hQ="firebase-heartbeat-database",fQ=1,kc="firebase-heartbeat-store";let Vv=null;function Gk(){return Vv||(Vv=function RK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ki(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ki(o.result),u.oldVersion,u.newVersion,Ki(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(hQ,fQ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(kc)}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),Vv}function Uv(){return(Uv=g(function*(n){try{return yield(yield Gk()).transaction(kc).objectStore(kc).get(zk(n))}catch(e){if(e instanceof fr)$s.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e?.message});$s.warn(t.message)}}})).apply(this,arguments)}function Hk(n,e){return Bv.apply(this,arguments)}function Bv(){return(Bv=g(function*(n,e){try{const r=(yield Gk()).transaction(kc,"readwrite");yield r.objectStore(kc).put(e,zk(n)),yield r.done}catch(t){if(t instanceof fr)$s.warn(t.message);else{const r=gi.create("idb-set",{originalErrorMessage:t?.message});$s.warn(r.message)}}})).apply(this,arguments)}function zk(n){return`${n.name}!${n.options.appId}`}class yQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vQ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=qk(),{heartbeatsToSend:r,unsentEntries:i}=function _Q(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wk(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Wk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=_f(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function qk(){return(new Date).toISOString().substring(0,10)}class vQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Mk()&&Nk().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function pQ(n){return Uv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Hk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Hk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Wk(n){return _f(JSON.stringify({version:2,heartbeats:n})).length}!function wQ(n){Fr(new pr("platform-logger",e=>new OK(e),"PRIVATE")),Fr(new pr("heartbeat",e=>new yQ(e),"PRIVATE")),Xn(Ov,"0.9.13",n),Xn(Ov,"0.9.13","esm2017"),Xn("fire-js","")}("");var P,IQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gr={},jv=jv||{},ee=IQ||self;function bf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $v="closure_uid_"+(1e9*Math.random()>>>0),EQ=0;function DQ(n,e,t){return n.call.apply(n.bind,arguments)}function bQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function tn(n,e,t){return(tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?DQ:bQ).apply(null,arguments)}function Tf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function At(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Yi(){this.s=this.s,this.o=this.o}Yi.prototype.s=!1,Yi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function CQ(n){Object.prototype.hasOwnProperty.call(n,$v)&&n[$v]||(n[$v]=++EQ)}(this)},Yi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Gv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Qk(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(bf(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function nn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};var SQ=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return n}();function Oc(n){return/^[\s\xa0]*$/.test(n)}function Sf(){var n=ee.navigator;return n&&(n=n.userAgent)?n:""}function Lr(n){return-1!=Sf().indexOf(n)}function Hv(n){return Hv[" "](n),n}Hv[" "]=function(){};var qv,n,xQ=Lr("Opera"),Ea=Lr("Trident")||Lr("MSIE"),Yk=Lr("Edge"),zv=Yk||Ea,Jk=Lr("Gecko")&&!(-1!=Sf().toLowerCase().indexOf("webkit")&&!Lr("Edge"))&&!(Lr("Trident")||Lr("MSIE"))&&!Lr("Edge"),MQ=-1!=Sf().toLowerCase().indexOf("webkit")&&!Lr("Edge");function Xk(){var n=ee.document;return n?n.documentMode:void 0}e:{var Wv="",Kv=(n=Sf(),Jk?/rv:([^\);]+)(\)|;)/.exec(n):Yk?/Edge\/([\d\.]+)/.exec(n):Ea?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):MQ?/WebKit\/(\S+)/.exec(n):xQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Kv&&(Wv=Kv?Kv[1]:""),Ea){var Qv=Xk();if(null!=Qv&&Qv>parseFloat(Wv)){qv=String(Qv);break e}}qv=Wv}var NQ=ee.document&&Ea&&(Xk()||parseInt(qv,10))||void 0;function Fc(n,e){if(nn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Jk){e:{try{Hv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:RQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fc.$.h.call(this)}}At(Fc,nn);var RQ={2:"touch",3:"pen",4:"mouse"};Fc.prototype.h=function(){Fc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Lc="closure_listenable_"+(1e6*Math.random()|0),kQ=0;function PQ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++kQ,this.fa=this.ia=!1}function Af(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Jv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eP(n){const e={};for(const t in n)e[t]=n[t];return e}const tP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<tP.length;s++)t=tP[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function xf(n){this.src=n,this.g={},this.h=0}function Xv(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Kk(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Af(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Zv(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}xf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=Zv(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new PQ(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var ew="closure_lm_"+(1e6*Math.random()|0),tw={};function rP(n,e,t,r,i){if(r&&r.once)return sP(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)rP(n,e[s],t,r,i);return null}return t=sw(t),n&&n[Lc]?n.O(e,t,Pc(r)?!!r.capture:!!r,i):iP(n,e,t,!1,r,i)}function iP(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Pc(i)?!!i.capture:!!i,a=rw(n);if(a||(n[ew]=a=new xf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function FQ(){const e=LQ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)SQ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(aP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sP(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)sP(n,e[s],t,r,i);return null}return t=sw(t),n&&n[Lc]?n.P(e,t,Pc(r)?!!r.capture:!!r,i):iP(n,e,t,!0,r,i)}function oP(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)oP(n,e[s],t,r,i);else r=Pc(r)?!!r.capture:!!r,t=sw(t),n&&n[Lc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Zv(s=n.g[e],t,r,i))&&(Af(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=rw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Zv(e,t,r,i)),(t=-1<n?e[n]:null)&&nw(t))}function nw(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Lc])Xv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(aP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=rw(e))?(Xv(t,n),0==t.h&&(t.src=null,e[ew]=null)):Af(n)}}}function aP(n){return n in tw?tw[n]:tw[n]="on"+n}function LQ(n,e){if(n.fa)n=!0;else{e=new Fc(e,this);var t=n.listener,r=n.la||n.src;n.ia&&nw(n),n=t.call(r,e)}return n}function rw(n){return(n=n[ew])instanceof xf?n:null}var iw="__closure_events_fn_"+(1e9*Math.random()>>>0);function sw(n){return"function"==typeof n?n:(n[iw]||(n[iw]=function(e){return n.handleEvent(e)}),n[iw])}function xt(){Yi.call(this),this.i=new xf(this),this.S=this,this.J=null}function Gt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new nn(e,n);else if(e instanceof nn)e.target=e.target||n;else{var i=e;nP(e=new nn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Mf(o,r,!0,e)&&i}if(i=Mf(o=e.g=n,r,!0,e)&&i,i=Mf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Mf(o=e.g=t[s],r,!1,e)&&i}function Mf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&Xv(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}At(xt,Yi),xt.prototype[Lc]=!0,xt.prototype.removeEventListener=function(n,e,t,r){oP(this,n,e,t,r)},xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Af(t[r]);delete n.g[e],n.h--}}this.J=null},xt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},xt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ow=ee.JSON.stringify;function UQ(){var n=aw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var uP=new class VQ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new jQ,n=>n.reset());class jQ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $Q(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function GQ(n){ee.setTimeout(()=>{throw n},0)}let Vc,Uc=!1,aw=new class BQ{constructor(){this.h=this.g=null}add(e,t){const r=uP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},cP=()=>{const n=ee.Promise.resolve(void 0);Vc=()=>{n.then(HQ)}};var HQ=()=>{for(var n;n=UQ();){try{n.h.call(n.g)}catch(t){GQ(t)}var e=uP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Uc=!1};function Nf(n,e){xt.call(this),this.h=n||1,this.g=e||ee,this.j=tn(this.qb,this),this.l=Date.now()}function uw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function cw(n,e,t){if("function"==typeof n)t&&(n=tn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=tn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ee.setTimeout(n,e||0)}function lP(n){n.g=cw(()=>{n.g=null,n.i&&(n.i=!1,lP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}At(Nf,xt),(P=Nf.prototype).ga=!1,P.T=null,P.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(uw(this),this.start()))}},P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.N=function(){Nf.$.N.call(this),uw(this),delete this.g};class zQ extends Yi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lP(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bc(n){Yi.call(this),this.h=n,this.g={}}At(Bc,Yi);var dP=[];function hP(n,e,t,r){Array.isArray(t)||(t&&(dP[0]=t.toString()),t=dP);for(var i=0;i<t.length;i++){var s=rP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function fP(n){Jv(n.g,function(e,t){this.g.hasOwnProperty(t)&&nw(e)},n),n.g={}}function Rf(){this.g=!0}function Da(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function QQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ow(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Bc.prototype.N=function(){Bc.$.N.call(this),fP(this)},Bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rf.prototype.Ea=function(){this.g=!1},Rf.prototype.info=function(){};var Hs={},pP=null;function kf(){return pP=pP||new xt}function gP(n){nn.call(this,Hs.Ta,n)}function jc(n){const e=kf();Gt(e,new gP(e))}function mP(n,e){nn.call(this,Hs.STAT_EVENT,n),this.stat=e}function pn(n){const e=kf();Gt(e,new mP(e,n))}function yP(n,e){nn.call(this,Hs.Ua,n),this.size=e}function $c(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){n()},e)}Hs.Ta="serverreachability",At(gP,nn),Hs.STAT_EVENT="statevent",At(mP,nn),Hs.Ua="timingevent",At(yP,nn);var Pf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_P={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lw(){}function wP(){}lw.prototype.h=null;var fw,Gc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dw(){nn.call(this,"d")}function hw(){nn.call(this,"c")}function Of(){}function Hc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Bc(this),this.P=YQ,this.V=new Nf(n=zv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new IP}function IP(){this.i=null,this.g="",this.h=!1}At(dw,nn),At(hw,nn),At(Of,lw),Of.prototype.g=function(){return new XMLHttpRequest},Of.prototype.i=function(){return{}},fw=new Of;var YQ=45e3,pw={},Ff={};function gw(n,e,t){n.L=1,n.v=Bf(mi(e)),n.s=t,n.S=!0,CP(n,null)}function CP(n,e){n.G=Date.now(),zc(n),n.A=mi(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),RP(t.i,"t",r),n.C=0,t=n.l.J,n.h=new IP,n.g=nO(n.l,t?e:null,!n.s),0<n.O&&(n.M=new zQ(tn(n.Pa,n,n.g),n.O)),hP(n.U,n.g,"readystatechange",n.nb),e=n.I?eP(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),jc(),function qQ(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function EP(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function DP(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=JQ(n,t),i==Ff){4==e&&(n.o=4,pn(14),r=!1),Da(n.j,n.m,null,"[Incomplete Response]");break}if(i==pw){n.o=4,pn(15),Da(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Da(n.j,n.m,i,null),mw(n,i)}EP(n)&&i!=Ff&&i!=pw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,pn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ew(e),e.M=!0,pn(11))):(Da(n.j,n.m,t,"[Invalid Chunked Response]"),zs(n),qc(n))}function JQ(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ff:(t=Number(e.substring(t,r)),isNaN(t)?pw:(r+=1)+t>e.length?Ff:(e=e.slice(r,r+t),n.C=r+t,e))}function zc(n){n.Y=Date.now()+n.P,bP(n,n.P)}function bP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$c(tn(n.lb,n),e)}function Lf(n){n.B&&(ee.clearTimeout(n.B),n.B=null)}function qc(n){0==n.l.H||n.J||XP(n.l,n)}function zs(n){Lf(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,uw(n.V),fP(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function mw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||yw(t.i,n)))if(!n.K&&yw(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;qf(t),Hf(t)}Cw(t),pn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=$c(tn(t.ib,t),6e3));if(1>=OP(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ws(t,11)}else if((n.K||t.g==n)&&qf(t),!Oc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(_w(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Be(r.I,r.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=tO(r,r.J?r.pa:null,r.Y),o.K){FP(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Lf(a),zc(a)),r.g=o}else YP(r);0<t.j.length&&zf(t)}else"stop"!=c[0]&&"close"!=c[0]||Ws(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ws(t,7):Iw(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}jc()}catch{}}function TP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(bf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ZQ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(bf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function XQ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(bf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(P=Hc.prototype).setTimeout=function(n){this.P=n},P.nb=function(n){n=n.target;const e=this.M;e&&3==Vr(n)?e.l():this.Pa(n)},P.Pa=function(n){try{if(n==this.g)e:{const l=Vr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||zv||this.g&&(this.h.h||this.g.ja()||HP(this.g)))){this.J||4!=l||7==e||jc(),Lf(this);var t=this.g.da();this.ca=t;t:if(EP(this)){var r=HP(this.g);n="";var i=r.length,s=4==Vr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zs(this),qc(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function WQ(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oc(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,pn(12),zs(this),qc(this);break e}Da(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mw(this,t)}this.S?(DP(this,l,o),zv&&this.i&&3==l&&(hP(this.U,this.V,"tick",this.mb),this.V.start())):(Da(this.j,this.m,o,null),mw(this,o)),4==l&&zs(this),this.i&&!this.J&&(4==l?XP(this.l,this):(this.i=!1,zc(this)))}else(function yY(n){const e={};n=(n.g&&2<=Vr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Oc(n[r]))continue;var t=$Q(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function OQ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,pn(12)):(this.o=0,pn(13)),zs(this),qc(this)}}}catch{}},P.mb=function(){if(this.g){var n=Vr(this.g),e=this.g.ja();this.C<e.length&&(Lf(this),DP(this,n,e),this.i&&4!=n&&zc(this))}},P.cancel=function(){this.J=!0,zs(this)},P.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function KQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(jc(),pn(17)),zs(this),this.o=2,qc(this)):bP(this,this.Y-n)};var SP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qs(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qs){this.h=n.h,Vf(this,n.j),this.s=n.s,this.g=n.g,Uf(this,n.m),this.l=n.l;var e=n.i,t=new Qc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),AP(this,t),this.o=n.o}else n&&(e=String(n).match(SP))?(this.h=!1,Vf(this,e[1]||"",!0),this.s=Wc(e[2]||""),this.g=Wc(e[3]||"",!0),Uf(this,e[4]),this.l=Wc(e[5]||"",!0),AP(this,e[6]||"",!0),this.o=Wc(e[7]||"")):(this.h=!1,this.i=new Qc(null,this.h))}function mi(n){return new qs(n)}function Vf(n,e,t){n.j=t?Wc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Uf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function AP(n,e,t){e instanceof Qc?(n.i=e,function oY(n,e){e&&!n.j&&(Ji(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(MP(this,r),RP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Kc(e,iY)),n.i=new Qc(e,n.h))}function Be(n,e,t){n.i.set(e,t)}function Bf(n){return Be(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Kc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tY),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Kc(e,xP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Kc(e,xP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Kc(t,"/"==t.charAt(0)?rY:nY,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Kc(t,sY)),n.join("")};var xP=/[#\/\?@]/g,nY=/[#\?:]/g,rY=/[#\?]/g,iY=/[#\?@]/g,sY=/#/g;function Qc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ji(n){n.g||(n.g=new Map,n.h=0,n.i&&function eY(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function MP(n,e){Ji(n),e=ba(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function NP(n,e){return Ji(n),e=ba(n,e),n.g.has(e)}function RP(n,e,t){MP(n,e),0<t.length&&(n.i=null,n.g.set(ba(n,e),Gv(t)),n.h+=t.length)}function ba(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kP(n){this.l=n||uY,n=ee.PerformanceNavigationTiming?0<(n=ee.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=Qc.prototype).add=function(n,e){Ji(this),this.i=null,n=ba(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},P.forEach=function(n,e){Ji(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},P.ta=function(){Ji(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},P.Z=function(n){Ji(this);let e=[];if("string"==typeof n)NP(this,n)&&(e=e.concat(this.g.get(ba(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},P.set=function(n,e){return Ji(this),this.i=null,NP(this,n=ba(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},P.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var uY=10;function PP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function OP(n){return n.h?1:n.g?n.g.size:0}function yw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function _w(n,e){n.g?n.g.add(e):n.h=e}function FP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function LP(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Gv(n.i)}kP.prototype.cancel=function(){if(this.i=LP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var cY=class{stringify(n){return ee.JSON.stringify(n,void 0)}parse(n){return ee.JSON.parse(n,void 0)}};function lY(){this.g=new cY}function dY(n,e,t){const r=t||"";try{TP(n,function(i,s){let o=i;Pc(i)&&(o=ow(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Yc(n){this.l=n.fc||null,this.j=n.ob||!1}function $f(n,e){xt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=vw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(Yc,lw),Yc.prototype.g=function(){return new $f(this.l,this.j)},Yc.prototype.i=function(n){return function(){return n}}({}),At($f,xt);var vw=0;function VP(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Jc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Xc(n)}function Xc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(P=$f.prototype).open=function(n,e){if(this.readyState!=vw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Xc(this)},P.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jc(this)),this.readyState=vw},P.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Xc(this)),this.g&&(this.readyState=3,Xc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VP(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},P.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Jc(this):Xc(this),3==this.readyState&&VP(this)}},P.Za=function(n){this.g&&(this.response=this.responseText=n,Jc(this))},P.Ya=function(n){this.g&&(this.response=n,Jc(this))},P.ka=function(){this.g&&Jc(this)},P.setRequestHeader=function(n,e){this.v.append(n,e)},P.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($f.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fY=ee.JSON.parse;function Ze(n){xt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UP,this.L=this.M=!1}At(Ze,xt);var UP="",pY=/^https?$/i,gY=["POST","PUT"];function BP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jP(n),Gf(n)}function jP(n){n.F||(n.F=!0,Gt(n,"complete"),Gt(n,"error"))}function $P(n){if(n.h&&typeof jv<"u"&&(!n.C[1]||4!=Vr(n)||2!=n.da()))if(n.v&&4==Vr(n))cw(n.La,0,n);else if(Gt(n,"readystatechange"),4==Vr(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(SP)[1]||null;!i&&ee.self&&ee.self.location&&(i=ee.self.location.protocol.slice(0,-1)),r=!pY.test(i?i.toLowerCase():"")}t=r}if(t)Gt(n,"complete"),Gt(n,"success");else{n.m=6;try{var s=2<Vr(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",jP(n)}}finally{Gf(n)}}}function Gf(n,e){if(n.g){GP(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Gt(n,"ready");try{t.onreadystatechange=r}catch{}}}function GP(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ee.clearTimeout(n.A),n.A=null)}function Vr(n){return n.g?n.g.readyState:0}function HP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case UP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function zP(n){let e="";return Jv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ww(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=zP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Be(n,e,t))}function Zc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function qP(n){this.Ga=0,this.j=[],this.l=new Rf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zc("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zc("baseRetryDelayMs",5e3,n),this.hb=Zc("retryDelaySeedMs",1e4,n),this.eb=Zc("forwardChannelMaxRetries",2,n),this.xa=Zc("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new kP(n&&n.concurrentRequestLimit),this.Ja=new lY,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Iw(n){if(WP(n),3==n.H){var e=n.W++,t=mi(n.I);if(Be(t,"SID",n.K),Be(t,"RID",e),Be(t,"TYPE","terminate"),el(n,t),(e=new Hc(n,n.l,e)).L=2,e.v=Bf(mi(t)),t=!1,ee.navigator&&ee.navigator.sendBeacon)try{t=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=nO(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zc(e)}eO(n)}function Hf(n){n.g&&(Ew(n),n.g.cancel(),n.g=null)}function WP(n){Hf(n),n.u&&(ee.clearTimeout(n.u),n.u=null),qf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ee.clearTimeout(n.m),n.m=null)}function zf(n){if(!PP(n.i)&&!n.m){n.m=!0;var e=n.Na;Vc||cP(),Uc||(Vc(),Uc=!0),aw.add(e,n),n.C=0}}function KP(n,e){var t;t=e?e.m:n.W++;const r=mi(n.I);Be(r,"SID",n.K),Be(r,"RID",t),Be(r,"AID",n.V),el(n,r),n.o&&n.s&&ww(r,n.o,n.s),t=new Hc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=QP(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),_w(n.i,t),gw(t,r,e)}function el(n,e){n.na&&Jv(n.na,function(t,r){Be(e,r,t)}),n.h&&TP({},function(t,r){Be(e,r,t)})}function QP(n,e,t){t=Math.min(n.j.length,t);var r=n.h?tn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{dY(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function YP(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Vc||cP(),Uc||(Vc(),Uc=!0),aw.add(e,n),n.A=0}}function Cw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=$c(tn(n.Ma,n),ZP(n,n.A)),n.A++,0))}function Ew(n){null!=n.B&&(ee.clearTimeout(n.B),n.B=null)}function JP(n){n.g=new Hc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=mi(n.wa);Be(e,"RID","rpc"),Be(e,"SID",n.K),Be(e,"AID",n.V),Be(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Be(e,"TO",n.qa),Be(e,"TYPE","xmlhttp"),el(n,e),n.o&&n.s&&ww(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Bf(mi(e)),t.s=null,t.S=!0,CP(t,n)}function qf(n){null!=n.v&&(ee.clearTimeout(n.v),n.v=null)}function XP(n,e){var t=null;if(n.g==e){qf(n),Ew(n),n.g=null;var r=2}else{if(!yw(n.i,e))return;t=e.F,FP(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Gt(r=kf(),new yP(r,t)),zf(n)}else YP(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function _Y(n,e){return!(OP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=$c(tn(n.Na,n,e),ZP(n,n.C)),n.C++,0)))}(n,e)||2==r&&Cw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ws(n,5);break;case 4:Ws(n,10);break;case 3:Ws(n,6);break;default:Ws(n,2)}}function ZP(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ws(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=tn(n.pb,n);t||(t=new qs("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||Vf(t,"https"),Bf(t)),function hY(n,e){const t=new Rf;if(ee.Image){const r=new Image;r.onload=Tf(jf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Tf(jf,t,r,"TestLoadImage: error",!1,e),r.onabort=Tf(jf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tf(jf,t,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else pn(2);n.H=0,n.h&&n.h.za(e),eO(n),WP(n)}function eO(n){if(n.H=0,n.ma=[],n.h){const e=LP(n.i);(0!=e.length||0!=n.j.length)&&(Qk(n.ma,e),Qk(n.ma,n.j),n.i.i.length=0,Gv(n.j),n.j.length=0),n.h.ya()}}function tO(n,e,t){var r=t instanceof qs?mi(t):new qs(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Uf(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new qs(null);r&&Vf(s,r),e&&(s.g=e),i&&Uf(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Be(r,t,e),Be(r,"VER",n.ra),el(n,r),r}function nO(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ze(t&&n.Ha&&!n.va?new Yc({ob:!0}):n.va)).Oa(n.J),e}function rO(){}function Wf(){if(Ea&&!(10<=Number(NQ)))throw Error("Environmental error: no available transport.")}function Vn(n,e){xt.call(this),this.g=new qP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Oc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ta(this)}function iO(n){dw.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function sO(){hw.call(this),this.status=1}function Ta(n){this.g=n}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Dw(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function xe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(P=Ze.prototype).Oa=function(n){this.M=n},P.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fw.g(),this.C=function vP(n){return n.h||(n.h=n.i())}(this.u?this.u:fw),this.g.onreadystatechange=tn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void BP(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ee.FormData&&n instanceof ee.FormData,!(0<=Kk(gY,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{GP(this),0<this.B&&((this.L=function mY(n){return Ea&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.ua,this)):this.A=cw(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){BP(this,s)}},P.ua=function(){typeof jv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},P.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gt(this,"complete"),Gt(this,"abort"),Gf(this))},P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gf(this,!0)),Ze.$.N.call(this)},P.La=function(){this.s||(this.G||this.v||this.l?$P(this):this.kb())},P.kb=function(){$P(this)},P.isActive=function(){return!!this.g},P.da=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},P.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),fY(e)}},P.Ia=function(){return this.m},P.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=qP.prototype).ra=8,P.H=1,P.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Hc(this,this.l,n);let s=this.s;if(this.U&&(s?(s=eP(s),nP(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QP(this,i,e),Be(t=mi(this.I),"RID",n),Be(t,"CVER",22),this.F&&Be(t,"X-HTTP-Session-Id",this.F),el(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(zP(s)))+"&"+e:this.o&&ww(t,this.o,s)),_w(this.i,i),this.bb&&Be(t,"TYPE","init"),this.P?(Be(t,"$req",e),Be(t,"SID","null"),i.aa=!0,gw(i,t,null)):gw(i,t,e),this.H=2}}else 3==this.H&&(n?KP(this,n):0==this.j.length||PP(this.i)||KP(this))},P.Ma=function(){if(this.u=null,JP(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=$c(tn(this.jb,this),n)}},P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pn(10),Hf(this),JP(this))},P.ib=function(){null!=this.v&&(this.v=null,Hf(this),Cw(this),pn(19))},P.pb=function(n){n?(this.l.info("Successfully pinged google.com"),pn(2)):(this.l.info("Failed to ping google.com"),pn(1))},P.isActive=function(){return!!this.h&&this.h.isActive(this)},(P=rO.prototype).Ba=function(){},P.Aa=function(){},P.za=function(){},P.ya=function(){},P.isActive=function(){return!0},P.Va=function(){},Wf.prototype.g=function(n,e){return new Vn(n,e)},At(Vn,xt),Vn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;pn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=tO(n,null,n.Y),zf(n)},Vn.prototype.close=function(){Iw(this.g)},Vn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ow(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&zf(e)},Vn.prototype.N=function(){this.g.h=null,delete this.j,Iw(this.g),delete this.g,Vn.$.N.call(this)},At(iO,dw),At(sO,hw),At(Ta,rO),Ta.prototype.Ba=function(){Gt(this.g,"a")},Ta.prototype.Aa=function(n){Gt(this.g,new iO(n))},Ta.prototype.za=function(n){Gt(this.g,new sO)},Ta.prototype.ya=function(){Gt(this.g,"b")},At(mr,function vY(){this.blockSize=-1}),mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)Dw(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){Dw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){Dw(this,r),i=0;break}}this.h=i,this.i+=e},mr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var wY={};function bw(n){return-128<=n&&128>n?function AQ(n,e){var t=wY;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new xe([0|e],0>e?-1:0)}):new xe([0|n],0>n?-1:0)}function Ur(n){if(isNaN(n)||!isFinite(n))return Sa;if(0>n)return Ht(Ur(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Tw;return new xe(e,0)}var Tw=4294967296,Sa=bw(0),Sw=bw(1),aO=bw(16777216);function yi(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Zn(n){return-1==n.h}function Ht(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new xe(t,~n.h).add(Sw)}function Kf(n,e){return n.add(Ht(e))}function Qf(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function tl(n,e){this.g=n,this.h=e}function Yf(n,e){if(yi(e))throw Error("division by zero");if(yi(n))return new tl(Sa,Sa);if(Zn(n))return e=Yf(Ht(n),e),new tl(Ht(e.g),Ht(e.h));if(Zn(e))return e=Yf(n,Ht(e)),new tl(Ht(e.g),e.h);if(30<n.g.length){if(Zn(n)||Zn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Sw,r=e;0>=r.X(n);)t=uO(t),r=uO(r);var i=Aa(t,1),s=Aa(r,1);for(r=Aa(r,2),t=Aa(t,2);!yi(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Aa(r,1),t=Aa(t,1)}return e=Kf(n,i.R(e)),new tl(i,e)}for(i=Sa;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ur(t)).R(e);Zn(o)||0<o.X(n);)o=(s=Ur(t-=r)).R(e);yi(s)&&(s=Sw),i=i.add(s),n=Kf(n,o)}return new tl(i,n)}function uO(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new xe(t,n.h)}function Aa(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new xe(i,n.h)}(P=xe.prototype).ea=function(){if(Zn(this))return-Ht(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Tw+r)*e,e*=Tw}return n},P.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(yi(this))return"0";if(Zn(this))return"-"+Ht(this).toString(n);for(var e=Ur(Math.pow(n,6)),t=this,r="";;){var i=Yf(t,e).g,s=((0<(t=Kf(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(yi(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},P.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},P.X=function(n){return Zn(n=Kf(this,n))?-1:yi(n)?0:1},P.abs=function(){return Zn(this)?Ht(this):this},P.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new xe(t,-2147483648&t[t.length-1]?-1:0)},P.R=function(n){if(yi(this)||yi(n))return Sa;if(Zn(this))return Zn(n)?Ht(this).R(Ht(n)):Ht(Ht(this).R(n));if(Zn(n))return Ht(this.R(Ht(n)));if(0>this.X(aO)&&0>n.X(aO))return Ur(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,Qf(t,2*r+2*i),t[2*r+2*i+1]+=s*u,Qf(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Qf(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Qf(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new xe(t,0)},P.gb=function(n){return Yf(this,n).h},P.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new xe(t,this.h&n.h)},P.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new xe(t,this.h|n.h)},P.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new xe(t,this.h^n.h)},Wf.prototype.createWebChannel=Wf.prototype.g,Vn.prototype.send=Vn.prototype.u,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,Pf.NO_ERROR=0,Pf.TIMEOUT=8,Pf.HTTP_ERROR=6,_P.COMPLETE="complete",wP.EventType=Gc,Gc.OPEN="a",Gc.CLOSE="b",Gc.ERROR="c",Gc.MESSAGE="d",xt.prototype.listen=xt.prototype.O,Ze.prototype.listenOnce=Ze.prototype.P,Ze.prototype.getLastError=Ze.prototype.Sa,Ze.prototype.getLastErrorCode=Ze.prototype.Ia,Ze.prototype.getStatus=Ze.prototype.da,Ze.prototype.getResponseJson=Ze.prototype.Wa,Ze.prototype.getResponseText=Ze.prototype.ja,Ze.prototype.send=Ze.prototype.ha,Ze.prototype.setWithCredentials=Ze.prototype.Oa,mr.prototype.digest=mr.prototype.l,mr.prototype.reset=mr.prototype.reset,mr.prototype.update=mr.prototype.j,xe.prototype.add=xe.prototype.add,xe.prototype.multiply=xe.prototype.R,xe.prototype.modulo=xe.prototype.gb,xe.prototype.compare=xe.prototype.X,xe.prototype.toNumber=xe.prototype.ea,xe.prototype.toString=xe.prototype.toString,xe.prototype.getBits=xe.prototype.D,xe.fromNumber=Ur,xe.fromString=function oO(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ht(oO(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ur(Math.pow(e,8)),r=Sa,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Ur(Math.pow(e,s)),r=r.R(s).add(Ur(o))):r=(r=r.R(t)).add(Ur(o))}return r};var IY=gr.createWebChannelTransport=function(){return new Wf},CY=gr.getStatEventTarget=function(){return kf()},Aw=gr.ErrorCode=Pf,EY=gr.EventType=_P,DY=gr.Event=Hs,cO=gr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bY=gr.FetchXmlHttpFactory=Yc,Jf=gr.WebChannel=wP,TY=gr.XhrIo=Ze,SY=gr.Md5=mr,xa=gr.Integer=xe;const lO="@firebase/firestore";class Mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let Ma="9.23.0";const Xi=new Cf("@firebase/firestore");function xw(){return Xi.logLevel}function T(n,...e){if(Xi.logLevel<=ve.DEBUG){const t=e.map(Mw);Xi.debug(`Firestore (${Ma}): ${n}`,...t)}}function at(n,...e){if(Xi.logLevel<=ve.ERROR){const t=e.map(Mw);Xi.error(`Firestore (${Ma}): ${n}`,...t)}}function yr(n,...e){if(Xi.logLevel<=ve.WARN){const t=e.map(Mw);Xi.warn(`Firestore (${Ma}): ${n}`,...t)}}function Mw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function L(n="Unexpected state"){const e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+n;throw at(e),new Error(e)}function U(n,e){n||L()}function R(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class dO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mt.UNAUTHENTICATED))}shutdown(){}}class xY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MY{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new dO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Mt(e)}}class NY{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class RY{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new NY(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kY{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(U("string"==typeof t.token),this.T=t.token,new hO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PY(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class fO{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Z(n,e){return n<e?-1:n>e?1:0}function Na(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Qe{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qe(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Qe(0,0))}static max(){return new B(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nl{constructor(e,t,r){void 0===t?t=0:t>e.length&&L(),void 0===r?r=e.length-t:r>e.length-t&&L(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===nl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class we extends nl{construct(e,t,r){return new we(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new we(t)}static emptyPath(){return new we([])}}const OY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends nl{construct(e,t,r){return new ut(e,t,r)}static isValidIdentifier(e){return OY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(t)}static emptyPath(){return new ut([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(we.fromString(e))}static fromName(e){return new N(we.fromString(e).popFirst(5))}static empty(){return new N(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return we.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new we(e.slice()))}}function mO(n){return new Un(n.readTime,n.key,-1)}class Un{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Un(B.min(),N.empty(),-1)}static max(){return new Un(B.max(),N.empty(),-1)}}function Rw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=N.comparator(n.documentKey,e.documentKey),0!==t?t:Z(n.largestBatchId,e.largestBatchId))}const yO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zi(n){return kw.apply(this,arguments)}function kw(){return kw=g(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==yO)throw n;T("LocalStore","Unexpectedly lost primary lease")}),kw.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _?t:_.resolve(t)}catch(t){return _.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_.reject(t)}static resolve(e){return new _((t,r)=>{t(e)})}static reject(e){return new _((t,r)=>{r(e)})}static waitFor(e){return new _((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=_.resolve(!1);for(const r of e)t=t.next(i=>i?_.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new _((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function es(n){return"IndexedDbTransactionError"===n.name}let Bn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function sl(n){return null==n}function ol(n){return 0===n&&1/n==-1/0}function TO(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ts(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Le{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new Le(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new np(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new np(this.root,e,this.comparator,!1)}getReverseIterator(){return new np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new np(this.root,e,this.comparator,!0)}}class np{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=s??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new zt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1,zt.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(n,e,t,r,i){return this}insert(n,e,t){return new zt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AO(this.data.getIterator())}getIteratorFrom(e){return new AO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new je(this.comparator);return t.data=e,t}}class AO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new je(ut.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class xO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new xO("Invalid base64 string: "+i):i}}(e);return new bt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const aJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(U(!!n),"string"==typeof n){let e=0;const t=aJ.exec(n);if(U(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(n.seconds),nanos:et(n.nanos)}}function et(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _i(n){return"string"==typeof n?bt.fromBase64String(n):bt.fromUint8Array(n)}function rp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ip(n){const e=n.mapValue.fields.__previous_value__;return rp(e)?ip(e):e}function al(n){const e=ns(n.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class uJ{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ys{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ys("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ys&&e.projectId===this.projectId&&e.database===this.database}}const rs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rp(n)?4:kO(n)?9007199254740991:10:L()}function jr(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return al(n).isEqual(al(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ns(r.timestampValue),o=ns(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_i(n.bytesValue).isEqual(_i(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return et(r.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return et(r.integerValue)===et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=et(r.doubleValue),o=et(i.doubleValue);return s===o?ol(s)===ol(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Na(n.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(TO(s)!==TO(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!jr(s[a],o[a])))return!1;return!0}(n,e);default:return L()}var i}function ul(n,e){return void 0!==(n.values||[]).find(t=>jr(t,e))}function ss(n,e){if(n===e)return 0;const t=is(n),r=is(e);if(t!==r)return Z(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Z(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=et(i.integerValue||i.doubleValue),a=et(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return MO(n.timestampValue,e.timestampValue);case 4:return MO(al(n),al(e));case 5:return Z(n.stringValue,e.stringValue);case 6:return function(i,s){const o=_i(i),a=_i(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Z(o[u],a[u]);if(0!==c)return c}return Z(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Z(et(i.latitude),et(s.latitude));return 0!==o?o:Z(et(i.longitude),et(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ss(o[u],a[u]);if(c)return c}return Z(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===rs.mapValue&&s===rs.mapValue)return 0;if(i===rs.mapValue)return 1;if(s===rs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Z(a[l],c[l]);if(0!==d)return d;const h=ss(o[a[l]],u[c[l]]);if(0!==h)return h}return Z(a.length,c.length)}(n.mapValue,e.mapValue);default:throw L()}}function MO(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Z(n,e);const t=ns(n),r=ns(e),i=Z(t.seconds,r.seconds);return 0!==i?i:Z(t.nanos,r.nanos)}function ka(n){return Fw(n)}function Fw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ns(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_i(n.bytesValue).toBase64():"referenceValue"in n?N.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Fw(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Fw(r.fields[a])}`;return s+"}"}(n.mapValue):L();var e}function Js(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lw(n){return!!n&&"integerValue"in n}function cl(n){return!!n&&"arrayValue"in n}function NO(n){return!!n&&"nullValue"in n}function RO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ap(n){return!!n&&"mapValue"in n}function ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ts(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ll(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kO(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ap(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(t)}setAll(e){let t=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ll(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());ap(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ts(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(ll(this.value))}}function FO(n){const e=[];return ts(n.fields,(t,r)=>{const i=new ut([t]);if(ap(r)){const s=FO(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Dn(e)}class $e{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $e(e,0,B.min(),B.min(),B.min(),qt.empty(),0)}static newFoundDocument(e,t,r,i){return new $e(e,1,t,B.min(),r,i,0)}static newNoDocument(e,t){return new $e(e,2,t,B.min(),B.min(),qt.empty(),0)}static newUnknownDocument(e,t){return new $e(e,3,t,B.min(),B.min(),qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class os{constructor(e,t){this.position=e,this.inclusive=t}}function LO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?N.comparator(N.fromName(o.referenceValue),t.key):ss(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function VO(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jr(n.position[t],e.position[t]))return!1;return!0}class Pa{constructor(e,t="asc"){this.field=e,this.dir=t}}function dJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class UO{}class me extends UO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new hJ(e,t,r):"array-contains"===t?new gJ(e,r):"in"===t?new zO(e,r):"not-in"===t?new mJ(e,r):"array-contains-any"===t?new yJ(e,r):new me(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new fJ(e,r):new pJ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ss(t,this.value)):null!==t&&is(this.value)===is(t)&&this.matchesComparison(ss(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Me extends UO{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Me(e,t)}matches(e){return Oa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Oa(n){return"and"===n.op}function Uw(n){return function BO(n){for(const e of n.filters)if(e instanceof Me)return!1;return!0}(n)&&Oa(n)}function Bw(n){if(n instanceof me)return n.field.canonicalString()+n.op.toString()+ka(n.value);if(Uw(n))return n.filters.map(e=>Bw(e)).join(",");{const e=n.filters.map(t=>Bw(t)).join(",");return`${n.op}(${e})`}}function jO(n,e){return n instanceof me?(t=n,(r=e)instanceof me&&t.op===r.op&&t.field.isEqual(r.field)&&jr(t.value,r.value)):n instanceof Me?function(t,r){return r instanceof Me&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&jO(s,r.filters[o]),!0)}(n,e):void L();var t,r}function GO(n){return n instanceof me?`${(e=n).field.canonicalString()} ${e.op} ${ka(e.value)}`:n instanceof Me?function(e){return e.op.toString()+" {"+e.getFilters().map(GO).join(" ,")+"}"}(n):"Filter";var e}class hJ extends me{constructor(e,t,r){super(e,t,r),this.key=N.fromName(r.referenceValue)}matches(e){const t=N.comparator(e.key,this.key);return this.matchesComparison(t)}}class fJ extends me{constructor(e,t){super(e,"in",t),this.keys=HO(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pJ extends me{constructor(e,t){super(e,"not-in",t),this.keys=HO(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HO(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>N.fromName(r.referenceValue))}class gJ extends me{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cl(t)&&ul(t.arrayValue,this.value)}}class zO extends me{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ul(this.value.arrayValue,t)}}class mJ extends me{constructor(e,t){super(e,"not-in",t)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ul(this.value.arrayValue,t)}}class yJ extends me{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ul(this.value.arrayValue,r))}}class _J{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function jw(n,e=null,t=[],r=[],i=null,s=null,o=null){return new _J(n,e,t,r,i,s,o)}function Xs(n){const e=R(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Bw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),sl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ka(r)).join(",")),e.dt=t}return e.dt}function dl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VO(n.startAt,e.startAt)&&VO(n.endAt,e.endAt)}function up(n){return N.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class vi{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Fa(n){return new vi(n)}function QO(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $w(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Gw(n){return null!==n.collectionGroup}function Zs(n){const e=R(n);if(null===e.wt){e.wt=[];const t=lp(e),r=$w(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Pa(t)),e.wt.push(new Pa(ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Pa(ut.keyField(),s))}}}return e.wt}function gn(n){const e=R(n);if(!e._t)if("F"===e.limitType)e._t=jw(e.path,e.collectionGroup,Zs(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Zs(e))t.push(new Pa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new os(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new os(e.startAt.position,e.startAt.inclusive):null;e._t=jw(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Hw(n,e){e.getFirstInequalityField(),lp(n);const t=n.filters.concat([e]);return new vi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function dp(n,e,t){return new vi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hl(n,e){return dl(gn(n),gn(e))&&n.limitType===e.limitType}function YO(n){return`${Xs(gn(n))}|lt:${n.limitType}`}function zw(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>GO(r)).join(", ")}]`),sl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ka(r)).join(",")),`Target(${t})`}(gn(n))}; limitType=${n.limitType})`}function fl(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):N.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Zs(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=LO(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Zs(t),r)||t.endAt&&!function(i,s,o){const a=LO(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Zs(t),r)));var t,r}function XO(n){return(e,t)=>{let r=!1;for(const i of Zs(n)){const s=vJ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function vJ(n,e,t){const r=n.field.isKeyField()?N.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ss(a,u):L()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}class wi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return SO(this.inner)}size(){return this.innerSize}}const wJ=new Le(N.comparator);function bn(){return wJ}const ZO=new Le(N.comparator);function pl(...n){let e=ZO;for(const t of n)e=e.insert(t.key,t);return e}function eF(n){let e=ZO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $r(){return gl()}function tF(){return gl()}function gl(){return new wi(n=>n.toString(),(n,e)=>n.isEqual(e))}const IJ=new Le(N.comparator),CJ=new je(N.comparator);function ae(...n){let e=CJ;for(const t of n)e=e.add(t);return e}const EJ=new je(Z);function nF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ol(e)?"-0":e}}function rF(n){return{integerValue:""+n}}function iF(n,e){return function vO(n){return"number"==typeof n&&Number.isInteger(n)&&!ol(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?rF(e):nF(n,e)}class hp{constructor(){this._=void 0}}function DJ(n,e,t){return n instanceof La?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&rp(i)&&(i=ip(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof eo?oF(n,e):n instanceof to?aF(n,e):function(r,i){const s=sF(r,i),o=uF(s)+uF(r.gt);return Lw(s)&&Lw(r.gt)?rF(o):nF(r.serializer,o)}(n,e)}function bJ(n,e,t){return n instanceof eo?oF(n,e):n instanceof to?aF(n,e):t}function sF(n,e){return n instanceof Va?Lw(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class La extends hp{}class eo extends hp{constructor(e){super(),this.elements=e}}function oF(n,e){const t=cF(e);for(const r of n.elements)t.some(i=>jr(i,r))||t.push(r);return{arrayValue:{values:t}}}class to extends hp{constructor(e){super(),this.elements=e}}function aF(n,e){let t=cF(e);for(const r of n.elements)t=t.filter(i=>!jr(i,r));return{arrayValue:{values:t}}}class Va extends hp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function uF(n){return et(n.integerValue||n.doubleValue)}function cF(n){return cl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class SJ{constructor(e,t){this.version=e,this.transformResults=t}}class ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ze}static exists(e){return new ze(void 0,e)}static updateTime(e){return new ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class pp{}function lF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ba(n.key,ze.none()):new Ua(n.key,n.data,ze.none());{const t=n.data,r=qt.empty();let i=new je(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ii(n.key,r,new Dn(i.toArray()),ze.none())}}function AJ(n,e,t){n instanceof Ua?function(r,i,s){const o=r.value.clone(),a=fF(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ii?function(r,i,s){if(!fp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=fF(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(hF(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yl(n,e,t,r){return n instanceof Ua?function(i,s,o,a){if(!fp(i.precondition,s))return o;const u=i.value.clone(),c=pF(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ii?function(i,s,o,a){if(!fp(i.precondition,s))return o;const u=pF(i.fieldTransforms,a,s),c=s.data;return c.setAll(hF(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,fp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function xJ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=sF(r.transform,i||null);null!=s&&(null===t&&(t=qt.empty()),t.set(r.field,s))}return t||null}function dF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Na(t,r,(i,s)=>function TJ(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof eo&&r instanceof eo||t instanceof to&&r instanceof to?Na(t.elements,r.elements,jr):t instanceof Va&&r instanceof Va?jr(t.gt,r.gt):t instanceof La&&r instanceof La);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ua extends pp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ii extends pp{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fF(n,e,t){const r=new Map;U(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,bJ(o,a,t[i]))}return r}function pF(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,DJ(s,o,e))}return r}class Ba extends pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ww extends pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&AJ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tF();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=lF(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ae())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,(t,r)=>dF(t,r))&&Na(this.baseMutations,e.baseMutations,(t,r)=>dF(t,r))}}class Qw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){U(e.mutations.length===r.length);let i=IJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Qw(e,t,r,i)}}class Yw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class NJ{constructor(e,t){this.count=e,this.unchangedNames=t}}var yt,Ie;function mF(n){if(void 0===n)return at("GRPC error has no .code"),w.UNKNOWN;switch(n){case yt.OK:return w.OK;case yt.CANCELLED:return w.CANCELLED;case yt.UNKNOWN:return w.UNKNOWN;case yt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case yt.INTERNAL:return w.INTERNAL;case yt.UNAVAILABLE:return w.UNAVAILABLE;case yt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case yt.NOT_FOUND:return w.NOT_FOUND;case yt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case yt.ABORTED:return w.ABORTED;case yt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case yt.DATA_LOSS:return w.DATA_LOSS;default:return L()}}(Ie=yt||(yt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class Jw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return gp}static getOrCreateInstance(){return null===gp&&(gp=new Jw),gp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let gp=null;const RJ=new xa([4294967295,4294967295],0);function _F(n){const e=function yF(){return new TextEncoder}().encode(n),t=new SY;return t.update(e),new Uint8Array(t.digest())}function vF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xa([t,r],0),new xa([i,s],0)]}class Xw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _l(`Invalid padding: ${t}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new _l(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new _l(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=xa.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(xa.fromNumber(r)));return 1===i.compare(RJ)&&(i=new xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=_F(e),[r,i]=vF(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Xw(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=_F(e),[r,i]=vF(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vl{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,wl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new vl(B.min(),i,new Le(Z),bn(),ae())}}class wl{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new wl(r,t,ae(),ae(),ae())}}class mp{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class wF{constructor(e,t){this.targetId=e,this.Vt=t}}class IF{constructor(e,t,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class CF{constructor(){this.St=0,this.Dt=DF(),this.Ct=bt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ae(),t=ae(),r=ae();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:L()}}),new wl(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=DF()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class kJ{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=bn(),this.zt=EF(),this.Wt=new Le(Z)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:L()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(up(o))if(0===i){const a=new N(o.path);this.Yt(r,a,$e.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Jw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,I;const E={localCacheCount:l,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(E.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(I=null===(y=v?.bits)||void 0===y?void 0:y.padding)&&void 0!==I?I:0}),E}(u,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=_i(s).toUint8Array()}catch(l){if(l instanceof xO)return yr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new Xw(u,o,a)}catch(l){return yr(l instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&up(a.target)){const u=new N(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,$e.newNoDocument(u,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=ae();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new vl(e,t,this.Wt,this.jt,r);return this.jt=bn(),this.zt=EF(),this.Wt=new Le(Z),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new CF,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new je(Z),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new CF),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function EF(){return new Le(N.comparator)}function DF(){return new Le(N.comparator)}const PJ={asc:"ASCENDING",desc:"DESCENDING"},OJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FJ={and:"AND",or:"OR"};class LJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zw(n,e){return n.useProto3Json||sl(e)?e:{value:e}}function ja(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function VJ(n,e){return ja(n,e.toTimestamp())}function ct(n){return U(!!n),B.fromTimestamp(function(e){const t=ns(e);return new Qe(t.seconds,t.nanos)}(n))}function eI(n,e){return(t=n,new we(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function TF(n){const e=we.fromString(n);return U(OF(e)),e}function Il(n,e){return eI(n.databaseId,e.path)}function Gr(n,e){const t=TF(e);if(t.get(1)!==n.databaseId.projectId)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new N(AF(t))}function tI(n,e){return eI(n.databaseId,e)}function Cl(n){return new we(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AF(n){return U(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xF(n,e,t){return{name:Il(n,e),fields:t.value.mapValue.fields}}function NF(n,e){return{documents:[tI(n,e.path)]}}function rI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=tI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return PF(Me.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:as((l=c).field),direction:GJ(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=Zw(n,e.limit);var a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function RF(n){let e=function SF(n){const e=TF(n);return 4===e.length?we.emptyPath():AF(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){U(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(l){const d=kF(l);return d instanceof Me&&Uw(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new Pa($a((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,sl(d)?null:d}(t.limit));let u=null;var l;t.startAt&&(u=new os((l=t.startAt).values||[],!!l.before));let c=null;return t.endAt&&(c=function(l){return new os(l.values||[],!l.before)}(t.endAt)),function KO(n,e,t,r,i,s,o,a){return new vi(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function kF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$a(e.unaryFilter.field);return me.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=$a(e.unaryFilter.field);return me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$a(e.unaryFilter.field);return me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$a(e.unaryFilter.field);return me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(n):void 0!==n.fieldFilter?me.create($a((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Me.create(e.compositeFilter.filters.map(t=>kF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return L()}}(e.compositeFilter.op))}(n):L();var e}function GJ(n){return PJ[n]}function HJ(n){return OJ[n]}function zJ(n){return FJ[n]}function as(n){return{fieldPath:n.canonicalString()}}function $a(n){return ut.fromServerFormat(n.fieldPath)}function PF(n){return n instanceof me?function(e){if("=="===e.op){if(RO(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NAN"}};if(NO(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(RO(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NOT_NAN"}};if(NO(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(e.field),op:HJ(e.op),value:e.value}}}(n):n instanceof Me?function(e){const t=e.getFilters().map(r=>PF(r));return 1===t.length?t[0]:{compositeFilter:{op:zJ(e.op),filters:t}}}(n):L()}function qJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ci{constructor(e,t,r,i,s=B.min(),o=B.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FF{constructor(e){this.fe=e}}function iI(n){const e=RF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dp(e,e.limit,"L"):e}class so{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(et(e.integerValue));else if("doubleValue"in e){const r=et(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),ol(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(_i(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?kO(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):L()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),N.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}so.Ve=new so;class tX{constructor(){this.rn=new lI}addToCollectionParentIndex(e,t){return this.rn.add(t),_.resolve()}getCollectionParents(e,t){return _.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return _.resolve()}deleteFieldIndex(e,t){return _.resolve()}getDocumentsMatchingTarget(e,t){return _.resolve(null)}getIndexType(e,t){return _.resolve(0)}getFieldIndexes(e,t){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,t){return _.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,t){return _.resolve(Un.min())}updateCollectionGroup(e,t,r){return _.resolve()}updateIndexEntries(e,t){return _.resolve()}}class lI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new je(we.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(we.comparator)).toArray()}}new Uint8Array(0);class sn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);class ao{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ao(0)}static Mn(){return new ao(-1)}}class aX{constructor(){this.changes=new wi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&yl(r.mutation,i,Dn.empty(),Qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ae()){const i=$r();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=pl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=$r();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ae()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=bn();const o=gl(),a=gl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ii)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),yl(l.mutation,c,l.mutation.getFieldMask(),Qe.now())):o.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new lX(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=gl();let i=new Le((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Dn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=tF();l.forEach(h=>{if(!s.has(h)){const f=lF(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return N.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Gw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):_.resolve($r());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(l=>({batchId:a,changes:eF(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N(t)).next(r=>{let i=pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=pl();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=t,l=a.child(i),new vi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,$e.newInvalidDocument(c)))});let o=pl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&yl(c.mutation,u,Dn.empty(),Qe.now()),fl(t,u)&&(o=o.insert(a,u))}),o})}}class dX{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return _.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:ct(r.createTime)}),_.resolve()}getNamedQuery(e,t){return _.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:iI(r.bundledQuery),readTime:ct(r.readTime)}),_.resolve();var r}}class hX{constructor(){this.overlays=new Le(N.comparator),this.ls=new Map}getOverlay(e,t){return _.resolve(this.overlays.get(t))}getOverlays(e,t){const r=$r();return _.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),_.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),_.resolve()}getOverlaysForCollection(e,t,r){const i=$r(),s=t.length+1,o=new N(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Le((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=$r(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=$r(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Yw(t,r));let s=this.ls.get(t);void 0===s&&(s=ae(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class dI{constructor(){this.fs=new je(Rt.ds),this.ws=new je(Rt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Rt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new N(new we([])),r=new Rt(t,e),i=new Rt(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new N(new we([])),r=new Rt(t,e),i=new Rt(t,e+1);let s=ae();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Rt(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return N.comparator(e.key,t.key)||Z(e.As,t.As)}static _s(e,t){return Z(e.As,t.As)||N.comparator(e.key,t.key)}}class fX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new je(Rt.ds)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new Kw(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,t){return _.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),i=new Rt(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new je(Z);return t.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),_.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new N(s),0);let a=new je(Z);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),_.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){U(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return _.forEach(t.mutations,i=>{const s=new Rt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Rt(t,0),i=this.Rs.firstAfterOrEqual(r);return _.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pX{constructor(e){this.Ds=e,this.docs=new Le(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(t))}getEntries(e,t){let r=bn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=bn();const o=t.path,a=new N(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Rw(mO(l),r)<=0||(i.has(l.key)||fl(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,t,r,i){L()}Cs(e,t){return _.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gX(this)}getSize(e){return _.resolve(this.size)}}class gX extends aX{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),_.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class mX{constructor(e){this.persistence=e,this.xs=new wi(t=>Xs(t),dl),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new dI,this.targetCount=0,this.Ms=ao.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),_.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ao(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,_.resolve()}updateTargetData(e,t){return this.Fn(t),_.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return _.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),_.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),_.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return _.resolve(r)}containsKey(e,t){return _.resolve(this.ks.containsKey(t))}}class hI{constructor(e,t){this.$s={},this.overlays={},this.Os=new Bn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new mX(this),this.indexManager=new tX,this.remoteDocumentCache=new pX(r=>this.referenceDelegate.Ls(r)),this.serializer=new FF(t),this.qs=new dX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new fX(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){T("MemoryPersistence","Starting transaction:",e);const i=new yX(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return _.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class yX extends VY{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.Qs=new dI,this.js=null}static zs(e){return new bp(e)}get Ws(){if(this.js)return this.js;throw L()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),_.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),_.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,r=>{const i=N.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,B.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return _.or([()=>_.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class mI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=ae(),i=ae();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new mI(e,t.fromCache,r,i)}}class lL{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(QO(t))return _.resolve(null);let r=gn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=dp(t,null,"F"),r=gn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(t,a);return this.zi(t,c,o,u.readTime)?this.Ki(e,dp(t,null,"F")):this.Wi(e,c,t,u)}))})))}Gi(e,t,r,i){return QO(t)||i.isEqual(B.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(xw()<=ve.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zw(t)),this.Wi(e,o,t,function gO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new Qe(t+1,0):new Qe(t,r));return new Un(i,N.empty(),e)}(i,-1)))})}ji(e,t){let r=new je(XO(e));return t.forEach((i,s)=>{fl(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return xw()<=ve.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",zw(t)),this.Ui.getDocumentsMatchingQuery(e,t,Un.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class vX{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Le(Z),this.Yi=new wi(s=>Xs(s),dl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function hL(n,e){return yI.apply(this,arguments)}function yI(){return yI=g(function*(n,e){const t=R(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ae();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),yI.apply(this,arguments)}function fL(n){const e=R(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function CX(n,e){const t=R(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qa(n,e,t){return _I.apply(this,arguments)}function _I(){return _I=g(function*(n,e,t){const r=R(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!es(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),_I.apply(this,arguments)}function Ap(n,e,t){const r=R(n);let i=B.min(),s=ae();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?_.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:B.min(),t?s:ae())).next(a=>(function yL(n,e,t){let r=n.Xi.get(e)||B.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function JO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class EI{constructor(){this.activeTargetIds=function qw(){return EJ}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wL{constructor(){this.Hr=new EI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new EI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bX{Yr(e){}shutdown(){}}class IL{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Np=null;function bI(){return null===Np?Np=268435456+Math.round(2147483648*Math.random()):Np++,"0x"+Np.toString(16)}const TX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SX{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const on="WebChannelConnection";class AX extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=bI(),a=this.To(e,t);T("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(T("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw yr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${TX[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=bI();return new Promise((o,a)=>{const u=new TY;u.setWithCredentials(!0),u.listenOnce(EY.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Aw.NO_ERROR:const l=u.getResponseJson();T(on,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Aw.TIMEOUT:T(on,`RPC '${e}' ${s} timed out`),a(new b(w.DEADLINE_EXCEEDED,"Request time out"));break;case Aw.HTTP_ERROR:const d=u.getStatus();if(T(on,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(y)>=0?y:w.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(w.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{T(on,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);T(on,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=bI(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IY(),a=CY(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new bY({})),this.Eo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=s.join("");T(on,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new SX({ro:y=>{f?T(on,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(T(on,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(on,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,I,E)=>{y.listen(I,v=>{try{E(v)}catch(k){setTimeout(()=>{throw k},0)}})};return m(d,Jf.EventType.OPEN,()=>{f||T(on,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Jf.EventType.CLOSE,()=>{f||(f=!0,T(on,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Jf.EventType.ERROR,y=>{f||(f=!0,yr(on,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new b(w.UNAVAILABLE,"The operation could not be completed")))}),m(d,Jf.EventType.MESSAGE,y=>{var I;if(!f){const E=y.data[0];U(!!E);const k=E.error||(null===(I=E[0])||void 0===I?void 0:I.error);if(k){T(on,`RPC '${e}' stream ${i} received error:`,k);const $=k.status;let z=function(Mi){const fu=yt[Mi];if(void 0!==fu)return mF(fu)}($),Ot=k.message;void 0===z&&(z=w.INTERNAL,Ot="Unknown error status: "+$+" with message "+k.message),f=!0,p.wo(new b(z,Ot)),d.close()}else T(on,`RPC '${e}' stream ${i} received:`,E),p._o(E)}}),m(a,DY.STAT_EVENT,y=>{y.stat===cO.PROXY?T(on,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===cO.NOPROXY&&T(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Rp(){return typeof document<"u"?document:null}function Rl(n){return new LJ(n,!0)}class TI{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class EL{constructor(e,t,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new TI(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(at(t.toString()),at("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new b(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xX extends EL{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function BJ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:L(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),bt.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:mF(u.code);return new b(c,u.message||"")}(o);t=new IF(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Gr(n,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):B.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=$e.newFoundDocument(i,s,o,a);t=new mp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Gr(n,r.document),s=r.readTime?ct(r.readTime):B.min(),o=$e.newNoDocument(i,s);t=new mp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Gr(n,r.document);t=new mp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return L();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new NJ(i,s);t=new wF(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?ct(s.readTime):B.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Cl(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=up(a)?{documents:NF(i,a)}:{query:rI(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=bF(i,s.resumeToken);const u=Zw(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=ja(i,s.snapshotVersion.toTimestamp());const u=Zw(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function $J(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Cl(this.serializer),t.removeTarget=e,this.Wo(t)}}class MX extends EL{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function jJ(n,e){return n&&n.length>0?(U(void 0!==e),n.map(t=>function(r,i){let s=ct(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=ct(i)),new SJ(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.cu(r,t)}return U(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cl(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function El(n,e){let t;if(e instanceof Ua)t={update:xF(n,e.key,e.value)};else if(e instanceof Ba)t={delete:Il(n,e.key)};else if(e instanceof Ii)t={update:xF(n,e.key,e.data),updateMask:qJ(e.fieldMask)};else{if(!(e instanceof Ww))return L();t={verify:Il(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof La)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof eo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof to)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Va)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw L()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:VJ(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:L()),t;var i}(this.serializer,r))};this.Wo(t)}}class NX extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(w.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(w.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class kX{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(at(t),this.mu=!1):T("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class PX{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;ds(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.vu.add(4),yield Wa(l),l.bu.set("Unknown"),l.vu.delete(4),yield kl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new kX(r,i)}}function kl(n){return AI.apply(this,arguments)}function AI(){return AI=g(function*(n){if(ds(n))for(const e of n.Ru)yield e(!0)}),AI.apply(this,arguments)}function Wa(n){return xI.apply(this,arguments)}function xI(){return xI=g(function*(n){for(const e of n.Ru)yield e(!1)}),xI.apply(this,arguments)}function kp(n,e){const t=R(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),RI(t)?NI(t):Qa(t).Ko()&&MI(t,e))}function Pl(n,e){const t=R(n),r=Qa(t);t.Au.delete(e),r.Ko()&&DL(t,e),0===t.Au.size&&(r.Ko()?r.jo():ds(t)&&t.bu.set("Unknown"))}function MI(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qa(n).su(e)}function DL(n,e){n.Vu.qt(e),Qa(n).iu(e)}function NI(n){n.Vu=new kJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Qa(n).start(),n.bu.gu()}function RI(n){return ds(n)&&!Qa(n).Uo()&&n.Au.size>0}function ds(n){return 0===R(n).vu.size}function bL(n){n.Vu=void 0}function OX(n){return kI.apply(this,arguments)}function kI(){return kI=g(function*(n){n.Au.forEach((e,t)=>{MI(n,e)})}),kI.apply(this,arguments)}function FX(n,e){return PI.apply(this,arguments)}function PI(){return PI=g(function*(n,e){bL(n),RI(n)?(n.bu.Iu(e),NI(n)):n.bu.set("Unknown")}),PI.apply(this,arguments)}function LX(n,e,t){return OI.apply(this,arguments)}function OI(){return OI=g(function*(n,e,t){if(n.bu.set("Online"),e instanceof IF&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pp(n,r)}else if(e instanceof mp?n.Vu.Ht(e):e instanceof wF?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(B.min()))try{const r=yield fL(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(bt.EMPTY_BYTE_STRING,c.snapshotVersion)),DL(i,a);const l=new Ci(c.target,a,u,c.sequenceNumber);MI(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Pp(n,r)}var r}),OI.apply(this,arguments)}function Pp(n,e,t){return FI.apply(this,arguments)}function FI(){return FI=g(function*(n,e,t){if(!es(e))throw e;n.vu.add(1),yield Wa(n),n.bu.set("Offline"),t||(t=()=>fL(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield kl(n)}))}),FI.apply(this,arguments)}function TL(n,e){return e().catch(t=>Pp(n,t,e))}function Ka(n){return LI.apply(this,arguments)}function LI(){return LI=g(function*(n){const e=R(n),t=hs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;VX(e);)try{const i=yield CX(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,UX(e,i)}catch(i){yield Pp(e,i)}SL(e)&&AL(e)}),LI.apply(this,arguments)}function VX(n){return ds(n)&&n.Eu.length<10}function UX(n,e){n.Eu.push(e);const t=hs(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function SL(n){return ds(n)&&!hs(n).Uo()&&n.Eu.length>0}function AL(n){hs(n).start()}function BX(n){return VI.apply(this,arguments)}function VI(){return VI=g(function*(n){hs(n).hu()}),VI.apply(this,arguments)}function jX(n){return UI.apply(this,arguments)}function UI(){return UI=g(function*(n){const e=hs(n);for(const t of n.Eu)e.uu(t.mutations)}),UI.apply(this,arguments)}function $X(n,e,t){return BI.apply(this,arguments)}function BI(){return BI=g(function*(n,e,t){const r=n.Eu.shift(),i=Qw.from(r,e,t);yield TL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ka(n)}),BI.apply(this,arguments)}function GX(n,e){return jI.apply(this,arguments)}function jI(){return jI=g(function*(n,e){var t;e&&hs(n).ou&&(yield(t=g(function*(r,i){if(function gF(n){switch(n){default:return L();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(s=i.code)&&s!==w.ABORTED){const o=r.Eu.shift();hs(r).Qo(),yield TL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ka(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),SL(n)&&AL(n)}),jI.apply(this,arguments)}function xL(n,e){return $I.apply(this,arguments)}function $I(){return $I=g(function*(n,e){const t=R(n);t.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=ds(t);t.vu.add(3),yield Wa(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield kl(t)}),$I.apply(this,arguments)}function HI(){return HI=g(function*(n,e){const t=R(n);e?(t.vu.delete(2),yield kl(t)):e||(t.vu.add(2),yield Wa(t),t.bu.set("Unknown"))}),HI.apply(this,arguments)}function Qa(n){return n.Su||(n.Su=function(e,t,r){const i=R(e);return i.fu(),new xX(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:OX.bind(null,n),ao:FX.bind(null,n),nu:LX.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Su.Qo(),RI(n)?NI(n):n.bu.set("Unknown")):(yield n.Su.stop(),bL(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function hs(n){return n.Du||(n.Du=function(e,t,r){const i=R(e);return i.fu(),new MX(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:BX.bind(null,n),ao:GX.bind(null,n),au:jX.bind(null,n),cu:$X.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Du.Qo(),yield Ka(n)):(yield n.Du.stop(),n.Eu.length>0&&(T("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class zI{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new zI(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ya(n,e){if(at("AsyncQueue",`${e}: ${n}`),es(n))return new b(w.UNAVAILABLE,`${e}: ${n}`);throw n}class Ja{constructor(e){this.comparator=e?(t,r)=>e(t,r)||N.comparator(t.key,r.key):(t,r)=>N.comparator(t.key,r.key),this.keyedMap=pl(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new Ja(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ML{constructor(){this.Cu=new Le(N.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):L():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xa{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Xa(e,t,Ja.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class HX{constructor(){this.Nu=void 0,this.listeners=[]}}class zX{constructor(){this.queries=new wi(e=>YO(e),hl),this.onlineState="Unknown",this.ku=new Set}}function qI(n,e){return WI.apply(this,arguments)}function WI(){return WI=g(function*(n,e){const t=R(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new HX),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=Ya(o,`Initialization of query '${zw(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&YI(t)}),WI.apply(this,arguments)}function KI(n,e){return QI.apply(this,arguments)}function QI(){return QI=g(function*(n,e){const t=R(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),QI.apply(this,arguments)}function qX(n,e){const t=R(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&YI(t)}function WX(n,e,t){const r=R(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function YI(n){n.ku.forEach(e=>{e.next()})}class JI{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class kL{constructor(e){this.key=e}}class PL{constructor(e){this.key=e}}class OL{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ae(),this.mutatedKeys=ae(),this.tc=XO(e),this.ec=new Ja(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new ML,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=fl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Xa(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ML,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ae(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new PL(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new kL(r))}),t}hc(e){this.Yu=e.ir,this.Zu=ae();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Xa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class YX{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class JX{constructor(e){this.key=e,this.fc=!1}}class XX{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new wi(a=>YO(a),hl),this._c=new Map,this.mc=new Set,this.gc=new Le(N.comparator),this.yc=new Map,this.Ic=new dI,this.Tc={},this.Ec=new Map,this.Ac=ao.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ZX(n,e){return XI.apply(this,arguments)}function XI(){return XI=g(function*(n,e){const t=function IC(n){const e=R(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nZ.bind(null,e),e.dc.nu=qX.bind(null,e.eventManager),e.dc.Pc=WX.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function za(n,e){const t=R(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Ci(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,gn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function ZI(n,e,t,r,i){return eC.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&kp(t.remoteStore,o)}return i}),XI.apply(this,arguments)}function eC(){return eC=g(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=g(function*(m,y,I,E){let v=y.view.sc(I);v.zi&&(v=yield Ap(m.localStore,y.query,!1).then(({documents:z})=>y.view.sc(z,v)));const k=E&&E.targetChanges.get(y.targetId),$=y.view.applyChanges(v,m.isPrimaryClient,k);return lC(m,y.targetId,$.cc),$.snapshot}),function(m,y,I,E){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Ap(n.localStore,e,!0),o=new OL(e,s.ir),a=o.sc(s.documents),u=wl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);lC(n,t,c.cc);const l=new YX(e,t,o);return n.wc.set(e,l),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),eC.apply(this,arguments)}function eZ(n,e){return tC.apply(this,arguments)}function tC(){return tC=g(function*(n,e){const t=R(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!hl(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield qa(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Pl(t.remoteStore,r.targetId),Za(t,r.targetId)}).catch(Zi))):(Za(t,r.targetId),yield qa(t.localStore,r.targetId,!0))}),tC.apply(this,arguments)}function nC(){return nC=g(function*(n,e,t){const r=function CC(n){const e=R(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iZ.bind(null,e),e}(n);try{const i=yield function(s,o){const a=R(s),u=Qe.now(),c=o.reduce((h,f)=>h.add(f.key),ae());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=bn(),p=ae();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const I of o){const E=xJ(I,l.get(I.key).overlayedDocument);null!=E&&y.push(new Ii(I.key,E,FO(E.value.mapValue),ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:eF(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Le(Z)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Ei(r,i.changes),yield Ka(r.remoteStore)}catch(i){const s=Ya(i,"Failed to persist write");t.reject(s)}}),nC.apply(this,arguments)}function FL(n,e){return rC.apply(this,arguments)}function rC(){return rC=g(function*(n,e){const t=R(n);try{const r=yield function IX(n,e){const t=R(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(bt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let u=bn(),c=ae();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function pL(n,e,t){let r=ae(),i=ae();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=bn();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield Ei(t,r,e)}catch(r){yield Zi(r)}}),rC.apply(this,arguments)}function LL(n,e,t){const r=R(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&YI(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nZ(n,e,t){return iC.apply(this,arguments)}function iC(){return iC=g(function*(n,e,t){const r=R(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Le(N.comparator);o=o.insert(s,$e.newNoDocument(s,B.min()));const a=ae().add(s),u=new vl(B.min(),new Map,new Le(Z),o,a);yield FL(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),dC(r)}else yield qa(r.localStore,e,!1).then(()=>Za(r,e,t)).catch(Zi)}),iC.apply(this,arguments)}function rZ(n,e){return sC.apply(this,arguments)}function sC(){return sC=g(function*(n,e){const t=R(n),r=e.batch.batchId;try{const i=yield function wX(n,e){const t=R(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);U(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ae();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);cC(t,r,null),uC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ei(t,i)}catch(i){yield Zi(i)}}),sC.apply(this,arguments)}function iZ(n,e,t){return oC.apply(this,arguments)}function oC(){return oC=g(function*(n,e,t){const r=R(n);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);cC(r,e,t),uC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ei(r,i)}catch(i){yield Zi(i)}}),oC.apply(this,arguments)}function uC(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function cC(n,e,t){const r=R(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Za(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||VL(n,r)})}function VL(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Pl(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),dC(n))}function lC(n,e,t){for(const r of t)r instanceof kL?(n.Ic.addReference(r.key,e),oZ(n,r)):r instanceof PL?(T("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||VL(n,r.key)):L()}function oZ(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(T("SyncEngine","New document in limbo: "+t),n.mc.add(r),dC(n))}function dC(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new N(we.fromString(e)),r=n.Ac.next();n.yc.set(r,new JX(t)),n.gc=n.gc.insert(t,r),kp(n.remoteStore,new Ci(gn(Fa(t.path)),r,"TargetPurposeLimboResolution",Bn.ct))}}function Ei(n,e,t){return hC.apply(this,arguments)}function hC(){return hC=g(function*(n,e,t){const r=R(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=mI.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!es(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),hC.apply(this,arguments)}function aZ(n,e){return fC.apply(this,arguments)}function fC(){return fC=g(function*(n,e){const t=R(n);if(!t.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield hL(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ei(t,r.er)}var i}),fC.apply(this,arguments)}function uZ(n,e){const t=R(n),r=t.yc.get(e);if(r&&r.fc)return ae().add(r.key);{let i=ae();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Op{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.serializer=Rl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function dL(n,e,t,r){return new vX(n,e,t,r)}(this.persistence,new lL,e.initialUser,this.serializer)}createPersistence(e){return new hI(bp.zs,this.serializer)}createSharedClientState(e){return new wL}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eu{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>LL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=aZ.bind(null,r.syncEngine),yield function GI(n,e){return HI.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zX}createDatastore(e){const t=Rl(e.databaseInfo.databaseId),r=new AX(e.databaseInfo);return new NX(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>LL(this.syncEngine,a,0),o=IL.D()?new IL:new bX,new PX(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new XX(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=R(t);T("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Wa(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Fp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class IZ{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=fO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ya(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Lp(n,e){return EC.apply(this,arguments)}function EC(){return EC=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield hL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),EC.apply(this,arguments)}function DC(n,e){return bC.apply(this,arguments)}function bC(){return bC=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function TC(n){return SC.apply(this,arguments)}(n);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>xL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>xL(e.remoteStore,s)),n._onlineComponents=e}),bC.apply(this,arguments)}function SC(){return SC=g(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function HL(n){return"FirebaseError"===n.name?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;yr("Error using user provided cache. Falling back to memory cache: "+t),yield Lp(n,new Op)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield Lp(n,new Op);return n._offlineComponents}),SC.apply(this,arguments)}function Vp(n){return AC.apply(this,arguments)}function AC(){return AC=g(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield DC(n,n._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield DC(n,new eu))),n._onlineComponents}),AC.apply(this,arguments)}function tu(n){return MC.apply(this,arguments)}function MC(){return MC=g(function*(n){const e=yield Vp(n),t=e.eventManager;return t.onListen=ZX.bind(null,e.syncEngine),t.onUnlisten=eZ.bind(null,e.syncEngine),t}),MC.apply(this,arguments)}function YL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const JL=new Map;function NC(n,e,t){if(!t)throw new b(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XL(n){if(!N.isDocumentKey(n))throw new b(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZL(n){if(N.isDocumentKey(n))throw new b(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":L()}function ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bp(n);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class t2{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function MZ(n,e,t,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=YL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ol{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new AY;switch(t.type){case"firstParty":return new RY(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new b(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=JL.get(e);t&&(T("ComponentProvider","Removing Datastore"),JL.delete(e),t.terminate())}(this),Promise.resolve()}}class lt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class Wt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class Hr extends Wt{constructor(e,t,r){super(e,t,Fa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new N(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function Fl(n,e,...t){if(n=fn(n),NC("collection","path",e),n instanceof Ol){const r=we.fromString(e,...t);return ZL(r),new Hr(n,null,r)}{if(!(n instanceof lt||n instanceof Hr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(we.fromString(e,...t));return ZL(r),new Hr(n.firestore,null,r)}}function Ll(n,e,...t){if(n=fn(n),1===arguments.length&&(e=fO.A()),NC("doc","path",e),n instanceof Ol){const r=we.fromString(e,...t);return XL(r),new lt(n,null,new N(r))}{if(!(n instanceof lt||n instanceof Hr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(we.fromString(e,...t));return XL(r),new lt(n.firestore,n instanceof Hr?n.converter:null,new N(r))}}class RZ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new TI(this,"async_queue_retry"),this.Xc=()=>{const t=Rp();t&&T("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Rp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Rp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Dt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!es(t))throw t;T("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,at("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=zI.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&L()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Ge extends Ol{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new RZ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||r2(this),this._firestoreClient.terminate()}}function _t(n){return n._firestoreClient||r2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function r2(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uJ(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,YL(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new IZ(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(bt.fromBase64String(e))}catch(t){throw new b(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new co(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new b(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class o2{constructor(e){this._methodName=e}}class kC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new b(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new b(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}const FZ=/^__.*__$/;class LZ{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ua(e,this.data,t,this.fieldTransforms)}}function u2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class jp{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Gp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(u2(this.ca)&&FZ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class VZ{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rl(e)}ya(e,t,r,i=!1){return new jp({ca:e,methodName:t,ga:r,path:ut.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ru(n){const e=n._freezeSettings(),t=Rl(n._databaseId);return new VZ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PC(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);FC("Data must be an object, but it was:",o,r);const a=f2(r,o);let u,c;if(s.merge)u=new Dn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Bl(e,d,t);if(!o.contains(h))throw new b(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);g2(l,h)||l.push(h)}u=new Dn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new LZ(new qt(a),u,c)}function lo(n,e){if(p2(n=fn(n)))return FC("Unsupported field value:",e,n),f2(n,e);if(n instanceof o2)return function(t,r){if(!u2(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=lo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=fn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return iF(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Qe.fromDate(t);return{timestampValue:ja(r.serializer,i)}}if(t instanceof Qe){const i=new Qe(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ja(r.serializer,i)}}if(t instanceof kC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof co)return{bytesValue:bF(r.serializer,t._byteString)};if(t instanceof lt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:eI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Bp(t)}`)}(n,e)}function f2(n,e){const t={};return SO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(n,(r,i)=>{const s=lo(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function p2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof kC||n instanceof co||n instanceof lt||n instanceof o2)}function FC(n,e,t){if(!p2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Bp(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Bl(n,e,t){if((e=fn(e))instanceof nu)return e._internalPath;if("string"==typeof e)return $p(n,e);throw Gp("Field path arguments must be of type string or ",n,!1,void 0,t)}const $Z=new RegExp("[~\\*/\\[\\]]");function $p(n,e,t){if(e.search($Z)>=0)throw Gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nu(...e.split("."))._internalPath}catch{throw Gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gp(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(w.INVALID_ARGUMENT,a+n+u)}function g2(n,e){return n.some(t=>t.isEqual(e))}class LC{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new GZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class GZ extends LC{data(){return super.data()}}function Hp(n,e){return"string"==typeof e?$p(n,e):e instanceof nu?e._internalPath:e._delegate._internalPath}class VC{}class HZ extends VC{}class jl extends HZ{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jl(e,t,r)}_apply(e){const t=this._parse(e);return w2(e._query,t),new Wt(e.firestore,e.converter,Hw(e._query,t))}_parse(e){const t=ru(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new b(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){v2(l,c);const h=[];for(const f of l)h.push(_2(a,i,f));d={arrayValue:{values:h}}}else d=_2(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||v2(l,c),d=function h2(n,e,t,r=!1){return lo(t,n.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return me.create(u,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class iu extends VC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iu(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Me.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)w2(s,a),s=Hw(s,a)}(e._query,t),new Wt(e.firestore,e.converter,Hw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function _2(n,e,t){if("string"==typeof(t=fn(t))){if(""===t)throw new b(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gw(e)&&-1!==t.indexOf("/"))throw new b(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(we.fromString(t));if(!N.isDocumentKey(r))throw new b(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Js(n,new N(r))}if(t instanceof lt)return Js(n,t._key);throw new b(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bp(t)}.`)}function v2(n,e){if(!Array.isArray(n)||0===n.length)throw new b(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w2(n,e){if(e.isInequality()){const r=lp(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=$w(n);null!==s&&function I2(n,e,t){if(!t.isEqual(e))throw new b(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new b(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qZ{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw L()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ts(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new kC(et(e.latitude),et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ip(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){const t=ns(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=we.fromString(e);U(OF(r));const i=new Ys(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(t)||at(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function BC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ho{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class su extends LC{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Hp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Kp extends su{data(e={}){return super.data(e)}}class ou{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Kp(this._firestore,this._userDataWriter,r.key,r,new ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new b(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Kp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ho(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Kp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ho(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:KZ(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}class fs extends qZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,t)}}function E2(n,e,t){n=ye(n,lt);const r=ye(n.firestore,Ge),i=BC(n.converter,e,t);return $l(r,[PC(ru(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ze.none())])}function D2(n,e){const t=ye(n.firestore,Ge),r=Ll(n),i=BC(n.converter,e);return $l(t,[PC(ru(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ze.exists(!1))]).then(()=>r)}function $l(n,e){return function(t,r){const i=new Dt;return t.asyncQueue.enqueueAndForget(g(function*(){return function tZ(n,e,t){return nC.apply(this,arguments)}(yield function xC(n){return Vp(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(_t(n),e)}!function(n,e=!0){Ma=Ca,Fr(new pr("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Ge(new MY(t.getProvider("auth-internal")),new kY(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ys(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Xn(lO,"3.13.0",n),Xn(lO,"3.13.0","esm2017")}(),Xn("firebase","9.23.0","app");const dee=(n,e)=>e.some(t=>n instanceof t);let T2,S2;const A2=new WeakMap,$C=new WeakMap,x2=new WeakMap,GC=new WeakMap,HC=new WeakMap;let zC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return $C.get(n);if("objectStoreNames"===e)return n.objectStoreNames||x2.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function _ee(n){return"function"==typeof n?function yee(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fee(){return S2||(S2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(qC(this),e),ps(A2.get(this))}:function(...e){return ps(n.apply(qC(this),e))}:function(e,...t){const r=n.call(qC(this),e,...t);return x2.set(r,e.sort?e.sort():[e]),ps(r)}}(n):(n instanceof IDBTransaction&&function gee(n){if($C.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});$C.set(n,e)}(n),dee(n,function hee(){return T2||(T2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,zC):n)}function ps(n){if(n instanceof IDBRequest)return function pee(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ps(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&A2.set(t,n)}).catch(()=>{}),HC.set(e,n),e}(n);if(GC.has(n))return GC.get(n);const e=_ee(n);return e!==n&&(GC.set(n,e),HC.set(e,n)),e}const qC=n=>HC.get(n),wee=["get","getKey","getAll","getAllKeys","count"],Iee=["put","add","delete","clear"],WC=new Map;function M2(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(WC.get(e))return WC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Iee.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wee.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return WC.set(e,s),s}!function mee(n){zC=n(zC)}(n=>({...n,get:(e,t,r)=>M2(e,t)||n.get(e,t,r),has:(e,t)=>!!M2(e,t)||n.has(e,t)}));const N2="@firebase/installations",KC="0.6.4",R2=1e4,k2=`w:${KC}`,P2="FIS_v2",Cee="https://firebaseinstallations.googleapis.com/v1",Eee=36e5,Di=new Bs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function O2(n){return n instanceof fr&&n.code.includes("request-failed")}function QC({projectId:n}){return`${Cee}/projects/${n}/installations`}function F2(n){return{token:n.token,requestStatus:2,expiresIn:See(n.expiresIn),creationTime:Date.now()}}function YC(n,e){return JC.apply(this,arguments)}function JC(){return JC=g(function*(n,e){const r=(yield e.json()).error;return Di.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),JC.apply(this,arguments)}function L2({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function XC(n){return ZC.apply(this,arguments)}function ZC(){return ZC=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),ZC.apply(this,arguments)}function See(n){return Number(n.replace("s","000"))}function eE(){return eE=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=QC(n),i=L2(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:P2,appId:n.appId,sdkVersion:k2})},u=yield XC(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:F2(c.authToken)}}throw yield YC("Create Installation",u)}),eE.apply(this,arguments)}function U2(n){return new Promise(e=>{setTimeout(e,n)})}const Nee=/^[cdef][\w-]{21}$/,tE="";function Ree(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function kee(n){return function Mee(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Nee.test(t)?t:tE}catch{return tE}}function au(n){return`${n.appName}!${n.appId}`}const uu=new Map;function B2(n,e){const t=au(n);j2(t,e),function Fee(n,e){const t=function $2(){return!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=n=>{j2(n.data.key,n.data.fid)}),fo}();t&&t.postMessage({key:n,fid:e}),function G2(){0===uu.size&&fo&&(fo.close(),fo=null)}()}(t,e)}function j2(n,e){const t=uu.get(n);if(t)for(const r of t)r(e)}let fo=null;const Lee="firebase-installations-database",Vee=1,po="firebase-installations-store";let nE=null;function rE(){return nE||(nE=function vee(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ps(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ps(o.result),u.oldVersion,u.newVersion,ps(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Lee,Vee,{upgrade:(n,e)=>{0===e&&n.createObjectStore(po)}})),nE}function Yp(n,e){return iE.apply(this,arguments)}function iE(){return iE=g(function*(n,e){const t=au(n),i=(yield rE()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&B2(n,e.fid),e}),iE.apply(this,arguments)}function sE(n){return oE.apply(this,arguments)}function oE(){return oE=g(function*(n){const e=au(n),r=(yield rE()).transaction(po,"readwrite");yield r.objectStore(po).delete(e),yield r.done}),oE.apply(this,arguments)}function Gl(n,e){return aE.apply(this,arguments)}function aE(){return aE=g(function*(n,e){const t=au(n),i=(yield rE()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&B2(n,a.fid),a}),aE.apply(this,arguments)}function uE(n){return cE.apply(this,arguments)}function cE(){return cE=g(function*(n){let e;const t=yield Gl(n.appConfig,r=>{const i=function Uee(n){return z2(n||{fid:Ree(),registrationStatus:0})}(r),s=function Bee(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Di.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function jee(n,e){return lE.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:$ee(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===tE?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),cE.apply(this,arguments)}function lE(){return lE=g(function*(n,e){try{const t=yield function xee(n,e){return eE.apply(this,arguments)}(n,e);return Yp(n.appConfig,t)}catch(t){throw O2(t)&&409===t.customData.serverCode?yield sE(n.appConfig):yield Yp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),lE.apply(this,arguments)}function $ee(n){return dE.apply(this,arguments)}function dE(){return dE=g(function*(n){let e=yield H2(n.appConfig);for(;1===e.registrationStatus;)yield U2(100),e=yield H2(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield uE(n);return r||t}return e}),dE.apply(this,arguments)}function H2(n){return Gl(n,e=>{if(!e)throw Di.create("installation-not-found");return z2(e)})}function z2(n){return function Gee(n){return 1===n.registrationStatus&&n.registrationTime+R2<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function hE(){return hE=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function zee(n,{fid:e}){return`${QC(n)}/${e}/authTokens:generate`}(n,t),i=function V2(n,{refreshToken:e}){const t=L2(n);return t.append("Authorization",function Aee(n){return`${P2} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:k2,appId:n.appId}})},u=yield XC(()=>fetch(r,a));if(u.ok)return F2(yield u.json());throw yield YC("Generate Auth Token",u)}),hE.apply(this,arguments)}function fE(n){return pE.apply(this,arguments)}function pE(){return pE=g(function*(n,e=!1){let t;const r=yield Gl(n.appConfig,s=>{if(!W2(s))throw Di.create("not-registered");const o=s.authToken;if(!e&&function Kee(n){return 2===n.requestStatus&&!function Qee(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Eee}(n)}(o))return s;if(1===o.requestStatus)return t=function qee(n,e){return gE.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw Di.create("app-offline");const a=function Yee(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function Wee(n,e){return mE.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),pE.apply(this,arguments)}function gE(){return gE=g(function*(n,e){let t=yield q2(n.appConfig);for(;1===t.authToken.requestStatus;)yield U2(100),t=yield q2(n.appConfig);const r=t.authToken;return 0===r.requestStatus?fE(n,e):r}),gE.apply(this,arguments)}function q2(n){return Gl(n,e=>{if(!W2(e))throw Di.create("not-registered");return function Jee(n){return 1===n.requestStatus&&n.requestTime+R2<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function mE(){return mE=g(function*(n,e){try{const t=yield function Hee(n,e){return hE.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Yp(n.appConfig,r),t}catch(t){if(!O2(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Yp(n.appConfig,r)}else yield sE(n.appConfig);throw t}}),mE.apply(this,arguments)}function W2(n){return void 0!==n&&2===n.registrationStatus}function yE(){return yE=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield uE(e);return r?r.catch(console.error):fE(e).catch(console.error),t.fid}),yE.apply(this,arguments)}function _E(){return _E=g(function*(n,e=!1){const t=n;return yield function ete(n){return vE.apply(this,arguments)}(t),(yield fE(t,e)).token}),_E.apply(this,arguments)}function vE(){return vE=g(function*(n){const{registrationPromise:e}=yield uE(n);e&&(yield e)}),vE.apply(this,arguments)}function CE(n){return Di.create("missing-app-config-values",{valueName:n})}const K2="installations",ste=n=>{const e=n.getProvider("app").getImmediate(),t=function rte(n){if(!n||!n.options)throw CE("App Configuration");if(!n.name)throw CE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw CE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Qi(e,"heartbeat"),_delete:()=>Promise.resolve()}},ote=n=>{const t=Qi(n.getProvider("app").getImmediate(),K2).getImmediate();return{getId:()=>function Xee(n){return yE.apply(this,arguments)}(t),getToken:i=>function Zee(n){return _E.apply(this,arguments)}(t,i)}};(function ate(){Fr(new pr(K2,ste,"PUBLIC")),Fr(new pr("installations-internal",ote,"PRIVATE"))})(),Xn(N2,KC),Xn(N2,KC,"esm2017");const Jp="analytics",ute="firebase_id",cte="origin",lte=6e4,dte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",EE="https://www.googletagmanager.com/gtag/js",kt=new Cf("@firebase/analytics"),mn=new Bs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fte(n){if(!n.startsWith(EE)){const e=mn.create("invalid-gtag-resource",{gtagURL:n});return kt.warn(e.message),""}return n}function Q2(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function DE(){return DE=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield Q2(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){kt.error(a)}n("config",i,s)}),DE.apply(this,arguments)}function bE(){return bE=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield Q2(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){kt.error(s)}}),bE.apply(this,arguments)}const Cte=30,Y2=new class Dte{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function bte(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function TE(){return TE=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:bte(r)},s=dte.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),TE.apply(this,arguments)}function SE(){return SE=g(function*(n,e=Y2,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Mte;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:lte),J2({appId:r,apiKey:i,measurementId:s},o,a,e)}),SE.apply(this,arguments)}function J2(n,e,t){return AE.apply(this,arguments)}function AE(){return AE=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Y2){var s;const{appId:o,measurementId:a}=n;try{yield function Ate(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Tte(n){return TE.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function xte(n){if(!(n instanceof fr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Pk(t,i.intervalMillis,Cte):Pk(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),kt.debug(`Calling attemptFetch again in ${l} millis`),J2(n,d,r,i)}}),AE.apply(this,arguments)}class Mte{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let xE,FE;function ME(){return ME=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}}),ME.apply(this,arguments)}function LE(){return LE=g(function*(){if(!Mk())return kt.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Nk()}catch(n){return kt.warn(mn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0}),LE.apply(this,arguments)}function VE(){return VE=g(function*(n,e,t,r,i,s,o){var a;const u=function Ste(n){return SE.apply(this,arguments)}(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&kt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>kt.error(f)),e.push(u);const c=function Lte(){return LE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Ite(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(EE)&&t.src.includes(n))return t;return null})(s)||function gte(n,e){const t=function pte(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:fte}),r=document.createElement("script"),i=`${EE}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),FE&&(i("consent","default",FE),function X2(n){FE=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[cte]="firebase",h.update=!0,null!=d&&(h[ute]=d),i("config",l.measurementId,h),xE&&(i("set",xE),function Z2(n){xE=n}(void 0)),l.measurementId}),VE.apply(this,arguments)}class Ute{constructor(e){this.app=e}_delete(){return delete zr[this.app.options.appId],Promise.resolve()}}let zr={},eV=[];const tV={};let rV,qr,Xp="dataLayer",nV="gtag",UE=!1;function jte(n,e,t){!function Bte(){const n=[];if(xk()&&n.push("This is a browser extension environment."),function iK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=mn.create("invalid-analytics-context",{errorInfo:e});kt.warn(t.message)}}();const r=n.options.appId;if(!r)throw mn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw mn.create("no-api-key");kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zr[r])throw mn.create("already-exists",{id:r});if(!UE){!function mte(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Xp);const{wrappedGtag:s,gtagCore:o}=function wte(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function vte(n,e,t,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function _te(n,e,t,r,i){return bE.apply(this,arguments)}(n,e,t,u,c)}else if("config"===o){const[u,c]=a;yield function yte(n,e,t,r,i,s){return DE.apply(this,arguments)}(n,e,t,r,u,c)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,c,l]=a;n("get",u,c,l)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){kt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(zr,eV,tV,Xp,nV);qr=s,rV=o,UE=!0}return zr[r]=function Vte(n,e,t,r,i,s,o){return VE.apply(this,arguments)}(n,eV,tV,e,rV,Xp,t),new Ute(n)}function iV(n,e,t,r){n=fn(n),function Nte(n,e,t,r,i){return ME.apply(this,arguments)}(qr,zr[n.app.options.appId],e,t,r).catch(i=>kt.error(i))}const sV="@firebase/analytics";!function Hte(){Fr(new pr(Jp,(e,{options:t})=>jte(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Fr(new pr("analytics-internal",function n(e){try{const t=e.getProvider(Jp).getImmediate();return{logEvent:(r,i,s)=>iV(t,r,i,s)}}catch(t){throw mn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Xn(sV,"0.10.0"),Xn(sV,"0.10.0","esm2017")}();const zte=function aV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},uV=new Bs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zp=new Cf("@firebase/auth");function eg(n,...e){Zp.logLevel<=ve.ERROR&&Zp.error(`Auth (${Ca}): ${n}`,...e)}function Tn(n,...e){throw $E(n,...e)}function jn(n,...e){return $E(n,...e)}function cV(n,e,t){const r=Object.assign(Object.assign({},zte()),{[e]:t});return new Bs("auth","Firebase",r).create(e,{appName:n.name})}function $E(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return uV.create(n,...e)}function M(n,e,...t){if(!n)throw $E(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw eg(e),new Error(e)}function bi(n,e){n||Wr(e)}function Hl(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function lV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class zl{constructor(e,t){this.shortDelay=e,this.longDelay=t,bi(t>e,"Short delay should be less than long delay!"),this.isMobile=function eK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}()||function nK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Wte(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function GE(){return"http:"===lV()||"https:"===lV()}()||xk()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function HE(n,e){bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Yte=new zl(3e4,6e4);function Ye(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function tt(n,e,t,r){return zE.apply(this,arguments)}function zE(){return zE=g(function*(n,e,t,r,i={}){return hV(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Rc(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),dV.fetch()(fV(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),zE.apply(this,arguments)}function hV(n,e,t){return qE.apply(this,arguments)}function qE(){return qE=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qte),e);try{const i=new Jte(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ql(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ql(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ql(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw ql(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cV(n,l,c);Tn(n,l)}}catch(i){if(i instanceof fr)throw i;Tn(n,"network-request-failed",{message:String(i)})}}),qE.apply(this,arguments)}function WE(){return WE=g(function*(n,e,t,r,i={}){const s=yield tt(n,e,t,r,i);return"mfaPendingCredential"in s&&Tn(n,"multi-factor-auth-required",{_serverResponse:s}),s}),WE.apply(this,arguments)}function fV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?HE(n.config,i):`${n.config.apiScheme}://${i}`}class Jte{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(jn(this.auth,"network-request-failed")),Yte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ql(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=jn(n,e,r);return i.customData._tokenResponse=t,i}function KE(){return KE=g(function*(n,e){return tt(n,"POST","/v1/accounts:delete",e)}),KE.apply(this,arguments)}function YE(){return YE=g(function*(n,e){return tt(n,"POST","/v1/accounts:lookup",e)}),YE.apply(this,arguments)}function Wl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function JE(){return JE=g(function*(n,e=!1){const t=fn(n),r=yield t.getIdToken(e),i=tg(r);M(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Wl(XE(i.auth_time)),issuedAtTime:Wl(XE(i.iat)),expirationTime:Wl(XE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}),JE.apply(this,arguments)}function XE(n){return 1e3*Number(n)}function tg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return eg("JWT malformed, contained fewer than 3 sections"),null;try{const i=vf(t);return i?JSON.parse(i):(eg("Failed to decode base64 JWT payload"),null)}catch(i){return eg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Si(n,e){return ZE.apply(this,arguments)}function ZE(){return ZE=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof fr&&function rne({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),ZE.apply(this,arguments)}class ine{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class pV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kl(n){return eD.apply(this,arguments)}function eD(){return eD=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Si(n,function ene(n,e){return YE.apply(this,arguments)}(t,{idToken:r}));M(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function ane(n){return n.map(e=>{var{providerId:t}=e,r=od(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function one(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),eD.apply(this,arguments)}function tD(){return tD=g(function*(n){const e=fn(n);yield Kl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),tD.apply(this,arguments)}function nD(){return nD=g(function*(n,e){const t=yield hV(n,{},g(function*(){const r=Rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=fV(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),nD.apply(this,arguments)}class Ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function nne(n){const e=tg(n);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function une(n,e){return nD.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Ql;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ql,this.toJSON())}_performRefresh(){return Wr("not implemented")}}function gs(n,e){M("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class go{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=od(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ine(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield Si(t,t.stsTokenManager.getToken(t.auth,e));return M(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function tne(n){return JE.apply(this,arguments)}(this,e)}reload(){return function sne(n){return tD.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new go(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Kl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield Si(e,function Xte(n,e){return KE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=t.createdAt)&&void 0!==c?c:void 0,E=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:k,isAnonymous:$,providerData:z,stsTokenManager:Ot}=t;M(v&&Ot,e,"internal-error");const Mi=Ql.fromJSON(this.name,Ot);M("string"==typeof v,e,"internal-error"),gs(d,e.name),gs(h,e.name),M("boolean"==typeof k,e,"internal-error"),M("boolean"==typeof $,e,"internal-error"),gs(f,e.name),gs(p,e.name),gs(m,e.name),gs(y,e.name),gs(I,e.name),gs(E,e.name);const fu=new go({uid:v,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Mi,createdAt:I,lastLoginAt:E});return z&&Array.isArray(z)&&(fu.providerData=z.map(Tse=>Object.assign({},Tse))),y&&(fu._redirectEventId=y),fu}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Ql;i.updateFromServerResponse(t);const s=new go({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Kl(s),s})()}}const gV=new Map;function Ai(n){bi(n instanceof Function,"Expected a class definition");let e=gV.get(n);return e?(bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gV.set(n,e),e)}const mV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function ng(n,e,t){return`firebase:${n}:${e}:${t}`}class lu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ng(this.userKey,i.apiKey,s),this.fullPersistenceKey=ng("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?go._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new lu(Ai(mV),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ai(mV);const o=ng(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=go._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new lu(s,e,r)):new lu(s,e,r)})()}}function yV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_V(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CV(e))return"Blackberry";if(EV(e))return"Webos";if(rD(e))return"Safari";if((e.includes("chrome/")||vV(e))&&!e.includes("edge/"))return"Chrome";if(IV(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function _V(n=St()){return/firefox\//i.test(n)}function rD(n=St()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vV(n=St()){return/crios\//i.test(n)}function wV(n=St()){return/iemobile/i.test(n)}function IV(n=St()){return/android/i.test(n)}function CV(n=St()){return/blackberry/i.test(n)}function EV(n=St()){return/webos/i.test(n)}function rg(n=St()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function DV(n=St()){return rg(n)||IV(n)||EV(n)||CV(n)||/windows phone/i.test(n)||wV(n)}function bV(n,e=[]){let t;switch(n){case"Browser":t=yV(St());break;case"Worker":t=`${yV(St())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ca}/${r}`}function TV(n,e){return sD.apply(this,arguments)}function sD(){return sD=g(function*(n,e){return tt(n,"GET","/v2/recaptchaConfig",Ye(n,e))}),sD.apply(this,arguments)}function AV(n){return void 0!==n&&void 0!==n.enterprise}class xV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function oD(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=jn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function fne(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function MV(n){return`__${n}${Math.floor(1e6*Math.random())}`}const mne="NO_RECAPTCHA";class NV{constructor(e){this.type="recaptcha-enterprise",this.auth=Pt(e)}verify(e="verify",t=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){TV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new xV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;AV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(mne)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&AV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));oD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class yne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class _ne{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RV(this),this.idTokenSubscription=new RV(this),this.beforeStateQueue=new yne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield lu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return M(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield Kl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Kte(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?fn(e):null;return r&&M(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(Ai(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const t=yield TV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new xV(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new NV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&Ai(e)||t._popupRedirectResolver;M(r,t,"argument-error"),t.redirectPersistenceManager=yield lu.create(t,[Ai(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function qte(n,...e){Zp.logLevel<=ve.WARN&&Zp.warn(`Auth (${Ca}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Pt(n){return fn(n)}class RV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function cK(n,e){const t=new lK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function PV(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class OV{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}function xi(n,e){return ED.apply(this,arguments)}function ED(){return ED=g(function*(n,e){return function Ti(n,e,t,r){return WE.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",Ye(n,e))}),ED.apply(this,arguments)}class du extends OV{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new du(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=od(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new du(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return xi(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xi(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rc(t)}return e}}class ys{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class UV extends ys{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let AD=(()=>{class n extends UV{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return du._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();class er{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield go._fromIdTokenResponse(e,r,i),o=BV(r);return new er({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=BV(r);return new er({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function BV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ug extends fr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ug.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new ug(e,t,r,i)}}function jV(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?ug._fromErrorAndOperation(n,s,e,r):s})}function PD(){return PD=g(function*(n,e,t=!1){const r=yield Si(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return er._forOperation(n,"link",r)}),PD.apply(this,arguments)}function FD(){return FD=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Si(n,jV(r,i,e,n),t);M(s.idToken,r,"internal-error");const o=tg(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(n.uid===a,r,"user-mismatch"),er._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Tn(r,"user-mismatch"),s}}),FD.apply(this,arguments)}function LD(){return LD=g(function*(n,e,t=!1){const r="signIn",i=yield jV(n,r,e),s=yield er._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),LD.apply(this,arguments)}const lg="__sak";class qV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lg,"1"),this.storage.removeItem(lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ore=(()=>{class n extends qV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rre(){const n=St();return rD(n)||rg(n)}()&&function dne(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=DV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function lne(){return function rK(){const n=St();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),WV=(()=>{class n extends qV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let ure=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function are(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function dg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class cre{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=dg("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function vt(){return window}function p0(){return typeof vt().WorkerGlobalScope<"u"&&"function"==typeof vt().importScripts}function g0(){return(g0=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const KV="firebaseLocalStorageDb",pre=1,hg="firebaseLocalStorage",QV="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fg(n,e){return n.transaction([hg],e?"readwrite":"readonly").objectStore(hg)}function m0(){const n=indexedDB.open(KV,pre);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hg,{keyPath:QV})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(hg)?e(r):(r.close(),yield function gre(){const n=indexedDB.deleteDatabase(KV);return new Xl(n).toPromise()}(),e(yield m0()))}))})}function YV(n,e,t){return y0.apply(this,arguments)}function y0(){return y0=g(function*(n,e,t){const r=fg(n,!0).put({[QV]:e,value:t});return new Xl(r).toPromise()}),y0.apply(this,arguments)}function _0(){return _0=g(function*(n,e){const t=fg(n,!1).get(e),r=yield new Xl(t).toPromise();return void 0===r?null:r.value}),_0.apply(this,arguments)}function JV(n,e){const t=fg(n,!0).delete(e);return new Xl(t).toPromise()}const vre=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield m0()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return p0()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=ure._getInstance(function fre(){return p0()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function dre(){return g0.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new cre(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function hre(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield m0();return yield YV(t,lg,"1"),yield JV(t,lg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>YV(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function mre(n,e){return _0.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>JV(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=fg(o,!1).getAll();return new Xl(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function yo(n,e){return e?Ai(e):(M(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}MV("rcb"),new zl(3e4,6e4);class S0 extends OV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ore(n){return function HV(n,e){return LD.apply(this,arguments)}(n.auth,new S0(n),n.bypassAuthState)}function Fre(n){const{auth:e,user:t}=n;return M(t,e,"internal-error"),function GV(n,e){return FD.apply(this,arguments)}(t,new S0(n),n.bypassAuthState)}function Lre(n){return A0.apply(this,arguments)}function A0(){return A0=g(function*(n){const{auth:e,user:t}=n;return M(t,e,"internal-error"),function kD(n,e){return PD.apply(this,arguments)}(t,new S0(n),n.bypassAuthState)}),A0.apply(this,arguments)}class ZV{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ore;case"linkViaPopup":case"linkViaRedirect":return Lre;case"reauthViaPopup":case"reauthViaRedirect":return Fre;default:Tn(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vre=new zl(2e3,1e4);function x0(){return x0=g(function*(n,e,t){const r=Pt(n);!function cu(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Tn(n,"argument-error"),cV(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,e,ys);const i=yo(r,t);return new R0(r,"signInViaPopup",e,i).executeNotNull()}),x0.apply(this,arguments)}let R0=(()=>{class n extends ZV{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return g(function*(){const r=yield t.execute();return M(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return g(function*(){bi(1===t.filter.length,"Popup operations only handle one event");const r=dg();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(jn(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,Vre.get())};t()}}return n.currentPopupAction=null,n})();const Bre="pendingRedirect",Zl=new Map;class jre extends ZV{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Zl.get(t.auth._key());if(!r){try{const s=(yield function $re(n,e){return k0.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Zl.set(t.auth._key(),r)}return t.bypassAuthState||Zl.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function k0(){return k0=g(function*(n,e){const t=function tU(n){return ng(Bre,n.config.apiKey,n.name)}(e),r=function eU(n){return Ai(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),k0.apply(this,arguments)}function Gre(n,e){Zl.set(n._key(),e)}function nU(n,e){return B0.apply(this,arguments)}function B0(){return B0=g(function*(n,e,t=!1){const r=Pt(n),i=yo(r,e),o=yield new jre(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),B0.apply(this,arguments)}class Kre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Qre(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sU(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!sU(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(jn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iU(e))}saveEventToCache(e){this.cachedEventUids.add(iU(e)),this.lastProcessedEventTime=Date.now()}}function iU(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sU({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function $0(){return $0=g(function*(n,e={}){return tt(n,"GET","/v1/projects",e)}),$0.apply(this,arguments)}const Jre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xre=/^https?/;function G0(){return G0=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Yre(n){return $0.apply(this,arguments)}(n);for(const t of e)try{if(eie(t))return}catch{}Tn(n,"unauthorized-domain")}),G0.apply(this,arguments)}function eie(n){const e=Hl(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Xre.test(t))return!1;if(Jre.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const tie=new zl(3e4,6e4);function oU(){const n=vt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let gg=null;const iie=new zl(5e3,15e3),sie="__/auth/iframe",oie="emulator/auth/iframe",aie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cie(n){const e=n.config;M(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?HE(e,oie):`https://${n.config.authDomain}/${sie}`,r={apiKey:e.apiKey,appName:n.name,v:Ca},i=uie.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Rc(r).slice(1)}`}function H0(){return H0=g(function*(n){const e=yield function rie(n){return gg=gg||function nie(n){return new Promise((e,t)=>{var r,i,s;function o(){oU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oU(),t(jn(n,"network-request-failed"))},timeout:tie.get()})}if(null!==(i=null===(r=vt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=vt().gapi)||void 0===s||!s.load){const a=MV("iframefcb");return vt()[a]=()=>{gapi.load?o():t(jn(n,"network-request-failed"))},oD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw gg=null,e})}(n),gg}(n),t=vt().gapi;return M(t,n,"internal-error"),e.open({where:document.body,url:cie(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aie,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=jn(n,"network-request-failed"),u=vt().setTimeout(()=>{o(a)},iie.get());function c(){vt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),H0.apply(this,arguments)}const die={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hie=500,fie=600,pie="_blank",gie="http://localhost";class aU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _ie="__/auth/handler",vie="emulator/auth/handler",wie=encodeURIComponent("fac");function uU(n,e,t,r,i,s){return z0.apply(this,arguments)}function z0(){return z0=g(function*(n,e,t,r,i,s){M(n.config.authDomain,n,"auth-domain-config-required"),M(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ca,eventId:i};if(e instanceof ys){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function uK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof UV){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield n._getAppCheckToken(),c=u?`#${wie}=${encodeURIComponent(u)}`:"";return`${function Iie({config:n}){return n.emulator?HE(n,vie):`https://${n.authDomain}/${_ie}`}(n)}?${Rc(a).slice(1)}${c}`}),z0.apply(this,arguments)}const q0="webStorageSupport",Eie=class Cie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WV,this._completeRedirectFn=nU,this._overrideRedirectResult=Gre}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;bi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield uU(e,t,r,Hl(),i);return function mie(n,e,t,r=hie,i=fie){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},die),{width:r.toString(),height:i.toString(),top:s,left:o}),c=St().toLowerCase();t&&(a=vV(c)?pie:t),_V(c)&&(e=e||gie,u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function cne(n=St()){var e;return rg(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function yie(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new aU(null);const d=window.open(e||"",a,l);M(d,n,"popup-blocked");try{d.focus()}catch{}return new aU(d)}(e,a,dg())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function lre(n){vt().location.href=n}(yield uU(e,t,r,Hl(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(bi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function lie(n){return H0.apply(this,arguments)}(e),i=new Kre(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(q0,{type:q0},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[q0];void 0!==o&&t(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Zre(n){return G0.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DV()||rD()||rg()}};var dU="@firebase/auth";class Die{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Aie=Sk("authIdTokenMaxAge")||300;let fU=null;const xie=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Aie)return;const s=r?.token;fU!==s&&(fU=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Mie(n=Fv()){const e=Qi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function vne(n,e){const t=Qi(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Nc(t.getOptions(),e??{}))return i;Tn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Eie,persistence:[vre,ore,WV]}),r=Sk("authTokenSyncURL");if(r){const s=xie(r);(function Jne(n,e,t){fn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function Yne(n,e,t,r){fn(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=bk("auth");return i&&function Ine(n,e,t){const r=Pt(n);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=kV(e),{host:o,port:a}=function Cne(n){const e=kV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:PV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:PV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Ene(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function Tie(n){Fr(new pr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bV(n)},c=new _ne(r,i,s,u);return function wne(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fr(new pr("auth-internal",e=>{const t=Pt(e.getProvider("auth").getImmediate());return new Die(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(dU,"0.23.2",function bie(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Xn(dU,"0.23.2","esm2017")}("Browser");var ed=(()=>(function(n){n.USER="USER",n.CLIENT="CLIENT",n.ADMIN="ADMIN"}(ed||(ed={})),ed))();let _o=(()=>{var n;class e{constructor(){this.app=$k(Nie),this.analytics=function $te(n=Fv()){const e=Qi(n=fn(n),Jp);return e.isInitialized()?e.getImmediate():function Gte(n,e={}){const t=Qi(n,Jp);if(t.isInitialized()){const i=t.getImmediate();if(Nc(e,t.getOptions()))return i;throw mn.create("already-initialized")}return t.initialize({options:e})}(n)}(this.app),this.firestore=function PZ(n,e){const r="string"==typeof n?n:e||"(default)",i=Qi("object"==typeof n?n:Fv(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=bk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function NZ(n,e,t,r={}){var i;const s=(n=ye(n,Ol))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Mt.MOCK_USER;else{a=function ZW(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_f(JSON.stringify({alg:"none",type:"JWT"})),_f(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mt(c)}n._authCredentials=new xY(new dO(a,u))}}(i,...s)}return i}(this.app),this.auth=Mie(this.app),this.isAdmin=!1,this.categoryCollection=Fl(this.firestore,"categories"),this.coursesCollection=Fl(this.firestore,"courses"),this.data={},this.refreshEvent=new Oe,this.refreshUser=new Oe,this.refresh(dt.CATEGORIES),this.refresh(dt.COURSES)}refresh(r){const s=function zZ(n,e,...t){let r=[];e instanceof VC&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof iu).length,o=i.filter(a=>a instanceof jl).length;if(s>1||s>0&&o>0)throw new b(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}(Fl(this.firestore,r));(function YZ(n){n=ye(n,Wt);const e=ye(n.firestore,Ge),t=_t(e),r=new fs(e);return function m2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new b(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function QL(n,e,t={}){const r=new Dt;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new Fp({next:d=>{s.enqueueAndForget(()=>KI(i,l)),d.fromCache&&"server"===a.source?u.reject(new b(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new JI(o,c,{includeMetadataChanges:!0,Ku:!0});return qI(i,l)}(yield tu(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new ou(e,r,n,i))})(s).then(o=>{this.data[r]=[],o.forEach(a=>{let u=a.data();u.id=a.id,this.data[r].push(u)}),this.refreshEvent.emit(r)})}login(r){var i=this;return g(function*(){const s=Ll(i.firestore,"users",r.id),o=yield function QZ(n){n=ye(n,lt);const e=ye(n.firestore,Ge);return function KL(n,e,t={}){const r=new Dt;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new Fp({next:d=>{s.enqueueAndForget(()=>KI(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new b(w.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new b(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new JI(Fa(o.path),c,{includeMetadataChanges:!0,Ku:!0});return qI(i,l)}(yield tu(n),n.asyncQueue,e,t,r)})),r.promise}(_t(e),n._key).then(t=>function jC(n,e,t){const r=t.docs.get(e._key),i=new fs(n);return new su(n,i,e._key,r,new ho(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}(s);if(o.exists()){let a=o.data();console.log("FirestoreService:login:: Existing User :",a),i.user={id:a.id,name:a.name,email:a.email,contact:a.contact,role:a.role,image:a.image},i.refreshUser.emit(i.user),i.log(vo.LOGIN,i.user),i.isAdmin=i.user.role==ed.ADMIN}else console.log("FirestoreService:login:: Create new user: "+r.email),i.user=r,yield E2(Ll(Fl(i.firestore,"users"),r.id),i.user),console.log("FirestoreService:login:: Created new user: "+r.email),i.refreshUser.emit(i.user),i.log(vo.SIGN_UP,i.user)})()}logout(){var r=this;return g(function*(){console.log("FirestoreService:logout:: Logging out user: "+r.user?.email),r.user=void 0,r.isAdmin=!1,r.log(vo.LOGOUT,r.user),r.refreshUser.emit(r.user)})()}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),iV(this.analytics,r,s)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var dt=(()=>(function(n){n.USERS="users",n.CATEGORIES="categories",n.COURSES="courses",n.ASSESSMENTS="assessments"}(dt||(dt={})),dt))(),vo=(()=>(function(n){n.PAGE_VIEW="PAGE_VIEW",n.LOGIN="login",n.SIGN_UP="sign_up",n.LOGOUT="logout"}(vo||(vo={})),vo))();const Nie={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function Rie(n,e){if(1&n&&(S(0,"div",7)(1,"div",8)(2,"div",9)(3,"h5",10),V(4),S(5,"i",11),V(6,"open_in_new"),x()(),S(7,"h6",12),V(8),x(),Fn(9,"p",13),x()()()),2&n){const t=e.$implicit;ie(4),Kn(t.name),ie(1),de("routerLink","/course/"+t.id),ie(3),Kn(t.description)}}function kie(n,e){if(1&n){const t=Bt();S(0,"div",14)(1,"div",15)(2,"button",16),X("click",function(){return Ee(t),De(se().addCourseModal=!0)}),S(3,"i",17),V(4,"add"),x()()()()}}function Pie(n,e){if(1&n&&(S(0,"option",35),V(1),x()),2&n){const t=e.$implicit;de("value",t.name),ie(1),Kn(t.name)}}function Oie(n,e){if(1&n){const t=Bt();S(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h4",22),V(5,"New Course"),x(),S(6,"button",23),X("click",function(){return Ee(t),De(se().addCourseModal=!1)}),x()(),S(7,"div",24)(8,"div",25)(9,"div",26)(10,"input",27),X("ngModelChange",function(i){return Ee(t),De(se().course.name=i)}),x()(),S(11,"div",26)(12,"input",28),X("ngModelChange",function(i){return Ee(t),De(se().course.description=i)}),x()(),S(13,"div",26)(14,"select",29),X("ngModelChange",function(i){return Ee(t),De(se().course.category=i)}),S(15,"option",30),V(16,"Select Category"),x(),We(17,Pie,2,2,"option",31),x()(),S(18,"div",26)(19,"input",32),X("ngModelChange",function(i){return Ee(t),De(se().course.image=i)}),x()()()(),S(20,"div",33)(21,"button",34),X("click",function(){return Ee(t),De(se().addCourse())}),V(22,"Add"),x()()()()()}if(2&n){const t=se();ie(10),de("ngModel",t.course.name),ie(2),de("ngModel",t.course.description),ie(2),de("id",t.course.category)("ngModel",t.course.category),ie(3),de("ngForOf",t.categories),ie(2),de("ngModel",t.course.image)}}let pU=(()=>{var n;class e{constructor(r){this.firestore=r,this.addCourseModal=!1,this.course={name:"",description:"",image:"",category:"",active:!0},this.categories=[],this.courses=[],this.deleteConfirm=!1,this.categories=this.firestore.data[dt.CATEGORIES],this.setCourses(this.firestore.data[dt.COURSES]),this.firestore.refreshEvent.subscribe(i=>{i==dt.CATEGORIES&&(this.categories=this.firestore.data[dt.CATEGORIES]),(i=dt.COURSES)&&this.setCourses(this.firestore.data[dt.COURSES])})}setCourses(r){null!=r&&(this.courses=r.filter(i=>1==i.active),this.firestore.isAdmin&&(this.courses=r))}addCourse(){console.log(this.course),this.validate()?D2(this.firestore.coursesCollection,this.course).then(r=>{alert("Course has been added succesfully ID:"+r.id),this.firestore.refresh(dt.COURSES)}):alert("Please enter name, description, category")}validate(){return this.isNotEmpty(this.course.name)&&this.isNotEmpty(this.course.description)&&this.isNotEmpty(this.course.category)}isNotEmpty(r){return null!=r&&""!=r}}return(n=e).\u0275fac=function(r){return new(r||n)(C(_o))},n.\u0275cmp=Ft({type:n,selectors:[["app-courses"]],decls:9,vars:3,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"form-control","x",3,"ngModel","ngModelChange"],["placeholder","Category",1,"form-control","x",3,"id","ngModel","ngModelChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Image URL",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1)(2,"span"),V(3,"Courses"),x()()(),S(4,"div",2)(5,"div",3),We(6,Rie,10,3,"div",4),x()(),We(7,kie,5,0,"div",5),We(8,Oie,23,6,"div",6)),2&r&&(ie(6),de("ngForOf",i.courses),ie(1),de("ngIf",i.firestore.isAdmin),ie(1),de("ngIf",i.addCourseModal))},dependencies:[ua,ks,wa,JN,ZN,ca,qh,Lh,pc],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})(),Fie=(()=>{var n;class e{constructor(){this.isMobile=function(){let n=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(n=!0),n;var e}(),this.menu=!this.isMobile}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(r,i){1&r&&Fn(0,"app-courses")},dependencies:[pU],styles:[".a[_ngcontent-%COMP%]{height:70px;background-color:#6495ed}.a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:35px;font-weight:700;margin:10px;color:#fff}"]}),e})(),Lie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(Fn(0,"div",0),S(1,"div",1)(2,"div",2),Fn(3,"img",3),S(4,"span",4)(5,"i",5),V(6,"edit"),x()(),S(7,"div",6)(8,"div",7),V(9,"V.V.S.K Chaitanya"),x(),S(10,"div",8),V(11,"Software Engineer"),x()()()(),S(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),V(16,"menu_book"),x(),S(17,"span"),V(18,"Courses"),x()(),S(19,"div",12)(20,"i",5),V(21,"assignment"),x(),S(22,"span"),V(23,"Assessments"),x()(),S(24,"div",13)(25,"i",5),V(26,"notifications"),x(),S(27,"span"),V(28,"Notifications"),x()(),S(29,"div",14)(30,"i",5),V(31,"person"),x(),S(32,"span"),V(33,"Update Profile"),x()(),S(34,"div",15)(35,"i",5),V(36,"logout"),x(),S(37,"span"),V(38,"Logout"),x()()()())},dependencies:[wa],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})(),Vie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&Fn(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})();function Uie(n,e){if(1&n){const t=Bt();S(0,"i",6),X("click",function(){Ee(t);const i=se(2);return De(i.expand=!i.expand)}),V(1),x()}if(2&n){const t=se(2);ie(1),Kn(t.expand?"expand_more":"chevron_right")}}function Bie(n,e){if(1&n){const t=Bt();S(0,"div")(1,"app-category",9),X("select",function(i){return Ee(t),De(se(3).select.emit(i))}),x()()}if(2&n){const t=e.$implicit,r=se(3);ie(1),de("category",t)("current",r.current)}}function jie(n,e){if(1&n&&(S(0,"div",7),We(1,Bie,2,2,"div",8),x()),2&n){const t=se(2);ie(1),de("ngForOf",t.category.categories)}}const $ie=function(n){return{"active-node":n}};function Gie(n,e){if(1&n){const t=Bt();S(0,"div",1)(1,"div",2),We(2,Uie,2,1,"i",3),S(3,"span",4),X("click",function(){Ee(t);const i=se();return De(i.select.emit(i.category))}),V(4),x()(),We(5,jie,2,1,"div",5),x()}if(2&n){const t=se();ie(1),de("ngClass",Sy(4,$ie,null!=t.current&&t.category.id==t.current.id)),ie(1),de("ngIf",null!=t.category.categories&&t.category.categories.length>=0),ie(2),Kn(t.category.name),ie(1),de("ngIf",t.expand)}}let Hie=(()=>{var n;class e{constructor(){this.select=new Oe,this.expand=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(r,i){1&r&&We(0,Gie,6,6,"div",0),2&r&&de("ngIf",i.category)},dependencies:[p_,ua,ks,n],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})();function zie(n,e){if(1&n){const t=Bt();S(0,"div",11)(1,"app-category",12),X("select",function(i){return Ee(t),De(se().select(i))}),x()()}if(2&n){const t=e.$implicit,r=se();ie(1),de("category",t)("current",r.category)}}function qie(n,e){if(1&n){const t=Bt();S(0,"button",13),X("click",function(){return Ee(t),De(se().deleteConfirm=!0)}),S(1,"i",8),V(2,"delete"),x()()}}function Wie(n,e){if(1&n){const t=Bt();S(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),V(5,"New Category"),x(),S(6,"button",19),X("click",function(){return Ee(t),De(se().addCategoryModal=!1)}),x()(),S(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),X("ngModelChange",function(i){return Ee(t),De(se().categoryName=i)}),x()()()(),S(11,"div",24)(12,"button",25),X("click",function(){return Ee(t),De(se().addCategory())}),V(13,"Add"),x()()()()()}if(2&n){const t=se();ie(10),de("ngModel",t.categoryName)}}function Kie(n,e){if(1&n){const t=Bt();S(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),V(5,"Delete Category"),x(),S(6,"button",19),X("click",function(){return Ee(t),De(se().deleteConfirm=!1)}),x()(),S(7,"div",20)(8,"div",21)(9,"div",22),V(10),x()()(),S(11,"div",24)(12,"button",25),X("click",function(){return Ee(t),De(se().deleteCategory())}),V(13,"Delete"),x()()()()()}if(2&n){const t=se();ie(10),rh(" Confirm to delete ",null==t.category?null:t.category.name," ")}}let Qie=(()=>{var n;class e{constructor(r){this.firestore=r,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh(),this.firestore.refreshEvent.subscribe(i=>{i==dt.CATEGORIES&&this.refresh()})}refresh(){this.categories=[];let r=this.firestore.data[dt.CATEGORIES];r.filter(i=>null==i.parent).forEach(i=>this.categories.push(i)),this.categories.forEach(i=>this.linkCategories(i,r)),console.log(this.categories)}linkCategories(r,i){r.categories=[],i.filter(s=>null!=s.parent&&s.parent==r.id).forEach(s=>{this.linkCategories(s,i),r.categories?.push(s)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let r={name:this.categoryName,active:!0};this.category&&(r.parent=this.category.id),D2(this.firestore.categoryCollection,r).then(i=>{alert("Category has been added succesfully ID:"+i.id),this.firestore.refresh(dt.CATEGORIES)})}else alert("Please enter category name")}isNotEmpty(r){return null!=r&&""!=r}select(r){console.log("Selected Category",r),this.category=r}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&function JZ(n){return $l(ye(n.firestore,Ge),[new Ba(n._key,ze.none())])}(Ll(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.firestore.refresh(dt.CATEGORIES)})}}return(n=e).\u0275fac=function(r){return new(r||n)(C(_o))},n.\u0275cmp=Ft({type:n,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1)(2,"span"),V(3,"Categories"),x()()(),S(4,"div",2)(5,"div",3),We(6,zie,2,2,"div",4),x()(),S(7,"div",5)(8,"div",6)(9,"button",7),X("click",function(){return i.addCategoryModal=!0}),S(10,"i",8),V(11,"add"),x()(),We(12,qie,3,0,"button",9),x()(),We(13,Wie,14,1,"div",10),We(14,Kie,14,1,"div",10)),2&r&&(ie(6),de("ngForOf",i.categories),ie(6),de("ngIf",null!=i.category),ie(1),de("ngIf",i.addCategoryModal),ie(1),de("ngIf",i.deleteConfirm))},dependencies:[ua,ks,ca,Lh,pc,Hie],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})(),Yie=(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,this.provider=new AD,i.refreshUser.subscribe(s=>this.router.navigate(s?["dashboard"]:["home"]))}login(){(function Ure(n,e,t){return x0.apply(this,arguments)})(this.fs.auth,this.provider).then(r=>{AD.credentialFromResult(r);let o=r.user;this.fs.login({id:o.uid,email:o.email,name:o.displayName,contact:o.phoneNumber,image:o.photoURL,role:ed.USER})}).catch(r=>{console.error(r),AD.credentialFromError(r)})}}return(n=e).\u0275fac=function(r){return new(r||n)(C($t),C(_o))},n.\u0275cmp=Ft({type:n,selectors:[["app-login"]],decls:5,vars:0,consts:[[1,"row","text-center"],[1,"col-md-4","col-sm-6","col-xs-6","col-6","form"],["src","../../assets/icons/google-logo.png"],[3,"click"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1),Fn(2,"img",2),S(3,"button",3),X("click",function(){return i.login()}),V(4,"Sign in"),x()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:55px auto 10px}"]}),e})(),Jie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(r,i){}}),e})(),Xie=(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,i.refreshUser.subscribe(s=>this.router.navigate(s?["dashboard"]:["home"]))}logout(){(function Xne(n){return fn(n).signOut()})(this.fs.auth).then(()=>this.fs.logout())}}return(n=e).\u0275fac=function(r){return new(r||n)(C($t),C(_o))},n.\u0275cmp=Ft({type:n,selectors:[["app-logout"]],decls:7,vars:0,consts:[[1,"row","text-center"],[1,"col-md-4","col-sm-6","col-xs-6","col-6","form"],[3,"click"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1)(2,"p"),V(3," Are you sure you want to log-off? "),Fn(4,"br"),x(),S(5,"button",2),X("click",function(){return i.logout()}),V(6,"Logout"),x()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:55px auto 10px}"]}),e})(),Zie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-assessment"]],decls:2,vars:0,template:function(r,i){1&r&&(S(0,"p"),V(1,"assessment works!"),x())}}),e})();function ese(n,e){if(1&n&&(S(0,"tr")(1,"td"),V(2),x(),S(3,"td"),V(4),x(),S(5,"td")(6,"i",3),V(7,"open_in_new"),x(),S(8,"i",4),V(9,"edit"),x(),S(10,"i",5),V(11,"delete"),x()()()),2&n){const t=e.$implicit;ie(2),Kn(t.name),ie(2),Kn(t.course)}}let tse=(()=>{var n;class e{constructor(){this.assessments=[],this.assessments.push({id:"asdf",name:"Assess 1",course:"Course 1",content:""})}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-assessments"]],decls:14,vars:1,consts:[[1,"container","mt-3"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","pointer"],[1,"material-icons","mx-2","pointer","text-info"],[1,"material-icons","mx-2","pointer","text-danger"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"h2"),V(2,"Assessments"),x(),S(3,"table",1)(4,"thead")(5,"tr")(6,"th"),V(7,"Name"),x(),S(8,"th"),V(9,"Course"),x(),S(10,"th"),V(11,"Actions"),x()()(),S(12,"tbody"),We(13,ese,12,2,"tr",2),x()()()),2&r&&(ie(13),de("ngForOf",i.assessments))},dependencies:[ua]}),e})();function nse(n,e){if(1&n&&(S(0,"div",7)(1,"div",8)(2,"span"),V(3),x(),S(4,"span",9)(5,"i",10),V(6,"logout"),x(),V(7,"Exit"),x()()()),2&n){const t=se();ie(3),Kn(t.course.name),ie(1),de("routerLink","/courses")}}function rse(n,e){if(1&n){const t=Bt();S(0,"div",11)(1,"div",12)(2,"span",13),X("click",function(){return Ee(t),De(se().prev())}),S(3,"i",10),V(4,"chevron_left"),x(),V(5,"PREV"),x()(),S(6,"div",12)(7,"span",14),X("click",function(){return Ee(t),De(se().next())}),V(8,"NEXT"),S(9,"i",10),V(10,"chevron_right"),x()()()()}}function ise(n,e){if(1&n){const t=Bt();S(0,"button",20),X("click",function(){return Ee(t),De(se(2).editPageModal=!0)}),S(1,"i",19),V(2,"edit"),x()()}}function sse(n,e){if(1&n){const t=Bt();S(0,"div",15)(1,"div",16),We(2,ise,3,0,"button",17),S(3,"button",18),X("click",function(){return Ee(t),De(se().addPageModal=!0)}),S(4,"i",19),V(5,"add"),x()()()()}if(2&n){const t=se();ie(2),de("ngIf",t.page)}}function ose(n,e){if(1&n){const t=Bt();S(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"h4",25),V(5,"Add Page"),x(),S(6,"button",26),X("click",function(){return Ee(t),De(se().addPageModal=!1)}),x()(),S(7,"div",27)(8,"div",28)(9,"div",29)(10,"textarea",30),X("ngModelChange",function(i){return Ee(t),De(se().newPage=i)}),x()()()(),S(11,"div",31)(12,"button",32),X("click",function(){return Ee(t),De(se().addPage())}),V(13,"Add"),x()()()()()}if(2&n){const t=se();ie(10),de("ngModel",t.newPage)}}function ase(n,e){if(1&n){const t=Bt();S(0,"div",21)(1,"div",33)(2,"div",23)(3,"div",24)(4,"h4",25),V(5,"Edit Page"),x(),S(6,"button",26),X("click",function(){return Ee(t),De(se().editPageModal=!1)}),x()(),S(7,"div",27)(8,"div",28)(9,"div",29)(10,"textarea",30),X("ngModelChange",function(i){return Ee(t),De(se().page=i)}),x()()()(),S(11,"div",31)(12,"button",34),X("click",function(){return Ee(t),De(se().deletePage())}),V(13,"Delete"),x(),S(14,"button",32),X("click",function(){return Ee(t),De(se().editPage())}),V(15,"Update"),x()()()()()}if(2&n){const t=se();ie(10),de("ngModel",t.page)}}const use=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Fie},{path:"login",component:Yie},{path:"dashboard",component:Jie},{path:"logout",component:Xie},{path:"account",component:Lie},{path:"profile",component:Vie},{path:"categories",component:Qie},{path:"courses",component:pU},{path:"course/:id",component:(()=>{var n;class e{constructor(r,i){this.firestore=r,this.route=i,this.id=null,this.page=void 0,this.newPage="",this.pageIndex=0,this.addPageModal=!1,this.editPageModal=!1}ngOnDestroy(){window.postMessage("ToggleHeader")}ngOnInit(){window.postMessage("ToggleHeader"),this.id=this.route.snapshot.paramMap.get("id"),console.log("Course ID: "+this.id),null==this.firestore.data[dt.COURSES]?this.firestore.refreshEvent.subscribe(r=>{r==dt.COURSES&&this.refresh()}):this.refresh()}refresh(){var r=void 0;this.id&&null!=this.firestore.data[dt.COURSES]&&(r=this.firestore.data[dt.COURSES].filter(i=>i.id==this.id)[0]),r&&(this.course=r),this.course?.pages&&this.course?.pages[0]&&(this.page=this.course.pages[0])}save(){var r=this;return g(function*(){r.course&&(yield E2(Ll(Fl(r.firestore.firestore,dt.COURSES),r.course.id),r.course))})()}next(){this.course&&null!=this.course.pages&&this.pageIndex!=this.course?.pages?.length-1&&(this.pageIndex++,this.page=this.course.pages[this.pageIndex])}prev(){this.course&&null!=this.course.pages&&0!=this.pageIndex&&(this.pageIndex--,this.page=this.course.pages[this.pageIndex])}addPage(){var r=this;return g(function*(){r.course&&(null==r.course.pages&&(r.course.pages=[]),r.course.pages.push(r.newPage),yield r.save(),alert("Page Added"),r.pageIndex=r.course.pages.length-1,r.page=r.course.pages[r.pageIndex],r.addPageModal=!1)})()}deletePage(){var r=this;return g(function*(){r.course&&null!=r.course.pages&&r.page&&(r.course.pages.splice(r.pageIndex,1),yield r.save(),alert("Page Deleted"),r.pageIndex=0,r.page=r.course.pages[r.pageIndex],r.editPageModal=!1)})()}editPage(){var r=this;return g(function*(){r.course&&null!=r.course.pages&&r.page&&(r.course.pages[r.pageIndex]=r.page,yield r.save(),alert("Page Updated"),r.page=r.course.pages[r.pageIndex],r.editPageModal=!1)})()}}return(n=e).\u0275fac=function(r){return new(r||n)(C(_o),C(Us))},n.\u0275cmp=Ft({type:n,selectors:[["app-course"]],decls:8,vars:6,consts:[["class","row m-0 px-2 r text-center",4,"ngIf"],[1,"c","px-1"],[1,"row","mt-3"],[1,"col-12","mx-3","my-1","p-0","h-100",3,"innerHtml"],["class","row m-0 fo",4,"ngIf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"e",3,"routerLink"],[1,"material-icons"],[1,"row","m-0","fo"],[1,"col-6"],[3,"click"],[2,"float","right",3,"click"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],[1,"btn","btn-warning",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-dialog","modal-lg"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(r,i){1&r&&(We(0,nse,8,2,"div",0),S(1,"div",1)(2,"div",2),Fn(3,"div",3),x()(),We(4,rse,11,0,"div",4),We(5,sse,6,1,"div",5),We(6,ose,14,1,"div",6),We(7,ase,16,1,"div",6)),2&r&&(de("ngIf",i.course),ie(3),de("innerHtml",i.page,hS),ie(1),de("ngIf",i.course),ie(1),de("ngIf",i.firestore.isAdmin),ie(1),de("ngIf",i.addPageModal),ie(1),de("ngIf",i.editPageModal))},dependencies:[ks,wa,ca,Lh,pc],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]{float:right;font-size:20px;padding:10px;cursor:pointer}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{vertical-align:sub;margin-right:5px}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin:0 10px;padding:5px;vertical-align:sub}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.fo[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}"]}),e})()},{path:"assessments",component:tse},{path:"assessments/:id",component:Zie}];let cse=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Cr({type:n}),n.\u0275inj=tr({imports:[vk.forRoot(use),vk]}),e})();class lse extends Sn{constructor(e,t){super()}schedule(e,t=0){return this}}const yg={setInterval(n,e,...t){const{delegate:r}=yg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=yg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},gU={now:()=>(gU.delegate||Date).now(),delegate:void 0};class td{constructor(e,t=td.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}td.now=gU.now;const mU=new class hse extends td{constructor(e,t=td.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class dse extends lse{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return yg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&yg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),fse=mU;function yU(n,e){return e?t=>Kh(e.pipe(ji(1),function pse(){return wt((n,e)=>{n.subscribe(ht(e,_g))})}()),t.pipe(yU(n))):Tt((t,r)=>An(n(t,r)).pipe(ji(1),mR(t)))}const _se=function(n){return{active:n}};function vse(n,e){if(1&n){const t=Bt();S(0,"div",5),X("click",function(){const s=Ee(t).$implicit;return De(se().focus(s.route))}),S(1,"i",6),V(2),x(),S(3,"span",7),V(4),x()()}if(2&n){const t=e.$implicit,r=se();de("ngClass",Sy(3,_se,r.active=="/"+t.route)),ie(2),Kn(t.icon),ie(2),Kn(t.name)}}let wse=(()=>{var n;class e{constructor(r,i){this.router=r,this.firestore=i,this.close=new Oe,this.active="",this.menus=[],this.active=this.router.url,this.user=i.user,this.load(),r.events.subscribe(s=>{s instanceof qi&&(this.active=this.router.url)}),i.refreshUser.subscribe(s=>{this.user=s,this.load()})}load(){this.menus=[],this.user?"ADMIN"==this.user.role?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Categories",icon:"category",route:"categories"}),this.menus.push({name:"Courses",icon:"menu_book",route:"courses"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):("CLIENT"==this.user.role||"USER"==this.user.role)&&(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Assessments",icon:"assignment",route:"assessments"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):this.menus.push({name:"Login",icon:"login",route:"login"})}focus(r){this.router.navigate([r]),this.close.emit(!0)}}return(n=e).\u0275fac=function(r){return new(r||n)(C($t),C(_o))},n.\u0275cmp=Ft({type:n,selectors:[["app-menu"]],outputs:{close:"close"},decls:6,vars:1,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1)(2,"i",2),X("click",function(){return i.close.emit(!0)}),V(3,"close"),x()(),S(4,"div",3),We(5,vse,5,5,"div",4),x()()),2&r&&(ie(5),de("ngForOf",i.menus))},dependencies:[p_,ua],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),e})();function Ise(n,e){if(1&n){const t=Bt();S(0,"app-menu",8),X("close",function(){return Ee(t),De(se().menu=!1)}),x()}}let Cse=(()=>{var n;class e{constructor(){this.menu=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=Ft({type:n,selectors:[["app-header"]],decls:10,vars:1,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],[1,"material-icons","text-light"],[1,"col-12","p-0","text-center"],[1,"t","a"],[3,"close",4,"ngIf"],[3,"close"]],template:function(r,i){1&r&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),X("click",function(){return i.menu=!i.menu}),S(4,"i",4),V(5,"menu"),x()()(),S(6,"div",5)(7,"div",6),V(8,"IMPULSE"),x()()()(),We(9,Ise,1,0,"app-menu",7)),2&r&&(ie(9),de("ngIf",i.menu))},dependencies:[ks,wse],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8.5rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),e})();function Ese(n,e){1&n&&Fn(0,"app-header")}let Dse=(()=>{var n;class e{constructor(r,i,s){this.firestore=r,this.header=!0,this.firestore.log(vo.PAGE_VIEW),this.handleScroll(i,s),window.addEventListener("message",o=>{o.origin===window.location.origin&&"ToggleHeader"==o.data&&(this.header=!this.header)},!1)}handleScroll(r,i){r.events.pipe(fi(s=>s instanceof sv)).pipe(function yse(n,e=mU){const t=function mse(n=0,e,t=fse){let r=-1;return null!=e&&(mb(e)?t=e:r=e),new nt(i=>{let s=function gse(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return yU(()=>t)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(n=e).\u0275fac=function(r){return new(r||n)(C(_o),C($t),C(xM))},n.\u0275cmp=Ft({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(r,i){1&r&&(We(0,Ese,1,0,"app-header",0),Fn(1,"router-outlet")),2&r&&de("ngIf",i.header)},dependencies:[ks,hv,Cse],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),bse=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Cr({type:n,bootstrap:[Dse]}),n.\u0275inj=tr({imports:[Z9,cse,p8]}),e})();X9().bootstrapModule(bse).catch(n=>console.error(n))}},Re=>{Re(Re.s=114)}]);