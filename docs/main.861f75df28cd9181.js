"use strict";(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{15:()=>{function Se(t){return"function"==typeof t}function Fa(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const al=Fa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Gs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class gn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(s){e=s instanceof al?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{PC(s)}catch(o){e=e??[],o instanceof al?e=[...e,...o.errors]:e.push(o)}}if(e)throw new al(e)}}add(e){var n;if(e&&e!==this)if(this.closed)PC(e);else{if(e instanceof gn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Gs(n,e)}remove(e){const{_finalizers:n}=this;n&&Gs(n,e),e instanceof gn&&e._removeParent(this)}}gn.EMPTY=(()=>{const t=new gn;return t.closed=!0,t})();const OC=gn.EMPTY;function FC(t){return t instanceof gn||t&&"closed"in t&&Se(t.remove)&&Se(t.add)&&Se(t.unsubscribe)}function PC(t){Se(t)?t():t.unsubscribe()}const Qi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ul={setTimeout(t,e,...n){const{delegate:r}=ul;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ul;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kC(t){ul.setTimeout(()=>{const{onUnhandledError:e}=Qi;if(!e)throw t;e(t)})}function op(){}const XP=ap("C",void 0,void 0);function ap(t,e,n){return{kind:t,value:e,error:n}}let Yi=null;function cl(t){if(Qi.useDeprecatedSynchronousErrorHandling){const e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Yi;if(Yi=null,n)throw r}}else t()}class up extends gn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,FC(e)&&e.add(this)):this.destination=ik}static create(e,n,r){return new Pa(e,n,r)}next(e){this.isStopped?lp(function JP(t){return ap("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?lp(function ZP(t){return ap("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lp(XP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tk=Function.prototype.bind;function cp(t,e){return tk.call(t,e)}class nk{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ll(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ll(r)}else ll(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ll(n)}}}class Pa extends up{constructor(e,n,r){let i;if(super(),Se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cp(e.next,s),error:e.error&&cp(e.error,s),complete:e.complete&&cp(e.complete,s)}):i=e}this.destination=new nk(i)}}function ll(t){Qi.useDeprecatedSynchronousErrorHandling?function ek(t){Qi.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=t)}(t):kC(t)}function lp(t,e){const{onStoppedNotification:n}=Qi;n&&ul.setTimeout(()=>n(t,e))}const ik={closed:!0,next:op,error:function rk(t){throw t},complete:op},dp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xi(t){return t}function LC(t){return 0===t.length?Xi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function ak(t){return t&&t instanceof up||function ok(t){return t&&Se(t.next)&&Se(t.error)&&Se(t.complete)}(t)&&FC(t)}(n)?n:new Pa(n,r,i);return cl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=VC(r))((i,s)=>{const o=new Pa({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[dp](){return this}pipe(...n){return LC(n)(this)}toPromise(n){return new(n=VC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function VC(t){var e;return null!==(e=t??Qi.Promise)&&void 0!==e?e:Promise}const uk=Fa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mr=(()=>{class t extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new BC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new uk}next(n){cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?OC:(this.currentObservers=null,s.push(n),new gn(()=>{this.currentObservers=null,Gs(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Qe;return n.source=this,n}}return t.create=(e,n)=>new BC(e,n),t})();class BC extends Mr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:OC}}function UC(t){return Se(t?.lift)}function ht(t){return e=>{if(UC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function it(t,e,n,r,i){return new ck(t,e,n,r,i)}class ck extends up{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ue(t,e){return ht((n,r)=>{let i=0;n.subscribe(it(r,s=>{r.next(t.call(e,s,i++))}))})}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function GC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function gp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const zC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function qC(t){return Se(t?.then)}function WC(t){return Se(t[dp])}function KC(t){return Symbol.asyncIterator&&Se(t?.[Symbol.asyncIterator])}function QC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const YC=function Nk(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function XC(t){return Se(t?.[YC])}function ZC(t){return function HC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ci?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ci(n.read());if(i)return yield ci(void 0);yield yield ci(r)}}finally{n.releaseLock()}})}function JC(t){return Se(t?.getReader)}function mn(t){if(t instanceof Qe)return t;if(null!=t){if(WC(t))return function Rk(t){return new Qe(e=>{const n=t[dp]();if(Se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(zC(t))return function Ok(t){return new Qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(qC(t))return function Fk(t){return new Qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kC)})}(t);if(KC(t))return e0(t);if(XC(t))return function Pk(t){return new Qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(JC(t))return function kk(t){return e0(ZC(t))}(t)}throw QC(t)}function e0(t){return new Qe(e=>{(function Lk(t,e){var n,r,i,s;return function jC(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=GC(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Nr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function vt(t,e,n=1/0){return Se(e)?vt((r,i)=>ue((s,o)=>e(r,s,i,o))(mn(t(r,i))),n):("number"==typeof e&&(n=e),ht((r,i)=>function Vk(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;mn(n(g,l++)).subscribe(it(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const w=u.shift();o?Nr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(it(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function zs(t=1/0){return vt(Xi,t)}const er=new Qe(t=>t.complete());function t0(t){return t&&Se(t.schedule)}function mp(t){return t[t.length-1]}function n0(t){return Se(mp(t))?t.pop():void 0}function ka(t){return t0(mp(t))?t.pop():void 0}function r0(t,e=0){return ht((n,r)=>{n.subscribe(it(r,i=>Nr(r,t,()=>r.next(i),e),()=>Nr(r,t,()=>r.complete(),e),i=>Nr(r,t,()=>r.error(i),e)))})}function s0(t,e=0){return ht((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function o0(t,e){if(!t)throw new Error("Iterable cannot be null");return new Qe(n=>{Nr(n,e,()=>{const r=t[Symbol.asyncIterator]();Nr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function st(t,e){return e?function qk(t,e){if(null!=t){if(WC(t))return function jk(t,e){return mn(t).pipe(s0(e),r0(e))}(t,e);if(zC(t))return function Hk(t,e){return new Qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(qC(t))return function $k(t,e){return mn(t).pipe(s0(e),r0(e))}(t,e);if(KC(t))return o0(t,e);if(XC(t))return function Gk(t,e){return new Qe(n=>{let r;return Nr(n,e,()=>{r=t[YC](),Nr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(t,e);if(JC(t))return function zk(t,e){return o0(ZC(t),e)}(t,e)}throw QC(t)}(t,e):mn(t)}function yp(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Pa({next:()=>{r.unsubscribe(),t()}});return mn(e(...n)).subscribe(r)}function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function vp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Te(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Te).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _p(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Qk=Ie({__forward_ref__:Ie});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return Te(this())},t}function j(t){return wp(t)?t():t}function wp(t){return"function"==typeof t&&t.hasOwnProperty(Qk)&&t.__forward_ref__===xe}function Dp(t){return t&&!!t.\u0275providers}const a0="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(dl(e,n)),this.code=e}}function dl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function hl(t,e){throw new T(-201,!1)}function xn(t,e){null==t&&function _e(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function fl(t){return u0(t,pl)||u0(t,l0)}function u0(t,e){return t.hasOwnProperty(e)?t[e]:null}function c0(t){return t&&(t.hasOwnProperty(Cp)||t.hasOwnProperty(rL))?t[Cp]:null}const pl=Ie({\u0275prov:Ie}),Cp=Ie({\u0275inj:Ie}),l0=Ie({ngInjectableDef:Ie}),rL=Ie({ngInjectorDef:Ie});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let Ep;function An(t){const e=Ep;return Ep=t,e}function d0(t,e,n){const r=fl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void hl(Te(t))}const Ne=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),La={},bp="__NG_DI_FLAG__",gl="ngTempTokenPath",sL="ngTokenPath",oL=/\n/gm,aL="\u0275",h0="__source";let Va;function qs(t){const e=Va;return Va=t,e}function uL(t,e=H.Default){if(void 0===Va)throw new T(-203,!1);return null===Va?d0(t,void 0,e):Va.get(t,e&H.Optional?null:void 0,e)}function G(t,e=H.Default){return(function iL(){return Ep}()||uL)(j(t),e)}function ce(t,e=H.Default){return G(t,ml(e))}function ml(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ip(t){const e=[];for(let n=0;n<t.length;n++){const r=j(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=cL(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function Ba(t,e){return t[bp]=e,t.prototype[bp]=e,t}function cL(t){return t[bp]}function Rr(t){return{toString:t}.toString()}var tr=(()=>((tr=tr||{})[tr.OnPush=0]="OnPush",tr[tr.Default=1]="Default",tr))(),nr=(()=>{return(t=nr||(nr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",nr;var t})();const Or={},ye=[],yl=Ie({\u0275cmp:Ie}),Sp=Ie({\u0275dir:Ie}),Tp=Ie({\u0275pipe:Ie}),p0=Ie({\u0275mod:Ie}),Fr=Ie({\u0275fac:Ie}),Ua=Ie({__NG_ELEMENT_ID__:Ie});let hL=0;function rr(t){return Rr(()=>{const e=m0(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||nr.Emulated,id:"c"+hL++,styles:t.styles||ye,_:null,schemas:t.schemas||null,tView:null};y0(n);const r=t.dependencies;return n.directiveDefs=vl(r,!1),n.pipeDefs=vl(r,!0),n})}function pL(t){return we(t)||Ft(t)}function gL(t){return null!==t}function ir(t){return Rr(()=>({type:t.type,bootstrap:t.bootstrap||ye,declarations:t.declarations||ye,imports:t.imports||ye,exports:t.exports||ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function g0(t,e){if(null==t)return Or;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function K(t){return Rr(()=>{const e=m0(t);return y0(e),e})}function we(t){return t[yl]||null}function Ft(t){return t[Sp]||null}function on(t){return t[Tp]||null}function vn(t,e){const n=t[p0]||null;if(!n&&!0===e)throw new Error(`Type ${Te(t)} does not have '\u0275mod' property.`);return n}function m0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ye,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:g0(t.inputs,e),outputs:g0(t.outputs)}}function y0(t){t.features?.forEach(e=>e(t))}function vl(t,e){if(!t)return null;const n=e?on:pL;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(gL)}const Pr=0,O=1,re=2,He=3,Bn=4,Zi=5,Pt=6,Ks=7,Ye=8,_l=9,wl=10,se=11,xp=12,ja=13,v0=14,Qs=15,kt=16,$a=17,Ys=18,sr=19,Ha=20,_0=21,Re=22,Ap=1,w0=2,Dl=7,Cl=8,Xs=9,qt=10;function _n(t){return Array.isArray(t)&&"object"==typeof t[Ap]}function Un(t){return Array.isArray(t)&&!0===t[Ap]}function Mp(t){return 0!=(4&t.flags)}function Ga(t){return t.componentOffset>-1}function El(t){return 1==(1&t.flags)}function jn(t){return!!t.template}function yL(t){return 0!=(256&t[re])}function Ji(t,e){return t.hasOwnProperty(Fr)?t[Fr]:null}class wL{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Mn(){return E0}function E0(t){return t.type.prototype.ngOnChanges&&(t.setInput=CL),DL}function DL(){const t=I0(this),e=t?.current;if(e){const n=t.previous;if(n===Or)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function CL(t,e,n,r){const i=this.declaredInputs[n],s=I0(t)||function EL(t,e){return t[b0]=e}(t,{previous:Or,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new wL(u&&u.currentValue,e,a===Or),t[r]=e}Mn.ngInherit=!0;const b0="__ngSimpleChanges__";function I0(t){return t[b0]||null}const Nn=function(t,e,n){};function It(t){for(;Array.isArray(t);)t=t[Pr];return t}function bl(t,e){return It(e[t])}function wn(t,e){return It(e[t.index])}function x0(t,e){return t.data[e]}function an(t,e){const n=e[t];return _n(n)?n:n[Pr]}function Il(t){return 64==(64&t[re])}function di(t,e){return null==e?null:t[e]}function A0(t){t[Ys]=0}function Rp(t,e){t[Zi]+=e;let n=t,r=t[He];for(;null!==r&&(1===e&&1===n[Zi]||-1===e&&0===n[Zi]);)r[Zi]+=e,n=r,r=r[He]}const J={lFrame:B0(null),bindingsEnabled:!0};function N0(){return J.bindingsEnabled}function D(){return J.lFrame.lView}function he(){return J.lFrame.tView}function Wt(t){return J.lFrame.contextLView=t,t[Ye]}function Kt(t){return J.lFrame.contextLView=null,t}function St(){let t=R0();for(;null!==t&&64===t.type;)t=t.parent;return t}function R0(){return J.lFrame.currentTNode}function or(t,e){const n=J.lFrame;n.currentTNode=t,n.isParent=e}function Op(){return J.lFrame.isParent}function Js(){return J.lFrame.bindingIndex++}function kL(t,e){const n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,Pp(e)}function Pp(t){J.lFrame.currentDirectiveIndex=t}function Lp(t){J.lFrame.currentQueryIndex=t}function VL(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[Pt]:null}function L0(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=VL(s),null===i||(s=s[Qs],10&i.type))););if(null===i)return!1;e=i,t=s}const r=J.lFrame=V0();return r.currentTNode=e,r.lView=t,!0}function Vp(t){const e=V0(),n=t[O];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function V0(){const t=J.lFrame,e=null===t?null:t.child;return null===e?B0(t):e}function B0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function U0(){const t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const j0=U0;function Bp(){const t=U0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yt(){return J.lFrame.selectedIndex}function es(t){J.lFrame.selectedIndex=t}function Be(){const t=J.lFrame;return x0(t.tView,t.selectedIndex)}function Sl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks??(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks??(t.viewHooks=[])).push(n,c),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks??(t.destroyHooks=[])).push(n,l)}}function Tl(t,e,n){$0(t,e,3,n)}function xl(t,e,n,r){(3&t[re])===n&&$0(t,e,n,r)}function Up(t,e){let n=t[re];(3&n)===e&&(n&=2047,n+=1,t[re]=n)}function $0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Ys]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Ys]+=65536),(a<s||-1==s)&&(WL(t,n,e,u),t[Ys]=(4294901760&t[Ys])+u+2),u++}function WL(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[re]>>11<t[Ys]>>16&&(3&t[re])===e){t[re]+=2048,Nn(4,a,s);try{s.call(a)}finally{Nn(5,a,s)}}}else{Nn(4,a,s);try{s.call(a)}finally{Nn(5,a,s)}}}const eo=-1;class qa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function $p(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];G0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function H0(t){return 3===t||4===t||6===t}function G0(t){return 64===t.charCodeAt(0)}function Wa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||z0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function z0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function q0(t){return t!==eo}function Al(t){return 32767&t}function Ml(t,e){let n=function XL(t){return t>>16}(t),r=e;for(;n>0;)r=r[Qs],n--;return r}let Hp=!0;function Nl(t){const e=Hp;return Hp=t,e}const W0=255,K0=5;let ZL=0;const ar={};function Rl(t,e){const n=Q0(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,Gp(r.data,t),Gp(e,null),Gp(r.blueprint,null));const i=zp(t,e),s=t.injectorIndex;if(q0(i)){const o=Al(i),a=Ml(i,e),u=a[O].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Gp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Q0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function zp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=nE(i),null===r)return eo;if(n++,i=i[Qs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return eo}function qp(t,e,n){!function JL(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ua)&&(r=n[Ua]),null==r&&(r=n[Ua]=ZL++);const i=r&W0;e.data[t+(i>>K0)]|=1<<i}(t,e,n)}function Y0(t,e,n){if(n&H.Optional||void 0!==t)return t;hl()}function X0(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),!(n&(H.Self|H.Host))){const i=t[_l],s=An(void 0);try{return i?i.get(e,r,n&H.Optional):d0(e,r,n&H.Optional)}finally{An(s)}}return Y0(r,0,n)}function Z0(t,e,n,r=H.Default,i){if(null!==t){if(1024&e[re]){const o=function i2(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[re]&&!(256&o[re]);){const a=J0(s,o,n,r|H.Self,ar);if(a!==ar)return a;let u=s.parent;if(!u){const c=o[_0];if(c){const l=c.get(n,ar,r);if(l!==ar)return l}u=nE(o),o=o[Qs]}s=u}return i}(t,e,n,r,ar);if(o!==ar)return o}const s=J0(t,e,n,r,ar);if(s!==ar)return s}return X0(e,n,r,i)}function J0(t,e,n,r,i){const s=function n2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ua)?t[Ua]:void 0;return"number"==typeof e?e>=0?e&W0:r2:e}(n);if("function"==typeof s){if(!L0(e,t,r))return r&H.Host?Y0(i,0,r):X0(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;hl()}finally{j0()}}else if("number"==typeof s){let o=null,a=Q0(t,e),u=eo,c=r&H.Host?e[kt][Pt]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?zp(t,e):e[a+8],u!==eo&&tE(r,!1)?(o=e[O],a=Al(u),e=Ml(u,e)):a=-1);-1!==a;){const l=e[O];if(eE(s,a,l.data)){const d=t2(a,e,n,o,r,c);if(d!==ar)return d}u=e[a+8],u!==eo&&tE(r,e[O].data[a+8]===c)&&eE(s,a,e)?(o=l,a=Al(u),e=Ml(u,e)):a=-1}}return i}function t2(t,e,n,r,i,s){const o=e[O],a=o.data[t+8],l=function Ol(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&jn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ga(a)&&Hp:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?ts(e,o,l,a):ar}function ts(t,e,n,r){let i=t[n];const s=e.data;if(function KL(t){return t instanceof qa}(i)){const o=i;o.resolving&&function Yk(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ve(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(s[n]));const a=Nl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?An(o.injectImpl):null;L0(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function qL(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=E0(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&An(u),Nl(a),o.resolving=!1,j0()}}return i}function eE(t,e,n){return!!(n[e+(t>>K0)]&1<<t)}function tE(t,e){return!(t&H.Self||t&H.Host&&e)}class to{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Z0(this._tNode,this._lView,e,ml(r),n)}}function r2(){return new to(St(),D())}function Tt(t){return Rr(()=>{const e=t.prototype.constructor,n=e[Fr]||Wp(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Fr]||Wp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Wp(t){return wp(t)?()=>{const e=Wp(j(t));return e&&e()}:Ji(t)}function nE(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[Pt]:null}const ro="__parameters__";function so(t,e,n){return Rr(()=>{const r=function Kp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ro)?u[ro]:Object.defineProperty(u,ro,{value:[]})[ro];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ns(t,e){t.forEach(n=>Array.isArray(n)?ns(n,e):e(n))}function iE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Pl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dn(t,e,n){let r=oo(t,e);return r>=0?t[1|r]=n:(r=~r,function u2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Yp(t,e){const n=oo(t,e);if(n>=0)return t[1|n]}function oo(t,e){return function sE(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Xa=Ba(so("Optional"),8),Za=Ba(so("SkipSelf"),4);var un=(()=>((un=un||{})[un.Important=1]="Important",un[un.DashCase=2]="DashCase",un))();const ng=new Map;let M2=0;const ig="__ngContext__";function Lt(t,e){_n(e)?(t[ig]=e[Ha],function R2(t){ng.set(t[Ha],t)}(e)):t[ig]=e}let sg;function og(t,e){return sg(t,e)}function nu(t){const e=t[He];return Un(e)?e[He]:e}function ag(t){return IE(t[ja])}function ug(t){return IE(t[Bn])}function IE(t){for(;null!==t&&!Un(t);)t=t[Bn];return t}function uo(t,e,n,r,i){if(null!=r){let s,o=!1;Un(r)?s=r:_n(r)&&(o=!0,r=r[Pr]);const a=It(r);0===t&&null!==n?null==i?NE(e,n,a):rs(e,n,a,i||null,!0):1===t&&null!==n?rs(e,n,a,i||null,!0):2===t?function gg(t,e,n){const r=Bl(t,e);r&&function Z2(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function tV(t,e,n,r,i){const s=n[Dl];s!==It(n)&&uo(e,t,r,s,i);for(let a=qt;a<n.length;a++){const u=n[a];ru(u[O],u,t,e,r,s)}}(e,t,s,n,i)}}function lg(t,e,n){return t.createElement(e,n)}function TE(t,e){const n=t[Xs],r=n.indexOf(e),i=e[He];512&e[re]&&(e[re]&=-513,Rp(i,-1)),n.splice(r,1)}function dg(t,e){if(t.length<=qt)return;const n=qt+e,r=t[n];if(r){const i=r[$a];null!==i&&i!==t&&TE(i,r),e>0&&(t[n-1][Bn]=r[Bn]);const s=Pl(t,qt+e);!function G2(t,e){ru(t,e,e[se],2,null,null),e[Pr]=null,e[Pt]=null}(r[O],r);const o=s[sr];null!==o&&o.detachView(s[O]),r[He]=null,r[Bn]=null,r[re]&=-65}return r}function xE(t,e){if(!(128&e[re])){const n=e[se];n.destroyNode&&ru(t,e,n,3,null,null),function W2(t){let e=t[ja];if(!e)return hg(t[O],t);for(;e;){let n=null;if(_n(e))n=e[ja];else{const r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[Bn]&&e!==t;)_n(e)&&hg(e[O],e),e=e[He];null===e&&(e=t),_n(e)&&hg(e[O],e),n=e&&e[Bn]}e=n}}(e)}}function hg(t,e){if(!(128&e[re])){e[re]&=-65,e[re]|=128,function X2(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof qa)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Nn(4,a,u);try{u.call(a)}finally{Nn(5,a,u)}}else{Nn(4,i,s);try{s.call(i)}finally{Nn(5,i,s)}}}}}(t,e),function Y2(t,e){const n=t.cleanup,r=e[Ks];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Ks]=null}}(t,e),1===e[O].type&&e[se].destroy();const n=e[$a];if(null!==n&&Un(e[He])){n!==e[He]&&TE(n,e);const r=e[sr];null!==r&&r.detachView(t)}!function O2(t){ng.delete(t[Ha])}(e)}}function AE(t,e,n){return function ME(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Pr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===nr.None||s===nr.Emulated)return null}return wn(r,n)}}(t,e.parent,n)}function rs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function NE(t,e,n){t.appendChild(e,n)}function RE(t,e,n,r,i){null!==r?rs(t,e,n,r,i):NE(t,e,n)}function Bl(t,e){return t.parentNode(e)}let fg,vg,Hl,PE=function FE(t,e,n){return 40&t.type?wn(t,n):null};function Ul(t,e,n,r){const i=AE(t,r,e),s=e[se],a=function OE(t,e,n){return PE(t,e,n)}(r.parent||e[Pt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)RE(s,i,n[u],a,!1);else RE(s,i,n,a,!1);void 0!==fg&&fg(s,r,e,n,i)}function jl(t,e){if(null!==e){const n=e.type;if(3&n)return wn(e,t);if(4&n)return pg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return jl(t,r);{const i=t[e.index];return Un(i)?pg(-1,i):It(i)}}if(32&n)return og(e,t)()||It(t[e.index]);{const r=LE(t,e);return null!==r?Array.isArray(r)?r[0]:jl(nu(t[kt]),r):jl(t,e.next)}}return null}function LE(t,e){return null!==e?t[kt][Pt].projection[e.projection]:null}function pg(t,e){const n=qt+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return jl(r,i)}return e[Dl]}function mg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Lt(It(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)mg(t,e,n.child,r,i,s,!1),uo(e,t,i,a,s);else if(32&u){const c=og(n,r);let l;for(;l=c();)uo(e,t,i,l,s);uo(e,t,i,a,s)}else 16&u?VE(t,e,r,n,i,s):uo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ru(t,e,n,r,i,s){mg(n,r,t.firstChild,e,i,s,!1)}function VE(t,e,n,r,i,s){const o=n[kt],u=o[Pt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)uo(e,t,i,u[c],s);else mg(t,e,u,o[He],i,s,!0)}function BE(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function UE(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&$p(t,e,r),null!==i&&BE(t,e,i),null!==s&&function rV(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function GE(t){return function _g(){if(void 0===Hl&&(Hl=null,Ne.trustedTypes))try{Hl=Ne.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hl}()?.createScriptURL(t)||t}class zE{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${a0})`}}function hi(t){return t instanceof zE?t.changingThisBreaksApplicationSecurity:t}function iu(t,e){const n=function fV(t){return t instanceof zE&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${a0})`)}return n===e}const yV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ot=(()=>((ot=ot||{})[ot.NONE=0]="NONE",ot[ot.HTML=1]="HTML",ot[ot.STYLE=2]="STYLE",ot[ot.SCRIPT=3]="SCRIPT",ot[ot.URL=4]="URL",ot[ot.RESOURCE_URL=5]="RESOURCE_URL",ot))();function ZE(t){const e=ou();return e?e.sanitize(ot.URL,t)||"":iu(t,"URL")?hi(t):function wg(t){return(t=String(t)).match(yV)?t:"unsafe:"+t}(Z(t))}function JE(t){const e=ou();if(e)return GE(e.sanitize(ot.RESOURCE_URL,t)||"");if(iu(t,"ResourceURL"))return GE(hi(t));throw new T(904,!1)}function ou(){const t=D();return t&&t[xp]}const zl=new L("ENVIRONMENT_INITIALIZER"),tb=new L("INJECTOR",-1),nb=new L("INJECTOR_DEF_TYPES");class rb{get(e,n=La){if(n===La){const r=new Error(`NullInjectorError: No provider for ${Te(e)}!`);throw r.name="NullInjectorError",r}return n}}function MV(...t){return{\u0275providers:ib(0,t),\u0275fromNgModule:!0}}function ib(t,...e){const n=[],r=new Set;let i;return ns(e,s=>{const o=s;bg(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&sb(i,n),n}function sb(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Ig(i,s=>{e.push(s)})}}function bg(t,e,n,r){if(!(t=j(t)))return!1;let i=null,s=c0(t);const o=!s&&we(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=c0(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)bg(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ns(s.imports,l=>{bg(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&sb(c,e)}if(!a){const c=Ji(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ye},{provide:nb,useValue:i,multi:!0},{provide:zl,useValue:()=>G(i),multi:!0})}const u=s.providers;null==u||a||Ig(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Ig(t,e){for(let n of t)Dp(n)&&(n=n.\u0275providers),Array.isArray(n)?Ig(n,e):e(n)}const NV=Ie({provide:String,useValue:Ie});function Sg(t){return null!==t&&"object"==typeof t&&NV in t}function is(t){return"function"==typeof t}const Tg=new L("Set Injector scope."),ql={},OV={};let xg;function Wl(){return void 0===xg&&(xg=new rb),xg}class Br{}class ub extends Br{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mg(e,o=>this.processProvider(o)),this.records.set(tb,lo(void 0,this)),i.has("environment")&&this.records.set(Br,lo(void 0,this));const s=this.records.get(Tg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(nb.multi,ye,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=qs(this),r=An(void 0);try{return e()}finally{qs(n),An(r)}}get(e,n=La,r=H.Default){this.assertNotDestroyed(),r=ml(r);const i=qs(this),s=An(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function VV(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&fl(e);a=u&&this.injectableDefInScope(u)?lo(Ag(e),ql):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?Wl():this.parent).get(e,n=r&H.Optional&&n===La?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[gl]=o[gl]||[]).unshift(Te(e)),i)throw o;return function lL(t,e,n,r){const i=t[gl];throw e[h0]&&i.unshift(e[h0]),t.message=function dL(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==aL?t.slice(2):t;let i=Te(e);if(Array.isArray(e))i=e.map(Te).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Te(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(oL,"\n  ")}`}("\n"+t.message,i,n,r),t[sL]=i,t[gl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{An(s),qs(i)}}resolveInjectorInitializers(){const e=qs(this),n=An(void 0);try{const r=this.get(zl.multi,ye,H.Self);for(const i of r)i()}finally{qs(e),An(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Te(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=is(e=j(e))?e:j(e&&e.provide);const r=function PV(t){return Sg(t)?lo(void 0,t.useValue):lo(cb(t),ql)}(e);if(is(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=lo(void 0,ql,!0),i.factory=()=>Ip(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ql&&(n.value=OV,n.value=n.factory()),"object"==typeof n.value&&n.value&&function LV(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=j(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Ag(t){const e=fl(t),n=null!==e?e.factory:Ji(t);if(null!==n)return n;if(t instanceof L)throw new T(204,!1);if(t instanceof Function)return function FV(t){const e=t.length;if(e>0)throw function Ya(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function nL(t){return t&&(t[pl]||t[l0])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function cb(t,e,n){let r;if(is(t)){const i=j(t);return Ji(i)||Ag(i)}if(Sg(t))r=()=>j(t.useValue);else if(function ab(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ip(t.deps||[]));else if(function ob(t){return!(!t||!t.useExisting)}(t))r=()=>G(j(t.useExisting));else{const i=j(t&&(t.useClass||t.provide));if(!function kV(t){return!!t.deps}(t))return Ji(i)||Ag(i);r=()=>new i(...Ip(t.deps))}return r}function lo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Mg(t,e){for(const n of t)Array.isArray(n)?Mg(n,e):n&&Dp(n)?Mg(n.\u0275providers,e):e(n)}class BV{}class lb{}class jV{resolveComponentFactory(e){throw function UV(t){const e=Error(`No component factory found for ${Te(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let au=(()=>{class t{}return t.NULL=new jV,t})();function $V(){return ho(St(),D())}function ho(t,e){return new Cn(wn(t,e))}let Cn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=$V,t})();class hb{}let Ur=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function GV(){const t=D(),n=an(St().index,t);return(_n(n)?n:t)[se]}(),t})(),zV=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>null}),t})();class uu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const qV=new uu("15.2.9"),Ng={},Rg="ngOriginalError";function Og(t){return t[Rg]}class fo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Og(e);for(;n&&Og(n);)n=Og(n);return n||null}}function jr(t){return t instanceof Function?t():t}function pb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const gb="ng-template";function rB(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==pb(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function mb(t){return 4===t.type&&t.value!==gb}function iB(t,e,n){return e===(4!==t.type||n?t.value:gb)}function sB(t,e,n){let r=4;const i=t.attrs||[],s=function uB(t){for(let e=0;e<t.length;e++)if(H0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!iB(t,u,n)||""===u&&1===e.length){if($n(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!rB(t.attrs,c,n)){if($n(r))return!1;o=!0}continue}const d=oB(8&r?"class":u,i,mb(t),n);if(-1===d){if($n(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==pb(f,c,0)||2&r&&c!==h){if($n(r))return!1;o=!0}}}}else{if(!o&&!$n(r)&&!$n(u))return!1;if(o&&$n(u))continue;o=!1,r=u|1&r}}return $n(r)||o}function $n(t){return 0==(1&t)}function oB(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function cB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function yb(t,e,n=!1){for(let r=0;r<e.length;r++)if(sB(t,e[r],n))return!0;return!1}function vb(t,e){return t?":not("+e.trim()+")":e}function dB(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!$n(o)&&(e+=vb(s,i),i=""),r=o,s=s||!$n(r);n++}return""!==i&&(e+=vb(s,i)),e}const ee={};function Ge(t){_b(he(),D(),Yt()+t,!1)}function _b(t,e,n,r){if(!r)if(3==(3&e[re])){const s=t.preOrderCheckHooks;null!==s&&Tl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&xl(e,s,0,n)}es(n)}function Eb(t,e=null,n=null,r){const i=bb(t,e,n,r);return i.resolveInjectorInitializers(),i}function bb(t,e=null,n=null,r,i=new Set){const s=[n||ye,MV(t)];return r=r||("object"==typeof t?void 0:Te(t)),new ub(s,e||Wl(),r||null,i)}let ur=(()=>{class t{static create(n,r){if(Array.isArray(n))return Eb({name:""},r,n,"");{const i=n.name??"";return Eb({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=La,t.NULL=new rb,t.\u0275prov=$({token:t,providedIn:"any",factory:()=>G(tb)}),t.__NG_ELEMENT_ID__=-1,t})();function b(t,e=H.Default){const n=D();return null===n?G(t,e):Z0(St(),n,j(t),e)}function Rb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Lp(n[r]),o.contentQueries(2,e[s],s)}}}function Ql(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Pr]=i,d[re]=76|r,(null!==l||t&&1024&t[re])&&(d[re]|=1024),A0(d),d[He]=d[Qs]=t,d[Ye]=n,d[wl]=o||t&&t[wl],d[se]=a||t&&t[se],d[xp]=u||t&&t[xp]||null,d[_l]=c||t&&t[_l]||null,d[Pt]=s,d[Ha]=function N2(){return M2++}(),d[_0]=l,d[kt]=2==e.type?t[kt]:d,d}function mo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Vg(t,e,n,r,i){const s=R0(),o=Op(),u=t.data[e]=function LB(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function PL(){return J.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function za(){const t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return or(s,!0),s}function cu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Bg(t,e,n){Vp(e);try{const r=t.viewQuery;null!==r&&Kg(1,r,n);const i=t.template;null!==i&&Ob(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Rb(t,e),t.staticViewQueries&&Kg(2,t.viewQuery,n);const s=t.components;null!==s&&function FB(t,e){for(let n=0;n<e.length;n++)rU(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,Bp()}}function Yl(t,e,n,r){const i=e[re];if(128!=(128&i)){Vp(e);try{A0(e),function F0(t){return J.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Ob(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Tl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&xl(e,c,0,null),Up(e,0)}if(function tU(t){for(let e=ag(t);null!==e;e=ug(e)){if(!e[w0])continue;const n=e[Xs];for(let r=0;r<n.length;r++){const i=n[r];512&i[re]||Rp(i[He],1),i[re]|=512}}}(e),function eU(t){for(let e=ag(t);null!==e;e=ug(e))for(let n=qt;n<e.length;n++){const r=e[n],i=r[O];Il(r)&&Yl(i,r,i.template,r[Ye])}}(e),null!==t.contentQueries&&Rb(t,e),o){const c=t.contentCheckHooks;null!==c&&Tl(e,c)}else{const c=t.contentHooks;null!==c&&xl(e,c,1),Up(e,1)}!function RB(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)es(~i);else{const s=i,o=n[++r],a=n[++r];kL(o,s),a(2,e[s])}}}finally{es(-1)}}(t,e);const a=t.components;null!==a&&function OB(t,e){for(let n=0;n<e.length;n++)nU(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Kg(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Tl(e,c)}else{const c=t.viewHooks;null!==c&&xl(e,c,2),Up(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[re]&=-41,512&e[re]&&(e[re]&=-513,Rp(e[He],-1))}finally{Bp()}}}function Ob(t,e,n,r,i){const s=Yt(),o=2&r;try{es(-1),o&&e.length>Re&&_b(t,e,Re,!1),Nn(o?2:0,i),n(r,i)}finally{es(s),Nn(o?3:1,i)}}function Ug(t,e,n){if(Mp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function jg(t,e,n){N0()&&(function GB(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ga(n)&&function XB(t,e,n){const r=wn(e,t),i=Fb(n),s=t[wl],o=Xl(t,Ql(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Rl(n,e),Lt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=ts(e,t,a,n);Lt(c,e),null!==o&&ZB(0,a-i,c,u,0,o),jn(u)&&(an(n.index,e)[Ye]=ts(e,t,a,n))}}(t,e,n,wn(n,e)),64==(64&n.flags)&&Bb(t,e,n))}function $g(t,e,n=wn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Fb(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Hg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Hg(t,e,n,r,i,s,o,a,u,c){const l=Re+r,d=l+i,h=function PB(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ee);return n}(l,d),f="function"==typeof c?c():c;return h[O]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function kb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Lb(n,e,i,s):r.hasOwnProperty(i)&&Lb(n,e,r[i],s)}return n}function Lb(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Gg(t,e,n,r){if(N0()){const i=null===r?null:{"":-1},s=function qB(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(yb(e,o.selectors,!1))if(r||(r=[]),jn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),zg(t,e,a.length)}else r.unshift(o),zg(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Vb(t,e,n,o,i,a),i&&function WB(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Wa(n.mergedAttrs,n.attrs)}function Vb(t,e,n,r,i,s){for(let c=0;c<r.length;c++)qp(Rl(n,e),t,r[c].type);!function QB(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=cu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Wa(n.mergedAttrs,l.hostAttrs),YB(t,n,e,u,l),KB(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function VB(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=kb(d.inputs,l,u,h?h.inputs:null),c=kb(d.outputs,l,c,p);const g=null===u||null===o||mb(e)?null:JB(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function Bb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function LL(){return J.lFrame.currentDirectiveIndex}();try{es(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Pp(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&zB(u,c)}}finally{es(-1),Pp(o)}}function zB(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zg(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function KB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;jn(e)&&(n[""]=t)}}function YB(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ji(i.type)),o=new qa(s,jn(i),b);t.blueprint[r]=o,n[r]=o,function $B(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function HB(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,cu(t,n,i.hostVars,ee),i)}function cr(t,e,n,r,i,s){const o=wn(t,e);!function qg(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Z(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[se],o,s,t.value,n,r,i)}function ZB(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function JB(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Ub(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function nU(t,e){const n=an(e,t);if(Il(n)){const r=n[O];48&n[re]?Yl(r,n,r.template,n[Ye]):n[Zi]>0&&Wg(n)}}function Wg(t){for(let r=ag(t);null!==r;r=ug(r))for(let i=qt;i<r.length;i++){const s=r[i];if(Il(s))if(512&s[re]){const o=s[O];Yl(o,s,o.template,s[Ye])}else s[Zi]>0&&Wg(s)}const n=t[O].components;if(null!==n)for(let r=0;r<n.length;r++){const i=an(n[r],t);Il(i)&&i[Zi]>0&&Wg(i)}}function rU(t,e){const n=an(e,t),r=n[O];(function iU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Bg(r,n,n[Ye])}function Xl(t,e){return t[ja]?t[v0][Bn]=e:t[ja]=e,t[v0]=e,e}function Zl(t){for(;t;){t[re]|=32;const e=nu(t);if(yL(t)&&!e)return t;t=e}return null}function Jl(t,e,n,r=!0){const i=e[wl];i.begin&&i.begin();try{Yl(t,e,t.template,n)}catch(o){throw r&&Gb(e,o),o}finally{i.end&&i.end()}}function Kg(t,e,n){Lp(0),e(t,n)}function jb(t){return t[Ks]||(t[Ks]=[])}function $b(t){return t.cleanup||(t.cleanup=[])}function Gb(t,e){const n=t[_l],r=n?n.get(fo,null):null;r&&r.handleError(e)}function Qg(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ed(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=_p(i,a):2==s&&(r=_p(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function td(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(It(s)),Un(s))for(let a=qt;a<s.length;a++){const u=s[a],c=u[O].firstChild;null!==c&&td(u[O],u,c,r)}const o=n.type;if(8&o)td(t,e,n.child,r);else if(32&o){const a=og(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=LE(e,n);if(Array.isArray(a))r.push(...a);else{const u=nu(e[kt]);td(u[O],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class lu{get rootNodes(){const e=this._lView,n=e[O];return td(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return 128==(128&this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[He];if(Un(e)){const n=e[Cl],r=n?n.indexOf(this):-1;r>-1&&(dg(e,r),Pl(n,r))}this._attachedToViewContainer=!1}xE(this._lView[O],this._lView)}onDestroy(e){!function Pb(t,e,n,r){const i=jb(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&$b(t).push(r,i.length-1))}(this._lView[O],this._lView,null,e)}markForCheck(){Zl(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-65}reattach(){this._lView[re]|=64}detectChanges(){Jl(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function q2(t,e){ru(t,e,e[se],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class sU extends lu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Jl(e[O],e,e[Ye],!1)}checkNoChanges(){}get context(){return null}}class zb extends au{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=we(e);return new du(n,this.ngModule)}}function qb(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class aU{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ml(r);const i=this.injector.get(e,Ng,r);return i!==Ng||n===Ng?i:this.parentInjector.get(e,n,r)}}class du extends lb{get inputs(){return qb(this.componentDef.inputs)}get outputs(){return qb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function hB(t){return t.map(dB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Br?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new aU(e,s):e,a=o.get(hb,null);if(null===a)throw new T(407,!1);const u=o.get(zV,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function kB(t,e,n){return t.selectRootElement(e,n===nr.ShadowDom)}(c,r,this.componentDef.encapsulation):lg(c,l,function oU(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Hg(0,null,null,1,0,null,null,null,null,null),p=Ql(null,f,null,h,null,null,a,c,u,o,null);let g,m;Vp(p);try{const w=this.componentDef;let C,v=null;w.findHostDirectiveDefs?(C=[],v=new Map,w.findHostDirectiveDefs(w,C,v),C.push(w)):C=[w];const N=function cU(t,e){const n=t[O],r=Re;return t[r]=e,mo(n,r,2,"#host",null)}(p,d),V=function lU(t,e,n,r,i,s,o,a){const u=i[O];!function dU(t,e,n,r){for(const i of t)e.mergedAttrs=Wa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ed(e,e.mergedAttrs,!0),null!==n&&UE(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=Ql(i,Fb(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&zg(u,t,r.length-1),Xl(i,l),i[t.index]=l}(N,d,w,C,p,a,c);m=x0(f,Re),d&&function fU(t,e,n,r){if(r)$p(t,n,["ng-version",qV.full]);else{const{attrs:i,classes:s}=function fB(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!$n(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&$p(t,n,i),s&&s.length>0&&BE(t,n,s.join(" "))}}(c,w,d,r),void 0!==n&&function pU(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,n),g=function hU(t,e,n,r,i,s){const o=St(),a=i[O],u=wn(o,i);Vb(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Lt(ts(i,a,o.directiveStart+l,o),i);Bb(a,i,o),u&&Lt(u,i);const c=ts(i,a,o.directiveStart+o.componentOffset,o);if(t[Ye]=i[Ye]=c,null!==s)for(const l of s)l(c,e);return Ug(a,o,t),c}(V,w,C,v,p,[gU]),Bg(f,p,null)}finally{Bp()}return new uU(this.componentType,g,ho(m,p),p,m)}}class uU extends BV{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new sU(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Qg(s[O],s,i,e,n),Zl(an(this._tNode.index,s))}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function gU(){const t=St();Sl(D()[O],t)}function De(t){let e=function Wb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(jn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Yg(t.inputs),o.declaredInputs=Yg(t.declaredInputs),o.outputs=Yg(t.outputs);const a=i.hostBindings;a&&_U(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&yU(t,u),c&&vU(t,c),vp(t.inputs,i.inputs),vp(t.declaredInputs,i.declaredInputs),vp(t.outputs,i.outputs),jn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===De&&(n=!1)}}e=Object.getPrototypeOf(e)}!function mU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wa(i.hostAttrs,n=Wa(n,i.hostAttrs))}}(r)}function Yg(t){return t===Or?{}:t===ye?[]:t}function yU(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function vU(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function _U(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function nd(t){return!!Xg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Xg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function dr(t,e,n,r){const i=D();return Vt(i,Js(),e)&&(he(),cr(Be(),i,t,e,n,r)),dr}function hr(t,e,n,r,i,s,o,a){const u=D(),c=he(),l=t+Re,d=c.firstCreatePass?function AU(t,e,n,r,i,s,o,a,u){const c=e.consts,l=mo(e,t,4,o||null,di(c,a));Gg(e,n,l,di(c,u)),Sl(e,l);const d=l.tView=Hg(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];or(d,!1);const h=u[se].createComment("");Ul(c,u,h,d),Lt(h,u),Xl(u,u[l]=Ub(h,u,h,d)),El(d)&&jg(c,u,d),null!=o&&$g(u,d,a)}function at(t,e,n){const r=D();return Vt(r,Js(),e)&&function En(t,e,n,r,i,s,o,a){const u=wn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Qg(t,n,l,r,i),Ga(e)&&function UB(t,e){const n=an(e,t);16&n[re]||(n[re]|=32)}(n,e.index)):3&e.type&&(r=function BB(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(he(),Be(),r,t,e,r[se],n,!1),at}function Zg(t,e,n,r,i){const o=i?"class":"style";Qg(t,n,e.inputs[o],o,r)}function z(t,e,n,r){const i=D(),s=he(),o=Re+t,a=i[se],u=s.firstCreatePass?function RU(t,e,n,r,i,s){const o=e.consts,u=mo(e,t,2,r,di(o,i));return Gg(e,n,u,di(o,s)),null!==u.attrs&&ed(u,u.attrs,!1),null!==u.mergedAttrs&&ed(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=i[o]=lg(a,e,function zL(){return J.lFrame.currentNamespace}()),l=El(u);return or(u,!0),UE(a,c,u),32!=(32&u.flags)&&Ul(s,i,c,u),0===function AL(){return J.lFrame.elementDepthCount}()&&Lt(c,i),function ML(){J.lFrame.elementDepthCount++}(),l&&(jg(s,i,u),Ug(s,u,i)),null!==r&&$g(i,u),z}function q(){let t=St();Op()?function Fp(){J.lFrame.isParent=!1}():(t=t.parent,or(t,!1));const e=t;!function NL(){J.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(Sl(n,t),Mp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function QL(t){return 0!=(8&t.flags)}(e)&&Zg(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function YL(t){return 0!=(16&t.flags)}(e)&&Zg(n,e,D(),e.stylesWithoutHost,!1),q}function Hr(t,e,n,r){return z(t,e,n,r),q(),Hr}function fi(){return D()}function fu(t){return!!t&&"function"==typeof t.then}const tm=function aI(t){return!!t&&"function"==typeof t.subscribe};function be(t,e,n,r){const i=D(),s=he(),o=St();return function cI(t,e,n,r,i,s,o){const a=El(r),c=t.firstCreatePass&&$b(t),l=e[Ye],d=jb(e);let h=!0;if(3&r.type||o){const g=wn(r,e),m=o?o(g):g,w=d.length,C=o?N=>o(It(N[r.index])):r.index;let v=null;if(!o&&a&&(v=function FU(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ks],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=dI(r,e,l,s,!1);const N=n.listen(m,i,s);d.push(s,N),c&&c.push(i,C,w,w+1)}}else s=dI(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const V=e[p[m]][p[m+1]].subscribe(s),Q=d.length;d.push(s,V),c&&c.push(i,r.index,Q,-(Q+1))}}}(s,i,i[se],o,t,e,r),be}function lI(t,e,n,r){try{return Nn(6,e,n),!1!==n(r)}catch(i){return Gb(t,i),!1}finally{Nn(7,e,n)}}function dI(t,e,n,r,i){return function s(o){if(o===Function)return r;Zl(t.componentOffset>-1?an(t.index,e):e);let u=lI(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=lI(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ze(t=1){return function BL(t){return(J.lFrame.contextLView=function UL(t,e){for(;t>0;)e=e[Qs],t--;return e}(t,J.lFrame.contextLView))[Ye]}(t)}function id(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function rm(t){return 2|t}function os(t){return(131068&t)>>2}function im(t,e){return-131069&t|e<<2}function sm(t){return 1|t}function DI(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?pi(s):os(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];HU(t[a],e)&&(u=!0,t[a+1]=r?sm(l):rm(l)),a=r?pi(l):os(l)}u&&(t[n+1]=r?rm(s):sm(s))}function HU(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&oo(t,e)>=0}function sd(t,e){return function Hn(t,e,n,r){const i=D(),s=he(),o=function Lr(t){const e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function MI(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Yt()],o=function AI(t,e){return e>=t.expandoStartIndex}(t,n);(function FI(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function ZU(t,e,n,r){const i=function kp(t){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=pu(n=om(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=om(i,t,e,n,r),null===s){let u=function JU(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==os(r))return t[pi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=om(null,t,e,u[1],r),u=pu(u,e.attrs,r),function ej(t,e,n,r){t[pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function tj(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=pu(r,t[s].hostAttrs,n);return pu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function jU(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pi(o),u=os(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||oo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=pi(t[a+1]);t[r+1]=id(h,a),0!==h&&(t[h+1]=im(t[h+1],r)),t[a+1]=function BU(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=id(a,0),0!==a&&(t[a+1]=im(t[a+1],r)),a=r;else t[r+1]=id(u,0),0===a?a=r:t[u+1]=im(t[u+1],r),u=r;c&&(t[r+1]=rm(t[r+1])),DI(t,l,r,!0),DI(t,l,r,!1),function $U(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&oo(s,e)>=0&&(n[r+1]=sm(n[r+1]))}(e,l,t,r,s),o=id(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ee&&Vt(i,o,e)&&function RI(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function UU(t){return 1==(1&t)}(c)?OI(u,e,n,i,os(c),o):void 0;od(l)||(od(s)||function VU(t){return 2==(2&t)}(c)&&(s=OI(u,null,n,i,a,o)),function nV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:un.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=un.Important),t.setStyle(n,r,i,s))}}(r,o,bl(Yt(),n),i,s))}(s,s.data[Yt()],i,i[se],t,i[o+1]=function sj(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Te(hi(t)))),t}(e,n),r,o)}(t,e,null,!0),sd}function om(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=pu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function pu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function OI(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ee&&(h=d?ye:void 0);let f=d?Yp(h,r):l===r?h:void 0;if(c&&!od(f)&&(f=Yp(u,r)),od(f)&&(a=f,o))return a;const p=t[i+1];i=o?pi(p):os(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Yp(u,r))}return a}function od(t){return void 0!==t}function ge(t,e=""){const n=D(),r=he(),i=t+Re,s=r.firstCreatePass?mo(r,i,1,e,null):r.data[i],o=n[i]=function cg(t,e){return t.createText(e)}(n[se],e);Ul(r,n,o,s),or(s,!1)}function To(t){return am("",t,""),To}function am(t,e,n){const r=D(),i=function vo(t,e,n,r){return Vt(t,Js(),n)?e+Z(n)+r:ee}(r,t,e,n);return i!==ee&&function $r(t,e,n){const r=bl(e,t);!function SE(t,e,n){t.setValue(e,n)}(t[se],r,n)}(r,Yt(),i),am}const Ao="en-US";let nS=Ao;function lm(t,e,n,r,i){if(t=j(t),Array.isArray(t))for(let s=0;s<t.length;s++)lm(t[s],e,n,r,i);else{const s=he(),o=D();let a=is(t)?t:j(t.provide),u=cb(t);const c=St(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(is(t)||!t.multi){const f=new qa(u,i,b),p=hm(a,e,i?l:l+h,d);-1===p?(qp(Rl(c,o),s,a),dm(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=hm(a,e,l+h,d),p=hm(a,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){qp(Rl(c,o),s,a);const w=function E$(t,e,n,r,i){const s=new qa(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,TS(s,i,r&&!n),s}(i?C$:D$,n.length,i,r,u);!i&&m&&(n[p].providerFactory=w),dm(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)}else dm(s,t,f>-1?f:p,TS(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function dm(t,e,n,r){const i=is(e),s=function RV(t){return!!t.useClass}(e);if(i||s){const u=(s?j(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function TS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function D$(t,e,n,r){return fm(this.multi,[])}function C$(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ts(n,n[O],this.providerFactory.index,r);s=a.slice(0,o),fm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],fm(i,s);return s}function fm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Le(t,e=[]){return n=>{n.providersResolver=(r,i)=>function w$(t,e,n){const r=he();if(r.firstCreatePass){const i=jn(t);lm(n,r.data,r.blueprint,i,!0),lm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Mo{}class xS{}class AS extends Mo{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zb(this);const r=vn(e);this._bootstrapComponents=jr(r.bootstrap),this._r3Injector=bb(e,n,[{provide:Mo,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],Te(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class pm extends xS{constructor(e){super(),this.moduleType=e}create(e){return new AS(this.moduleType,e)}}class I$ extends Mo{constructor(e,n,r){super(),this.componentFactoryResolver=new zb(this),this.instance=null;const i=new ub([...e,{provide:Mo,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],n||Wl(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function dd(t,e,n=null){return new I$(t,e,n).injector}let S$=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=ib(0,n.type),i=r.length>0?dd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(G(Br))}),t})();function MS(t){t.getStandaloneInjector=e=>e.get(S$).getOrCreateStandaloneInjector(t)}function LS(t,e,n,r){return function VS(t,e,n,r,i,s){const o=e+n;return Vt(t,o,i)?function lr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function wu(t,e){const n=t[e];return n===ee?void 0:n}(t,o+1)}(D(),function Qt(){const t=J.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function mm(t){return e=>{setTimeout(t,void 0,e)}}const Ue=class X$ extends Mr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=mm(s),i&&(i=mm(i)),o&&(o=mm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof gn&&e.add(a),a}};let Gr=(()=>{class t{}return t.__NG_ELEMENT_ID__=t4,t})();const J$=Gr,e4=class extends J${constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=Ql(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[$a]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[sr];return null!==o&&(i[sr]=o.createEmbeddedView(r)),Bg(r,i,e),new lu(i)}};function t4(){return function hd(t,e){return 4&t.type?new e4(e,t,ho(t,e)):null}(St(),D())}let zn=(()=>{class t{}return t.__NG_ELEMENT_ID__=n4,t})();function n4(){return function zS(t,e){let n;const r=e[t.index];if(Un(r))n=r;else{let i;if(8&t.type)i=It(r);else{const s=e[se];i=s.createComment("");const o=wn(t,e);rs(s,Bl(s,o),i,function J2(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=Ub(r,e,i,t),Xl(e,n)}return new HS(n,t,e)}(St(),D())}const r4=zn,HS=class extends r4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ho(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const e=zp(this._hostTNode,this._hostLView);if(q0(e)){const n=Ml(e,this._hostLView),r=Al(e);return new to(n[O].data[r+8],n)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=GS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Qa(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new du(we(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Br,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[O];if(function xL(t){return Un(t[He])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[He],h=new HS(d,d[Pt],d[He]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function K2(t,e,n,r){const i=qt+r,s=n.length;r>0&&(n[i-1][Bn]=e),r<s-qt?(e[Bn]=n[i],iE(n,qt+r,e)):(n.push(e),e[Bn]=null),e[He]=n;const o=e[$a];null!==o&&n!==o&&function Q2(t,e){const n=t[Xs];e[kt]!==e[He][He][kt]&&(t[w0]=!0),null===n?t[Xs]=[e]:n.push(e)}(o,e);const a=e[sr];null!==a&&a.insertView(t),e[re]|=64}(i,r,o,s);const a=pg(s,o),u=r[se],c=Bl(u,o[Dl]);return null!==c&&function z2(t,e,n,r,i,s){r[Pr]=i,r[Pt]=e,ru(t,r,n,1,i,s)}(i,o[Pt],u,r,c,a),e.attachToViewContainerRef(),iE(vm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=GS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=dg(this._lContainer,n);r&&(Pl(vm(this._lContainer),n),xE(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=dg(this._lContainer,n);return r&&null!=Pl(vm(this._lContainer),n)?new lu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function GS(t){return t[Cl]}function vm(t){return t[Cl]||(t[Cl]=[])}function pd(...t){}const gd=new L("Application Initializer");let md=(()=>{class t{constructor(n){this.appInits=n,this.resolve=pd,this.reject=pd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(fu(s))n.push(s);else if(tm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(G(gd,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Eu=new L("AppId",{providedIn:"root",factory:function yT(){return`${Am()}${Am()}${Am()}`}});function Am(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vT=new L("Platform Initializer"),_T=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let N4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const zr=new L("LocaleId",{providedIn:"root",factory:()=>ce(zr,H.Optional|H.SkipSelf)||function R4(){return typeof $localize<"u"&&$localize.locale||Ao}()});class F4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let wT=(()=>{class t{compileModuleSync(n){return new pm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=jr(vn(n).declarations).reduce((o,a)=>{const u=we(a);return u&&o.push(new du(u)),o},[]);return new F4(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const L4=(()=>Promise.resolve(0))();function Mm(t){typeof Zone>"u"?L4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Xe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function V4(){let t=Ne.requestAnimationFrame,e=Ne.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function j4(t){const e=()=>{!function U4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Rm(t),t.isCheckStableRunning=!0,Nm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Rm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ET(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),bT(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return ET(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),bT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Rm(t),Nm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xe.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Xe.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,B4,pd,pd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const B4={};function Nm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Rm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ET(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bT(t){t._nesting--,Nm(t)}class $4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const IT=new L(""),yd=new L("");let Pm,Om=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Pm||(function H4(t){Pm=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xe.assertNotInAngularZone(),Mm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(G(Xe),G(Fm),G(yd))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Fm=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Pm?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const qr=!1;let gi=null;const ST=new L("AllowMultipleToken"),km=new L("PlatformDestroyListeners"),TT=new L("appBootstrapListener");class xT{constructor(e,n){this.name=e,this.token=n}}function MT(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=Lm();if(!o||o.injector.get(ST,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function q4(t){if(gi&&!gi.get(ST,!1))throw new T(400,!1);gi=t;const e=t.get(RT);(function AT(t){const e=t.get(vT,null);e&&e.forEach(n=>n())})(t)}(function NT(t=[],e){return ur.create({name:e,providers:[{provide:Tg,useValue:"platform"},{provide:km,useValue:new Set([()=>gi=null])},...t]})}(a,r))}return function K4(t){const e=Lm();if(!e)throw new T(401,!1);return e}()}}function Lm(){return gi?.get(RT)??null}let RT=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function FT(t,e){let n;return n="noop"===t?new $4:("zone.js"===t?void 0:t)||new Xe(e),n}(r?.ngZone,function OT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Xe,useValue:i}];return i.run(()=>{const o=ur.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(fo,null);if(!u)throw new T(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{_d(this._modules,a),c.unsubscribe()})}),function PT(t,e,n){try{const r=n();return fu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(md);return c.runInitializers(),c.donePromise.then(()=>(function rS(t){xn(t,"Expected localeId to be defined"),"string"==typeof t&&(nS=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(zr,Ao)||Ao),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=kT({},r);return function G4(t,e,n){const r=new pm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(vd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(km,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(G(ur))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function kT(t,e){return Array.isArray(e)?e.reduce(kT,t):{...t,...e}}let vd=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Qe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Qe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),Mm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function Wk(...t){const e=ka(t),n=function Uk(t,e){return"number"==typeof mp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?mn(r[0]):zs(n)(st(r,e)):er}(s,o.pipe(function Kk(t={}){const{connector:e=(()=>new Mr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ht((g,m)=>{c++,!d&&!l&&h();const w=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=yp(p,i))}),w.subscribe(m),!o&&c>0&&(o=new Pa({next:C=>w.next(C),error:C=>{d=!0,h(),a=yp(f,n,C),w.error(C)},complete:()=>{l=!0,h(),a=yp(f,r),w.complete()}}),mn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof lb;if(!this._injector.get(md).done){!i&&function Ws(t){const e=we(t)||Ft(t)||on(t);return null!==e&&e.standalone}(n);throw new T(405,qr)}let o;o=i?n:this._injector.get(au).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function z4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Mo),c=o.create(ur.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(IT,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),_d(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;_d(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(TT,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_d(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(G(Xe),G(Br),G(fo))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _d(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let wd=(()=>{class t{}return t.__NG_ELEMENT_ID__=Y4,t})();function Y4(t){return function X4(t,e,n){if(Ga(t)&&!n){const r=an(t.index,e);return new lu(r,r)}return 47&t.type?new lu(e[kt],e):null}(St(),D(),16==(16&t))}class jT{constructor(){}supports(e){return nd(e)}create(e){return new rH(e)}}const nH=(t,e)=>e;class rH{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nH}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<HT(r,i,s)?n:r,a=HT(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!nd(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function SU(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new iH(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new $T),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $T),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class iH{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sH{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class $T{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new sH,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HT(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class GT{constructor(){}supports(e){return e instanceof Map||Xg(e)}create(){return new oH}}class oH{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Xg(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new aH(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class aH{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zT(){return new Ed([new jT])}let Ed=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||zT()),deps:[[t,new Za,new Xa]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=$({token:t,providedIn:"root",factory:zT}),t})();function qT(){return new bu([new GT])}let bu=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||qT()),deps:[[t,new Za,new Xa]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return t.\u0275prov=$({token:t,providedIn:"root",factory:qT}),t})();const lH=MT(null,"core",[]);let dH=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(G(vd))},t.\u0275mod=ir({type:t}),t.\u0275inj=Vn({}),t})();function Oo(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let $m=null;function Wr(){return $m}class pH{}const ln=new L("DocumentToken");let Hm=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return function gH(){return G(WT)}()},providedIn:"platform"}),t})();const mH=new L("Location Initialized");let WT=(()=>{class t extends Hm{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wr().getBaseHref(this._doc)}onPopState(n){const r=Wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){KT()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){KT()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(G(ln))},t.\u0275prov=$({token:t,factory:function(){return function yH(){return new WT(G(ln))}()},providedIn:"platform"}),t})();function KT(){return!!window.history.pushState}function Gm(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function QT(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Kr(t){return t&&"?"!==t[0]?"?"+t:t}let cs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ce(XT)},providedIn:"root"}),t})();const YT=new L("appBaseHref");let XT=(()=>{class t extends cs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ce(ln).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Gm(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(G(Hm),G(YT,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vH=(()=>{class t extends cs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Gm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(G(Hm),G(YT,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),zm=(()=>{class t{constructor(n){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function DH(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(QT(ZT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kr(r))}normalize(n){return t.stripTrailingSlash(function wH(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,ZT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Kr,t.joinWithSlash=Gm,t.stripTrailingSlash=QT,t.\u0275fac=function(n){return new(n||t)(G(cs))},t.\u0275prov=$({token:t,factory:function(){return function _H(){return new zm(G(cs))}()},providedIn:"root"}),t})();function ZT(t){return t.replace(/\/index.html$/,"")}const ty=/\s+/,ax=[];let ux=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=ax,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(ty):ax}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(ty):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(ty).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(b(Ed),b(bu),b(Cn),b(Ur))},t.\u0275dir=K({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class o3{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Od=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new o3(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),dx(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{dx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(zn),b(Gr),b(Ed))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function dx(t,e){t.context.$implicit=e.item}let Fd=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new u3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(zn),b(Gr))},t.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class u3{constructor(){this.$implicit=null,this.ngIf=null}}function hx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Te(e)}'.`)}let O3=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ir({type:t}),t.\u0275inj=Vn({}),t})();let mx=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>new L3(G(ln),window)}),t})();class L3{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function V3(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yx(this.window.history)||yx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yx(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class hG extends pH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class uy extends hG{static makeCurrent(){!function fH(t){$m||($m=t)}(new uy)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function fG(){return xu=xu||document.querySelector("base"),xu?xu.getAttribute("href"):null}();return null==n?null:function pG(t){Ld=Ld||document.createElement("a"),Ld.setAttribute("href",t);const e=Ld.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){xu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function i3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ld,xu=null;const Cx=new L("TRANSITION_ID"),mG=[{provide:gd,useFactory:function gG(t,e,n){return()=>{n.get(md).donePromise.then(()=>{const r=Wr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Cx,ln,ur],multi:!0}];let vG=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Vd=new L("EventManagerPlugins");let Bd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(G(Vd),G(Xe))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class Ex{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Wr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let bx=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Au=(()=>{class t extends bx{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(G(ln))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const cy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ly=/%COMP%/g,Tx=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function xx(t,e){return e.flat(100).map(n=>n.replace(ly,t))}function Ax(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let dy=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new hy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof Rx?i.applyToHost(n):i instanceof fy&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case nr.Emulated:s=new Rx(o,a,r,this.appId,u);break;case nr.ShadowDom:return new IG(o,a,n,r);default:s=new fy(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(G(Bd),G(Au),G(Eu),G(Tx))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class hy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(cy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(Nx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Nx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=cy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=cy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(un.DashCase|un.Important)?e.style.setProperty(n,r,i&un.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&un.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Ax(r)):this.eventManager.addEventListener(e,n,Ax(r))}}function Nx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class IG extends hy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=xx(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fy extends hy{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=xx(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Rx extends fy{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function CG(t){return"_ngcontent-%COMP%".replace(ly,t)}(o),this.hostAttr=function EG(t){return"_nghost-%COMP%".replace(ly,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let SG=(()=>{class t extends Ex{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(G(ln))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Ox=["alt","control","meta","shift"],TG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xG={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let AG=(()=>{class t extends Ex{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Ox.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=TG[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ox.forEach(o=>{o!==i&&(0,xG[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(G(ln))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Px=[{provide:_T,useValue:"browser"},{provide:vT,useValue:function MG(){uy.makeCurrent()},multi:!0},{provide:ln,useFactory:function RG(){return function aV(t){vg=t}(document),document},deps:[]}],OG=MT(lH,"browser",Px),kx=new L(""),Lx=[{provide:yd,useClass:class yG{addToWindow(e){Ne.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ne.getAllAngularRootElements=()=>e.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Wr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:IT,useClass:Om,deps:[Xe,Fm,yd]},{provide:Om,useClass:Om,deps:[Xe,Fm,yd]}],Vx=[{provide:Tg,useValue:"root"},{provide:fo,useFactory:function NG(){return new fo},deps:[]},{provide:Vd,useClass:SG,multi:!0,deps:[ln,Xe,_T]},{provide:Vd,useClass:AG,multi:!0,deps:[ln]},{provide:dy,useClass:dy,deps:[Bd,Au,Eu,Tx]},{provide:hb,useExisting:dy},{provide:bx,useExisting:Au},{provide:Au,useClass:Au,deps:[ln]},{provide:Bd,useClass:Bd,deps:[Vd,Xe]},{provide:class B3{},useClass:vG,deps:[]},[]];let FG=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Eu,useValue:n.appId},{provide:Cx,useExisting:Eu},mG]}}}return t.\u0275fac=function(n){return new(n||t)(G(kx,12))},t.\u0275mod=ir({type:t}),t.\u0275inj=Vn({providers:[...Vx,...Lx],imports:[O3,dH]}),t})(),Bx=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(G(ln))},t.\u0275prov=$({token:t,factory:function(n){let r=null;return r=n?new n:function kG(){return new Bx(G(ln))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:$G}=Array,{getPrototypeOf:HG,prototype:GG,keys:zG}=Object;function $x(t){if(1===t.length){const e=t[0];if($G(e))return{args:e,keys:null};if(function qG(t){return t&&"object"==typeof t&&HG(t)===GG}(e)){const n=zG(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:WG}=Array;function Hx(t){return ue(e=>function KG(t,e){return WG(e)?t(...e):t(e)}(t,e))}function Gx(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let zx=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(Ur),b(Cn))},t.\u0275dir=K({type:t}),t})(),ls=(()=>{class t extends zx{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Tt(t)))(r||t)}}(),t.\u0275dir=K({type:t,features:[De]}),t})();const gr=new L("NgValueAccessor"),XG={provide:gr,useExisting:xe(()=>Mu),multi:!0},JG=new L("CompositionEventMode");let Mu=(()=>{class t extends zx{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ZG(){const t=Wr()?Wr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Ur),b(Cn),b(JG,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&be("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Le([XG]),De]}),t})();const e9=!1,Bt=new L("NgValidators"),vi=new L("NgAsyncValidators");function nA(t){return null!=t}function rA(t){const e=fu(t)?st(t):t;if(e9&&!tm(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new T(-1101,n)}return e}function iA(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function sA(t,e){return e.map(n=>n(t))}function oA(t){return t.map(e=>function n9(t){return!t.validate}(e)?e:n=>e.validate(n))}function my(t){return null!=t?function aA(t){if(!t)return null;const e=t.filter(nA);return 0==e.length?null:function(n){return iA(sA(n,e))}}(oA(t)):null}function yy(t){return null!=t?function uA(t){if(!t)return null;const e=t.filter(nA);return 0==e.length?null:function(n){return function QG(...t){const e=n0(t),{args:n,keys:r}=$x(t),i=new Qe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;mn(n[l]).subscribe(it(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?Gx(r,a):a),s.complete())}))}});return e?i.pipe(Hx(e)):i}(sA(n,e).map(rA)).pipe(ue(iA))}}(oA(t)):null}function cA(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function vy(t){return t?Array.isArray(t)?t:[t]:[]}function jd(t,e){return Array.isArray(t)?t.includes(e):t===e}function hA(t,e){const n=vy(e);return vy(t).forEach(i=>{jd(n,i)||n.push(i)}),n}function fA(t,e){return vy(e).filter(n=>!jd(t,n))}class pA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=my(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Jt extends pA{get formDirective(){return null}get path(){return null}}class _i extends pA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gA{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _y=(()=>{class t extends gA{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(_i,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&sd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[De]}),t})();const Nu="VALID",Hd="INVALID",Fo="PENDING",Ru="DISABLED";function Gd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _A{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nu}get invalid(){return this.status===Hd}get pending(){return this.status==Fo}get disabled(){return this.status===Ru}get enabled(){return this.status!==Ru}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fA(e,this._rawAsyncValidators))}hasValidator(e){return jd(this._rawValidators,e)}hasAsyncValidator(e){return jd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ru,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Nu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nu||this.status===Fo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ru:Nu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fo,this._hasOwnPendingAsyncValidator=!0;const n=rA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?Ru:this.errors?Hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fo)?Fo:this._anyControlsHaveStatus(Hd)?Hd:Nu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function l9(t){return Array.isArray(t)?my(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function d9(t){return Array.isArray(t)?yy(t):t||null}(this._rawAsyncValidators)}}const Po=new L("CallSetDisabledState",{providedIn:"root",factory:()=>zd}),zd="always";function Ou(t,e,n=zd){(function Sy(t,e){const n=function lA(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(cA(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function dA(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(cA(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Kd(e._rawValidators,i),Kd(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function p9(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&wA(t,e)})}(t,e),function m9(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function g9(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&wA(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function f9(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Kd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function wA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function EA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function bA(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const IA=class extends _A{constructor(e=null,n,r){super(function Ey(t){return(Gd(t)?t.validators:t)||null}(n),function by(t,e){return(Gd(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=bA(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},b9={provide:_i,useExisting:xe(()=>Yd)},xA=(()=>Promise.resolve())();let Yd=(()=>{class t extends _i{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new IA,this._registered=!1,this.update=new Ue,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ay(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Mu?n=s:function _9(t){return Object.getPrototypeOf(t.constructor)===ls}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function xy(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ou(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){xA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Oo(r);xA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function qd(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(Jt,9),b(Bt,10),b(vi,10),b(gr,10),b(wd,8),b(Po,8))},t.\u0275dir=K({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Le([b9]),De,Mn]}),t})(),MA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ir({type:t}),t.\u0275inj=Vn({}),t})(),Q9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ir({type:t}),t.\u0275inj=Vn({imports:[MA]}),t})(),X9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Po,useValue:n.callSetDisabledState??zd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ir({type:t}),t.\u0275inj=Vn({imports:[Q9]}),t})();function U(...t){return st(t,ka(t))}class Qn extends Mr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Xd=Fa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function KA(...t){const e=ka(t),n=n0(t),{args:r,keys:i}=$x(t);if(0===r.length)return st([],e);const s=new Qe(function Z9(t,e,n=Xi){return r=>{QA(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)QA(e,()=>{const c=st(t[u],e);let l=!1;c.subscribe(it(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Gx(i,o):Xi));return n?s.pipe(Hx(n)):s}function QA(t,e,n){t?Nr(n,t,e):e()}function Zd(...t){return function J9(){return zs(1)}()(st(t,ka(t)))}function YA(t){return new Qe(e=>{mn(t()).subscribe(e)})}function Pu(t,e){const n=Se(t)?t:()=>t,r=i=>i.error(n());return new Qe(e?i=>e.schedule(r,0,i):r)}function Ly(){return ht((t,e)=>{let n=null;t._refCount++;const r=it(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class XA extends Qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,UC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gn;const n=this.getSubject();e.add(this.source.subscribe(it(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gn.EMPTY)}return e}refCount(){return Ly()(this)}}function mr(t,e){return ht((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(it(r,u=>{i?.unsubscribe();let c=0;const l=s++;mn(t(u,l)).subscribe(i=it(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function wi(t){return t<=0?()=>er:ht((e,n)=>{let r=0;e.subscribe(it(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yr(t,e){return ht((n,r)=>{let i=0;n.subscribe(it(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Jd(t){return ht((e,n)=>{let r=!1;e.subscribe(it(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ZA(t=tz){return ht((e,n)=>{let r=!1;e.subscribe(it(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tz(){return new Xd}function Di(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yr((i,s)=>t(i,s,r)):Xi,wi(1),n?Jd(e):ZA(()=>new Xd))}function hs(t,e){return Se(e)?vt(t,e,1):vt(t,1)}function Ut(t,e,n){const r=Se(t)||e||n?{next:t,error:e,complete:n}:t;return r?ht((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(it(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Xi}function Ci(t){return ht((e,n)=>{let s,r=null,i=!1;r=e.subscribe(it(n,void 0,void 0,o=>{s=mn(t(o,Ci(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function JA(t,e){return ht(function nz(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(it(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function Vy(t){return t<=0?()=>er:ht((e,n)=>{let r=[];e.subscribe(it(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function e1(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yr((i,s)=>t(i,s,r)):Xi,Vy(1),n?Jd(e):ZA(()=>new Xd))}function t1(t){return ue(()=>t)}function By(t){return ht((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const te="primary",ku=Symbol("RouteTitle");class iz{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ko(t){return new iz(t)}function sz(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!n1(t[i],e[i]))return!1;return!0}function n1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function r1(t){return Array.prototype.concat.apply([],t)}function i1(t){return t.length>0?t[t.length-1]:null}function xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ei(t){return tm(t)?t:fu(t)?st(Promise.resolve(t)):U(t)}const eh=!1,az={exact:function a1(t,e,n){if(!fs(t.segments,e.segments)||!th(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!a1(t.children[r],e.children[r],n))return!1;return!0},subset:u1},s1={exact:function uz(t,e){return yr(t,e)},subset:function cz(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>n1(t[n],e[n]))},ignored:()=>!0};function o1(t,e,n){return az[n.paths](t.root,e.root,n.matrixParams)&&s1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function u1(t,e,n){return c1(t,e,e.segments,n)}function c1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!fs(i,n)||e.hasChildren()||!th(i,n,r))}if(t.segments.length===n.length){if(!fs(t.segments,n)||!th(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!u1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(fs(t.segments,i)&&th(t.segments,i,r)&&t.children[te])&&c1(t.children[te],e,s,r)}}function th(t,e,n){return e.every((r,i)=>s1[n](t[i].parameters,r.parameters))}class bi{constructor(e=new oe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ko(this.queryParams)),this._queryParamMap}toString(){return hz.serialize(this)}}class oe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,xt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nh(this)}}class Lu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ko(this.parameters)),this._parameterMap}toString(){return h1(this)}}function fs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Vu=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return new Uy},providedIn:"root"}),t})();class Uy{parse(e){const n=new Dz(e);return new bi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Bu(e.root,!0)}`,r=function gz(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${rh(n)}=${rh(i)}`).join("&"):`${rh(n)}=${rh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function fz(t){return encodeURI(t)}(e.fragment)}`:""}`}}const hz=new Uy;function nh(t){return t.segments.map(e=>h1(e)).join("/")}function Bu(t,e){if(!t.hasChildren())return nh(t);if(e){const n=t.children[te]?Bu(t.children[te],!1):"",r=[];return xt(t.children,(i,s)=>{s!==te&&r.push(`${s}:${Bu(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function dz(t,e){let n=[];return xt(t.children,(r,i)=>{i===te&&(n=n.concat(e(r,i)))}),xt(t.children,(r,i)=>{i!==te&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===te?[Bu(t.children[te],!1)]:[`${i}:${Bu(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[te]?`${nh(t)}/${n[0]}`:`${nh(t)}/(${n.join("//")})`}}function l1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rh(t){return l1(t).replace(/%3B/gi,";")}function jy(t){return l1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ih(t){return decodeURIComponent(t)}function d1(t){return ih(t.replace(/\+/g,"%20"))}function h1(t){return`${jy(t.path)}${function pz(t){return Object.keys(t).map(e=>`;${jy(e)}=${jy(t[e])}`).join("")}(t.parameters)}`}const mz=/^[^\/()?;=#]+/;function sh(t){const e=t.match(mz);return e?e[0]:""}const yz=/^[^=?&#]+/,_z=/^[^&#]+/;class Dz{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new oe(e,n)),r}parseSegment(){const e=sh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,eh);return this.capture(e),new Lu(ih(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=sh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=sh(this.remaining);i&&(r=i,this.capture(r))}e[ih(n)]=ih(r)}parseQueryParam(e){const n=function vz(t){const e=t.match(yz);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function wz(t){const e=t.match(_z);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=d1(n),s=d1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=sh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,eh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[te]:new oe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,eh)}}function $y(t){return t.segments.length>0?new oe([],{[te]:t}):t}function oh(t){const e={};for(const r of Object.keys(t.children)){const s=oh(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Cz(t){if(1===t.numberOfChildren&&t.children[te]){const e=t.children[te];return new oe(t.segments.concat(e.segments),e.children)}return t}(new oe(t.segments,e))}function ps(t){return t instanceof bi}const Hy=!1;function Ez(t,e,n,r,i){if(0===n.length)return Lo(e.root,e.root,e.root,r,i);const s=function y1(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new m1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return xt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new m1(n,e,r)}(n);return s.toRoot()?Lo(e.root,e.root,new oe([],{}),r,i):function o(u){const c=function Iz(t,e,n,r){if(t.isAbsolute)return new Vo(e.root,!0,0);if(-1===r)return new Vo(n,n===e.root,0);return function v1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,Hy&&"Invalid number of '../'");i=r.segments.length}return new Vo(r,!1,i-s)}(n,r+(Uu(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?Bo(c.segmentGroup,c.index,s.commands):Gy(c.segmentGroup,c.index,s.commands);return Lo(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Uu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ju(t){return"object"==typeof t&&null!=t&&t.outlets}function Lo(t,e,n,r,i){let o,s={};r&&xt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:g1(t,e,n);const a=$y(oh(o));return new bi(a,s,i)}function g1(t,e,n){const r={};return xt(t.children,(i,s)=>{r[s]=i===e?n:g1(i,e,n)}),new oe(t.segments,r)}class m1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uu(r[0]))throw new T(4003,Hy&&"Root segment cannot have matrix parameters");const i=r.find(ju);if(i&&i!==i1(r))throw new T(4004,Hy&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vo{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Gy(t,e,n){if(t||(t=new oe([],{})),0===t.segments.length&&t.hasChildren())return Bo(t,e,n);const r=function Tz(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ju(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!w1(u,c,o))return s;r+=2}else{if(!w1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new oe(t.segments.slice(0,r.pathIndex),{});return s.children[te]=new oe(t.segments.slice(r.pathIndex),t.children),Bo(s,0,i)}return r.match&&0===i.length?new oe(t.segments,{}):r.match&&!t.hasChildren()?zy(t,e,n):r.match?Bo(t,0,i):zy(t,e,n)}function Bo(t,e,n){if(0===n.length)return new oe(t.segments,{});{const r=function Sz(t){return ju(t[0])?t[0].outlets:{[te]:t}}(n),i={};if(!r[te]&&t.children[te]&&1===t.numberOfChildren&&0===t.children[te].segments.length){const s=Bo(t.children[te],e,n);return new oe(t.segments,s.children)}return xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Gy(t.children[o],e,s))}),xt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new oe(t.segments,i)}}function zy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ju(s)){const u=xz(s.outlets);return new oe(r,u)}if(0===i&&Uu(n[0])){r.push(new Lu(t.segments[e].path,_1(n[0]))),i++;continue}const o=ju(s)?s.outlets[te]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Uu(a)?(r.push(new Lu(o,_1(a))),i+=2):(r.push(new Lu(o,{})),i++)}return new oe(r,{})}function xz(t){const e={};return xt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=zy(new oe([],{}),0,n))}),e}function _1(t){const e={};return xt(t,(n,r)=>e[r]=`${n}`),e}function w1(t,e,n){return t==n.path&&yr(e,n.parameters)}const $u="imperative";class vr{constructor(e,n){this.id=e,this.url=n}}class qy extends vr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gs extends vr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ah extends vr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uh extends vr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Wy extends vr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Az extends vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mz extends vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nz extends vr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rz extends vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oz extends vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fz{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pz{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kz{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lz{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vz{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bz{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ky{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let $z=(()=>{class t{createUrlTree(n,r,i,s,o,a){return Ez(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Gz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(e){return $z.\u0275fac(e)},providedIn:"root"}),t})();class D1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Qy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Qy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Yy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yy(e,this._root).map(n=>n.value)}}function Qy(t,e){if(t===e.value)return e;for(const n of e.children){const r=Qy(t,n);if(r)return r}return null}function Yy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Yy(t,n);if(r.length)return r.unshift(e),r}return[]}class Xr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Uo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class C1 extends D1{constructor(e,n){super(e),this.snapshot=n,Xy(this,e)}toString(){return this.snapshot.toString()}}function E1(t,e){const n=function zz(t,e){const o=new ch([],{},{},"",{},te,e,null,t.root,-1,{});return new I1("",new Xr(o,[]))}(t,e),r=new Qn([new Lu("",{})]),i=new Qn({}),s=new Qn({}),o=new Qn({}),a=new Qn(""),u=new jo(r,i,o,a,s,te,e,n.root);return u.snapshot=n.root,new C1(new Xr(u,[]),n)}class jo{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ue(c=>c[ku]))??U(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(e=>ko(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(e=>ko(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function b1(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function qz(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ch{get title(){return this.data?.[ku]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ko(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ko(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class I1 extends D1{constructor(e,n){super(n),this.url=e,Xy(this,n)}toString(){return S1(this._root)}}function Xy(t,e){e.value._routerState=t,e.children.forEach(n=>Xy(t,n))}function S1(t){const e=t.children.length>0?` { ${t.children.map(S1).join(", ")} } `:"";return`${t.value}${e}`}function Zy(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yr(e.params,n.params)||t.params.next(n.params),function oz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jy(t,e){const n=yr(t.params,e.params)&&function lz(t,e){return fs(t,e)&&t.every((n,r)=>yr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Jy(t.parent,e.parent))}function Hu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Kz(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Hu(t,r,i);return Hu(t,r)})}(t,e,n);return new Xr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Hu(t,a)),o}}const r=function Qz(t){return new jo(new Qn(t.url),new Qn(t.params),new Qn(t.queryParams),new Qn(t.fragment),new Qn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Hu(t,s));return new Xr(r,i)}}const ev="ngNavigationCancelingError";function T1(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ps(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=x1(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function x1(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[ev]=!0,r.cancellationCode=e,n&&(r.url=n),r}function A1(t){return M1(t)&&ps(t.url)}function M1(t){return t&&t[ev]}class Yz{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gu,this.attachRef=null}}let Gu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Yz,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lh=!1;let tv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=ce(Gu),this.location=ce(zn),this.changeDetector=ce(wd),this.environmentInjector=ce(Br)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,lh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,lh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,lh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,lh);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Xz(n,a,i.injector);if(r&&function Zz(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]}),t})();class Xz{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===jo?this.route:e===Gu?this.childContexts:this.parent.get(e,n)}}let nv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rr({type:t,selectors:[["ng-component"]],standalone:!0,features:[MS],decls:1,vars:0,template:function(n,r){1&n&&Hr(0,"router-outlet")},dependencies:[tv],encapsulation:2}),t})();function N1(t,e){return t.providers&&!t._injector&&(t._injector=dd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function iv(t){const e=t.children&&t.children.map(iv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=nv),n}function kn(t){return t.outlet||te}function R1(t,e){const n=t.filter(r=>kn(r)===e);return n.push(...t.filter(r=>kn(r)!==e)),n}function zu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class r5{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Uo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Uo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Uo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Uo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Bz(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Lz(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Zy(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zy(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=zu(i.snapshot),u=a?.get(au)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class O1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class dh{constructor(e,n){this.component=e,this.route=n}}function i5(t,e,n){const r=t._root;return qu(r,e?e._root:null,n,[r.value])}function $o(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function tL(t){return null!==fl(t)}(t)?e.get(t):t:r}function qu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Uo(e);return t.children.forEach(o=>{(function o5(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function a5(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!fs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fs(t.url,e.url)||!yr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jy(t,e)||!yr(t.queryParams,e.queryParams);default:return!Jy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new O1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),qu(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new dh(a.outlet.component,o))}else o&&Wu(e,a,i),i.canActivateChecks.push(new O1(r)),qu(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),xt(s,(o,a)=>Wu(o,n.getContext(a),i)),i}function Wu(t,e,n){const r=Uo(t),i=t.value;xt(r,(s,o)=>{Wu(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new dh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ku(t){return"function"==typeof t}function sv(t){return t instanceof Xd||"EmptyError"===t?.name}const hh=Symbol("INITIAL_VALUE");function Ho(){return mr(t=>KA(t.map(e=>e.pipe(wi(1),function ez(...t){const e=ka(t);return ht((n,r)=>{(e?Zd(t,n,e):Zd(t,n)).subscribe(r)})}(hh)))).pipe(ue(e=>{for(const n of e)if(!0!==n){if(n===hh)return hh;if(!1===n||n instanceof bi)return n}return!0}),Yr(e=>e!==hh),wi(1)))}function F1(t){return function sk(...t){return LC(t)}(Ut(e=>{if(ps(e))throw T1(0,e)}),ue(e=>!0===e))}const ov={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P1(t,e,n,r,i){const s=av(t,e,n);return s.matched?function b5(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?U(i.map(o=>{const a=$o(o,t);return Ei(function f5(t){return t&&Ku(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ho(),F1()):U(!0)}(r=N1(e,r),e,n).pipe(ue(o=>!0===o?s:{...ov})):U(s)}function av(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...ov}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||sz)(n,t,e);if(!i)return{...ov};const s={};xt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function fh(t,e,n,r){if(n.length>0&&function T5(t,e,n){return n.some(r=>ph(t,e,r)&&kn(r)!==te)}(t,n,r)){const s=new oe(e,function S5(t,e,n,r){const i={};i[te]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&kn(s)!==te){const o=new oe([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[kn(s)]=o}return i}(t,e,r,new oe(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function x5(t,e,n){return n.some(r=>ph(t,e,r))}(t,n,r)){const s=new oe(t.segments,function I5(t,e,n,r,i){const s={};for(const o of r)if(ph(t,n,o)&&!i[kn(o)]){const a=new oe([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[kn(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new oe(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function ph(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function k1(t,e,n,r){return!!(kn(t)===r||r!==te&&ph(e,n,t))&&("**"===t.path||av(e,t,n).matched)}function L1(t,e,n){return 0===e.length&&!t.children[n]}const gh=!1;class mh{constructor(e){this.segmentGroup=e||null}}class V1{constructor(e){this.urlTree=e}}function Qu(t){return Pu(new mh(t))}function B1(t){return Pu(new V1(t))}class R5{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=fh(this.urlTree.root,[],[],this.config).segmentGroup,n=new oe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,te).pipe(ue(s=>this.createUrlTree(oh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ci(s=>{if(s instanceof V1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof mh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,te).pipe(ue(i=>this.createUrlTree(oh(i),e.queryParams,e.fragment))).pipe(Ci(i=>{throw i instanceof mh?this.noMatchError(i):i}))}noMatchError(e){return new T(4002,gh)}createUrlTree(e,n,r){const i=$y(e);return new bi(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ue(s=>new oe([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return st(i).pipe(hs(s=>{const o=r.children[s],a=R1(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ue(u=>({segment:u,outlet:s})))}),JA((s,o)=>(s[o.outlet]=o.segment,s),{}),e1())}expandSegment(e,n,r,i,s,o){return st(r).pipe(hs(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ci(c=>{if(c instanceof mh)return U(null);throw c}))),Di(a=>!!a),Ci((a,u)=>{if(sv(a))return L1(n,i,s)?U(new oe([],{})):Qu(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return k1(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Qu(n):Qu(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?B1(s):this.lineralizeSegments(r,s).pipe(vt(o=>{const a=new oe(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=av(n,i,s);if(!a)return Qu(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?B1(d):this.lineralizeSegments(i,d).pipe(vt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=N1(r,e),r.loadChildren?(r._loadedRoutes?U({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ue(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new oe(i,{})))):U(new oe(i,{}))):P1(n,r,i,e).pipe(mr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(vt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=fh(n,a,u,h),g=new oe(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ue(v=>new oe(a,v)));if(0===h.length&&0===p.length)return U(new oe(a,{}));const m=kn(r)===s;return this.expandSegment(d,g,h,p,m?te:s,!0).pipe(ue(C=>new oe(a.concat(C.segments),C.children)))})):Qu(n)))}getChildConfig(e,n,r){return n.children?U({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?U({routes:n._loadedRoutes,injector:n._loadedInjector}):function E5(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?U(!0):U(i.map(o=>{const a=$o(o,t);return Ei(function c5(t){return t&&Ku(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ho(),F1())}(e,n,r).pipe(vt(i=>i?this.configLoader.loadChildren(e,n).pipe(Ut(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function M5(t){return Pu(x1(gh,3))}())):U({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return U(r);if(i.numberOfChildren>1||!i.children[te])return e.redirectTo,Pu(new T(4e3,gh));i=i.children[te]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new bi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return xt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return xt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new oe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,gh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class F5{}class L5{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=fh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,te).pipe(ue(n=>{if(null===n)return null;const r=new ch([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},te,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xr(r,n),s=new I1(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=b1(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return st(Object.keys(r.children)).pipe(hs(i=>{const s=r.children[i],o=R1(n,i);return this.processSegmentGroup(e,o,s,i)}),JA((i,s)=>i&&s?(i.push(...s),i):null),function rz(t,e=!1){return ht((n,r)=>{let i=0;n.subscribe(it(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Jd(null),e1(),ue(i=>{if(null===i)return null;const s=j1(i);return function V5(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return st(n).pipe(hs(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Di(o=>!!o),Ci(o=>{if(sv(o))return L1(r,i,s)?U([]):U(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!k1(n,r,i,s))return U(null);let o;if("**"===n.path){const a=i.length>0?i1(i).parameters:{},u=H1(r)+i.length;o=U({snapshot:new ch(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G1(n),kn(n),n.component??n._loadedComponent??null,n,$1(r),u,z1(n)),consumedSegments:[],remainingSegments:[]})}else o=P1(r,n,i,e).pipe(ue(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=H1(r)+u.length;return{snapshot:new ch(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G1(n),kn(n),n.component??n._loadedComponent??null,n,$1(r),d,z1(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(mr(a=>{if(null===a)return U(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function B5(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=fh(r,c,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ue(m=>null===m?null:[new Xr(u,m)]));if(0===h.length&&0===p.length)return U([new Xr(u,[])]);const g=kn(n)===s;return this.processSegment(d,h,f,p,g?te:s).pipe(ue(m=>null===m?null:[new Xr(u,m)]))}))}}function U5(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function j1(t){const e=[],n=new Set;for(const r of t){if(!U5(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=j1(r.children);e.push(new Xr(r.value,i))}return e.filter(r=>!n.has(r))}function $1(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function H1(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function G1(t){return t.data||{}}function z1(t){return t.resolve||{}}function q1(t){return"string"==typeof t.title||null===t.title}function uv(t){return mr(e=>{const n=t(e);return n?st(n).pipe(ue(()=>e)):U(e)})}const Go=new L("ROUTES");let cv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ce(wT)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return U(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ei(n.loadComponent()).pipe(ue(K1),Ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),By(()=>{this.componentLoaders.delete(n)})),i=new XA(r,()=>new Mr).pipe(Ly());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ue(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=r1(u.get(Go,[],H.Self|H.Optional)));return{routes:c.map(iv),injector:u}}),By(()=>{this.childrenLoaders.delete(r)})),o=new XA(s,()=>new Mr).pipe(Ly());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ei(n()).pipe(ue(K1),vt(r=>r instanceof xS||Array.isArray(r)?U(r):st(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function K1(t){return function K5(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let vh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Mr,this.configLoader=ce(cv),this.environmentInjector=ce(Br),this.urlSerializer=ce(Vu),this.rootContexts=ce(Gu),this.navigationId=0,this.afterPreactivation=()=>U(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Pz(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Fz(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Qn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$u,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yr(r=>0!==r.id),ue(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),mr(r=>{let i=!1,s=!1;return U(r).pipe(Ut(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new uh(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),er}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Q1(o.source)&&(n.browserUrlTree=o.extractedUrl),U(o).pipe(mr(l=>{const d=this.transitions?.getValue();return this.events.next(new qy(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?er:Promise.resolve(l)}),function O5(t,e,n,r){return mr(i=>function N5(t,e,n,r,i){return new R5(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ue(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Ut(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function $5(t,e,n,r,i){return vt(s=>function k5(t,e,n,r,i,s,o="emptyOnly"){return new L5(t,e,n,r,i,o,s).recognize().pipe(mr(a=>null===a?function P5(t){return new Qe(e=>e.error(t))}(new F5):U(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ue(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ut(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new Az(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new qy(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=E1(d,this.rootComponentType).snapshot;return U(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new uh(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),er}}),Ut(o=>{const a=new Mz(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ue(o=>r={...o,guards:i5(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function g5(t,e){return vt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?U({...n,guardsResult:!0}):function m5(t,e,n,r){return st(t).pipe(vt(i=>function C5(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?U(s.map(a=>{const u=zu(e)??i,c=$o(a,u);return Ei(function h5(t){return t&&Ku(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Di())})).pipe(Ho()):U(!0)}(i.component,i.route,n,e,r)),Di(i=>!0!==i,!0))}(o,r,i,t).pipe(vt(a=>a&&function u5(t){return"boolean"==typeof t}(a)?function y5(t,e,n,r){return st(e).pipe(hs(i=>Zd(function _5(t,e){return null!==t&&e&&e(new kz(t)),U(!0)}(i.route.parent,r),function v5(t,e){return null!==t&&e&&e(new Vz(t)),U(!0)}(i.route,r),function D5(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function s5(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>YA(()=>U(o.guards.map(u=>{const c=zu(o.node)??n,l=$o(u,c);return Ei(function d5(t){return t&&Ku(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Di())})).pipe(Ho())));return U(s).pipe(Ho())}(t,i.path,n),function w5(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return U(!0);const i=r.map(s=>YA(()=>{const o=zu(e)??n,a=$o(s,o);return Ei(function l5(t){return t&&Ku(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Di())}));return U(i).pipe(Ho())}(t,i.route,n))),Di(i=>!0!==i,!0))}(r,s,t,e):U(a)),ue(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Ut(o=>{if(r.guardsResult=o.guardsResult,ps(o.guardsResult))throw T1(0,o.guardsResult);const a=new Nz(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Yr(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),uv(o=>{if(o.guards.canActivateChecks.length)return U(o).pipe(Ut(a=>{const u=new Rz(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),mr(a=>{let u=!1;return U(a).pipe(function H5(t,e){return vt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return U(n);let s=0;return st(i).pipe(hs(o=>function G5(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!q1(i)&&(s[ku]=i.title),function z5(t,e,n,r){const i=function q5(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return U({});const s={};return st(i).pipe(vt(o=>function W5(t,e,n,r){const i=zu(e)??r,s=$o(t,i);return Ei(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Di(),Ut(a=>{s[o]=a}))),Vy(1),t1(s),Ci(o=>sv(o)?er:Pu(o)))}(s,t,e,r).pipe(ue(o=>(t._resolvedData=o,t.data=b1(t,n).resolve,i&&q1(i)&&(t.data[ku]=i.title),null)))}(o.route,r,t,e)),Ut(()=>s++),Vy(1),vt(o=>s===i.length?U(n):er))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ut({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Ut(a=>{const u=new Oz(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),uv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ut(l=>{u.component=l}),ue(()=>{})));for(const l of u.children)c.push(...a(l));return c};return KA(a(o.targetSnapshot.root)).pipe(Jd(),wi(1))}),uv(()=>this.afterPreactivation()),ue(o=>{const a=function Wz(t,e,n){const r=Hu(t,e._root,n?n._root:void 0);return new C1(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Ut(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>ue(r=>(new r5(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),wi(1),Ut({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new gs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),By(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ci(o=>{if(s=!0,M1(o)){A1(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new ah(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),A1(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||Q1(r.source)};n.scheduleNavigation(u,$u,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Wy(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return er}))}))}cancelNavigationTransition(n,r,i){const s=new ah(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Q1(t){return t!==$u}let Y1=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[ku]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ce(Q5)},providedIn:"root"}),t})(),Q5=(()=>{class t extends Y1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(G(Bx))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Y5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ce(Z5)},providedIn:"root"}),t})();class X5{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Z5=(()=>{class t extends X5{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Tt(t)))(r||t)}}(),t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _h=new L("",{providedIn:"root",factory:()=>({})});let e6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ce(t6)},providedIn:"root"}),t})(),t6=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function n6(t){throw t}function r6(t,e,n){return e.parse("/")}const i6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},s6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ce(N4),this.isNgZoneEnabled=!1,this.options=ce(_h,{optional:!0})||{},this.errorHandler=this.options.errorHandler||n6,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||r6,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ce(e6),this.routeReuseStrategy=ce(Y5),this.urlCreationStrategy=ce(Gz),this.titleStrategy=ce(Y1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=r1(ce(Go,{optional:!0})??[]),this.navigationTransitions=ce(vh),this.urlSerializer=ce(Vu),this.location=ce(zm),this.isNgZoneEnabled=ce(Xe)instanceof Xe&&Xe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=E1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$u,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(iv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ps(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,$u,null,r)}navigate(n,r={skipLocationChange:!1}){return function o6(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new T(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...i6}:!1===r?{...s6}:r,ps(n))return o1(this.currentUrlTree,n,i);const s=this.parseUrl(n);return o1(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zo=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Mr;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof gs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Oo(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Oo(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Oo(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function eb(t,e,n){return function AV(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?JE:ZE}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(b(hn),b(jo),function Fl(t){return function e2(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(H0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(St(),t)}("tabindex"),b(Ur),b(Cn),b(cs))},t.\u0275dir=K({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&be("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&dr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Mn]}),t})();class X1{}let c6=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Yr(n=>n instanceof gs),hs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=dd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return st(i).pipe(zs())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):U(null);const s=i.pipe(vt(o=>null===o?U(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?st([s,this.loader.loadComponent(r)]).pipe(zs()):s})}}return t.\u0275fac=function(n){return new(n||t)(G(hn),G(wT),G(Br),G(X1),G(cv))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dv=new L("");let Z1=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof gs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ky&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ky(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Nb(){throw new Error("invalid")}()},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();var bn=(()=>((bn=bn||{})[bn.COMPLETE=0]="COMPLETE",bn[bn.FAILED=1]="FAILED",bn[bn.REDIRECTING=2]="REDIRECTING",bn))();const qo=!1;function Ii(t,e){return{\u0275kind:t,\u0275providers:e}}const hv=new L("",{providedIn:"root",factory:()=>!1});function eM(){const t=ce(ur);return e=>{const n=t.get(vd);if(e!==n.components[0])return;const r=t.get(hn),i=t.get(tM);1===t.get(fv)&&r.initialNavigation(),t.get(nM,null,H.Optional)?.setUpPreloading(),t.get(dv,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const tM=new L(qo?"bootstrap done indicator":"",{factory:()=>new Mr}),fv=new L(qo?"initial navigation":"",{providedIn:"root",factory:()=>1});function p6(){let t=[];return t=qo?[{provide:zl,multi:!0,useFactory:()=>{const e=ce(hn);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function Uz(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Ii(1,t)}const nM=new L(qo?"router preloader":"");function g6(t){return Ii(0,[{provide:nM,useExisting:c6},{provide:X1,useExisting:t}])}const Yu=!1,rM=new L(Yu?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),m6=[zm,{provide:Vu,useClass:Uy},hn,Gu,{provide:jo,useFactory:function J1(t){return t.routerState.root},deps:[hn]},cv,Yu?{provide:hv,useValue:!0}:[]];function y6(){return new xT("Router",hn)}let iM=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[m6,Yu&&r?.enableTracing?p6().\u0275providers:[],{provide:Go,multi:!0,useValue:n},{provide:rM,useFactory:D6,deps:[[hn,new Xa,new Za]]},{provide:_h,useValue:r||{}},r?.useHash?{provide:cs,useClass:vH}:{provide:cs,useClass:XT},{provide:dv,useFactory:()=>{const t=ce(mx),e=ce(Xe),n=ce(_h),r=ce(vh),i=ce(Vu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Z1(i,r,t,e,n)}},r?.preloadingStrategy?g6(r.preloadingStrategy).\u0275providers:[],{provide:xT,multi:!0,useFactory:y6},r?.initialNavigation?C6(r):[],[{provide:sM,useFactory:eM},{provide:TT,multi:!0,useExisting:sM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Go,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(G(rM,8))},t.\u0275mod=ir({type:t}),t.\u0275inj=Vn({imports:[nv]}),t})();function D6(t){if(Yu&&t)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function C6(t){return["disabled"===t.initialNavigation?Ii(3,[{provide:gd,multi:!0,useFactory:()=>{const e=ce(hn);return()=>{e.setUpLocationChangeListener()}}},{provide:fv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ii(2,[{provide:fv,useValue:0},{provide:gd,multi:!0,deps:[ur],useFactory:e=>{const n=e.get(mH,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(hn),s=e.get(tM);(function l6(t,e){t.events.pipe(Yr(n=>n instanceof gs||n instanceof ah||n instanceof Wy||n instanceof uh),ue(n=>n instanceof gs||n instanceof uh?bn.COMPLETE:n instanceof ah&&(0===n.code||1===n.code)?bn.REDIRECTING:bn.FAILED),Yr(n=>n!==bn.REDIRECTING),wi(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(vh).afterPreactivation=()=>(r(!0),s.closed?U(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const sM=new L(Yu?"Router Initializer":"");function oM(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function S(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){oM(s,r,i,o,a,"next",u)}function a(u){oM(s,r,i,o,a,"throw",u)}o(void 0)})}}const aM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},uM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new x6;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wh=function(t){return function(t){const e=aM(t);return uM.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Dh=()=>{try{return function N6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return uM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},lM=()=>{var t;return null===(t=Dh())||void 0===t?void 0:t.config};class dM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function hM(){try{return"object"==typeof indexedDB}catch{return!1}}function fM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eh.prototype.create)}}class Eh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function $6(t,e){return t.replace(H6,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Si(i,`${this.serviceName}: ${o} (${i}).`,r)}}const H6=/\{\$([^}]+)}/g;function Ih(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(gM(s)&&gM(o)){if(!Ih(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gM(t){return null!==t&&"object"==typeof t}const q6=1e3,W6=2,K6=144e5,Q6=.5;function mM(t,e=q6,n=W6){const r=e*Math.pow(n,t),i=Math.round(Q6*r*(Math.random()-.5)*2);return Math.min(K6,r+i)}function Ti(t){return t&&t._delegate?t._delegate:t}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ms="[DEFAULT]";class X6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function J6(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return S(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ms?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class eq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const vv=[];var me=(()=>{return(t=me||(me={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",me;var t})();const yM={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},tq=me.INFO,nq={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},rq=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=nq[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class _v{constructor(e){this.name=e,this._logLevel=tq,this._logHandler=rq,this._userLogHandler=null,vv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?yM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const iq=(t,e)=>e.some(n=>t instanceof n);let vM,_M;const wM=new WeakMap,wv=new WeakMap,DM=new WeakMap,Dv=new WeakMap,Cv=new WeakMap;let Ev={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return wv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||DM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function dq(t){return"function"==typeof t?function lq(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oq(){return _M||(_M=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(bv(this),e),xi(wM.get(this))}:function(...e){return xi(t.apply(bv(this),e))}:function(e,...n){const r=t.call(bv(this),e,...n);return DM.set(r,e.sort?e.sort():[e]),xi(r)}}(t):(t instanceof IDBTransaction&&function uq(t){if(wv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wv.set(t,e)}(t),iq(t,function sq(){return vM||(vM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ev):t)}function xi(t){if(t instanceof IDBRequest)return function aq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wM.set(n,t)}).catch(()=>{}),Cv.set(e,t),e}(t);if(Dv.has(t))return Dv.get(t);const e=dq(t);return e!==t&&(Dv.set(t,e),Cv.set(e,t)),e}const bv=t=>Cv.get(t),fq=["get","getKey","getAll","getAllKeys","count"],pq=["put","add","delete","clear"],Iv=new Map;function CM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Iv.get(e))return Iv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fq.includes(n))return;const s=function(){var o=S(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Iv.set(e,s),s}!function cq(t){Ev=t(Ev)}(t=>({...t,get:(e,n,r)=>CM(e,n)||t.get(e,n,r),has:(e,n)=>!!CM(e,n)||t.has(e,n)}));class gq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function mq(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Sv="@firebase/app",ys=new _v("@firebase/app"),Sh="[DEFAULT]",$q={[Sv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vs=new Map,Th=new Map;function Hq(t,e){try{t.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ai(t){const e=t.name;if(Th.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Th.set(e,t);for(const n of vs.values())Hq(n,t);return!0}function Wo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Jr=new Eh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}function bM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Sh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=lM()),!n)throw Jr.create("no-options");const s=vs.get(i);if(s){if(Ih(n,s.options)&&Ih(r,s.config))return s;throw Jr.create("duplicate-app",{appName:i})}const o=new eq(i);for(const u of Th.values())o.addComponent(u);const a=new zq(n,r,o);return vs.set(i,a),a}function IM(t=Sh){const e=vs.get(t);if(!e&&t===Sh&&lM())return bM();if(!e)throw Jr.create("no-app",{appName:t});return e}function _r(t,e,n){var r;let i=null!==(r=$q[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ys.warn(a.join(" "))}Ai(new Zr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Wq="firebase-heartbeat-database",Kq=1,Xu="firebase-heartbeat-store";let xv=null;function SM(){return xv||(xv=function hq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=xi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(xi(o.result),u.oldVersion,u.newVersion,xi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Wq,Kq,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xu)}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),xv}function Av(){return(Av=S(function*(t){try{return yield(yield SM()).transaction(Xu).objectStore(Xu).get(xM(t))}catch(e){if(e instanceof Si)ys.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});ys.warn(n.message)}}})).apply(this,arguments)}function TM(t,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=S(function*(t,e){try{const r=(yield SM()).transaction(Xu,"readwrite");yield r.objectStore(Xu).put(e,xM(t)),yield r.done}catch(n){if(n instanceof Si)ys.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n?.message});ys.warn(r.message)}}})).apply(this,arguments)}function xM(t){return`${t.name}!${t.options.appId}`}class Zq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return S(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=AM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return S(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=AM(),{heartbeatsToSend:r,unsentEntries:i}=function Jq(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),MM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=wh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function AM(){return(new Date).toISOString().substring(0,10)}class e8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(function*(){return!!hM()&&fM().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return S(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Qq(t){return Av.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return S(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return TM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return S(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return TM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function MM(t){return wh(JSON.stringify({version:2,heartbeats:t})).length}!function t8(t){Ai(new Zr("platform-logger",e=>new gq(e),"PRIVATE")),Ai(new Zr("heartbeat",e=>new Zq(e),"PRIVATE")),_r(Sv,"0.9.13",t),_r(Sv,"0.9.13","esm2017"),_r("fire-js","")}("");var M,n8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yn={},Nv=Nv||{},X=n8||self;function xh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Zu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Rv="closure_uid_"+(1e9*Math.random()>>>0),i8=0;function s8(t,e,n){return t.call.apply(t.bind,arguments)}function o8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jt(t,e,n){return(jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s8:o8).apply(null,arguments)}function Ah(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Mi(){this.s=this.s,this.o=this.o}Mi.prototype.s=!1,Mi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function r8(t){Object.prototype.hasOwnProperty.call(t,Rv)&&t[Rv]||(t[Rv]=++i8)}(this)},Mi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ov(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function RM(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function $t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var u8=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",()=>{},e),X.removeEventListener("test",()=>{},e)}catch{}return t}();function Ju(t){return/^[\s\xa0]*$/.test(t)}function Mh(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function wr(t){return-1!=Mh().indexOf(t)}function Fv(t){return Fv[" "](t),t}Fv[" "]=function(){};var kv,t,l8=wr("Opera"),Ko=wr("Trident")||wr("MSIE"),OM=wr("Edge"),Pv=OM||Ko,FM=wr("Gecko")&&!(-1!=Mh().toLowerCase().indexOf("webkit")&&!wr("Edge"))&&!(wr("Trident")||wr("MSIE"))&&!wr("Edge"),d8=-1!=Mh().toLowerCase().indexOf("webkit")&&!wr("Edge");function PM(){var t=X.document;return t?t.documentMode:void 0}e:{var Lv="",Vv=(t=Mh(),FM?/rv:([^\);]+)(\)|;)/.exec(t):OM?/Edge\/([\d\.]+)/.exec(t):Ko?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):d8?/WebKit\/(\S+)/.exec(t):l8?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Vv&&(Lv=Vv?Vv[1]:""),Ko){var Bv=PM();if(null!=Bv&&Bv>parseFloat(Lv)){kv=String(Bv);break e}}kv=Lv}var h8=X.document&&Ko&&(PM()||parseInt(kv,10))||void 0;function ec(t,e){if($t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(FM){e:{try{Fv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:f8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ec.$.h.call(this)}}_t(ec,$t);var f8={2:"touch",3:"pen",4:"mouse"};ec.prototype.h=function(){ec.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tc="closure_listenable_"+(1e6*Math.random()|0),p8=0;function g8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++p8,this.fa=this.ia=!1}function Nh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function LM(t){const e={};for(const n in t)e[n]=t[n];return e}const VM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BM(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<VM.length;s++)n=VM[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rh(t){this.src=t,this.g={},this.h=0}function $v(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=NM(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Nh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Hv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Rh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Hv(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new g8(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Gv="closure_lm_"+(1e6*Math.random()|0),zv={};function UM(t,e,n,r,i){if(r&&r.once)return $M(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)UM(t,e[s],n,r,i);return null}return n=Qv(n),t&&t[tc]?t.O(e,n,Zu(r)?!!r.capture:!!r,i):jM(t,e,n,!1,r,i)}function jM(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Zu(i)?!!i.capture:!!i,a=Wv(t);if(a||(t[Gv]=a=new Rh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function y8(){const e=v8;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)u8||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(GM(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $M(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$M(t,e[s],n,r,i);return null}return n=Qv(n),t&&t[tc]?t.P(e,n,Zu(r)?!!r.capture:!!r,i):jM(t,e,n,!0,r,i)}function HM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)HM(t,e[s],n,r,i);else r=Zu(r)?!!r.capture:!!r,n=Qv(n),t&&t[tc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Hv(s=t.g[e],n,r,i))&&(Nh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Wv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Hv(e,n,r,i)),(n=-1<t?e[t]:null)&&qv(n))}function qv(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[tc])$v(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(GM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wv(e))?($v(n,t),0==n.h&&(n.src=null,e[Gv]=null)):Nh(t)}}}function GM(t){return t in zv?zv[t]:zv[t]="on"+t}function v8(t,e){if(t.fa)t=!0;else{e=new ec(e,this);var n=t.listener,r=t.la||t.src;t.ia&&qv(t),t=n.call(r,e)}return t}function Wv(t){return(t=t[Gv])instanceof Rh?t:null}var Kv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qv(t){return"function"==typeof t?t:(t[Kv]||(t[Kv]=function(e){return t.handleEvent(e)}),t[Kv])}function wt(){Mi.call(this),this.i=new Rh(this),this.S=this,this.J=null}function At(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new $t(e,t);else if(e instanceof $t)e.target=e.target||t;else{var i=e;BM(e=new $t(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Oh(o,r,!0,e)&&i}if(i=Oh(o=e.g=t,r,!0,e)&&i,i=Oh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Oh(o=e.g=n[s],r,!1,e)&&i}function Oh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&$v(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_t(wt,Mi),wt.prototype[tc]=!0,wt.prototype.removeEventListener=function(t,e,n,r){HM(this,t,e,n,r)},wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nh(n[r]);delete t.g[e],t.h--}}this.J=null},wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Yv=X.JSON.stringify;function w8(){var t=Xv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var zM=new class _8{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new C8,t=>t.reset());class C8{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function E8(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function b8(t){X.setTimeout(()=>{throw t},0)}let nc,rc=!1,Xv=new class D8{constructor(){this.h=this.g=null}add(e,n){const r=zM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},qM=()=>{const t=X.Promise.resolve(void 0);nc=()=>{t.then(I8)}};var I8=()=>{for(var t;t=w8();){try{t.h.call(t.g)}catch(n){b8(n)}var e=zM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}rc=!1};function Fh(t,e){wt.call(this),this.h=t||1,this.g=e||X,this.j=jt(this.qb,this),this.l=Date.now()}function Zv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Jv(t,e,n){if("function"==typeof t)n&&(t=jt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=jt(t.handleEvent,t)}return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function WM(t){t.g=Jv(()=>{t.g=null,t.i&&(t.i=!1,WM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}_t(Fh,wt),(M=Fh.prototype).ga=!1,M.T=null,M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),At(this,"tick"),this.ga&&(Zv(this),this.start()))}},M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.N=function(){Fh.$.N.call(this),Zv(this),delete this.g};class S8 extends Mi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WM(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ic(t){Mi.call(this),this.h=t,this.g={}}_t(ic,Mi);var KM=[];function QM(t,e,n,r){Array.isArray(n)||(n&&(KM[0]=n.toString()),n=KM);for(var i=0;i<n.length;i++){var s=UM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function YM(t){jv(t.g,function(e,n){this.g.hasOwnProperty(n)&&qv(e)},t),t.g={}}function Ph(){this.g=!0}function Qo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function M8(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Yv(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ic.prototype.N=function(){ic.$.N.call(this),YM(this)},ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ph.prototype.Ea=function(){this.g=!1},Ph.prototype.info=function(){};var _s={},XM=null;function kh(){return XM=XM||new wt}function ZM(t){$t.call(this,_s.Ta,t)}function sc(t){const e=kh();At(e,new ZM(e))}function JM(t,e){$t.call(this,_s.STAT_EVENT,t),this.stat=e}function en(t){const e=kh();At(e,new JM(e,t))}function eN(t,e){$t.call(this,_s.Ua,t),this.size=e}function oc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}_s.Ta="serverreachability",_t(ZM,$t),_s.STAT_EVENT="statevent",_t(JM,$t),_s.Ua="timingevent",_t(eN,$t);var Lh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function e_(){}function rN(){}e_.prototype.h=null;var r_,ac={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function t_(){$t.call(this,"d")}function n_(){$t.call(this,"c")}function Vh(){}function uc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ic(this),this.P=N8,this.V=new Fh(t=Pv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new iN}function iN(){this.i=null,this.g="",this.h=!1}_t(t_,$t),_t(n_,$t),_t(Vh,e_),Vh.prototype.g=function(){return new XMLHttpRequest},Vh.prototype.i=function(){return{}},r_=new Vh;var N8=45e3,i_={},Bh={};function s_(t,e,n){t.L=1,t.v=Hh(ei(e)),t.s=n,t.S=!0,sN(t,null)}function sN(t,e){t.G=Date.now(),cc(t),t.A=ei(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),gN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new iN,t.g=BN(t.l,n?e:null,!t.s),0<t.O&&(t.M=new S8(jt(t.Pa,t,t.g),t.O)),QM(t.U,t.g,"readystatechange",t.nb),e=t.I?LM(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),sc(),function T8(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function oN(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function aN(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=R8(t,n),i==Bh){4==e&&(t.o=4,en(14),r=!1),Qo(t.j,t.m,null,"[Incomplete Response]");break}if(i==i_){t.o=4,en(15),Qo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Qo(t.j,t.m,i,null),o_(t,i)}oN(t)&&i!=Bh&&i!=i_&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,en(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),f_(e),e.M=!0,en(11))):(Qo(t.j,t.m,n,"[Invalid Chunked Response]"),ws(t),lc(t))}function R8(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Bh:(n=Number(e.substring(n,r)),isNaN(n)?i_:(r+=1)+n>e.length?Bh:(e=e.slice(r,r+n),t.C=r+n,e))}function cc(t){t.Y=Date.now()+t.P,uN(t,t.P)}function uN(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=oc(jt(t.lb,t),e)}function Uh(t){t.B&&(X.clearTimeout(t.B),t.B=null)}function lc(t){0==t.l.H||t.J||PN(t.l,t)}function ws(t){Uh(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Zv(t.V),YM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function o_(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||a_(n.i,t)))if(!t.K&&a_(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Qh(n),Wh(n)}h_(n),en(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=oc(jt(n.ib,n),6e3));if(1>=vN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Cs(n,11)}else if((t.K||n.g==t)&&Qh(n),!Ju(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(u_(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Oe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=VN(r,r.J?r.pa:null,r.Y),o.K){_N(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Uh(a),cc(a)),r.g=o}else ON(r);0<n.j.length&&Kh(n)}else"stop"!=c[0]&&"close"!=c[0]||Cs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Cs(n,7):d_(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}sc()}catch{}}function cN(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(xh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function F8(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function O8(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(xh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(M=uc.prototype).setTimeout=function(t){this.P=t},M.nb=function(t){t=t.target;const e=this.M;e&&3==Dr(t)?e.l():this.Pa(t)},M.Pa=function(t){try{if(t==this.g)e:{const l=Dr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Pv||this.g&&(this.h.h||this.g.ja()||TN(this.g)))){this.J||4!=l||7==e||sc(),Uh(this);var n=this.g.da();this.ca=n;t:if(oN(this)){var r=TN(this.g);t="";var i=r.length,s=4==Dr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),lc(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function x8(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ju(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,en(12),ws(this),lc(this);break e}Qo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,o_(this,n)}this.S?(aN(this,l,o),Pv&&this.i&&3==l&&(QM(this.U,this.V,"tick",this.mb),this.V.start())):(Qo(this.j,this.m,o,null),o_(this,o)),4==l&&ws(this),this.i&&!this.J&&(4==l?PN(this.l,this):(this.i=!1,cc(this)))}else(function Z8(t){const e={};t=(t.g&&2<=Dr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ju(t[r]))continue;var n=E8(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function m8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,en(12)):(this.o=0,en(13)),ws(this),lc(this)}}}catch{}},M.mb=function(){if(this.g){var t=Dr(this.g),e=this.g.ja();this.C<e.length&&(Uh(this),aN(this,t,e),this.i&&4!=t&&cc(this))}},M.cancel=function(){this.J=!0,ws(this)},M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function A8(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(sc(),en(17)),ws(this),this.o=2,lc(this)):uN(this,this.Y-t)};var lN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ds){this.h=t.h,jh(this,t.j),this.s=t.s,this.g=t.g,$h(this,t.m),this.l=t.l;var e=t.i,n=new fc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),dN(this,n),this.o=t.o}else t&&(e=String(t).match(lN))?(this.h=!1,jh(this,e[1]||"",!0),this.s=dc(e[2]||""),this.g=dc(e[3]||"",!0),$h(this,e[4]),this.l=dc(e[5]||"",!0),dN(this,e[6]||"",!0),this.o=dc(e[7]||"")):(this.h=!1,this.i=new fc(null,this.h))}function ei(t){return new Ds(t)}function jh(t,e,n){t.j=n?dc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $h(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function dN(t,e,n){e instanceof fc?(t.i=e,function j8(t,e){e&&!t.j&&(Ni(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(fN(this,r),gN(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=hc(e,B8)),t.i=new fc(e,t.h))}function Oe(t,e,n){t.i.set(e,n)}function Hh(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function dc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,k8),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function k8(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ds.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hc(e,hN,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(hc(e,hN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(hc(n,"/"==n.charAt(0)?V8:L8,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hc(n,U8)),t.join("")};var hN=/[#\/\?@]/g,L8=/[#\?:]/g,V8=/[#\?]/g,B8=/[#\?@]/g,U8=/#/g;function fc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ni(t){t.g||(t.g=new Map,t.h=0,t.i&&function P8(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function fN(t,e){Ni(t),e=Yo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function pN(t,e){return Ni(t),e=Yo(t,e),t.g.has(e)}function gN(t,e,n){fN(t,e),0<n.length&&(t.i=null,t.g.set(Yo(t,e),Ov(n)),t.h+=n.length)}function Yo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mN(t){this.l=t||H8,t=X.PerformanceNavigationTiming?0<(t=X.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=fc.prototype).add=function(t,e){Ni(this),this.i=null,t=Yo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},M.forEach=function(t,e){Ni(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},M.ta=function(){Ni(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},M.Z=function(t){Ni(this);let e=[];if("string"==typeof t)pN(this,t)&&(e=e.concat(this.g.get(Yo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},M.set=function(t,e){return Ni(this),this.i=null,pN(this,t=Yo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},M.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var H8=10;function yN(t){return!!t.h||!!t.g&&t.g.size>=t.j}function vN(t){return t.h?1:t.g?t.g.size:0}function a_(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function u_(t,e){t.g?t.g.add(e):t.h=e}function _N(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function wN(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ov(t.i)}mN.prototype.cancel=function(){if(this.i=wN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var G8=class{stringify(t){return X.JSON.stringify(t,void 0)}parse(t){return X.JSON.parse(t,void 0)}};function z8(){this.g=new G8}function q8(t,e,n){const r=n||"";try{cN(t,function(i,s){let o=i;Zu(i)&&(o=Yv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function pc(t){this.l=t.fc||null,this.j=t.ob||!1}function zh(t,e){wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=c_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t(pc,e_),pc.prototype.g=function(){return new zh(this.l,this.j)},pc.prototype.i=function(t){return function(){return t}}({}),_t(zh,wt);var c_=0;function DN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function gc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,mc(t)}function mc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(M=zh.prototype).open=function(t,e){if(this.readyState!=c_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,mc(this)},M.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gc(this)),this.readyState=c_},M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,mc(this)),this.g&&(this.readyState=3,mc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gc(this):mc(this),3==this.readyState&&DN(this)}},M.Za=function(t){this.g&&(this.response=this.responseText=t,gc(this))},M.Ya=function(t){this.g&&(this.response=t,gc(this))},M.ka=function(){this.g&&gc(this)},M.setRequestHeader=function(t,e){this.v.append(t,e)},M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(zh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var K8=X.JSON.parse;function We(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CN,this.L=this.M=!1}_t(We,wt);var CN="",Q8=/^https?$/i,Y8=["POST","PUT"];function EN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bN(t),qh(t)}function bN(t){t.F||(t.F=!0,At(t,"complete"),At(t,"error"))}function IN(t){if(t.h&&typeof Nv<"u"&&(!t.C[1]||4!=Dr(t)||2!=t.da()))if(t.v&&4==Dr(t))Jv(t.La,0,t);else if(At(t,"readystatechange"),4==Dr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(lN)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!Q8.test(i?i.toLowerCase():"")}n=r}if(n)At(t,"complete"),At(t,"success");else{t.m=6;try{var s=2<Dr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",bN(t)}}finally{qh(t)}}}function qh(t,e){if(t.g){SN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=r}catch{}}}function SN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}function Dr(t){return t.g?t.g.readyState:0}function TN(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function xN(t){let e="";return jv(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function l_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xN(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Oe(t,e,n))}function yc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function AN(t){this.Ga=0,this.j=[],this.l=new Ph,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yc("baseRetryDelayMs",5e3,t),this.hb=yc("retryDelaySeedMs",1e4,t),this.eb=yc("forwardChannelMaxRetries",2,t),this.xa=yc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new mN(t&&t.concurrentRequestLimit),this.Ja=new z8,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function d_(t){if(MN(t),3==t.H){var e=t.W++,n=ei(t.I);if(Oe(n,"SID",t.K),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),vc(t,n),(e=new uc(t,t.l,e)).L=2,e.v=Hh(ei(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&X.Image&&((new Image).src=e.v,n=!0),n||(e.g=BN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cc(e)}LN(t)}function Wh(t){t.g&&(f_(t),t.g.cancel(),t.g=null)}function MN(t){Wh(t),t.u&&(X.clearTimeout(t.u),t.u=null),Qh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&X.clearTimeout(t.m),t.m=null)}function Kh(t){if(!yN(t.i)&&!t.m){t.m=!0;var e=t.Na;nc||qM(),rc||(nc(),rc=!0),Xv.add(e,t),t.C=0}}function NN(t,e){var n;n=e?e.m:t.W++;const r=ei(t.I);Oe(r,"SID",t.K),Oe(r,"RID",n),Oe(r,"AID",t.V),vc(t,r),t.o&&t.s&&l_(r,t.o,t.s),n=new uc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=RN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),u_(t.i,n),s_(n,r,e)}function vc(t,e){t.na&&jv(t.na,function(n,r){Oe(e,r,n)}),t.h&&cN({},function(n,r){Oe(e,r,n)})}function RN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{q8(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ON(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;nc||qM(),rc||(nc(),rc=!0),Xv.add(e,t),t.A=0}}function h_(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=oc(jt(t.Ma,t),kN(t,t.A)),t.A++,0))}function f_(t){null!=t.B&&(X.clearTimeout(t.B),t.B=null)}function FN(t){t.g=new uc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ei(t.wa);Oe(e,"RID","rpc"),Oe(e,"SID",t.K),Oe(e,"AID",t.V),Oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Oe(e,"TO",t.qa),Oe(e,"TYPE","xmlhttp"),vc(t,e),t.o&&t.s&&l_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Hh(ei(e)),n.s=null,n.S=!0,sN(n,t)}function Qh(t){null!=t.v&&(X.clearTimeout(t.v),t.v=null)}function PN(t,e){var n=null;if(t.g==e){Qh(t),f_(t),t.g=null;var r=2}else{if(!a_(t.i,e))return;n=e.F,_N(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;At(r=kh(),new eN(r,n)),Kh(t)}else ON(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function J8(t,e){return!(vN(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=oc(jt(t.Na,t,e),kN(t,t.C)),t.C++,0)))}(t,e)||2==r&&h_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}function kN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Cs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=jt(t.pb,t);n||(n=new Ds("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||jh(n,"https"),Hh(n)),function W8(t,e){const n=new Ph;if(X.Image){const r=new Image;r.onload=Ah(Gh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ah(Gh,n,r,"TestLoadImage: error",!1,e),r.onabort=Ah(Gh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ah(Gh,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else en(2);t.H=0,t.h&&t.h.za(e),LN(t),MN(t)}function LN(t){if(t.H=0,t.ma=[],t.h){const e=wN(t.i);(0!=e.length||0!=t.j.length)&&(RM(t.ma,e),RM(t.ma,t.j),t.i.i.length=0,Ov(t.j),t.j.length=0),t.h.ya()}}function VN(t,e,n){var r=n instanceof Ds?ei(n):new Ds(n);if(""!=r.g)e&&(r.g=e+"."+r.g),$h(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ds(null);r&&jh(s,r),e&&(s.g=e),i&&$h(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Oe(r,n,e),Oe(r,"VER",t.ra),vc(t,r),r}function BN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new We(n&&t.Ha&&!t.va?new pc({ob:!0}):t.va)).Oa(t.J),e}function UN(){}function Yh(){if(Ko&&!(10<=Number(h8)))throw Error("Environmental error: no available transport.")}function In(t,e){wt.call(this),this.g=new AN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ju(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ju(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Xo(this)}function jN(t){t_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $N(){n_.call(this),this.status=1}function Xo(t){this.g=t}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function p_(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(M=We.prototype).Oa=function(t){this.M=t},M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():r_.g(),this.C=function nN(t){return t.h||(t.h=t.i())}(this.u?this.u:r_),this.g.onreadystatechange=jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void EN(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=X.FormData&&t instanceof X.FormData,!(0<=NM(Y8,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SN(this),0<this.B&&((this.L=function X8(t){return Ko&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.ua,this)):this.A=Jv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){EN(this,s)}},M.ua=function(){typeof Nv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))},M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),qh(this))},M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qh(this,!0)),We.$.N.call(this)},M.La=function(){this.s||(this.G||this.v||this.l?IN(this):this.kb())},M.kb=function(){IN(this)},M.isActive=function(){return!!this.g},M.da=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),K8(e)}},M.Ia=function(){return this.m},M.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=AN.prototype).ra=8,M.H=1,M.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new uc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=LM(s),BM(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=RN(this,i,e),Oe(n=ei(this.I),"RID",t),Oe(n,"CVER",22),this.F&&Oe(n,"X-HTTP-Session-Id",this.F),vc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(xN(s)))+"&"+e:this.o&&l_(n,this.o,s)),u_(this.i,i),this.bb&&Oe(n,"TYPE","init"),this.P?(Oe(n,"$req",e),Oe(n,"SID","null"),i.aa=!0,s_(i,n,null)):s_(i,n,e),this.H=2}}else 3==this.H&&(t?NN(this,t):0==this.j.length||yN(this.i)||NN(this))},M.Ma=function(){if(this.u=null,FN(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=oc(jt(this.jb,this),t)}},M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,en(10),Wh(this),FN(this))},M.ib=function(){null!=this.v&&(this.v=null,Wh(this),h_(this),en(19))},M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),en(2)):(this.l.info("Failed to ping google.com"),en(1))},M.isActive=function(){return!!this.h&&this.h.isActive(this)},(M=UN.prototype).Ba=function(){},M.Aa=function(){},M.za=function(){},M.ya=function(){},M.isActive=function(){return!0},M.Va=function(){},Yh.prototype.g=function(t,e){return new In(t,e)},_t(In,wt),In.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=VN(t,null,t.Y),Kh(t)},In.prototype.close=function(){d_(this.g)},In.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Yv(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Kh(e)},In.prototype.N=function(){this.g.h=null,delete this.j,d_(this.g),delete this.g,In.$.N.call(this)},_t(jN,t_),_t($N,n_),_t(Xo,UN),Xo.prototype.Ba=function(){At(this.g,"a")},Xo.prototype.Aa=function(t){At(this.g,new jN(t))},Xo.prototype.za=function(t){At(this.g,new $N)},Xo.prototype.ya=function(){At(this.g,"b")},_t(Xn,function e7(){this.blockSize=-1}),Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)p_(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){p_(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){p_(this,r),i=0;break}}this.h=i,this.i+=e},Xn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var t7={};function g_(t){return-128<=t&&128>t?function c8(t,e){var n=t7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ce([0|e],0>e?-1:0)}):new Ce([0|t],0>t?-1:0)}function Cr(t){if(isNaN(t)||!isFinite(t))return Zo;if(0>t)return Mt(Cr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=m_;return new Ce(e,0)}var m_=4294967296,Zo=g_(0),y_=g_(1),GN=g_(16777216);function ti(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ln(t){return-1==t.h}function Mt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(y_)}function Xh(t,e){return t.add(Mt(e))}function Zh(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _c(t,e){this.g=t,this.h=e}function Jh(t,e){if(ti(e))throw Error("division by zero");if(ti(t))return new _c(Zo,Zo);if(Ln(t))return e=Jh(Mt(t),e),new _c(Mt(e.g),Mt(e.h));if(Ln(e))return e=Jh(t,Mt(e)),new _c(Mt(e.g),e.h);if(30<t.g.length){if(Ln(t)||Ln(e))throw Error("slowDivide_ only works with positive integers.");for(var n=y_,r=e;0>=r.X(t);)n=zN(n),r=zN(r);var i=Jo(n,1),s=Jo(r,1);for(r=Jo(r,2),n=Jo(n,2);!ti(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Jo(r,1),n=Jo(n,1)}return e=Xh(t,i.R(e)),new _c(i,e)}for(i=Zo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Cr(n)).R(e);Ln(o)||0<o.X(t);)o=(s=Cr(n-=r)).R(e);ti(s)&&(s=y_),i=i.add(s),t=Xh(t,o)}return new _c(i,t)}function zN(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function Jo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ce(i,t.h)}(M=Ce.prototype).ea=function(){if(Ln(this))return-Mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:m_+r)*e,e*=m_}return t},M.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ti(this))return"0";if(Ln(this))return"-"+Mt(this).toString(t);for(var e=Cr(Math.pow(t,6)),n=this,r="";;){var i=Jh(n,e).g,s=((0<(n=Xh(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ti(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},M.X=function(t){return Ln(t=Xh(this,t))?-1:ti(t)?0:1},M.abs=function(){return Ln(this)?Mt(this):this},M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ce(n,-2147483648&n[n.length-1]?-1:0)},M.R=function(t){if(ti(this)||ti(t))return Zo;if(Ln(this))return Ln(t)?Mt(this).R(Mt(t)):Mt(Mt(this).R(t));if(Ln(t))return Mt(this.R(Mt(t)));if(0>this.X(GN)&&0>t.X(GN))return Cr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Zh(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Zh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Zh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Zh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)},M.gb=function(t){return Jh(this,t).h},M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)},M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)},M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)},Yh.prototype.createWebChannel=Yh.prototype.g,In.prototype.send=In.prototype.u,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,Lh.NO_ERROR=0,Lh.TIMEOUT=8,Lh.HTTP_ERROR=6,tN.COMPLETE="complete",rN.EventType=ac,ac.OPEN="a",ac.CLOSE="b",ac.ERROR="c",ac.MESSAGE="d",wt.prototype.listen=wt.prototype.O,We.prototype.listenOnce=We.prototype.P,We.prototype.getLastError=We.prototype.Sa,We.prototype.getLastErrorCode=We.prototype.Ia,We.prototype.getStatus=We.prototype.da,We.prototype.getResponseJson=We.prototype.Wa,We.prototype.getResponseText=We.prototype.ja,We.prototype.send=We.prototype.ha,We.prototype.setWithCredentials=We.prototype.Oa,Xn.prototype.digest=Xn.prototype.l,Xn.prototype.reset=Xn.prototype.reset,Xn.prototype.update=Xn.prototype.j,Ce.prototype.add=Ce.prototype.add,Ce.prototype.multiply=Ce.prototype.R,Ce.prototype.modulo=Ce.prototype.gb,Ce.prototype.compare=Ce.prototype.X,Ce.prototype.toNumber=Ce.prototype.ea,Ce.prototype.toString=Ce.prototype.toString,Ce.prototype.getBits=Ce.prototype.D,Ce.fromNumber=Cr,Ce.fromString=function HN(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Mt(HN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Cr(Math.pow(e,8)),r=Zo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Cr(Math.pow(e,s)),r=r.R(s).add(Cr(o))):r=(r=r.R(n)).add(Cr(o))}return r};var n7=Yn.createWebChannelTransport=function(){return new Yh},r7=Yn.getStatEventTarget=function(){return kh()},v_=Yn.ErrorCode=Lh,i7=Yn.EventType=tN,s7=Yn.Event=_s,qN=Yn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},o7=Yn.FetchXmlHttpFactory=pc,ef=Yn.WebChannel=rN,a7=Yn.XhrIo=We,u7=Yn.Md5=Xn,ea=Yn.Integer=Ce;const WN="@firebase/firestore";class Dt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");let ta="9.23.0";const Ri=new _v("@firebase/firestore");function __(){return Ri.logLevel}function I(t,...e){if(Ri.logLevel<=me.DEBUG){const n=e.map(w_);Ri.debug(`Firestore (${ta}): ${t}`,...n)}}function et(t,...e){if(Ri.logLevel<=me.ERROR){const n=e.map(w_);Ri.error(`Firestore (${ta}): ${t}`,...n)}}function Zn(t,...e){if(Ri.logLevel<=me.WARN){const n=e.map(w_);Ri.warn(`Firestore (${ta}): ${t}`,...n)}}function w_(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+t;throw et(e),new Error(e)}function P(t,e){t||F()}function A(t,e){return t}const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class E extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class KN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class l7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class d7{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new mt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(S(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(P("string"==typeof r.accessToken),new KN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new Dt(e)}}class h7{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class f7{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new h7(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p7{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(P("string"==typeof n.token),this.T=n.token,new QN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function g7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class YN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=g7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function na(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class k{constructor(e){this.timestamp=e}static fromTimestamp(e){return new k(e)}static min(){return new k(new $e(0,0))}static max(){return new k(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wc{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===wc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends wc{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new E(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const m7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends wc{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return m7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new E(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new E(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new E(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(fe.fromString(e))}static fromName(e){return new x(fe.fromString(e).popFirst(5))}static empty(){return new x(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new fe(e.slice()))}}function JN(t){return new Sn(t.readTime,t.key,-1)}class Sn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Sn(k.min(),x.empty(),-1)}static max(){return new Sn(k.max(),x.empty(),-1)}}function C_(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:Y(t.largestBatchId,e.largestBatchId))}const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Oi(t){return E_.apply(this,arguments)}function E_(){return E_=S(function*(t){if(t.code!==_.FAILED_PRECONDITION||t.message!==eR)throw t;I("LocalStore","Unexpectedly lost primary lease")}),E_.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,r)=>{n(e)})}static reject(e){return new y((n,r)=>{r(e)})}static waitFor(e){return new y((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=y.resolve(!1);for(const r of e)n=n.next(i=>i?y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new y((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new y((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Fi(t){return"IndexedDbTransactionError"===t.name}let Tn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Ec(t){return null==t}function bc(t){return 0===t&&1/t==-1/0}function cR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Me{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}}class af{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1,Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Nt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dR(this.data.getIterator())}getIteratorFrom(e){return new dR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class dR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fn{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new Fe(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class hR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hR("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const $7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(t){if(P(!!t),"string"==typeof t){let e=0;const n=$7.exec(t);if(P(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ni(t){return"string"==typeof t?yt.fromBase64String(t):yt.fromUint8Array(t)}function uf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cf(t){const e=t.mapValue.fields.__previous_value__;return uf(e)?cf(e):e}function Ic(t){const e=ki(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}class H7{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Is{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Is("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Is&&e.projectId===this.projectId&&e.database===this.database}}const Li={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uf(t)?4:mR(t)?9007199254740991:10:F()}function br(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ic(t).isEqual(Ic(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ki(r.timestampValue),o=ki(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ni(t.bytesValue).isEqual(ni(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ke(r.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ke(r.integerValue)===Ke(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ke(r.doubleValue),o=Ke(i.doubleValue);return s===o?bc(s)===bc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return na(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(cR(s)!==cR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!br(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function Sc(t,e){return void 0!==(t.values||[]).find(n=>br(n,e))}function Bi(t,e){if(t===e)return 0;const n=Vi(t),r=Vi(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ke(i.integerValue||i.doubleValue),a=Ke(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return fR(t.timestampValue,e.timestampValue);case 4:return fR(Ic(t),Ic(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ni(i),a=ni(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Y(o[u],a[u]);if(0!==c)return c}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(Ke(i.latitude),Ke(s.latitude));return 0!==o?o:Y(Ke(i.longitude),Ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Bi(o[u],a[u]);if(c)return c}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Li.mapValue&&s===Li.mapValue)return 0;if(i===Li.mapValue)return 1;if(s===Li.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Y(a[l],c[l]);if(0!==d)return d;const h=Bi(o[a[l]],u[c[l]]);if(0!==h)return h}return Y(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function fR(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);const n=ki(t),r=ki(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function ia(t){return S_(t)}function S_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ki(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ni(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=S_(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${S_(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function Ss(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T_(t){return!!t&&"integerValue"in t}function Tc(t){return!!t&&"arrayValue"in t}function pR(t){return!!t&&"nullValue"in t}function gR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hf(t){return!!t&&"mapValue"in t}function xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mR(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=xc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rt(xc(this.value))}}function _R(t){const e=[];return Pi(t.fields,(n,r)=>{const i=new tt([n]);if(hf(r)){const s=_R(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}class Pe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pe(e,0,k.min(),k.min(),k.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new Pe(e,1,n,k.min(),r,i,0)}static newNoDocument(e,n){return new Pe(e,2,n,k.min(),k.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new Pe(e,3,n,k.min(),k.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(k.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=k.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ui{constructor(e,n){this.position=e,this.inclusive=n}}function wR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Bi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function DR(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}class sa{constructor(e,n="asc"){this.field=e,this.dir=n}}function q7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class CR{}class le extends CR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new W7(e,n,r):"array-contains"===n?new Y7(e,r):"in"===n?new xR(e,r):"not-in"===n?new X7(e,r):"array-contains-any"===n?new Z7(e,r):new le(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new K7(e,r):new Q7(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Bi(n,this.value)):null!==n&&Vi(this.value)===Vi(n)&&this.matchesComparison(Bi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ee extends CR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ee(e,n)}matches(e){return oa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function oa(t){return"and"===t.op}function A_(t){return function ER(t){for(const e of t.filters)if(e instanceof Ee)return!1;return!0}(t)&&oa(t)}function M_(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+ia(t.value);if(A_(t))return t.filters.map(e=>M_(e)).join(",");{const e=t.filters.map(n=>M_(n)).join(",");return`${t.op}(${e})`}}function bR(t,e){return t instanceof le?(n=t,(r=e)instanceof le&&n.op===r.op&&n.field.isEqual(r.field)&&br(n.value,r.value)):t instanceof Ee?function(n,r){return r instanceof Ee&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&bR(s,r.filters[o]),!0)}(t,e):void F();var n,r}function SR(t){return t instanceof le?`${(e=t).field.canonicalString()} ${e.op} ${ia(e.value)}`:t instanceof Ee?function(e){return e.op.toString()+" {"+e.getFilters().map(SR).join(" ,")+"}"}(t):"Filter";var e}class W7 extends le{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class K7 extends le{constructor(e,n){super(e,"in",n),this.keys=TR(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Q7 extends le{constructor(e,n){super(e,"not-in",n),this.keys=TR(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TR(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class Y7 extends le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tc(n)&&Sc(n.arrayValue,this.value)}}class xR extends le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Sc(this.value.arrayValue,n)}}class X7 extends le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Sc(this.value.arrayValue,n)}}class Z7 extends le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sc(this.value.arrayValue,r))}}class J7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function N_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new J7(t,e,n,r,i,s,o)}function Ts(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>M_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ec(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ia(r)).join(",")),e.dt=n}return e.dt}function Ac(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!q7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DR(t.startAt,e.startAt)&&DR(t.endAt,e.endAt)}function ff(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ri{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function aa(t){return new ri(t)}function RR(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function R_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function gf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function O_(t){return null!==t.collectionGroup}function xs(t){const e=A(t);if(null===e.wt){e.wt=[];const n=gf(e),r=R_(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new sa(n)),e.wt.push(new sa(tt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new sa(tt.keyField(),s))}}}return e.wt}function tn(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=N_(e.path,e.collectionGroup,xs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of xs(e))n.push(new sa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ui(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ui(e.startAt.position,e.startAt.inclusive):null;e._t=N_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function F_(t,e){e.getFirstInequalityField(),gf(t);const n=t.filters.concat([e]);return new ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mf(t,e,n){return new ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mc(t,e){return Ac(tn(t),tn(e))&&t.limitType===e.limitType}function OR(t){return`${Ts(tn(t))}|lt:${t.limitType}`}function P_(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>SR(r)).join(", ")}]`),Ec(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ia(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ia(r)).join(",")),`Target(${n})`}(tn(t))}; limitType=${t.limitType})`}function Nc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of xs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=wR(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,xs(n),r)||n.endAt&&!function(i,s,o){const a=wR(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,xs(n),r)));var n,r}function PR(t){return(e,n)=>{let r=!1;for(const i of xs(t)){const s=eW(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function eW(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Bi(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class ii{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return lR(this.inner)}size(){return this.innerSize}}const tW=new Me(x.comparator);function pn(){return tW}const kR=new Me(x.comparator);function Rc(...t){let e=kR;for(const n of t)e=e.insert(n.key,n);return e}function LR(t){let e=kR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ir(){return Oc()}function VR(){return Oc()}function Oc(){return new ii(t=>t.toString(),(t,e)=>t.isEqual(e))}const nW=new Me(x.comparator),rW=new Fe(x.comparator);function ne(...t){let e=rW;for(const n of t)e=e.add(n);return e}const iW=new Fe(Y);function BR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function UR(t){return{integerValue:""+t}}function jR(t,e){return function nR(t){return"number"==typeof t&&Number.isInteger(t)&&!bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?UR(e):BR(t,e)}class yf{constructor(){this._=void 0}}function sW(t,e,n){return t instanceof ua?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&uf(i)&&(i=cf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof As?HR(t,e):t instanceof Ms?GR(t,e):function(r,i){const s=$R(r,i),o=zR(s)+zR(r.gt);return T_(s)&&T_(r.gt)?UR(o):BR(r.serializer,o)}(t,e)}function oW(t,e,n){return t instanceof As?HR(t,e):t instanceof Ms?GR(t,e):n}function $R(t,e){return t instanceof ca?T_(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ua extends yf{}class As extends yf{constructor(e){super(),this.elements=e}}function HR(t,e){const n=qR(e);for(const r of t.elements)n.some(i=>br(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ms extends yf{constructor(e){super(),this.elements=e}}function GR(t,e){let n=qR(e);for(const r of t.elements)n=n.filter(i=>!br(i,r));return{arrayValue:{values:n}}}class ca extends yf{constructor(e,n){super(),this.serializer=e,this.gt=n}}function zR(t){return Ke(t.integerValue||t.doubleValue)}function qR(t){return Tc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class uW{constructor(e,n){this.version=e,this.transformResults=n}}class Ve{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ve}static exists(e){return new Ve(void 0,e)}static updateTime(e){return new Ve(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class _f{}function WR(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new da(t.key,Ve.none()):new la(t.key,t.data,Ve.none());{const n=t.data,r=Rt.empty();let i=new Fe(tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new si(t.key,r,new fn(i.toArray()),Ve.none())}}function cW(t,e,n){t instanceof la?function(r,i,s){const o=r.value.clone(),a=YR(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof si?function(r,i,s){if(!vf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=YR(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(QR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Pc(t,e,n,r){return t instanceof la?function(i,s,o,a){if(!vf(i.precondition,s))return o;const u=i.value.clone(),c=XR(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof si?function(i,s,o,a){if(!vf(i.precondition,s))return o;const u=XR(i.fieldTransforms,a,s),c=s.data;return c.setAll(QR(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,vf(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function lW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$R(r.transform,i||null);null!=s&&(null===n&&(n=Rt.empty()),n.set(r.field,s))}return n||null}function KR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&na(n,r,(i,s)=>function aW(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof As&&r instanceof As||n instanceof Ms&&r instanceof Ms?na(n.elements,r.elements,br):n instanceof ca&&r instanceof ca?br(n.gt,r.gt):n instanceof ua&&r instanceof ua);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class la extends _f{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class si extends _f{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YR(t,e,n){const r=new Map;P(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oW(o,a,n[i]))}return r}function XR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,sW(s,o,e))}return r}class da extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L_ extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class V_{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cW(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=WR(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(k.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(n,r)=>KR(n,r))&&na(this.baseMutations,e.baseMutations,(n,r)=>KR(n,r))}}class B_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){P(e.mutations.length===r.length);let i=nW;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new B_(e,n,r,i)}}class U_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hW{constructor(e,n){this.count=e,this.unchangedNames=n}}var lt,pe;function JR(t){if(void 0===t)return et("GRPC error has no .code"),_.UNKNOWN;switch(t){case lt.OK:return _.OK;case lt.CANCELLED:return _.CANCELLED;case lt.UNKNOWN:return _.UNKNOWN;case lt.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case lt.INTERNAL:return _.INTERNAL;case lt.UNAVAILABLE:return _.UNAVAILABLE;case lt.UNAUTHENTICATED:return _.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case lt.NOT_FOUND:return _.NOT_FOUND;case lt.ALREADY_EXISTS:return _.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return _.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case lt.ABORTED:return _.ABORTED;case lt.OUT_OF_RANGE:return _.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return _.UNIMPLEMENTED;case lt.DATA_LOSS:return _.DATA_LOSS;default:return F()}}(pe=lt||(lt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class j_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return wf}static getOrCreateInstance(){return null===wf&&(wf=new j_),wf}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let wf=null;const fW=new ea([4294967295,4294967295],0);function tO(t){const e=function eO(){return new TextEncoder}().encode(t),n=new u7;return n.update(e),new Uint8Array(n.digest())}function nO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ea([n,r],0),new ea([i,s],0)]}class $_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kc(`Invalid padding: ${n}`);if(r<0)throw new kc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new kc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new kc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ea.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ea.fromNumber(r)));return 1===i.compare(fW)&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=tO(e),[r,i]=nO(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=tO(e),[r,i]=nO(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lc(k.min(),i,new Me(Y),pn(),ne())}}class Vc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vc(r,n,ne(),ne(),ne())}}class Df{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class rO{constructor(e,n){this.targetId=e,this.Vt=n}}class iO{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sO{constructor(){this.St=0,this.Dt=aO(),this.Ct=yt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ne(),n=ne(),r=ne();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Vc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=aO()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class pW{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=pn(),this.zt=oO(),this.Wt=new Me(Y)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(ff(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Pe.newNoDocument(a,k.min()))}else P(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=j_.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,w;const C={localCacheCount:l,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(C.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(m=v?.bits)||void 0===m?void 0:m.padding)&&void 0!==w?w:0}),C}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ni(s).toUint8Array()}catch(l){if(l instanceof hR)return Zn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new $_(u,o,a)}catch(l){return Zn(l instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&ff(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Pe.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ne();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Lc(e,n,this.Wt,this.jt,r);return this.jt=pn(),this.zt=oO(),this.Wt=new Me(Y),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new sO,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Fe(Y),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||I("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new sO),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function oO(){return new Me(x.comparator)}function aO(){return new Me(x.comparator)}const gW={asc:"ASCENDING",desc:"DESCENDING"},mW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yW={and:"AND",or:"OR"};class vW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function H_(t,e){return t.useProto3Json||Ec(e)?e:{value:e}}function ha(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _W(t,e){return ha(t,e.toTimestamp())}function nt(t){return P(!!t),k.fromTimestamp(function(e){const n=ki(e);return new $e(n.seconds,n.nanos)}(t))}function G_(t,e){return(n=t,new fe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function cO(t){const e=fe.fromString(t);return P(vO(e)),e}function Bc(t,e){return G_(t.databaseId,e.path)}function Sr(t,e){const n=cO(e);if(n.get(1)!==t.databaseId.projectId)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(dO(n))}function z_(t,e){return G_(t.databaseId,e)}function Uc(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dO(t){return P(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hO(t,e,n){return{name:Bc(t,e),fields:n.value.mapValue.fields}}function pO(t,e){return{documents:[z_(t,e.path)]}}function W_(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=z_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=z_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return yO(Ee.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ji((l=c).field),direction:bW(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=H_(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function gO(t){let e=function lO(t){const e=cO(t);return 4===e.length?fe.emptyPath():dO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){P(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=mO(l);return d instanceof Ee&&A_(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new sa(fa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ec(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ui((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ui(l.values||[],!l.before)}(n.endAt)),function NR(t,e,n,r,i,s,o,a){return new ri(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function mO(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=fa(e.unaryFilter.field);return le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=fa(e.unaryFilter.field);return le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fa(e.unaryFilter.field);return le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fa(e.unaryFilter.field);return le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?le.create(fa((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ee.create(e.compositeFilter.filters.map(n=>mO(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function bW(t){return gW[t]}function IW(t){return mW[t]}function SW(t){return yW[t]}function ji(t){return{fieldPath:t.canonicalString()}}function fa(t){return tt.fromServerFormat(t.fieldPath)}function yO(t){return t instanceof le?function(e){if("=="===e.op){if(gR(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NAN"}};if(pR(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gR(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NOT_NAN"}};if(pR(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ji(e.field),op:IW(e.op),value:e.value}}}(t):t instanceof Ee?function(e){const n=e.getFilters().map(r=>yO(r));return 1===n.length?n[0]:{compositeFilter:{op:SW(e.op),filters:n}}}(t):F()}function TW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class oi{constructor(e,n,r,i,s=k.min(),o=k.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _O{constructor(e){this.fe=e}}function K_(t){const e=gO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?mf(e,e.limit,"L"):e}class Fs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ke(e.integerValue));else if("doubleValue"in e){const r=Ke(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),bc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ni(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?mR(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Fs.Ve=new Fs;class kW{constructor(){this.rn=new ew}addToCollectionParentIndex(e,n){return this.rn.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Sn.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Sn.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class ew{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(fe.comparator)).toArray()}}new Uint8Array(0);class Gt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);class ks{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ks(0)}static Mn(){return new ks(-1)}}class $W{constructor(){this.changes=new ii(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class zO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Pc(r.mutation,i,fn.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=Ir();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Rc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ir();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pn();const o=Oc(),a=Oc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof si)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Pc(l.mutation,c,l.mutation.getFieldMask(),$e.now())):o.set(c.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new zW(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Oc();let i=new Me((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||fn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ne()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=VR();l.forEach(h=>{if(!s.has(h)){const f=WR(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):O_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Ir());let a=-1,u=s;return o.next(c=>y.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ne())).next(l=>({batchId:a,changes:LR(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Rc();return this.indexManager.getCollectionParents(e,i).next(o=>y.forEach(o,a=>{const u=(c=n,l=a.child(i),new ri(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Pe.newInvalidDocument(c)))});let o=Rc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Pc(c.mutation,u,fn.empty(),$e.now()),Nc(n,u)&&(o=o.insert(a,u))}),o})}}class qW{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return y.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:nt(r.createTime)}),y.resolve()}getNamedQuery(e,n){return y.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:K_(r.bundledQuery),readTime:nt(r.readTime)}),y.resolve();var r}}class WW{constructor(){this.overlays=new Me(x.comparator),this.ls=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ir();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){const i=Ir(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Ir(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Ir(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return y.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new U_(n,r));let s=this.ls.get(n);void 0===s&&(s=ne(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class tw{constructor(){this.fs=new Fe(Et.ds),this.ws=new Fe(Et._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Et(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Et(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new fe([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new fe([])),r=new Et(n,e),i=new Et(n,e+1);let s=ne();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||Y(e.As,n.As)}static _s(e,n){return Y(e.As,n.As)||x.comparator(e.key,n.key)}}class KW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Fe(Et.ds)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new V_(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(Y);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),y.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Et(new x(s),0);let a=new Fe(Y);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),y.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){P(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return y.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Et(n,0),i=this.Rs.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return y.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class QW{constructor(e){this.Ds=e,this.docs=new Me(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Pe.newInvalidDocument(n))}getEntries(e,n){let r=pn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pe.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||C_(JN(l),r)<=0||(i.has(l.key)||Nc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YW(this)}getSize(e){return y.resolve(this.size)}}class YW extends $W{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class XW{constructor(e){this.persistence=e,this.xs=new ii(n=>Ts(n),Ac),this.lastRemoteSnapshotVersion=k.min(),this.highestTargetId=0,this.Ns=0,this.ks=new tw,this.targetCount=0,this.Ms=ks.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),y.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ks(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.Fn(n),y.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.ks.containsKey(n))}}class nw{constructor(e,n){this.$s={},this.overlays={},this.Os=new Tn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new XW(this),this.indexManager=new kW,this.remoteDocumentCache=new QW(r=>this.referenceDelegate.Ls(r)),this.serializer=new _O(n),this.qs=new qW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new KW(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){I("MemoryPersistence","Starting transaction:",e);const i=new ZW(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return y.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class ZW extends _7{constructor(e){super(),this.currentSequenceNumber=e}}class Mf{constructor(e){this.persistence=e,this.Qs=new tw,this.js=null}static zs(e){return new Mf(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),y.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,k.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return y.or([()=>y.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class ow{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ow(e,n.fromCache,r,i)}}class WO{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(RR(n))return y.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=mf(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,mf(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return RR(n)||i.isEqual(k.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(__()<=me.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),P_(n)),this.Wi(e,o,n,function ZN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=k.fromTimestamp(1e9===r?new $e(n+1,0):new $e(n,r));return new Sn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Fe(PR(e));return n.forEach((i,s)=>{Nc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return __()<=me.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",P_(n)),this.Ui.getDocumentsMatchingQuery(e,n,Sn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class eK{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Me(Y),this.Yi=new ii(s=>Ts(s),Ac),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function QO(t,e){return aw.apply(this,arguments)}function aw(){return aw=S(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ne();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),aw.apply(this,arguments)}function YO(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function rK(t,e){const n=A(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ya(t,e,n){return uw.apply(this,arguments)}function uw(){return uw=S(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fi(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),uw.apply(this,arguments)}function Of(t,e,n){const r=A(t);let i=k.min(),s=ne();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.Yi.get(c);return void 0!==d?y.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:k.min(),n?s:ne())).next(a=>(function eF(t,e,n){let r=t.Xi.get(e)||k.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function FR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class fw{constructor(){this.activeTargetIds=function k_(){return iW}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rF{constructor(){this.Hr=new fw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new fw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oK{Yr(e){}shutdown(){}}class iF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kf=null;function gw(){return null===kf?kf=268435456+Math.round(2147483648*Math.random()):kf++,"0x"+kf.toString(16)}const aK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uK{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const zt="WebChannelConnection";class cK extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=gw(),a=this.To(e,n);I("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(I("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Zn("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ta,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${aK[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=gw();return new Promise((o,a)=>{const u=new a7;u.setWithCredentials(!0),u.listenOnce(i7.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case v_.NO_ERROR:const l=u.getResponseJson();I(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case v_.TIMEOUT:I(zt,`RPC '${e}' ${s} timed out`),a(new E(_.DEADLINE_EXCEEDED,"Request time out"));break;case v_.HTTP_ERROR:const d=u.getStatus();if(I(zt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(m)>=0?m:_.UNKNOWN}(f.status);a(new E(p,f.message))}else a(new E(_.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new E(_.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{I(zt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);I(zt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=gw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=n7(),a=r7(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new o7({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");I(zt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new uK({ro:m=>{f?I(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(I(zt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),I(zt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,w,C)=>{m.listen(w,v=>{try{C(v)}catch(N){setTimeout(()=>{throw N},0)}})};return g(d,ef.EventType.OPEN,()=>{f||I(zt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,ef.EventType.CLOSE,()=>{f||(f=!0,I(zt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,ef.EventType.ERROR,m=>{f||(f=!0,Zn(zt,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new E(_.UNAVAILABLE,"The operation could not be completed")))}),g(d,ef.EventType.MESSAGE,m=>{var w;if(!f){const C=m.data[0];P(!!C);const N=C.error||(null===(w=C[0])||void 0===w?void 0:w.error);if(N){I(zt,`RPC '${e}' stream ${i} received error:`,N);const V=N.status;let Q=function(Hs){const YP=lt[Hs];if(void 0!==YP)return JR(YP)}(V),rn=N.message;void 0===Q&&(Q=_.INTERNAL,rn="Unknown error status: "+V+" with message "+N.message),f=!0,p.wo(new E(Q,rn)),d.close()}else I(zt,`RPC '${e}' stream ${i} received:`,C),p._o(C)}}),g(a,s7.STAT_EVENT,m=>{m.stat===qN.PROXY?I(zt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===qN.NOPROXY&&I(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Lf(){return typeof document<"u"?document:null}function Yc(t){return new vW(t,!0)}class mw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class oF{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mw(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return S(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return S(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return S(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(et(n.toString()),et("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===_.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new E(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(S(function*(){e.state=0,e.start()}))}tu(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lK extends oF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function DW(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(P(void 0===c||"string"==typeof c),yt.fromBase64String(c||"")):(P(void 0===c||c instanceof Uint8Array),yt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?_.UNKNOWN:JR(u.code);return new E(c,u.message||"")}(o);n=new iO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Sr(t,r.document.name),s=nt(r.document.updateTime),o=r.document.createTime?nt(r.document.createTime):k.min(),a=new Rt({mapValue:{fields:r.document.fields}}),u=Pe.newFoundDocument(i,s,o,a);n=new Df(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Sr(t,r.document),s=r.readTime?nt(r.readTime):k.min(),o=Pe.newNoDocument(i,s);n=new Df([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Sr(t,r.document);n=new Df([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new hW(i,s);n=new rO(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return k.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?k.min():s.readTime?nt(s.readTime):k.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Uc(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=ff(a)?{documents:pO(i,a)}:{query:W_(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=uO(i,s.resumeToken);const u=H_(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(k.min())>0){o.readTime=ha(i,s.snapshotVersion.toTimestamp());const u=H_(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function EW(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Uc(this.serializer),n.removeTarget=e,this.Wo(n)}}class dK extends oF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function CW(t,e){return t&&t.length>0?(P(void 0!==e),t.map(n=>function(r,i){let s=nt(r.updateTime?r.updateTime:i);return s.isEqual(k.min())&&(s=nt(i)),new uW(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=nt(e.commitTime);return this.listener.cu(r,n)}return P(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Uc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function jc(t,e){let n;if(e instanceof la)n={update:hO(t,e.key,e.value)};else if(e instanceof da)n={delete:Bc(t,e.key)};else if(e instanceof si)n={update:hO(t,e.key,e.data),updateMask:TW(e.fieldMask)};else{if(!(e instanceof L_))return F();n={verify:Bc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ua)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof As)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ms)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ca)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:_W(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.serializer,r))};this.Wo(n)}}class hK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new E(_.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new E(_.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class pK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(et(n),this.mu=!1):I("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class gK{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(S(function*(){var u;zi(o)&&(I("RemoteStore","Restarting streams for network reachability change."),yield(u=S(function*(c){const l=A(c);l.vu.add(4),yield va(l),l.bu.set("Unknown"),l.vu.delete(4),yield Xc(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new pK(r,i)}}function Xc(t){return vw.apply(this,arguments)}function vw(){return vw=S(function*(t){if(zi(t))for(const e of t.Ru)yield e(!0)}),vw.apply(this,arguments)}function va(t){return _w.apply(this,arguments)}function _w(){return _w=S(function*(t){for(const e of t.Ru)yield e(!1)}),_w.apply(this,arguments)}function Vf(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Cw(n)?Dw(n):wa(n).Ko()&&ww(n,e))}function Zc(t,e){const n=A(t),r=wa(n);n.Au.delete(e),r.Ko()&&aF(n,e),0===n.Au.size&&(r.Ko()?r.jo():zi(n)&&n.bu.set("Unknown"))}function ww(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(k.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wa(t).su(e)}function aF(t,e){t.Vu.qt(e),wa(t).iu(e)}function Dw(t){t.Vu=new pW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),wa(t).start(),t.bu.gu()}function Cw(t){return zi(t)&&!wa(t).Uo()&&t.Au.size>0}function zi(t){return 0===A(t).vu.size}function uF(t){t.Vu=void 0}function mK(t){return Ew.apply(this,arguments)}function Ew(){return Ew=S(function*(t){t.Au.forEach((e,n)=>{ww(t,e)})}),Ew.apply(this,arguments)}function yK(t,e){return bw.apply(this,arguments)}function bw(){return bw=S(function*(t,e){uF(t),Cw(t)?(t.bu.Iu(e),Dw(t)):t.bu.set("Unknown")}),bw.apply(this,arguments)}function vK(t,e,n){return Iw.apply(this,arguments)}function Iw(){return Iw=S(function*(t,e,n){if(t.bu.set("Online"),e instanceof iO&&2===e.state&&e.cause)try{yield(r=S(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bf(t,r)}else if(e instanceof Df?t.Vu.Ht(e):e instanceof rO?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(k.min()))try{const r=yield YO(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(yt.EMPTY_BYTE_STRING,c.snapshotVersion)),aF(i,a);const l=new oi(c.target,a,u,c.sequenceNumber);ww(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){I("RemoteStore","Failed to raise snapshot:",r),yield Bf(t,r)}var r}),Iw.apply(this,arguments)}function Bf(t,e,n){return Sw.apply(this,arguments)}function Sw(){return Sw=S(function*(t,e,n){if(!Fi(e))throw e;t.vu.add(1),yield va(t),t.bu.set("Offline"),n||(n=()=>YO(t.localStore)),t.asyncQueue.enqueueRetryable(S(function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Xc(t)}))}),Sw.apply(this,arguments)}function cF(t,e){return e().catch(n=>Bf(t,n,e))}function _a(t){return Tw.apply(this,arguments)}function Tw(){return Tw=S(function*(t){const e=A(t),n=qi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;_K(e);)try{const i=yield rK(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,wK(e,i)}catch(i){yield Bf(e,i)}lF(e)&&dF(e)}),Tw.apply(this,arguments)}function _K(t){return zi(t)&&t.Eu.length<10}function wK(t,e){t.Eu.push(e);const n=qi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function lF(t){return zi(t)&&!qi(t).Uo()&&t.Eu.length>0}function dF(t){qi(t).start()}function DK(t){return xw.apply(this,arguments)}function xw(){return xw=S(function*(t){qi(t).hu()}),xw.apply(this,arguments)}function CK(t){return Aw.apply(this,arguments)}function Aw(){return Aw=S(function*(t){const e=qi(t);for(const n of t.Eu)e.uu(n.mutations)}),Aw.apply(this,arguments)}function EK(t,e,n){return Mw.apply(this,arguments)}function Mw(){return Mw=S(function*(t,e,n){const r=t.Eu.shift(),i=B_.from(r,e,n);yield cF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _a(t)}),Mw.apply(this,arguments)}function bK(t,e){return Nw.apply(this,arguments)}function Nw(){return Nw=S(function*(t,e){var n;e&&qi(t).ou&&(yield(n=S(function*(r,i){if(function ZR(t){switch(t){default:return F();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}(s=i.code)&&s!==_.ABORTED){const o=r.Eu.shift();qi(r).Qo(),yield cF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield _a(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),lF(t)&&dF(t)}),Nw.apply(this,arguments)}function hF(t,e){return Rw.apply(this,arguments)}function Rw(){return Rw=S(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");const r=zi(n);n.vu.add(3),yield va(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Xc(n)}),Rw.apply(this,arguments)}function Fw(){return Fw=S(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield Xc(n)):e||(n.vu.add(2),yield va(n),n.bu.set("Unknown"))}),Fw.apply(this,arguments)}function wa(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new lK(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:mK.bind(null,t),ao:yK.bind(null,t),nu:vK.bind(null,t)}),t.Ru.push(function(){var e=S(function*(n){n?(t.Su.Qo(),Cw(t)?Dw(t):t.bu.set("Unknown")):(yield t.Su.stop(),uF(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function qi(t){return t.Du||(t.Du=function(e,n,r){const i=A(e);return i.fu(),new dK(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:DK.bind(null,t),ao:bK.bind(null,t),au:CK.bind(null,t),cu:EK.bind(null,t)}),t.Ru.push(function(){var e=S(function*(n){n?(t.Du.Qo(),yield _a(t)):(yield t.Du.stop(),t.Eu.length>0&&(I("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class Pw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Pw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Da(t,e){if(et("AsyncQueue",`${e}: ${t}`),Fi(t))return new E(_.UNAVAILABLE,`${e}: ${t}`);throw t}class Ca{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Rc(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new Ca(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class fF{constructor(){this.Cu=new Me(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ea{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ea(e,n,Ca.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class IK{constructor(){this.Nu=void 0,this.listeners=[]}}class SK{constructor(){this.queries=new ii(e=>OR(e),Mc),this.onlineState="Unknown",this.ku=new Set}}function Lw(){return Lw=S(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new IK),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Da(o,`Initialization of query '${P_(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Uw(n)}),Lw.apply(this,arguments)}function Bw(){return Bw=S(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Bw.apply(this,arguments)}function TK(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&Uw(n)}function xK(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Uw(t){t.ku.forEach(e=>{e.next()})}class jw{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class mF{constructor(e){this.key=e}}class yF{constructor(e){this.key=e}}class vF{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ne(),this.mutatedKeys=ne(),this.tc=PR(e),this.ec=new Ca(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new fF,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Nc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ea(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ne(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new yF(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new mF(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ne();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ea.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class NK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RK{constructor(e){this.key=e,this.fc=!1}}class OK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ii(a=>OR(a),Mc),this._c=new Map,this.mc=new Set,this.gc=new Me(x.comparator),this.yc=new Map,this.Ic=new tw,this.Tc={},this.Ec=new Map,this.Ac=ks.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function FK(t,e){return $w.apply(this,arguments)}function $w(){return $w=S(function*(t,e){const n=function dD(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_F.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LK.bind(null,e),e.dc.nu=TK.bind(null,e.eventManager),e.dc.Pc=xK.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function ma(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,tn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function Hw(t,e,n,r,i){return Gw.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Vf(n.remoteStore,o)}return i}),$w.apply(this,arguments)}function Gw(){return Gw=S(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=S(function*(g,m,w,C){let v=m.view.sc(w);v.zi&&(v=yield Of(g.localStore,m.query,!1).then(({documents:Q})=>m.view.sc(Q,v)));const N=C&&C.targetChanges.get(m.targetId),V=m.view.applyChanges(v,g.isPrimaryClient,N);return eD(g,m.targetId,V.cc),V.snapshot}),function(g,m,w,C){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Of(t.localStore,e,!0),o=new vF(e,s.ir),a=o.sc(s.documents),u=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);eD(t,n,c.cc);const l=new NK(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),Gw.apply(this,arguments)}function PK(t,e){return zw.apply(this,arguments)}function zw(){return zw=S(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Mc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ya(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Zc(n.remoteStore,r.targetId),ba(n,r.targetId)}).catch(Oi))):(ba(n,r.targetId),yield ya(n.localStore,r.targetId,!0))}),zw.apply(this,arguments)}function qw(){return qw=S(function*(t,e,n){const r=function hD(t){const e=A(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BK.bind(null,e),e}(t);try{const i=yield function(s,o){const a=A(s),u=$e.now(),c=o.reduce((h,f)=>h.add(f.key),ne());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=pn(),p=ne();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,w)=>{w.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const w of o){const C=lW(w,l.get(w.key).overlayedDocument);null!=C&&m.push(new si(w.key,C,_R(C.value.mapValue),Ve.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:LR(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Me(Y)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ai(r,i.changes),yield _a(r.remoteStore)}catch(i){const s=Da(i,"Failed to persist write");n.reject(s)}}),qw.apply(this,arguments)}function _F(t,e){return Ww.apply(this,arguments)}function Ww(){return Ww=S(function*(t,e){const n=A(t);try{const r=yield function nK(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(yt.EMPTY_BYTE_STRING,k.min()).withLastLimboFreeSnapshotVersion(k.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=pn(),c=ne();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function XO(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(k.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(k.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(P(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?P(o.fc):i.removedDocuments.size>0&&(P(o.fc),o.fc=!1))}),yield ai(n,r,e)}catch(r){yield Oi(r)}}),Ww.apply(this,arguments)}function wF(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&Uw(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function LK(t,e,n){return Kw.apply(this,arguments)}function Kw(){return Kw=S(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Me(x.comparator);o=o.insert(s,Pe.newNoDocument(s,k.min()));const a=ne().add(s),u=new Lc(k.min(),new Map,new Me(Y),o,a);yield _F(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),tD(r)}else yield ya(r.localStore,e,!1).then(()=>ba(r,e,n)).catch(Oi)}),Kw.apply(this,arguments)}function VK(t,e){return Qw.apply(this,arguments)}function Qw(){return Qw=S(function*(t,e){const n=A(t),r=e.batch.batchId;try{const i=yield function tK(t,e){const n=A(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=y.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);P(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ne();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Jw(n,r,null),Zw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ai(n,i)}catch(i){yield Oi(i)}}),Qw.apply(this,arguments)}function BK(t,e,n){return Yw.apply(this,arguments)}function Yw(){return Yw=S(function*(t,e,n){const r=A(t);try{const i=yield function(s,o){const a=A(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(P(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);Jw(r,e,n),Zw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ai(r,i)}catch(i){yield Oi(i)}}),Yw.apply(this,arguments)}function Zw(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Jw(t,e,n){const r=A(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function ba(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||DF(t,r)})}function DF(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Zc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),tD(t))}function eD(t,e,n){for(const r of n)r instanceof mF?(t.Ic.addReference(r.key,e),jK(t,r)):r instanceof yF?(I("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||DF(t,r.key)):F()}function jK(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(I("SyncEngine","New document in limbo: "+n),t.mc.add(r),tD(t))}function tD(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(fe.fromString(e)),r=t.Ac.next();t.yc.set(r,new RK(n)),t.gc=t.gc.insert(n,r),Vf(t.remoteStore,new oi(tn(aa(n.path)),r,"TargetPurposeLimboResolution",Tn.ct))}}function ai(t,e,n){return nD.apply(this,arguments)}function nD(){return nD=S(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=ow.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=S(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(c,h=>y.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>y.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Fi(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),nD.apply(this,arguments)}function $K(t,e){return rD.apply(this,arguments)}function rD(){return rD=S(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());const r=yield QO(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new E(_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ai(n,r.er)}var i}),rD.apply(this,arguments)}function HK(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return ne().add(r.key);{let i=ne();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Uf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return S(function*(){n.serializer=Yc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function KO(t,e,n,r){return new eK(t,e,n,r)}(this.persistence,new WO,e.initialUser,this.serializer)}createPersistence(e){return new nw(Mf.zs,this.serializer)}createSharedClientState(e){return new rF}terminate(){var e=this;return S(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ia{initialize(e,n){var r=this;return S(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>wF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$K.bind(null,r.syncEngine),yield function Ow(t,e){return Fw.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new SK}createDatastore(e){const n=Yc(e.databaseInfo.databaseId),r=new cK(e.databaseInfo);return new hK(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>wF(this.syncEngine,a,0),o=iF.D()?new iF:new oK,new gK(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new OK(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=S(function*(n){const r=A(n);I("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield va(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class jf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):et("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class nQ{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=YN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=S(function*(a){I("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(I("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return S(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(S(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Da(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function $f(t,e){return fD.apply(this,arguments)}function fD(){return fD=S(function*(t,e){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=S(function*(s){r.isEqual(s)||(yield QO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),fD.apply(this,arguments)}function pD(t,e){return gD.apply(this,arguments)}function gD(){return gD=S(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function mD(t){return yD.apply(this,arguments)}(t);I("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>hF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>hF(e.remoteStore,s)),t._onlineComponents=e}),gD.apply(this,arguments)}function yD(){return yD=S(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function TF(t){return"FirebaseError"===t.name?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Zn("Error using user provided cache. Falling back to memory cache: "+n),yield $f(t,new Uf)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield $f(t,new Uf);return t._offlineComponents}),yD.apply(this,arguments)}function Hf(t){return vD.apply(this,arguments)}function vD(){return vD=S(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield pD(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield pD(t,new Ia))),t._onlineComponents}),vD.apply(this,arguments)}function wD(){return wD=S(function*(t){const e=yield Hf(t),n=e.eventManager;return n.onListen=FK.bind(null,e.syncEngine),n.onUnlisten=PK.bind(null,e.syncEngine),n}),wD.apply(this,arguments)}function RF(t,e,n={}){const r=new mt;return t.asyncQueue.enqueueAndForget(S(function*(){return function(i,s,o,a,u){const c=new jf({next:d=>{s.enqueueAndForget(()=>function Vw(t,e){return Bw.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new E(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new jw(o,c,{includeMetadataChanges:!0,Ku:!0});return function kw(t,e){return Lw.apply(this,arguments)}(i,l)}(yield function Sa(t){return wD.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function OF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const FF=new Map;function DD(t,e,n){if(!n)throw new E(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PF(t){if(!x.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kF(t){if(x.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zf(t);throw new E(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class VF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new E(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new E(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function dQ(t,e,n,r){if(!0===e&&!0===r)throw new E(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=OF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new c7;switch(n.type){case"firstParty":return new f7(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new E(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=FF.get(e);n&&(I("ComponentProvider","Removing Datastore"),FF.delete(e),n.terminate())}(this),Promise.resolve()}}class rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}}class Ot{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ot(this.firestore,e,this._query)}}class Tr extends Ot{constructor(e,n,r){super(e,n,aa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new x(e))}withConverter(e){return new Tr(this.firestore,e,this._path)}}function BF(t,e,...n){if(t=Ti(t),DD("collection","path",e),t instanceof Jc){const r=fe.fromString(e,...n);return kF(r),new Tr(t,null,r)}{if(!(t instanceof rt||t instanceof Tr))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return kF(r),new Tr(t.firestore,null,r)}}function UF(t,e,...n){if(t=Ti(t),1===arguments.length&&(e=YN.A()),DD("doc","path",e),t instanceof Jc){const r=fe.fromString(e,...n);return PF(r),new rt(t,null,new x(r))}{if(!(t instanceof rt||t instanceof Tr))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return PF(r),new rt(t.firestore,t instanceof Tr?t.converter:null,new x(r))}}class fQ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mw(this,"async_queue_retry"),this.Xc=()=>{const n=Lf();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Lf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Lf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new mt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return S(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Fi(n))throw n;I("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,et("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Pw.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return S(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ke extends Jc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fQ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$F(this),this._firestoreClient.terminate()}}function dt(t){return t._firestoreClient||$F(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $F(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new H7(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,OF(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new nQ(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vs(yt.fromBase64String(e))}catch(n){throw new E(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vs(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ta{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new E(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zF{constructor(e){this._methodName=e}}class ED{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new E(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new E(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const yQ=/^__.*__$/;class vQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new si(e,this.data,this.fieldMask,n,this.fieldTransforms):new la(e,this.data,n,this.fieldTransforms)}}function WF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class qf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new qf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(WF(this.ca)&&yQ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _Q{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yc(e)}ya(e,n,r,i=!1){return new qf({ca:e,methodName:n,ga:r,path:tt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xa(t){const e=t._freezeSettings(),n=Yc(t._databaseId);return new _Q(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bD(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);SD("Data must be an object, but it was:",o,r);const a=ZF(r,o);let u,c;if(s.merge)u=new fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=nl(e,d,n);if(!o.contains(h))throw new E(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);eP(l,h)||l.push(h)}u=new fn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new vQ(new Rt(a),u,c)}function Bs(t,e){if(JF(t=Ti(t)))return SD("Unsupported field value:",e,t),ZF(t,e);if(t instanceof zF)return function(n,r){if(!WF(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Bs(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ti(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return jR(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=$e.fromDate(n);return{timestampValue:ha(r.serializer,i)}}if(n instanceof $e){const i=new $e(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ha(r.serializer,i)}}if(n instanceof ED)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vs)return{bytesValue:uO(r.serializer,n._byteString)};if(n instanceof rt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:G_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${zf(n)}`)}(t,e)}function ZF(t,e){const n={};return lR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(t,(r,i)=>{const s=Bs(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function JF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof ED||t instanceof Vs||t instanceof rt||t instanceof zF)}function SD(t,e,n){if(!JF(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=zf(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function nl(t,e,n){if((e=Ti(e))instanceof Ta)return e._internalPath;if("string"==typeof e)return Wf(t,e);throw Kf("Field path arguments must be of type string or ",t,!1,void 0,n)}const EQ=new RegExp("[~\\*/\\[\\]]");function Wf(t,e,n){if(e.search(EQ)>=0)throw Kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ta(...e.split("."))._internalPath}catch{throw Kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new E(_.INVALID_ARGUMENT,a+t+u)}function eP(t,e){return t.some(n=>n.isEqual(e))}class TD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class bQ extends TD{data(){return super.data()}}function Qf(t,e){return"string"==typeof e?Wf(t,e):e instanceof Ta?e._internalPath:e._delegate._internalPath}class xD{}class IQ extends xD{}function nP(t,e,...n){let r=[];e instanceof xD&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Aa).length,o=i.filter(a=>a instanceof rl).length;if(s>1||s>0&&o>0)throw new E(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rl extends IQ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rl(e,n,r)}_apply(e){const n=this._parse(e);return oP(e._query,n),new Ot(e.firestore,e.converter,F_(e._query,n))}_parse(e){const n=xa(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new E(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){sP(l,c);const h=[];for(const f of l)h.push(iP(a,i,f));d={arrayValue:{values:h}}}else d=iP(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||sP(l,c),d=function XF(t,e,n,r=!1){return Bs(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return le.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Aa extends xD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Aa(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ee.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)oP(s,a),s=F_(s,a)}(e._query,n),new Ot(e.firestore,e.converter,F_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function iP(t,e,n){if("string"==typeof(n=Ti(n))){if(""===n)throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O_(e)&&-1!==n.indexOf("/"))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!x.isDocumentKey(r))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ss(t,new x(r))}if(n instanceof rt)return Ss(t,n._key);throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function sP(t,e){if(!Array.isArray(t)||0===t.length)throw new E(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oP(t,e){if(e.isInequality()){const r=gf(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new E(_.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=R_(t);null!==s&&function aP(t,e,n){if(!n.isEqual(e))throw new E(_.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new E(_.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TQ{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ED(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){const n=ki(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);P(vO(r));const i=new Is(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||et(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Us{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ma extends TD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jf extends Ma{data(e={}){return super.data(e)}}class Na{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Us(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jf(this._firestore,this._userDataWriter,r.key,r,new Us(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new E(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Jf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Us(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Jf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Us(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:AQ(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Wi extends TQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,n)}}function cP(t){t=de(t,Ot);const e=de(t.firestore,ke),n=dt(e),r=new Wi(e);return function tP(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new E(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),RF(n,t._query).then(i=>new Na(e,r,t,i))}function lP(t,e){const n=de(t.firestore,ke),r=UF(t),i=function MD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return il(n,[bD(xa(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ve.exists(!1))]).then(()=>r)}function il(t,e){return function(n,r){const i=new mt;return n.asyncQueue.enqueueAndForget(S(function*(){return function kK(t,e,n){return qw.apply(this,arguments)}(yield function _D(t){return Hf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(dt(t),e)}!function(t,e=!0){ta="9.23.0",Ai(new Zr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ke(new d7(n.getProvider("auth-internal")),new p7(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new E(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Is(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),_r(WN,"3.13.0",t),_r(WN,"3.13.0","esm2017")}(),_r("firebase","9.23.0","app");const GQ=(t,e)=>e.some(n=>t instanceof n);let hP,fP;const pP=new WeakMap,RD=new WeakMap,gP=new WeakMap,OD=new WeakMap,FD=new WeakMap;let PD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return RD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||gP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function XQ(t){return"function"==typeof t?function YQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qQ(){return fP||(fP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(kD(this),e),Ki(pP.get(this))}:function(...e){return Ki(t.apply(kD(this),e))}:function(e,...n){const r=t.call(kD(this),e,...n);return gP.set(r,e.sort?e.sort():[e]),Ki(r)}}(t):(t instanceof IDBTransaction&&function KQ(t){if(RD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});RD.set(t,e)}(t),GQ(t,function zQ(){return hP||(hP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,PD):t)}function Ki(t){if(t instanceof IDBRequest)return function WQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ki(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pP.set(n,t)}).catch(()=>{}),FD.set(e,t),e}(t);if(OD.has(t))return OD.get(t);const e=XQ(t);return e!==t&&(OD.set(t,e),FD.set(e,t)),e}const kD=t=>FD.get(t),JQ=["get","getKey","getAll","getAllKeys","count"],eY=["put","add","delete","clear"],LD=new Map;function mP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(LD.get(e))return LD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!JQ.includes(n))return;const s=function(){var o=S(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return LD.set(e,s),s}!function QQ(t){PD=t(PD)}(t=>({...t,get:(e,n,r)=>mP(e,n)||t.get(e,n,r),has:(e,n)=>!!mP(e,n)||t.has(e,n)}));const yP="@firebase/installations",VD="0.6.4",vP=1e4,_P=`w:${VD}`,wP="FIS_v2",tY="https://firebaseinstallations.googleapis.com/v1",nY=36e5,ui=new Eh("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function DP(t){return t instanceof Si&&t.code.includes("request-failed")}function BD({projectId:t}){return`${tY}/projects/${t}/installations`}function CP(t){return{token:t.token,requestStatus:2,expiresIn:oY(t.expiresIn),creationTime:Date.now()}}function UD(t,e){return jD.apply(this,arguments)}function jD(){return jD=S(function*(t,e){const r=(yield e.json()).error;return ui.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),jD.apply(this,arguments)}function EP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $D(t){return HD.apply(this,arguments)}function HD(){return HD=S(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),HD.apply(this,arguments)}function oY(t){return Number(t.replace("s","000"))}function GD(){return GD=S(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=BD(t),i=EP(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:wP,appId:t.appId,sdkVersion:_P})},u=yield $D(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:CP(c.authToken)}}throw yield UD("Create Installation",u)}),GD.apply(this,arguments)}function IP(t){return new Promise(e=>{setTimeout(e,t)})}const lY=/^[cdef][\w-]{21}$/,zD="";function dY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function hY(t){return function cY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return lY.test(n)?n:zD}catch{return zD}}function Ra(t){return`${t.appName}!${t.appId}`}const Oa=new Map;function SP(t,e){const n=Ra(t);TP(n,e),function gY(t,e){const n=function xP(){return!js&&"BroadcastChannel"in self&&(js=new BroadcastChannel("[Firebase] FID Change"),js.onmessage=t=>{TP(t.data.key,t.data.fid)}),js}();n&&n.postMessage({key:t,fid:e}),function AP(){0===Oa.size&&js&&(js.close(),js=null)}()}(n,e)}function TP(t,e){const n=Oa.get(t);if(n)for(const r of n)r(e)}let js=null;const mY="firebase-installations-database",yY=1,$s="firebase-installations-store";let qD=null;function WD(){return qD||(qD=function ZQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ki(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ki(o.result),u.oldVersion,u.newVersion,Ki(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(mY,yY,{upgrade:(t,e)=>{0===e&&t.createObjectStore($s)}})),qD}function tp(t,e){return KD.apply(this,arguments)}function KD(){return KD=S(function*(t,e){const n=Ra(t),i=(yield WD()).transaction($s,"readwrite"),s=i.objectStore($s),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&SP(t,e.fid),e}),KD.apply(this,arguments)}function QD(t){return YD.apply(this,arguments)}function YD(){return YD=S(function*(t){const e=Ra(t),r=(yield WD()).transaction($s,"readwrite");yield r.objectStore($s).delete(e),yield r.done}),YD.apply(this,arguments)}function sl(t,e){return XD.apply(this,arguments)}function XD(){return XD=S(function*(t,e){const n=Ra(t),i=(yield WD()).transaction($s,"readwrite"),s=i.objectStore($s),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&SP(t,a.fid),a}),XD.apply(this,arguments)}function ZD(t){return JD.apply(this,arguments)}function JD(){return JD=S(function*(t){let e;const n=yield sl(t.appConfig,r=>{const i=function vY(t){return NP(t||{fid:dY(),registrationStatus:0})}(r),s=function _Y(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ui.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function wY(t,e){return eC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:DY(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===zD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),JD.apply(this,arguments)}function eC(){return eC=S(function*(t,e){try{const n=yield function uY(t,e){return GD.apply(this,arguments)}(t,e);return tp(t.appConfig,n)}catch(n){throw DP(n)&&409===n.customData.serverCode?yield QD(t.appConfig):yield tp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),eC.apply(this,arguments)}function DY(t){return tC.apply(this,arguments)}function tC(){return tC=S(function*(t){let e=yield MP(t.appConfig);for(;1===e.registrationStatus;)yield IP(100),e=yield MP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield ZD(t);return r||n}return e}),tC.apply(this,arguments)}function MP(t){return sl(t,e=>{if(!e)throw ui.create("installation-not-found");return NP(e)})}function NP(t){return function CY(t){return 1===t.registrationStatus&&t.registrationTime+vP<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function nC(){return nC=S(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function bY(t,{fid:e}){return`${BD(t)}/${e}/authTokens:generate`}(t,n),i=function bP(t,{refreshToken:e}){const n=EP(t);return n.append("Authorization",function aY(t){return`${wP} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:_P,appId:t.appId}})},u=yield $D(()=>fetch(r,a));if(u.ok)return CP(yield u.json());throw yield UD("Generate Auth Token",u)}),nC.apply(this,arguments)}function rC(t){return iC.apply(this,arguments)}function iC(){return iC=S(function*(t,e=!1){let n;const r=yield sl(t.appConfig,s=>{if(!OP(s))throw ui.create("not-registered");const o=s.authToken;if(!e&&function TY(t){return 2===t.requestStatus&&!function xY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+nY}(t)}(o))return s;if(1===o.requestStatus)return n=function IY(t,e){return sC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ui.create("app-offline");const a=function AY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function SY(t,e){return oC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),iC.apply(this,arguments)}function sC(){return sC=S(function*(t,e){let n=yield RP(t.appConfig);for(;1===n.authToken.requestStatus;)yield IP(100),n=yield RP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?rC(t,e):r}),sC.apply(this,arguments)}function RP(t){return sl(t,e=>{if(!OP(e))throw ui.create("not-registered");return function MY(t){return 1===t.requestStatus&&t.requestTime+vP<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function oC(){return oC=S(function*(t,e){try{const n=yield function EY(t,e){return nC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield tp(t.appConfig,r),n}catch(n){if(!DP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield tp(t.appConfig,r)}else yield QD(t.appConfig);throw n}}),oC.apply(this,arguments)}function OP(t){return void 0!==t&&2===t.registrationStatus}function aC(){return aC=S(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield ZD(e);return r?r.catch(console.error):rC(e).catch(console.error),n.fid}),aC.apply(this,arguments)}function uC(){return uC=S(function*(t,e=!1){const n=t;return yield function OY(t){return cC.apply(this,arguments)}(n),(yield rC(n,e)).token}),uC.apply(this,arguments)}function cC(){return cC=S(function*(t){const{registrationPromise:e}=yield ZD(t);e&&(yield e)}),cC.apply(this,arguments)}function hC(t){return ui.create("missing-app-config-values",{valueName:t})}const FP="installations",VY=t=>{const e=t.getProvider("app").getImmediate(),n=function kY(t){if(!t||!t.options)throw hC("App Configuration");if(!t.name)throw hC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Wo(e,"heartbeat"),_delete:()=>Promise.resolve()}},BY=t=>{const n=Wo(t.getProvider("app").getImmediate(),FP).getImmediate();return{getId:()=>function NY(t){return aC.apply(this,arguments)}(n),getToken:i=>function RY(t){return uC.apply(this,arguments)}(n,i)}};(function UY(){Ai(new Zr(FP,VY,"PUBLIC")),Ai(new Zr("installations-internal",BY,"PRIVATE"))})(),_r(yP,VD),_r(yP,VD,"esm2017");const np="analytics",jY="firebase_id",$Y="origin",HY=6e4,GY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fC="https://www.googletagmanager.com/gtag/js",bt=new _v("@firebase/analytics"),nn=new Eh("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function qY(t){if(!t.startsWith(fC)){const e=nn.create("invalid-gtag-resource",{gtagURL:t});return bt.warn(e.message),""}return t}function PP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pC(){return pC=S(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield PP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){bt.error(a)}t("config",i,s)}),pC.apply(this,arguments)}function gC(){return gC=S(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield PP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){bt.error(s)}}),gC.apply(this,arguments)}const tX=30,kP=new class rX{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function iX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function mC(){return mC=S(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:iX(r)},s=GY.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),mC.apply(this,arguments)}function yC(){return yC=S(function*(t,e=kP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw nn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new cX;return setTimeout(S(function*(){a.abort()}),void 0!==n?n:HY),LP({appId:r,apiKey:i,measurementId:s},o,a,e)}),yC.apply(this,arguments)}function LP(t,e,n){return vC.apply(this,arguments)}function vC(){return vC=S(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=kP){var s;const{appId:o,measurementId:a}=t;try{yield function aX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function sX(t){return mC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function uX(t){if(!(t instanceof Si&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?mM(n,i.intervalMillis,tX):mM(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),bt.debug(`Calling attemptFetch again in ${l} millis`),LP(t,d,r,i)}}),vC.apply(this,arguments)}class cX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let _C,SC;function wC(){return wC=S(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),wC.apply(this,arguments)}function TC(){return TC=S(function*(){if(!hM())return bt.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield fM()}catch(t){return bt.warn(nn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),TC.apply(this,arguments)}function xC(){return xC=S(function*(t,e,n,r,i,s,o){var a;const u=function oX(t){return yC.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>bt.error(f)),e.push(u);const c=function mX(){return TC.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function eX(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(fC)&&n.src.includes(t))return n;return null})(s)||function KY(t,e){const n=function WY(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:qY}),r=document.createElement("script"),i=`${fC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),SC&&(i("consent","default",SC),function VP(t){SC=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[$Y]="firebase",h.update=!0,null!=d&&(h[jY]=d),i("config",l.measurementId,h),_C&&(i("set",_C),function BP(t){_C=t}(void 0)),l.measurementId}),xC.apply(this,arguments)}class vX{constructor(e){this.app=e}_delete(){return delete xr[this.app.options.appId],Promise.resolve()}}let xr={},UP=[];const jP={};let HP,Ar,rp="dataLayer",$P="gtag",AC=!1;function wX(t,e,n){!function _X(){const t=[];if(function B6(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),function U6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:e});bt.warn(n.message)}}();const r=t.options.appId;if(!r)throw nn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw nn.create("no-api-key");bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xr[r])throw nn.create("already-exists",{id:r});if(!AC){!function QY(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(rp);const{wrappedGtag:s,gtagCore:o}=function JY(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function ZY(t,e,n,r){function s(){return s=S(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function XY(t,e,n,r,i){return gC.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function YY(t,e,n,r,i,s){return pC.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){bt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(xr,UP,jP,rp,$P);Ar=s,HP=o,AC=!0}return xr[r]=function yX(t,e,n,r,i,s,o){return xC.apply(this,arguments)}(t,UP,jP,e,HP,rp,n),new vX(t)}function GP(t,e,n,r){t=Ti(t),function lX(t,e,n,r,i){return wC.apply(this,arguments)}(Ar,xr[t.app.options.appId],e,n,r).catch(i=>bt.error(i))}const zP="@firebase/analytics";!function EX(){Ai(new Zr(np,(e,{options:n})=>wX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ai(new Zr("analytics-internal",function t(e){try{const n=e.getProvider(np).getImmediate();return{logEvent:(r,i,s)=>GP(n,r,i,s)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),_r(zP,"0.10.0"),_r(zP,"0.10.0","esm2017")}();let RC=(()=>{var t;class e{constructor(){this.app=bM(bX),this.analytics=function DX(t=IM()){const e=Wo(t=Ti(t),np);return e.isInitialized()?e.getImmediate():function CX(t,e={}){const n=Wo(t,np);if(n.isInitialized()){const i=n.getImmediate();if(Ih(e,n.getOptions()))return i;throw nn.create("already-initialized")}return n.initialize({options:e})}(t)}(this.app),this.firestore=function gQ(t,e){const r="string"==typeof t?t:e||"(default)",i=Wo("object"==typeof t?t:IM(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Dh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function hQ(t,e,n,r={}){var i;const s=(t=de(t,Jc))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Zn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Dt.MOCK_USER;else{a=function L6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wh(JSON.stringify({alg:"none",type:"JWT"})),wh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new E(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dt(c)}t._authCredentials=new l7(new KN(a,u))}}(i,...s)}return i}(this.app),this.categoryCollection=BF(this.firestore,"categories"),this.coursesCollection=BF(this.firestore,"courses")}logIn(){}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),GP(this.analytics,r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var ip=(()=>(function(t){t.PAGE_VIEW="PAGE_VIEW",t.LOGIN="login",t.SIGN_UP="sign_up"}(ip||(ip={})),ip))();const bX={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function IX(t,e){if(1&t&&(z(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),ge(4),z(5,"i",12),ge(6,"open_in_new"),q()(),z(7,"h6",13),ge(8),q(),Hr(9,"p",14),q()()()),2&t){const n=e.$implicit;Ge(4),To(n.name),Ge(1),at("routerLink",n.route),Ge(3),To(n.description)}}function SX(t,e){if(1&t){const n=fi();z(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"h4",19),ge(5,"New Course"),q(),z(6,"button",20),be("click",function(){return Wt(n),Kt(ze().addCourseModal=!1)}),q()(),z(7,"div",21)(8,"div",22)(9,"div",23)(10,"input",24),be("ngModelChange",function(i){return Wt(n),Kt(ze().course.name=i)}),q()(),z(11,"div",23)(12,"input",25),be("ngModelChange",function(i){return Wt(n),Kt(ze().course.description=i)}),q()(),z(13,"div",23)(14,"input",26),be("ngModelChange",function(i){return Wt(n),Kt(ze().course.category=i)}),q()(),z(15,"div",23)(16,"input",27),be("ngModelChange",function(i){return Wt(n),Kt(ze().course.image=i)}),q()()()(),z(17,"div",28)(18,"button",29),be("click",function(){return Wt(n),Kt(ze().addCourse())}),ge(19,"Add"),q()()()()()}if(2&t){const n=ze();Ge(10),at("ngModel",n.course.name),Ge(2),at("ngModel",n.course.description),Ge(2),at("ngModel",n.course.category),Ge(2),at("ngModel",n.course.image)}}let TX=(()=>{var t;class e{constructor(r){this.firestore=r,this.addCourseModal=!1,this.course={name:"",description:"",image:"",category:"",active:!0},this.courses=[];const i=nP(this.firestore.coursesCollection,function SQ(t,e,n){const r=e,i=Qf("where",t);return rl._create(i,r,n)}("active","==",!0));cP(i).then(s=>s.forEach(o=>{let a=o.data();this.courses.push(a)}))}addCourse(){console.log(this.course),this.validate()?lP(this.firestore.coursesCollection,this.course).then(r=>{alert("Course has been added succesfully ID:"+r.id)}):alert("Please enter name, description, category")}validate(){return this.isNotEmpty(this.course.name)&&this.isNotEmpty(this.course.description)&&this.isNotEmpty(this.course.category)}isNotEmpty(r){return null!=r&&""!=r}}return(t=e).\u0275fac=function(r){return new(r||t)(b(RC))},t.\u0275cmp=rr({type:t,selectors:[["app-courses"]],decls:11,vars:2,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"text-right"],[1,"material-icons","pointer",3,"click"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Category",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Image URL",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1)(2,"span"),ge(3,"Courses"),q(),z(4,"span",2)(5,"i",3),be("click",function(){return i.addCourseModal=!0}),ge(6,"add"),q()()()(),z(7,"div",4)(8,"div",5),hr(9,IX,10,3,"div",6),q()(),hr(10,SX,20,4,"div",7)),2&r&&(Ge(9),at("ngForOf",i.courses),Ge(1),at("ngIf",i.addCourseModal))},dependencies:[Od,Fd,zo,Mu,_y,Yd],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();function xX(t,e){if(1&t){const n=fi();z(0,"i",6),be("click",function(){Wt(n);const i=ze(2);return Kt(i.expand=!i.expand)}),ge(1),q()}if(2&t){const n=ze(2);Ge(1),To(n.expand?"expand_more":"chevron_right")}}function AX(t,e){if(1&t){const n=fi();z(0,"div")(1,"app-category",9),be("select",function(i){return Wt(n),Kt(ze(3).select.emit(i))}),q()()}if(2&t){const n=e.$implicit,r=ze(3);Ge(1),at("category",n)("current",r.current)}}function MX(t,e){if(1&t&&(z(0,"div",7),hr(1,AX,2,2,"div",8),q()),2&t){const n=ze(2);Ge(1),at("ngForOf",n.category.categories)}}const NX=function(t){return{"active-node":t}};function RX(t,e){if(1&t){const n=fi();z(0,"div",1)(1,"div",2),hr(2,xX,2,1,"i",3),z(3,"span",4),be("click",function(){Wt(n);const i=ze();return Kt(i.select.emit(i.category))}),ge(4),q()(),hr(5,MX,2,1,"div",5),q()}if(2&t){const n=ze();Ge(1),at("ngClass",LS(4,NX,null!=n.current&&n.category.id==n.current.id)),Ge(1),at("ngIf",null!=n.category.categories&&n.category.categories.length>=0),Ge(2),To(n.category.name),Ge(1),at("ngIf",n.expand)}}let OX=(()=>{var t;class e{constructor(){this.select=new Ue,this.expand=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rr({type:t,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(r,i){1&r&&hr(0,RX,6,6,"div",0),2&r&&at("ngIf",i.category)},dependencies:[ux,Od,Fd,t],styles:[".active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})();function FX(t,e){if(1&t){const n=fi();z(0,"button",9),be("click",function(){return Wt(n),Kt(ze().deleteCategory())}),z(1,"i",3),ge(2,"delete"),q()()}}function PX(t,e){if(1&t){const n=fi();z(0,"div",10)(1,"app-category",11),be("select",function(i){return Wt(n),Kt(ze().select(i))}),q()()}if(2&t){const n=e.$implicit,r=ze();Ge(1),at("category",n)("current",r.category)}}function kX(t,e){if(1&t){const n=fi();z(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h4",16),ge(5,"New Category"),q(),z(6,"button",17),be("click",function(){return Wt(n),Kt(ze().addCategoryModal=!1)}),q()(),z(7,"div",18)(8,"div",19)(9,"div",20)(10,"input",21),be("ngModelChange",function(i){return Wt(n),Kt(ze().categoryName=i)}),q()()()(),z(11,"div",22)(12,"button",23),be("click",function(){return Wt(n),Kt(ze().addCategory())}),ge(13,"Add"),q()()()()()}if(2&t){const n=ze();Ge(10),at("ngModel",n.categoryName)}}let LX=(()=>{var t;class e{constructor(r){this.firestore=r,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.refresh()}refresh(){this.categories=[];let r=[];cP(nP(this.firestore.categoryCollection)).then(s=>{s.forEach(o=>{let a=o.data();a.id=o.id,r.push(a)}),r.filter(o=>null==o.parent).forEach(o=>this.categories.push(o)),this.categories.forEach(o=>this.linkCategories(o,r)),console.log(this.categories)})}linkCategories(r,i){r.categories=[],i.filter(s=>null!=s.parent&&s.parent==r.id).forEach(s=>{this.linkCategories(s,i),r.categories?.push(s)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let r={name:this.categoryName,active:!0};this.category&&(r.parent=this.category.id),lP(this.firestore.categoryCollection,r).then(i=>{alert("Category has been added succesfully ID:"+i.id),this.refresh()})}else alert("Please enter category name")}isNotEmpty(r){return null!=r&&""!=r}select(r){console.log("Selected Category",r),this.category=r}deleteCategory(){this.category&&this.category.id&&function MQ(t){return il(de(t.firestore,ke),[new da(t._key,Ve.none())])}(UF(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.refresh()})}}return(t=e).\u0275fac=function(r){return new(r||t)(b(RC))},t.\u0275cmp=rr({type:t,selectors:[["app-categories"]],decls:12,vars:3,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"container"],[1,"row","mt-3"],["class","col-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],["class","modal extended",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"col-12","m-0","p-2","h-100"],[3,"category","current","select"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1)(2,"span"),ge(3,"Categories"),q(),z(4,"button",2),be("click",function(){return i.addCategoryModal=!0}),z(5,"i",3),ge(6,"add"),q()(),hr(7,FX,3,0,"button",4),q()(),z(8,"div",5)(9,"div",6),hr(10,PX,2,2,"div",7),q()(),hr(11,kX,14,1,"div",8)),2&r&&(Ge(7),at("ngIf",null!=i.category),Ge(3),at("ngForOf",i.categories),Ge(1),at("ngIf",i.addCategoryModal))},dependencies:[Od,Fd,Mu,_y,Yd,OX],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();const VX=[{path:"",component:(()=>{var t;class e{constructor(){this.isMobile=function(){let t=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t;var e}(),this.menu=!this.isMobile}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rr({type:t,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"row","a"],[1,"text-center"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1),ge(2," IMPULSE "),q(),Hr(3,"app-courses")(4,"app-categories"),q())},dependencies:[TX,LX],styles:[".a[_ngcontent-%COMP%]{height:70px;background-color:#6495ed}.a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:35px;font-weight:700;margin:10px;color:#fff}"]}),e})()},{path:"home",redirectTo:""},{path:"account",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rr({type:t,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(Hr(0,"div",0),z(1,"div",1)(2,"div",2),Hr(3,"img",3),z(4,"span",4)(5,"i",5),ge(6,"edit"),q()(),z(7,"div",6)(8,"div",7),ge(9,"V.V.S.K Chaitanya"),q(),z(10,"div",8),ge(11,"Software Engineer"),q()()()(),z(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),ge(16,"menu_book"),q(),z(17,"span"),ge(18,"Courses"),q()(),z(19,"div",12)(20,"i",5),ge(21,"assignment"),q(),z(22,"span"),ge(23,"Assessments"),q()(),z(24,"div",13)(25,"i",5),ge(26,"notifications"),q(),z(27,"span"),ge(28,"Notifications"),q()(),z(29,"div",14)(30,"i",5),ge(31,"person"),q(),z(32,"span"),ge(33,"Update Profile"),q()(),z(34,"div",15)(35,"i",5),ge(36,"logout"),q(),z(37,"span"),ge(38,"Logout"),q()()()())},dependencies:[zo],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})()},{path:"profile",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rr({type:t,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&Hr(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})()}];let BX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ir({type:t}),t.\u0275inj=Vn({imports:[iM.forRoot(VX),iM]}),e})();class UX extends gn{constructor(e,n){super()}schedule(e,n=0){return this}}const sp={setInterval(t,e,...n){const{delegate:r}=sp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=sp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},WP={now:()=>(WP.delegate||Date).now(),delegate:void 0};class ol{constructor(e,n=ol.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ol.now=WP.now;const KP=new class $X extends ol{constructor(e,n=ol.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class jX extends UX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return sp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&sp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Gs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),HX=KP;function QP(t,e){return e?n=>Zd(e.pipe(wi(1),function GX(){return ht((t,e)=>{t.subscribe(it(e,op))})}()),n.pipe(QP(t))):vt((n,r)=>mn(t(n,r)).pipe(wi(1),t1(n)))}let KX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rr({type:t,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"fo"],[1,"d-flex","justify-content-evenly"],["routerLink","home",1,"material-icons","pointer"],["routerLink","account",1,"material-icons","pointer"]],template:function(r,i){1&r&&(z(0,"div",0)(1,"div",1)(2,"div")(3,"i",2),ge(4,"home"),q()(),z(5,"div")(6,"i",2),ge(7,"dashboard"),q()(),z(8,"div")(9,"i",3),ge(10,"person"),q()()()())},dependencies:[zo],styles:[".fo[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}"]}),e})(),QX=(()=>{var t;class e{constructor(r,i,s){this.firestore=r,this.firestore.log(ip.PAGE_VIEW),this.handleScroll(i,s)}handleScroll(r,i){r.events.pipe(Yr(s=>s instanceof Ky)).pipe(function WX(t,e=KP){const n=function qX(t=0,e,n=HX){let r=-1;return null!=e&&(t0(e)?n=e:r=e),new Qe(i=>{let s=function zX(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,e);return QP(()=>n)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(t=e).\u0275fac=function(r){return new(r||t)(b(RC),b(hn),b(mx))},t.\u0275cmp=rr({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&Hr(0,"router-outlet")(1,"app-footer")},dependencies:[tv,KX],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),YX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ir({type:t,bootstrap:[QX]}),t.\u0275inj=Vn({imports:[FG,BX,X9]}),e})();OG().bootstrapModule(YX).catch(t=>console.error(t))}},Se=>{Se(Se.s=15)}]);