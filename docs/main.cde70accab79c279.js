"use strict";(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{554:()=>{function xe(t){return"function"==typeof t}function ka(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ll=ka(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function zs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class gn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof ll?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{VC(s)}catch(o){e=e??[],o instanceof ll?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ll(e)}}add(e){var n;if(e&&e!==this)if(this.closed)VC(e);else{if(e instanceof gn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zs(n,e)}remove(e){const{_finalizers:n}=this;n&&zs(n,e),e instanceof gn&&e._removeParent(this)}}gn.EMPTY=(()=>{const t=new gn;return t.closed=!0,t})();const FC=gn.EMPTY;function LC(t){return t instanceof gn||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function VC(t){xe(t)?t():t.unsubscribe()}const Xi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dl={setTimeout(t,e,...n){const{delegate:r}=dl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=dl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function BC(t){dl.setTimeout(()=>{const{onUnhandledError:e}=Xi;if(!e)throw t;e(t)})}function cp(){}const Zk=lp("C",void 0,void 0);function lp(t,e,n){return{kind:t,value:e,error:n}}let Zi=null;function hl(t){if(Xi.useDeprecatedSynchronousErrorHandling){const e=!Zi;if(e&&(Zi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Zi;if(Zi=null,n)throw r}}else t()}class dp extends gn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,LC(e)&&e.add(this)):this.destination=sF}static create(e,n,r){return new Fa(e,n,r)}next(e){this.isStopped?fp(function eF(t){return lp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?fp(function Jk(t){return lp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fp(Zk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nF=Function.prototype.bind;function hp(t,e){return nF.call(t,e)}class rF{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fl(r)}else fl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fl(n)}}}class Fa extends dp{constructor(e,n,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Xi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hp(e.next,s),error:e.error&&hp(e.error,s),complete:e.complete&&hp(e.complete,s)}):i=e}this.destination=new rF(i)}}function fl(t){Xi.useDeprecatedSynchronousErrorHandling?function tF(t){Xi.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=t)}(t):BC(t)}function fp(t,e){const{onStoppedNotification:n}=Xi;n&&dl.setTimeout(()=>n(t,e))}const sF={closed:!0,next:cp,error:function iF(t){throw t},complete:cp},pp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ji(t){return t}function UC(t){return 0===t.length?Ji:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function uF(t){return t&&t instanceof dp||function aF(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}(t)&&LC(t)}(n)?n:new Fa(n,r,i);return hl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=jC(r))((i,s)=>{const o=new Fa({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[pp](){return this}pipe(...n){return UC(n)(this)}toPromise(n){return new(n=jC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function jC(t){var e;return null!==(e=t??Xi.Promise)&&void 0!==e?e:Promise}const cF=ka(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Nr=(()=>{class t extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new $C(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cF}next(n){hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?FC:(this.currentObservers=null,s.push(n),new gn(()=>{this.currentObservers=null,zs(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ye;return n.source=this,n}}return t.create=(e,n)=>new $C(e,n),t})();class $C extends Nr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:FC}}function HC(t){return xe(t?.lift)}function ht(t){return e=>{if(HC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(t,e,n,r,i){return new lF(t,e,n,r,i)}class lF extends dp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(t,e){return ht((n,r)=>{let i=0;n.subscribe(st(r,s=>{r.next(t.call(e,s,i++))}))})}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function WC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function vp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const KC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function QC(t){return xe(t?.then)}function YC(t){return xe(t[pp])}function XC(t){return Symbol.asyncIterator&&xe(t?.[Symbol.asyncIterator])}function ZC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const JC=function RF(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function e0(t){return xe(t?.[JC])}function t0(t){return function qC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ci?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ci(n.read());if(i)return yield ci(void 0);yield yield ci(r)}}finally{n.releaseLock()}})}function n0(t){return xe(t?.getReader)}function mn(t){if(t instanceof Ye)return t;if(null!=t){if(YC(t))return function OF(t){return new Ye(e=>{const n=t[pp]();if(xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(KC(t))return function PF(t){return new Ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(QC(t))return function kF(t){return new Ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,BC)})}(t);if(XC(t))return r0(t);if(e0(t))return function FF(t){return new Ye(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(n0(t))return function LF(t){return r0(t0(t))}(t)}throw ZC(t)}function r0(t){return new Ye(e=>{(function VF(t,e){var n,r,i,s;return function GC(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=WC(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Rr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function vt(t,e,n=1/0){return xe(e)?vt((r,i)=>le((s,o)=>e(r,s,i,o))(mn(t(r,i))),n):("number"==typeof e&&(n=e),ht((r,i)=>function BF(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;mn(n(g,l++)).subscribe(st(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const w=u.shift();o?Rr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(st(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function qs(t=1/0){return vt(Ji,t)}const nr=new Ye(t=>t.complete());function s0(t){return t&&xe(t.schedule)}function _p(t){return t[t.length-1]}function o0(t){return xe(_p(t))?t.pop():void 0}function La(t){return s0(_p(t))?t.pop():void 0}function a0(t,e=0){return ht((n,r)=>{n.subscribe(st(r,i=>Rr(r,t,()=>r.next(i),e),()=>Rr(r,t,()=>r.complete(),e),i=>Rr(r,t,()=>r.error(i),e)))})}function u0(t,e=0){return ht((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function c0(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ye(n=>{Rr(n,e,()=>{const r=t[Symbol.asyncIterator]();Rr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ot(t,e){return e?function WF(t,e){if(null!=t){if(YC(t))return function $F(t,e){return mn(t).pipe(u0(e),a0(e))}(t,e);if(KC(t))return function GF(t,e){return new Ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(QC(t))return function HF(t,e){return mn(t).pipe(u0(e),a0(e))}(t,e);if(XC(t))return c0(t,e);if(e0(t))return function zF(t,e){return new Ye(n=>{let r;return Rr(n,e,()=>{r=t[JC](),Rr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(t,e);if(n0(t))return function qF(t,e){return c0(t0(t),e)}(t,e)}throw ZC(t)}(t,e):mn(t)}function wp(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Fa({next:()=>{r.unsubscribe(),t()}});return mn(e(...n)).subscribe(r)}function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function Dp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Cp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const YF=Te({__forward_ref__:Te});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return Ae(this())},t}function H(t){return Ep(t)?t():t}function Ep(t){return"function"==typeof t&&t.hasOwnProperty(YF)&&t.__forward_ref__===Me}function bp(t){return t&&!!t.\u0275providers}const l0="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(pl(e,n)),this.code=e}}function pl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function gl(t,e){throw new T(-201,!1)}function xn(t,e){null==t&&function De(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ml(t){return d0(t,yl)||d0(t,f0)}function d0(t,e){return t.hasOwnProperty(e)?t[e]:null}function h0(t){return t&&(t.hasOwnProperty(Ip)||t.hasOwnProperty(iL))?t[Ip]:null}const yl=Te({\u0275prov:Te}),Ip=Te({\u0275inj:Te}),f0=Te({ngInjectableDef:Te}),iL=Te({ngInjectorDef:Te});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let Sp;function An(t){const e=Sp;return Sp=t,e}function p0(t,e,n){const r=ml(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void gl(Ae(t))}const Pe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Va={},Tp="__NG_DI_FLAG__",vl="ngTempTokenPath",oL="ngTokenPath",aL=/\n/gm,uL="\u0275",g0="__source";let Ba;function Ws(t){const e=Ba;return Ba=t,e}function cL(t,e=z.Default){if(void 0===Ba)throw new T(-203,!1);return null===Ba?p0(t,void 0,e):Ba.get(t,e&z.Optional?null:void 0,e)}function q(t,e=z.Default){return(function sL(){return Sp}()||cL)(H(t),e)}function de(t,e=z.Default){return q(t,_l(e))}function _l(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function xp(t){const e=[];for(let n=0;n<t.length;n++){const r=H(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=lL(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function Ua(t,e){return t[Tp]=e,t.prototype[Tp]=e,t}function lL(t){return t[Tp]}function Or(t){return{toString:t}.toString()}var rr=(()=>((rr=rr||{})[rr.OnPush=0]="OnPush",rr[rr.Default=1]="Default",rr))(),ir=(()=>{return(t=ir||(ir={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ir;var t})();const Pr={},ve=[],wl=Te({\u0275cmp:Te}),Ap=Te({\u0275dir:Te}),Mp=Te({\u0275pipe:Te}),y0=Te({\u0275mod:Te}),kr=Te({\u0275fac:Te}),ja=Te({__NG_ELEMENT_ID__:Te});let fL=0;function Un(t){return Or(()=>{const e=_0(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||ir.Emulated,id:"c"+fL++,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null};w0(n);const r=t.dependencies;return n.directiveDefs=Dl(r,!1),n.pipeDefs=Dl(r,!0),n})}function gL(t){return Ce(t)||Ft(t)}function mL(t){return null!==t}function sr(t){return Or(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function v0(t,e){if(null==t)return Pr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function K(t){return Or(()=>{const e=_0(t);return w0(e),e})}function Ce(t){return t[wl]||null}function Ft(t){return t[Ap]||null}function an(t){return t[Mp]||null}function vn(t,e){const n=t[y0]||null;if(!n&&!0===e)throw new Error(`Type ${Ae(t)} does not have '\u0275mod' property.`);return n}function _0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:v0(t.inputs,e),outputs:v0(t.outputs)}}function w0(t){t.features?.forEach(e=>e(t))}function Dl(t,e){if(!t)return null;const n=e?an:gL;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(mL)}const Fr=0,P=1,ie=2,qe=3,jn=4,es=5,Lt=6,Qs=7,Xe=8,Cl=9,El=10,oe=11,Np=12,$a=13,D0=14,Ys=15,Vt=16,Ha=17,Xs=18,or=19,Ga=20,C0=21,ke=22,Rp=1,E0=2,bl=7,Il=8,Zs=9,Kt=10;function _n(t){return Array.isArray(t)&&"object"==typeof t[Rp]}function $n(t){return Array.isArray(t)&&!0===t[Rp]}function Op(t){return 0!=(4&t.flags)}function za(t){return t.componentOffset>-1}function Sl(t){return 1==(1&t.flags)}function Hn(t){return!!t.template}function vL(t){return 0!=(256&t[ie])}function ts(t,e){return t.hasOwnProperty(kr)?t[kr]:null}class DL{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Mn(){return S0}function S0(t){return t.type.prototype.ngOnChanges&&(t.setInput=EL),CL}function CL(){const t=x0(this),e=t?.current;if(e){const n=t.previous;if(n===Pr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function EL(t,e,n,r){const i=this.declaredInputs[n],s=x0(t)||function bL(t,e){return t[T0]=e}(t,{previous:Pr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new DL(u&&u.currentValue,e,a===Pr),t[r]=e}Mn.ngInherit=!0;const T0="__ngSimpleChanges__";function x0(t){return t[T0]||null}const Nn=function(t,e,n){};function Tt(t){for(;Array.isArray(t);)t=t[Fr];return t}function Tl(t,e){return Tt(e[t])}function wn(t,e){return Tt(e[t.index])}function N0(t,e){return t.data[e]}function un(t,e){const n=e[t];return _n(n)?n:n[Fr]}function xl(t){return 64==(64&t[ie])}function di(t,e){return null==e?null:t[e]}function R0(t){t[Xs]=0}function kp(t,e){t[es]+=e;let n=t,r=t[qe];for(;null!==r&&(1===e&&1===n[es]||-1===e&&0===n[es]);)r[es]+=e,n=r,r=r[qe]}const ee={lFrame:$0(null),bindingsEnabled:!0};function P0(){return ee.bindingsEnabled}function D(){return ee.lFrame.lView}function pe(){return ee.lFrame.tView}function _t(t){return ee.lFrame.contextLView=t,t[Xe]}function wt(t){return ee.lFrame.contextLView=null,t}function xt(){let t=k0();for(;null!==t&&64===t.type;)t=t.parent;return t}function k0(){return ee.lFrame.currentTNode}function ar(t,e){const n=ee.lFrame;n.currentTNode=t,n.isParent=e}function Fp(){return ee.lFrame.isParent}function eo(){return ee.lFrame.bindingIndex++}function LL(t,e){const n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Vp(e)}function Vp(t){ee.lFrame.currentDirectiveIndex=t}function Up(t){ee.lFrame.currentQueryIndex=t}function BL(t){const e=t[P];return 2===e.type?e.declTNode:1===e.type?t[Lt]:null}function U0(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=BL(s),null===i||(s=s[Ys],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ee.lFrame=j0();return r.currentTNode=e,r.lView=t,!0}function jp(t){const e=j0(),n=t[P];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function j0(){const t=ee.lFrame,e=null===t?null:t.child;return null===e?$0(t):e}function $0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function H0(){const t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const G0=H0;function $p(){const t=H0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yt(){return ee.lFrame.selectedIndex}function ns(t){ee.lFrame.selectedIndex=t}function He(){const t=ee.lFrame;return N0(t.tView,t.selectedIndex)}function Al(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks??(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks??(t.viewHooks=[])).push(n,c),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks??(t.destroyHooks=[])).push(n,l)}}function Ml(t,e,n){z0(t,e,3,n)}function Nl(t,e,n,r){(3&t[ie])===n&&z0(t,e,n,r)}function Hp(t,e){let n=t[ie];(3&n)===e&&(n&=2047,n+=1,t[ie]=n)}function z0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Xs]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Xs]+=65536),(a<s||-1==s)&&(KL(t,n,e,u),t[Xs]=(4294901760&t[Xs])+u+2),u++}function KL(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[ie]>>11<t[Xs]>>16&&(3&t[ie])===e){t[ie]+=2048,Nn(4,a,s);try{s.call(a)}finally{Nn(5,a,s)}}}else{Nn(4,a,s);try{s.call(a)}finally{Nn(5,a,s)}}}const to=-1;class Wa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function zp(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];W0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function q0(t){return 3===t||4===t||6===t}function W0(t){return 64===t.charCodeAt(0)}function Ka(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||K0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function K0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Q0(t){return t!==to}function Rl(t){return 32767&t}function Ol(t,e){let n=function ZL(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ys],n--;return r}let qp=!0;function Pl(t){const e=qp;return qp=t,e}const Y0=255,X0=5;let JL=0;const ur={};function kl(t,e){const n=Z0(t,e);if(-1!==n)return n;const r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,Wp(r.data,t),Wp(e,null),Wp(r.blueprint,null));const i=Kp(t,e),s=t.injectorIndex;if(Q0(i)){const o=Rl(i),a=Ol(i,e),u=a[P].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Wp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Z0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Kp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=sE(i),null===r)return to;if(n++,i=i[Ys],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return to}function Qp(t,e,n){!function e2(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ja)&&(r=n[ja]),null==r&&(r=n[ja]=JL++);const i=r&Y0;e.data[t+(i>>X0)]|=1<<i}(t,e,n)}function J0(t,e,n){if(n&z.Optional||void 0!==t)return t;gl()}function eE(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[Cl],s=An(void 0);try{return i?i.get(e,r,n&z.Optional):p0(e,r,n&z.Optional)}finally{An(s)}}return J0(r,0,n)}function tE(t,e,n,r=z.Default,i){if(null!==t){if(1024&e[ie]){const o=function s2(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[ie]&&!(256&o[ie]);){const a=nE(s,o,n,r|z.Self,ur);if(a!==ur)return a;let u=s.parent;if(!u){const c=o[C0];if(c){const l=c.get(n,ur,r);if(l!==ur)return l}u=sE(o),o=o[Ys]}s=u}return i}(t,e,n,r,ur);if(o!==ur)return o}const s=nE(t,e,n,r,ur);if(s!==ur)return s}return eE(e,n,r,i)}function nE(t,e,n,r,i){const s=function r2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ja)?t[ja]:void 0;return"number"==typeof e?e>=0?e&Y0:i2:e}(n);if("function"==typeof s){if(!U0(e,t,r))return r&z.Host?J0(i,0,r):eE(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;gl()}finally{G0()}}else if("number"==typeof s){let o=null,a=Z0(t,e),u=to,c=r&z.Host?e[Vt][Lt]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?Kp(t,e):e[a+8],u!==to&&iE(r,!1)?(o=e[P],a=Rl(u),e=Ol(u,e)):a=-1);-1!==a;){const l=e[P];if(rE(s,a,l.data)){const d=n2(a,e,n,o,r,c);if(d!==ur)return d}u=e[a+8],u!==to&&iE(r,e[P].data[a+8]===c)&&rE(s,a,e)?(o=l,a=Rl(u),e=Ol(u,e)):a=-1}}return i}function n2(t,e,n,r,i,s){const o=e[P],a=o.data[t+8],l=function Fl(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Hn(f)&&f.type===n)return u}return null}(a,o,n,null==r?za(a)&&qp:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?rs(e,o,l,a):ur}function rs(t,e,n,r){let i=t[n];const s=e.data;if(function QL(t){return t instanceof Wa}(i)){const o=i;o.resolving&&function XF(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function we(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}(s[n]));const a=Pl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?An(o.injectImpl):null;U0(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function WL(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=S0(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&An(u),Pl(a),o.resolving=!1,G0()}}return i}function rE(t,e,n){return!!(n[e+(t>>X0)]&1<<t)}function iE(t,e){return!(t&z.Self||t&z.Host&&e)}class no{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return tE(this._tNode,this._lView,e,_l(r),n)}}function i2(){return new no(xt(),D())}function At(t){return Or(()=>{const e=t.prototype.constructor,n=e[kr]||Yp(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[kr]||Yp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Yp(t){return Ep(t)?()=>{const e=Yp(H(t));return e&&e()}:ts(t)}function sE(t){const e=t[P],n=e.type;return 2===n?e.declTNode:1===n?t[Lt]:null}const io="__parameters__";function oo(t,e,n){return Or(()=>{const r=function Xp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(io)?u[io]:Object.defineProperty(u,io,{value:[]})[io];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function is(t,e){t.forEach(n=>Array.isArray(n)?is(n,e):e(n))}function aE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dn(t,e,n){let r=ao(t,e);return r>=0?t[1|r]=n:(r=~r,function c2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Jp(t,e){const n=ao(t,e);if(n>=0)return t[1|n]}function ao(t,e){return function uE(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Za=Ua(oo("Optional"),8),Ja=Ua(oo("SkipSelf"),4);var cn=(()=>((cn=cn||{})[cn.Important=1]="Important",cn[cn.DashCase=2]="DashCase",cn))();const sg=new Map;let N2=0;const ag="__ngContext__";function Bt(t,e){_n(e)?(t[ag]=e[Ga],function O2(t){sg.set(t[Ga],t)}(e)):t[ag]=e}let ug;function cg(t,e){return ug(t,e)}function ru(t){const e=t[qe];return $n(e)?e[qe]:e}function lg(t){return xE(t[$a])}function dg(t){return xE(t[jn])}function xE(t){for(;null!==t&&!$n(t);)t=t[jn];return t}function co(t,e,n,r,i){if(null!=r){let s,o=!1;$n(r)?s=r:_n(r)&&(o=!0,r=r[Fr]);const a=Tt(r);0===t&&null!==n?null==i?PE(e,n,a):ss(e,n,a,i||null,!0):1===t&&null!==n?ss(e,n,a,i||null,!0):2===t?function vg(t,e,n){const r=$l(t,e);r&&function J2(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function nV(t,e,n,r,i){const s=n[bl];s!==Tt(n)&&co(e,t,r,s,i);for(let a=Kt;a<n.length;a++){const u=n[a];iu(u[P],u,t,e,r,s)}}(e,t,s,n,i)}}function fg(t,e,n){return t.createElement(e,n)}function ME(t,e){const n=t[Zs],r=n.indexOf(e),i=e[qe];512&e[ie]&&(e[ie]&=-513,kp(i,-1)),n.splice(r,1)}function pg(t,e){if(t.length<=Kt)return;const n=Kt+e,r=t[n];if(r){const i=r[Ha];null!==i&&i!==t&&ME(i,r),e>0&&(t[n-1][jn]=r[jn]);const s=Vl(t,Kt+e);!function z2(t,e){iu(t,e,e[oe],2,null,null),e[Fr]=null,e[Lt]=null}(r[P],r);const o=s[or];null!==o&&o.detachView(s[P]),r[qe]=null,r[jn]=null,r[ie]&=-65}return r}function NE(t,e){if(!(128&e[ie])){const n=e[oe];n.destroyNode&&iu(t,e,n,3,null,null),function K2(t){let e=t[$a];if(!e)return gg(t[P],t);for(;e;){let n=null;if(_n(e))n=e[$a];else{const r=e[Kt];r&&(n=r)}if(!n){for(;e&&!e[jn]&&e!==t;)_n(e)&&gg(e[P],e),e=e[qe];null===e&&(e=t),_n(e)&&gg(e[P],e),n=e&&e[jn]}e=n}}(e)}}function gg(t,e){if(!(128&e[ie])){e[ie]&=-65,e[ie]|=128,function Z2(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Wa)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Nn(4,a,u);try{u.call(a)}finally{Nn(5,a,u)}}else{Nn(4,i,s);try{s.call(i)}finally{Nn(5,i,s)}}}}}(t,e),function X2(t,e){const n=t.cleanup,r=e[Qs];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Qs]=null}}(t,e),1===e[P].type&&e[oe].destroy();const n=e[Ha];if(null!==n&&$n(e[qe])){n!==e[qe]&&ME(n,e);const r=e[or];null!==r&&r.detachView(t)}!function P2(t){sg.delete(t[Ga])}(e)}}function RE(t,e,n){return function OE(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Fr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ir.None||s===ir.Emulated)return null}return wn(r,n)}}(t,e.parent,n)}function ss(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PE(t,e,n){t.appendChild(e,n)}function kE(t,e,n,r,i){null!==r?ss(t,e,n,r,i):PE(t,e,n)}function $l(t,e){return t.parentNode(e)}let mg,Dg,ql,VE=function LE(t,e,n){return 40&t.type?wn(t,n):null};function Hl(t,e,n,r){const i=RE(t,r,e),s=e[oe],a=function FE(t,e,n){return VE(t,e,n)}(r.parent||e[Lt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)kE(s,i,n[u],a,!1);else kE(s,i,n,a,!1);void 0!==mg&&mg(s,r,e,n,i)}function Gl(t,e){if(null!==e){const n=e.type;if(3&n)return wn(e,t);if(4&n)return yg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Gl(t,r);{const i=t[e.index];return $n(i)?yg(-1,i):Tt(i)}}if(32&n)return cg(e,t)()||Tt(t[e.index]);{const r=UE(t,e);return null!==r?Array.isArray(r)?r[0]:Gl(ru(t[Vt]),r):Gl(t,e.next)}}return null}function UE(t,e){return null!==e?t[Vt][Lt].projection[e.projection]:null}function yg(t,e){const n=Kt+t+1;if(n<e.length){const r=e[n],i=r[P].firstChild;if(null!==i)return Gl(r,i)}return e[bl]}function _g(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Bt(Tt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)_g(t,e,n.child,r,i,s,!1),co(e,t,i,a,s);else if(32&u){const c=cg(n,r);let l;for(;l=c();)co(e,t,i,l,s);co(e,t,i,a,s)}else 16&u?jE(t,e,r,n,i,s):co(e,t,i,a,s);n=o?n.projectionNext:n.next}}function iu(t,e,n,r,i,s){_g(n,r,t.firstChild,e,i,s,!1)}function jE(t,e,n,r,i,s){const o=n[Vt],u=o[Lt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)co(e,t,i,u[c],s);else _g(t,e,u,o[qe],i,s,!0)}function $E(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function HE(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&zp(t,e,r),null!==i&&$E(t,e,i),null!==s&&function iV(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function WE(t){return function Cg(){if(void 0===ql&&(ql=null,Pe.trustedTypes))try{ql=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ql}()?.createScriptURL(t)||t}class KE{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${l0})`}}function hi(t){return t instanceof KE?t.changingThisBreaksApplicationSecurity:t}function su(t,e){const n=function pV(t){return t instanceof KE&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${l0})`)}return n===e}const vV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var at=(()=>((at=at||{})[at.NONE=0]="NONE",at[at.HTML=1]="HTML",at[at.STYLE=2]="STYLE",at[at.SCRIPT=3]="SCRIPT",at[at.URL=4]="URL",at[at.RESOURCE_URL=5]="RESOURCE_URL",at))();function tb(t){const e=au();return e?e.sanitize(at.URL,t)||"":su(t,"URL")?hi(t):function Eg(t){return(t=String(t)).match(vV)?t:"unsafe:"+t}(J(t))}function nb(t){const e=au();if(e)return WE(e.sanitize(at.RESOURCE_URL,t)||"");if(su(t,"ResourceURL"))return WE(hi(t));throw new T(904,!1)}function au(){const t=D();return t&&t[Np]}const Kl=new B("ENVIRONMENT_INITIALIZER"),ib=new B("INJECTOR",-1),sb=new B("INJECTOR_DEF_TYPES");class ob{get(e,n=Va){if(n===Va){const r=new Error(`NullInjectorError: No provider for ${Ae(e)}!`);throw r.name="NullInjectorError",r}return n}}function NV(...t){return{\u0275providers:ab(0,t),\u0275fromNgModule:!0}}function ab(t,...e){const n=[],r=new Set;let i;return is(e,s=>{const o=s;Tg(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&ub(i,n),n}function ub(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];xg(i,s=>{e.push(s)})}}function Tg(t,e,n,r){if(!(t=H(t)))return!1;let i=null,s=h0(t);const o=!s&&Ce(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=h0(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Tg(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{is(s.imports,l=>{Tg(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&ub(c,e)}if(!a){const c=ts(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ve},{provide:sb,useValue:i,multi:!0},{provide:Kl,useValue:()=>q(i),multi:!0})}const u=s.providers;null==u||a||xg(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function xg(t,e){for(let n of t)bp(n)&&(n=n.\u0275providers),Array.isArray(n)?xg(n,e):e(n)}const RV=Te({provide:String,useValue:Te});function Ag(t){return null!==t&&"object"==typeof t&&RV in t}function os(t){return"function"==typeof t}const Mg=new B("Set Injector scope."),Ql={},PV={};let Ng;function Yl(){return void 0===Ng&&(Ng=new ob),Ng}class Ur{}class db extends Ur{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Og(e,o=>this.processProvider(o)),this.records.set(ib,ho(void 0,this)),i.has("environment")&&this.records.set(Ur,ho(void 0,this));const s=this.records.get(Mg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(sb.multi,ve,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Ws(this),r=An(void 0);try{return e()}finally{Ws(n),An(r)}}get(e,n=Va,r=z.Default){this.assertNotDestroyed(),r=_l(r);const i=Ws(this),s=An(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function BV(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&ml(e);a=u&&this.injectableDefInScope(u)?ho(Rg(e),Ql):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?Yl():this.parent).get(e,n=r&z.Optional&&n===Va?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[vl]=o[vl]||[]).unshift(Ae(e)),i)throw o;return function dL(t,e,n,r){const i=t[vl];throw e[g0]&&i.unshift(e[g0]),t.message=function hL(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==uL?t.slice(2):t;let i=Ae(e);if(Array.isArray(e))i=e.map(Ae).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ae(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(aL,"\n  ")}`}("\n"+t.message,i,n,r),t[oL]=i,t[vl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{An(s),Ws(i)}}resolveInjectorInitializers(){const e=Ws(this),n=An(void 0);try{const r=this.get(Kl.multi,ve,z.Self);for(const i of r)i()}finally{Ws(e),An(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ae(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=os(e=H(e))?e:H(e&&e.provide);const r=function FV(t){return Ag(t)?ho(void 0,t.useValue):ho(hb(t),Ql)}(e);if(os(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ho(void 0,Ql,!0),i.factory=()=>xp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ql&&(n.value=PV,n.value=n.factory()),"object"==typeof n.value&&n.value&&function VV(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=H(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Rg(t){const e=ml(t),n=null!==e?e.factory:ts(t);if(null!==n)return n;if(t instanceof B)throw new T(204,!1);if(t instanceof Function)return function kV(t){const e=t.length;if(e>0)throw function Xa(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function rL(t){return t&&(t[yl]||t[f0])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function hb(t,e,n){let r;if(os(t)){const i=H(t);return ts(i)||Rg(i)}if(Ag(t))r=()=>H(t.useValue);else if(function lb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...xp(t.deps||[]));else if(function cb(t){return!(!t||!t.useExisting)}(t))r=()=>q(H(t.useExisting));else{const i=H(t&&(t.useClass||t.provide));if(!function LV(t){return!!t.deps}(t))return ts(i)||Rg(i);r=()=>new i(...xp(t.deps))}return r}function ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Og(t,e){for(const n of t)Array.isArray(n)?Og(n,e):n&&bp(n)?Og(n.\u0275providers,e):e(n)}class UV{}class fb{}class $V{resolveComponentFactory(e){throw function jV(t){const e=Error(`No component factory found for ${Ae(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let uu=(()=>{class t{}return t.NULL=new $V,t})();function HV(){return fo(xt(),D())}function fo(t,e){return new Cn(wn(t,e))}let Cn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=HV,t})();class gb{}let jr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function zV(){const t=D(),n=un(xt().index,t);return(_n(n)?n:t)[oe]}(),t})(),qV=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>null}),t})();class cu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const WV=new cu("15.2.9"),Pg={},kg="ngOriginalError";function Fg(t){return t[kg]}class po{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Fg(e);for(;n&&Fg(n);)n=Fg(n);return n||null}}function $r(t){return t instanceof Function?t():t}function yb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const vb="ng-template";function iB(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==yb(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function _b(t){return 4===t.type&&t.value!==vb}function sB(t,e,n){return e===(4!==t.type||n?t.value:vb)}function oB(t,e,n){let r=4;const i=t.attrs||[],s=function cB(t){for(let e=0;e<t.length;e++)if(q0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!sB(t,u,n)||""===u&&1===e.length){if(Gn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!iB(t.attrs,c,n)){if(Gn(r))return!1;o=!0}continue}const d=aB(8&r?"class":u,i,_b(t),n);if(-1===d){if(Gn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==yb(f,c,0)||2&r&&c!==h){if(Gn(r))return!1;o=!0}}}}else{if(!o&&!Gn(r)&&!Gn(u))return!1;if(o&&Gn(u))continue;o=!1,r=u|1&r}}return Gn(r)||o}function Gn(t){return 0==(1&t)}function aB(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function lB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wb(t,e,n=!1){for(let r=0;r<e.length;r++)if(oB(t,e[r],n))return!0;return!1}function Db(t,e){return t?":not("+e.trim()+")":e}function hB(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Gn(o)&&(e+=Db(s,i),i=""),r=o,s=s||!Gn(r);n++}return""!==i&&(e+=Db(s,i)),e}const te={};function _e(t){Cb(pe(),D(),Yt()+t,!1)}function Cb(t,e,n,r){if(!r)if(3==(3&e[ie])){const s=t.preOrderCheckHooks;null!==s&&Ml(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Nl(e,s,0,n)}ns(n)}function Sb(t,e=null,n=null,r){const i=Tb(t,e,n,r);return i.resolveInjectorInitializers(),i}function Tb(t,e=null,n=null,r,i=new Set){const s=[n||ve,NV(t)];return r=r||("object"==typeof t?void 0:Ae(t)),new db(s,e||Yl(),r||null,i)}let cr=(()=>{class t{static create(n,r){if(Array.isArray(n))return Sb({name:""},r,n,"");{const i=n.name??"";return Sb({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Va,t.NULL=new ob,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>q(ib)}),t.__NG_ELEMENT_ID__=-1,t})();function b(t,e=z.Default){const n=D();return null===n?q(t,e):tE(xt(),n,H(t),e)}function kb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Up(n[r]),o.contentQueries(2,e[s],s)}}}function Zl(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Fr]=i,d[ie]=76|r,(null!==l||t&&1024&t[ie])&&(d[ie]|=1024),R0(d),d[qe]=d[Ys]=t,d[Xe]=n,d[El]=o||t&&t[El],d[oe]=a||t&&t[oe],d[Np]=u||t&&t[Np]||null,d[Cl]=c||t&&t[Cl]||null,d[Lt]=s,d[Ga]=function R2(){return N2++}(),d[C0]=l,d[Vt]=2==e.type?t[Vt]:d,d}function yo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function jg(t,e,n,r,i){const s=k0(),o=Fp(),u=t.data[e]=function VB(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function FL(){return ee.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function qa(){const t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ar(s,!0),s}function lu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $g(t,e,n){jp(e);try{const r=t.viewQuery;null!==r&&Xg(1,r,n);const i=t.template;null!==i&&Fb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&kb(t,e),t.staticViewQueries&&Xg(2,t.viewQuery,n);const s=t.components;null!==s&&function kB(t,e){for(let n=0;n<e.length;n++)iU(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,$p()}}function Jl(t,e,n,r){const i=e[ie];if(128!=(128&i)){jp(e);try{R0(e),function L0(t){return ee.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Fb(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Ml(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Nl(e,c,0,null),Hp(e,0)}if(function nU(t){for(let e=lg(t);null!==e;e=dg(e)){if(!e[E0])continue;const n=e[Zs];for(let r=0;r<n.length;r++){const i=n[r];512&i[ie]||kp(i[qe],1),i[ie]|=512}}}(e),function tU(t){for(let e=lg(t);null!==e;e=dg(e))for(let n=Kt;n<e.length;n++){const r=e[n],i=r[P];xl(r)&&Jl(i,r,i.template,r[Xe])}}(e),null!==t.contentQueries&&kb(t,e),o){const c=t.contentCheckHooks;null!==c&&Ml(e,c)}else{const c=t.contentHooks;null!==c&&Nl(e,c,1),Hp(e,1)}!function OB(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ns(~i);else{const s=i,o=n[++r],a=n[++r];LL(o,s),a(2,e[s])}}}finally{ns(-1)}}(t,e);const a=t.components;null!==a&&function PB(t,e){for(let n=0;n<e.length;n++)rU(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Xg(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Ml(e,c)}else{const c=t.viewHooks;null!==c&&Nl(e,c,2),Hp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ie]&=-41,512&e[ie]&&(e[ie]&=-513,kp(e[qe],-1))}finally{$p()}}}function Fb(t,e,n,r,i){const s=Yt(),o=2&r;try{ns(-1),o&&e.length>ke&&Cb(t,e,ke,!1),Nn(o?2:0,i),n(r,i)}finally{ns(s),Nn(o?3:1,i)}}function Hg(t,e,n){if(Op(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Gg(t,e,n){P0()&&(function zB(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;za(n)&&function ZB(t,e,n){const r=wn(e,t),i=Lb(n),s=t[El],o=ed(t,Zl(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||kl(n,e),Bt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=rs(e,t,a,n);Bt(c,e),null!==o&&JB(0,a-i,c,u,0,o),Hn(u)&&(un(n.index,e)[Xe]=rs(e,t,a,n))}}(t,e,n,wn(n,e)),64==(64&n.flags)&&$b(t,e,n))}function zg(t,e,n=wn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Lb(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=qg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function qg(t,e,n,r,i,s,o,a,u,c){const l=ke+r,d=l+i,h=function FB(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:te);return n}(l,d),f="function"==typeof c?c():c;return h[P]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Bb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Ub(n,e,i,s):r.hasOwnProperty(i)&&Ub(n,e,r[i],s)}return n}function Ub(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Wg(t,e,n,r){if(P0()){const i=null===r?null:{"":-1},s=function WB(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(wb(e,o.selectors,!1))if(r||(r=[]),Hn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Kg(t,e,a.length)}else r.unshift(o),Kg(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&jb(t,e,n,o,i,a),i&&function KB(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ka(n.mergedAttrs,n.attrs)}function jb(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Qp(kl(n,e),t,r[c].type);!function YB(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=lu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Ka(n.mergedAttrs,l.hostAttrs),XB(t,n,e,u,l),QB(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function BB(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=Bb(d.inputs,l,u,h?h.inputs:null),c=Bb(d.outputs,l,c,p);const g=null===u||null===o||_b(e)?null:eU(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function $b(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function VL(){return ee.lFrame.currentDirectiveIndex}();try{ns(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Vp(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&qB(u,c)}}finally{ns(-1),Vp(o)}}function qB(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Kg(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function QB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Hn(e)&&(n[""]=t)}}function XB(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ts(i.type)),o=new Wa(s,Hn(i),b);t.blueprint[r]=o,n[r]=o,function HB(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function GB(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,lu(t,n,i.hostVars,te),i)}function lr(t,e,n,r,i,s){const o=wn(t,e);!function Qg(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?J(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[oe],o,s,t.value,n,r,i)}function JB(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function eU(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Hb(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function rU(t,e){const n=un(e,t);if(xl(n)){const r=n[P];48&n[ie]?Jl(r,n,r.template,n[Xe]):n[es]>0&&Yg(n)}}function Yg(t){for(let r=lg(t);null!==r;r=dg(r))for(let i=Kt;i<r.length;i++){const s=r[i];if(xl(s))if(512&s[ie]){const o=s[P];Jl(o,s,o.template,s[Xe])}else s[es]>0&&Yg(s)}const n=t[P].components;if(null!==n)for(let r=0;r<n.length;r++){const i=un(n[r],t);xl(i)&&i[es]>0&&Yg(i)}}function iU(t,e){const n=un(e,t),r=n[P];(function sU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),$g(r,n,n[Xe])}function ed(t,e){return t[$a]?t[D0][jn]=e:t[$a]=e,t[D0]=e,e}function td(t){for(;t;){t[ie]|=32;const e=ru(t);if(vL(t)&&!e)return t;t=e}return null}function nd(t,e,n,r=!0){const i=e[El];i.begin&&i.begin();try{Jl(t,e,t.template,n)}catch(o){throw r&&Wb(e,o),o}finally{i.end&&i.end()}}function Xg(t,e,n){Up(0),e(t,n)}function Gb(t){return t[Qs]||(t[Qs]=[])}function zb(t){return t.cleanup||(t.cleanup=[])}function Wb(t,e){const n=t[Cl],r=n?n.get(po,null):null;r&&r.handleError(e)}function Zg(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function rd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Cp(i,a):2==s&&(r=Cp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function id(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Tt(s)),$n(s))for(let a=Kt;a<s.length;a++){const u=s[a],c=u[P].firstChild;null!==c&&id(u[P],u,c,r)}const o=n.type;if(8&o)id(t,e,n.child,r);else if(32&o){const a=cg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=UE(e,n);if(Array.isArray(a))r.push(...a);else{const u=ru(e[Vt]);id(u[P],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class du{get rootNodes(){const e=this._lView,n=e[P];return id(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xe]}set context(e){this._lView[Xe]=e}get destroyed(){return 128==(128&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qe];if($n(e)){const n=e[Il],r=n?n.indexOf(this):-1;r>-1&&(pg(e,r),Vl(n,r))}this._attachedToViewContainer=!1}NE(this._lView[P],this._lView)}onDestroy(e){!function Vb(t,e,n,r){const i=Gb(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&zb(t).push(r,i.length-1))}(this._lView[P],this._lView,null,e)}markForCheck(){td(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-65}reattach(){this._lView[ie]|=64}detectChanges(){nd(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function W2(t,e){iu(t,e,e[oe],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class oU extends du{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;nd(e[P],e,e[Xe],!1)}checkNoChanges(){}get context(){return null}}class Kb extends uu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ce(e);return new hu(n,this.ngModule)}}function Qb(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class uU{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=_l(r);const i=this.injector.get(e,Pg,r);return i!==Pg||n===Pg?i:this.parentInjector.get(e,n,r)}}class hu extends fb{get inputs(){return Qb(this.componentDef.inputs)}get outputs(){return Qb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function fB(t){return t.map(hB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ur?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new uU(e,s):e,a=o.get(gb,null);if(null===a)throw new T(407,!1);const u=o.get(qV,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function LB(t,e,n){return t.selectRootElement(e,n===ir.ShadowDom)}(c,r,this.componentDef.encapsulation):fg(c,l,function aU(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=qg(0,null,null,1,0,null,null,null,null,null),p=Zl(null,f,null,h,null,null,a,c,u,o,null);let g,m;jp(p);try{const w=this.componentDef;let C,v=null;w.findHostDirectiveDefs?(C=[],v=new Map,w.findHostDirectiveDefs(w,C,v),C.push(w)):C=[w];const R=function lU(t,e){const n=t[P],r=ke;return t[r]=e,yo(n,r,2,"#host",null)}(p,d),U=function dU(t,e,n,r,i,s,o,a){const u=i[P];!function hU(t,e,n,r){for(const i of t)e.mergedAttrs=Ka(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(rd(e,e.mergedAttrs,!0),null!==n&&HE(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=Zl(i,Lb(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&Kg(u,t,r.length-1),ed(i,l),i[t.index]=l}(R,d,w,C,p,a,c);m=N0(f,ke),d&&function pU(t,e,n,r){if(r)zp(t,n,["ng-version",WV.full]);else{const{attrs:i,classes:s}=function pB(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Gn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&zp(t,n,i),s&&s.length>0&&$E(t,n,s.join(" "))}}(c,w,d,r),void 0!==n&&function gU(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,n),g=function fU(t,e,n,r,i,s){const o=xt(),a=i[P],u=wn(o,i);jb(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Bt(rs(i,a,o.directiveStart+l,o),i);$b(a,i,o),u&&Bt(u,i);const c=rs(i,a,o.directiveStart+o.componentOffset,o);if(t[Xe]=i[Xe]=c,null!==s)for(const l of s)l(c,e);return Hg(a,o,t),c}(U,w,C,v,p,[mU]),$g(f,p,null)}finally{$p()}return new cU(this.componentType,g,fo(m,p),p,m)}}class cU extends UV{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new oU(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Zg(s[P],s,i,e,n),td(un(this._tNode.index,s))}}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function mU(){const t=xt();Al(D()[P],t)}function Ee(t){let e=function Yb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Hn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Jg(t.inputs),o.declaredInputs=Jg(t.declaredInputs),o.outputs=Jg(t.outputs);const a=i.hostBindings;a&&wU(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&vU(t,u),c&&_U(t,c),Dp(t.inputs,i.inputs),Dp(t.declaredInputs,i.declaredInputs),Dp(t.outputs,i.outputs),Hn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ee&&(n=!1)}}e=Object.getPrototypeOf(e)}!function yU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ka(i.hostAttrs,n=Ka(n,i.hostAttrs))}}(r)}function Jg(t){return t===Pr?{}:t===ve?[]:t}function vU(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function _U(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function wU(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function sd(t){return!!em(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function em(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ut(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function hr(t,e,n,r){const i=D();return Ut(i,eo(),e)&&(pe(),lr(He(),i,t,e,n,r)),hr}function Pn(t,e,n,r,i,s,o,a){const u=D(),c=pe(),l=t+ke,d=c.firstCreatePass?function MU(t,e,n,r,i,s,o,a,u){const c=e.consts,l=yo(e,t,4,o||null,di(c,a));Wg(e,n,l,di(c,u)),Al(e,l);const d=l.tView=qg(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];ar(d,!1);const h=u[oe].createComment("");Hl(c,u,h,d),Bt(h,u),ed(u,u[l]=Hb(h,u,h,d)),Sl(d)&&Gg(c,u,d),null!=o&&zg(u,d,a)}function Se(t,e,n){const r=D();return Ut(r,eo(),e)&&function En(t,e,n,r,i,s,o,a){const u=wn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Zg(t,n,l,r,i),za(e)&&function jB(t,e){const n=un(e,t);16&n[ie]||(n[ie]|=32)}(n,e.index)):3&e.type&&(r=function UB(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(pe(),He(),r,t,e,r[oe],n,!1),Se}function tm(t,e,n,r,i){const o=i?"class":"style";Zg(t,n,e.inputs[o],o,r)}function M(t,e,n,r){const i=D(),s=pe(),o=ke+t,a=i[oe],u=s.firstCreatePass?function OU(t,e,n,r,i,s){const o=e.consts,u=yo(e,t,2,r,di(o,i));return Wg(e,n,u,di(o,s)),null!==u.attrs&&rd(u,u.attrs,!1),null!==u.mergedAttrs&&rd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=i[o]=fg(a,e,function qL(){return ee.lFrame.currentNamespace}()),l=Sl(u);return ar(u,!0),HE(a,c,u),32!=(32&u.flags)&&Hl(s,i,c,u),0===function ML(){return ee.lFrame.elementDepthCount}()&&Bt(c,i),function NL(){ee.lFrame.elementDepthCount++}(),l&&(Gg(s,i,u),Hg(s,u,i)),null!==r&&zg(i,u),M}function F(){let t=xt();Fp()?function Lp(){ee.lFrame.isParent=!1}():(t=t.parent,ar(t,!1));const e=t;!function RL(){ee.lFrame.elementDepthCount--}();const n=pe();return n.firstCreatePass&&(Al(n,t),Op(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function YL(t){return 0!=(8&t.flags)}(e)&&tm(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function XL(t){return 0!=(16&t.flags)}(e)&&tm(n,e,D(),e.stylesWithoutHost,!1),F}function fi(t,e,n,r){return M(t,e,n,r),F(),fi}function fr(){return D()}function pu(t){return!!t&&"function"==typeof t.then}const im=function lI(t){return!!t&&"function"==typeof t.subscribe};function ae(t,e,n,r){const i=D(),s=pe(),o=xt();return function hI(t,e,n,r,i,s,o){const a=Sl(r),c=t.firstCreatePass&&zb(t),l=e[Xe],d=Gb(e);let h=!0;if(3&r.type||o){const g=wn(r,e),m=o?o(g):g,w=d.length,C=o?R=>o(Tt(R[r.index])):r.index;let v=null;if(!o&&a&&(v=function kU(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Qs],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=pI(r,e,l,s,!1);const R=n.listen(m,i,s);d.push(s,R),c&&c.push(i,C,w,w+1)}}else s=pI(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const U=e[p[m]][p[m+1]].subscribe(s),Y=d.length;d.push(s,U),c&&c.push(i,r.index,Y,-(Y+1))}}}(s,i,i[oe],o,t,e,r),ae}function fI(t,e,n,r){try{return Nn(6,e,n),!1!==n(r)}catch(i){return Wb(t,i),!1}finally{Nn(7,e,n)}}function pI(t,e,n,r,i){return function s(o){if(o===Function)return r;td(t.componentOffset>-1?un(t.index,e):e);let u=fI(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=fI(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ne(t=1){return function UL(t){return(ee.lFrame.contextLView=function jL(t,e){for(;t>0;)e=e[Ys],t--;return e}(t,ee.lFrame.contextLView))[Xe]}(t)}function ad(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function om(t){return 2|t}function us(t){return(131068&t)>>2}function am(t,e){return-131069&t|e<<2}function um(t){return 1|t}function bI(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?pi(s):us(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];GU(t[a],e)&&(u=!0,t[a+1]=r?um(l):om(l)),a=r?pi(l):us(l)}u&&(t[n+1]=r?om(s):um(s))}function GU(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ao(t,e)>=0}function ud(t,e){return function zn(t,e,n,r){const i=D(),s=pe(),o=function Vr(t){const e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function OI(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Yt()],o=function RI(t,e){return e>=t.expandoStartIndex}(t,n);(function LI(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function JU(t,e,n,r){const i=function Bp(t){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=gu(n=cm(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=cm(i,t,e,n,r),null===s){let u=function ej(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==us(r))return t[pi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=cm(null,t,e,u[1],r),u=gu(u,e.attrs,r),function tj(t,e,n,r){t[pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function nj(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=gu(r,t[s].hostAttrs,n);return gu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function $U(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pi(o),u=us(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ao(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=pi(t[a+1]);t[r+1]=ad(h,a),0!==h&&(t[h+1]=am(t[h+1],r)),t[a+1]=function UU(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ad(a,0),0!==a&&(t[a+1]=am(t[a+1],r)),a=r;else t[r+1]=ad(u,0),0===a?a=r:t[u+1]=am(t[u+1],r),u=r;c&&(t[r+1]=om(t[r+1])),bI(t,l,r,!0),bI(t,l,r,!1),function HU(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ao(s,e)>=0&&(n[r+1]=um(n[r+1]))}(e,l,t,r,s),o=ad(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==te&&Ut(i,o,e)&&function kI(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function jU(t){return 1==(1&t)}(c)?FI(u,e,n,i,us(c),o):void 0;cd(l)||(cd(s)||function BU(t){return 2==(2&t)}(c)&&(s=FI(u,null,n,i,a,o)),function rV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:cn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=cn.Important),t.setStyle(n,r,i,s))}}(r,o,Tl(Yt(),n),i,s))}(s,s.data[Yt()],i,i[oe],t,i[o+1]=function oj(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ae(hi(t)))),t}(e,n),r,o)}(t,e,null,!0),ud}function cm(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=gu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function gu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function FI(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===te&&(h=d?ve:void 0);let f=d?Jp(h,r):l===r?h:void 0;if(c&&!cd(f)&&(f=Jp(u,r)),cd(f)&&(a=f,o))return a;const p=t[i+1];i=o?pi(p):us(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Jp(u,r))}return a}function cd(t){return void 0!==t}function Q(t,e=""){const n=D(),r=pe(),i=t+ke,s=r.firstCreatePass?yo(r,i,1,e,null):r.data[i],o=n[i]=function hg(t,e){return t.createText(e)}(n[oe],e);Hl(r,n,o,s),ar(s,!1)}function xo(t){return ld("",t,""),xo}function ld(t,e,n){const r=D(),i=function _o(t,e,n,r){return Ut(t,eo(),n)?e+J(n)+r:te}(r,t,e,n);return i!==te&&function Hr(t,e,n){const r=Tl(e,t);!function AE(t,e,n){t.setValue(e,n)}(t[oe],r,n)}(r,Yt(),i),ld}const Mo="en-US";let sS=Mo;function hm(t,e,n,r,i){if(t=H(t),Array.isArray(t))for(let s=0;s<t.length;s++)hm(t[s],e,n,r,i);else{const s=pe(),o=D();let a=os(t)?t:H(t.provide),u=hb(t);const c=xt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(os(t)||!t.multi){const f=new Wa(u,i,b),p=pm(a,e,i?l:l+h,d);-1===p?(Qp(kl(c,o),s,a),fm(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=pm(a,e,l+h,d),p=pm(a,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Qp(kl(c,o),s,a);const w=function b$(t,e,n,r,i){const s=new Wa(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,MS(s,i,r&&!n),s}(i?E$:C$,n.length,i,r,u);!i&&m&&(n[p].providerFactory=w),fm(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)}else fm(s,t,f>-1?f:p,MS(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function fm(t,e,n,r){const i=os(e),s=function OV(t){return!!t.useClass}(e);if(i||s){const u=(s?H(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function MS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function pm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function C$(t,e,n,r){return gm(this.multi,[])}function E$(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=rs(n,n[P],this.providerFactory.index,r);s=a.slice(0,o),gm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],gm(i,s);return s}function gm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ue(t,e=[]){return n=>{n.providersResolver=(r,i)=>function D$(t,e,n){const r=pe();if(r.firstCreatePass){const i=Hn(t);hm(n,r.data,r.blueprint,i,!0),hm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class No{}class NS{}class RS extends No{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kb(this);const r=vn(e);this._bootstrapComponents=$r(r.bootstrap),this._r3Injector=Tb(e,n,[{provide:No,useValue:this},{provide:uu,useValue:this.componentFactoryResolver}],Ae(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class mm extends NS{constructor(e){super(),this.moduleType=e}create(e){return new RS(this.moduleType,e)}}class S$ extends No{constructor(e,n,r){super(),this.componentFactoryResolver=new Kb(this),this.instance=null;const i=new db([...e,{provide:No,useValue:this},{provide:uu,useValue:this.componentFactoryResolver}],n||Yl(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function gd(t,e,n=null){return new S$(t,e,n).injector}let T$=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=ab(0,n.type),i=r.length>0?gd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(q(Ur))}),t})();function OS(t){t.getStandaloneInjector=e=>e.get(T$).getOrCreateStandaloneInjector(t)}function gi(t,e,n,r){return function US(t,e,n,r,i,s){const o=e+n;return Ut(t,o,i)?function dr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Du(t,e){const n=t[e];return n===te?void 0:n}(t,o+1)}(D(),function Qt(){const t=ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function vm(t){return e=>{setTimeout(t,void 0,e)}}const je=class Z$ extends Nr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=vm(s),i&&(i=vm(i)),o&&(o=vm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof gn&&e.add(a),a}};let Gr=(()=>{class t{}return t.__NG_ELEMENT_ID__=n4,t})();const e4=Gr,t4=class extends e4{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=Zl(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[Ha]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[or];return null!==o&&(i[or]=o.createEmbeddedView(r)),$g(r,i,e),new du(i)}};function n4(){return function md(t,e){return 4&t.type?new t4(e,t,fo(t,e)):null}(xt(),D())}let Wn=(()=>{class t{}return t.__NG_ELEMENT_ID__=r4,t})();function r4(){return function WS(t,e){let n;const r=e[t.index];if($n(r))n=r;else{let i;if(8&t.type)i=Tt(r);else{const s=e[oe];i=s.createComment("");const o=wn(t,e);ss(s,$l(s,o),i,function eV(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=Hb(r,e,i,t),ed(e,n)}return new zS(n,t,e)}(xt(),D())}const i4=Wn,zS=class extends i4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fo(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kp(this._hostTNode,this._hostLView);if(Q0(e)){const n=Ol(e,this._hostLView),r=Rl(e);return new no(n[P].data[r+8],n)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=qS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Ya(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new hu(Ce(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Ur,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[P];if(function AL(t){return $n(t[qe])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[qe],h=new zS(d,d[Lt],d[qe]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function Q2(t,e,n,r){const i=Kt+r,s=n.length;r>0&&(n[i-1][jn]=e),r<s-Kt?(e[jn]=n[i],aE(n,Kt+r,e)):(n.push(e),e[jn]=null),e[qe]=n;const o=e[Ha];null!==o&&n!==o&&function Y2(t,e){const n=t[Zs];e[Vt]!==e[qe][qe][Vt]&&(t[E0]=!0),null===n?t[Zs]=[e]:n.push(e)}(o,e);const a=e[or];null!==a&&a.insertView(t),e[ie]|=64}(i,r,o,s);const a=yg(s,o),u=r[oe],c=$l(u,o[bl]);return null!==c&&function q2(t,e,n,r,i,s){r[Fr]=i,r[Lt]=e,iu(t,r,n,1,i,s)}(i,o[Lt],u,r,c,a),e.attachToViewContainerRef(),aE(wm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=qS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=pg(this._lContainer,n);r&&(Vl(wm(this._lContainer),n),NE(r[P],r))}detach(e){const n=this._adjustIndex(e,-1),r=pg(this._lContainer,n);return r&&null!=Vl(wm(this._lContainer),n)?new du(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function qS(t){return t[Il]}function wm(t){return t[Il]||(t[Il]=[])}function vd(...t){}const _d=new B("Application Initializer");let wd=(()=>{class t{constructor(n){this.appInits=n,this.resolve=vd,this.reject=vd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(pu(s))n.push(s);else if(im(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(q(_d,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bu=new B("AppId",{providedIn:"root",factory:function _T(){return`${Nm()}${Nm()}${Nm()}`}});function Nm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wT=new B("Platform Initializer"),DT=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let R4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const zr=new B("LocaleId",{providedIn:"root",factory:()=>de(zr,z.Optional|z.SkipSelf)||function O4(){return typeof $localize<"u"&&$localize.locale||Mo}()});class k4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let CT=(()=>{class t{compileModuleSync(n){return new mm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=$r(vn(n).declarations).reduce((o,a)=>{const u=Ce(a);return u&&o.push(new hu(u)),o},[]);return new k4(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const V4=(()=>Promise.resolve(0))();function Rm(t){typeof Zone>"u"?V4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ze{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function B4(){let t=Pe.requestAnimationFrame,e=Pe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function $4(t){const e=()=>{!function j4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pm(t),t.isCheckStableRunning=!0,Om(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return IT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ST(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return IT(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ST(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Pm(t),Om(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,U4,vd,vd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const U4={};function Om(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Pm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function IT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ST(t){t._nesting--,Om(t)}class H4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const TT=new B(""),Dd=new B("");let Lm,km=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lm||(function G4(t){Lm=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),Rm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(q(Ze),q(Fm),q(Dd))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Fm=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Lm?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const qr=!1;let mi=null;const xT=new B("AllowMultipleToken"),Vm=new B("PlatformDestroyListeners"),AT=new B("appBootstrapListener");class MT{constructor(e,n){this.name=e,this.token=n}}function RT(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=Bm();if(!o||o.injector.get(xT,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function W4(t){if(mi&&!mi.get(xT,!1))throw new T(400,!1);mi=t;const e=t.get(PT);(function NT(t){const e=t.get(wT,null);e&&e.forEach(n=>n())})(t)}(function OT(t=[],e){return cr.create({name:e,providers:[{provide:Mg,useValue:"platform"},{provide:Vm,useValue:new Set([()=>mi=null])},...t]})}(a,r))}return function Q4(t){const e=Bm();if(!e)throw new T(401,!1);return e}()}}function Bm(){return mi?.get(PT)??null}let PT=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function FT(t,e){let n;return n="noop"===t?new H4:("zone.js"===t?void 0:t)||new Ze(e),n}(r?.ngZone,function kT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ze,useValue:i}];return i.run(()=>{const o=cr.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(po,null);if(!u)throw new T(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Ed(this._modules,a),c.unsubscribe()})}),function LT(t,e,n){try{const r=n();return pu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(wd);return c.runInitializers(),c.donePromise.then(()=>(function oS(t){xn(t,"Expected localeId to be defined"),"string"==typeof t&&(sS=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(zr,Mo)||Mo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=VT({},r);return function z4(t,e,n){const r=new mm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Cd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Vm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(q(cr))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function VT(t,e){return Array.isArray(e)?e.reduce(VT,t):{...t,...e}}let Cd=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ye(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ye(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),Rm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function KF(...t){const e=La(t),n=function jF(t,e){return"number"==typeof _p(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?mn(r[0]):qs(n)(ot(r,e)):nr}(s,o.pipe(function QF(t={}){const{connector:e=(()=>new Nr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ht((g,m)=>{c++,!d&&!l&&h();const w=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=wp(p,i))}),w.subscribe(m),!o&&c>0&&(o=new Fa({next:C=>w.next(C),error:C=>{d=!0,h(),a=wp(f,n,C),w.error(C)},complete:()=>{l=!0,h(),a=wp(f,r),w.complete()}}),mn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof fb;if(!this._injector.get(wd).done){!i&&function Ks(t){const e=Ce(t)||Ft(t)||an(t);return null!==e&&e.standalone}(n);throw new T(405,qr)}let o;o=i?n:this._injector.get(uu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function q4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(No),c=o.create(cr.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(TT,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Ed(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ed(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(AT,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ed(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(q(Ze),q(Ur),q(po))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ed(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let bd=(()=>{class t{}return t.__NG_ELEMENT_ID__=X4,t})();function X4(t){return function Z4(t,e,n){if(za(t)&&!n){const r=un(t.index,e);return new du(r,r)}return 47&t.type?new du(e[Vt],e):null}(xt(),D(),16==(16&t))}class HT{constructor(){}supports(e){return sd(e)}create(e){return new i3(e)}}const r3=(t,e)=>e;class i3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||r3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<zT(r,i,s)?n:r,a=zT(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!sd(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function TU(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new s3(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new GT),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GT),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class s3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class o3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class GT{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new o3,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zT(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class qT{constructor(){}supports(e){return e instanceof Map||em(e)}create(){return new a3}}class a3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||em(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new u3(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class u3{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WT(){return new Td([new HT])}let Td=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||WT()),deps:[[t,new Ja,new Za]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:WT}),t})();function KT(){return new Iu([new qT])}let Iu=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||KT()),deps:[[t,new Ja,new Za]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:KT}),t})();const d3=RT(null,"core",[]);let h3=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(q(Cd))},t.\u0275mod=sr({type:t}),t.\u0275inj=Bn({}),t})();function Po(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Gm=null;function Wr(){return Gm}class g3{}const dn=new B("DocumentToken");let zm=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return function m3(){return q(QT)}()},providedIn:"platform"}),t})();const y3=new B("Location Initialized");let QT=(()=>{class t extends zm{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wr().getBaseHref(this._doc)}onPopState(n){const r=Wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){YT()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){YT()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(q(dn))},t.\u0275prov=G({token:t,factory:function(){return function v3(){return new QT(q(dn))}()},providedIn:"platform"}),t})();function YT(){return!!window.history.pushState}function qm(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function XT(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Kr(t){return t&&"?"!==t[0]?"?"+t:t}let ds=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return de(JT)},providedIn:"root"}),t})();const ZT=new B("appBaseHref");let JT=(()=>{class t extends ds{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??de(dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qm(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(q(zm),q(ZT,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_3=(()=>{class t extends ds{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=qm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(q(zm),q(ZT,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Wm=(()=>{class t{constructor(n){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function C3(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(XT(ex(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kr(r))}normalize(n){return t.stripTrailingSlash(function D3(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,ex(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Kr,t.joinWithSlash=qm,t.stripTrailingSlash=XT,t.\u0275fac=function(n){return new(n||t)(q(ds))},t.\u0275prov=G({token:t,factory:function(){return function w3(){return new Wm(q(ds))}()},providedIn:"root"}),t})();function ex(t){return t.replace(/\/index.html$/,"")}const ry=/\s+/,cx=[];let iy=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=cx,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(ry):cx}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(ry):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(ry).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(b(Td),b(Iu),b(Cn),b(jr))},t.\u0275dir=K({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class aH{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ld=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new aH(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),hx(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{hx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Wn),b(Gr),b(Td))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function hx(t,e){t.context.$implicit=e.item}let xu=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new cH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){fx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){fx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Wn),b(Gr))},t.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class cH{constructor(){this.$implicit=null,this.ngIf=null}}function fx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ae(e)}'.`)}let PH=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=Bn({}),t})();let yx=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new VH(q(dn),window)}),t})();class VH{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function BH(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vx(this.window.history)||vx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vx(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class fG extends g3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dy extends fG{static makeCurrent(){!function p3(t){Gm||(Gm=t)}(new dy)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function pG(){return Mu=Mu||document.querySelector("base"),Mu?Mu.getAttribute("href"):null}();return null==n?null:function gG(t){Ud=Ud||document.createElement("a"),Ud.setAttribute("href",t);const e=Ud.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function sH(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ud,Mu=null;const Ex=new B("TRANSITION_ID"),yG=[{provide:_d,useFactory:function mG(t,e,n){return()=>{n.get(wd).donePromise.then(()=>{const r=Wr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Ex,dn,cr],multi:!0}];let _G=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const jd=new B("EventManagerPlugins");let $d=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(q(jd),q(Ze))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class bx{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Wr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Ix=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Nu=(()=>{class t extends Ix{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(q(dn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fy=/%COMP%/g,xx=new B("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ax(t,e){return e.flat(100).map(n=>n.replace(fy,t))}function Mx(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let py=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new gy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof Ox?i.applyToHost(n):i instanceof my&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case ir.Emulated:s=new Ox(o,a,r,this.appId,u);break;case ir.ShadowDom:return new SG(o,a,n,r);default:s=new my(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(q($d),q(Nu),q(bu),q(xx))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class gy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(hy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(Rx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Rx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=hy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=hy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(cn.DashCase|cn.Important)?e.style.setProperty(n,r,i&cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Mx(r)):this.eventManager.addEventListener(e,n,Mx(r))}}function Rx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class SG extends gy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ax(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class my extends gy{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Ax(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ox extends my{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function EG(t){return"_ngcontent-%COMP%".replace(fy,t)}(o),this.hostAttr=function bG(t){return"_nghost-%COMP%".replace(fy,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let TG=(()=>{class t extends bx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(q(dn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Px=["alt","control","meta","shift"],xG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AG={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let MG=(()=>{class t extends bx{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Px.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=xG[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Px.forEach(o=>{o!==i&&(0,AG[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(q(dn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Fx=[{provide:DT,useValue:"browser"},{provide:wT,useValue:function NG(){dy.makeCurrent()},multi:!0},{provide:dn,useFactory:function OG(){return function uV(t){Dg=t}(document),document},deps:[]}],PG=RT(d3,"browser",Fx),Lx=new B(""),Vx=[{provide:Dd,useClass:class vG{addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Wr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:TT,useClass:km,deps:[Ze,Fm,Dd]},{provide:km,useClass:km,deps:[Ze,Fm,Dd]}],Bx=[{provide:Mg,useValue:"root"},{provide:po,useFactory:function RG(){return new po},deps:[]},{provide:jd,useClass:TG,multi:!0,deps:[dn,Ze,DT]},{provide:jd,useClass:MG,multi:!0,deps:[dn]},{provide:py,useClass:py,deps:[$d,Nu,bu,xx]},{provide:gb,useExisting:py},{provide:Ix,useExisting:Nu},{provide:Nu,useClass:Nu,deps:[dn]},{provide:$d,useClass:$d,deps:[jd,Ze]},{provide:class UH{},useClass:_G,deps:[]},[]];let kG=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:bu,useValue:n.appId},{provide:Ex,useExisting:bu},yG]}}}return t.\u0275fac=function(n){return new(n||t)(q(Lx,12))},t.\u0275mod=sr({type:t}),t.\u0275inj=Bn({providers:[...Bx,...Vx],imports:[PH,h3]}),t})(),Ux=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(q(dn))},t.\u0275prov=G({token:t,factory:function(n){let r=null;return r=n?new n:function LG(){return new Ux(q(dn))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:HG}=Array,{getPrototypeOf:GG,prototype:zG,keys:qG}=Object;function Hx(t){if(1===t.length){const e=t[0];if(HG(e))return{args:e,keys:null};if(function WG(t){return t&&"object"==typeof t&&GG(t)===zG}(e)){const n=qG(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:KG}=Array;function Gx(t){return le(e=>function QG(t,e){return KG(e)?t(...e):t(e)}(t,e))}function zx(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let qx=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(jr),b(Cn))},t.\u0275dir=K({type:t}),t})(),hs=(()=>{class t extends qx{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=At(t)))(r||t)}}(),t.\u0275dir=K({type:t,features:[Ee]}),t})();const mr=new B("NgValueAccessor"),ZG={provide:mr,useExisting:Me(()=>Ru),multi:!0},e9=new B("CompositionEventMode");let Ru=(()=>{class t extends qx{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function JG(){const t=Wr()?Wr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(jr),b(Cn),b(e9,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ae("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ue([ZG]),Ee]}),t})();const t9=!1,jt=new B("NgValidators"),_i=new B("NgAsyncValidators");function rA(t){return null!=t}function iA(t){const e=pu(t)?ot(t):t;if(t9&&!im(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new T(-1101,n)}return e}function sA(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function oA(t,e){return e.map(n=>n(t))}function aA(t){return t.map(e=>function r9(t){return!t.validate}(e)?e:n=>e.validate(n))}function _y(t){return null!=t?function uA(t){if(!t)return null;const e=t.filter(rA);return 0==e.length?null:function(n){return sA(oA(n,e))}}(aA(t)):null}function wy(t){return null!=t?function cA(t){if(!t)return null;const e=t.filter(rA);return 0==e.length?null:function(n){return function YG(...t){const e=o0(t),{args:n,keys:r}=Hx(t),i=new Ye(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;mn(n[l]).subscribe(st(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?zx(r,a):a),s.complete())}))}});return e?i.pipe(Gx(e)):i}(oA(n,e).map(iA)).pipe(le(sA))}}(aA(t)):null}function lA(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Dy(t){return t?Array.isArray(t)?t:[t]:[]}function Gd(t,e){return Array.isArray(t)?t.includes(e):t===e}function fA(t,e){const n=Dy(e);return Dy(t).forEach(i=>{Gd(n,i)||n.push(i)}),n}function pA(t,e){return Dy(e).filter(n=>!Gd(t,n))}class gA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_y(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Jt extends gA{get formDirective(){return null}get path(){return null}}class wi extends gA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mA{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cy=(()=>{class t extends mA{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(wi,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ud("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ee]}),t})();const Ou="VALID",qd="INVALID",ko="PENDING",Pu="DISABLED";function Wd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class wA{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ou}get invalid(){return this.status===qd}get pending(){return this.status==ko}get disabled(){return this.status===Pu}get enabled(){return this.status!==Pu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pA(e,this._rawAsyncValidators))}hasValidator(e){return Gd(this._rawValidators,e)}hasAsyncValidator(e){return Gd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ko,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ou,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ou||this.status===ko)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pu:Ou}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ko,this._hasOwnPendingAsyncValidator=!0;const n=iA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?Pu:this.errors?qd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ko)?ko:this._anyControlsHaveStatus(qd)?qd:Ou}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function d9(t){return Array.isArray(t)?_y(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function h9(t){return Array.isArray(t)?wy(t):t||null}(this._rawAsyncValidators)}}const Fo=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Kd}),Kd="always";function ku(t,e,n=Kd){(function Ay(t,e){const n=function dA(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(lA(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function hA(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(lA(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Xd(e._rawValidators,i),Xd(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function g9(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&DA(t,e)})}(t,e),function y9(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function m9(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&DA(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function p9(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Xd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function DA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function IA(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const SA=class extends wA{constructor(e=null,n,r){super(function Sy(t){return(Wd(t)?t.validators:t)||null}(n),function Ty(t,e){return(Wd(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=IA(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){IA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},I9={provide:wi,useExisting:Me(()=>Jd)},AA=(()=>Promise.resolve())();let Jd=(()=>{class t extends wi{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new SA,this._registered=!1,this.update=new je,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ry(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ru?n=s:function w9(t){return Object.getPrototypeOf(t.constructor)===hs}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Ny(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ku(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){AA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Po(r);AA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Qd(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(Jt,9),b(jt,10),b(_i,10),b(mr,10),b(bd,8),b(Fo,8))},t.\u0275dir=K({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ue([I9]),Ee,Mn]}),t})(),NA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=Bn({}),t})(),Y9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=Bn({imports:[NA]}),t})(),Z9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Fo,useValue:n.callSetDisabledState??Kd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=Bn({imports:[Y9]}),t})();function $(...t){return ot(t,La(t))}class Xn extends Nr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const eh=ka(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function QA(...t){const e=La(t),n=o0(t),{args:r,keys:i}=Hx(t);if(0===r.length)return ot([],e);const s=new Ye(function J9(t,e,n=Ji){return r=>{YA(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)YA(e,()=>{const c=ot(t[u],e);let l=!1;c.subscribe(st(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>zx(i,o):Ji));return n?s.pipe(Gx(n)):s}function YA(t,e,n){t?Rr(n,t,e):e()}function th(...t){return function e5(){return qs(1)}()(ot(t,La(t)))}function XA(t){return new Ye(e=>{mn(t()).subscribe(e)})}function Lu(t,e){const n=xe(t)?t:()=>t,r=i=>i.error(n());return new Ye(e?i=>e.schedule(r,0,i):r)}function Uy(){return ht((t,e)=>{let n=null;t._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class ZA extends Ye{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,HC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gn;const n=this.getSubject();e.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gn.EMPTY)}return e}refCount(){return Uy()(this)}}function yr(t,e){return ht((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(st(r,u=>{i?.unsubscribe();let c=0;const l=s++;mn(t(u,l)).subscribe(i=st(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Di(t){return t<=0?()=>nr:ht((e,n)=>{let r=0;e.subscribe(st(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yr(t,e){return ht((n,r)=>{let i=0;n.subscribe(st(r,s=>t.call(e,s,i++)&&r.next(s)))})}function nh(t){return ht((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function JA(t=n5){return ht((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function n5(){return new eh}function Ci(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yr((i,s)=>t(i,s,r)):Ji,Di(1),n?nh(e):JA(()=>new eh))}function ps(t,e){return xe(e)?vt(t,e,1):vt(t,1)}function $t(t,e,n){const r=xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?ht((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(st(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ji}function Ei(t){return ht((e,n)=>{let s,r=null,i=!1;r=e.subscribe(st(n,void 0,void 0,o=>{s=mn(t(o,Ei(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function e1(t,e){return ht(function r5(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(st(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function jy(t){return t<=0?()=>nr:ht((e,n)=>{let r=[];e.subscribe(st(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function t1(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yr((i,s)=>t(i,s,r)):Ji,jy(1),n?nh(e):JA(()=>new eh))}function n1(t){return le(()=>t)}function $y(t){return ht((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ne="primary",Vu=Symbol("RouteTitle");class s5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Lo(t){return new s5(t)}function o5(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function vr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!r1(t[i],e[i]))return!1;return!0}function r1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function i1(t){return Array.prototype.concat.apply([],t)}function s1(t){return t.length>0?t[t.length-1]:null}function Mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bi(t){return im(t)?t:pu(t)?ot(Promise.resolve(t)):$(t)}const rh=!1,u5={exact:function u1(t,e,n){if(!gs(t.segments,e.segments)||!ih(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!u1(t.children[r],e.children[r],n))return!1;return!0},subset:c1},o1={exact:function c5(t,e){return vr(t,e)},subset:function l5(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>r1(t[n],e[n]))},ignored:()=>!0};function a1(t,e,n){return u5[n.paths](t.root,e.root,n.matrixParams)&&o1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function c1(t,e,n){return l1(t,e,e.segments,n)}function l1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!gs(i,n)||e.hasChildren()||!ih(i,n,r))}if(t.segments.length===n.length){if(!gs(t.segments,n)||!ih(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!c1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(gs(t.segments,i)&&ih(t.segments,i,r)&&t.children[ne])&&l1(t.children[ne],e,s,r)}}function ih(t,e,n){return e.every((r,i)=>o1[n](t[i].parameters,r.parameters))}class Ii{constructor(e=new ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return f5.serialize(this)}}class ue{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Mt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sh(this)}}class Bu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Lo(this.parameters)),this._parameterMap}toString(){return f1(this)}}function gs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Uu=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new Hy},providedIn:"root"}),t})();class Hy{parse(e){const n=new C5(e);return new Ii(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ju(e.root,!0)}`,r=function m5(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${oh(n)}=${oh(i)}`).join("&"):`${oh(n)}=${oh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function p5(t){return encodeURI(t)}(e.fragment)}`:""}`}}const f5=new Hy;function sh(t){return t.segments.map(e=>f1(e)).join("/")}function ju(t,e){if(!t.hasChildren())return sh(t);if(e){const n=t.children[ne]?ju(t.children[ne],!1):"",r=[];return Mt(t.children,(i,s)=>{s!==ne&&r.push(`${s}:${ju(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function h5(t,e){let n=[];return Mt(t.children,(r,i)=>{i===ne&&(n=n.concat(e(r,i)))}),Mt(t.children,(r,i)=>{i!==ne&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ne?[ju(t.children[ne],!1)]:[`${i}:${ju(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ne]?`${sh(t)}/${n[0]}`:`${sh(t)}/(${n.join("//")})`}}function d1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oh(t){return d1(t).replace(/%3B/gi,";")}function Gy(t){return d1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ah(t){return decodeURIComponent(t)}function h1(t){return ah(t.replace(/\+/g,"%20"))}function f1(t){return`${Gy(t.path)}${function g5(t){return Object.keys(t).map(e=>`;${Gy(e)}=${Gy(t[e])}`).join("")}(t.parameters)}`}const y5=/^[^\/()?;=#]+/;function uh(t){const e=t.match(y5);return e?e[0]:""}const v5=/^[^=?&#]+/,w5=/^[^&#]+/;class C5{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new ue(e,n)),r}parseSegment(){const e=uh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,rh);return this.capture(e),new Bu(ah(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=uh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=uh(this.remaining);i&&(r=i,this.capture(r))}e[ah(n)]=ah(r)}parseQueryParam(e){const n=function _5(t){const e=t.match(v5);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function D5(t){const e=t.match(w5);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=h1(n),s=h1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,rh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ne]:new ue([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,rh)}}function zy(t){return t.segments.length>0?new ue([],{[ne]:t}):t}function ch(t){const e={};for(const r of Object.keys(t.children)){const s=ch(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function E5(t){if(1===t.numberOfChildren&&t.children[ne]){const e=t.children[ne];return new ue(t.segments.concat(e.segments),e.children)}return t}(new ue(t.segments,e))}function ms(t){return t instanceof Ii}const qy=!1;function b5(t,e,n,r,i){if(0===n.length)return Vo(e.root,e.root,e.root,r,i);const s=function v1(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new y1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Mt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new y1(n,e,r)}(n);return s.toRoot()?Vo(e.root,e.root,new ue([],{}),r,i):function o(u){const c=function S5(t,e,n,r){if(t.isAbsolute)return new Bo(e.root,!0,0);if(-1===r)return new Bo(n,n===e.root,0);return function _1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,qy&&"Invalid number of '../'");i=r.segments.length}return new Bo(r,!1,i-s)}(n,r+($u(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?Uo(c.segmentGroup,c.index,s.commands):Wy(c.segmentGroup,c.index,s.commands);return Vo(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function $u(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hu(t){return"object"==typeof t&&null!=t&&t.outlets}function Vo(t,e,n,r,i){let o,s={};r&&Mt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:m1(t,e,n);const a=zy(ch(o));return new Ii(a,s,i)}function m1(t,e,n){const r={};return Mt(t.children,(i,s)=>{r[s]=i===e?n:m1(i,e,n)}),new ue(t.segments,r)}class y1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$u(r[0]))throw new T(4003,qy&&"Root segment cannot have matrix parameters");const i=r.find(Hu);if(i&&i!==s1(r))throw new T(4004,qy&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bo{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Wy(t,e,n){if(t||(t=new ue([],{})),0===t.segments.length&&t.hasChildren())return Uo(t,e,n);const r=function x5(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Hu(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!D1(u,c,o))return s;r+=2}else{if(!D1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ue(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new ue(t.segments.slice(r.pathIndex),t.children),Uo(s,0,i)}return r.match&&0===i.length?new ue(t.segments,{}):r.match&&!t.hasChildren()?Ky(t,e,n):r.match?Uo(t,0,i):Ky(t,e,n)}function Uo(t,e,n){if(0===n.length)return new ue(t.segments,{});{const r=function T5(t){return Hu(t[0])?t[0].outlets:{[ne]:t}}(n),i={};if(!r[ne]&&t.children[ne]&&1===t.numberOfChildren&&0===t.children[ne].segments.length){const s=Uo(t.children[ne],e,n);return new ue(t.segments,s.children)}return Mt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Wy(t.children[o],e,s))}),Mt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ue(t.segments,i)}}function Ky(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Hu(s)){const u=A5(s.outlets);return new ue(r,u)}if(0===i&&$u(n[0])){r.push(new Bu(t.segments[e].path,w1(n[0]))),i++;continue}const o=Hu(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&$u(a)?(r.push(new Bu(o,w1(a))),i+=2):(r.push(new Bu(o,{})),i++)}return new ue(r,{})}function A5(t){const e={};return Mt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Ky(new ue([],{}),0,n))}),e}function w1(t){const e={};return Mt(t,(n,r)=>e[r]=`${n}`),e}function D1(t,e,n){return t==n.path&&vr(e,n.parameters)}const Gu="imperative";class _r{constructor(e,n){this.id=e,this.url=n}}class Qy extends _r{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Si extends _r{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lh extends _r{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dh extends _r{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Yy extends _r{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class M5 extends _r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N5 extends _r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R5 extends _r{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class O5 extends _r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P5 extends _r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k5{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class F5{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class L5{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V5{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B5{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U5{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xy{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let H5=(()=>{class t{createUrlTree(n,r,i,s,o,a){return b5(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),z5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(e){return H5.\u0275fac(e)},providedIn:"root"}),t})();class C1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Zy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Zy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Jy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Jy(e,this._root).map(n=>n.value)}}function Zy(t,e){if(t===e.value)return e;for(const n of e.children){const r=Zy(t,n);if(r)return r}return null}function Jy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Jy(t,n);if(r.length)return r.unshift(e),r}return[]}class Xr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function jo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class E1 extends C1{constructor(e,n){super(e),this.snapshot=n,ev(this,e)}toString(){return this.snapshot.toString()}}function b1(t,e){const n=function q5(t,e){const o=new hh([],{},{},"",{},ne,e,null,t.root,-1,{});return new S1("",new Xr(o,[]))}(t,e),r=new Xn([new Bu("",{})]),i=new Xn({}),s=new Xn({}),o=new Xn({}),a=new Xn(""),u=new $o(r,i,o,a,s,ne,e,n.root);return u.snapshot=n.root,new E1(new Xr(u,[]),n)}class $o{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(le(c=>c[Vu]))??$(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(e=>Lo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(e=>Lo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function I1(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function W5(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class hh{get title(){return this.data?.[Vu]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class S1 extends C1{constructor(e,n){super(n),this.url=e,ev(this,n)}toString(){return T1(this._root)}}function ev(t,e){e.value._routerState=t,e.children.forEach(n=>ev(t,n))}function T1(t){const e=t.children.length>0?` { ${t.children.map(T1).join(", ")} } `:"";return`${t.value}${e}`}function tv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),vr(e.params,n.params)||t.params.next(n.params),function a5(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),vr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function nv(t,e){const n=vr(t.params,e.params)&&function d5(t,e){return gs(t,e)&&t.every((n,r)=>vr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||nv(t.parent,e.parent))}function zu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Q5(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zu(t,r,i);return zu(t,r)})}(t,e,n);return new Xr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>zu(t,a)),o}}const r=function Y5(t){return new $o(new Xn(t.url),new Xn(t.params),new Xn(t.queryParams),new Xn(t.fragment),new Xn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>zu(t,s));return new Xr(r,i)}}const rv="ngNavigationCancelingError";function x1(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ms(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=A1(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function A1(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[rv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function M1(t){return N1(t)&&ms(t.url)}function N1(t){return t&&t[rv]}class X5{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new qu,this.attachRef=null}}let qu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new X5,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fh=!1;let iv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.parentContexts=de(qu),this.location=de(Wn),this.changeDetector=de(bd),this.environmentInjector=de(Ur)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,fh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,fh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,fh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,fh);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Z5(n,a,i.injector);if(r&&function J5(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]}),t})();class Z5{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===$o?this.route:e===qu?this.childContexts:this.parent.get(e,n)}}let sv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Un({type:t,selectors:[["ng-component"]],standalone:!0,features:[OS],decls:1,vars:0,template:function(n,r){1&n&&fi(0,"router-outlet")},dependencies:[iv],encapsulation:2}),t})();function R1(t,e){return t.providers&&!t._injector&&(t._injector=gd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function av(t){const e=t.children&&t.children.map(av),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=sv),n}function Ln(t){return t.outlet||ne}function O1(t,e){const n=t.filter(r=>Ln(r)===e);return n.push(...t.filter(r=>Ln(r)!==e)),n}function Wu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class iz{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),tv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=jo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Mt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=jo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=jo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=jo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new U5(s.value.snapshot))}),e.children.length&&this.forwardEvent(new V5(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(tv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),tv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Wu(i.snapshot),u=a?.get(uu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class P1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ph{constructor(e,n){this.component=e,this.route=n}}function sz(t,e,n){const r=t._root;return Ku(r,e?e._root:null,n,[r.value])}function Ho(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function nL(t){return null!==ml(t)}(t)?e.get(t):t:r}function Ku(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=jo(e);return t.children.forEach(o=>{(function az(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function uz(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!gs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gs(t.url,e.url)||!vr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nv(t,e)||!vr(t.queryParams,e.queryParams);default:return!nv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new P1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ku(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ph(a.outlet.component,o))}else o&&Qu(e,a,i),i.canActivateChecks.push(new P1(r)),Ku(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Mt(s,(o,a)=>Qu(o,n.getContext(a),i)),i}function Qu(t,e,n){const r=jo(t),i=t.value;Mt(r,(s,o)=>{Qu(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new ph(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Yu(t){return"function"==typeof t}function uv(t){return t instanceof eh||"EmptyError"===t?.name}const gh=Symbol("INITIAL_VALUE");function Go(){return yr(t=>QA(t.map(e=>e.pipe(Di(1),function t5(...t){const e=La(t);return ht((n,r)=>{(e?th(t,n,e):th(t,n)).subscribe(r)})}(gh)))).pipe(le(e=>{for(const n of e)if(!0!==n){if(n===gh)return gh;if(!1===n||n instanceof Ii)return n}return!0}),Yr(e=>e!==gh),Di(1)))}function k1(t){return function oF(...t){return UC(t)}($t(e=>{if(ms(e))throw x1(0,e)}),le(e=>!0===e))}const cv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function F1(t,e,n,r,i){const s=lv(t,e,n);return s.matched?function Iz(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?$(i.map(o=>{const a=Ho(o,t);return bi(function pz(t){return t&&Yu(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Go(),k1()):$(!0)}(r=R1(e,r),e,n).pipe(le(o=>!0===o?s:{...cv})):$(s)}function lv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...cv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||o5)(n,t,e);if(!i)return{...cv};const s={};Mt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function mh(t,e,n,r){if(n.length>0&&function xz(t,e,n){return n.some(r=>yh(t,e,r)&&Ln(r)!==ne)}(t,n,r)){const s=new ue(e,function Tz(t,e,n,r){const i={};i[ne]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Ln(s)!==ne){const o=new ue([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Ln(s)]=o}return i}(t,e,r,new ue(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function Az(t,e,n){return n.some(r=>yh(t,e,r))}(t,n,r)){const s=new ue(t.segments,function Sz(t,e,n,r,i){const s={};for(const o of r)if(yh(t,n,o)&&!i[Ln(o)]){const a=new ue([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[Ln(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new ue(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function yh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function L1(t,e,n,r){return!!(Ln(t)===r||r!==ne&&yh(e,n,t))&&("**"===t.path||lv(e,t,n).matched)}function V1(t,e,n){return 0===e.length&&!t.children[n]}const vh=!1;class _h{constructor(e){this.segmentGroup=e||null}}class B1{constructor(e){this.urlTree=e}}function Xu(t){return Lu(new _h(t))}function U1(t){return Lu(new B1(t))}class Oz{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=mh(this.urlTree.root,[],[],this.config).segmentGroup,n=new ue(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ne).pipe(le(s=>this.createUrlTree(ch(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ei(s=>{if(s instanceof B1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof _h?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ne).pipe(le(i=>this.createUrlTree(ch(i),e.queryParams,e.fragment))).pipe(Ei(i=>{throw i instanceof _h?this.noMatchError(i):i}))}noMatchError(e){return new T(4002,vh)}createUrlTree(e,n,r){const i=zy(e);return new Ii(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(le(s=>new ue([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ot(i).pipe(ps(s=>{const o=r.children[s],a=O1(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(le(u=>({segment:u,outlet:s})))}),e1((s,o)=>(s[o.outlet]=o.segment,s),{}),t1())}expandSegment(e,n,r,i,s,o){return ot(r).pipe(ps(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ei(c=>{if(c instanceof _h)return $(null);throw c}))),Ci(a=>!!a),Ei((a,u)=>{if(uv(a))return V1(n,i,s)?$(new ue([],{})):Xu(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return L1(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Xu(n):Xu(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?U1(s):this.lineralizeSegments(r,s).pipe(vt(o=>{const a=new ue(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=lv(n,i,s);if(!a)return Xu(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?U1(d):this.lineralizeSegments(i,d).pipe(vt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=R1(r,e),r.loadChildren?(r._loadedRoutes?$({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(le(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ue(i,{})))):$(new ue(i,{}))):F1(n,r,i,e).pipe(yr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(vt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=mh(n,a,u,h),g=new ue(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(le(v=>new ue(a,v)));if(0===h.length&&0===p.length)return $(new ue(a,{}));const m=Ln(r)===s;return this.expandSegment(d,g,h,p,m?ne:s,!0).pipe(le(C=>new ue(a.concat(C.segments),C.children)))})):Xu(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?$({routes:n._loadedRoutes,injector:n._loadedInjector}):function bz(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(o=>{const a=Ho(o,t);return bi(function lz(t){return t&&Yu(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Go(),k1())}(e,n,r).pipe(vt(i=>i?this.configLoader.loadChildren(e,n).pipe($t(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Nz(t){return Lu(A1(vh,3))}())):$({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[ne])return e.redirectTo,Lu(new T(4e3,vh));i=i.children[ne]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ii(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Mt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Mt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ue(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,vh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class kz{}class Vz{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=mh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(le(n=>{if(null===n)return null;const r=new hh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xr(r,n),s=new S1(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=I1(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return ot(Object.keys(r.children)).pipe(ps(i=>{const s=r.children[i],o=O1(n,i);return this.processSegmentGroup(e,o,s,i)}),e1((i,s)=>i&&s?(i.push(...s),i):null),function i5(t,e=!1){return ht((n,r)=>{let i=0;n.subscribe(st(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),nh(null),t1(),le(i=>{if(null===i)return null;const s=$1(i);return function Bz(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return ot(n).pipe(ps(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Ci(o=>!!o),Ei(o=>{if(uv(o))return V1(r,i,s)?$([]):$(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!L1(n,r,i,s))return $(null);let o;if("**"===n.path){const a=i.length>0?s1(i).parameters:{},u=G1(r)+i.length;o=$({snapshot:new hh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,z1(n),Ln(n),n.component??n._loadedComponent??null,n,H1(r),u,q1(n)),consumedSegments:[],remainingSegments:[]})}else o=F1(r,n,i,e).pipe(le(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=G1(r)+u.length;return{snapshot:new hh(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,z1(n),Ln(n),n.component??n._loadedComponent??null,n,H1(r),d,q1(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(yr(a=>{if(null===a)return $(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function Uz(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=mh(r,c,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(le(m=>null===m?null:[new Xr(u,m)]));if(0===h.length&&0===p.length)return $([new Xr(u,[])]);const g=Ln(n)===s;return this.processSegment(d,h,f,p,g?ne:s).pipe(le(m=>null===m?null:[new Xr(u,m)]))}))}}function jz(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $1(t){const e=[],n=new Set;for(const r of t){if(!jz(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=$1(r.children);e.push(new Xr(r.value,i))}return e.filter(r=>!n.has(r))}function H1(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function G1(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function z1(t){return t.data||{}}function q1(t){return t.resolve||{}}function W1(t){return"string"==typeof t.title||null===t.title}function dv(t){return yr(e=>{const n=t(e);return n?ot(n).pipe(le(()=>e)):$(e)})}const zo=new B("ROUTES");let hv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=de(CT)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return $(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=bi(n.loadComponent()).pipe(le(Q1),$t(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),$y(()=>{this.componentLoaders.delete(n)})),i=new ZA(r,()=>new Nr).pipe(Uy());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(le(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=i1(u.get(zo,[],z.Self|z.Optional)));return{routes:c.map(av),injector:u}}),$y(()=>{this.childrenLoaders.delete(r)})),o=new ZA(s,()=>new Nr).pipe(Uy());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return bi(n()).pipe(le(Q1),vt(r=>r instanceof NS||Array.isArray(r)?$(r):ot(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Q1(t){return function Qz(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Dh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Nr,this.configLoader=de(hv),this.environmentInjector=de(Ur),this.urlSerializer=de(Uu),this.rootContexts=de(qu),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new F5(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new k5(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Xn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gu,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yr(r=>0!==r.id),le(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),yr(r=>{let i=!1,s=!1;return $(r).pipe($t(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new dh(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),nr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Y1(o.source)&&(n.browserUrlTree=o.extractedUrl),$(o).pipe(yr(l=>{const d=this.transitions?.getValue();return this.events.next(new Qy(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?nr:Promise.resolve(l)}),function Pz(t,e,n,r){return yr(i=>function Rz(t,e,n,r,i){return new Oz(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(le(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),$t(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function Hz(t,e,n,r,i){return vt(s=>function Lz(t,e,n,r,i,s,o="emptyOnly"){return new Vz(t,e,n,r,i,o,s).recognize().pipe(yr(a=>null===a?function Fz(t){return new Ye(e=>e.error(t))}(new kz):$(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(le(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),$t(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new M5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new Qy(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=b1(d,this.rootComponentType).snapshot;return $(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new dh(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),nr}}),$t(o=>{const a=new N5(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),le(o=>r={...o,guards:sz(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function mz(t,e){return vt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?$({...n,guardsResult:!0}):function yz(t,e,n,r){return ot(t).pipe(vt(i=>function Ez(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$(s.map(a=>{const u=Wu(e)??i,c=Ho(a,u);return bi(function fz(t){return t&&Yu(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Ci())})).pipe(Go()):$(!0)}(i.component,i.route,n,e,r)),Ci(i=>!0!==i,!0))}(o,r,i,t).pipe(vt(a=>a&&function cz(t){return"boolean"==typeof t}(a)?function vz(t,e,n,r){return ot(e).pipe(ps(i=>th(function wz(t,e){return null!==t&&e&&e(new L5(t)),$(!0)}(i.route.parent,r),function _z(t,e){return null!==t&&e&&e(new B5(t)),$(!0)}(i.route,r),function Cz(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function oz(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>XA(()=>$(o.guards.map(u=>{const c=Wu(o.node)??n,l=Ho(u,c);return bi(function hz(t){return t&&Yu(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Ci())})).pipe(Go())));return $(s).pipe(Go())}(t,i.path,n),function Dz(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(s=>XA(()=>{const o=Wu(e)??n,a=Ho(s,o);return bi(function dz(t){return t&&Yu(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ci())}));return $(i).pipe(Go())}(t,i.route,n))),Ci(i=>!0!==i,!0))}(r,s,t,e):$(a)),le(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),$t(o=>{if(r.guardsResult=o.guardsResult,ms(o.guardsResult))throw x1(0,o.guardsResult);const a=new R5(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Yr(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),dv(o=>{if(o.guards.canActivateChecks.length)return $(o).pipe($t(a=>{const u=new O5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),yr(a=>{let u=!1;return $(a).pipe(function Gz(t,e){return vt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=0;return ot(i).pipe(ps(o=>function zz(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!W1(i)&&(s[Vu]=i.title),function qz(t,e,n,r){const i=function Wz(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $({});const s={};return ot(i).pipe(vt(o=>function Kz(t,e,n,r){const i=Wu(e)??r,s=Ho(t,i);return bi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ci(),$t(a=>{s[o]=a}))),jy(1),n1(s),Ei(o=>uv(o)?nr:Lu(o)))}(s,t,e,r).pipe(le(o=>(t._resolvedData=o,t.data=I1(t,n).resolve,i&&W1(i)&&(t.data[Vu]=i.title),null)))}(o.route,r,t,e)),$t(()=>s++),jy(1),vt(o=>s===i.length?$(n):nr))})}(n.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),$t(a=>{const u=new P5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),dv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe($t(l=>{u.component=l}),le(()=>{})));for(const l of u.children)c.push(...a(l));return c};return QA(a(o.targetSnapshot.root)).pipe(nh(),Di(1))}),dv(()=>this.afterPreactivation()),le(o=>{const a=function K5(t,e,n){const r=zu(t,e._root,n?n._root:void 0);return new E1(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),$t(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>le(r=>(new iz(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Di(1),$t({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Si(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),$y(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ei(o=>{if(s=!0,N1(o)){M1(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new lh(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),M1(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||Y1(r.source)};n.scheduleNavigation(u,Gu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Yy(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return nr}))}))}cancelNavigationTransition(n,r,i){const s=new lh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Y1(t){return t!==Gu}let X1=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[Vu]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return de(Yz)},providedIn:"root"}),t})(),Yz=(()=>{class t extends X1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(q(Ux))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return de(Jz)},providedIn:"root"}),t})();class Zz{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Jz=(()=>{class t extends Zz{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=At(t)))(r||t)}}(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ch=new B("",{providedIn:"root",factory:()=>({})});let t6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return de(n6)},providedIn:"root"}),t})(),n6=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function r6(t){throw t}function i6(t,e,n){return e.parse("/")}const s6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},o6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let en=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=de(R4),this.isNgZoneEnabled=!1,this.options=de(Ch,{optional:!0})||{},this.errorHandler=this.options.errorHandler||r6,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||i6,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=de(t6),this.routeReuseStrategy=de(Xz),this.urlCreationStrategy=de(z5),this.titleStrategy=de(X1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=i1(de(zo,{optional:!0})??[]),this.navigationTransitions=de(Dh),this.urlSerializer=de(Uu),this.location=de(Wm),this.isNgZoneEnabled=de(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ii,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=b1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gu,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(av),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ms(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Gu,null,r)}navigate(n,r={skipLocationChange:!1}){return function a6(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new T(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...s6}:!1===r?{...o6}:r,ms(n))return a1(this.currentUrlTree,n,i);const s=this.parseUrl(n);return a1(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Zu=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Nr;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Si&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Po(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Po(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Po(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function rb(t,e,n){return function MV(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?nb:tb}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(b(en),b($o),function Ll(t){return function t2(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(q0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(xt(),t)}("tabindex"),b(jr),b(Cn),b(ds))},t.\u0275dir=K({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&ae("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&hr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Mn]}),t})();class Z1{}let l6=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Yr(n=>n instanceof Si),ps(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=gd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ot(i).pipe(qs())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):$(null);const s=i.pipe(vt(o=>null===o?$(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?ot([s,this.loader.loadComponent(r)]).pipe(qs()):s})}}return t.\u0275fac=function(n){return new(n||t)(q(en),q(CT),q(Ur),q(Z1),q(hv))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pv=new B("");let J1=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Si&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xy&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xy(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Pb(){throw new Error("invalid")}()},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();var bn=(()=>((bn=bn||{})[bn.COMPLETE=0]="COMPLETE",bn[bn.FAILED=1]="FAILED",bn[bn.REDIRECTING=2]="REDIRECTING",bn))();const qo=!1;function Ti(t,e){return{\u0275kind:t,\u0275providers:e}}const gv=new B("",{providedIn:"root",factory:()=>!1});function tM(){const t=de(cr);return e=>{const n=t.get(Cd);if(e!==n.components[0])return;const r=t.get(en),i=t.get(nM);1===t.get(mv)&&r.initialNavigation(),t.get(rM,null,z.Optional)?.setUpPreloading(),t.get(pv,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const nM=new B(qo?"bootstrap done indicator":"",{factory:()=>new Nr}),mv=new B(qo?"initial navigation":"",{providedIn:"root",factory:()=>1});function g6(){let t=[];return t=qo?[{provide:Kl,multi:!0,useFactory:()=>{const e=de(en);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function j5(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Ti(1,t)}const rM=new B(qo?"router preloader":"");function m6(t){return Ti(0,[{provide:rM,useExisting:l6},{provide:Z1,useExisting:t}])}const Ju=!1,iM=new B(Ju?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),y6=[Wm,{provide:Uu,useClass:Hy},en,qu,{provide:$o,useFactory:function eM(t){return t.routerState.root},deps:[en]},hv,Ju?{provide:gv,useValue:!0}:[]];function v6(){return new MT("Router",en)}let sM=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[y6,Ju&&r?.enableTracing?g6().\u0275providers:[],{provide:zo,multi:!0,useValue:n},{provide:iM,useFactory:C6,deps:[[en,new Za,new Ja]]},{provide:Ch,useValue:r||{}},r?.useHash?{provide:ds,useClass:_3}:{provide:ds,useClass:JT},{provide:pv,useFactory:()=>{const t=de(yx),e=de(Ze),n=de(Ch),r=de(Dh),i=de(Uu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new J1(i,r,t,e,n)}},r?.preloadingStrategy?m6(r.preloadingStrategy).\u0275providers:[],{provide:MT,multi:!0,useFactory:v6},r?.initialNavigation?E6(r):[],[{provide:oM,useFactory:tM},{provide:AT,multi:!0,useExisting:oM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:zo,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(q(iM,8))},t.\u0275mod=sr({type:t}),t.\u0275inj=Bn({imports:[sv]}),t})();function C6(t){if(Ju&&t)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function E6(t){return["disabled"===t.initialNavigation?Ti(3,[{provide:_d,multi:!0,useFactory:()=>{const e=de(en);return()=>{e.setUpLocationChangeListener()}}},{provide:mv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ti(2,[{provide:mv,useValue:0},{provide:_d,multi:!0,deps:[cr],useFactory:e=>{const n=e.get(y3,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(en),s=e.get(nM);(function d6(t,e){t.events.pipe(Yr(n=>n instanceof Si||n instanceof lh||n instanceof Yy||n instanceof dh),le(n=>n instanceof Si||n instanceof dh?bn.COMPLETE:n instanceof lh&&(0===n.code||1===n.code)?bn.REDIRECTING:bn.FAILED),Yr(n=>n!==bn.REDIRECTING),Di(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Dh).afterPreactivation=()=>(r(!0),s.closed?$(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const oM=new B(Ju?"Router Initializer":"");let S6=(()=>{var t;class e{constructor(){this.isMobile=function(){let t=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t;var e}(),this.menu=!this.isMobile}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Un({type:t,selectors:[["app-home"]],decls:0,vars:0,template:function(r,i){},styles:[".a[_ngcontent-%COMP%]{height:70px;background-color:#6495ed}.a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:35px;font-weight:700;margin:10px;color:#fff}"]}),e})(),T6=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Un({type:t,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(fi(0,"div",0),M(1,"div",1)(2,"div",2),fi(3,"img",3),M(4,"span",4)(5,"i",5),Q(6,"edit"),F()(),M(7,"div",6)(8,"div",7),Q(9,"V.V.S.K Chaitanya"),F(),M(10,"div",8),Q(11,"Software Engineer"),F()()()(),M(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),Q(16,"menu_book"),F(),M(17,"span"),Q(18,"Courses"),F()(),M(19,"div",12)(20,"i",5),Q(21,"assignment"),F(),M(22,"span"),Q(23,"Assessments"),F()(),M(24,"div",13)(25,"i",5),Q(26,"notifications"),F(),M(27,"span"),Q(28,"Notifications"),F()(),M(29,"div",14)(30,"i",5),Q(31,"person"),F(),M(32,"span"),Q(33,"Update Profile"),F()(),M(34,"div",15)(35,"i",5),Q(36,"logout"),F(),M(37,"span"),Q(38,"Logout"),F()()()())},dependencies:[Zu],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})(),x6=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Un({type:t,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&fi(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})();function aM(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function S(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){aM(s,r,i,o,a,"next",u)}function a(u){aM(s,r,i,o,a,"throw",u)}o(void 0)})}}const uM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},cM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new R6;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Eh=function(t){return function(t){const e=uM(t);return cM.encodeByteArray(e,!0)}(t).replace(/\./g,"")},bh=()=>{try{return function k6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return cM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},dM=()=>{var t;return null===(t=bh())||void 0===t?void 0:t.config};class hM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function fM(){try{return"object"==typeof indexedDB}catch{return!1}}function pM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sh.prototype.create)}}class Sh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function q6(t,e){return t.replace(W6,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new xi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const W6=/\{\$([^}]+)}/g;function xh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mM(s)&&mM(o)){if(!xh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mM(t){return null!==t&&"object"==typeof t}const Y6=1e3,X6=2,Z6=144e5,J6=.5;function yM(t,e=Y6,n=X6){const r=e*Math.pow(n,t),i=Math.round(J6*r*(Math.random()-.5)*2);return Math.min(Z6,r+i)}function Ai(t){return t&&t._delegate?t._delegate:t}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ys="[DEFAULT]";class tq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function rq(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return S(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ys?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class iq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Dv=[];var ye=(()=>{return(t=ye||(ye={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ye;var t})();const vM={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},sq=ye.INFO,oq={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},aq=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=oq[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Cv{constructor(e){this.name=e,this._logLevel=sq,this._logHandler=aq,this._userLogHandler=null,Dv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?vM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const uq=(t,e)=>e.some(n=>t instanceof n);let _M,wM;const DM=new WeakMap,Ev=new WeakMap,CM=new WeakMap,bv=new WeakMap,Iv=new WeakMap;let Sv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ev.get(t);if("objectStoreNames"===e)return t.objectStoreNames||CM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gq(t){return"function"==typeof t?function pq(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lq(){return wM||(wM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Tv(this),e),Mi(DM.get(this))}:function(...e){return Mi(t.apply(Tv(this),e))}:function(e,...n){const r=t.call(Tv(this),e,...n);return CM.set(r,e.sort?e.sort():[e]),Mi(r)}}(t):(t instanceof IDBTransaction&&function hq(t){if(Ev.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ev.set(t,e)}(t),uq(t,function cq(){return _M||(_M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Sv):t)}function Mi(t){if(t instanceof IDBRequest)return function dq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DM.set(n,t)}).catch(()=>{}),Iv.set(e,t),e}(t);if(bv.has(t))return bv.get(t);const e=gq(t);return e!==t&&(bv.set(t,e),Iv.set(e,t)),e}const Tv=t=>Iv.get(t),yq=["get","getKey","getAll","getAllKeys","count"],vq=["put","add","delete","clear"],xv=new Map;function EM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(xv.get(e))return xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yq.includes(n))return;const s=function(){var o=S(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return xv.set(e,s),s}!function fq(t){Sv=t(Sv)}(t=>({...t,get:(e,n,r)=>EM(e,n)||t.get(e,n,r),has:(e,n)=>!!EM(e,n)||t.has(e,n)}));class _q{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function wq(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Av="@firebase/app",vs=new Cv("@firebase/app"),Ah="[DEFAULT]",qq={[Av]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_s=new Map,Mh=new Map;function Wq(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ni(t){const e=t.name;if(Mh.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Mh.set(e,t);for(const n of _s.values())Wq(n,t);return!0}function Wo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Jr=new Sh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}function IM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ah,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=dM()),!n)throw Jr.create("no-options");const s=_s.get(i);if(s){if(xh(n,s.options)&&xh(r,s.config))return s;throw Jr.create("duplicate-app",{appName:i})}const o=new iq(i);for(const u of Mh.values())o.addComponent(u);const a=new Qq(n,r,o);return _s.set(i,a),a}function SM(t=Ah){const e=_s.get(t);if(!e&&t===Ah&&dM())return IM();if(!e)throw Jr.create("no-app",{appName:t});return e}function wr(t,e,n){var r;let i=null!==(r=qq[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void vs.warn(a.join(" "))}Ni(new Zr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Xq="firebase-heartbeat-database",Zq=1,ec="firebase-heartbeat-store";let Nv=null;function TM(){return Nv||(Nv=function mq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mi(o.result),u.oldVersion,u.newVersion,Mi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Xq,Zq,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ec)}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),Nv}function Rv(){return(Rv=S(function*(t){try{return yield(yield TM()).transaction(ec).objectStore(ec).get(AM(t))}catch(e){if(e instanceof xi)vs.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});vs.warn(n.message)}}})).apply(this,arguments)}function xM(t,e){return Ov.apply(this,arguments)}function Ov(){return(Ov=S(function*(t,e){try{const r=(yield TM()).transaction(ec,"readwrite");yield r.objectStore(ec).put(e,AM(t)),yield r.done}catch(n){if(n instanceof xi)vs.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n?.message});vs.warn(r.message)}}})).apply(this,arguments)}function AM(t){return`${t.name}!${t.options.appId}`}class n8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return S(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=MM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return S(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=MM(),{heartbeatsToSend:r,unsentEntries:i}=function r8(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Eh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function MM(){return(new Date).toISOString().substring(0,10)}class i8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(function*(){return!!fM()&&pM().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return S(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Jq(t){return Rv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return S(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return S(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function NM(t){return Eh(JSON.stringify({version:2,heartbeats:t})).length}!function s8(t){Ni(new Zr("platform-logger",e=>new _q(e),"PRIVATE")),Ni(new Zr("heartbeat",e=>new n8(e),"PRIVATE")),wr(Av,"0.9.13",t),wr(Av,"0.9.13","esm2017"),wr("fire-js","")}("");var N,o8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={},Pv=Pv||{},Z=o8||self;function Nh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function tc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var kv="closure_uid_"+(1e9*Math.random()>>>0),u8=0;function c8(t,e,n){return t.call.apply(t.bind,arguments)}function l8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return(Ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c8:l8).apply(null,arguments)}function Rh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ri(){this.s=this.s,this.o=this.o}Ri.prototype.s=!1,Ri.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function a8(t){Object.prototype.hasOwnProperty.call(t,kv)&&t[kv]||(t[kv]=++u8)}(this)},Ri.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const RM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function OM(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Nh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var h8=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",()=>{},e),Z.removeEventListener("test",()=>{},e)}catch{}return t}();function nc(t){return/^[\s\xa0]*$/.test(t)}function Oh(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function Dr(t){return-1!=Oh().indexOf(t)}function Lv(t){return Lv[" "](t),t}Lv[" "]=function(){};var Bv,t,p8=Dr("Opera"),Ko=Dr("Trident")||Dr("MSIE"),PM=Dr("Edge"),Vv=PM||Ko,kM=Dr("Gecko")&&!(-1!=Oh().toLowerCase().indexOf("webkit")&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),g8=-1!=Oh().toLowerCase().indexOf("webkit")&&!Dr("Edge");function FM(){var t=Z.document;return t?t.documentMode:void 0}e:{var Uv="",jv=(t=Oh(),kM?/rv:([^\);]+)(\)|;)/.exec(t):PM?/Edge\/([\d\.]+)/.exec(t):Ko?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):g8?/WebKit\/(\S+)/.exec(t):p8?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(jv&&(Uv=jv?jv[1]:""),Ko){var $v=FM();if(null!=$v&&$v>parseFloat(Uv)){Bv=String($v);break e}}Bv=Uv}var m8=Z.document&&Ko&&(FM()||parseInt(Bv,10))||void 0;function rc(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kM){e:{try{Lv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:y8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rc.$.h.call(this)}}Dt(rc,Gt);var y8={2:"touch",3:"pen",4:"mouse"};rc.prototype.h=function(){rc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ic="closure_listenable_"+(1e6*Math.random()|0),v8=0;function _8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++v8,this.fa=this.ia=!1}function Ph(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Gv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function VM(t){const e={};for(const n in t)e[n]=t[n];return e}const BM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UM(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<BM.length;s++)n=BM[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kh(t){this.src=t,this.g={},this.h=0}function zv(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=RM(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ph(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function qv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}kh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=qv(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new _8(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Wv="closure_lm_"+(1e6*Math.random()|0),Kv={};function jM(t,e,n,r,i){if(r&&r.once)return HM(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)jM(t,e[s],n,r,i);return null}return n=Zv(n),t&&t[ic]?t.O(e,n,tc(r)?!!r.capture:!!r,i):$M(t,e,n,!1,r,i)}function $M(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=tc(i)?!!i.capture:!!i,a=Yv(t);if(a||(t[Wv]=a=new kh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function D8(){const e=C8;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)h8||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zM(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function HM(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)HM(t,e[s],n,r,i);return null}return n=Zv(n),t&&t[ic]?t.P(e,n,tc(r)?!!r.capture:!!r,i):$M(t,e,n,!0,r,i)}function GM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)GM(t,e[s],n,r,i);else r=tc(r)?!!r.capture:!!r,n=Zv(n),t&&t[ic]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=qv(s=t.g[e],n,r,i))&&(Ph(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Yv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qv(e,n,r,i)),(n=-1<t?e[t]:null)&&Qv(n))}function Qv(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ic])zv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Yv(e))?(zv(n,t),0==n.h&&(n.src=null,e[Wv]=null)):Ph(t)}}}function zM(t){return t in Kv?Kv[t]:Kv[t]="on"+t}function C8(t,e){if(t.fa)t=!0;else{e=new rc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Qv(t),t=n.call(r,e)}return t}function Yv(t){return(t=t[Wv])instanceof kh?t:null}var Xv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zv(t){return"function"==typeof t?t:(t[Xv]||(t[Xv]=function(e){return t.handleEvent(e)}),t[Xv])}function Ct(){Ri.call(this),this.i=new kh(this),this.S=this,this.J=null}function Nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;UM(e=new Gt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Fh(o,r,!0,e)&&i}if(i=Fh(o=e.g=t,r,!0,e)&&i,i=Fh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Fh(o=e.g=n[s],r,!1,e)&&i}function Fh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&zv(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Dt(Ct,Ri),Ct.prototype[ic]=!0,Ct.prototype.removeEventListener=function(t,e,n,r){GM(this,t,e,n,r)},Ct.prototype.N=function(){if(Ct.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ph(n[r]);delete t.g[e],t.h--}}this.J=null},Ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ct.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Jv=Z.JSON.stringify;function b8(){var t=e_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var qM=new class E8{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new S8,t=>t.reset());class S8{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function T8(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function x8(t){Z.setTimeout(()=>{throw t},0)}let sc,oc=!1,e_=new class I8{constructor(){this.h=this.g=null}add(e,n){const r=qM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},WM=()=>{const t=Z.Promise.resolve(void 0);sc=()=>{t.then(A8)}};var A8=()=>{for(var t;t=b8();){try{t.h.call(t.g)}catch(n){x8(n)}var e=qM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}oc=!1};function Lh(t,e){Ct.call(this),this.h=t||1,this.g=e||Z,this.j=Ht(this.qb,this),this.l=Date.now()}function t_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function n_(t,e,n){if("function"==typeof t)n&&(t=Ht(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ht(t.handleEvent,t)}return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function KM(t){t.g=n_(()=>{t.g=null,t.i&&(t.i=!1,KM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Dt(Lh,Ct),(N=Lh.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(t_(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Lh.$.N.call(this),t_(this),delete this.g};class M8 extends Ri{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KM(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ac(t){Ri.call(this),this.h=t,this.g={}}Dt(ac,Ri);var QM=[];function YM(t,e,n,r){Array.isArray(n)||(n&&(QM[0]=n.toString()),n=QM);for(var i=0;i<n.length;i++){var s=jM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function XM(t){Gv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qv(e)},t),t.g={}}function Vh(){this.g=!0}function Qo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function P8(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Jv(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ac.prototype.N=function(){ac.$.N.call(this),XM(this)},ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vh.prototype.Ea=function(){this.g=!1},Vh.prototype.info=function(){};var ws={},ZM=null;function Bh(){return ZM=ZM||new Ct}function JM(t){Gt.call(this,ws.Ta,t)}function uc(t){const e=Bh();Nt(e,new JM(e))}function eN(t,e){Gt.call(this,ws.STAT_EVENT,t),this.stat=e}function tn(t){const e=Bh();Nt(e,new eN(e,t))}function tN(t,e){Gt.call(this,ws.Ua,t),this.size=e}function cc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}ws.Ta="serverreachability",Dt(JM,Gt),ws.STAT_EVENT="statevent",Dt(eN,Gt),ws.Ua="timingevent",Dt(tN,Gt);var Uh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function r_(){}function iN(){}r_.prototype.h=null;var o_,lc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function i_(){Gt.call(this,"d")}function s_(){Gt.call(this,"c")}function jh(){}function dc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ac(this),this.P=k8,this.V=new Lh(t=Vv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sN}function sN(){this.i=null,this.g="",this.h=!1}Dt(i_,Gt),Dt(s_,Gt),Dt(jh,r_),jh.prototype.g=function(){return new XMLHttpRequest},jh.prototype.i=function(){return{}},o_=new jh;var k8=45e3,a_={},$h={};function u_(t,e,n){t.L=1,t.v=qh(ei(e)),t.s=n,t.S=!0,oN(t,null)}function oN(t,e){t.G=Date.now(),hc(t),t.A=ei(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),mN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new sN,t.g=UN(t.l,n?e:null,!t.s),0<t.O&&(t.M=new M8(Ht(t.Pa,t,t.g),t.O)),YM(t.U,t.g,"readystatechange",t.nb),e=t.I?VM(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),uc(),function N8(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function aN(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function uN(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=F8(t,n),i==$h){4==e&&(t.o=4,tn(14),r=!1),Qo(t.j,t.m,null,"[Incomplete Response]");break}if(i==a_){t.o=4,tn(15),Qo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Qo(t.j,t.m,i,null),c_(t,i)}aN(t)&&i!=$h&&i!=a_&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),m_(e),e.M=!0,tn(11))):(Qo(t.j,t.m,n,"[Invalid Chunked Response]"),Ds(t),fc(t))}function F8(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?$h:(n=Number(e.substring(n,r)),isNaN(n)?a_:(r+=1)+n>e.length?$h:(e=e.slice(r,r+n),t.C=r+n,e))}function hc(t){t.Y=Date.now()+t.P,cN(t,t.P)}function cN(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=cc(Ht(t.lb,t),e)}function Hh(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}function fc(t){0==t.l.H||t.J||FN(t.l,t)}function Ds(t){Hh(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,t_(t.V),XM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function c_(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||l_(n.i,t)))if(!t.K&&l_(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Zh(n),Yh(n)}g_(n),tn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=cc(Ht(n.ib,n),6e3));if(1>=_N(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Es(n,11)}else if((t.K||n.g==t)&&Zh(n),!nc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(d_(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Fe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=BN(r,r.J?r.pa:null,r.Y),o.K){wN(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Hh(a),hc(a)),r.g=o}else PN(r);0<n.j.length&&Xh(n)}else"stop"!=c[0]&&"close"!=c[0]||Es(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Es(n,7):p_(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}uc()}catch{}}function lN(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Nh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function V8(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Nh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function L8(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Nh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=dc.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Cr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Cr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Vv||this.g&&(this.h.h||this.g.ja()||xN(this.g)))){this.J||4!=l||7==e||uc(),Hh(this);var n=this.g.da();this.ca=n;t:if(aN(this)){var r=xN(this.g);t="";var i=r.length,s=4==Cr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ds(this),fc(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function R8(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,tn(12),Ds(this),fc(this);break e}Qo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,c_(this,n)}this.S?(uN(this,l,o),Vv&&this.i&&3==l&&(YM(this.U,this.V,"tick",this.mb),this.V.start())):(Qo(this.j,this.m,o,null),c_(this,o)),4==l&&Ds(this),this.i&&!this.J&&(4==l?FN(this.l,this):(this.i=!1,hc(this)))}else(function n7(t){const e={};t=(t.g&&2<=Cr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(nc(t[r]))continue;var n=T8(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function w8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),Ds(this),fc(this)}}}catch{}},N.mb=function(){if(this.g){var t=Cr(this.g),e=this.g.ja();this.C<e.length&&(Hh(this),uN(this,t,e),this.i&&4!=t&&hc(this))}},N.cancel=function(){this.J=!0,Ds(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function O8(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(uc(),tn(17)),Ds(this),this.o=2,fc(this)):cN(this,this.Y-t)};var dN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Cs){this.h=t.h,Gh(this,t.j),this.s=t.s,this.g=t.g,zh(this,t.m),this.l=t.l;var e=t.i,n=new mc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hN(this,n),this.o=t.o}else t&&(e=String(t).match(dN))?(this.h=!1,Gh(this,e[1]||"",!0),this.s=pc(e[2]||""),this.g=pc(e[3]||"",!0),zh(this,e[4]),this.l=pc(e[5]||"",!0),hN(this,e[6]||"",!0),this.o=pc(e[7]||"")):(this.h=!1,this.i=new mc(null,this.h))}function ei(t){return new Cs(t)}function Gh(t,e,n){t.j=n?pc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hN(t,e,n){e instanceof mc?(t.i=e,function z8(t,e){e&&!t.j&&(Oi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pN(this,r),mN(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=gc(e,H8)),t.i=new mc(e,t.h))}function Fe(t,e,n){t.i.set(e,n)}function qh(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,U8),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function U8(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gc(e,fN,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(gc(e,fN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(gc(n,"/"==n.charAt(0)?$8:j8,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gc(n,G8)),t.join("")};var fN=/[#\/\?@]/g,j8=/[#\?:]/g,$8=/[#\?]/g,H8=/[#\?@]/g,G8=/#/g;function mc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Oi(t){t.g||(t.g=new Map,t.h=0,t.i&&function B8(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pN(t,e){Oi(t),e=Yo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gN(t,e){return Oi(t),e=Yo(t,e),t.g.has(e)}function mN(t,e,n){pN(t,e),0<n.length&&(t.i=null,t.g.set(Yo(t,e),Fv(n)),t.h+=n.length)}function Yo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yN(t){this.l=t||W8,t=Z.PerformanceNavigationTiming?0<(t=Z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=mc.prototype).add=function(t,e){Oi(this),this.i=null,t=Yo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Oi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){Oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){Oi(this);let e=[];if("string"==typeof t)gN(this,t)&&(e=e.concat(this.g.get(Yo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return Oi(this),this.i=null,gN(this,t=Yo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var W8=10;function vN(t){return!!t.h||!!t.g&&t.g.size>=t.j}function _N(t){return t.h?1:t.g?t.g.size:0}function l_(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function d_(t,e){t.g?t.g.add(e):t.h=e}function wN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function DN(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Fv(t.i)}yN.prototype.cancel=function(){if(this.i=DN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var K8=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function Q8(){this.g=new K8}function Y8(t,e,n){const r=n||"";try{lN(t,function(i,s){let o=i;tc(i)&&(o=Jv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Wh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function yc(t){this.l=t.fc||null,this.j=t.ob||!1}function Kh(t,e){Ct.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=h_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(yc,r_),yc.prototype.g=function(){return new Kh(this.l,this.j)},yc.prototype.i=function(t){return function(){return t}}({}),Dt(Kh,Ct);var h_=0;function CN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function vc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_c(t)}function _c(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Kh.prototype).open=function(t,e){if(this.readyState!=h_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_c(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vc(this)),this.readyState=h_},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_c(this)),this.g&&(this.readyState=3,_c(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?vc(this):_c(this),3==this.readyState&&CN(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,vc(this))},N.Ya=function(t){this.g&&(this.response=t,vc(this))},N.ka=function(){this.g&&vc(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Kh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Z8=Z.JSON.parse;function Ke(t){Ct.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=EN,this.L=this.M=!1}Dt(Ke,Ct);var EN="",J8=/^https?$/i,e7=["POST","PUT"];function bN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,IN(t),Qh(t)}function IN(t){t.F||(t.F=!0,Nt(t,"complete"),Nt(t,"error"))}function SN(t){if(t.h&&typeof Pv<"u"&&(!t.C[1]||4!=Cr(t)||2!=t.da()))if(t.v&&4==Cr(t))n_(t.La,0,t);else if(Nt(t,"readystatechange"),4==Cr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(dN)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!J8.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var s=2<Cr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",IN(t)}}finally{Qh(t)}}}function Qh(t,e){if(t.g){TN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function TN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function Cr(t){return t.g?t.g.readyState:0}function xN(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case EN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function AN(t){let e="";return Gv(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function f_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=AN(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function wc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function MN(t){this.Ga=0,this.j=[],this.l=new Vh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wc("baseRetryDelayMs",5e3,t),this.hb=wc("retryDelaySeedMs",1e4,t),this.eb=wc("forwardChannelMaxRetries",2,t),this.xa=wc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yN(t&&t.concurrentRequestLimit),this.Ja=new Q8,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function p_(t){if(NN(t),3==t.H){var e=t.W++,n=ei(t.I);if(Fe(n,"SID",t.K),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Dc(t,n),(e=new dc(t,t.l,e)).L=2,e.v=qh(ei(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Z.Image&&((new Image).src=e.v,n=!0),n||(e.g=UN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),hc(e)}VN(t)}function Yh(t){t.g&&(m_(t),t.g.cancel(),t.g=null)}function NN(t){Yh(t),t.u&&(Z.clearTimeout(t.u),t.u=null),Zh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Z.clearTimeout(t.m),t.m=null)}function Xh(t){if(!vN(t.i)&&!t.m){t.m=!0;var e=t.Na;sc||WM(),oc||(sc(),oc=!0),e_.add(e,t),t.C=0}}function RN(t,e){var n;n=e?e.m:t.W++;const r=ei(t.I);Fe(r,"SID",t.K),Fe(r,"RID",n),Fe(r,"AID",t.V),Dc(t,r),t.o&&t.s&&f_(r,t.o,t.s),n=new dc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ON(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),d_(t.i,n),u_(n,r,e)}function Dc(t,e){t.na&&Gv(t.na,function(n,r){Fe(e,r,n)}),t.h&&lN({},function(n,r){Fe(e,r,n)})}function ON(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Y8(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function PN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;sc||WM(),oc||(sc(),oc=!0),e_.add(e,t),t.A=0}}function g_(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=cc(Ht(t.Ma,t),LN(t,t.A)),t.A++,0))}function m_(t){null!=t.B&&(Z.clearTimeout(t.B),t.B=null)}function kN(t){t.g=new dc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ei(t.wa);Fe(e,"RID","rpc"),Fe(e,"SID",t.K),Fe(e,"AID",t.V),Fe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Fe(e,"TO",t.qa),Fe(e,"TYPE","xmlhttp"),Dc(t,e),t.o&&t.s&&f_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=qh(ei(e)),n.s=null,n.S=!0,oN(n,t)}function Zh(t){null!=t.v&&(Z.clearTimeout(t.v),t.v=null)}function FN(t,e){var n=null;if(t.g==e){Zh(t),m_(t),t.g=null;var r=2}else{if(!l_(t.i,e))return;n=e.F,wN(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Nt(r=Bh(),new tN(r,n)),Xh(t)}else PN(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function r7(t,e){return!(_N(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=cc(Ht(t.Na,t,e),LN(t,t.C)),t.C++,0)))}(t,e)||2==r&&g_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Es(t,5);break;case 4:Es(t,10);break;case 3:Es(t,6);break;default:Es(t,2)}}function LN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Es(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new Cs("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Gh(n,"https"),qh(n)),function X8(t,e){const n=new Vh;if(Z.Image){const r=new Image;r.onload=Rh(Wh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Rh(Wh,n,r,"TestLoadImage: error",!1,e),r.onabort=Rh(Wh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rh(Wh,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else tn(2);t.H=0,t.h&&t.h.za(e),VN(t),NN(t)}function VN(t){if(t.H=0,t.ma=[],t.h){const e=DN(t.i);(0!=e.length||0!=t.j.length)&&(OM(t.ma,e),OM(t.ma,t.j),t.i.i.length=0,Fv(t.j),t.j.length=0),t.h.ya()}}function BN(t,e,n){var r=n instanceof Cs?ei(n):new Cs(n);if(""!=r.g)e&&(r.g=e+"."+r.g),zh(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Cs(null);r&&Gh(s,r),e&&(s.g=e),i&&zh(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Fe(r,n,e),Fe(r,"VER",t.ra),Dc(t,r),r}function UN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ke(n&&t.Ha&&!t.va?new yc({ob:!0}):t.va)).Oa(t.J),e}function jN(){}function Jh(){if(Ko&&!(10<=Number(m8)))throw Error("Environmental error: no available transport.")}function In(t,e){Ct.call(this),this.g=new MN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!nc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nc(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Xo(this)}function $N(t){i_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function HN(){s_.call(this),this.status=1}function Xo(t){this.g=t}function Jn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function y_(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=Ke.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():o_.g(),this.C=function rN(t){return t.h||(t.h=t.i())}(this.u?this.u:o_),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void bN(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Z.FormData&&t instanceof Z.FormData,!(0<=RM(e7,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TN(this),0<this.B&&((this.L=function t7(t){return Ko&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=n_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){bN(this,s)}},N.ua=function(){typeof Pv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),Qh(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qh(this,!0)),Ke.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?SN(this):this.kb())},N.kb=function(){SN(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Z8(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=MN.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new dc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=VM(s),UM(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ON(this,i,e),Fe(n=ei(this.I),"RID",t),Fe(n,"CVER",22),this.F&&Fe(n,"X-HTTP-Session-Id",this.F),Dc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(AN(s)))+"&"+e:this.o&&f_(n,this.o,s)),d_(this.i,i),this.bb&&Fe(n,"TYPE","init"),this.P?(Fe(n,"$req",e),Fe(n,"SID","null"),i.aa=!0,u_(i,n,null)):u_(i,n,e),this.H=2}}else 3==this.H&&(t?RN(this,t):0==this.j.length||vN(this.i)||RN(this))},N.Ma=function(){if(this.u=null,kN(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=cc(Ht(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tn(10),Yh(this),kN(this))},N.ib=function(){null!=this.v&&(this.v=null,Yh(this),g_(this),tn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tn(2)):(this.l.info("Failed to ping google.com"),tn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=jN.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},Jh.prototype.g=function(t,e){return new In(t,e)},Dt(In,Ct),In.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=BN(t,null,t.Y),Xh(t)},In.prototype.close=function(){p_(this.g)},In.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Jv(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Xh(e)},In.prototype.N=function(){this.g.h=null,delete this.j,p_(this.g),delete this.g,In.$.N.call(this)},Dt($N,i_),Dt(HN,s_),Dt(Xo,jN),Xo.prototype.Ba=function(){Nt(this.g,"a")},Xo.prototype.Aa=function(t){Nt(this.g,new $N(t))},Xo.prototype.za=function(t){Nt(this.g,new HN)},Xo.prototype.ya=function(){Nt(this.g,"b")},Dt(Jn,function i7(){this.blockSize=-1}),Jn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)y_(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){y_(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){y_(this,r),i=0;break}}this.h=i,this.i+=e},Jn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var s7={};function v_(t){return-128<=t&&128>t?function f8(t,e){var n=s7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new be([0|e],0>e?-1:0)}):new be([0|t],0>t?-1:0)}function Er(t){if(isNaN(t)||!isFinite(t))return Zo;if(0>t)return Rt(Er(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=__;return new be(e,0)}var __=4294967296,Zo=v_(0),w_=v_(1),zN=v_(16777216);function ti(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Vn(t){return-1==t.h}function Rt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(w_)}function ef(t,e){return t.add(Rt(e))}function tf(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Cc(t,e){this.g=t,this.h=e}function nf(t,e){if(ti(e))throw Error("division by zero");if(ti(t))return new Cc(Zo,Zo);if(Vn(t))return e=nf(Rt(t),e),new Cc(Rt(e.g),Rt(e.h));if(Vn(e))return e=nf(t,Rt(e)),new Cc(Rt(e.g),e.h);if(30<t.g.length){if(Vn(t)||Vn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=w_,r=e;0>=r.X(t);)n=qN(n),r=qN(r);var i=Jo(n,1),s=Jo(r,1);for(r=Jo(r,2),n=Jo(n,2);!ti(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Jo(r,1),n=Jo(n,1)}return e=ef(t,i.R(e)),new Cc(i,e)}for(i=Zo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Er(n)).R(e);Vn(o)||0<o.X(t);)o=(s=Er(n-=r)).R(e);ti(s)&&(s=w_),i=i.add(s),t=ef(t,o)}return new Cc(i,t)}function qN(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function Jo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new be(i,t.h)}(N=be.prototype).ea=function(){if(Vn(this))return-Rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:__+r)*e,e*=__}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ti(this))return"0";if(Vn(this))return"-"+Rt(this).toString(t);for(var e=Er(Math.pow(t,6)),n=this,r="";;){var i=nf(n,e).g,s=((0<(n=ef(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ti(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return Vn(t=ef(this,t))?-1:ti(t)?0:1},N.abs=function(){return Vn(this)?Rt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new be(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(ti(this)||ti(t))return Zo;if(Vn(this))return Vn(t)?Rt(this).R(Rt(t)):Rt(Rt(this).R(t));if(Vn(t))return Rt(this.R(Rt(t)));if(0>this.X(zN)&&0>t.X(zN))return Er(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,tf(n,2*r+2*i),n[2*r+2*i+1]+=s*u,tf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,tf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,tf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)},N.gb=function(t){return nf(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)},Jh.prototype.createWebChannel=Jh.prototype.g,In.prototype.send=In.prototype.u,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,Uh.NO_ERROR=0,Uh.TIMEOUT=8,Uh.HTTP_ERROR=6,nN.COMPLETE="complete",iN.EventType=lc,lc.OPEN="a",lc.CLOSE="b",lc.ERROR="c",lc.MESSAGE="d",Ct.prototype.listen=Ct.prototype.O,Ke.prototype.listenOnce=Ke.prototype.P,Ke.prototype.getLastError=Ke.prototype.Sa,Ke.prototype.getLastErrorCode=Ke.prototype.Ia,Ke.prototype.getStatus=Ke.prototype.da,Ke.prototype.getResponseJson=Ke.prototype.Wa,Ke.prototype.getResponseText=Ke.prototype.ja,Ke.prototype.send=Ke.prototype.ha,Ke.prototype.setWithCredentials=Ke.prototype.Oa,Jn.prototype.digest=Jn.prototype.l,Jn.prototype.reset=Jn.prototype.reset,Jn.prototype.update=Jn.prototype.j,be.prototype.add=be.prototype.add,be.prototype.multiply=be.prototype.R,be.prototype.modulo=be.prototype.gb,be.prototype.compare=be.prototype.X,be.prototype.toNumber=be.prototype.ea,be.prototype.toString=be.prototype.toString,be.prototype.getBits=be.prototype.D,be.fromNumber=Er,be.fromString=function GN(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Rt(GN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Er(Math.pow(e,8)),r=Zo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Er(Math.pow(e,s)),r=r.R(s).add(Er(o))):r=(r=r.R(n)).add(Er(o))}return r};var o7=Zn.createWebChannelTransport=function(){return new Jh},a7=Zn.getStatEventTarget=function(){return Bh()},D_=Zn.ErrorCode=Uh,u7=Zn.EventType=nN,c7=Zn.Event=ws,WN=Zn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},l7=Zn.FetchXmlHttpFactory=yc,rf=Zn.WebChannel=iN,d7=Zn.XhrIo=Ke,h7=Zn.Md5=Jn,ea=Zn.Integer=be;const KN="@firebase/firestore";class Et{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");let ta="9.23.0";const Pi=new Cv("@firebase/firestore");function C_(){return Pi.logLevel}function I(t,...e){if(Pi.logLevel<=ye.DEBUG){const n=e.map(E_);Pi.debug(`Firestore (${ta}): ${t}`,...n)}}function tt(t,...e){if(Pi.logLevel<=ye.ERROR){const n=e.map(E_);Pi.error(`Firestore (${ta}): ${t}`,...n)}}function er(t,...e){if(Pi.logLevel<=ye.WARN){const n=e.map(E_);Pi.warn(`Firestore (${ta}): ${t}`,...n)}}function E_(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+t;throw tt(e),new Error(e)}function L(t,e){t||k()}function A(t,e){return t}const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class E extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class QN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class p7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class g7{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new mt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(S(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new QN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new Et(e)}}class m7{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class y7{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new m7(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v7{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.T=n.token,new YN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class XN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function X(t,e){return t<e?-1:t>e?1:0}function na(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new ze(0,0))}static max(){return new V(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ec{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ec.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ec?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends Ec{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new E(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const w7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends Ec{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return w7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new E(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new E(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new E(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(ge.fromString(e))}static fromName(e){return new x(ge.fromString(e).popFirst(5))}static empty(){return new x(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new ge(e.slice()))}}function eR(t){return new Sn(t.readTime,t.key,-1)}class Sn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Sn(V.min(),x.empty(),-1)}static max(){return new Sn(V.max(),x.empty(),-1)}}function I_(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:X(t.largestBatchId,e.largestBatchId))}const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ki(t){return S_.apply(this,arguments)}function S_(){return S_=S(function*(t){if(t.code!==_.FAILED_PRECONDITION||t.message!==tR)throw t;I("LocalStore","Unexpectedly lost primary lease")}),S_.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,r)=>{n(e)})}static reject(e){return new y((n,r)=>{r(e)})}static waitFor(e){return new y((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=y.resolve(!1);for(const r of e)n=n.next(i=>i?y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new y((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new y((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Fi(t){return"IndexedDbTransactionError"===t.name}let Tn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Sc(t){return null==t}function Tc(t){return 0===t&&1/t==-1/0}function lR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Oe{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lf(this.root,e,this.comparator,!0)}}class lf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=s??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1,Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hR(this.data.getIterator())}getIteratorFrom(e){return new hR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class hR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fn{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new Le(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class fR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fR("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const q7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(L(!!t),"string"==typeof t){let e=0;const n=q7.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ni(t){return"string"==typeof t?yt.fromBase64String(t):yt.fromUint8Array(t)}function df(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hf(t){const e=t.mapValue.fields.__previous_value__;return df(e)?hf(e):e}function xc(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}class W7{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ss{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ss("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ss&&e.projectId===this.projectId&&e.database===this.database}}const Bi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?df(t)?4:yR(t)?9007199254740991:10:k()}function Ir(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xc(t).isEqual(xc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Vi(r.timestampValue),o=Vi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ni(t.bytesValue).isEqual(ni(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Qe(r.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(r.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Qe(r.integerValue)===Qe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Qe(r.doubleValue),o=Qe(i.doubleValue);return s===o?Tc(s)===Tc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return na(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(lR(s)!==lR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ir(s[a],o[a])))return!1;return!0}(t,e);default:return k()}var i}function Ac(t,e){return void 0!==(t.values||[]).find(n=>Ir(n,e))}function ji(t,e){if(t===e)return 0;const n=Ui(t),r=Ui(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Qe(i.integerValue||i.doubleValue),a=Qe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return pR(t.timestampValue,e.timestampValue);case 4:return pR(xc(t),xc(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ni(i),a=ni(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=X(o[u],a[u]);if(0!==c)return c}return X(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=X(Qe(i.latitude),Qe(s.latitude));return 0!==o?o:X(Qe(i.longitude),Qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ji(o[u],a[u]);if(c)return c}return X(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Bi.mapValue&&s===Bi.mapValue)return 0;if(i===Bi.mapValue)return 1;if(s===Bi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=X(a[l],c[l]);if(0!==d)return d;const h=ji(o[a[l]],u[c[l]]);if(0!==h)return h}return X(a.length,c.length)}(t.mapValue,e.mapValue);default:throw k()}}function pR(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);const n=Vi(t),r=Vi(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function ia(t){return A_(t)}function A_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Vi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ni(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=A_(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${A_(r.fields[a])}`;return s+"}"}(t.mapValue):k();var e}function Ts(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M_(t){return!!t&&"integerValue"in t}function Mc(t){return!!t&&"arrayValue"in t}function gR(t){return!!t&&"nullValue"in t}function mR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gf(t){return!!t&&"mapValue"in t}function Nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yR(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Nc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());gf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Li(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pt(Nc(this.value))}}function wR(t){const e=[];return Li(t.fields,(n,r)=>{const i=new nt([n]);if(gf(r)){const s=wR(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}class Ve{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,V.min(),V.min(),V.min(),Pt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,V.min(),V.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,V.min(),V.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $i{constructor(e,n){this.position=e,this.inclusive=n}}function DR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):ji(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function CR(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}class sa{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ER{}class he extends ER{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new X7(e,n,r):"array-contains"===n?new eW(e,r):"in"===n?new AR(e,r):"not-in"===n?new tW(e,r):"array-contains-any"===n?new nW(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Z7(e,r):new J7(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ji(n,this.value)):null!==n&&Ui(this.value)===Ui(n)&&this.matchesComparison(ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ie extends ER{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ie(e,n)}matches(e){return oa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function oa(t){return"and"===t.op}function R_(t){return function bR(t){for(const e of t.filters)if(e instanceof Ie)return!1;return!0}(t)&&oa(t)}function O_(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+ia(t.value);if(R_(t))return t.filters.map(e=>O_(e)).join(",");{const e=t.filters.map(n=>O_(n)).join(",");return`${t.op}(${e})`}}function IR(t,e){return t instanceof he?(n=t,(r=e)instanceof he&&n.op===r.op&&n.field.isEqual(r.field)&&Ir(n.value,r.value)):t instanceof Ie?function(n,r){return r instanceof Ie&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&IR(s,r.filters[o]),!0)}(t,e):void k();var n,r}function TR(t){return t instanceof he?`${(e=t).field.canonicalString()} ${e.op} ${ia(e.value)}`:t instanceof Ie?function(e){return e.op.toString()+" {"+e.getFilters().map(TR).join(" ,")+"}"}(t):"Filter";var e}class X7 extends he{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class Z7 extends he{constructor(e,n){super(e,"in",n),this.keys=xR(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class J7 extends he{constructor(e,n){super(e,"not-in",n),this.keys=xR(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xR(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class eW extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mc(n)&&Ac(n.arrayValue,this.value)}}class AR extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ac(this.value.arrayValue,n)}}class tW extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ac(this.value.arrayValue,n)}}class nW extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}}class rW{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function P_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new rW(t,e,n,r,i,s,o)}function xs(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>O_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Sc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ia(r)).join(",")),e.dt=n}return e.dt}function Rc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CR(t.startAt,e.startAt)&&CR(t.endAt,e.endAt)}function mf(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ri{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function aa(t){return new ri(t)}function OR(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function k_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function F_(t){return null!==t.collectionGroup}function As(t){const e=A(t);if(null===e.wt){e.wt=[];const n=vf(e),r=k_(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new sa(n)),e.wt.push(new sa(nt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new sa(nt.keyField(),s))}}}return e.wt}function nn(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=P_(e.path,e.collectionGroup,As(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of As(e))n.push(new sa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new $i(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $i(e.startAt.position,e.startAt.inclusive):null;e._t=P_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function L_(t,e){e.getFirstInequalityField(),vf(t);const n=t.filters.concat([e]);return new ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _f(t,e,n){return new ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oc(t,e){return Rc(nn(t),nn(e))&&t.limitType===e.limitType}function PR(t){return`${xs(nn(t))}|lt:${t.limitType}`}function V_(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>TR(r)).join(", ")}]`),Sc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ia(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ia(r)).join(",")),`Target(${n})`}(nn(t))}; limitType=${t.limitType})`}function Pc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of As(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=DR(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,As(n),r)||n.endAt&&!function(i,s,o){const a=DR(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,As(n),r)));var n,r}function FR(t){return(e,n)=>{let r=!1;for(const i of As(t)){const s=iW(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function iW(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ji(a,u):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}class ii{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dR(this.inner)}size(){return this.innerSize}}const sW=new Oe(x.comparator);function pn(){return sW}const LR=new Oe(x.comparator);function kc(...t){let e=LR;for(const n of t)e=e.insert(n.key,n);return e}function VR(t){let e=LR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Sr(){return Fc()}function BR(){return Fc()}function Fc(){return new ii(t=>t.toString(),(t,e)=>t.isEqual(e))}const oW=new Oe(x.comparator),aW=new Le(x.comparator);function re(...t){let e=aW;for(const n of t)e=e.add(n);return e}const uW=new Le(X);function UR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function jR(t){return{integerValue:""+t}}function $R(t,e){return function rR(t){return"number"==typeof t&&Number.isInteger(t)&&!Tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?jR(e):UR(t,e)}class wf{constructor(){this._=void 0}}function cW(t,e,n){return t instanceof ua?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&df(i)&&(i=hf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ms?GR(t,e):t instanceof Ns?zR(t,e):function(r,i){const s=HR(r,i),o=qR(s)+qR(r.gt);return M_(s)&&M_(r.gt)?jR(o):UR(r.serializer,o)}(t,e)}function lW(t,e,n){return t instanceof Ms?GR(t,e):t instanceof Ns?zR(t,e):n}function HR(t,e){return t instanceof ca?M_(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ua extends wf{}class Ms extends wf{constructor(e){super(),this.elements=e}}function GR(t,e){const n=WR(e);for(const r of t.elements)n.some(i=>Ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ns extends wf{constructor(e){super(),this.elements=e}}function zR(t,e){let n=WR(e);for(const r of t.elements)n=n.filter(i=>!Ir(i,r));return{arrayValue:{values:n}}}class ca extends wf{constructor(e,n){super(),this.serializer=e,this.gt=n}}function qR(t){return Qe(t.integerValue||t.doubleValue)}function WR(t){return Mc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class hW{constructor(e,n){this.version=e,this.transformResults=n}}class $e{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Cf{}function KR(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new da(t.key,$e.none()):new la(t.key,t.data,$e.none());{const n=t.data,r=Pt.empty();let i=new Le(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new si(t.key,r,new fn(i.toArray()),$e.none())}}function fW(t,e,n){t instanceof la?function(r,i,s){const o=r.value.clone(),a=XR(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof si?function(r,i,s){if(!Df(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=XR(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(YR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Vc(t,e,n,r){return t instanceof la?function(i,s,o,a){if(!Df(i.precondition,s))return o;const u=i.value.clone(),c=ZR(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof si?function(i,s,o,a){if(!Df(i.precondition,s))return o;const u=ZR(i.fieldTransforms,a,s),c=s.data;return c.setAll(YR(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Df(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function pW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=HR(r.transform,i||null);null!=s&&(null===n&&(n=Pt.empty()),n.set(r.field,s))}return n||null}function QR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&na(n,r,(i,s)=>function dW(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ms&&r instanceof Ms||n instanceof Ns&&r instanceof Ns?na(n.elements,r.elements,Ir):n instanceof ca&&r instanceof ca?Ir(n.gt,r.gt):n instanceof ua&&r instanceof ua);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class la extends Cf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class si extends Cf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XR(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lW(o,a,n[i]))}return r}function ZR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,cW(s,o,e))}return r}class da extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U_ extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class j_{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fW(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=KR(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(n,r)=>QR(n,r))&&na(this.baseMutations,e.baseMutations,(n,r)=>QR(n,r))}}class $_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){L(e.mutations.length===r.length);let i=oW;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new $_(e,n,r,i)}}class H_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mW{constructor(e,n){this.count=e,this.unchangedNames=n}}var lt,me;function eO(t){if(void 0===t)return tt("GRPC error has no .code"),_.UNKNOWN;switch(t){case lt.OK:return _.OK;case lt.CANCELLED:return _.CANCELLED;case lt.UNKNOWN:return _.UNKNOWN;case lt.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case lt.INTERNAL:return _.INTERNAL;case lt.UNAVAILABLE:return _.UNAVAILABLE;case lt.UNAUTHENTICATED:return _.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case lt.NOT_FOUND:return _.NOT_FOUND;case lt.ALREADY_EXISTS:return _.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return _.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case lt.ABORTED:return _.ABORTED;case lt.OUT_OF_RANGE:return _.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return _.UNIMPLEMENTED;case lt.DATA_LOSS:return _.DATA_LOSS;default:return k()}}(me=lt||(lt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class G_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ef}static getOrCreateInstance(){return null===Ef&&(Ef=new G_),Ef}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ef=null;const yW=new ea([4294967295,4294967295],0);function nO(t){const e=function tO(){return new TextEncoder}().encode(t),n=new h7;return n.update(e),new Uint8Array(n.digest())}function rO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ea([n,r],0),new ea([i,s],0)]}class z_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bc(`Invalid padding: ${n}`);if(r<0)throw new Bc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Bc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Bc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ea.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ea.fromNumber(r)));return 1===i.compare(yW)&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=nO(e),[r,i]=rO(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new z_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=nO(e),[r,i]=rO(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uc(V.min(),i,new Oe(X),pn(),re())}}class jc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jc(r,n,re(),re(),re())}}class bf{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class iO{constructor(e,n){this.targetId=e,this.Vt=n}}class sO{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oO{constructor(){this.St=0,this.Dt=uO(),this.Ct=yt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=re(),n=re(),r=re();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new jc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=uO()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vW{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=pn(),this.zt=aO(),this.Wt=new Oe(X)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(mf(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Ve.newNoDocument(a,V.min()))}else L(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=G_.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,w;const C={localCacheCount:l,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(C.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(m=v?.bits)||void 0===m?void 0:m.padding)&&void 0!==w?w:0}),C}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ni(s).toUint8Array()}catch(l){if(l instanceof fR)return er("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new z_(u,o,a)}catch(l){return er(l instanceof Bc?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&mf(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ve.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=re();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Uc(e,n,this.Wt,this.jt,r);return this.jt=pn(),this.zt=aO(),this.Wt=new Oe(X),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new oO,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Le(X),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||I("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new oO),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function aO(){return new Oe(x.comparator)}function uO(){return new Oe(x.comparator)}const _W={asc:"ASCENDING",desc:"DESCENDING"},wW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DW={and:"AND",or:"OR"};class CW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function q_(t,e){return t.useProto3Json||Sc(e)?e:{value:e}}function ha(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EW(t,e){return ha(t,e.toTimestamp())}function rt(t){return L(!!t),V.fromTimestamp(function(e){const n=Vi(e);return new ze(n.seconds,n.nanos)}(t))}function W_(t,e){return(n=t,new ge(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function lO(t){const e=ge.fromString(t);return L(_O(e)),e}function $c(t,e){return W_(t.databaseId,e.path)}function Tr(t,e){const n=lO(e);if(n.get(1)!==t.databaseId.projectId)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(hO(n))}function K_(t,e){return W_(t.databaseId,e)}function Hc(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hO(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function fO(t,e,n){return{name:$c(t,e),fields:n.value.mapValue.fields}}function gO(t,e){return{documents:[K_(t,e.path)]}}function Y_(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=K_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=K_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return vO(Ie.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Hi((l=c).field),direction:xW(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=q_(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function mO(t){let e=function dO(t){const e=lO(t);return 4===e.length?ge.emptyPath():hO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=yO(l);return d instanceof Ie&&R_(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new sa(fa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Sc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new $i((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new $i(l.values||[],!l.before)}(n.endAt)),function RR(t,e,n,r,i,s,o,a){return new ri(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function yO(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=fa(e.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=fa(e.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fa(e.unaryFilter.field);return he.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fa(e.unaryFilter.field);return he.create(s,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(t):void 0!==t.fieldFilter?he.create(fa((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ie.create(e.compositeFilter.filters.map(n=>yO(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return k()}}(e.compositeFilter.op))}(t):k();var e}function xW(t){return _W[t]}function AW(t){return wW[t]}function MW(t){return DW[t]}function Hi(t){return{fieldPath:t.canonicalString()}}function fa(t){return nt.fromServerFormat(t.fieldPath)}function vO(t){return t instanceof he?function(e){if("=="===e.op){if(mR(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NAN"}};if(gR(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mR(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NOT_NAN"}};if(gR(e.value))return{unaryFilter:{field:Hi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hi(e.field),op:AW(e.op),value:e.value}}}(t):t instanceof Ie?function(e){const n=e.getFilters().map(r=>vO(r));return 1===n.length?n[0]:{compositeFilter:{op:MW(e.op),filters:n}}}(t):k()}function NW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _O(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class oi{constructor(e,n,r,i,s=V.min(),o=V.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wO{constructor(e){this.fe=e}}function X_(t){const e=mO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_f(e,e.limit,"L"):e}class ks{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Qe(e.integerValue));else if("doubleValue"in e){const r=Qe(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Tc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ni(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?yR(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):k()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ks.Ve=new ks;class UW{constructor(){this.rn=new rw}addToCollectionParentIndex(e,n){return this.rn.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Sn.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Sn.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class rw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(ge.comparator)).toArray()}}new Uint8Array(0);class qt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(41943040,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);class Ls{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ls(0)}static Mn(){return new Ls(-1)}}class qW{constructor(){this.changes=new ii(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Vc(r.mutation,i,fn.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Sr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=kc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Sr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pn();const o=Fc(),a=Fc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof si)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Vc(l.mutation,c,l.mutation.getFieldMask(),ze.now())):o.set(c.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new QW(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fc();let i=new Oe((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||fn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||re()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=BR();l.forEach(h=>{if(!s.has(h)){const f=KR(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):F_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Sr());let a=-1,u=s;return o.next(c=>y.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,re())).next(l=>({batchId:a,changes:VR(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=kc();return this.indexManager.getCollectionParents(e,i).next(o=>y.forEach(o,a=>{const u=(c=n,l=a.child(i),new ri(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ve.newInvalidDocument(c)))});let o=kc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Vc(c.mutation,u,fn.empty(),ze.now()),Pc(n,u)&&(o=o.insert(a,u))}),o})}}class YW{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return y.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:rt(r.createTime)}),y.resolve()}getNamedQuery(e,n){return y.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:X_(r.bundledQuery),readTime:rt(r.readTime)}),y.resolve();var r}}class XW{constructor(){this.overlays=new Oe(x.comparator),this.ls=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sr();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){const i=Sr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Sr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Sr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return y.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new H_(n,r));let s=this.ls.get(n);void 0===s&&(s=re(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class iw{constructor(){this.fs=new Le(It.ds),this.ws=new Le(It._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new It(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new It(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new ge([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new ge([])),r=new It(n,e),i=new It(n,e+1);let s=re();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new It(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||X(e.As,n.As)}static _s(e,n){return X(e.As,n.As)||x.comparator(e.key,n.key)}}class ZW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Le(It.ds)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new j_(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(X);return n.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),y.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new It(new x(s),0);let a=new Le(X);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),y.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return y.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new It(n,0),i=this.Rs.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return y.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class JW{constructor(e){this.Ds=e,this.docs=new Oe(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=pn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||I_(eR(l),r)<=0||(i.has(l.key)||Pc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){k()}Cs(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new eK(this)}getSize(e){return y.resolve(this.size)}}class eK extends qW{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class tK{constructor(e){this.persistence=e,this.xs=new ii(n=>xs(n),Rc),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ns=0,this.ks=new iw,this.targetCount=0,this.Ms=Ls.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),y.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ls(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.Fn(n),y.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.ks.containsKey(n))}}class sw{constructor(e,n){this.$s={},this.overlays={},this.Os=new Tn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new tK(this),this.indexManager=new UW,this.remoteDocumentCache=new JW(r=>this.referenceDelegate.Ls(r)),this.serializer=new wO(n),this.qs=new YW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new ZW(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){I("MemoryPersistence","Starting transaction:",e);const i=new nK(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return y.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class nK extends E7{constructor(e){super(),this.currentSequenceNumber=e}}class Of{constructor(e){this.persistence=e,this.Qs=new iw,this.js=null}static zs(e){return new Of(e)}get Ws(){if(this.js)return this.js;throw k()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),y.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return y.or([()=>y.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class cw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cw(e,n.fromCache,r,i)}}class KO{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(OR(n))return y.resolve(null);let r=nn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=_f(n,null,"F"),r=nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,_f(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return OR(n)||i.isEqual(V.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(C_()<=ye.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),V_(n)),this.Wi(e,o,n,function JN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new ze(n+1,0):new ze(n,r));return new Sn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Le(FR(e));return n.forEach((i,s)=>{Pc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return C_()<=ye.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",V_(n)),this.Ui.getDocumentsMatchingQuery(e,n,Sn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class iK{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Oe(X),this.Yi=new ii(s=>xs(s),Rc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function YO(t,e){return lw.apply(this,arguments)}function lw(){return lw=S(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=re();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),lw.apply(this,arguments)}function XO(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function aK(t,e){const n=A(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ya(t,e,n){return dw.apply(this,arguments)}function dw(){return dw=S(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fi(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),dw.apply(this,arguments)}function Ff(t,e,n){const r=A(t);let i=V.min(),s=re();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.Yi.get(c);return void 0!==d?y.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:V.min(),n?s:re())).next(a=>(function tP(t,e,n){let r=t.Xi.get(e)||V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function kR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class mw{constructor(){this.activeTargetIds=function B_(){return uW}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iP{constructor(){this.Hr=new mw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new mw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lK{Yr(e){}shutdown(){}}class sP{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bf=null;function vw(){return null===Bf?Bf=268435456+Math.round(2147483648*Math.random()):Bf++,"0x"+Bf.toString(16)}const dK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hK{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Wt="WebChannelConnection";class fK extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=vw(),a=this.To(e,n);I("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(I("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw er("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ta,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${dK[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=vw();return new Promise((o,a)=>{const u=new d7;u.setWithCredentials(!0),u.listenOnce(u7.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case D_.NO_ERROR:const l=u.getResponseJson();I(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case D_.TIMEOUT:I(Wt,`RPC '${e}' ${s} timed out`),a(new E(_.DEADLINE_EXCEEDED,"Request time out"));break;case D_.HTTP_ERROR:const d=u.getStatus();if(I(Wt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(m)>=0?m:_.UNKNOWN}(f.status);a(new E(p,f.message))}else a(new E(_.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new E(_.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{I(Wt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);I(Wt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=vw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=o7(),a=a7(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new l7({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");I(Wt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new hK({ro:m=>{f?I(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(I(Wt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),I(Wt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,w,C)=>{m.listen(w,v=>{try{C(v)}catch(R){setTimeout(()=>{throw R},0)}})};return g(d,rf.EventType.OPEN,()=>{f||I(Wt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,rf.EventType.CLOSE,()=>{f||(f=!0,I(Wt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,rf.EventType.ERROR,m=>{f||(f=!0,er(Wt,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new E(_.UNAVAILABLE,"The operation could not be completed")))}),g(d,rf.EventType.MESSAGE,m=>{var w;if(!f){const C=m.data[0];L(!!C);const R=C.error||(null===(w=C[0])||void 0===w?void 0:w.error);if(R){I(Wt,`RPC '${e}' stream ${i} received error:`,R);const U=R.status;let Y=function(Gs){const Xk=lt[Gs];if(void 0!==Xk)return eO(Xk)}(U),sn=R.message;void 0===Y&&(Y=_.INTERNAL,sn="Unknown error status: "+U+" with message "+R.message),f=!0,p.wo(new E(Y,sn)),d.close()}else I(Wt,`RPC '${e}' stream ${i} received:`,C),p._o(C)}}),g(a,c7.STAT_EVENT,m=>{m.stat===WN.PROXY?I(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===WN.NOPROXY&&I(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Uf(){return typeof document<"u"?document:null}function Jc(t){return new CW(t,!0)}class _w{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class aP{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _w(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return S(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return S(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return S(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(tt(n.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===_.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new E(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(S(function*(){e.state=0,e.start()}))}tu(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pK extends aP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function IW(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:k(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(L(void 0===c||"string"==typeof c),yt.fromBase64String(c||"")):(L(void 0===c||c instanceof Uint8Array),yt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?_.UNKNOWN:eO(u.code);return new E(c,u.message||"")}(o);n=new sO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Tr(t,r.document.name),s=rt(r.document.updateTime),o=r.document.createTime?rt(r.document.createTime):V.min(),a=new Pt({mapValue:{fields:r.document.fields}}),u=Ve.newFoundDocument(i,s,o,a);n=new bf(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Tr(t,r.document),s=r.readTime?rt(r.readTime):V.min(),o=Ve.newNoDocument(i,s);n=new bf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Tr(t,r.document);n=new bf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return k();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new mW(i,s);n=new iO(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?rt(s.readTime):V.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Hc(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=mf(a)?{documents:gO(i,a)}:{query:Y_(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=cO(i,s.resumeToken);const u=q_(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(V.min())>0){o.readTime=ha(i,s.snapshotVersion.toTimestamp());const u=q_(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function TW(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Hc(this.serializer),n.removeTarget=e,this.Wo(n)}}class gK extends aP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function SW(t,e){return t&&t.length>0?(L(void 0!==e),t.map(n=>function(r,i){let s=rt(r.updateTime?r.updateTime:i);return s.isEqual(V.min())&&(s=rt(i)),new hW(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=rt(e.commitTime);return this.listener.cu(r,n)}return L(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Hc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Gc(t,e){let n;if(e instanceof la)n={update:fO(t,e.key,e.value)};else if(e instanceof da)n={delete:$c(t,e.key)};else if(e instanceof si)n={update:fO(t,e.key,e.data),updateMask:NW(e.fieldMask)};else{if(!(e instanceof U_))return k();n={verify:$c(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ua)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ms)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ns)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ca)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw k()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:EW(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:k()),n;var i}(this.serializer,r))};this.Wo(n)}}class mK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new E(_.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new E(_.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class vK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(tt(n),this.mu=!1):I("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _K{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(S(function*(){var u;Wi(o)&&(I("RemoteStore","Restarting streams for network reachability change."),yield(u=S(function*(c){const l=A(c);l.vu.add(4),yield va(l),l.bu.set("Unknown"),l.vu.delete(4),yield el(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new vK(r,i)}}function el(t){return Dw.apply(this,arguments)}function Dw(){return Dw=S(function*(t){if(Wi(t))for(const e of t.Ru)yield e(!0)}),Dw.apply(this,arguments)}function va(t){return Cw.apply(this,arguments)}function Cw(){return Cw=S(function*(t){for(const e of t.Ru)yield e(!1)}),Cw.apply(this,arguments)}function jf(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Iw(n)?bw(n):wa(n).Ko()&&Ew(n,e))}function tl(t,e){const n=A(t),r=wa(n);n.Au.delete(e),r.Ko()&&uP(n,e),0===n.Au.size&&(r.Ko()?r.jo():Wi(n)&&n.bu.set("Unknown"))}function Ew(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wa(t).su(e)}function uP(t,e){t.Vu.qt(e),wa(t).iu(e)}function bw(t){t.Vu=new vW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),wa(t).start(),t.bu.gu()}function Iw(t){return Wi(t)&&!wa(t).Uo()&&t.Au.size>0}function Wi(t){return 0===A(t).vu.size}function cP(t){t.Vu=void 0}function wK(t){return Sw.apply(this,arguments)}function Sw(){return Sw=S(function*(t){t.Au.forEach((e,n)=>{Ew(t,e)})}),Sw.apply(this,arguments)}function DK(t,e){return Tw.apply(this,arguments)}function Tw(){return Tw=S(function*(t,e){cP(t),Iw(t)?(t.bu.Iu(e),bw(t)):t.bu.set("Unknown")}),Tw.apply(this,arguments)}function CK(t,e,n){return xw.apply(this,arguments)}function xw(){return xw=S(function*(t,e,n){if(t.bu.set("Online"),e instanceof sO&&2===e.state&&e.cause)try{yield(r=S(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $f(t,r)}else if(e instanceof bf?t.Vu.Ht(e):e instanceof iO?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(V.min()))try{const r=yield XO(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(yt.EMPTY_BYTE_STRING,c.snapshotVersion)),uP(i,a);const l=new oi(c.target,a,u,c.sequenceNumber);Ew(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){I("RemoteStore","Failed to raise snapshot:",r),yield $f(t,r)}var r}),xw.apply(this,arguments)}function $f(t,e,n){return Aw.apply(this,arguments)}function Aw(){return Aw=S(function*(t,e,n){if(!Fi(e))throw e;t.vu.add(1),yield va(t),t.bu.set("Offline"),n||(n=()=>XO(t.localStore)),t.asyncQueue.enqueueRetryable(S(function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield el(t)}))}),Aw.apply(this,arguments)}function lP(t,e){return e().catch(n=>$f(t,n,e))}function _a(t){return Mw.apply(this,arguments)}function Mw(){return Mw=S(function*(t){const e=A(t),n=Ki(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;EK(e);)try{const i=yield aK(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,bK(e,i)}catch(i){yield $f(e,i)}dP(e)&&hP(e)}),Mw.apply(this,arguments)}function EK(t){return Wi(t)&&t.Eu.length<10}function bK(t,e){t.Eu.push(e);const n=Ki(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function dP(t){return Wi(t)&&!Ki(t).Uo()&&t.Eu.length>0}function hP(t){Ki(t).start()}function IK(t){return Nw.apply(this,arguments)}function Nw(){return Nw=S(function*(t){Ki(t).hu()}),Nw.apply(this,arguments)}function SK(t){return Rw.apply(this,arguments)}function Rw(){return Rw=S(function*(t){const e=Ki(t);for(const n of t.Eu)e.uu(n.mutations)}),Rw.apply(this,arguments)}function TK(t,e,n){return Ow.apply(this,arguments)}function Ow(){return Ow=S(function*(t,e,n){const r=t.Eu.shift(),i=$_.from(r,e,n);yield lP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _a(t)}),Ow.apply(this,arguments)}function xK(t,e){return Pw.apply(this,arguments)}function Pw(){return Pw=S(function*(t,e){var n;e&&Ki(t).ou&&(yield(n=S(function*(r,i){if(function JR(t){switch(t){default:return k();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}(s=i.code)&&s!==_.ABORTED){const o=r.Eu.shift();Ki(r).Qo(),yield lP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield _a(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),dP(t)&&hP(t)}),Pw.apply(this,arguments)}function fP(t,e){return kw.apply(this,arguments)}function kw(){return kw=S(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");const r=Wi(n);n.vu.add(3),yield va(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield el(n)}),kw.apply(this,arguments)}function Lw(){return Lw=S(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield el(n)):e||(n.vu.add(2),yield va(n),n.bu.set("Unknown"))}),Lw.apply(this,arguments)}function wa(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new pK(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:wK.bind(null,t),ao:DK.bind(null,t),nu:CK.bind(null,t)}),t.Ru.push(function(){var e=S(function*(n){n?(t.Su.Qo(),Iw(t)?bw(t):t.bu.set("Unknown")):(yield t.Su.stop(),cP(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ki(t){return t.Du||(t.Du=function(e,n,r){const i=A(e);return i.fu(),new gK(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:IK.bind(null,t),ao:xK.bind(null,t),au:SK.bind(null,t),cu:TK.bind(null,t)}),t.Ru.push(function(){var e=S(function*(n){n?(t.Du.Qo(),yield _a(t)):(yield t.Du.stop(),t.Eu.length>0&&(I("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class Vw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Vw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Da(t,e){if(tt("AsyncQueue",`${e}: ${t}`),Fi(t))return new E(_.UNAVAILABLE,`${e}: ${t}`);throw t}class Ca{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=kc(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Ca(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class pP{constructor(){this.Cu=new Oe(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):k():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ea{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ea(e,n,Ca.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class AK{constructor(){this.Nu=void 0,this.listeners=[]}}class MK{constructor(){this.queries=new ii(e=>PR(e),Oc),this.onlineState="Unknown",this.ku=new Set}}function Uw(){return Uw=S(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new AK),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Da(o,`Initialization of query '${V_(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Hw(n)}),Uw.apply(this,arguments)}function $w(){return $w=S(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),$w.apply(this,arguments)}function NK(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&Hw(n)}function RK(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Hw(t){t.ku.forEach(e=>{e.next()})}class Gw{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class yP{constructor(e){this.key=e}}class vP{constructor(e){this.key=e}}class _P{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=re(),this.mutatedKeys=re(),this.tc=FR(e),this.ec=new Ca(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new pP,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Pc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ea(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new pP,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=re(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new vP(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new yP(r))}),n}hc(e){this.Yu=e.ir,this.Zu=re();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ea.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class kK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FK{constructor(e){this.key=e,this.fc=!1}}class LK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ii(a=>PR(a),Oc),this._c=new Map,this.mc=new Set,this.gc=new Oe(x.comparator),this.yc=new Map,this.Ic=new iw,this.Tc={},this.Ec=new Map,this.Ac=Ls.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function VK(t,e){return zw.apply(this,arguments)}function zw(){return zw=S(function*(t,e){const n=function pD(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jK.bind(null,e),e.dc.nu=NK.bind(null,e.eventManager),e.dc.Pc=RK.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function ma(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,nn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function qw(t,e,n,r,i){return Ww.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&jf(n.remoteStore,o)}return i}),zw.apply(this,arguments)}function Ww(){return Ww=S(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=S(function*(g,m,w,C){let v=m.view.sc(w);v.zi&&(v=yield Ff(g.localStore,m.query,!1).then(({documents:Y})=>m.view.sc(Y,v)));const R=C&&C.targetChanges.get(m.targetId),U=m.view.applyChanges(v,g.isPrimaryClient,R);return rD(g,m.targetId,U.cc),U.snapshot}),function(g,m,w,C){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Ff(t.localStore,e,!0),o=new _P(e,s.ir),a=o.sc(s.documents),u=jc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);rD(t,n,c.cc);const l=new kK(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),Ww.apply(this,arguments)}function BK(t,e){return Kw.apply(this,arguments)}function Kw(){return Kw=S(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Oc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ya(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),tl(n.remoteStore,r.targetId),ba(n,r.targetId)}).catch(ki))):(ba(n,r.targetId),yield ya(n.localStore,r.targetId,!0))}),Kw.apply(this,arguments)}function Qw(){return Qw=S(function*(t,e,n){const r=function gD(t){const e=A(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$K.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HK.bind(null,e),e}(t);try{const i=yield function(s,o){const a=A(s),u=ze.now(),c=o.reduce((h,f)=>h.add(f.key),re());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=pn(),p=re();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,w)=>{w.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const w of o){const C=pW(w,l.get(w.key).overlayedDocument);null!=C&&m.push(new si(w.key,C,wR(C.value.mapValue),$e.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:VR(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Oe(X)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ai(r,i.changes),yield _a(r.remoteStore)}catch(i){const s=Da(i,"Failed to persist write");n.reject(s)}}),Qw.apply(this,arguments)}function wP(t,e){return Yw.apply(this,arguments)}function Yw(){return Yw=S(function*(t,e){const n=A(t);try{const r=yield function oK(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(yt.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=pn(),c=re();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function ZO(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(V.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(V.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?L(o.fc):i.removedDocuments.size>0&&(L(o.fc),o.fc=!1))}),yield ai(n,r,e)}catch(r){yield ki(r)}}),Yw.apply(this,arguments)}function DP(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&Hw(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jK(t,e,n){return Xw.apply(this,arguments)}function Xw(){return Xw=S(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Oe(x.comparator);o=o.insert(s,Ve.newNoDocument(s,V.min()));const a=re().add(s),u=new Uc(V.min(),new Map,new Oe(X),o,a);yield wP(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),iD(r)}else yield ya(r.localStore,e,!1).then(()=>ba(r,e,n)).catch(ki)}),Xw.apply(this,arguments)}function $K(t,e){return Zw.apply(this,arguments)}function Zw(){return Zw=S(function*(t,e){const n=A(t),r=e.batch.batchId;try{const i=yield function sK(t,e){const n=A(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=y.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);L(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=re();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);nD(n,r,null),tD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ai(n,i)}catch(i){yield ki(i)}}),Zw.apply(this,arguments)}function HK(t,e,n){return Jw.apply(this,arguments)}function Jw(){return Jw=S(function*(t,e,n){const r=A(t);try{const i=yield function(s,o){const a=A(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(L(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);nD(r,e,n),tD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ai(r,i)}catch(i){yield ki(i)}}),Jw.apply(this,arguments)}function tD(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function nD(t,e,n){const r=A(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function ba(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||CP(t,r)})}function CP(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(tl(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),iD(t))}function rD(t,e,n){for(const r of n)r instanceof yP?(t.Ic.addReference(r.key,e),zK(t,r)):r instanceof vP?(I("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||CP(t,r.key)):k()}function zK(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(I("SyncEngine","New document in limbo: "+n),t.mc.add(r),iD(t))}function iD(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(ge.fromString(e)),r=t.Ac.next();t.yc.set(r,new FK(n)),t.gc=t.gc.insert(n,r),jf(t.remoteStore,new oi(nn(aa(n.path)),r,"TargetPurposeLimboResolution",Tn.ct))}}function ai(t,e,n){return sD.apply(this,arguments)}function sD(){return sD=S(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=cw.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=S(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(c,h=>y.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>y.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Fi(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),sD.apply(this,arguments)}function qK(t,e){return oD.apply(this,arguments)}function oD(){return oD=S(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());const r=yield YO(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new E(_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ai(n,r.er)}var i}),oD.apply(this,arguments)}function WK(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return re().add(r.key);{let i=re();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Hf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return S(function*(){n.serializer=Jc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function QO(t,e,n,r){return new iK(t,e,n,r)}(this.persistence,new KO,e.initialUser,this.serializer)}createPersistence(e){return new sw(Of.zs,this.serializer)}createSharedClientState(e){return new iP}terminate(){var e=this;return S(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ia{initialize(e,n){var r=this;return S(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>DP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=qK.bind(null,r.syncEngine),yield function Fw(t,e){return Lw.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new MK}createDatastore(e){const n=Jc(e.databaseInfo.databaseId),r=new fK(e.databaseInfo);return new mK(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>DP(this.syncEngine,a,0),o=sP.D()?new sP:new lK,new _K(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new LK(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=S(function*(n){const r=A(n);I("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield va(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Gf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):tt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class oQ{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=XN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=S(function*(a){I("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(I("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return S(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(S(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Da(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function zf(t,e){return mD.apply(this,arguments)}function mD(){return mD=S(function*(t,e){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=S(function*(s){r.isEqual(s)||(yield YO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),mD.apply(this,arguments)}function yD(t,e){return vD.apply(this,arguments)}function vD(){return vD=S(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function _D(t){return wD.apply(this,arguments)}(t);I("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>fP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>fP(e.remoteStore,s)),t._onlineComponents=e}),vD.apply(this,arguments)}function wD(){return wD=S(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function xP(t){return"FirebaseError"===t.name?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;er("Error using user provided cache. Falling back to memory cache: "+n),yield zf(t,new Hf)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield zf(t,new Hf);return t._offlineComponents}),wD.apply(this,arguments)}function qf(t){return DD.apply(this,arguments)}function DD(){return DD=S(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield yD(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield yD(t,new Ia))),t._onlineComponents}),DD.apply(this,arguments)}function ED(){return ED=S(function*(t){const e=yield qf(t),n=e.eventManager;return n.onListen=VK.bind(null,e.syncEngine),n.onUnlisten=BK.bind(null,e.syncEngine),n}),ED.apply(this,arguments)}function OP(t,e,n={}){const r=new mt;return t.asyncQueue.enqueueAndForget(S(function*(){return function(i,s,o,a,u){const c=new Gf({next:d=>{s.enqueueAndForget(()=>function jw(t,e){return $w.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new E(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new Gw(o,c,{includeMetadataChanges:!0,Ku:!0});return function Bw(t,e){return Uw.apply(this,arguments)}(i,l)}(yield function Sa(t){return ED.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function PP(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const kP=new Map;function bD(t,e,n){if(!n)throw new E(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FP(t){if(!x.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LP(t){if(x.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":k()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(t);throw new E(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class BP{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new E(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new E(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function gQ(t,e,n,r){if(!0===e&&!0===r)throw new E(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=PP(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BP(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new f7;switch(n.type){case"firstParty":return new y7(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new E(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=kP.get(e);n&&(I("ComponentProvider","Removing Datastore"),kP.delete(e),n.terminate())}(this),Promise.resolve()}}class it{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new it(this.firestore,e,this._key)}}class kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kt(this.firestore,e,this._query)}}class xr extends kt{constructor(e,n,r){super(e,n,aa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new x(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function UP(t,e,...n){if(t=Ai(t),bD("collection","path",e),t instanceof nl){const r=ge.fromString(e,...n);return LP(r),new xr(t,null,r)}{if(!(t instanceof it||t instanceof xr))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return LP(r),new xr(t.firestore,null,r)}}function jP(t,e,...n){if(t=Ai(t),1===arguments.length&&(e=XN.A()),bD("doc","path",e),t instanceof nl){const r=ge.fromString(e,...n);return FP(r),new it(t,null,new x(r))}{if(!(t instanceof it||t instanceof xr))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return FP(r),new it(t.firestore,t instanceof xr?t.converter:null,new x(r))}}class yQ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _w(this,"async_queue_retry"),this.Xc=()=>{const n=Uf();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Uf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Uf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new mt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return S(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Fi(n))throw n;I("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,tt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Vw.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&k()}verifyOperationInProgress(){}sa(){var e=this;return S(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Be extends nl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yQ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HP(this),this._firestoreClient.terminate()}}function dt(t){return t._firestoreClient||HP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function HP(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new W7(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,PP(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new oQ(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bs(yt.fromBase64String(e))}catch(n){throw new E(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bs(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ta{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new E(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qP{constructor(e){this._methodName=e}}class SD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new E(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new E(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const DQ=/^__.*__$/;class CQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new si(e,this.data,this.fieldMask,n,this.fieldTransforms):new la(e,this.data,n,this.fieldTransforms)}}function KP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class Qf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Qf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Xf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(KP(this.ca)&&DQ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class EQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jc(e)}ya(e,n,r,i=!1){return new Qf({ca:e,methodName:n,ga:r,path:nt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xa(t){const e=t._freezeSettings(),n=Jc(t._databaseId);return new EQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TD(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);AD("Data must be an object, but it was:",o,r);const a=JP(r,o);let u,c;if(s.merge)u=new fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=sl(e,d,n);if(!o.contains(h))throw new E(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tk(l,h)||l.push(h)}u=new fn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new CQ(new Pt(a),u,c)}function Us(t,e){if(ek(t=Ai(t)))return AD("Unsupported field value:",e,t),JP(t,e);if(t instanceof qP)return function(n,r){if(!KP(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Us(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ai(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return $R(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=ze.fromDate(n);return{timestampValue:ha(r.serializer,i)}}if(n instanceof ze){const i=new ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ha(r.serializer,i)}}if(n instanceof SD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Bs)return{bytesValue:cO(r.serializer,n._byteString)};if(n instanceof it){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:W_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Kf(n)}`)}(t,e)}function JP(t,e){const n={};return dR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(t,(r,i)=>{const s=Us(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function ek(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof SD||t instanceof Bs||t instanceof it||t instanceof qP)}function AD(t,e,n){if(!ek(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Kf(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function sl(t,e,n){if((e=Ai(e))instanceof Ta)return e._internalPath;if("string"==typeof e)return Yf(t,e);throw Xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const TQ=new RegExp("[~\\*/\\[\\]]");function Yf(t,e,n){if(e.search(TQ)>=0)throw Xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ta(...e.split("."))._internalPath}catch{throw Xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new E(_.INVALID_ARGUMENT,a+t+u)}function tk(t,e){return t.some(n=>n.isEqual(e))}class MD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class xQ extends MD{data(){return super.data()}}function Zf(t,e){return"string"==typeof e?Yf(t,e):e instanceof Ta?e._internalPath:e._delegate._internalPath}class ND{}class AQ extends ND{}function rk(t,e,...n){let r=[];e instanceof ND&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Aa).length,o=i.filter(a=>a instanceof ol).length;if(s>1||s>0&&o>0)throw new E(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ol extends AQ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ol(e,n,r)}_apply(e){const n=this._parse(e);return ak(e._query,n),new kt(e.firestore,e.converter,L_(e._query,n))}_parse(e){const n=xa(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new E(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){ok(l,c);const h=[];for(const f of l)h.push(sk(a,i,f));d={arrayValue:{values:h}}}else d=sk(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||ok(l,c),d=function ZP(t,e,n,r=!1){return Us(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return he.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Aa extends ND{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Aa(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ie.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)ak(s,a),s=L_(s,a)}(e._query,n),new kt(e.firestore,e.converter,L_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function sk(t,e,n){if("string"==typeof(n=Ai(n))){if(""===n)throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F_(e)&&-1!==n.indexOf("/"))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!x.isDocumentKey(r))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ts(t,new x(r))}if(n instanceof it)return Ts(t,n._key);throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function ok(t,e){if(!Array.isArray(t)||0===t.length)throw new E(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ak(t,e){if(e.isInequality()){const r=vf(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new E(_.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=k_(t);null!==s&&function uk(t,e,n){if(!n.isEqual(e))throw new E(_.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new E(_.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NQ{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Li(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new SD(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xc(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);L(_O(r));const i=new Ss(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class js{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ma extends MD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class np extends Ma{data(e={}){return super.data(e)}}class Na{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new js(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new np(this._firestore,this._userDataWriter,r.key,r,new js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new E(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new np(r._firestore,r._userDataWriter,o.doc.key,o.doc,new js(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new np(r._firestore,r._userDataWriter,o.doc.key,o.doc,new js(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:OQ(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function OQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}class Qi extends NQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}}function lk(t){t=fe(t,kt);const e=fe(t.firestore,Be),n=dt(e),r=new Qi(e);return function nk(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new E(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),OP(n,t._query).then(i=>new Na(e,r,t,i))}function dk(t,e){const n=fe(t.firestore,Be),r=jP(t),i=function OD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return al(n,[TD(xa(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,$e.exists(!1))]).then(()=>r)}function al(t,e){return function(n,r){const i=new mt;return n.asyncQueue.enqueueAndForget(S(function*(){return function UK(t,e,n){return Qw.apply(this,arguments)}(yield function CD(t){return qf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(dt(t),e)}!function(t,e=!0){ta="9.23.0",Ni(new Zr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Be(new g7(n.getProvider("auth-internal")),new v7(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new E(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),wr(KN,"3.13.0",t),wr(KN,"3.13.0","esm2017")}(),wr("firebase","9.23.0","app");const KQ=(t,e)=>e.some(n=>t instanceof n);let fk,pk;const gk=new WeakMap,kD=new WeakMap,mk=new WeakMap,FD=new WeakMap,LD=new WeakMap;let VD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return kD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||mk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function tY(t){return"function"==typeof t?function eY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function YQ(){return pk||(pk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(BD(this),e),Yi(gk.get(this))}:function(...e){return Yi(t.apply(BD(this),e))}:function(e,...n){const r=t.call(BD(this),e,...n);return mk.set(r,e.sort?e.sort():[e]),Yi(r)}}(t):(t instanceof IDBTransaction&&function ZQ(t){if(kD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kD.set(t,e)}(t),KQ(t,function QQ(){return fk||(fk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,VD):t)}function Yi(t){if(t instanceof IDBRequest)return function XQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gk.set(n,t)}).catch(()=>{}),LD.set(e,t),e}(t);if(FD.has(t))return FD.get(t);const e=tY(t);return e!==t&&(FD.set(t,e),LD.set(e,t)),e}const BD=t=>LD.get(t),rY=["get","getKey","getAll","getAllKeys","count"],iY=["put","add","delete","clear"],UD=new Map;function yk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(UD.get(e))return UD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rY.includes(n))return;const s=function(){var o=S(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return UD.set(e,s),s}!function JQ(t){VD=t(VD)}(t=>({...t,get:(e,n,r)=>yk(e,n)||t.get(e,n,r),has:(e,n)=>!!yk(e,n)||t.has(e,n)}));const vk="@firebase/installations",jD="0.6.4",_k=1e4,wk=`w:${jD}`,Dk="FIS_v2",sY="https://firebaseinstallations.googleapis.com/v1",oY=36e5,ui=new Sh("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ck(t){return t instanceof xi&&t.code.includes("request-failed")}function $D({projectId:t}){return`${sY}/projects/${t}/installations`}function Ek(t){return{token:t.token,requestStatus:2,expiresIn:lY(t.expiresIn),creationTime:Date.now()}}function HD(t,e){return GD.apply(this,arguments)}function GD(){return GD=S(function*(t,e){const r=(yield e.json()).error;return ui.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),GD.apply(this,arguments)}function bk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zD(t){return qD.apply(this,arguments)}function qD(){return qD=S(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),qD.apply(this,arguments)}function lY(t){return Number(t.replace("s","000"))}function WD(){return WD=S(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$D(t),i=bk(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Dk,appId:t.appId,sdkVersion:wk})},u=yield zD(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ek(c.authToken)}}throw yield HD("Create Installation",u)}),WD.apply(this,arguments)}function Sk(t){return new Promise(e=>{setTimeout(e,t)})}const pY=/^[cdef][\w-]{21}$/,KD="";function gY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function mY(t){return function fY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return pY.test(n)?n:KD}catch{return KD}}function Ra(t){return`${t.appName}!${t.appId}`}const Oa=new Map;function Tk(t,e){const n=Ra(t);xk(n,e),function _Y(t,e){const n=function Ak(){return!$s&&"BroadcastChannel"in self&&($s=new BroadcastChannel("[Firebase] FID Change"),$s.onmessage=t=>{xk(t.data.key,t.data.fid)}),$s}();n&&n.postMessage({key:t,fid:e}),function Mk(){0===Oa.size&&$s&&($s.close(),$s=null)}()}(n,e)}function xk(t,e){const n=Oa.get(t);if(n)for(const r of n)r(e)}let $s=null;const wY="firebase-installations-database",DY=1,Hs="firebase-installations-store";let QD=null;function YD(){return QD||(QD=function nY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Yi(o.result),u.oldVersion,u.newVersion,Yi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(wY,DY,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Hs)}})),QD}function ip(t,e){return XD.apply(this,arguments)}function XD(){return XD=S(function*(t,e){const n=Ra(t),i=(yield YD()).transaction(Hs,"readwrite"),s=i.objectStore(Hs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&Tk(t,e.fid),e}),XD.apply(this,arguments)}function ZD(t){return JD.apply(this,arguments)}function JD(){return JD=S(function*(t){const e=Ra(t),r=(yield YD()).transaction(Hs,"readwrite");yield r.objectStore(Hs).delete(e),yield r.done}),JD.apply(this,arguments)}function ul(t,e){return eC.apply(this,arguments)}function eC(){return eC=S(function*(t,e){const n=Ra(t),i=(yield YD()).transaction(Hs,"readwrite"),s=i.objectStore(Hs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&Tk(t,a.fid),a}),eC.apply(this,arguments)}function tC(t){return nC.apply(this,arguments)}function nC(){return nC=S(function*(t){let e;const n=yield ul(t.appConfig,r=>{const i=function CY(t){return Rk(t||{fid:gY(),registrationStatus:0})}(r),s=function EY(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ui.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function bY(t,e){return rC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:IY(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===KD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),nC.apply(this,arguments)}function rC(){return rC=S(function*(t,e){try{const n=yield function hY(t,e){return WD.apply(this,arguments)}(t,e);return ip(t.appConfig,n)}catch(n){throw Ck(n)&&409===n.customData.serverCode?yield ZD(t.appConfig):yield ip(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),rC.apply(this,arguments)}function IY(t){return iC.apply(this,arguments)}function iC(){return iC=S(function*(t){let e=yield Nk(t.appConfig);for(;1===e.registrationStatus;)yield Sk(100),e=yield Nk(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield tC(t);return r||n}return e}),iC.apply(this,arguments)}function Nk(t){return ul(t,e=>{if(!e)throw ui.create("installation-not-found");return Rk(e)})}function Rk(t){return function SY(t){return 1===t.registrationStatus&&t.registrationTime+_k<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function sC(){return sC=S(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function xY(t,{fid:e}){return`${$D(t)}/${e}/authTokens:generate`}(t,n),i=function Ik(t,{refreshToken:e}){const n=bk(t);return n.append("Authorization",function dY(t){return`${Dk} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:wk,appId:t.appId}})},u=yield zD(()=>fetch(r,a));if(u.ok)return Ek(yield u.json());throw yield HD("Generate Auth Token",u)}),sC.apply(this,arguments)}function oC(t){return aC.apply(this,arguments)}function aC(){return aC=S(function*(t,e=!1){let n;const r=yield ul(t.appConfig,s=>{if(!Pk(s))throw ui.create("not-registered");const o=s.authToken;if(!e&&function NY(t){return 2===t.requestStatus&&!function RY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+oY}(t)}(o))return s;if(1===o.requestStatus)return n=function AY(t,e){return uC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ui.create("app-offline");const a=function OY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function MY(t,e){return cC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),aC.apply(this,arguments)}function uC(){return uC=S(function*(t,e){let n=yield Ok(t.appConfig);for(;1===n.authToken.requestStatus;)yield Sk(100),n=yield Ok(t.appConfig);const r=n.authToken;return 0===r.requestStatus?oC(t,e):r}),uC.apply(this,arguments)}function Ok(t){return ul(t,e=>{if(!Pk(e))throw ui.create("not-registered");return function PY(t){return 1===t.requestStatus&&t.requestTime+_k<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function cC(){return cC=S(function*(t,e){try{const n=yield function TY(t,e){return sC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield ip(t.appConfig,r),n}catch(n){if(!Ck(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ip(t.appConfig,r)}else yield ZD(t.appConfig);throw n}}),cC.apply(this,arguments)}function Pk(t){return void 0!==t&&2===t.registrationStatus}function lC(){return lC=S(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield tC(e);return r?r.catch(console.error):oC(e).catch(console.error),n.fid}),lC.apply(this,arguments)}function dC(){return dC=S(function*(t,e=!1){const n=t;return yield function LY(t){return hC.apply(this,arguments)}(n),(yield oC(n,e)).token}),dC.apply(this,arguments)}function hC(){return hC=S(function*(t){const{registrationPromise:e}=yield tC(t);e&&(yield e)}),hC.apply(this,arguments)}function gC(t){return ui.create("missing-app-config-values",{valueName:t})}const kk="installations",$Y=t=>{const e=t.getProvider("app").getImmediate(),n=function UY(t){if(!t||!t.options)throw gC("App Configuration");if(!t.name)throw gC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Wo(e,"heartbeat"),_delete:()=>Promise.resolve()}},HY=t=>{const n=Wo(t.getProvider("app").getImmediate(),kk).getImmediate();return{getId:()=>function kY(t){return lC.apply(this,arguments)}(n),getToken:i=>function FY(t){return dC.apply(this,arguments)}(n,i)}};(function GY(){Ni(new Zr(kk,$Y,"PUBLIC")),Ni(new Zr("installations-internal",HY,"PRIVATE"))})(),wr(vk,jD),wr(vk,jD,"esm2017");const sp="analytics",zY="firebase_id",qY="origin",WY=6e4,KY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mC="https://www.googletagmanager.com/gtag/js",St=new Cv("@firebase/analytics"),rn=new Sh("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function YY(t){if(!t.startsWith(mC)){const e=rn.create("invalid-gtag-resource",{gtagURL:t});return St.warn(e.message),""}return t}function Fk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function yC(){return yC=S(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield Fk(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){St.error(a)}t("config",i,s)}),yC.apply(this,arguments)}function vC(){return vC=S(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield Fk(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){St.error(s)}}),vC.apply(this,arguments)}const sX=30,Lk=new class aX{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function uX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function _C(){return _C=S(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:uX(r)},s=KY.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),_C.apply(this,arguments)}function wC(){return wC=S(function*(t,e=Lk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fX;return setTimeout(S(function*(){a.abort()}),void 0!==n?n:WY),Vk({appId:r,apiKey:i,measurementId:s},o,a,e)}),wC.apply(this,arguments)}function Vk(t,e,n){return DC.apply(this,arguments)}function DC(){return DC=S(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Lk){var s;const{appId:o,measurementId:a}=t;try{yield function dX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function cX(t){return _C.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function hX(t){if(!(t instanceof xi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?yM(n,i.intervalMillis,sX):yM(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),St.debug(`Calling attemptFetch again in ${l} millis`),Vk(t,d,r,i)}}),DC.apply(this,arguments)}class fX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let CC,AC;function EC(){return EC=S(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),EC.apply(this,arguments)}function MC(){return MC=S(function*(){if(!fM())return St.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield pM()}catch(t){return St.warn(rn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),MC.apply(this,arguments)}function NC(){return NC=S(function*(t,e,n,r,i,s,o){var a;const u=function lX(t){return wC.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>St.error(f)),e.push(u);const c=function wX(){return MC.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function iX(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(mC)&&n.src.includes(t))return n;return null})(s)||function ZY(t,e){const n=function XY(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:YY}),r=document.createElement("script"),i=`${mC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),AC&&(i("consent","default",AC),function Bk(t){AC=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[qY]="firebase",h.update=!0,null!=d&&(h[zY]=d),i("config",l.measurementId,h),CC&&(i("set",CC),function Uk(t){CC=t}(void 0)),l.measurementId}),NC.apply(this,arguments)}class CX{constructor(e){this.app=e}_delete(){return delete Ar[this.app.options.appId],Promise.resolve()}}let Ar={},jk=[];const $k={};let Gk,Mr,op="dataLayer",Hk="gtag",RC=!1;function bX(t,e,n){!function EX(){const t=[];if(function H6(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),function G6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=rn.create("invalid-analytics-context",{errorInfo:e});St.warn(n.message)}}();const r=t.options.appId;if(!r)throw rn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw rn.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ar[r])throw rn.create("already-exists",{id:r});if(!RC){!function JY(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(op);const{wrappedGtag:s,gtagCore:o}=function rX(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function nX(t,e,n,r){function s(){return s=S(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function tX(t,e,n,r,i){return vC.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function eX(t,e,n,r,i,s){return yC.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){St.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ar,jk,$k,op,Hk);Mr=s,Gk=o,RC=!0}return Ar[r]=function DX(t,e,n,r,i,s,o){return NC.apply(this,arguments)}(t,jk,$k,e,Gk,op,n),new CX(t)}function zk(t,e,n,r){t=Ai(t),function pX(t,e,n,r,i){return EC.apply(this,arguments)}(Mr,Ar[t.app.options.appId],e,n,r).catch(i=>St.error(i))}const qk="@firebase/analytics";!function TX(){Ni(new Zr(sp,(e,{options:n})=>bX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ni(new Zr("analytics-internal",function t(e){try{const n=e.getProvider(sp).getImmediate();return{logEvent:(r,i,s)=>zk(n,r,i,s)}}catch(n){throw rn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),wr(qk,"0.10.0"),wr(qk,"0.10.0","esm2017")}();let kC=(()=>{var t;class e{constructor(){this.app=IM(xX),this.analytics=function IX(t=SM()){const e=Wo(t=Ai(t),sp);return e.isInitialized()?e.getImmediate():function SX(t,e={}){const n=Wo(t,sp);if(n.isInitialized()){const i=n.getImmediate();if(xh(e,n.getOptions()))return i;throw rn.create("already-initialized")}return n.initialize({options:e})}(t)}(this.app),this.firestore=function _Q(t,e){const r="string"==typeof t?t:e||"(default)",i=Wo("object"==typeof t?t:SM(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=bh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function mQ(t,e,n,r={}){var i;const s=(t=fe(t,nl))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Et.MOCK_USER;else{a=function j6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Eh(JSON.stringify({alg:"none",type:"JWT"})),Eh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new E(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Et(c)}t._authCredentials=new p7(new QN(a,u))}}(i,...s)}return i}(this.app),this.categoryCollection=UP(this.firestore,"categories"),this.coursesCollection=UP(this.firestore,"courses")}logIn(){}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),zk(this.analytics,r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var ap=(()=>(function(t){t.PAGE_VIEW="PAGE_VIEW",t.LOGIN="login",t.SIGN_UP="sign_up"}(ap||(ap={})),ap))();const xX={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function AX(t,e){if(1&t){const n=fr();M(0,"i",6),ae("click",function(){_t(n);const i=Ne(2);return wt(i.expand=!i.expand)}),Q(1),F()}if(2&t){const n=Ne(2);_e(1),xo(n.expand?"expand_more":"chevron_right")}}function MX(t,e){if(1&t){const n=fr();M(0,"div")(1,"app-category",9),ae("select",function(i){return _t(n),wt(Ne(3).select.emit(i))}),F()()}if(2&t){const n=e.$implicit,r=Ne(3);_e(1),Se("category",n)("current",r.current)}}function NX(t,e){if(1&t&&(M(0,"div",7),Pn(1,MX,2,2,"div",8),F()),2&t){const n=Ne(2);_e(1),Se("ngForOf",n.category.categories)}}const RX=function(t){return{"active-node":t}};function OX(t,e){if(1&t){const n=fr();M(0,"div",1)(1,"div",2),Pn(2,AX,2,1,"i",3),M(3,"span",4),ae("click",function(){_t(n);const i=Ne();return wt(i.select.emit(i.category))}),Q(4),F()(),Pn(5,NX,2,1,"div",5),F()}if(2&t){const n=Ne();_e(1),Se("ngClass",gi(4,RX,null!=n.current&&n.category.id==n.current.id)),_e(1),Se("ngIf",null!=n.category.categories&&n.category.categories.length>=0),_e(2),xo(n.category.name),_e(1),Se("ngIf",n.expand)}}let PX=(()=>{var t;class e{constructor(){this.select=new je,this.expand=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Un({type:t,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(r,i){1&r&&Pn(0,OX,6,6,"div",0),2&r&&Se("ngIf",i.category)},dependencies:[iy,Ld,xu,t],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})();function kX(t,e){if(1&t){const n=fr();M(0,"div",11)(1,"app-category",12),ae("select",function(i){return _t(n),wt(Ne().select(i))}),F()()}if(2&t){const n=e.$implicit,r=Ne();_e(1),Se("category",n)("current",r.category)}}function FX(t,e){if(1&t){const n=fr();M(0,"button",13),ae("click",function(){return _t(n),wt(Ne().deleteConfirm=!0)}),M(1,"i",8),Q(2,"delete"),F()()}}function LX(t,e){if(1&t){const n=fr();M(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),Q(5,"New Category"),F(),M(6,"button",19),ae("click",function(){return _t(n),wt(Ne().addCategoryModal=!1)}),F()(),M(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),ae("ngModelChange",function(i){return _t(n),wt(Ne().categoryName=i)}),F()()()(),M(11,"div",24)(12,"button",25),ae("click",function(){return _t(n),wt(Ne().addCategory())}),Q(13,"Add"),F()()()()()}if(2&t){const n=Ne();_e(10),Se("ngModel",n.categoryName)}}function VX(t,e){if(1&t){const n=fr();M(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),Q(5,"Delete Category"),F(),M(6,"button",19),ae("click",function(){return _t(n),wt(Ne().deleteConfirm=!1)}),F()(),M(7,"div",20)(8,"div",21)(9,"div",22),Q(10),F()()(),M(11,"div",24)(12,"button",25),ae("click",function(){return _t(n),wt(Ne().deleteCategory())}),Q(13,"Delete"),F()()()()()}if(2&t){const n=Ne();_e(10),ld(" Confirm to delete ",null==n.category?null:n.category.name," ")}}let BX=(()=>{var t;class e{constructor(r){this.firestore=r,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh()}refresh(){this.categories=[];let r=[];lk(rk(this.firestore.categoryCollection)).then(s=>{s.forEach(o=>{let a=o.data();a.id=o.id,r.push(a)}),r.filter(o=>null==o.parent).forEach(o=>this.categories.push(o)),this.categories.forEach(o=>this.linkCategories(o,r)),console.log(this.categories)})}linkCategories(r,i){r.categories=[],i.filter(s=>null!=s.parent&&s.parent==r.id).forEach(s=>{this.linkCategories(s,i),r.categories?.push(s)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let r={name:this.categoryName,active:!0};this.category&&(r.parent=this.category.id),dk(this.firestore.categoryCollection,r).then(i=>{alert("Category has been added succesfully ID:"+i.id),this.refresh()})}else alert("Please enter category name")}isNotEmpty(r){return null!=r&&""!=r}select(r){console.log("Selected Category",r),this.category=r}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&function PQ(t){return al(fe(t.firestore,Be),[new da(t._key,$e.none())])}(jP(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.refresh()})}}return(t=e).\u0275fac=function(r){return new(r||t)(b(kC))},t.\u0275cmp=Un({type:t,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"span"),Q(3,"Categories"),F()()(),M(4,"div",2)(5,"div",3),Pn(6,kX,2,2,"div",4),F()(),M(7,"div",5)(8,"div",6)(9,"button",7),ae("click",function(){return i.addCategoryModal=!0}),M(10,"i",8),Q(11,"add"),F()(),Pn(12,FX,3,0,"button",9),F()(),Pn(13,LX,14,1,"div",10),Pn(14,VX,14,1,"div",10)),2&r&&(_e(6),Se("ngForOf",i.categories),_e(6),Se("ngIf",null!=i.category),_e(1),Se("ngIf",i.addCategoryModal),_e(1),Se("ngIf",i.deleteConfirm))},dependencies:[Ld,xu,Ru,Cy,Jd,PX],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();function UX(t,e){if(1&t&&(M(0,"div",12)(1,"div",13)(2,"div",14)(3,"h5",15),Q(4),M(5,"i",16),Q(6,"open_in_new"),F()(),M(7,"h6",17),Q(8),F(),fi(9,"p",18),F()()()),2&t){const n=e.$implicit;_e(4),xo(n.name),_e(1),Se("routerLink",n.route),_e(3),xo(n.description)}}function jX(t,e){if(1&t){const n=fr();M(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"h4",23),Q(5,"New Course"),F(),M(6,"button",24),ae("click",function(){return _t(n),wt(Ne().addCourseModal=!1)}),F()(),M(7,"div",25)(8,"div",26)(9,"div",27)(10,"input",28),ae("ngModelChange",function(i){return _t(n),wt(Ne().course.name=i)}),F()(),M(11,"div",27)(12,"input",29),ae("ngModelChange",function(i){return _t(n),wt(Ne().course.description=i)}),F()(),M(13,"div",27)(14,"input",30),ae("ngModelChange",function(i){return _t(n),wt(Ne().course.category=i)}),F()(),M(15,"div",27)(16,"input",31),ae("ngModelChange",function(i){return _t(n),wt(Ne().course.image=i)}),F()()()(),M(17,"div",32)(18,"button",33),ae("click",function(){return _t(n),wt(Ne().addCourse())}),Q(19,"Add"),F()()()()()}if(2&t){const n=Ne();_e(10),Se("ngModel",n.course.name),_e(2),Se("ngModel",n.course.description),_e(2),Se("ngModel",n.course.category),_e(2),Se("ngModel",n.course.image)}}const $X=[{path:"",component:S6},{path:"home",redirectTo:""},{path:"account",component:T6},{path:"profile",component:x6},{path:"categories",component:BX},{path:"courses",component:(()=>{var t;class e{constructor(r){this.firestore=r,this.addCourseModal=!1,this.course={name:"",description:"",image:"",category:"",active:!0},this.courses=[],this.deleteConfirm=!1;const i=rk(this.firestore.coursesCollection,function MQ(t,e,n){const r=e,i=Zf("where",t);return ol._create(i,r,n)}("active","==",!0));lk(i).then(s=>s.forEach(o=>{let a=o.data();this.courses.push(a)}))}addCourse(){console.log(this.course),this.validate()?dk(this.firestore.coursesCollection,this.course).then(r=>{alert("Course has been added succesfully ID:"+r.id)}):alert("Please enter name, description, category")}validate(){return this.isNotEmpty(this.course.name)&&this.isNotEmpty(this.course.description)&&this.isNotEmpty(this.course.category)}isNotEmpty(r){return null!=r&&""!=r}}return(t=e).\u0275fac=function(r){return new(r||t)(b(kC))},t.\u0275cmp=Un({type:t,selectors:[["app-courses"]],decls:16,vars:2,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"text-right"],[1,"material-icons","pointer",3,"click"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Category",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Image URL",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"span"),Q(3,"Courses"),F(),M(4,"span",2)(5,"i",3),ae("click",function(){return i.addCourseModal=!0}),Q(6,"add"),F()()()(),M(7,"div",4)(8,"div",5),Pn(9,UX,10,3,"div",6),F()(),M(10,"div",7)(11,"div",8)(12,"button",9),ae("click",function(){return i.addCourseModal=!0}),M(13,"i",10),Q(14,"add"),F()()()(),Pn(15,jX,20,4,"div",11)),2&r&&(_e(9),Se("ngForOf",i.courses),_e(6),Se("ngIf",i.addCourseModal))},dependencies:[Ld,xu,Zu,Ru,Cy,Jd],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})()}];let HX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=sr({type:t}),t.\u0275inj=Bn({imports:[sM.forRoot($X),sM]}),e})();class GX extends gn{constructor(e,n){super()}schedule(e,n=0){return this}}const up={setInterval(t,e,...n){const{delegate:r}=up;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=up;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},Kk={now:()=>(Kk.delegate||Date).now(),delegate:void 0};class cl{constructor(e,n=cl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}cl.now=Kk.now;const Qk=new class qX extends cl{constructor(e,n=cl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class zX extends GX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return up.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&up.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),WX=Qk;function Yk(t,e){return e?n=>th(e.pipe(Di(1),function KX(){return ht((t,e)=>{t.subscribe(st(e,cp))})}()),n.pipe(Yk(t))):vt((n,r)=>mn(t(n,r)).pipe(Di(1),n1(n)))}const Pa=function(t){return{active:t}};let ZX=(()=>{var t;class e{constructor(r){this.router=r,this.close=new je,this.active="",this.active=this.router.url,r.events.subscribe(i=>{i instanceof Si&&(this.active=this.router.url)})}focus(r){this.router.navigate([r]),this.close.emit(!0)}}return(t=e).\u0275fac=function(r){return new(r||t)(b(en))},t.\u0275cmp=Un({type:t,selectors:[["app-menu"]],outputs:{close:"close"},decls:35,vars:18,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],[1,"m"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"i",2),ae("click",function(){return i.close.emit(!0)}),Q(3,"close"),F()(),M(4,"div",3)(5,"div",4),ae("click",function(){return i.focus("home")}),M(6,"i",5),Q(7,"home"),F(),M(8,"span",6),Q(9,"Home"),F()(),M(10,"div",4),ae("click",function(){return i.focus("categories")}),M(11,"i",5),Q(12,"category"),F(),M(13,"span",6),Q(14,"Categories"),F()(),M(15,"div",4),ae("click",function(){return i.focus("courses")}),M(16,"i",5),Q(17,"menu_book"),F(),M(18,"span",6),Q(19,"Courses"),F()(),M(20,"div",4),ae("click",function(){return i.focus("assessments")}),M(21,"i",5),Q(22,"assignment"),F(),M(23,"span",6),Q(24,"Assessments"),F()(),M(25,"div",4),ae("click",function(){return i.focus("notifications")}),M(26,"i",5),Q(27,"notifications"),F(),M(28,"span",6),Q(29,"Notifications"),F()(),M(30,"div",4),ae("click",function(){return i.focus("logout")}),M(31,"i",5),Q(32,"logout"),F(),M(33,"span",6),Q(34,"Logout"),F()()()()),2&r&&(_e(5),Se("ngClass",gi(6,Pa,"app-profile"==i.active)),_e(5),Se("ngClass",gi(8,Pa,"/categories"==i.active)),_e(5),Se("ngClass",gi(10,Pa,"/courses"==i.active)),_e(5),Se("ngClass",gi(12,Pa,"/assessments"==i.active)),_e(5),Se("ngClass",gi(14,Pa,"/notifications"==i.active)),_e(5),Se("ngClass",gi(16,Pa,"/logout"==i.active)))},dependencies:[iy],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),e})();function JX(t,e){if(1&t){const n=fr();M(0,"app-menu",8),ae("close",function(){return _t(n),wt(Ne().menu=!1)}),F()}}let eZ=(()=>{var t;class e{constructor(){this.menu=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Un({type:t,selectors:[["app-header"]],decls:10,vars:1,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],[1,"material-icons","text-light"],[1,"col-12","p-0","text-center"],[1,"t","a"],[3,"close",4,"ngIf"],[3,"close"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),ae("click",function(){return i.menu=!i.menu}),M(4,"i",4),Q(5,"menu"),F()()(),M(6,"div",5)(7,"div",6),Q(8,"IMPULSE"),F()()()(),Pn(9,JX,1,0,"app-menu",7)),2&r&&(_e(9),Se("ngIf",i.menu))},dependencies:[xu,ZX],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),e})(),tZ=(()=>{var t;class e{constructor(r,i,s){this.firestore=r,this.firestore.log(ap.PAGE_VIEW),this.handleScroll(i,s)}handleScroll(r,i){r.events.pipe(Yr(s=>s instanceof Xy)).pipe(function XX(t,e=Qk){const n=function YX(t=0,e,n=WX){let r=-1;return null!=e&&(s0(e)?n=e:r=e),new Ye(i=>{let s=function QX(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,e);return Yk(()=>n)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(t=e).\u0275fac=function(r){return new(r||t)(b(kC),b(en),b(yx))},t.\u0275cmp=Un({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&fi(0,"app-header")(1,"router-outlet")},dependencies:[iv,eZ],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),nZ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=sr({type:t,bootstrap:[tZ]}),t.\u0275inj=Bn({imports:[kG,HX,Z9]}),e})();PG().bootstrapModule(nZ).catch(t=>console.error(t))}},xe=>{xe(xe.s=554)}]);