"use strict";(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{945:()=>{function Pe(n){return"function"==typeof n}function _u(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const rd=_u(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function bo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class xn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Pe(r))try{r()}catch(s){e=s instanceof rd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ZD(s)}catch(o){e=e??[],o instanceof rd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new rd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ZD(e);else{if(e instanceof xn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bo(t,e)}remove(e){const{_finalizers:t}=this;t&&bo(t,e),e instanceof xn&&e._removeParent(this)}}xn.EMPTY=(()=>{const n=new xn;return n.closed=!0,n})();const JD=xn.EMPTY;function XD(n){return n instanceof xn||n&&"closed"in n&&Pe(n.remove)&&Pe(n.add)&&Pe(n.unsubscribe)}function ZD(n){Pe(n)?n():n.unsubscribe()}const Ds={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},id={setTimeout(n,e,...t){const{delegate:r}=id;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=id;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function eb(n){id.setTimeout(()=>{const{onUnhandledError:e}=Ds;if(!e)throw n;e(n)})}function yg(){}const wU=_g("C",void 0,void 0);function _g(n,e,t){return{kind:n,value:e,error:t}}let bs=null;function sd(n){if(Ds.useDeprecatedSynchronousErrorHandling){const e=!bs;if(e&&(bs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=bs;if(bs=null,t)throw r}}else n()}class vg extends xn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,XD(e)&&e.add(this)):this.destination=SU}static create(e,t,r){return new vu(e,t,r)}next(e){this.isStopped?Ig(function CU(n){return _g("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ig(function IU(n){return _g("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ig(wU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const DU=Function.prototype.bind;function wg(n,e){return DU.call(n,e)}class bU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){od(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){od(r)}else od(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){od(t)}}}class vu extends vg{constructor(e,t,r){let i;if(super(),Pe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ds.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wg(e.next,s),error:e.error&&wg(e.error,s),complete:e.complete&&wg(e.complete,s)}):i=e}this.destination=new bU(i)}}function od(n){Ds.useDeprecatedSynchronousErrorHandling?function EU(n){Ds.useDeprecatedSynchronousErrorHandling&&bs&&(bs.errorThrown=!0,bs.error=n)}(n):eb(n)}function Ig(n,e){const{onStoppedNotification:t}=Ds;t&&id.setTimeout(()=>t(n,e))}const SU={closed:!0,next:yg,error:function TU(n){throw n},complete:yg},Cg="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ts(n){return n}function tb(n){return 0===n.length?Ts:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let rt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function MU(n){return n&&n instanceof vg||function xU(n){return n&&Pe(n.next)&&Pe(n.error)&&Pe(n.complete)}(n)&&XD(n)}(t)?t:new vu(t,r,i);return sd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=nb(r))((i,s)=>{const o=new vu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Cg](){return this}pipe(...t){return tb(t)(this)}toPromise(t){return new(t=nb(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function nb(n){var e;return null!==(e=n??Ds.Promise)&&void 0!==e?e:Promise}const NU=_u(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Yr=(()=>{class n extends rt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new rb(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new NU}next(t){sd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){sd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){sd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?JD:(this.currentObservers=null,s.push(t),new xn(()=>{this.currentObservers=null,bo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new rt;return t.source=this,t}}return n.create=(e,t)=>new rb(e,t),n})();class rb extends Yr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:JD}}function ib(n){return Pe(n?.lift)}function Ct(n){return e=>{if(ib(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(n,e,t,r,i){return new RU(n,e,t,r,i)}class RU extends vg{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(n,e){return Ct((t,r)=>{let i=0;t.subscribe(ht(r,s=>{r.next(n.call(e,s,i++))}))})}function ad(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Oi(n){return this instanceof Oi?(this.v=n,this):new Oi(n)}function ub(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Tg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const cb=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function lb(n){return Pe(n?.then)}function db(n){return Pe(n[Cg])}function hb(n){return Symbol.asyncIterator&&Pe(n?.[Symbol.asyncIterator])}function fb(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pb=function ZU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function gb(n){return Pe(n?.[pb])}function mb(n){return function ab(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Oi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Oi(t.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{t.releaseLock()}})}function yb(n){return Pe(n?.getReader)}function Mn(n){if(n instanceof rt)return n;if(null!=n){if(db(n))return function eB(n){return new rt(e=>{const t=n[Cg]();if(Pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(cb(n))return function tB(n){return new rt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(lb(n))return function nB(n){return new rt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,eb)})}(n);if(hb(n))return _b(n);if(gb(n))return function rB(n){return new rt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(yb(n))return function iB(n){return _b(mb(n))}(n)}throw fb(n)}function _b(n){return new rt(e=>{(function sB(n,e){var t,r,i,s;return function sb(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ub(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Jr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function At(n,e,t=1/0){return Pe(e)?At((r,i)=>pe((s,o)=>e(r,s,i,o))(Mn(n(r,i))),t):("number"==typeof e&&(t=e),Ct((r,i)=>function oB(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Mn(t(m,l++)).subscribe(ht(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Jr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return n.subscribe(ht(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function To(n=1/0){return At(Ts,n)}const wr=new rt(n=>n.complete());function vb(n){return n&&Pe(n.schedule)}function Sg(n){return n[n.length-1]}function wb(n){return Pe(Sg(n))?n.pop():void 0}function wu(n){return vb(Sg(n))?n.pop():void 0}function Ib(n,e=0){return Ct((t,r)=>{t.subscribe(ht(r,i=>Jr(r,n,()=>r.next(i),e),()=>Jr(r,n,()=>r.complete(),e),i=>Jr(r,n,()=>r.error(i),e)))})}function Cb(n,e=0){return Ct((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Eb(n,e){if(!n)throw new Error("Iterable cannot be null");return new rt(t=>{Jr(t,e,()=>{const r=n[Symbol.asyncIterator]();Jr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ft(n,e){return e?function pB(n,e){if(null!=n){if(db(n))return function cB(n,e){return Mn(n).pipe(Cb(e),Ib(e))}(n,e);if(cb(n))return function dB(n,e){return new rt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(lb(n))return function lB(n,e){return Mn(n).pipe(Cb(e),Ib(e))}(n,e);if(hb(n))return Eb(n,e);if(gb(n))return function hB(n,e){return new rt(t=>{let r;return Jr(t,e,()=>{r=n[pb](),Jr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Pe(r?.return)&&r.return()})}(n,e);if(yb(n))return function fB(n,e){return Eb(mb(n),e)}(n,e)}throw fb(n)}(n,e):Mn(n)}function Ag(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new vu({next:()=>{r.unsubscribe(),n()}});return Mn(e(...t)).subscribe(r)}function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function xg(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Mg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const yB=ke({__forward_ref__:ke});function Fe(n){return n.__forward_ref__=Fe,n.toString=function(){return Oe(this())},n}function J(n){return Ng(n)?n():n}function Ng(n){return"function"==typeof n&&n.hasOwnProperty(yB)&&n.__forward_ref__===Fe}function Rg(n){return n&&!!n.\u0275providers}const Db="https://g.co/ng/security#xss";class x extends Error{constructor(e,t){super(ud(e,t)),this.code=e}}function ud(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function cd(n,e){throw new x(-201,!1)}function Gn(n,e){null==n&&function Ae(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nr(n){return{providers:n.providers||[],imports:n.imports||[]}}function ld(n){return bb(n,dd)||bb(n,Sb)}function bb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Tb(n){return n&&(n.hasOwnProperty(kg)||n.hasOwnProperty(bB))?n[kg]:null}const dd=ke({\u0275prov:ke}),kg=ke({\u0275inj:ke}),Sb=ke({ngInjectableDef:ke}),bB=ke({ngInjectorDef:ke});var X=(()=>((X=X||{})[X.Default=0]="Default",X[X.Host=1]="Host",X[X.Self=2]="Self",X[X.SkipSelf=4]="SkipSelf",X[X.Optional=8]="Optional",X))();let Pg;function Hn(n){const e=Pg;return Pg=n,e}function Ab(n,e,t){const r=ld(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&X.Optional?null:void 0!==e?e:void cd(Oe(n))}const Be=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Iu={},Og="__NG_DI_FLAG__",hd="ngTempTokenPath",SB="ngTokenPath",AB=/\n/gm,xB="\u0275",xb="__source";let Cu;function So(n){const e=Cu;return Cu=n,e}function MB(n,e=X.Default){if(void 0===Cu)throw new x(-203,!1);return null===Cu?Ab(n,void 0,e):Cu.get(n,e&X.Optional?null:void 0,e)}function z(n,e=X.Default){return(function TB(){return Pg}()||MB)(J(n),e)}function ge(n,e=X.Default){return z(n,fd(e))}function fd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Fg(n){const e=[];for(let t=0;t<n.length;t++){const r=J(n[t]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){const a=r[o],u=NB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(z(i,s))}else e.push(z(r))}return e}function Eu(n,e){return n[Og]=e,n.prototype[Og]=e,n}function NB(n){return n[Og]}function Xr(n){return{toString:n}.toString()}var Ir=(()=>((Ir=Ir||{})[Ir.OnPush=0]="OnPush",Ir[Ir.Default=1]="Default",Ir))(),Cr=(()=>{return(n=Cr||(Cr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Cr;var n})();const Zr={},be=[],pd=ke({\u0275cmp:ke}),Lg=ke({\u0275dir:ke}),Vg=ke({\u0275pipe:ke}),Nb=ke({\u0275mod:ke}),ei=ke({\u0275fac:ke}),Du=ke({__NG_ELEMENT_ID__:ke});let PB=0;function pt(n){return Xr(()=>{const e=kb(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ir.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Cr.Emulated,id:"c"+PB++,styles:n.styles||be,_:null,schemas:n.schemas||null,tView:null};Pb(t);const r=n.dependencies;return t.directiveDefs=gd(r,!1),t.pipeDefs=gd(r,!0),t})}function FB(n){return xe(n)||Qt(n)}function LB(n){return null!==n}function Er(n){return Xr(()=>({type:n.type,bootstrap:n.bootstrap||be,declarations:n.declarations||be,imports:n.imports||be,exports:n.exports||be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Rb(n,e){if(null==n)return Zr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function te(n){return Xr(()=>{const e=kb(n);return Pb(e),e})}function xe(n){return n[pd]||null}function Qt(n){return n[Lg]||null}function wn(n){return n[Vg]||null}function Rn(n,e){const t=n[Nb]||null;if(!t&&!0===e)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return t}function kb(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||be,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Rb(n.inputs,e),outputs:Rb(n.outputs)}}function Pb(n){n.features?.forEach(e=>e(n))}function gd(n,e){if(!n)return null;const t=e?wn:FB;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(LB)}const ti=0,L=1,ce=2,Xe=3,rr=4,Ss=5,Yt=6,xo=7,it=8,md=9,yd=10,de=11,Ug=12,bu=13,Ob=14,Mo=15,Jt=16,Tu=17,No=18,Dr=19,Su=20,Fb=21,je=22,Bg=1,Lb=2,_d=7,vd=8,Ro=9,un=10;function kn(n){return Array.isArray(n)&&"object"==typeof n[Bg]}function ir(n){return Array.isArray(n)&&!0===n[Bg]}function jg(n){return 0!=(4&n.flags)}function Au(n){return n.componentOffset>-1}function wd(n){return 1==(1&n.flags)}function sr(n){return!!n.template}function UB(n){return 0!=(256&n[ce])}function As(n,e){return n.hasOwnProperty(ei)?n[ei]:null}class $B{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function zn(){return Bb}function Bb(n){return n.type.prototype.ngOnChanges&&(n.setInput=HB),GB}function GB(){const n=$b(this),e=n?.current;if(e){const t=n.previous;if(t===Zr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function HB(n,e,t,r){const i=this.declaredInputs[t],s=$b(n)||function zB(n,e){return n[jb]=e}(n,{previous:Zr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new $B(u&&u.currentValue,e,a===Zr),n[r]=e}zn.ngInherit=!0;const jb="__ngSimpleChanges__";function $b(n){return n[jb]||null}const qn=function(n,e,t){};function Bt(n){for(;Array.isArray(n);)n=n[ti];return n}function Id(n,e){return Bt(e[n])}function Pn(n,e){return Bt(e[n.index])}function zb(n,e){return n.data[e]}function In(n,e){const t=e[n];return kn(t)?t:t[ti]}function Cd(n){return 64==(64&n[ce])}function Li(n,e){return null==e?null:n[e]}function qb(n){n[No]=0}function Gg(n,e){n[Ss]+=e;let t=n,r=n[Xe];for(;null!==r&&(1===e&&1===t[Ss]||-1===e&&0===t[Ss]);)r[Ss]+=e,t=r,r=r[Xe]}const se={lFrame:nT(null),bindingsEnabled:!0};function Kb(){return se.bindingsEnabled}function T(){return se.lFrame.lView}function we(){return se.lFrame.tView}function me(n){return se.lFrame.contextLView=n,n[it]}function ye(n){return se.lFrame.contextLView=null,n}function jt(){let n=Qb();for(;null!==n&&64===n.type;)n=n.parent;return n}function Qb(){return se.lFrame.currentTNode}function br(n,e){const t=se.lFrame;t.currentTNode=n,t.isParent=e}function Hg(){return se.lFrame.isParent}function Po(){return se.lFrame.bindingIndex++}function ij(n,e){const t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,qg(e)}function qg(n){se.lFrame.currentDirectiveIndex=n}function Kg(n){se.lFrame.currentQueryIndex=n}function oj(n){const e=n[L];return 2===e.type?e.declTNode:1===e.type?n[Yt]:null}function eT(n,e,t){if(t&X.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&X.Host||(i=oj(s),null===i||(s=s[Mo],10&i.type))););if(null===i)return!1;e=i,n=s}const r=se.lFrame=tT();return r.currentTNode=e,r.lView=n,!0}function Qg(n){const e=tT(),t=n[L];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function tT(){const n=se.lFrame,e=null===n?null:n.child;return null===e?nT(n):e}function nT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function rT(){const n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const iT=rT;function Yg(){const n=rT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ln(){return se.lFrame.selectedIndex}function xs(n){se.lFrame.selectedIndex=n}function Ke(){const n=se.lFrame;return zb(n.tView,n.selectedIndex)}function Ed(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks??(n.destroyHooks=[])).push(t,l)}}function Dd(n,e,t){sT(n,e,3,t)}function bd(n,e,t,r){(3&n[ce])===t&&sT(n,e,t,r)}function Jg(n,e){let t=n[ce];(3&t)===e&&(t&=2047,t+=1,n[ce]=t)}function sT(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[No]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[No]+=65536),(a<s||-1==s)&&(gj(n,t,e,u),n[No]=(4294901760&n[No])+u+2),u++}function gj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[ce]>>11<n[No]>>16&&(3&n[ce])===e){n[ce]+=2048,qn(4,a,s);try{s.call(a)}finally{qn(5,a,s)}}}else{qn(4,a,s);try{s.call(a)}finally{qn(5,a,s)}}}const Oo=-1;class Mu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Zg(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];aT(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function oT(n){return 3===n||4===n||6===n}function aT(n){return 64===n.charCodeAt(0)}function Nu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||uT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function uT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function cT(n){return n!==Oo}function Td(n){return 32767&n}function Sd(n,e){let t=function vj(n){return n>>16}(n),r=e;for(;t>0;)r=r[Mo],t--;return r}let em=!0;function Ad(n){const e=em;return em=n,e}const lT=255,dT=5;let wj=0;const Tr={};function xd(n,e){const t=hT(n,e);if(-1!==t)return t;const r=e[L];r.firstCreatePass&&(n.injectorIndex=e.length,tm(r.data,n),tm(e,null),tm(r.blueprint,null));const i=nm(n,e),s=n.injectorIndex;if(cT(i)){const o=Td(i),a=Sd(i,e),u=a[L].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function tm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function hT(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function nm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=vT(i),null===r)return Oo;if(t++,i=i[Mo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Oo}function rm(n,e,t){!function Ij(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Du)&&(r=t[Du]),null==r&&(r=t[Du]=wj++);const i=r&lT;e.data[n+(i>>dT)]|=1<<i}(n,e,t)}function fT(n,e,t){if(t&X.Optional||void 0!==n)return n;cd()}function pT(n,e,t,r){if(t&X.Optional&&void 0===r&&(r=null),!(t&(X.Self|X.Host))){const i=n[md],s=Hn(void 0);try{return i?i.get(e,r,t&X.Optional):Ab(e,r,t&X.Optional)}finally{Hn(s)}}return fT(r,0,t)}function gT(n,e,t,r=X.Default,i){if(null!==n){if(1024&e[ce]){const o=function Tj(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[ce]&&!(256&o[ce]);){const a=mT(s,o,t,r|X.Self,Tr);if(a!==Tr)return a;let u=s.parent;if(!u){const c=o[Fb];if(c){const l=c.get(t,Tr,r);if(l!==Tr)return l}u=vT(o),o=o[Mo]}s=u}return i}(n,e,t,r,Tr);if(o!==Tr)return o}const s=mT(n,e,t,r,Tr);if(s!==Tr)return s}return pT(e,t,r,i)}function mT(n,e,t,r,i){const s=function Dj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Du)?n[Du]:void 0;return"number"==typeof e?e>=0?e&lT:bj:e}(t);if("function"==typeof s){if(!eT(e,n,r))return r&X.Host?fT(i,0,r):pT(e,t,r,i);try{const o=s(r);if(null!=o||r&X.Optional)return o;cd()}finally{iT()}}else if("number"==typeof s){let o=null,a=hT(n,e),u=Oo,c=r&X.Host?e[Jt][Yt]:null;for((-1===a||r&X.SkipSelf)&&(u=-1===a?nm(n,e):e[a+8],u!==Oo&&_T(r,!1)?(o=e[L],a=Td(u),e=Sd(u,e)):a=-1);-1!==a;){const l=e[L];if(yT(s,a,l.data)){const d=Ej(a,e,t,o,r,c);if(d!==Tr)return d}u=e[a+8],u!==Oo&&_T(r,e[L].data[a+8]===c)&&yT(s,a,e)?(o=l,a=Td(u),e=Sd(u,e)):a=-1}}return i}function Ej(n,e,t,r,i,s){const o=e[L],a=o.data[n+8],l=function Md(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&sr(f)&&f.type===t)return u}return null}(a,o,t,null==r?Au(a)&&em:r!=o&&0!=(3&a.type),i&X.Host&&s===a);return null!==l?Ms(e,o,l,a):Tr}function Ms(n,e,t,r){let i=n[t];const s=e.data;if(function mj(n){return n instanceof Mu}(i)){const o=i;o.resolving&&function _B(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Se(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(s[t]));const a=Ad(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Hn(o.injectImpl):null;eT(n,r,X.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function pj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Bb(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Hn(u),Ad(a),o.resolving=!1,iT()}}return i}function yT(n,e,t){return!!(t[e+(n>>dT)]&1<<n)}function _T(n,e){return!(n&X.Self||n&X.Host&&e)}class Fo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return gT(this._tNode,this._lView,e,fd(r),t)}}function bj(){return new Fo(jt(),T())}function $t(n){return Xr(()=>{const e=n.prototype.constructor,t=e[ei]||im(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ei]||im(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function im(n){return Ng(n)?()=>{const e=im(J(n));return e&&e()}:As(n)}function vT(n){const e=n[L],t=e.type;return 2===t?e.declTNode:1===t?n[Yt]:null}const Vo="__parameters__";function Bo(n,e,t){return Xr(()=>{const r=function sm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Vo)?u[Vo]:Object.defineProperty(u,Vo,{value:[]})[Vo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ${constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ns(n,e){n.forEach(t=>Array.isArray(t)?Ns(t,e):e(t))}function IT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Rd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function On(n,e,t){let r=jo(n,e);return r>=0?n[1|r]=t:(r=~r,function Mj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function am(n,e){const t=jo(n,e);if(t>=0)return n[1|t]}function jo(n,e){return function CT(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ou=Eu(Bo("Optional"),8),Fu=Eu(Bo("SkipSelf"),4);var Cn=(()=>((Cn=Cn||{})[Cn.Important=1]="Important",Cn[Cn.DashCase=2]="DashCase",Cn))();const fm=new Map;let Xj=0;const gm="__ngContext__";function Xt(n,e){kn(e)?(n[gm]=e[Su],function e$(n){fm.set(n[Su],n)}(e)):n[gm]=e}let mm;function ym(n,e){return mm(n,e)}function Bu(n){const e=n[Xe];return ir(e)?e[Xe]:e}function _m(n){return $T(n[bu])}function vm(n){return $T(n[rr])}function $T(n){for(;null!==n&&!ir(n);)n=n[rr];return n}function Go(n,e,t,r,i){if(null!=r){let s,o=!1;ir(r)?s=r:kn(r)&&(o=!0,r=r[ti]);const a=Bt(r);0===n&&null!==t?null==i?KT(e,t,a):Rs(e,t,a,i||null,!0):1===n&&null!==t?Rs(e,t,a,i||null,!0):2===n?function Tm(n,e,t){const r=Fd(n,e);r&&function w$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function E$(n,e,t,r,i){const s=t[_d];s!==Bt(t)&&Go(e,n,r,s,i);for(let a=un;a<t.length;a++){const u=t[a];ju(u[L],u,n,e,r,s)}}(e,n,s,t,i)}}function Im(n,e,t){return n.createElement(e,t)}function HT(n,e){const t=n[Ro],r=t.indexOf(e),i=e[Xe];512&e[ce]&&(e[ce]&=-513,Gg(i,-1)),t.splice(r,1)}function Cm(n,e){if(n.length<=un)return;const t=un+e,r=n[t];if(r){const i=r[Tu];null!==i&&i!==n&&HT(i,r),e>0&&(n[t-1][rr]=r[rr]);const s=Rd(n,un+e);!function h$(n,e){ju(n,e,e[de],2,null,null),e[ti]=null,e[Yt]=null}(r[L],r);const o=s[Dr];null!==o&&o.detachView(s[L]),r[Xe]=null,r[rr]=null,r[ce]&=-65}return r}function zT(n,e){if(!(128&e[ce])){const t=e[de];t.destroyNode&&ju(n,e,t,3,null,null),function g$(n){let e=n[bu];if(!e)return Em(n[L],n);for(;e;){let t=null;if(kn(e))t=e[bu];else{const r=e[un];r&&(t=r)}if(!t){for(;e&&!e[rr]&&e!==n;)kn(e)&&Em(e[L],e),e=e[Xe];null===e&&(e=n),kn(e)&&Em(e[L],e),t=e&&e[rr]}e=t}}(e)}}function Em(n,e){if(!(128&e[ce])){e[ce]&=-65,e[ce]|=128,function v$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Mu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];qn(4,a,u);try{u.call(a)}finally{qn(5,a,u)}}else{qn(4,i,s);try{s.call(i)}finally{qn(5,i,s)}}}}}(n,e),function _$(n,e){const t=n.cleanup,r=e[xo];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[xo]=null}}(n,e),1===e[L].type&&e[de].destroy();const t=e[Tu];if(null!==t&&ir(e[Xe])){t!==e[Xe]&&HT(t,e);const r=e[Dr];null!==r&&r.detachView(n)}!function t$(n){fm.delete(n[Su])}(e)}}function qT(n,e,t){return function WT(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[ti];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Cr.None||s===Cr.Emulated)return null}return Pn(r,t)}}(n,e.parent,t)}function Rs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function KT(n,e,t){n.appendChild(e,t)}function QT(n,e,t,r,i){null!==r?Rs(n,e,t,r,i):KT(n,e,t)}function Fd(n,e){return n.parentNode(e)}let Dm,Ud,xm,Bd,XT=function JT(n,e,t){return 40&n.type?Pn(n,t):null};function Ld(n,e,t,r){const i=qT(n,r,e),s=e[de],a=function YT(n,e,t){return XT(n,e,t)}(r.parent||e[Yt],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)QT(s,i,t[u],a,!1);else QT(s,i,t,a,!1);void 0!==Dm&&Dm(s,r,e,t,i)}function Vd(n,e){if(null!==e){const t=e.type;if(3&t)return Pn(e,n);if(4&t)return bm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Vd(n,r);{const i=n[e.index];return ir(i)?bm(-1,i):Bt(i)}}if(32&t)return ym(e,n)()||Bt(n[e.index]);{const r=eS(n,e);return null!==r?Array.isArray(r)?r[0]:Vd(Bu(n[Jt]),r):Vd(n,e.next)}}return null}function eS(n,e){return null!==e?n[Jt][Yt].projection[e.projection]:null}function bm(n,e){const t=un+n+1;if(t<e.length){const r=e[t],i=r[L].firstChild;if(null!==i)return Vd(r,i)}return e[_d]}function Sm(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Xt(Bt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Sm(n,e,t.child,r,i,s,!1),Go(e,n,i,a,s);else if(32&u){const c=ym(t,r);let l;for(;l=c();)Go(e,n,i,l,s);Go(e,n,i,a,s)}else 16&u?tS(n,e,r,t,i,s):Go(e,n,i,a,s);t=o?t.projectionNext:t.next}}function ju(n,e,t,r,i,s){Sm(t,r,n.firstChild,e,i,s,!1)}function tS(n,e,t,r,i,s){const o=t[Jt],u=o[Yt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Go(e,n,i,u[c],s);else Sm(n,e,u,o[Xe],i,s,!0)}function nS(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function rS(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Zg(n,e,r),null!==i&&nS(n,e,i),null!==s&&function b$(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Ho(n){return function Am(){if(void 0===Ud&&(Ud=null,Be.trustedTypes))try{Ud=Be.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ud}()?.createHTML(n)||n}function Mm(){if(void 0===Bd&&(Bd=null,Be.trustedTypes))try{Bd=Be.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Bd}function sS(n){return Mm()?.createHTML(n)||n}function aS(n){return Mm()?.createScriptURL(n)||n}class uS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Db})`}}function Vi(n){return n instanceof uS?n.changingThisBreaksApplicationSecurity:n}function $u(n,e){const t=function O$(n){return n instanceof uS&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Db})`)}return t===e}class F${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ho(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class L${constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Ho(e),t}}const U$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nm(n){return(n=String(n)).match(U$)?n:"unsafe:"+n}function ii(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Gu(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const lS=ii("area,br,col,hr,img,wbr"),dS=ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hS=ii("rp,rt"),Rm=Gu(lS,Gu(dS,ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gu(hS,ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gu(hS,dS)),km=ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fS=Gu(km,ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),B$=ii("script,style,template");class j${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Rm.hasOwnProperty(t))return this.sanitizedSomething=!0,!B$.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!fS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;km[a]&&(u=Nm(u)),this.buf.push(" ",o,'="',pS(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Rm.hasOwnProperty(t)&&!lS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(pS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const $$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,G$=/([^\#-~ |!])/g;function pS(n){return n.replace(/&/g,"&amp;").replace($$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(G$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jd;function Pm(n){return"content"in n&&function z$(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var gt=(()=>((gt=gt||{})[gt.NONE=0]="NONE",gt[gt.HTML=1]="HTML",gt[gt.STYLE=2]="STYLE",gt[gt.SCRIPT=3]="SCRIPT",gt[gt.URL=4]="URL",gt[gt.RESOURCE_URL=5]="RESOURCE_URL",gt))();function gS(n){const e=Hu();return e?sS(e.sanitize(gt.HTML,n)||""):$u(n,"HTML")?sS(Vi(n)):function H$(n,e){let t=null;try{jd=jd||function cS(n){const e=new L$(n);return function V$(){try{return!!(new window.DOMParser).parseFromString(Ho(""),"text/html")}catch{return!1}}()?new F$(e):e}(n);let r=e?String(e):"";t=jd.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=jd.getInertBodyElement(r)}while(r!==s);return Ho((new j$).sanitizeChildren(Pm(t)||t))}finally{if(t){const r=Pm(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(function iS(){return void 0!==xm?xm:typeof document<"u"?document:void 0}(),ie(n))}function Om(n){const e=Hu();return e?e.sanitize(gt.URL,n)||"":$u(n,"URL")?Vi(n):Nm(ie(n))}function mS(n){const e=Hu();if(e)return aS(e.sanitize(gt.RESOURCE_URL,n)||"");if($u(n,"ResourceURL"))return aS(Vi(n));throw new x(904,!1)}function Hu(){const n=T();return n&&n[Ug]}const $d=new $("ENVIRONMENT_INITIALIZER"),_S=new $("INJECTOR",-1),vS=new $("INJECTOR_DEF_TYPES");class wS{get(e,t=Iu){if(t===Iu){const r=new Error(`NullInjectorError: No provider for ${Oe(e)}!`);throw r.name="NullInjectorError",r}return t}}function J$(...n){return{\u0275providers:IS(0,n),\u0275fromNgModule:!0}}function IS(n,...e){const t=[],r=new Set;let i;return Ns(e,s=>{const o=s;Fm(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&CS(i,t),t}function CS(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Lm(i,s=>{e.push(s)})}}function Fm(n,e,t,r){if(!(n=J(n)))return!1;let i=null,s=Tb(n);const o=!s&&xe(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=Tb(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Fm(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ns(s.imports,l=>{Fm(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&CS(c,e)}if(!a){const c=As(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:be},{provide:vS,useValue:i,multi:!0},{provide:$d,useValue:()=>z(i),multi:!0})}const u=s.providers;null==u||a||Lm(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function Lm(n,e){for(let t of n)Rg(t)&&(t=t.\u0275providers),Array.isArray(t)?Lm(t,e):e(t)}const X$=ke({provide:String,useValue:ke});function Vm(n){return null!==n&&"object"==typeof n&&X$ in n}function ks(n){return"function"==typeof n}const Um=new $("Set Injector scope."),Gd={},e4={};let Bm;function Hd(){return void 0===Bm&&(Bm=new wS),Bm}class si{}class bS extends si{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$m(e,o=>this.processProvider(o)),this.records.set(_S,zo(void 0,this)),i.has("environment")&&this.records.set(si,zo(void 0,this));const s=this.records.get(Um);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vS.multi,be,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=So(this),r=Hn(void 0);try{return e()}finally{So(t),Hn(r)}}get(e,t=Iu,r=X.Default){this.assertNotDestroyed(),r=fd(r);const i=So(this),s=Hn(void 0);try{if(!(r&X.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function s4(n){return"function"==typeof n||"object"==typeof n&&n instanceof $}(e)&&ld(e);a=u&&this.injectableDefInScope(u)?zo(jm(e),Gd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&X.Self?Hd():this.parent).get(e,t=r&X.Optional&&t===Iu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[hd]=o[hd]||[]).unshift(Oe(e)),i)throw o;return function RB(n,e,t,r){const i=n[hd];throw e[xb]&&i.unshift(e[xb]),n.message=function kB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==xB?n.slice(2):n;let i=Oe(e);if(Array.isArray(e))i=e.map(Oe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Oe(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(AB,"\n  ")}`}("\n"+n.message,i,t,r),n[SB]=i,n[hd]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Hn(s),So(i)}}resolveInjectorInitializers(){const e=So(this),t=Hn(void 0);try{const r=this.get($d.multi,be,X.Self);for(const i of r)i()}finally{So(e),Hn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Oe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let t=ks(e=J(e))?e:J(e&&e.provide);const r=function n4(n){return Vm(n)?zo(void 0,n.useValue):zo(TS(n),Gd)}(e);if(ks(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=zo(void 0,Gd,!0),i.factory=()=>Fg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Gd&&(t.value=e4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function i4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=J(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function jm(n){const e=ld(n),t=null!==e?e.factory:As(n);if(null!==t)return t;if(n instanceof $)throw new x(204,!1);if(n instanceof Function)return function t4(n){const e=n.length;if(e>0)throw function Pu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new x(204,!1);const t=function DB(n){return n&&(n[dd]||n[Sb])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new x(204,!1)}function TS(n,e,t){let r;if(ks(n)){const i=J(n);return As(i)||jm(i)}if(Vm(n))r=()=>J(n.useValue);else if(function DS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Fg(n.deps||[]));else if(function ES(n){return!(!n||!n.useExisting)}(n))r=()=>z(J(n.useExisting));else{const i=J(n&&(n.useClass||n.provide));if(!function r4(n){return!!n.deps}(n))return As(i)||jm(i);r=()=>new i(...Fg(n.deps))}return r}function zo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $m(n,e){for(const t of n)Array.isArray(t)?$m(t,e):t&&Rg(t)?$m(t.\u0275providers,e):e(t)}class o4{}class SS{}class u4{resolveComponentFactory(e){throw function a4(n){const e=Error(`No component factory found for ${Oe(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let zu=(()=>{class n{}return n.NULL=new u4,n})();function c4(){return qo(jt(),T())}function qo(n,e){return new Fn(Pn(n,e))}let Fn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=c4,n})();class xS{}let oi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function d4(){const n=T(),t=In(jt().index,n);return(kn(t)?t:n)[de]}(),n})(),h4=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>null}),n})();class qu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const f4=new qu("15.2.9"),Gm={},Hm="ngOriginalError";function zm(n){return n[Hm]}class Wo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&zm(e);for(;t&&zm(t);)t=zm(t);return t||null}}function ai(n){return n instanceof Function?n():n}function NS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const RS="ng-template";function D4(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==NS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function kS(n){return 4===n.type&&n.value!==RS}function b4(n,e,t){return e===(4!==n.type||t?n.value:RS)}function T4(n,e,t){let r=4;const i=n.attrs||[],s=function x4(n){for(let e=0;e<n.length;e++)if(oT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!b4(n,u,t)||""===u&&1===e.length){if(or(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!D4(n.attrs,c,t)){if(or(r))return!1;o=!0}continue}const d=S4(8&r?"class":u,i,kS(n),t);if(-1===d){if(or(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==NS(f,c,0)||2&r&&c!==h){if(or(r))return!1;o=!0}}}}else{if(!o&&!or(r)&&!or(u))return!1;if(o&&or(u))continue;o=!1,r=u|1&r}}return or(r)||o}function or(n){return 0==(1&n)}function S4(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function M4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function PS(n,e,t=!1){for(let r=0;r<e.length;r++)if(T4(n,e[r],t))return!0;return!1}function OS(n,e){return n?":not("+e.trim()+")":e}function R4(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!or(o)&&(e+=OS(s,i),i=""),r=o,s=s||!or(r);t++}return""!==i&&(e+=OS(s,i)),e}const oe={};function U(n){FS(we(),T(),ln()+n,!1)}function FS(n,e,t,r){if(!r)if(3==(3&e[ce])){const s=n.preOrderCheckHooks;null!==s&&Dd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&bd(e,s,0,t)}xs(t)}function BS(n,e=null,t=null,r){const i=jS(n,e,t,r);return i.resolveInjectorInitializers(),i}function jS(n,e=null,t=null,r,i=new Set){const s=[t||be,J$(n)];return r=r||("object"==typeof n?void 0:Oe(n)),new bS(s,e||Hd(),r||null,i)}let Sr=(()=>{class n{static create(t,r){if(Array.isArray(t))return BS({name:""},r,t,"");{const i=t.name??"";return BS({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Iu,n.NULL=new wS,n.\u0275prov=W({token:n,providedIn:"any",factory:()=>z(_S)}),n.__NG_ELEMENT_ID__=-1,n})();function E(n,e=X.Default){const t=T();return null===t?z(n,e):gT(jt(),t,J(n),e)}function QS(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Kg(t[r]),o.contentQueries(2,e[s],s)}}}function qd(n,e,t,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ti]=i,d[ce]=76|r,(null!==l||n&&1024&n[ce])&&(d[ce]|=1024),qb(d),d[Xe]=d[Mo]=n,d[it]=t,d[yd]=o||n&&n[yd],d[de]=a||n&&n[de],d[Ug]=u||n&&n[Ug]||null,d[md]=c||n&&n[md]||null,d[Yt]=s,d[Su]=function Zj(){return Xj++}(),d[Fb]=l,d[Jt]=2==e.type?n[Jt]:d,d}function Yo(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Ym(n,e,t,r,i){const s=Qb(),o=Hg(),u=n.data[e]=function i3(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function rj(){return se.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function xu(){const n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return br(s,!0),s}function Wu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Jm(n,e,t){Qg(e);try{const r=n.viewQuery;null!==r&&oy(1,r,t);const i=n.template;null!==i&&YS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&QS(n,e),n.staticViewQueries&&oy(2,n.viewQuery,t);const s=n.components;null!==s&&function t3(n,e){for(let t=0;t<e.length;t++)D3(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,Yg()}}function Wd(n,e,t,r){const i=e[ce];if(128!=(128&i)){Qg(e);try{qb(e),function Jb(n){return se.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&YS(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Dd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&bd(e,c,0,null),Jg(e,0)}if(function C3(n){for(let e=_m(n);null!==e;e=vm(e)){if(!e[Lb])continue;const t=e[Ro];for(let r=0;r<t.length;r++){const i=t[r];512&i[ce]||Gg(i[Xe],1),i[ce]|=512}}}(e),function I3(n){for(let e=_m(n);null!==e;e=vm(e))for(let t=un;t<e.length;t++){const r=e[t],i=r[L];Cd(r)&&Wd(i,r,i.template,r[it])}}(e),null!==n.contentQueries&&QS(n,e),o){const c=n.contentCheckHooks;null!==c&&Dd(e,c)}else{const c=n.contentHooks;null!==c&&bd(e,c,1),Jg(e,1)}!function Z4(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)xs(~i);else{const s=i,o=t[++r],a=t[++r];ij(o,s),a(2,e[s])}}}finally{xs(-1)}}(n,e);const a=n.components;null!==a&&function e3(n,e){for(let t=0;t<e.length;t++)E3(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&oy(2,u,r),o){const c=n.viewCheckHooks;null!==c&&Dd(e,c)}else{const c=n.viewHooks;null!==c&&bd(e,c,2),Jg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ce]&=-41,512&e[ce]&&(e[ce]&=-513,Gg(e[Xe],-1))}finally{Yg()}}}function YS(n,e,t,r,i){const s=ln(),o=2&r;try{xs(-1),o&&e.length>je&&FS(n,e,je,!1),qn(o?2:0,i),t(r,i)}finally{xs(s),qn(o?3:1,i)}}function Xm(n,e,t){if(jg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Zm(n,e,t){Kb()&&(function d3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Au(t)&&function _3(n,e,t){const r=Pn(e,n),i=JS(t),s=n[yd],o=Kd(n,qd(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||xd(t,e),Xt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=Ms(e,n,a,t);Xt(c,e),null!==o&&v3(0,a-i,c,u,0,o),sr(u)&&(In(t.index,e)[it]=Ms(e,n,a,t))}}(n,e,t,Pn(t,e)),64==(64&t.flags)&&nA(n,e,t))}function ey(n,e,t=Pn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function JS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ty(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ty(n,e,t,r,i,s,o,a,u,c){const l=je+r,d=l+i,h=function n3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:oe);return t}(l,d),f="function"==typeof c?c():c;return h[L]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function ZS(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?eA(t,e,i,s):r.hasOwnProperty(i)&&eA(t,e,r[i],s)}return t}function eA(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Ln(n,e,t,r,i,s,o,a){const u=Pn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(ay(n,t,l,r,i),Au(e)&&function a3(n,e){const t=In(e,n);16&t[ce]||(t[ce]|=32)}(t,e.index)):3&e.type&&(r=function o3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function ny(n,e,t,r){if(Kb()){const i=null===r?null:{"":-1},s=function f3(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(PS(e,o.selectors,!1))if(r||(r=[]),sr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ry(n,e,a.length)}else r.unshift(o),ry(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&tA(n,e,t,o,i,a),i&&function p3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Nu(t.mergedAttrs,t.attrs)}function tA(n,e,t,r,i,s){for(let c=0;c<r.length;c++)rm(xd(t,e),n,r[c].type);!function m3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Wu(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=Nu(t.mergedAttrs,l.hostAttrs),y3(n,t,e,u,l),g3(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function s3(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=t?t.get(d):null,p=h?h.outputs:null;u=ZS(d.inputs,l,u,h?h.inputs:null),c=ZS(d.outputs,l,c,p);const m=null===u||null===o||kS(e)?null:w3(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function nA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function sj(){return se.lFrame.currentDirectiveIndex}();try{xs(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];qg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&h3(u,c)}}finally{xs(-1),qg(o)}}function h3(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ry(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function g3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;sr(e)&&(t[""]=n)}}function y3(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=As(i.type)),o=new Mu(s,sr(i),E);n.blueprint[r]=o,t[r]=o,function c3(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function l3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Wu(n,t,i.hostVars,oe),i)}function Ar(n,e,t,r,i,s){const o=Pn(n,e);!function iy(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ie(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[de],o,s,n.value,t,r,i)}function v3(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function w3(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function rA(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function E3(n,e){const t=In(e,n);if(Cd(t)){const r=t[L];48&t[ce]?Wd(r,t,r.template,t[it]):t[Ss]>0&&sy(t)}}function sy(n){for(let r=_m(n);null!==r;r=vm(r))for(let i=un;i<r.length;i++){const s=r[i];if(Cd(s))if(512&s[ce]){const o=s[L];Wd(o,s,o.template,s[it])}else s[Ss]>0&&sy(s)}const t=n[L].components;if(null!==t)for(let r=0;r<t.length;r++){const i=In(t[r],n);Cd(i)&&i[Ss]>0&&sy(i)}}function D3(n,e){const t=In(e,n),r=t[L];(function b3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Jm(r,t,t[it])}function Kd(n,e){return n[bu]?n[Ob][rr]=e:n[bu]=e,n[Ob]=e,e}function Qd(n){for(;n;){n[ce]|=32;const e=Bu(n);if(UB(n)&&!e)return n;n=e}return null}function Yd(n,e,t,r=!0){const i=e[yd];i.begin&&i.begin();try{Wd(n,e,n.template,t)}catch(o){throw r&&aA(e,o),o}finally{i.end&&i.end()}}function oy(n,e,t){Kg(0),e(n,t)}function iA(n){return n[xo]||(n[xo]=[])}function sA(n){return n.cleanup||(n.cleanup=[])}function aA(n,e){const t=n[md],r=t?t.get(Wo,null):null;r&&r.handleError(e)}function ay(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Jd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Mg(i,a):2==s&&(r=Mg(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Xd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Bt(s)),ir(s))for(let a=un;a<s.length;a++){const u=s[a],c=u[L].firstChild;null!==c&&Xd(u[L],u,c,r)}const o=t.type;if(8&o)Xd(n,e,t.child,r);else if(32&o){const a=ym(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=eS(e,t);if(Array.isArray(a))r.push(...a);else{const u=Bu(e[Jt]);Xd(u[L],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Ku{get rootNodes(){const e=this._lView,t=e[L];return Xd(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[it]}set context(e){this._lView[it]=e}get destroyed(){return 128==(128&this._lView[ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Xe];if(ir(e)){const t=e[vd],r=t?t.indexOf(this):-1;r>-1&&(Cm(e,r),Rd(t,r))}this._attachedToViewContainer=!1}zT(this._lView[L],this._lView)}onDestroy(e){!function XS(n,e,t,r){const i=iA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&sA(n).push(r,i.length-1))}(this._lView[L],this._lView,null,e)}markForCheck(){Qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ce]&=-65}reattach(){this._lView[ce]|=64}detectChanges(){Yd(this._lView[L],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function p$(n,e){ju(n,e,e[de],2,null,null)}(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class T3 extends Ku{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Yd(e[L],e,e[it],!1)}checkNoChanges(){}get context(){return null}}class uA extends zu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=xe(e);return new Qu(t,this.ngModule)}}function cA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class A3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=fd(r);const i=this.injector.get(e,Gm,r);return i!==Gm||t===Gm?i:this.parentInjector.get(e,t,r)}}class Qu extends SS{get inputs(){return cA(this.componentDef.inputs)}get outputs(){return cA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function k4(n){return n.map(R4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof si?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new A3(e,s):e,a=o.get(xS,null);if(null===a)throw new x(407,!1);const u=o.get(h4,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function r3(n,e,t){return n.selectRootElement(e,t===Cr.ShadowDom)}(c,r,this.componentDef.encapsulation):Im(c,l,function S3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=ty(0,null,null,1,0,null,null,null,null,null),p=qd(null,f,null,h,null,null,a,c,u,o,null);let m,y;Qg(p);try{const I=this.componentDef;let b,v=null;I.findHostDirectiveDefs?(b=[],v=new Map,I.findHostDirectiveDefs(I,b,v),b.push(I)):b=[I];const P=function M3(n,e){const t=n[L],r=je;return n[r]=e,Yo(t,r,2,"#host",null)}(p,d),H=function N3(n,e,t,r,i,s,o,a){const u=i[L];!function R3(n,e,t,r){for(const i of n)e.mergedAttrs=Nu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Jd(e,e.mergedAttrs,!0),null!==t&&rS(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),l=qd(i,JS(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&ry(u,n,r.length-1),Kd(i,l),i[n.index]=l}(P,d,I,b,p,a,c);y=zb(f,je),d&&function P3(n,e,t,r){if(r)Zg(n,t,["ng-version",f4.full]);else{const{attrs:i,classes:s}=function P4(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!or(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Zg(n,t,i),s&&s.length>0&&nS(n,t,s.join(" "))}}(c,I,d,r),void 0!==t&&function O3(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,t),m=function k3(n,e,t,r,i,s){const o=jt(),a=i[L],u=Pn(o,i);tA(a,i,o,t,null,r);for(let l=0;l<t.length;l++)Xt(Ms(i,a,o.directiveStart+l,o),i);nA(a,i,o),u&&Xt(u,i);const c=Ms(i,a,o.directiveStart+o.componentOffset,o);if(n[it]=i[it]=c,null!==s)for(const l of s)l(c,e);return Xm(a,o,n),c}(H,I,b,v,p,[F3]),Jm(f,p,null)}finally{Yg()}return new x3(this.componentType,m,qo(y,p),p,y)}}class x3 extends o4{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new T3(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;ay(s[L],s,i,e,t),Qd(In(this._tNode.index,s))}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function F3(){const n=jt();Ed(T()[L],n)}function Me(n){let e=function lA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(sr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=uy(n.inputs),o.declaredInputs=uy(n.declaredInputs),o.outputs=uy(n.outputs);const a=i.hostBindings;a&&B3(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&V3(n,u),c&&U3(n,c),xg(n.inputs,i.inputs),xg(n.declaredInputs,i.declaredInputs),xg(n.outputs,i.outputs),sr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Me&&(t=!1)}}e=Object.getPrototypeOf(e)}!function L3(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Nu(i.hostAttrs,t=Nu(t,i.hostAttrs))}}(r)}function uy(n){return n===Zr?{}:n===be?[]:n}function V3(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function U3(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function B3(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Zd(n){return!!cy(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function cy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Zt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Mr(n,e,t,r){const i=T();return Zt(i,Po(),e)&&(we(),Ar(Ke(),i,n,e,t,r)),Mr}function Xo(n,e,t,r){return Zt(n,Po(),t)?e+ie(t)+r:oe}function De(n,e,t,r,i,s,o,a){const u=T(),c=we(),l=n+je,d=c.firstCreatePass?function Y3(n,e,t,r,i,s,o,a,u){const c=e.consts,l=Yo(e,n,4,o||null,Li(c,a));ny(e,t,l,Li(c,u)),Ed(e,l);const d=l.tView=ty(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];br(d,!1);const h=u[de].createComment("");Ld(c,u,h,d),Xt(h,u),Kd(u,u[l]=rA(h,u,h,d)),wd(d)&&Zm(c,u,d),null!=o&&ey(u,d,a)}function Z(n,e,t){const r=T();return Zt(r,Po(),e)&&Ln(we(),Ke(),r,n,e,r[de],t,!1),Z}function ly(n,e,t,r,i){const o=i?"class":"style";ay(n,t,e.inputs[o],o,r)}function C(n,e,t,r){const i=T(),s=we(),o=je+n,a=i[de],u=s.firstCreatePass?function Z3(n,e,t,r,i,s){const o=e.consts,u=Yo(e,n,2,r,Li(o,i));return ny(e,t,u,Li(o,s)),null!==u.attrs&&Jd(u,u.attrs,!1),null!==u.mergedAttrs&&Jd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],c=i[o]=Im(a,e,function fj(){return se.lFrame.currentNamespace}()),l=wd(u);return br(u,!0),rS(a,c,u),32!=(32&u.flags)&&Ld(s,i,c,u),0===function JB(){return se.lFrame.elementDepthCount}()&&Xt(c,i),function XB(){se.lFrame.elementDepthCount++}(),l&&(Zm(s,i,u),Xm(s,u,i)),null!==r&&ey(i,u),C}function D(){let n=jt();Hg()?function zg(){se.lFrame.isParent=!1}():(n=n.parent,br(n,!1));const e=n;!function ZB(){se.lFrame.elementDepthCount--}();const t=we();return t.firstCreatePass&&(Ed(t,n),jg(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function yj(n){return 0!=(8&n.flags)}(e)&&ly(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function _j(n){return 0!=(16&n.flags)}(e)&&ly(t,e,T(),e.stylesWithoutHost,!1),D}function dn(n,e,t,r){return C(n,e,t,r),D(),dn}function mt(){return T()}function Ju(n){return!!n&&"function"==typeof n.then}const fy=function DA(n){return!!n&&"function"==typeof n.subscribe};function q(n,e,t,r){const i=T(),s=we(),o=jt();return function TA(n,e,t,r,i,s,o){const a=wd(r),c=n.firstCreatePass&&sA(n),l=e[it],d=iA(e);let h=!0;if(3&r.type||o){const m=Pn(r,e),y=o?o(m):m,I=d.length,b=o?P=>o(Bt(P[r.index])):r.index;let v=null;if(!o&&a&&(v=function tG(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[xo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=AA(r,e,l,s,!1);const P=t.listen(y,i,s);d.push(s,P),c&&c.push(i,b,I,I+1)}}else s=AA(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const H=e[p[y]][p[y+1]].subscribe(s),Y=d.length;d.push(s,H),c&&c.push(i,r.index,Y,-(Y+1))}}}(s,i,i[de],o,n,e,r),q}function SA(n,e,t,r){try{return qn(6,e,t),!1!==t(r)}catch(i){return aA(n,i),!1}finally{qn(7,e,t)}}function AA(n,e,t,r,i){return function s(o){if(o===Function)return r;Qd(n.componentOffset>-1?In(n.index,e):e);let u=SA(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)u=SA(e,t,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function G(n=1){return function aj(n){return(se.lFrame.contextLView=function uj(n,e){for(;n>0;)e=e[Mo],n--;return e}(n,se.lFrame.contextLView))[it]}(n)}function py(n,e,t){return gy(n,"",e,"",t),py}function gy(n,e,t,r,i){const s=T(),o=Xo(s,e,t,r);return o!==oe&&Ln(we(),Ke(),s,n,o,s[de],i,!1),gy}function th(n,e){return n<<17|e<<2}function Ui(n){return n>>17&32767}function my(n){return 2|n}function Os(n){return(131068&n)>>2}function yy(n,e){return-131069&n|e<<2}function _y(n){return 1|n}function LA(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Ui(s):Os(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];lG(n[a],e)&&(u=!0,n[a+1]=r?_y(l):my(l)),a=r?Ui(l):Os(l)}u&&(n[t+1]=r?my(s):_y(s))}function lG(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&jo(n,e)>=0}function nh(n,e){return function ar(n,e,t,r){const i=T(),s=we(),o=function ri(n){const e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function qA(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[ln()],o=function zA(n,e){return e>=n.expandoStartIndex}(n,t);(function YA(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function vG(n,e,t,r){const i=function Wg(n){const e=se.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Xu(t=vy(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=vy(i,n,e,t,r),null===s){let u=function wG(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Os(r))return n[Ui(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=vy(null,n,e,u[1],r),u=Xu(u,e.attrs,r),function IG(n,e,t,r){n[Ui(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function CG(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Xu(r,n[s].hostAttrs,t);return Xu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function uG(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ui(o),u=Os(o);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||jo(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=Ui(n[a+1]);n[r+1]=th(h,a),0!==h&&(n[h+1]=yy(n[h+1],r)),n[a+1]=function oG(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=th(a,0),0!==a&&(n[a+1]=yy(n[a+1],r)),a=r;else n[r+1]=th(u,0),0===a?a=r:n[u+1]=yy(n[u+1],r),u=r;c&&(n[r+1]=my(n[r+1])),LA(n,l,r,!0),LA(n,l,r,!1),function cG(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&jo(s,e)>=0&&(t[r+1]=_y(t[r+1]))}(e,l,n,r,s),o=th(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==oe&&Zt(i,o,e)&&function KA(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function aG(n){return 1==(1&n)}(c)?QA(u,e,t,i,Os(c),o):void 0;rh(l)||(rh(s)||function sG(n){return 2==(2&n)}(c)&&(s=QA(u,null,t,i,a,o)),function D$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Cn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cn.Important),n.setStyle(t,r,i,s))}}(r,o,Id(ln(),t),i,s))}(s,s.data[ln()],i,i[de],n,i[o+1]=function TG(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Oe(Vi(n)))),n}(e,t),r,o)}(n,e,null,!0),nh}function vy(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Xu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Xu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),On(n,o,!!t||e[++s]))}return void 0===n?null:n}function QA(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===oe&&(h=d?be:void 0);let f=d?am(h,r):l===r?h:void 0;if(c&&!rh(f)&&(f=am(u,r)),rh(f)&&(a=f,o))return a;const p=n[i+1];i=o?Ui(p):Os(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=am(u,r))}return a}function rh(n){return void 0!==n}function M(n,e=""){const t=T(),r=we(),i=n+je,s=r.firstCreatePass?Yo(r,i,1,e,null):r.data[i],o=t[i]=function wm(n,e){return n.createText(e)}(t[de],e);Ld(r,t,o,s),br(s,!1)}function xt(n){return ih("",n,""),xt}function ih(n,e,t){const r=T(),i=Xo(r,n,e,t);return i!==oe&&function ui(n,e,t){const r=Id(e,n);!function GT(n,e,t){n.setValue(e,t)}(n[de],r,t)}(r,ln(),i),ih}const ua="en-US";let _x=ua;function Cy(n,e,t,r,i){if(n=J(n),Array.isArray(n))for(let s=0;s<n.length;s++)Cy(n[s],e,t,r,i);else{const s=we(),o=T();let a=ks(n)?n:J(n.provide),u=TS(n);const c=jt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ks(n)||!n.multi){const f=new Mu(u,i,E),p=Dy(a,e,i?l:l+h,d);-1===p?(rm(xd(c,o),s,a),Ey(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Dy(a,e,l+h,d),p=Dy(a,e,l,l+h),y=p>=0&&t[p];if(i&&!y||!i&&!(f>=0&&t[f])){rm(xd(c,o),s,a);const I=function HH(n,e,t,r,i){const s=new Mu(n,t,E);return s.multi=[],s.index=e,s.componentProviders=0,Gx(s,i,r&&!t),s}(i?GH:$H,t.length,i,r,u);!i&&y&&(t[p].providerFactory=I),Ey(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),o.push(I)}else Ey(s,n,f>-1?f:p,Gx(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function Ey(n,e,t,r){const i=ks(e),s=function Z$(n){return!!n.useClass}(e);if(i||s){const u=(s?J(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function Gx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Dy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function $H(n,e,t,r){return by(this.multi,[])}function GH(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ms(t,t[L],this.providerFactory.index,r);s=a.slice(0,o),by(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],by(i,s);return s}function by(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function qe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function jH(n,e,t){const r=we();if(r.firstCreatePass){const i=sr(n);Cy(t,r.data,r.blueprint,i,!0),Cy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ca{}class Hx{}class zx extends ca{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uA(this);const r=Rn(e);this._bootstrapComponents=ai(r.bootstrap),this._r3Injector=jS(e,t,[{provide:ca,useValue:this},{provide:zu,useValue:this.componentFactoryResolver}],Oe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ty extends Hx{constructor(e){super(),this.moduleType=e}create(e){return new zx(this.moduleType,e)}}class qH extends ca{constructor(e,t,r){super(),this.componentFactoryResolver=new uA(this),this.instance=null;const i=new bS([...e,{provide:ca,useValue:this},{provide:zu,useValue:this.componentFactoryResolver}],t||Hd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ch(n,e,t=null){return new qH(n,e,t).injector}let WH=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=IS(0,t.type),i=r.length>0?ch([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(z(si))}),n})();function qx(n){n.getStandaloneInjector=e=>e.get(WH).getOrCreateStandaloneInjector(n)}function Ay(n,e,t,r){return function Zx(n,e,t,r,i,s){const o=e+t;return Zt(n,o,i)?function xr(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function ic(n,e){const t=n[e];return t===oe?void 0:t}(n,o+1)}(T(),function cn(){const n=se.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function xy(n){return e=>{setTimeout(n,void 0,e)}}const Le=class _5 extends Yr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=xy(s),i&&(i=xy(i)),o&&(o=xy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof xn&&e.add(a),a}};let ci=(()=>{class n{}return n.__NG_ELEMENT_ID__=C5,n})();const w5=ci,I5=class extends w5{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=qd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Tu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Dr];return null!==o&&(i[Dr]=o.createEmbeddedView(r)),Jm(r,i,e),new Ku(i)}};function C5(){return function lh(n,e){return 4&n.type?new I5(e,n,qo(n,e)):null}(jt(),T())}let cr=(()=>{class n{}return n.__NG_ELEMENT_ID__=E5,n})();function E5(){return function o1(n,e){let t;const r=e[n.index];if(ir(r))t=r;else{let i;if(8&n.type)i=Bt(r);else{const s=e[de];i=s.createComment("");const o=Pn(n,e);Rs(s,Fd(s,o),i,function I$(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=rA(r,e,i,n),Kd(e,t)}return new i1(t,n,e)}(jt(),T())}const D5=cr,i1=class extends D5{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return qo(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const e=nm(this._hostTNode,this._hostLView);if(cT(e)){const t=Sd(e,this._hostLView),r=Td(e);return new Fo(t[L].data[r+8],t)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=s1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-un}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function ku(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Qu(xe(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(si,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[L];if(function YB(n){return ir(n[Xe])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Xe],h=new i1(d,d[Yt],d[Xe]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function m$(n,e,t,r){const i=un+r,s=t.length;r>0&&(t[i-1][rr]=e),r<s-un?(e[rr]=t[i],IT(t,un+r,e)):(t.push(e),e[rr]=null),e[Xe]=t;const o=e[Tu];null!==o&&t!==o&&function y$(n,e){const t=n[Ro];e[Jt]!==e[Xe][Xe][Jt]&&(n[Lb]=!0),null===t?n[Ro]=[e]:t.push(e)}(o,e);const a=e[Dr];null!==a&&a.insertView(n),e[ce]|=64}(i,r,o,s);const a=bm(s,o),u=r[de],c=Fd(u,o[_d]);return null!==c&&function f$(n,e,t,r,i,s){r[ti]=i,r[Yt]=e,ju(n,r,t,1,i,s)}(i,o[Yt],u,r,c,a),e.attachToViewContainerRef(),IT(Ny(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=s1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Cm(this._lContainer,t);r&&(Rd(Ny(this._lContainer),t),zT(r[L],r))}detach(e){const t=this._adjustIndex(e,-1),r=Cm(this._lContainer,t);return r&&null!=Rd(Ny(this._lContainer),t)?new Ku(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function s1(n){return n[vd]}function Ny(n){return n[vd]||(n[vd]=[])}function hh(...n){}const fh=new $("Application Initializer");let ph=(()=>{class n{constructor(t){this.appInits=t,this.resolve=hh,this.reject=hh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ju(s))t.push(s);else if(fy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(z(fh,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ac=new $("AppId",{providedIn:"root",factory:function R1(){return`${$y()}${$y()}${$y()}`}});function $y(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const k1=new $("Platform Initializer"),P1=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let X5=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const li=new $("LocaleId",{providedIn:"root",factory:()=>ge(li,X.Optional|X.SkipSelf)||function Z5(){return typeof $localize<"u"&&$localize.locale||ua}()});class tz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let O1=(()=>{class n{compileModuleSync(t){return new Ty(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ai(Rn(t).declarations).reduce((o,a)=>{const u=xe(a);return u&&o.push(new Qu(u)),o},[]);return new tz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iz=(()=>Promise.resolve(0))();function Gy(n){typeof Zone>"u"?iz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class st{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function sz(){let n=Be.requestAnimationFrame,e=Be.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function uz(n){const e=()=>{!function az(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Be,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,zy(n),n.isCheckStableRunning=!0,Hy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),zy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return V1(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),U1(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return V1(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),U1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,zy(n),Hy(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!st.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(st.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,oz,hh,hh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const oz={};function Hy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function V1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function U1(n){n._nesting--,Hy(n)}class cz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const B1=new $(""),gh=new $("");let Ky,qy=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ky||(function lz(n){Ky=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{st.assertNotInAngularZone(),Gy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(z(st),z(Wy),z(gh))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),Wy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Ky?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const di=!1;let Bi=null;const j1=new $("AllowMultipleToken"),Qy=new $("PlatformDestroyListeners"),$1=new $("appBootstrapListener");class G1{constructor(e,t){this.name=e,this.token=t}}function z1(n,e,t=[]){const r=`Platform: ${e}`,i=new $(r);return(s=[])=>{let o=Yy();if(!o||o.injector.get(j1,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function fz(n){if(Bi&&!Bi.get(j1,!1))throw new x(400,!1);Bi=n;const e=n.get(W1);(function H1(n){const e=n.get(k1,null);e&&e.forEach(t=>t())})(n)}(function q1(n=[],e){return Sr.create({name:e,providers:[{provide:Um,useValue:"platform"},{provide:Qy,useValue:new Set([()=>Bi=null])},...n]})}(a,r))}return function gz(n){const e=Yy();if(!e)throw new x(401,!1);return e}()}}function Yy(){return Bi?.get(W1)??null}let W1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Q1(n,e){let t;return t="noop"===n?new cz:("zone.js"===n?void 0:n)||new st(e),t}(r?.ngZone,function K1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:st,useValue:i}];return i.run(()=>{const o=Sr.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(Wo,null);if(!u)throw new x(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{yh(this._modules,a),c.unsubscribe()})}),function Y1(n,e,t){try{const r=t();return Ju(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(ph);return c.runInitializers(),c.donePromise.then(()=>(function vx(n){Gn(n,"Expected localeId to be defined"),"string"==typeof n&&(_x=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(li,ua)||ua),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=J1({},r);return function dz(n,e,t){const r=new Ty(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(mh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new x(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Qy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(z(Sr))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function J1(n,e){return Array.isArray(e)?e.reduce(J1,n):{...n,...e}}let mh=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new rt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new rt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{st.assertNotInAngularZone(),Gy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{st.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function gB(...n){const e=wu(n),t=function uB(n,e){return"number"==typeof Sg(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Mn(r[0]):To(t)(ft(r,e)):wr}(s,o.pipe(function mB(n={}){const{connector:e=(()=>new Yr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Ct((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Ag(p,i))}),I.subscribe(y),!o&&c>0&&(o=new vu({next:b=>I.next(b),error:b=>{d=!0,h(),a=Ag(f,t,b),I.error(b)},complete:()=>{l=!0,h(),a=Ag(f,r),I.complete()}}),Mn(m).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof SS;if(!this._injector.get(ph).done){!i&&function Ao(n){const e=xe(n)||Qt(n)||wn(n);return null!==e&&e.standalone}(t);throw new x(405,di)}let o;o=i?t:this._injector.get(zu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function hz(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ca),c=o.create(Sr.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(B1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),yh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;yh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get($1,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>yh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(z(st),z(si),z(Wo))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let _h=(()=>{class n{}return n.__NG_ELEMENT_ID__=yz,n})();function yz(n){return function _z(n,e,t){if(Au(n)&&!t){const r=In(n.index,e);return new Ku(r,r)}return 47&n.type?new Ku(e[Jt],e):null}(jt(),T(),16==(16&n))}class nM{constructor(){}supports(e){return Zd(e)}create(e){return new Dz(e)}}const Ez=(n,e)=>e;class Dz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ez}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<iM(r,i,s)?t:r,a=iM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Zd(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function W3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new bz(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new rM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class bz{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class rM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Tz,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class sM{constructor(){}supports(e){return e instanceof Map||cy(e)}create(){return new Sz}}class Sz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||cy(e)))throw new x(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Az(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Az{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oM(){return new Ih([new nM])}let Ih=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||oM()),deps:[[n,new Fu,new Ou]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new x(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:oM}),n})();function aM(){return new uc([new sM])}let uc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||aM()),deps:[[n,new Fu,new Ou]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new x(901,!1)}}return n.\u0275prov=W({token:n,providedIn:"root",factory:aM}),n})();const Nz=z1(null,"core",[]);let Rz=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(z(mh))},n.\u0275mod=Er({type:n}),n.\u0275inj=nr({}),n})();function ha(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let t_=null;function hi(){return t_}class Oz{}const Dn=new $("DocumentToken");let n_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return function Fz(){return z(uM)}()},providedIn:"platform"}),n})();const Lz=new $("Location Initialized");let uM=(()=>{class n extends n_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hi().getBaseHref(this._doc)}onPopState(t){const r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){cM()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){cM()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(z(Dn))},n.\u0275prov=W({token:n,factory:function(){return function Vz(){return new uM(z(Dn))}()},providedIn:"platform"}),n})();function cM(){return!!window.history.pushState}function r_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function lM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fi(n){return n&&"?"!==n[0]?"?"+n:n}let Vs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(hM)},providedIn:"root"}),n})();const dM=new $("appBaseHref");let hM=(()=>{class n extends Vs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ge(Dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return r_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+fi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+fi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(z(n_),z(dM,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uz=(()=>{class n extends Vs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=r_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+fi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+fi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(z(n_),z(dM,8))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),i_=(()=>{class n{constructor(t){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function $z(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(lM(fM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fi(r))}normalize(t){return n.stripTrailingSlash(function jz(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,fM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=fi,n.joinWithSlash=r_,n.stripTrailingSlash=lM,n.\u0275fac=function(t){return new(t||n)(z(Vs))},n.\u0275prov=W({token:n,factory:function(){return function Bz(){return new i_(z(Vs))}()},providedIn:"root"}),n})();function fM(n){return n.replace(/\/index.html$/,"")}const p_=/\s+/,CM=[];let g_=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=CM,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(p_):CM}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(p_):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(p_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(E(Ih),E(uc),E(Fn),E(oi))},n.\u0275dir=te({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class S6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new S6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),bM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{bM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(cr),E(ci),E(Ih))},n.\u0275dir=te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function bM(n,e){n.context.$implicit=e.item}let kr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new x6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){TM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){TM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(cr),E(ci))},n.\u0275dir=te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class x6{constructor(){this.$implicit=null,this.ngIf=null}}function TM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Oe(e)}'.`)}let e9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Er({type:n}),n.\u0275inj=nr({}),n})();let MM=(()=>{class n{}return n.\u0275prov=W({token:n,providedIn:"root",factory:()=>new i9(z(Dn),window)}),n})();class i9{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function s9(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=NM(this.window.history)||NM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function NM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class k9 extends Oz{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class C_ extends k9{static makeCurrent(){!function Pz(n){t_||(t_=n)}(new C_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function P9(){return hc=hc||document.querySelector("base"),hc?hc.getAttribute("href"):null}();return null==t?null:function O9(n){kh=kh||document.createElement("a"),kh.setAttribute("href",n);const e=kh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function b6(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let kh,hc=null;const FM=new $("TRANSITION_ID"),L9=[{provide:fh,useFactory:function F9(n,e,t){return()=>{t.get(ph).donePromise.then(()=>{const r=hi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[FM,Dn,Sr],multi:!0}];let U9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const Ph=new $("EventManagerPlugins");let Oh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(z(Ph),z(st))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class LM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=hi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let VM=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),fc=(()=>{class n extends VM{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(z(Dn))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const E_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},D_=/%COMP%/g,jM=new $("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $M(n,e){return e.flat(100).map(t=>t.replace(D_,n))}function GM(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let b_=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new T_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof qM?i.applyToHost(t):i instanceof S_&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Cr.Emulated:s=new qM(o,a,r,this.appId,u);break;case Cr.ShadowDom:return new q9(o,a,t,r);default:s=new S_(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(z(Oh),z(fc),z(ac),z(jM))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();class T_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(E_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(zM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=E_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=E_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(t,r,i&Cn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Cn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,GM(r)):this.eventManager.addEventListener(e,t,GM(r))}}function zM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class q9 extends T_{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$M(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class S_ extends T_{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=$M(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class qM extends S_{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function G9(n){return"_ngcontent-%COMP%".replace(D_,n)}(o),this.hostAttr=function H9(n){return"_nghost-%COMP%".replace(D_,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let W9=(()=>{class n extends LM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(z(Dn))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const WM=["alt","control","meta","shift"],K9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Y9=(()=>{class n extends LM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),WM.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=K9[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WM.forEach(o=>{o!==i&&(0,Q9[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(z(Dn))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();const QM=[{provide:P1,useValue:"browser"},{provide:k1,useValue:function J9(){C_.makeCurrent()},multi:!0},{provide:Dn,useFactory:function Z9(){return function x$(n){xm=n}(document),document},deps:[]}],eq=z1(Nz,"browser",QM),YM=new $(""),JM=[{provide:gh,useClass:class V9{addToWindow(e){Be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Be.getAllAngularTestabilities=()=>e.getAllTestabilities(),Be.getAllAngularRootElements=()=>e.getAllRootElements(),Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(r=>{const i=Be.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?hi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:B1,useClass:qy,deps:[st,Wy,gh]},{provide:qy,useClass:qy,deps:[st,Wy,gh]}],XM=[{provide:Um,useValue:"root"},{provide:Wo,useFactory:function X9(){return new Wo},deps:[]},{provide:Ph,useClass:W9,multi:!0,deps:[Dn,st,P1]},{provide:Ph,useClass:Y9,multi:!0,deps:[Dn]},{provide:b_,useClass:b_,deps:[Oh,fc,ac,jM]},{provide:xS,useExisting:b_},{provide:VM,useExisting:fc},{provide:fc,useClass:fc,deps:[Dn]},{provide:Oh,useClass:Oh,deps:[Ph,st]},{provide:class o9{},useClass:U9,deps:[]},[]];let tq=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ac,useValue:t.appId},{provide:FM,useExisting:ac},L9]}}}return n.\u0275fac=function(t){return new(t||n)(z(YM,12))},n.\u0275mod=Er({type:n}),n.\u0275inj=nr({providers:[...XM,...JM],imports:[e9,Rz]}),n})(),ZM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(z(Dn))},n.\u0275prov=W({token:n,factory:function(t){let r=null;return r=t?new t:function rq(){return new ZM(z(Dn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:cq}=Array,{getPrototypeOf:lq,prototype:dq,keys:hq}=Object;function nN(n){if(1===n.length){const e=n[0];if(cq(e))return{args:e,keys:null};if(function fq(n){return n&&"object"==typeof n&&lq(n)===dq}(e)){const t=hq(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:pq}=Array;function rN(n){return pe(e=>function gq(n,e){return pq(e)?n(...e):n(e)}(n,e))}function iN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let sN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(E(oi),E(Fn))},n.\u0275dir=te({type:n}),n})(),Us=(()=>{class n extends sN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=$t(n)))(r||n)}}(),n.\u0275dir=te({type:n,features:[Me]}),n})();const Pr=new $("NgValueAccessor"),_q={provide:Pr,useExisting:Fe(()=>Bs),multi:!0},wq=new $("CompositionEventMode");let Bs=(()=>{class n extends sN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vq(){const n=hi()?hi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(E(oi),E(Fn),E(wq,8))},n.\u0275dir=te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&q("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[qe([_q]),Me]}),n})();const Iq=!1,en=new $("NgValidators"),Gi=new $("NgAsyncValidators");function mN(n){return null!=n}function yN(n){const e=Ju(n)?ft(n):n;if(Iq&&!fy(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new x(-1101,t)}return e}function _N(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function vN(n,e){return e.map(t=>t(n))}function wN(n){return n.map(e=>function Eq(n){return!n.validate}(e)?e:t=>e.validate(t))}function M_(n){return null!=n?function IN(n){if(!n)return null;const e=n.filter(mN);return 0==e.length?null:function(t){return _N(vN(t,e))}}(wN(n)):null}function N_(n){return null!=n?function CN(n){if(!n)return null;const e=n.filter(mN);return 0==e.length?null:function(t){return function mq(...n){const e=wb(n),{args:t,keys:r}=nN(n),i=new rt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Mn(t[l]).subscribe(ht(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?iN(r,a):a),s.complete())}))}});return e?i.pipe(rN(e)):i}(vN(t,e).map(yN)).pipe(pe(_N))}}(wN(n)):null}function EN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function R_(n){return n?Array.isArray(n)?n:[n]:[]}function Lh(n,e){return Array.isArray(n)?n.includes(e):n===e}function TN(n,e){const t=R_(e);return R_(n).forEach(i=>{Lh(t,i)||t.push(i)}),t}function SN(n,e){return R_(e).filter(t=>!Lh(n,t))}class AN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=M_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=N_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class pn extends AN{get formDirective(){return null}get path(){return null}}class Hi extends AN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pc=(()=>{class n extends xN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Hi,2))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&nh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Me]}),n})();const gc="VALID",Uh="INVALID",fa="PENDING",mc="DISABLED";function Bh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class kN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gc}get invalid(){return this.status===Uh}get pending(){return this.status==fa}get disabled(){return this.status===mc}get enabled(){return this.status!==mc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SN(e,this._rawAsyncValidators))}hasValidator(e){return Lh(this._rawValidators,e)}hasAsyncValidator(e){return Lh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gc||this.status===fa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mc:gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fa,this._hasOwnPendingAsyncValidator=!0;const t=yN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?mc:this.errors?Uh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fa)?fa:this._anyControlsHaveStatus(Uh)?Uh:gc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Nq(n){return Array.isArray(n)?M_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Rq(n){return Array.isArray(n)?N_(n):n||null}(this._rawAsyncValidators)}}const pa=new $("CallSetDisabledState",{providedIn:"root",factory:()=>jh}),jh="always";function yc(n,e,t=jh){(function U_(n,e){const t=function DN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(EN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function bN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(EN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Hh(e._rawValidators,i),Hh(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Oq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&PN(n,e)})}(n,e),function Lq(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Fq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&PN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Pq(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Hh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function PN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function LN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function VN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const UN=class extends kN{constructor(e=null,t,r){super(function F_(n){return(Bh(n)?n.validators:n)||null}(t),function L_(n,e){return(Bh(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=VN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){LN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){LN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){VN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},zq={provide:Hi,useExisting:Fe(()=>ga)},$N=(()=>Promise.resolve())();let ga=(()=>{class n extends Hi{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new UN,this._registered=!1,this.update=new Le,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function $_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Bs?t=s:function Bq(n){return Object.getPrototypeOf(n.constructor)===Us}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function j_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){$N.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&ha(r);$N.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function $h(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(E(pn,9),E(en,10),E(Gi,10),E(Pr,10),E(_h,8),E(pa,8))},n.\u0275dir=te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qe([zq]),Me,zn]}),n})(),HN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Er({type:n}),n.\u0275inj=nr({}),n})(),m8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Er({type:n}),n.\u0275inj=nr({imports:[HN]}),n})(),_8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pa,useValue:t.callSetDisabledState??jh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Er({type:n}),n.\u0275inj=nr({imports:[m8]}),n})();function Q(...n){return ft(n,wu(n))}class fr extends Yr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const qh=_u(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function uR(...n){const e=wu(n),t=wb(n),{args:r,keys:i}=nN(n);if(0===r.length)return ft([],e);const s=new rt(function v8(n,e,t=Ts){return r=>{cR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)cR(e,()=>{const c=ft(n[u],e);let l=!1;c.subscribe(ht(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>iN(i,o):Ts));return t?s.pipe(rN(t)):s}function cR(n,e,t){n?Jr(t,n,e):e()}function Wh(...n){return function w8(){return To(1)}()(ft(n,wu(n)))}function lR(n){return new rt(e=>{Mn(n()).subscribe(e)})}function vc(n,e){const t=Pe(n)?n:()=>n,r=i=>i.error(t());return new rt(e?i=>e.schedule(r,0,i):r)}function Y_(){return Ct((n,e)=>{let t=null;n._refCount++;const r=ht(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class dR extends rt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ib(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xn;const t=this.getSubject();e.add(this.source.subscribe(ht(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xn.EMPTY)}return e}refCount(){return Y_()(this)}}function Or(n,e){return Ct((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ht(r,u=>{i?.unsubscribe();let c=0;const l=s++;Mn(n(u,l)).subscribe(i=ht(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function zi(n){return n<=0?()=>wr:Ct((e,t)=>{let r=0;e.subscribe(ht(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function mi(n,e){return Ct((t,r)=>{let i=0;t.subscribe(ht(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Kh(n){return Ct((e,t)=>{let r=!1;e.subscribe(ht(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function hR(n=C8){return Ct((e,t)=>{let r=!1;e.subscribe(ht(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function C8(){return new qh}function qi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mi((i,s)=>n(i,s,r)):Ts,zi(1),t?Kh(e):hR(()=>new qh))}function $s(n,e){return Pe(e)?At(n,e,1):At(n,1)}function tn(n,e,t){const r=Pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ct((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ht(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ts}function Wi(n){return Ct((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ht(t,void 0,void 0,o=>{s=Mn(n(o,Wi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function fR(n,e){return Ct(function E8(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(ht(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function J_(n){return n<=0?()=>wr:Ct((e,t)=>{let r=[];e.subscribe(ht(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function pR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mi((i,s)=>n(i,s,r)):Ts,J_(1),t?Kh(e):hR(()=>new qh))}function gR(n){return pe(()=>n)}function X_(n){return Ct((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ae="primary",wc=Symbol("RouteTitle");class b8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ma(n){return new b8(n)}function T8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Fr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!mR(n[i],e[i]))return!1;return!0}function mR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function yR(n){return Array.prototype.concat.apply([],n)}function _R(n){return n.length>0?n[n.length-1]:null}function Gt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ki(n){return fy(n)?n:Ju(n)?ft(Promise.resolve(n)):Q(n)}const Qh=!1,A8={exact:function IR(n,e,t){if(!Gs(n.segments,e.segments)||!Yh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!IR(n.children[r],e.children[r],t))return!1;return!0},subset:CR},vR={exact:function x8(n,e){return Fr(n,e)},subset:function M8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mR(n[t],e[t]))},ignored:()=>!0};function wR(n,e,t){return A8[t.paths](n.root,e.root,t.matrixParams)&&vR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function CR(n,e,t){return ER(n,e,e.segments,t)}function ER(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Gs(i,t)||e.hasChildren()||!Yh(i,t,r))}if(n.segments.length===t.length){if(!Gs(n.segments,t)||!Yh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!CR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Gs(n.segments,i)&&Yh(n.segments,i,r)&&n.children[ae])&&ER(n.children[ae],e,s,r)}}function Yh(n,e,t){return e.every((r,i)=>vR[t](n[i].parameters,r.parameters))}class Qi{constructor(e=new he([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return k8.serialize(this)}}class he{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jh(this)}}class Ic{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ma(this.parameters)),this._parameterMap}toString(){return TR(this)}}function Gs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Cc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return new Z_},providedIn:"root"}),n})();class Z_{parse(e){const t=new $8(e);return new Qi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ec(e.root,!0)}`,r=function F8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Xh(t)}=${Xh(i)}`).join("&"):`${Xh(t)}=${Xh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function P8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const k8=new Z_;function Jh(n){return n.segments.map(e=>TR(e)).join("/")}function Ec(n,e){if(!n.hasChildren())return Jh(n);if(e){const t=n.children[ae]?Ec(n.children[ae],!1):"",r=[];return Gt(n.children,(i,s)=>{s!==ae&&r.push(`${s}:${Ec(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function R8(n,e){let t=[];return Gt(n.children,(r,i)=>{i===ae&&(t=t.concat(e(r,i)))}),Gt(n.children,(r,i)=>{i!==ae&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ae?[Ec(n.children[ae],!1)]:[`${i}:${Ec(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ae]?`${Jh(n)}/${t[0]}`:`${Jh(n)}/(${t.join("//")})`}}function DR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xh(n){return DR(n).replace(/%3B/gi,";")}function ev(n){return DR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zh(n){return decodeURIComponent(n)}function bR(n){return Zh(n.replace(/\+/g,"%20"))}function TR(n){return`${ev(n.path)}${function O8(n){return Object.keys(n).map(e=>`;${ev(e)}=${ev(n[e])}`).join("")}(n.parameters)}`}const L8=/^[^\/()?;=#]+/;function ef(n){const e=n.match(L8);return e?e[0]:""}const V8=/^[^=?&#]+/,B8=/^[^&#]+/;class $8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new he(e,t)),r}parseSegment(){const e=ef(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,Qh);return this.capture(e),new Ic(Zh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ef(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ef(this.remaining);i&&(r=i,this.capture(r))}e[Zh(t)]=Zh(r)}parseQueryParam(e){const t=function U8(n){const e=n.match(V8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function j8(n){const e=n.match(B8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=bR(t),s=bR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ef(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,Qh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ae]:new he([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,Qh)}}function tv(n){return n.segments.length>0?new he([],{[ae]:n}):n}function tf(n){const e={};for(const r of Object.keys(n.children)){const s=tf(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function G8(n){if(1===n.numberOfChildren&&n.children[ae]){const e=n.children[ae];return new he(n.segments.concat(e.segments),e.children)}return n}(new he(n.segments,e))}function Hs(n){return n instanceof Qi}const nv=!1;function H8(n,e,t,r,i){if(0===t.length)return ya(e.root,e.root,e.root,r,i);const s=function NR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new MR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Gt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new MR(t,e,r)}(t);return s.toRoot()?ya(e.root,e.root,new he([],{}),r,i):function o(u){const c=function q8(n,e,t,r){if(n.isAbsolute)return new _a(e.root,!0,0);if(-1===r)return new _a(t,t===e.root,0);return function RR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,nv&&"Invalid number of '../'");i=r.segments.length}return new _a(r,!1,i-s)}(t,r+(Dc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),l=c.processChildren?va(c.segmentGroup,c.index,s.commands):rv(c.segmentGroup,c.index,s.commands);return ya(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function Dc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bc(n){return"object"==typeof n&&null!=n&&n.outlets}function ya(n,e,t,r,i){let o,s={};r&&Gt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=n===e?t:xR(n,e,t);const a=tv(tf(o));return new Qi(a,s,i)}function xR(n,e,t){const r={};return Gt(n.children,(i,s)=>{r[s]=i===e?t:xR(i,e,t)}),new he(n.segments,r)}class MR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Dc(r[0]))throw new x(4003,nv&&"Root segment cannot have matrix parameters");const i=r.find(bc);if(i&&i!==_R(r))throw new x(4004,nv&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _a{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function rv(n,e,t){if(n||(n=new he([],{})),0===n.segments.length&&n.hasChildren())return va(n,e,t);const r=function K8(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(bc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!PR(u,c,o))return s;r+=2}else{if(!PR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new he(n.segments.slice(0,r.pathIndex),{});return s.children[ae]=new he(n.segments.slice(r.pathIndex),n.children),va(s,0,i)}return r.match&&0===i.length?new he(n.segments,{}):r.match&&!n.hasChildren()?iv(n,e,t):r.match?va(n,0,i):iv(n,e,t)}function va(n,e,t){if(0===t.length)return new he(n.segments,{});{const r=function W8(n){return bc(n[0])?n[0].outlets:{[ae]:n}}(t),i={};if(!r[ae]&&n.children[ae]&&1===n.numberOfChildren&&0===n.children[ae].segments.length){const s=va(n.children[ae],e,t);return new he(n.segments,s.children)}return Gt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=rv(n.children[o],e,s))}),Gt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new he(n.segments,i)}}function iv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(bc(s)){const u=Q8(s.outlets);return new he(r,u)}if(0===i&&Dc(t[0])){r.push(new Ic(n.segments[e].path,kR(t[0]))),i++;continue}const o=bc(s)?s.outlets[ae]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Dc(a)?(r.push(new Ic(o,kR(a))),i+=2):(r.push(new Ic(o,{})),i++)}return new he(r,{})}function Q8(n){const e={};return Gt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=iv(new he([],{}),0,t))}),e}function kR(n){const e={};return Gt(n,(t,r)=>e[r]=`${t}`),e}function PR(n,e,t){return n==t.path&&Fr(e,t.parameters)}const Tc="imperative";class Lr{constructor(e,t){this.id=e,this.url=t}}class sv extends Lr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yi extends Lr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nf extends Lr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rf extends Lr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ov extends Lr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Y8 extends Lr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J8 extends Lr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X8 extends Lr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Z8 extends Lr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e7 extends Lr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t7{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class n7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class r7{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i7{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class av{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let c7=(()=>{class n{createUrlTree(t,r,i,s,o,a){return H8(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),d7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(e){return c7.\u0275fac(e)},providedIn:"root"}),n})();class OR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=uv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cv(e,this._root).map(t=>t.value)}}function uv(n,e){if(n===e.value)return e;for(const t of e.children){const r=uv(n,t);if(r)return r}return null}function cv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=cv(n,t);if(r.length)return r.unshift(e),r}return[]}class yi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class FR extends OR{constructor(e,t){super(e),this.snapshot=t,lv(this,e)}toString(){return this.snapshot.toString()}}function LR(n,e){const t=function h7(n,e){const o=new sf([],{},{},"",{},ae,e,null,n.root,-1,{});return new UR("",new yi(o,[]))}(n,e),r=new fr([new Ic("",{})]),i=new fr({}),s=new fr({}),o=new fr({}),a=new fr(""),u=new Ji(r,i,o,a,s,ae,e,t.root);return u.snapshot=t.root,new FR(new yi(u,[]),t)}class Ji{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(pe(c=>c[wc]))??Q(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>ma(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>ma(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function f7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class sf{get title(){return this.data?.[wc]}constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ma(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UR extends OR{constructor(e,t){super(t),this.url=e,lv(this,t)}toString(){return BR(this._root)}}function lv(n,e){e.value._routerState=n,e.children.forEach(t=>lv(n,t))}function BR(n){const e=n.children.length>0?` { ${n.children.map(BR).join(", ")} } `:"";return`${n.value}${e}`}function dv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Fr(e.params,t.params)||n.params.next(t.params),function S8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Fr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hv(n,e){const t=Fr(n.params,e.params)&&function N8(n,e){return Gs(n,e)&&n.every((t,r)=>Fr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hv(n.parent,e.parent))}function Sc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function g7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Sc(n,r,i);return Sc(n,r)})}(n,e,t);return new yi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Sc(n,a)),o}}const r=function m7(n){return new Ji(new fr(n.url),new fr(n.params),new fr(n.queryParams),new fr(n.fragment),new fr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Sc(n,s));return new yi(r,i)}}const fv="ngNavigationCancelingError";function jR(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Hs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$R(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function $R(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[fv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function GR(n){return HR(n)&&Hs(n.url)}function HR(n){return n&&n[fv]}class y7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ac,this.attachRef=null}}let Ac=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new y7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const af=!1;let pv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=ge(Ac),this.location=ge(cr),this.changeDetector=ge(_h),this.environmentInjector=ge(si)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,af);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,af);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,af);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,af);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new _7(t,a,i.injector);if(r&&function v7(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=te({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zn]}),n})();class _7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ji?this.route:e===Ac?this.childContexts:this.parent.get(e,t)}}let gv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pt({type:n,selectors:[["ng-component"]],standalone:!0,features:[qx],decls:1,vars:0,template:function(t,r){1&t&&dn(0,"router-outlet")},dependencies:[pv],encapsulation:2}),n})();function zR(n,e){return n.providers&&!n._injector&&(n._injector=ch(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yv(n){const e=n.children&&n.children.map(yv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=gv),t}function Jn(n){return n.outlet||ae}function qR(n,e){const t=n.filter(r=>Jn(r)===e);return t.push(...n.filter(r=>Jn(r)!==e)),t}function xc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class D7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=wa(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Gt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=wa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=wa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=wa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new o7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new i7(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(dv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=xc(i.snapshot),u=a?.get(zu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class WR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uf{constructor(e,t){this.component=e,this.route=t}}function b7(n,e,t){const r=n._root;return Mc(r,e?e._root:null,t,[r.value])}function Ia(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function EB(n){return null!==ld(n)}(n)?e.get(n):n:r}function Mc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=wa(e);return n.children.forEach(o=>{(function S7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function A7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Gs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gs(n.url,e.url)||!Fr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hv(n,e)||!Fr(n.queryParams,e.queryParams);default:return!hv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new WR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Mc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new uf(a.outlet.component,o))}else o&&Nc(e,a,i),i.canActivateChecks.push(new WR(r)),Mc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Gt(s,(o,a)=>Nc(o,t.getContext(a),i)),i}function Nc(n,e,t){const r=wa(n),i=n.value;Gt(r,(s,o)=>{Nc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new uf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Rc(n){return"function"==typeof n}function _v(n){return n instanceof qh||"EmptyError"===n?.name}const cf=Symbol("INITIAL_VALUE");function Ca(){return Or(n=>uR(n.map(e=>e.pipe(zi(1),function I8(...n){const e=wu(n);return Ct((t,r)=>{(e?Wh(n,t,e):Wh(n,t)).subscribe(r)})}(cf)))).pipe(pe(e=>{for(const t of e)if(!0!==t){if(t===cf)return cf;if(!1===t||t instanceof Qi)return t}return!0}),mi(e=>e!==cf),zi(1)))}function KR(n){return function AU(...n){return tb(n)}(tn(e=>{if(Hs(e))throw jR(0,e)}),pe(e=>!0===e))}const vv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QR(n,e,t,r,i){const s=wv(n,e,t);return s.matched?function z7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(o=>{const a=Ia(o,n);return Ki(function P7(n){return n&&Rc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ca(),KR()):Q(!0)}(r=zR(e,r),e,t).pipe(pe(o=>!0===o?s:{...vv})):Q(s)}function wv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...vv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||T8)(t,n,e);if(!i)return{...vv};const s={};Gt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function lf(n,e,t,r){if(t.length>0&&function K7(n,e,t){return t.some(r=>df(n,e,r)&&Jn(r)!==ae)}(n,t,r)){const s=new he(e,function W7(n,e,t,r){const i={};i[ae]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Jn(s)!==ae){const o=new he([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Jn(s)]=o}return i}(n,e,r,new he(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function Q7(n,e,t){return t.some(r=>df(n,e,r))}(n,t,r)){const s=new he(n.segments,function q7(n,e,t,r,i){const s={};for(const o of r)if(df(n,t,o)&&!i[Jn(o)]){const a=new he([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Jn(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new he(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function df(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function YR(n,e,t,r){return!!(Jn(n)===r||r!==ae&&df(e,t,n))&&("**"===n.path||wv(e,n,t).matched)}function JR(n,e,t){return 0===e.length&&!n.children[t]}const hf=!1;class ff{constructor(e){this.segmentGroup=e||null}}class XR{constructor(e){this.urlTree=e}}function kc(n){return vc(new ff(n))}function ZR(n){return vc(new XR(n))}class Z7{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=lf(this.urlTree.root,[],[],this.config).segmentGroup,t=new he(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ae).pipe(pe(s=>this.createUrlTree(tf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wi(s=>{if(s instanceof XR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ff?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ae).pipe(pe(i=>this.createUrlTree(tf(i),e.queryParams,e.fragment))).pipe(Wi(i=>{throw i instanceof ff?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,hf)}createUrlTree(e,t,r){const i=tv(e);return new Qi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(pe(s=>new he([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ft(i).pipe($s(s=>{const o=r.children[s],a=qR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(pe(u=>({segment:u,outlet:s})))}),fR((s,o)=>(s[o.outlet]=o.segment,s),{}),pR())}expandSegment(e,t,r,i,s,o){return ft(r).pipe($s(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Wi(c=>{if(c instanceof ff)return Q(null);throw c}))),qi(a=>!!a),Wi((a,u)=>{if(_v(a))return JR(t,i,s)?Q(new he([],{})):kc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return YR(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):kc(t):kc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ZR(s):this.lineralizeSegments(r,s).pipe(At(o=>{const a=new he(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=wv(t,i,s);if(!a)return kc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?ZR(d):this.lineralizeSegments(i,d).pipe(At(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=zR(r,e),r.loadChildren?(r._loadedRoutes?Q({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(pe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new he(i,{})))):Q(new he(i,{}))):QR(t,r,i,e).pipe(Or(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(At(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=lf(t,a,u,h),m=new he(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(pe(v=>new he(a,v)));if(0===h.length&&0===p.length)return Q(new he(a,{}));const y=Jn(r)===s;return this.expandSegment(d,m,h,p,y?ae:s,!0).pipe(pe(b=>new he(a.concat(b.segments),b.children)))})):kc(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):function H7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(o=>{const a=Ia(o,n);return Ki(function M7(n){return n&&Rc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ca(),KR())}(e,t,r).pipe(At(i=>i?this.configLoader.loadChildren(e,t).pipe(tn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function J7(n){return vc($R(hf,3))}())):Q({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[ae])return e.redirectTo,vc(new x(4e3,hf));i=i.children[ae]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Qi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Gt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new he(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new x(4001,hf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class tW{}class iW{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=lf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(pe(t=>{if(null===t)return null;const r=new sf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new yi(r,t),s=new UR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=VR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ft(Object.keys(r.children)).pipe($s(i=>{const s=r.children[i],o=qR(t,i);return this.processSegmentGroup(e,o,s,i)}),fR((i,s)=>i&&s?(i.push(...s),i):null),function D8(n,e=!1){return Ct((t,r)=>{let i=0;t.subscribe(ht(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Kh(null),pR(),pe(i=>{if(null===i)return null;const s=tk(i);return function sW(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return ft(t).pipe($s(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),qi(o=>!!o),Wi(o=>{if(_v(o))return JR(r,i,s)?Q([]):Q(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!YR(t,r,i,s))return Q(null);let o;if("**"===t.path){const a=i.length>0?_R(i).parameters:{},u=rk(r)+i.length;o=Q({snapshot:new sf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ik(t),Jn(t),t.component??t._loadedComponent??null,t,nk(r),u,sk(t)),consumedSegments:[],remainingSegments:[]})}else o=QR(r,t,i,e).pipe(pe(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=rk(r)+u.length;return{snapshot:new sf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ik(t),Jn(t),t.component??t._loadedComponent??null,t,nk(r),d,sk(t)),consumedSegments:u,remainingSegments:c}}));return o.pipe(Or(a=>{if(null===a)return Q(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function oW(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=lf(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(pe(y=>null===y?null:[new yi(u,y)]));if(0===h.length&&0===p.length)return Q([new yi(u,[])]);const m=Jn(t)===s;return this.processSegment(d,h,f,p,m?ae:s).pipe(pe(y=>null===y?null:[new yi(u,y)]))}))}}function aW(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tk(n){const e=[],t=new Set;for(const r of n){if(!aW(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=tk(r.children);e.push(new yi(r.value,i))}return e.filter(r=>!t.has(r))}function nk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rk(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ik(n){return n.data||{}}function sk(n){return n.resolve||{}}function ok(n){return"string"==typeof n.title||null===n.title}function Iv(n){return Or(e=>{const t=n(e);return t?ft(t).pipe(pe(()=>e)):Q(e)})}const Ea=new $("ROUTES");let Cv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ge(O1)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ki(t.loadComponent()).pipe(pe(uk),tn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),X_(()=>{this.componentLoaders.delete(t)})),i=new dR(r,()=>new Yr).pipe(Y_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=yR(u.get(Ea,[],X.Self|X.Optional)));return{routes:c.map(yv),injector:u}}),X_(()=>{this.childrenLoaders.delete(r)})),o=new dR(s,()=>new Yr).pipe(Y_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Ki(t()).pipe(pe(uk),At(r=>r instanceof Hx||Array.isArray(r)?Q(r):ft(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uk(n){return function gW(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let gf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yr,this.configLoader=ge(Cv),this.environmentInjector=ge(si),this.urlSerializer=ge(Cc),this.rootContexts=ge(Ac),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new n7(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new t7(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new fr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mi(r=>0!==r.id),pe(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Or(r=>{let i=!1,s=!1;return Q(r).pipe(tn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Or(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new rf(o.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),wr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ck(o.source)&&(t.browserUrlTree=o.extractedUrl),Q(o).pipe(Or(l=>{const d=this.transitions?.getValue();return this.events.next(new sv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?wr:Promise.resolve(l)}),function eW(n,e,t,r){return Or(i=>function X7(n,e,t,r,i){return new Z7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(pe(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),tn(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function cW(n,e,t,r,i){return At(s=>function rW(n,e,t,r,i,s,o="emptyOnly"){return new iW(n,e,t,r,i,o,s).recognize().pipe(Or(a=>null===a?function nW(n){return new rt(e=>e.error(n))}(new tW):Q(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(pe(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),tn(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new Y8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new sv(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=LR(d,this.rootComponentType).snapshot;return Q(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new rf(o.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),wr}}),tn(o=>{const a=new J8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),pe(o=>r={...o,guards:b7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function F7(n,e){return At(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Q({...t,guardsResult:!0}):function L7(n,e,t,r){return ft(n).pipe(At(i=>function G7(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Q(s.map(a=>{const u=xc(e)??i,c=Ia(a,u);return Ki(function k7(n){return n&&Rc(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(qi())})).pipe(Ca()):Q(!0)}(i.component,i.route,t,e,r)),qi(i=>!0!==i,!0))}(o,r,i,n).pipe(At(a=>a&&function x7(n){return"boolean"==typeof n}(a)?function V7(n,e,t,r){return ft(e).pipe($s(i=>Wh(function B7(n,e){return null!==n&&e&&e(new r7(n)),Q(!0)}(i.route.parent,r),function U7(n,e){return null!==n&&e&&e(new s7(n)),Q(!0)}(i.route,r),function $7(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function T7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>lR(()=>Q(o.guards.map(u=>{const c=xc(o.node)??t,l=Ia(u,c);return Ki(function R7(n){return n&&Rc(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(qi())})).pipe(Ca())));return Q(s).pipe(Ca())}(n,i.path,t),function j7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(s=>lR(()=>{const o=xc(e)??t,a=Ia(s,o);return Ki(function N7(n){return n&&Rc(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(qi())}));return Q(i).pipe(Ca())}(n,i.route,t))),qi(i=>!0!==i,!0))}(r,s,n,e):Q(a)),pe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),tn(o=>{if(r.guardsResult=o.guardsResult,Hs(o.guardsResult))throw jR(0,o.guardsResult);const a=new X8(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),mi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Iv(o=>{if(o.guards.canActivateChecks.length)return Q(o).pipe(tn(a=>{const u=new Z8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Or(a=>{let u=!1;return Q(a).pipe(function lW(n,e){return At(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let s=0;return ft(i).pipe($s(o=>function dW(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!ok(i)&&(s[wc]=i.title),function hW(n,e,t,r){const i=function fW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Q({});const s={};return ft(i).pipe(At(o=>function pW(n,e,t,r){const i=xc(e)??r,s=Ia(n,i);return Ki(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(qi(),tn(a=>{s[o]=a}))),J_(1),gR(s),Wi(o=>_v(o)?wr:vc(o)))}(s,n,e,r).pipe(pe(o=>(n._resolvedData=o,n.data=VR(n,t).resolve,i&&ok(i)&&(n.data[wc]=i.title),null)))}(o.route,r,n,e)),tn(()=>s++),J_(1),At(o=>s===i.length?Q(t):wr))})}(t.paramsInheritanceStrategy,this.environmentInjector),tn({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),tn(a=>{const u=new e7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Iv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(tn(l=>{u.component=l}),pe(()=>{})));for(const l of u.children)c.push(...a(l));return c};return uR(a(o.targetSnapshot.root)).pipe(Kh(),zi(1))}),Iv(()=>this.afterPreactivation()),pe(o=>{const a=function p7(n,e,t){const r=Sc(n,e._root,t?t._root:void 0);return new FR(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),tn(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>pe(r=>(new D7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),zi(1),tn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Yi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),X_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Wi(o=>{if(s=!0,HR(o)){GR(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new nf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),GR(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ck(r.source)};t.scheduleNavigation(u,Tc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new ov(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return wr}))}))}cancelNavigationTransition(t,r,i){const s=new nf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ck(n){return n!==Tc}let lk=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[wc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(mW)},providedIn:"root"}),n})(),mW=(()=>{class n extends lk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(z(ZM))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(vW)},providedIn:"root"}),n})();class _W{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let vW=(()=>{class n extends _W{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=$t(n)))(r||n)}}(),n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mf=new $("",{providedIn:"root",factory:()=>({})});let IW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:function(){return ge(CW)},providedIn:"root"}),n})(),CW=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EW(n){throw n}function DW(n,e,t){return e.parse("/")}const bW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ge(X5),this.isNgZoneEnabled=!1,this.options=ge(mf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||EW,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||DW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ge(IW),this.routeReuseStrategy=ge(yW),this.urlCreationStrategy=ge(d7),this.titleStrategy=ge(lk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=yR(ge(Ea,{optional:!0})??[]),this.navigationTransitions=ge(gf),this.urlSerializer=ge(Cc),this.location=ge(i_),this.isNgZoneEnabled=ge(st)instanceof st&&st.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LR(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(yv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Hs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Tc,null,r)}navigate(t,r={skipLocationChange:!1}){return function SW(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new x(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...bW}:!1===r?{...TW}:r,Hs(t))return wR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return wR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xi=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Yr;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Yi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=ha(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=ha(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=ha(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function yS(n,e,t){return function Y$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?mS:Om}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(E(Mt),E(Ji),function Nd(n){return function Cj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(oT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(jt(),n)}("tabindex"),E(oi),E(Fn),E(Vs))},n.\u0275dir=te({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&q("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Mr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[zn]}),n})();class dk{}let MW=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(mi(t=>t instanceof Yi),$s(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=ch(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ft(i).pipe(To())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Q(null);const s=i.pipe(At(o=>null===o?Q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ft([s,this.loader.loadComponent(r)]).pipe(To()):s})}}return n.\u0275fac=function(t){return new(t||n)(z(Mt),z(O1),z(si),z(dk),z(Cv))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dv=new $("");let hk=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof av&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new av(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function KS(){throw new Error("invalid")}()},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})();var Vn=(()=>((Vn=Vn||{})[Vn.COMPLETE=0]="COMPLETE",Vn[Vn.FAILED=1]="FAILED",Vn[Vn.REDIRECTING=2]="REDIRECTING",Vn))();const Da=!1;function Zi(n,e){return{\u0275kind:n,\u0275providers:e}}const bv=new $("",{providedIn:"root",factory:()=>!1});function pk(){const n=ge(Sr);return e=>{const t=n.get(mh);if(e!==t.components[0])return;const r=n.get(Mt),i=n.get(gk);1===n.get(Tv)&&r.initialNavigation(),n.get(mk,null,X.Optional)?.setUpPreloading(),n.get(Dv,null,X.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const gk=new $(Da?"bootstrap done indicator":"",{factory:()=>new Yr}),Tv=new $(Da?"initial navigation":"",{providedIn:"root",factory:()=>1});function OW(){let n=[];return n=Da?[{provide:$d,multi:!0,useFactory:()=>{const e=ge(Mt);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function a7(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Zi(1,n)}const mk=new $(Da?"router preloader":"");function FW(n){return Zi(0,[{provide:mk,useExisting:MW},{provide:dk,useExisting:n}])}const Pc=!1,yk=new $(Pc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),LW=[i_,{provide:Cc,useClass:Z_},Mt,Ac,{provide:Ji,useFactory:function fk(n){return n.routerState.root},deps:[Mt]},Cv,Pc?{provide:bv,useValue:!0}:[]];function VW(){return new G1("Router",Mt)}let _k=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[LW,Pc&&r?.enableTracing?OW().\u0275providers:[],{provide:Ea,multi:!0,useValue:t},{provide:yk,useFactory:$W,deps:[[Mt,new Ou,new Fu]]},{provide:mf,useValue:r||{}},r?.useHash?{provide:Vs,useClass:Uz}:{provide:Vs,useClass:hM},{provide:Dv,useFactory:()=>{const n=ge(MM),e=ge(st),t=ge(mf),r=ge(gf),i=ge(Cc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hk(i,r,n,e,t)}},r?.preloadingStrategy?FW(r.preloadingStrategy).\u0275providers:[],{provide:G1,multi:!0,useFactory:VW},r?.initialNavigation?GW(r):[],[{provide:vk,useFactory:pk},{provide:$1,multi:!0,useExisting:vk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ea,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(z(yk,8))},n.\u0275mod=Er({type:n}),n.\u0275inj=nr({imports:[gv]}),n})();function $W(n){if(Pc&&n)throw new x(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function GW(n){return["disabled"===n.initialNavigation?Zi(3,[{provide:fh,multi:!0,useFactory:()=>{const e=ge(Mt);return()=>{e.setUpLocationChangeListener()}}},{provide:Tv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zi(2,[{provide:Tv,useValue:0},{provide:fh,multi:!0,deps:[Sr],useFactory:e=>{const t=e.get(Lz,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Mt),s=e.get(gk);(function NW(n,e){n.events.pipe(mi(t=>t instanceof Yi||t instanceof nf||t instanceof ov||t instanceof rf),pe(t=>t instanceof Yi||t instanceof rf?Vn.COMPLETE:t instanceof nf&&(0===t.code||1===t.code)?Vn.REDIRECTING:Vn.FAILED),mi(t=>t!==Vn.REDIRECTING),zi(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(gf).afterPreactivation=()=>(r(!0),s.closed?Q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const vk=new $(Pc?"Router Initializer":"");function wk(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){wk(s,r,i,o,a,"next",u)}function a(u){wk(s,r,i,o,a,"throw",u)}o(void 0)})}}const Ik=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Ck={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ik(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new QW;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yf=function(n){return function(n){const e=Ik(n);return Ck.encodeByteArray(e,!0)}(n).replace(/\./g,"")},_f=function(n){try{return Ck.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},vf=()=>{try{return function XW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_f(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},Dk=n=>{var e,t;return null===(t=null===(e=vf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},bk=()=>{var n;return null===(n=vf())||void 0===n?void 0:n.config},Tk=n=>{var e;return null===(e=vf())||void 0===e?void 0:e[`_${n}`]};class Sk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ak(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function xk(){try{return"object"==typeof indexedDB}catch{return!1}}function Mk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}class pr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zs.prototype.create)}}class zs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function lK(n,e){return n.replace(dK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new pr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const dK=/\{\$([^}]+)}/g;function Oc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Rk(s)&&Rk(o)){if(!Oc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Rk(n){return null!==n&&"object"==typeof n}function Fc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class pK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function gK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Av),void 0===i.error&&(i.error=Av),void 0===i.complete&&(i.complete=Av);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Av(){}const mK=1e3,yK=2,_K=144e5,vK=.5;function kk(n,e=mK,t=yK){const r=e*Math.pow(t,n),i=Math.round(vK*r*(Math.random()-.5)*2);return Math.min(_K,r+i)}function gn(n){return n&&n._delegate?n._delegate:n}class gr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qs="[DEFAULT]";class IK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Sk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function EK(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===qs?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class DK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Mv=[];var Ie=(()=>{return(n=Ie||(Ie={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ie;var n})();const Pk={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},bK=Ie.INFO,TK={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},SK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=TK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class If{constructor(e){this.name=e,this._logLevel=bK,this._logHandler=SK,this._userLogHandler=null,Mv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Pk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const AK=(n,e)=>e.some(t=>n instanceof t);let Ok,Fk;const Lk=new WeakMap,Nv=new WeakMap,Vk=new WeakMap,Rv=new WeakMap,kv=new WeakMap;let Pv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Nv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Vk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return es(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function OK(n){return"function"==typeof n?function PK(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function MK(){return Fk||(Fk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ov(this),e),es(Lk.get(this))}:function(...e){return es(n.apply(Ov(this),e))}:function(e,...t){const r=n.call(Ov(this),e,...t);return Vk.set(r,e.sort?e.sort():[e]),es(r)}}(n):(n instanceof IDBTransaction&&function RK(n){if(Nv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Nv.set(n,e)}(n),AK(n,function xK(){return Ok||(Ok=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Pv):n)}function es(n){if(n instanceof IDBRequest)return function NK(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(es(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Lk.set(t,n)}).catch(()=>{}),kv.set(e,n),e}(n);if(Rv.has(n))return Rv.get(n);const e=OK(n);return e!==n&&(Rv.set(n,e),kv.set(e,n)),e}const Ov=n=>kv.get(n),LK=["get","getKey","getAll","getAllKeys","count"],VK=["put","add","delete","clear"],Fv=new Map;function Uk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Fv.get(e))return Fv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=VK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!LK.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Fv.set(e,s),s}!function kK(n){Pv=n(Pv)}(n=>({...n,get:(e,t,r)=>Uk(e,t)||n.get(e,t,r),has:(e,t)=>!!Uk(e,t)||n.has(e,t)}));class UK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function BK(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Lv="@firebase/app",Ws=new If("@firebase/app"),Cf="[DEFAULT]",hQ={[Lv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ks=new Map,Ef=new Map;function fQ(n,e){try{n.container.addComponent(e)}catch(t){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vr(n){const e=n.name;if(Ef.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;Ef.set(e,n);for(const t of Ks.values())fQ(t,n);return!0}function ts(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const _i=new zs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}const ba="9.23.0";function jk(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Cf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw _i.create("bad-app-name",{appName:String(i)});if(t||(t=bk()),!t)throw _i.create("no-options");const s=Ks.get(i);if(s){if(Oc(t,s.options)&&Oc(r,s.config))return s;throw _i.create("duplicate-app",{appName:i})}const o=new DK(i);for(const u of Ef.values())o.addComponent(u);const a=new gQ(t,r,o);return Ks.set(i,a),a}function Vv(n=Cf){const e=Ks.get(n);if(!e&&n===Cf&&bk())return jk();if(!e)throw _i.create("no-app",{appName:n});return e}function Xn(n,e,t){var r;let i=null!==(r=hQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ws.warn(a.join(" "))}Vr(new gr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const mQ="firebase-heartbeat-database",yQ=1,Lc="firebase-heartbeat-store";let Bv=null;function $k(){return Bv||(Bv=function FK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=es(o);return r&&o.addEventListener("upgradeneeded",u=>{r(es(o.result),u.oldVersion,u.newVersion,es(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(mQ,yQ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Lc)}}).catch(n=>{throw _i.create("idb-open",{originalErrorMessage:n.message})})),Bv}function jv(){return(jv=g(function*(n){try{return yield(yield $k()).transaction(Lc).objectStore(Lc).get(Hk(n))}catch(e){if(e instanceof pr)Ws.warn(e.message);else{const t=_i.create("idb-get",{originalErrorMessage:e?.message});Ws.warn(t.message)}}})).apply(this,arguments)}function Gk(n,e){return $v.apply(this,arguments)}function $v(){return($v=g(function*(n,e){try{const r=(yield $k()).transaction(Lc,"readwrite");yield r.objectStore(Lc).put(e,Hk(n)),yield r.done}catch(t){if(t instanceof pr)Ws.warn(t.message);else{const r=_i.create("idb-set",{originalErrorMessage:t?.message});Ws.warn(r.message)}}})).apply(this,arguments)}function Hk(n){return`${n.name}!${n.options.appId}`}class IQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new EQ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=zk(),{heartbeatsToSend:r,unsentEntries:i}=function CQ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qk(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),qk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=yf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function zk(){return(new Date).toISOString().substring(0,10)}class EQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!xk()&&Mk().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function _Q(n){return jv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Gk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Gk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function qk(n){return yf(JSON.stringify({version:2,heartbeats:n})).length}!function DQ(n){Vr(new gr("platform-logger",e=>new UK(e),"PRIVATE")),Vr(new gr("heartbeat",e=>new IQ(e),"PRIVATE")),Xn(Lv,"0.9.13",n),Xn(Lv,"0.9.13","esm2017"),Xn("fire-js","")}(""),Xn("firebase","9.23.0","app");const SQ=(n,e)=>e.some(t=>n instanceof t);let Wk,Kk;const Qk=new WeakMap,Gv=new WeakMap,Yk=new WeakMap,Hv=new WeakMap,zv=new WeakMap;let qv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Gv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Yk.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ns(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function PQ(n){return"function"==typeof n?function kQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xQ(){return Kk||(Kk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Wv(this),e),ns(Qk.get(this))}:function(...e){return ns(n.apply(Wv(this),e))}:function(e,...t){const r=n.call(Wv(this),e,...t);return Yk.set(r,e.sort?e.sort():[e]),ns(r)}}(n):(n instanceof IDBTransaction&&function NQ(n){if(Gv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Gv.set(n,e)}(n),SQ(n,function AQ(){return Wk||(Wk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,qv):n)}function ns(n){if(n instanceof IDBRequest)return function MQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ns(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Qk.set(t,n)}).catch(()=>{}),zv.set(e,n),e}(n);if(Hv.has(n))return Hv.get(n);const e=PQ(n);return e!==n&&(Hv.set(n,e),zv.set(e,n)),e}const Wv=n=>zv.get(n),FQ=["get","getKey","getAll","getAllKeys","count"],LQ=["put","add","delete","clear"],Kv=new Map;function Jk(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Kv.get(e))return Kv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=LQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!FQ.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Kv.set(e,s),s}!function RQ(n){qv=n(qv)}(n=>({...n,get:(e,t,r)=>Jk(e,t)||n.get(e,t,r),has:(e,t)=>!!Jk(e,t)||n.has(e,t)}));const Xk="@firebase/installations",Qv="0.6.4",Zk=1e4,eP=`w:${Qv}`,tP="FIS_v2",VQ="https://firebaseinstallations.googleapis.com/v1",UQ=36e5,vi=new zs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nP(n){return n instanceof pr&&n.code.includes("request-failed")}function Yv({projectId:n}){return`${VQ}/projects/${n}/installations`}function rP(n){return{token:n.token,requestStatus:2,expiresIn:GQ(n.expiresIn),creationTime:Date.now()}}function Jv(n,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=g(function*(n,e){const r=(yield e.json()).error;return vi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function iP({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Zv(n){return ew.apply(this,arguments)}function ew(){return(ew=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function GQ(n){return Number(n.replace("s","000"))}function tw(){return(tw=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Yv(n),i=iP(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:tP,appId:n.appId,sdkVersion:eP})},u=yield Zv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:rP(c.authToken)}}throw yield Jv("Create Installation",u)})).apply(this,arguments)}function oP(n){return new Promise(e=>{setTimeout(e,n)})}const WQ=/^[cdef][\w-]{21}$/,nw="";function KQ(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function QQ(n){return function qQ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return WQ.test(t)?t:nw}catch{return nw}}function Ta(n){return`${n.appName}!${n.appId}`}const Sa=new Map;function aP(n,e){const t=Ta(n);uP(t,e),function XQ(n,e){const t=function cP(){return!Qs&&"BroadcastChannel"in self&&(Qs=new BroadcastChannel("[Firebase] FID Change"),Qs.onmessage=n=>{uP(n.data.key,n.data.fid)}),Qs}();t&&t.postMessage({key:n,fid:e}),function lP(){0===Sa.size&&Qs&&(Qs.close(),Qs=null)}()}(t,e)}function uP(n,e){const t=Sa.get(n);if(t)for(const r of t)r(e)}let Qs=null;const ZQ="firebase-installations-database",eY=1,Ys="firebase-installations-store";let rw=null;function iw(){return rw||(rw=function OQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ns(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ns(o.result),u.oldVersion,u.newVersion,ns(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(ZQ,eY,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ys)}})),rw}function Df(n,e){return sw.apply(this,arguments)}function sw(){return(sw=g(function*(n,e){const t=Ta(n),i=(yield iw()).transaction(Ys,"readwrite"),s=i.objectStore(Ys),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&aP(n,e.fid),e})).apply(this,arguments)}function ow(n){return aw.apply(this,arguments)}function aw(){return(aw=g(function*(n){const e=Ta(n),r=(yield iw()).transaction(Ys,"readwrite");yield r.objectStore(Ys).delete(e),yield r.done})).apply(this,arguments)}function Vc(n,e){return uw.apply(this,arguments)}function uw(){return(uw=g(function*(n,e){const t=Ta(n),i=(yield iw()).transaction(Ys,"readwrite"),s=i.objectStore(Ys),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&aP(n,a.fid),a})).apply(this,arguments)}function cw(n){return lw.apply(this,arguments)}function lw(){return lw=g(function*(n){let e;const t=yield Vc(n.appConfig,r=>{const i=function tY(n){return hP(n||{fid:KQ(),registrationStatus:0})}(r),s=function nY(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(vi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function rY(n,e){return dw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:iY(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===nw?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),lw.apply(this,arguments)}function dw(){return dw=g(function*(n,e){try{const t=yield function zQ(n,e){return tw.apply(this,arguments)}(n,e);return Df(n.appConfig,t)}catch(t){throw nP(t)&&409===t.customData.serverCode?yield ow(n.appConfig):yield Df(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),dw.apply(this,arguments)}function iY(n){return hw.apply(this,arguments)}function hw(){return(hw=g(function*(n){let e=yield dP(n.appConfig);for(;1===e.registrationStatus;)yield oP(100),e=yield dP(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield cw(n);return r||t}return e})).apply(this,arguments)}function dP(n){return Vc(n,e=>{if(!e)throw vi.create("installation-not-found");return hP(e)})}function hP(n){return function sY(n){return 1===n.registrationStatus&&n.registrationTime+Zk<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function fw(){return(fw=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function aY(n,{fid:e}){return`${Yv(n)}/${e}/authTokens:generate`}(n,t),i=function sP(n,{refreshToken:e}){const t=iP(n);return t.append("Authorization",function HQ(n){return`${tP} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:eP,appId:n.appId}})},u=yield Zv(()=>fetch(r,a));if(u.ok)return rP(yield u.json());throw yield Jv("Generate Auth Token",u)})).apply(this,arguments)}function pw(n){return gw.apply(this,arguments)}function gw(){return gw=g(function*(n,e=!1){let t;const r=yield Vc(n.appConfig,s=>{if(!pP(s))throw vi.create("not-registered");const o=s.authToken;if(!e&&function lY(n){return 2===n.requestStatus&&!function dY(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+UQ}(n)}(o))return s;if(1===o.requestStatus)return t=function uY(n,e){return mw.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw vi.create("app-offline");const a=function hY(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function cY(n,e){return yw.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),gw.apply(this,arguments)}function mw(){return(mw=g(function*(n,e){let t=yield fP(n.appConfig);for(;1===t.authToken.requestStatus;)yield oP(100),t=yield fP(n.appConfig);const r=t.authToken;return 0===r.requestStatus?pw(n,e):r})).apply(this,arguments)}function fP(n){return Vc(n,e=>{if(!pP(e))throw vi.create("not-registered");return function fY(n){return 1===n.requestStatus&&n.requestTime+Zk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function yw(){return yw=g(function*(n,e){try{const t=yield function oY(n,e){return fw.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Df(n.appConfig,r),t}catch(t){if(!nP(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Df(n.appConfig,r)}else yield ow(n.appConfig);throw t}}),yw.apply(this,arguments)}function pP(n){return void 0!==n&&2===n.registrationStatus}function _w(){return(_w=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield cw(e);return r?r.catch(console.error):pw(e).catch(console.error),t.fid})).apply(this,arguments)}function vw(){return vw=g(function*(n,e=!1){const t=n;return yield function mY(n){return ww.apply(this,arguments)}(t),(yield pw(t,e)).token}),vw.apply(this,arguments)}function ww(){return(ww=g(function*(n){const{registrationPromise:e}=yield cw(n);e&&(yield e)})).apply(this,arguments)}function Ew(n){return vi.create("missing-app-config-values",{valueName:n})}const gP="installations",IY=n=>{const e=n.getProvider("app").getImmediate(),t=function vY(n){if(!n||!n.options)throw Ew("App Configuration");if(!n.name)throw Ew("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Ew(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:ts(e,"heartbeat"),_delete:()=>Promise.resolve()}},CY=n=>{const t=ts(n.getProvider("app").getImmediate(),gP).getImmediate();return{getId:()=>function pY(n){return _w.apply(this,arguments)}(t),getToken:i=>function gY(n){return vw.apply(this,arguments)}(t,i)}};(function EY(){Vr(new gr(gP,IY,"PUBLIC")),Vr(new gr("installations-internal",CY,"PRIVATE"))})(),Xn(Xk,Qv),Xn(Xk,Qv,"esm2017");const bf="analytics",DY="firebase_id",bY="origin",TY=6e4,SY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dw="https://www.googletagmanager.com/gtag/js",Rt=new If("@firebase/analytics"),mn=new zs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xY(n){if(!n.startsWith(Dw)){const e=mn.create("invalid-gtag-resource",{gtagURL:n});return Rt.warn(e.message),""}return n}function mP(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function bw(){return(bw=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield mP(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Rt.error(a)}n("config",i,s)})).apply(this,arguments)}function Tw(){return(Tw=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield mP(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Rt.error(s)}})).apply(this,arguments)}const VY=30,yP=new class BY{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function jY(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Sw(){return(Sw=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:jY(r)},s=SY.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Aw(){return(Aw=g(function*(n,e=yP,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new qY;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:TY),_P({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function _P(n,e,t){return xw.apply(this,arguments)}function xw(){return xw=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=yP){var s;const{appId:o,measurementId:a}=n;try{yield function HY(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function $Y(n){return Sw.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function zY(n){if(!(n instanceof pr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?kk(t,i.intervalMillis,VY):kk(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),Rt.debug(`Calling attemptFetch again in ${l} millis`),_P(n,d,r,i)}}),xw.apply(this,arguments)}class qY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Mw,Lw;function Nw(){return(Nw=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Vw(){return(Vw=g(function*(){if(!xk())return Rt.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Mk()}catch(n){return Rt.warn(mn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function Uw(){return Uw=g(function*(n,e,t,r,i,s,o){var a;const u=function GY(n){return Aw.apply(this,arguments)}(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Rt.error(f)),e.push(u);const c=function ZY(){return Vw.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function LY(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Dw)&&t.src.includes(n))return t;return null})(s)||function NY(n,e){const t=function MY(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:xY}),r=document.createElement("script"),i=`${Dw}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),Lw&&(i("consent","default",Lw),function vP(n){Lw=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[bY]="firebase",h.update=!0,null!=d&&(h[DY]=d),i("config",l.measurementId,h),Mw&&(i("set",Mw),function wP(n){Mw=n}(void 0)),l.measurementId}),Uw.apply(this,arguments)}class tJ{constructor(e){this.app=e}_delete(){return delete Ur[this.app.options.appId],Promise.resolve()}}let Ur={},IP=[];const CP={};let DP,Br,Tf="dataLayer",EP="gtag",Bw=!1;function rJ(n,e,t){!function nJ(){const n=[];if(Ak()&&n.push("This is a browser extension environment."),function uK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=mn.create("invalid-analytics-context",{errorInfo:e});Rt.warn(t.message)}}();const r=n.options.appId;if(!r)throw mn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw mn.create("no-api-key");Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ur[r])throw mn.create("already-exists",{id:r});if(!Bw){!function RY(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Tf);const{wrappedGtag:s,gtagCore:o}=function FY(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function OY(n,e,t,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function PY(n,e,t,r,i){return Tw.apply(this,arguments)}(n,e,t,u,c)}else if("config"===o){const[u,c]=a;yield function kY(n,e,t,r,i,s){return bw.apply(this,arguments)}(n,e,t,r,u,c)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,c,l]=a;n("get",u,c,l)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){Rt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Ur,IP,CP,Tf,EP);Br=s,DP=o,Bw=!0}return Ur[r]=function eJ(n,e,t,r,i,s,o){return Uw.apply(this,arguments)}(n,IP,CP,e,DP,Tf,t),new tJ(n)}function bP(n,e,t,r){n=gn(n),function WY(n,e,t,r,i){return Nw.apply(this,arguments)}(Br,Ur[n.app.options.appId],e,t,r).catch(i=>Rt.error(i))}const TP="@firebase/analytics";!function oJ(){Vr(new gr(bf,(e,{options:t})=>rJ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Vr(new gr("analytics-internal",function n(e){try{const t=e.getProvider(bf).getImmediate();return{logEvent:(r,i,s)=>bP(t,r,i,s)}}catch(t){throw mn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Xn(TP,"0.10.0"),Xn(TP,"0.10.0","esm2017")}();const aJ=function AP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xP=new zs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sf=new If("@firebase/auth");function Af(n,...e){Sf.logLevel<=Ie.ERROR&&Sf.error(`Auth (${ba}): ${n}`,...e)}function Tn(n,...e){throw Gw(n,...e)}function Un(n,...e){return Gw(n,...e)}function MP(n,e,t){const r=Object.assign(Object.assign({},aJ()),{[e]:t});return new zs("auth","Firebase",r).create(e,{appName:n.name})}function Gw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xP.create(n,...e)}function N(n,e,...t){if(!n)throw Gw(e,...t)}function jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Af(e),new Error(e)}function wi(n,e){n||jr(e)}function Uc(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function NP(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Bc{constructor(e,t){this.shortDelay=e,this.longDelay=t,wi(t>e,"Short delay should be less than long delay!"),this.isMobile=function iK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}()||function oK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function cJ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Hw(){return"http:"===NP()||"https:"===NP()}()||Ak()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zw(n,e){wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class RP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},hJ=new Bc(3e4,6e4);function Ye(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function et(n,e,t,r){return qw.apply(this,arguments)}function qw(){return(qw=g(function*(n,e,t,r,i={}){return kP(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Fc(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),RP.fetch()(PP(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function kP(n,e,t){return Ww.apply(this,arguments)}function Ww(){return(Ww=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},dJ),e);try{const i=new fJ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw jc(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw jc(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw jc(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw jc(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw MP(n,l,c);Tn(n,l)}}catch(i){if(i instanceof pr)throw i;Tn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ii(n,e,t,r){return Kw.apply(this,arguments)}function Kw(){return(Kw=g(function*(n,e,t,r,i={}){const s=yield et(n,e,t,r,i);return"mfaPendingCredential"in s&&Tn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function PP(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?zw(n.config,i):`${n.config.apiScheme}://${i}`}class fJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Un(this.auth,"network-request-failed")),hJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Un(n,e,r);return i.customData._tokenResponse=t,i}function Qw(){return(Qw=g(function*(n,e){return et(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Jw(){return(Jw=g(function*(n,e){return et(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function $c(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xw(){return(Xw=g(function*(n,e=!1){const t=gn(n),r=yield t.getIdToken(e),i=xf(r);N(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:$c(Zw(i.auth_time)),issuedAtTime:$c(Zw(i.iat)),expirationTime:$c(Zw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Zw(n){return 1e3*Number(n)}function xf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const i=_f(t);return i?JSON.parse(i):(Af("Failed to decode base64 JWT payload"),null)}catch(i){return Af("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ci(n,e){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof pr&&function vJ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class wJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class OP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gc(n){return tI.apply(this,arguments)}function tI(){return tI=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ci(n,function mJ(n,e){return Jw.apply(this,arguments)}(t,{idToken:r}));N(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function EJ(n){return n.map(e=>{var{providerId:t}=e,r=ad(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function CJ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new OP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),tI.apply(this,arguments)}function nI(){return(nI=g(function*(n){const e=gn(n);yield Gc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function rI(){return(rI=g(function*(n,e){const t=yield kP(n,{},g(function*(){const r=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=PP(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function _J(n){const e=xf(n);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function DJ(n,e){return rI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Hc;return r&&(N("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hc,this.toJSON())}_performRefresh(){return jr("not implemented")}}function rs(n,e){N("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Js{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=ad(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new OP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield Ci(t,t.stsTokenManager.getToken(t.auth,e));return N(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function yJ(n){return Xw.apply(this,arguments)}(this,e)}reload(){return function IJ(n){return nI.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Gc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield Ci(e,function pJ(n,e){return Qw.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=t.createdAt)&&void 0!==c?c:void 0,b=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:P,isAnonymous:H,providerData:Y,stsTokenManager:Ut}=t;N(v&&Ut,e,"internal-error");const Pi=Hc.fromJSON(this.name,Ut);N("string"==typeof v,e,"internal-error"),rs(d,e.name),rs(h,e.name),N("boolean"==typeof P,e,"internal-error"),N("boolean"==typeof H,e,"internal-error"),rs(f,e.name),rs(p,e.name),rs(m,e.name),rs(y,e.name),rs(I,e.name),rs(b,e.name);const yu=new Js({uid:v,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Pi,createdAt:I,lastLoginAt:b});return Y&&Array.isArray(Y)&&(yu.providerData=Y.map(Use=>Object.assign({},Use))),y&&(yu._redirectEventId=y),yu}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Hc;i.updateFromServerResponse(t);const s=new Js({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gc(s),s})()}}const FP=new Map;function Ei(n){wi(n instanceof Function,"Expected a class definition");let e=FP.get(n);return e?(wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,FP.set(n,e),e)}const LP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Mf(n,e,t){return`firebase:${n}:${e}:${t}`}class xa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Mf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Js._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new xa(Ei(LP),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ei(LP);const o=Mf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=Js._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new xa(s,e,r)):new xa(s,e,r)})()}}function VP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GP(e))return"Blackberry";if(HP(e))return"Webos";if(iI(e))return"Safari";if((e.includes("chrome/")||BP(e))&&!e.includes("edge/"))return"Chrome";if($P(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function UP(n=Nt()){return/firefox\//i.test(n)}function iI(n=Nt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BP(n=Nt()){return/crios\//i.test(n)}function jP(n=Nt()){return/iemobile/i.test(n)}function $P(n=Nt()){return/android/i.test(n)}function GP(n=Nt()){return/blackberry/i.test(n)}function HP(n=Nt()){return/webos/i.test(n)}function Nf(n=Nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zP(n=Nt()){return Nf(n)||$P(n)||HP(n)||GP(n)||/windows phone/i.test(n)||jP(n)}function qP(n,e=[]){let t;switch(n){case"Browser":t=VP(Nt());break;case"Worker":t=`${VP(Nt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ba}/${r}`}function WP(n,e){return oI.apply(this,arguments)}function oI(){return(oI=g(function*(n,e){return et(n,"GET","/v2/recaptchaConfig",Ye(n,e))})).apply(this,arguments)}function QP(n){return void 0!==n&&void 0!==n.enterprise}class YP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function aI(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Un("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function xJ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function JP(n){return`__${n}${Math.floor(1e6*Math.random())}`}const RJ="NO_RECAPTCHA";class XP{constructor(e){this.type="recaptcha-enterprise",this.auth=kt(e)}verify(e="verify",t=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){WP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new YP(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;QP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(RJ)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&QP(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));aI("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class kJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class PJ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZP(this),this.idTokenSubscription=new ZP(this),this.beforeStateQueue=new kJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield xa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return N(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield Gc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function lJ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?gn(e):null;return r&&N(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&N(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(Ei(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const t=yield WP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new YP(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new XP(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&Ei(e)||t._popupRedirectResolver;N(r,t,"argument-error"),t.redirectPersistenceManager=yield xa.create(t,[Ei(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function uJ(n,...e){Sf.logLevel<=Ie.WARN&&Sf.warn(`Auth (${ba}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function kt(n){return gn(n)}class ZP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function fK(n,e){const t=new pK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tO(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class nO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,t){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}function Di(n,e){return DI.apply(this,arguments)}function DI(){return(DI=g(function*(n,e){return Ii(n,"POST","/v1/accounts:signInWithIdp",Ye(n,e))})).apply(this,arguments)}class Ma extends nO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=ad(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ma(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Di(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Di(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Di(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fc(t)}return e}}class ss{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oO extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let xI=(()=>{class n extends oO{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();class Zn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield Js._fromIdTokenResponse(e,r,i),o=aO(r);return new Zn({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=aO(r);return new Zn({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function aO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ff extends pr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ff(e,t,r,i)}}function uO(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Ff._fromErrorAndOperation(n,s,e,r):s})}function PI(n,e){return OI.apply(this,arguments)}function OI(){return(OI=g(function*(n,e,t=!1){const r=yield Ci(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Zn._forOperation(n,"link",r)})).apply(this,arguments)}function lO(n,e){return LI.apply(this,arguments)}function LI(){return(LI=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Ci(n,uO(r,i,e,n),t);N(s.idToken,r,"internal-error");const o=xf(s.idToken);N(o,r,"internal-error");const{sub:a}=o;return N(n.uid===a,r,"user-mismatch"),Zn._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Tn(r,"user-mismatch"),s}})).apply(this,arguments)}function dO(n,e){return VI.apply(this,arguments)}function VI(){return(VI=g(function*(n,e,t=!1){const r="signIn",i=yield uO(n,r,e),s=yield Zn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Vf="__sak";class fO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CX=(()=>{class n extends fO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vX(){const n=Nt();return iI(n)||Nf(n)}()&&function SJ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function TJ(){return function aK(){const n=Nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),pO=(()=>{class n extends fO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let DX=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function EX(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Uf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class bX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Uf("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function vt(){return window}function pC(){return typeof vt().WorkerGlobalScope<"u"&&"function"==typeof vt().importScripts}function gC(){return(gC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gO="firebaseLocalStorageDb",MX=1,Bf="firebaseLocalStorage",mO="fbase_key";class Wc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jf(n,e){return n.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function mC(){const n=indexedDB.open(gO,MX);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Bf,{keyPath:mO})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),yield function NX(){const n=indexedDB.deleteDatabase(gO);return new Wc(n).toPromise()}(),e(yield mC()))}))})}function yO(n,e,t){return yC.apply(this,arguments)}function yC(){return(yC=g(function*(n,e,t){const r=jf(n,!0).put({[mO]:e,value:t});return new Wc(r).toPromise()})).apply(this,arguments)}function _C(){return(_C=g(function*(n,e){const t=jf(n,!1).get(e),r=yield new Wc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function _O(n,e){const t=jf(n,!0).delete(e);return new Wc(t).toPromise()}const OX=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield mC()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return pC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=DX._getInstance(function xX(){return pC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function SX(){return gC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new bX(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function AX(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield mC();return yield yO(t,Vf,"1"),yield _O(t,Vf),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>yO(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function RX(n,e){return _C.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>_O(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=jf(o,!1).getAll();return new Wc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Zs(n,e){return e?Ei(e):(N(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}JP("rcb"),new Bc(3e4,6e4);class SC extends nO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Di(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Di(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Di(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JX(n){return dO(n.auth,new SC(n),n.bypassAuthState)}function XX(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),lO(t,new SC(n),n.bypassAuthState)}function ZX(n){return AC.apply(this,arguments)}function AC(){return(AC=g(function*(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),PI(t,new SC(n),n.bypassAuthState)})).apply(this,arguments)}class wO{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JX;case"linkViaPopup":case"linkViaRedirect":return ZX;case"reauthViaPopup":case"reauthViaRedirect":return XX;default:Tn(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eZ=new Bc(2e3,1e4);function xC(){return(xC=g(function*(n,e,t){const r=kt(n);!function Aa(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Tn(n,"argument-error"),MP(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,e,ss);const i=Zs(r,t);return new RC(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let RC=(()=>{class n extends wO{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return g(function*(){const r=yield t.execute();return N(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return g(function*(){wi(1===t.filter.length,"Popup operations only handle one event");const r=Uf();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Un(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,eZ.get())};t()}}return n.currentPopupAction=null,n})();const nZ="pendingRedirect",Kc=new Map;class rZ extends wO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Kc.get(t.auth._key());if(!r){try{const s=(yield function iZ(n,e){return kC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Kc.set(t.auth._key(),r)}return t.bypassAuthState||Kc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function kC(){return(kC=g(function*(n,e){const t=function CO(n){return Mf(nZ,n.config.apiKey,n.name)}(e),r=function IO(n){return Ei(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function sZ(n,e){Kc.set(n._key(),e)}function EO(n,e){return BC.apply(this,arguments)}function BC(){return(BC=g(function*(n,e,t=!1){const r=kt(n),i=Zs(r,e),o=yield new rZ(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class lZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function dZ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TO(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!TO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Un(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bO(e))}saveEventToCache(e){this.cachedEventUids.add(bO(e)),this.lastProcessedEventTime=Date.now()}}function bO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TO({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function $C(){return($C=g(function*(n,e={}){return et(n,"GET","/v1/projects",e)})).apply(this,arguments)}const fZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pZ=/^https?/;function GC(){return GC=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function hZ(n){return $C.apply(this,arguments)}(n);for(const t of e)try{if(mZ(t))return}catch{}Tn(n,"unauthorized-domain")}),GC.apply(this,arguments)}function mZ(n){const e=Uc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!pZ.test(t))return!1;if(fZ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yZ=new Bc(3e4,6e4);function SO(){const n=vt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Gf=null;const wZ=new Bc(5e3,15e3),IZ="__/auth/iframe",CZ="emulator/auth/iframe",EZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bZ(n){const e=n.config;N(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zw(e,CZ):`https://${n.config.authDomain}/${IZ}`,r={apiKey:e.apiKey,appName:n.name,v:ba},i=DZ.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Fc(r).slice(1)}`}function HC(){return HC=g(function*(n){const e=yield function vZ(n){return Gf=Gf||function _Z(n){return new Promise((e,t)=>{var r,i,s;function o(){SO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SO(),t(Un(n,"network-request-failed"))},timeout:yZ.get()})}if(null!==(i=null===(r=vt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=vt().gapi)||void 0===s||!s.load){const a=JP("iframefcb");return vt()[a]=()=>{gapi.load?o():t(Un(n,"network-request-failed"))},aI(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Gf=null,e})}(n),Gf}(n),t=vt().gapi;return N(t,n,"internal-error"),e.open({where:document.body,url:bZ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EZ,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Un(n,"network-request-failed"),u=vt().setTimeout(()=>{o(a)},wZ.get());function c(){vt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),HC.apply(this,arguments)}const SZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AZ=500,xZ=600,MZ="_blank",NZ="http://localhost";class AO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const PZ="__/auth/handler",OZ="emulator/auth/handler",FZ=encodeURIComponent("fac");function xO(n,e,t,r,i,s){return zC.apply(this,arguments)}function zC(){return(zC=g(function*(n,e,t,r,i,s){N(n.config.authDomain,n,"auth-domain-config-required"),N(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ba,eventId:i};if(e instanceof ss){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function hK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof oO){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield n._getAppCheckToken(),c=u?`#${FZ}=${encodeURIComponent(u)}`:"";return`${function LZ({config:n}){return n.emulator?zw(n,OZ):`https://${n.authDomain}/${PZ}`}(n)}?${Fc(a).slice(1)}${c}`})).apply(this,arguments)}const qC="webStorageSupport",UZ=class VZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pO,this._completeRedirectFn=EO,this._overrideRedirectResult=sZ}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;wi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield xO(e,t,r,Uc(),i);return function RZ(n,e,t,r=AZ,i=xZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},SZ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Nt().toLowerCase();t&&(a=BP(c)?MZ:t),UP(c)&&(e=e||NZ,u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function bJ(n=Nt()){var e;return Nf(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function kZ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new AO(null);const d=window.open(e||"",a,l);N(d,n,"popup-blocked");try{d.focus()}catch{}return new AO(d)}(e,a,Uf())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function TX(n){vt().location.href=n}(yield xO(e,t,r,Uc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(wi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function TZ(n){return HC.apply(this,arguments)}(e),i=new lZ(e);return r.register("authEvent",s=>(N(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qC,{type:qC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[qC];void 0!==o&&t(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function gZ(n){return GC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zP()||iI()||Nf()}};var RO="@firebase/auth";class BZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const HZ=Tk("authIdTokenMaxAge")||300;let PO=null;const zZ=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>HZ)return;const s=r?.token;PO!==s&&(PO=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function qZ(n=Vv()){const e=ts(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function OJ(n,e){const t=ts(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Oc(t.getOptions(),e??{}))return i;Tn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:UZ,persistence:[OX,CX,pO]}),r=Tk("authTokenSyncURL");if(r){const s=zZ(r);(function fX(n,e,t){gn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function hX(n,e,t,r){gn(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=Dk("auth");return i&&function LJ(n,e,t){const r=kt(n);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=eO(e),{host:o,port:a}=function VJ(n){const e=eO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tO(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:tO(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function UJ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function $Z(n){Vr(new gr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qP(n)},c=new PJ(r,i,s,u);return function FJ(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ei);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new gr("auth-internal",e=>{const t=kt(e.getProvider("auth").getImmediate());return new BZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(RO,"0.23.2",function jZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Xn(RO,"0.23.2","esm2017")}("Browser");var O,WZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mr={},KC=KC||{},re=WZ||self;function zf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Qc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var QC="closure_uid_"+(1e9*Math.random()>>>0),QZ=0;function YZ(n,e,t){return n.call.apply(n.bind,arguments)}function JZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function nn(n,e,t){return(nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?YZ:JZ).apply(null,arguments)}function qf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Pt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function os(){this.s=this.s,this.o=this.o}os.prototype.s=!1,os.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function KZ(n){Object.prototype.hasOwnProperty.call(n,QC)&&n[QC]||(n[QC]=++QZ)}(this)},os.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const OO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function YC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function FO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(zf(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function rn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var ZZ=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{re.addEventListener("test",()=>{},e),re.removeEventListener("test",()=>{},e)}catch{}return n}();function Yc(n){return/^[\s\xa0]*$/.test(n)}function Wf(){var n=re.navigator;return n&&(n=n.userAgent)?n:""}function $r(n){return-1!=Wf().indexOf(n)}function JC(n){return JC[" "](n),n}JC[" "]=function(){};var ZC,n,tee=$r("Opera"),Ra=$r("Trident")||$r("MSIE"),LO=$r("Edge"),XC=LO||Ra,VO=$r("Gecko")&&!(-1!=Wf().toLowerCase().indexOf("webkit")&&!$r("Edge"))&&!($r("Trident")||$r("MSIE"))&&!$r("Edge"),nee=-1!=Wf().toLowerCase().indexOf("webkit")&&!$r("Edge");function UO(){var n=re.document;return n?n.documentMode:void 0}e:{var eE="",tE=(n=Wf(),VO?/rv:([^\);]+)(\)|;)/.exec(n):LO?/Edge\/([\d\.]+)/.exec(n):Ra?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nee?/WebKit\/(\S+)/.exec(n):tee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(tE&&(eE=tE?tE[1]:""),Ra){var nE=UO();if(null!=nE&&nE>parseFloat(eE)){ZC=String(nE);break e}}ZC=eE}var ree=re.document&&Ra&&(UO()||parseInt(ZC,10))||void 0;function Jc(n,e){if(rn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(VO){e:{try{JC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jc.$.h.call(this)}}Pt(Jc,rn);var iee={2:"touch",3:"pen",4:"mouse"};Jc.prototype.h=function(){Jc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xc="closure_listenable_"+(1e6*Math.random()|0),see=0;function oee(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++see,this.fa=this.ia=!1}function Kf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function iE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function jO(n){const e={};for(const t in n)e[t]=n[t];return e}const $O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<$O.length;s++)t=$O[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Qf(n){this.src=n,this.g={},this.h=0}function sE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=OO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Kf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function oE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Qf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=oE(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new oee(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var aE="closure_lm_"+(1e6*Math.random()|0),uE={};function HO(n,e,t,r,i){if(r&&r.once)return qO(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)HO(n,e[s],t,r,i);return null}return t=hE(t),n&&n[Xc]?n.O(e,t,Qc(r)?!!r.capture:!!r,i):zO(n,e,t,!1,r,i)}function zO(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Qc(i)?!!i.capture:!!i,a=lE(n);if(a||(n[aE]=a=new Qf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function uee(){const e=cee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ZZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(KO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qO(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qO(n,e[s],t,r,i);return null}return t=hE(t),n&&n[Xc]?n.P(e,t,Qc(r)?!!r.capture:!!r,i):zO(n,e,t,!0,r,i)}function WO(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)WO(n,e[s],t,r,i);else r=Qc(r)?!!r.capture:!!r,t=hE(t),n&&n[Xc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=oE(s=n.g[e],t,r,i))&&(Kf(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=lE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=oE(e,t,r,i)),(t=-1<n?e[n]:null)&&cE(t))}function cE(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Xc])sE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(KO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=lE(e))?(sE(t,n),0==t.h&&(t.src=null,e[aE]=null)):Kf(n)}}}function KO(n){return n in uE?uE[n]:uE[n]="on"+n}function cee(n,e){if(n.fa)n=!0;else{e=new Jc(e,this);var t=n.listener,r=n.la||n.src;n.ia&&cE(n),n=t.call(r,e)}return n}function lE(n){return(n=n[aE])instanceof Qf?n:null}var dE="__closure_events_fn_"+(1e9*Math.random()>>>0);function hE(n){return"function"==typeof n?n:(n[dE]||(n[dE]=function(e){return n.handleEvent(e)}),n[dE])}function Ot(){os.call(this),this.i=new Qf(this),this.S=this,this.J=null}function Ht(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new rn(e,n);else if(e instanceof rn)e.target=e.target||n;else{var i=e;GO(e=new rn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Yf(o,r,!0,e)&&i}if(i=Yf(o=e.g=n,r,!0,e)&&i,i=Yf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Yf(o=e.g=t[s],r,!1,e)&&i}function Yf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&sE(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Pt(Ot,os),Ot.prototype[Xc]=!0,Ot.prototype.removeEventListener=function(n,e,t,r){WO(this,n,e,t,r)},Ot.prototype.N=function(){if(Ot.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Kf(t[r]);delete n.g[e],n.h--}}this.J=null},Ot.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ot.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var fE=re.JSON.stringify;function dee(){var n=pE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var QO=new class lee{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new fee,n=>n.reset());class fee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pee(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function gee(n){re.setTimeout(()=>{throw n},0)}let Zc,el=!1,pE=new class hee{constructor(){this.h=this.g=null}add(e,t){const r=QO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},YO=()=>{const n=re.Promise.resolve(void 0);Zc=()=>{n.then(mee)}};var mee=()=>{for(var n;n=dee();){try{n.h.call(n.g)}catch(t){gee(t)}var e=QO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}el=!1};function Jf(n,e){Ot.call(this),this.h=n||1,this.g=e||re,this.j=nn(this.qb,this),this.l=Date.now()}function gE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function mE(n,e,t){if("function"==typeof n)t&&(n=nn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=nn(n.handleEvent,n)}return 2147483647<Number(e)?-1:re.setTimeout(n,e||0)}function JO(n){n.g=mE(()=>{n.g=null,n.i&&(n.i=!1,JO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Pt(Jf,Ot),(O=Jf.prototype).ga=!1,O.T=null,O.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ht(this,"tick"),this.ga&&(gE(this),this.start()))}},O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},O.N=function(){Jf.$.N.call(this),gE(this),delete this.g};class yee extends os{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JO(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(n){os.call(this),this.h=n,this.g={}}Pt(tl,os);var XO=[];function ZO(n,e,t,r){Array.isArray(t)||(t&&(XO[0]=t.toString()),t=XO);for(var i=0;i<t.length;i++){var s=HO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function eF(n){iE(n.g,function(e,t){this.g.hasOwnProperty(t)&&cE(e)},n),n.g={}}function Xf(){this.g=!0}function ka(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Iee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return fE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}tl.prototype.N=function(){tl.$.N.call(this),eF(this)},tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xf.prototype.Ea=function(){this.g=!1},Xf.prototype.info=function(){};var eo={},tF=null;function Zf(){return tF=tF||new Ot}function nF(n){rn.call(this,eo.Ta,n)}function nl(n){const e=Zf();Ht(e,new nF(e))}function rF(n,e){rn.call(this,eo.STAT_EVENT,n),this.stat=e}function yn(n){const e=Zf();Ht(e,new rF(e,n))}function iF(n,e){rn.call(this,eo.Ua,n),this.size=e}function rl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){n()},e)}eo.Ta="serverreachability",Pt(nF,rn),eo.STAT_EVENT="statevent",Pt(rF,rn),eo.Ua="timingevent",Pt(iF,rn);var ep={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yE(){}function aF(){}yE.prototype.h=null;var wE,il={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _E(){rn.call(this,"d")}function vE(){rn.call(this,"c")}function tp(){}function sl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new tl(this),this.P=Cee,this.V=new Jf(n=XC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uF}function uF(){this.i=null,this.g="",this.h=!1}Pt(_E,rn),Pt(vE,rn),Pt(tp,yE),tp.prototype.g=function(){return new XMLHttpRequest},tp.prototype.i=function(){return{}},wE=new tp;var Cee=45e3,IE={},np={};function CE(n,e,t){n.L=1,n.v=op(bi(e)),n.s=t,n.S=!0,cF(n,null)}function cF(n,e){n.G=Date.now(),ol(n),n.A=bi(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),vF(t.i,"t",r),n.C=0,t=n.l.J,n.h=new uF,n.g=GF(n.l,t?e:null,!n.s),0<n.O&&(n.M=new yee(nn(n.Pa,n,n.g),n.O)),ZO(n.U,n.g,"readystatechange",n.nb),e=n.I?jO(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),nl(),function _ee(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function lF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function dF(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Eee(n,t),i==np){4==e&&(n.o=4,yn(14),r=!1),ka(n.j,n.m,null,"[Incomplete Response]");break}if(i==IE){n.o=4,yn(15),ka(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ka(n.j,n.m,i,null),EE(n,i)}lF(n)&&i!=np&&i!=IE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ME(e),e.M=!0,yn(11))):(ka(n.j,n.m,t,"[Invalid Chunked Response]"),to(n),al(n))}function Eee(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?np:(t=Number(e.substring(t,r)),isNaN(t)?IE:(r+=1)+t>e.length?np:(e=e.slice(r,r+t),n.C=r+t,e))}function ol(n){n.Y=Date.now()+n.P,hF(n,n.P)}function hF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rl(nn(n.lb,n),e)}function rp(n){n.B&&(re.clearTimeout(n.B),n.B=null)}function al(n){0==n.l.H||n.J||UF(n.l,n)}function to(n){rp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,gE(n.V),eF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function EE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||DE(t.i,n)))if(!n.K&&DE(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;hp(t),lp(t)}xE(t),yn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=rl(nn(t.ib,t),6e3));if(1>=CF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ro(t,11)}else if((n.K||t.g==n)&&hp(t),!Yc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(bE(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,$e(r.I,r.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=$F(r,r.J?r.pa:null,r.Y),o.K){EF(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(rp(a),ol(a)),r.g=o}else LF(r);0<t.j.length&&dp(t)}else"stop"!=c[0]&&"close"!=c[0]||ro(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ro(t,7):AE(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}nl()}catch{}}function fF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function bee(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(zf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Dee(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(zf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(O=sl.prototype).setTimeout=function(n){this.P=n},O.nb=function(n){n=n.target;const e=this.M;e&&3==Gr(n)?e.l():this.Pa(n)},O.Pa=function(n){try{if(n==this.g)e:{const l=Gr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||XC||this.g&&(this.h.h||this.g.ja()||NF(this.g)))){this.J||4!=l||7==e||nl(),rp(this);var t=this.g.da();this.ca=t;t:if(lF(this)){var r=NF(this.g);n="";var i=r.length,s=4==Gr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){to(this),al(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function vee(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yc(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,yn(12),to(this),al(this);break e}ka(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,EE(this,t)}this.S?(dF(this,l,o),XC&&this.i&&3==l&&(ZO(this.U,this.V,"tick",this.mb),this.V.start())):(ka(this.j,this.m,o,null),EE(this,o)),4==l&&to(this),this.i&&!this.J&&(4==l?UF(this.l,this):(this.i=!1,ol(this)))}else(function Gee(n){const e={};n=(n.g&&2<=Gr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Yc(n[r]))continue;var t=pee(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function aee(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,yn(12)):(this.o=0,yn(13)),to(this),al(this)}}}catch{}},O.mb=function(){if(this.g){var n=Gr(this.g),e=this.g.ja();this.C<e.length&&(rp(this),dF(this,n,e),this.i&&4!=n&&ol(this))}},O.cancel=function(){this.J=!0,to(this)},O.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function wee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(nl(),yn(17)),to(this),this.o=2,al(this)):hF(this,this.Y-n)};var pF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof no){this.h=n.h,ip(this,n.j),this.s=n.s,this.g=n.g,sp(this,n.m),this.l=n.l;var e=n.i,t=new ll;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),gF(this,t),this.o=n.o}else n&&(e=String(n).match(pF))?(this.h=!1,ip(this,e[1]||"",!0),this.s=ul(e[2]||""),this.g=ul(e[3]||"",!0),sp(this,e[4]),this.l=ul(e[5]||"",!0),gF(this,e[6]||"",!0),this.o=ul(e[7]||"")):(this.h=!1,this.i=new ll(null,this.h))}function bi(n){return new no(n)}function ip(n,e,t){n.j=t?ul(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gF(n,e,t){e instanceof ll?(n.i=e,function Ree(n,e){e&&!n.j&&(as(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(yF(this,r),vF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=cl(e,Mee)),n.i=new ll(e,n.h))}function $e(n,e,t){n.i.set(e,t)}function op(n){return $e(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ul(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,See),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function See(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}no.prototype.toString=function(){var n=[],e=this.j;e&&n.push(cl(e,mF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(cl(e,mF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(cl(t,"/"==t.charAt(0)?xee:Aee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",cl(t,Nee)),n.join("")};var mF=/[#\/\?@]/g,Aee=/[#\?:]/g,xee=/[#\?]/g,Mee=/[#\?@]/g,Nee=/#/g;function ll(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function as(n){n.g||(n.g=new Map,n.h=0,n.i&&function Tee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function yF(n,e){as(n),e=Pa(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function _F(n,e){return as(n),e=Pa(n,e),n.g.has(e)}function vF(n,e,t){yF(n,e),0<t.length&&(n.i=null,n.g.set(Pa(n,e),YC(t)),n.h+=t.length)}function Pa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function wF(n){this.l=n||Pee,n=re.PerformanceNavigationTiming?0<(n=re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(O=ll.prototype).add=function(n,e){as(this),this.i=null,n=Pa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},O.forEach=function(n,e){as(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},O.ta=function(){as(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},O.Z=function(n){as(this);let e=[];if("string"==typeof n)_F(this,n)&&(e=e.concat(this.g.get(Pa(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},O.set=function(n,e){return as(this),this.i=null,_F(this,n=Pa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},O.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Pee=10;function IF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function CF(n){return n.h?1:n.g?n.g.size:0}function DE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function bE(n,e){n.g?n.g.add(e):n.h=e}function EF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function DF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return YC(n.i)}wF.prototype.cancel=function(){if(this.i=DF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Oee=class{stringify(n){return re.JSON.stringify(n,void 0)}parse(n){return re.JSON.parse(n,void 0)}};function Fee(){this.g=new Oee}function Lee(n,e,t){const r=t||"";try{fF(n,function(i,s){let o=i;Qc(i)&&(o=fE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ap(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function dl(n){this.l=n.fc||null,this.j=n.ob||!1}function up(n,e){Ot.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=TE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(dl,yE),dl.prototype.g=function(){return new up(this.l,this.j)},dl.prototype.i=function(n){return function(){return n}}({}),Pt(up,Ot);var TE=0;function bF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function hl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fl(n)}function fl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(O=up.prototype).open=function(n,e){if(this.readyState!=TE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fl(this)},O.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hl(this)),this.readyState=TE},O.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fl(this)),this.g&&(this.readyState=3,fl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},O.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hl(this):fl(this),3==this.readyState&&bF(this)}},O.Za=function(n){this.g&&(this.response=this.responseText=n,hl(this))},O.Ya=function(n){this.g&&(this.response=n,hl(this))},O.ka=function(){this.g&&hl(this)},O.setRequestHeader=function(n,e){this.v.append(n,e)},O.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},O.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(up.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Uee=re.JSON.parse;function tt(n){Ot.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=TF,this.L=this.M=!1}Pt(tt,Ot);var TF="",Bee=/^https?$/i,jee=["POST","PUT"];function SF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,AF(n),cp(n)}function AF(n){n.F||(n.F=!0,Ht(n,"complete"),Ht(n,"error"))}function xF(n){if(n.h&&typeof KC<"u"&&(!n.C[1]||4!=Gr(n)||2!=n.da()))if(n.v&&4==Gr(n))mE(n.La,0,n);else if(Ht(n,"readystatechange"),4==Gr(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(pF)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!Bee.test(i?i.toLowerCase():"")}t=r}if(t)Ht(n,"complete"),Ht(n,"success");else{n.m=6;try{var s=2<Gr(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",AF(n)}}finally{cp(n)}}}function cp(n,e){if(n.g){MF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ht(n,"ready");try{t.onreadystatechange=r}catch{}}}function MF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(re.clearTimeout(n.A),n.A=null)}function Gr(n){return n.g?n.g.readyState:0}function NF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case TF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function RF(n){let e="";return iE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function SE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=RF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$e(n,e,t))}function pl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kF(n){this.Ga=0,this.j=[],this.l=new Xf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pl("baseRetryDelayMs",5e3,n),this.hb=pl("retryDelaySeedMs",1e4,n),this.eb=pl("forwardChannelMaxRetries",2,n),this.xa=pl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new wF(n&&n.concurrentRequestLimit),this.Ja=new Fee,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function AE(n){if(PF(n),3==n.H){var e=n.W++,t=bi(n.I);if($e(t,"SID",n.K),$e(t,"RID",e),$e(t,"TYPE","terminate"),gl(n,t),(e=new sl(n,n.l,e)).L=2,e.v=op(bi(t)),t=!1,re.navigator&&re.navigator.sendBeacon)try{t=re.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&re.Image&&((new Image).src=e.v,t=!0),t||(e.g=GF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ol(e)}jF(n)}function lp(n){n.g&&(ME(n),n.g.cancel(),n.g=null)}function PF(n){lp(n),n.u&&(re.clearTimeout(n.u),n.u=null),hp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&re.clearTimeout(n.m),n.m=null)}function dp(n){if(!IF(n.i)&&!n.m){n.m=!0;var e=n.Na;Zc||YO(),el||(Zc(),el=!0),pE.add(e,n),n.C=0}}function OF(n,e){var t;t=e?e.m:n.W++;const r=bi(n.I);$e(r,"SID",n.K),$e(r,"RID",t),$e(r,"AID",n.V),gl(n,r),n.o&&n.s&&SE(r,n.o,n.s),t=new sl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=FF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),bE(n.i,t),CE(t,r,e)}function gl(n,e){n.na&&iE(n.na,function(t,r){$e(e,r,t)}),n.h&&fF({},function(t,r){$e(e,r,t)})}function FF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?nn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Lee(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function LF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Zc||YO(),el||(Zc(),el=!0),pE.add(e,n),n.A=0}}function xE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=rl(nn(n.Ma,n),BF(n,n.A)),n.A++,0))}function ME(n){null!=n.B&&(re.clearTimeout(n.B),n.B=null)}function VF(n){n.g=new sl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=bi(n.wa);$e(e,"RID","rpc"),$e(e,"SID",n.K),$e(e,"AID",n.V),$e(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&$e(e,"TO",n.qa),$e(e,"TYPE","xmlhttp"),gl(n,e),n.o&&n.s&&SE(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=op(bi(e)),t.s=null,t.S=!0,cF(t,n)}function hp(n){null!=n.v&&(re.clearTimeout(n.v),n.v=null)}function UF(n,e){var t=null;if(n.g==e){hp(n),ME(n),n.g=null;var r=2}else{if(!DE(n.i,e))return;t=e.F,EF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ht(r=Zf(),new iF(r,t)),dp(n)}else LF(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Hee(n,e){return!(CF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=rl(nn(n.Na,n,e),BF(n,n.C)),n.C++,0)))}(n,e)||2==r&&xE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ro(n,5);break;case 4:ro(n,10);break;case 3:ro(n,6);break;default:ro(n,2)}}function BF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ro(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=nn(n.pb,n);t||(t=new no("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||ip(t,"https"),op(t)),function Vee(n,e){const t=new Xf;if(re.Image){const r=new Image;r.onload=qf(ap,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qf(ap,t,r,"TestLoadImage: error",!1,e),r.onabort=qf(ap,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qf(ap,t,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yn(2);n.H=0,n.h&&n.h.za(e),jF(n),PF(n)}function jF(n){if(n.H=0,n.ma=[],n.h){const e=DF(n.i);(0!=e.length||0!=n.j.length)&&(FO(n.ma,e),FO(n.ma,n.j),n.i.i.length=0,YC(n.j),n.j.length=0),n.h.ya()}}function $F(n,e,t){var r=t instanceof no?bi(t):new no(t);if(""!=r.g)e&&(r.g=e+"."+r.g),sp(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new no(null);r&&ip(s,r),e&&(s.g=e),i&&sp(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&$e(r,t,e),$e(r,"VER",n.ra),gl(n,r),r}function GF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(t&&n.Ha&&!n.va?new dl({ob:!0}):n.va)).Oa(n.J),e}function HF(){}function fp(){if(Ra&&!(10<=Number(ree)))throw Error("Environmental error: no available transport.")}function Bn(n,e){Ot.call(this),this.g=new kF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Yc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Oa(this)}function zF(n){_E.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qF(){vE.call(this),this.status=1}function Oa(n){this.g=n}function yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function NE(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ne(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(O=tt.prototype).Oa=function(n){this.M=n},O.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wE.g(),this.C=function oF(n){return n.h||(n.h=n.i())}(this.u?this.u:wE),this.g.onreadystatechange=nn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void SF(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=re.FormData&&n instanceof re.FormData,!(0<=OO(jee,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MF(this),0<this.B&&((this.L=function $ee(n){return Ra&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.ua,this)):this.A=mE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){SF(this,s)}},O.ua=function(){typeof KC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))},O.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ht(this,"complete"),Ht(this,"abort"),cp(this))},O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cp(this,!0)),tt.$.N.call(this)},O.La=function(){this.s||(this.G||this.v||this.l?xF(this):this.kb())},O.kb=function(){xF(this)},O.isActive=function(){return!!this.g},O.da=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},O.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Uee(e)}},O.Ia=function(){return this.m},O.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(O=kF.prototype).ra=8,O.H=1,O.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new sl(this,this.l,n);let s=this.s;if(this.U&&(s?(s=jO(s),GO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=FF(this,i,e),$e(t=bi(this.I),"RID",n),$e(t,"CVER",22),this.F&&$e(t,"X-HTTP-Session-Id",this.F),gl(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(RF(s)))+"&"+e:this.o&&SE(t,this.o,s)),bE(this.i,i),this.bb&&$e(t,"TYPE","init"),this.P?($e(t,"$req",e),$e(t,"SID","null"),i.aa=!0,CE(i,t,null)):CE(i,t,e),this.H=2}}else 3==this.H&&(n?OF(this,n):0==this.j.length||IF(this.i)||OF(this))},O.Ma=function(){if(this.u=null,VF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=rl(nn(this.jb,this),n)}},O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yn(10),lp(this),VF(this))},O.ib=function(){null!=this.v&&(this.v=null,lp(this),xE(this),yn(19))},O.pb=function(n){n?(this.l.info("Successfully pinged google.com"),yn(2)):(this.l.info("Failed to ping google.com"),yn(1))},O.isActive=function(){return!!this.h&&this.h.isActive(this)},(O=HF.prototype).Ba=function(){},O.Aa=function(){},O.za=function(){},O.ya=function(){},O.isActive=function(){return!0},O.Va=function(){},fp.prototype.g=function(n,e){return new Bn(n,e)},Pt(Bn,Ot),Bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;yn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$F(n,null,n.Y),dp(n)},Bn.prototype.close=function(){AE(this.g)},Bn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=fE(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&dp(e)},Bn.prototype.N=function(){this.g.h=null,delete this.j,AE(this.g),delete this.g,Bn.$.N.call(this)},Pt(zF,_E),Pt(qF,vE),Pt(Oa,HF),Oa.prototype.Ba=function(){Ht(this.g,"a")},Oa.prototype.Aa=function(n){Ht(this.g,new zF(n))},Oa.prototype.za=function(n){Ht(this.g,new qF)},Oa.prototype.ya=function(){Ht(this.g,"b")},Pt(yr,function zee(){this.blockSize=-1}),yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)NE(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){NE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){NE(this,r),i=0;break}}this.h=i,this.i+=e},yr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var qee={};function RE(n){return-128<=n&&128>n?function eee(n,e){var t=qee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ne([0|e],0>e?-1:0)}):new Ne([0|n],0>n?-1:0)}function Hr(n){if(isNaN(n)||!isFinite(n))return Fa;if(0>n)return zt(Hr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=kE;return new Ne(e,0)}var kE=4294967296,Fa=RE(0),PE=RE(1),KF=RE(16777216);function Ti(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function er(n){return-1==n.h}function zt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ne(t,~n.h).add(PE)}function pp(n,e){return n.add(zt(e))}function gp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ml(n,e){this.g=n,this.h=e}function mp(n,e){if(Ti(e))throw Error("division by zero");if(Ti(n))return new ml(Fa,Fa);if(er(n))return e=mp(zt(n),e),new ml(zt(e.g),zt(e.h));if(er(e))return e=mp(n,zt(e)),new ml(zt(e.g),e.h);if(30<n.g.length){if(er(n)||er(e))throw Error("slowDivide_ only works with positive integers.");for(var t=PE,r=e;0>=r.X(n);)t=QF(t),r=QF(r);var i=La(t,1),s=La(r,1);for(r=La(r,2),t=La(t,2);!Ti(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=La(r,1),t=La(t,1)}return e=pp(n,i.R(e)),new ml(i,e)}for(i=Fa;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Hr(t)).R(e);er(o)||0<o.X(n);)o=(s=Hr(t-=r)).R(e);Ti(s)&&(s=PE),i=i.add(s),n=pp(n,o)}return new ml(i,n)}function QF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ne(t,n.h)}function La(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ne(i,n.h)}(O=Ne.prototype).ea=function(){if(er(this))return-zt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:kE+r)*e,e*=kE}return n},O.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ti(this))return"0";if(er(this))return"-"+zt(this).toString(n);for(var e=Hr(Math.pow(n,6)),t=this,r="";;){var i=mp(t,e).g,s=((0<(t=pp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ti(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},O.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},O.X=function(n){return er(n=pp(this,n))?-1:Ti(n)?0:1},O.abs=function(){return er(this)?zt(this):this},O.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Ne(t,-2147483648&t[t.length-1]?-1:0)},O.R=function(n){if(Ti(this)||Ti(n))return Fa;if(er(this))return er(n)?zt(this).R(zt(n)):zt(zt(this).R(n));if(er(n))return zt(this.R(zt(n)));if(0>this.X(KF)&&0>n.X(KF))return Hr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,gp(t,2*r+2*i),t[2*r+2*i+1]+=s*u,gp(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,gp(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,gp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ne(t,0)},O.gb=function(n){return mp(this,n).h},O.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ne(t,this.h&n.h)},O.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ne(t,this.h|n.h)},O.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ne(t,this.h^n.h)},fp.prototype.createWebChannel=fp.prototype.g,Bn.prototype.send=Bn.prototype.u,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,ep.NO_ERROR=0,ep.TIMEOUT=8,ep.HTTP_ERROR=6,sF.COMPLETE="complete",aF.EventType=il,il.OPEN="a",il.CLOSE="b",il.ERROR="c",il.MESSAGE="d",Ot.prototype.listen=Ot.prototype.O,tt.prototype.listenOnce=tt.prototype.P,tt.prototype.getLastError=tt.prototype.Sa,tt.prototype.getLastErrorCode=tt.prototype.Ia,tt.prototype.getStatus=tt.prototype.da,tt.prototype.getResponseJson=tt.prototype.Wa,tt.prototype.getResponseText=tt.prototype.ja,tt.prototype.send=tt.prototype.ha,tt.prototype.setWithCredentials=tt.prototype.Oa,yr.prototype.digest=yr.prototype.l,yr.prototype.reset=yr.prototype.reset,yr.prototype.update=yr.prototype.j,Ne.prototype.add=Ne.prototype.add,Ne.prototype.multiply=Ne.prototype.R,Ne.prototype.modulo=Ne.prototype.gb,Ne.prototype.compare=Ne.prototype.X,Ne.prototype.toNumber=Ne.prototype.ea,Ne.prototype.toString=Ne.prototype.toString,Ne.prototype.getBits=Ne.prototype.D,Ne.fromNumber=Hr,Ne.fromString=function WF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return zt(WF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Hr(Math.pow(e,8)),r=Fa,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Hr(Math.pow(e,s)),r=r.R(s).add(Hr(o))):r=(r=r.R(t)).add(Hr(o))}return r};var Wee=mr.createWebChannelTransport=function(){return new fp},Kee=mr.getStatEventTarget=function(){return Zf()},OE=mr.ErrorCode=ep,Qee=mr.EventType=sF,Yee=mr.Event=eo,YF=mr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jee=mr.FetchXmlHttpFactory=dl,yp=mr.WebChannel=aF,Xee=mr.XhrIo=tt,Zee=mr.Md5=yr,Va=mr.Integer=Ne;const JF="@firebase/firestore";class Ft{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");let Ua="9.23.0";const us=new If("@firebase/firestore");function FE(){return us.logLevel}function A(n,...e){if(us.logLevel<=Ie.DEBUG){const t=e.map(LE);us.debug(`Firestore (${Ua}): ${n}`,...t)}}function ut(n,...e){if(us.logLevel<=Ie.ERROR){const t=e.map(LE);us.error(`Firestore (${Ua}): ${n}`,...t)}}function _r(n,...e){if(us.logLevel<=Ie.WARN){const t=e.map(LE);us.warn(`Firestore (${Ua}): ${n}`,...t)}}function LE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function V(n="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+n;throw ut(e),new Error(e)}function B(n,e){n||V()}function k(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class XF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ete{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}}class tte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nte{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new XF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new Ft(e)}}class rte{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ite{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new rte(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ste{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(B("string"==typeof t.token),this.T=t.token,new ZF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ote(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class eL{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ote(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ne(n,e){return n<e?-1:n>e?1:0}function Ba(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Je{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Je(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Je(0,0))}static max(){return new j(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yl{constructor(e,t,r){void 0===t?t=0:t>e.length&&V(),void 0===r?r=e.length-t:r>e.length-t&&V(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ce extends yl{construct(e,t,r){return new Ce(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ce(t)}static emptyPath(){return new Ce([])}}const ate=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends yl{construct(e,t,r){return new ct(e,t,r)}static isValidIdentifier(e){return ate.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(t)}static emptyPath(){return new ct([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(Ce.fromString(e))}static fromName(e){return new R(Ce.fromString(e).popFirst(5))}static empty(){return new R(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ce.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new Ce(e.slice()))}}function rL(n){return new jn(n.readTime,n.key,-1)}class jn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new jn(j.min(),R.empty(),-1)}static max(){return new jn(j.max(),R.empty(),-1)}}function UE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=R.comparator(n.documentKey,e.documentKey),0!==t?t:ne(n.largestBatchId,e.largestBatchId))}const iL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cs(n){return BE.apply(this,arguments)}function BE(){return BE=g(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==iL)throw n;A("LocalStore","Unexpectedly lost primary lease")}),BE.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _?t:_.resolve(t)}catch(t){return _.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_.reject(t)}static resolve(e){return new _((t,r)=>{t(e)})}static reject(e){return new _((t,r)=>{r(e)})}static waitFor(e){return new _((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=_.resolve(!1);for(const r of e)t=t.next(i=>i?_.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new _((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function ls(n){return"IndexedDbTransactionError"===n.name}let $n=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function wl(n){return null==n}function Il(n){return 0===n&&1/n==-1/0}function fL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ds(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ue{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new Ue(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=s??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new qt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(n,e,t,r,i){return this}insert(n,e,t){return new qt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gL(this.data.getIterator())}getIteratorFrom(e){return new gL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ge(this.comparator);return t.data=e,t}}class gL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new Ge(ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class St{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mL("Invalid base64 string: "+i):i}}(e);return new St(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new St(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const kte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(n){if(B(!!n),"string"==typeof n){let e=0;const t=kte.exec(n);if(B(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(n.seconds),nanos:nt(n.nanos)}}function nt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Si(n){return"string"==typeof n?St.fromBase64String(n):St.fromUint8Array(n)}function Ep(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Dp(n){const e=n.mapValue.fields.__previous_value__;return Ep(e)?Dp(e):e}function Cl(n){const e=hs(n.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}class Pte{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class oo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oo&&e.projectId===this.projectId&&e.database===this.database}}const fs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ep(n)?4:wL(n)?9007199254740991:10:V()}function qr(n,e){if(n===e)return!0;const t=ps(n);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cl(n).isEqual(Cl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=hs(r.timestampValue),o=hs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Si(n.bytesValue).isEqual(Si(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return nt(r.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nt(r.integerValue)===nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=nt(r.doubleValue),o=nt(i.doubleValue);return s===o?Il(s)===Il(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ba(n.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(fL(s)!==fL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!qr(s[a],o[a])))return!1;return!0}(n,e);default:return V()}var i}function El(n,e){return void 0!==(n.values||[]).find(t=>qr(t,e))}function gs(n,e){if(n===e)return 0;const t=ps(n),r=ps(e);if(t!==r)return ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ne(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=nt(i.integerValue||i.doubleValue),a=nt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return yL(n.timestampValue,e.timestampValue);case 4:return yL(Cl(n),Cl(e));case 5:return ne(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Si(i),a=Si(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ne(o[u],a[u]);if(0!==c)return c}return ne(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(nt(i.latitude),nt(s.latitude));return 0!==o?o:ne(nt(i.longitude),nt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=gs(o[u],a[u]);if(c)return c}return ne(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===fs.mapValue&&s===fs.mapValue)return 0;if(i===fs.mapValue)return 1;if(s===fs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ne(a[l],c[l]);if(0!==d)return d;const h=gs(o[a[l]],u[c[l]]);if(0!==h)return h}return ne(a.length,c.length)}(n.mapValue,e.mapValue);default:throw V()}}function yL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ne(n,e);const t=hs(n),r=hs(e),i=ne(t.seconds,r.seconds);return 0!==i?i:ne(t.nanos,r.nanos)}function $a(n){return GE(n)}function GE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=hs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Si(n.bytesValue).toBase64():"referenceValue"in n?R.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=GE(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${GE(r.fields[a])}`;return s+"}"}(n.mapValue):V();var e}function ao(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function HE(n){return!!n&&"integerValue"in n}function Dl(n){return!!n&&"arrayValue"in n}function _L(n){return!!n&&"nullValue"in n}function vL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sp(n){return!!n&&"mapValue"in n}function bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ds(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(t)}setAll(e){let t=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=bl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Sp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ds(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(bl(this.value))}}function EL(n){const e=[];return ds(n.fields,(t,r)=>{const i=new ct([t]);if(Sp(r)){const s=EL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}class He{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new He(e,0,j.min(),j.min(),j.min(),Wt.empty(),0)}static newFoundDocument(e,t,r,i){return new He(e,1,t,j.min(),r,i,0)}static newNoDocument(e,t){return new He(e,2,t,j.min(),j.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new He(e,3,t,j.min(),j.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ms{constructor(e,t){this.position=e,this.inclusive=t}}function DL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),t.key):gs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function bL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qr(n.position[t],e.position[t]))return!1;return!0}class Ga{constructor(e,t="asc"){this.field=e,this.dir=t}}function Lte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class TL{}class _e extends TL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Vte(e,t,r):"array-contains"===t?new jte(e,r):"in"===t?new RL(e,r):"not-in"===t?new $te(e,r):"array-contains-any"===t?new Gte(e,r):new _e(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Ute(e,r):new Bte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(gs(t,this.value)):null!==t&&ps(this.value)===ps(t)&&this.matchesComparison(gs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Re extends TL{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Re(e,t)}matches(e){return Ha(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ha(n){return"and"===n.op}function qE(n){return function SL(n){for(const e of n.filters)if(e instanceof Re)return!1;return!0}(n)&&Ha(n)}function WE(n){if(n instanceof _e)return n.field.canonicalString()+n.op.toString()+$a(n.value);if(qE(n))return n.filters.map(e=>WE(e)).join(",");{const e=n.filters.map(t=>WE(t)).join(",");return`${n.op}(${e})`}}function AL(n,e){return n instanceof _e?(t=n,(r=e)instanceof _e&&t.op===r.op&&t.field.isEqual(r.field)&&qr(t.value,r.value)):n instanceof Re?function(t,r){return r instanceof Re&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&AL(s,r.filters[o]),!0)}(n,e):void V();var t,r}function ML(n){return n instanceof _e?`${(e=n).field.canonicalString()} ${e.op} ${$a(e.value)}`:n instanceof Re?function(e){return e.op.toString()+" {"+e.getFilters().map(ML).join(" ,")+"}"}(n):"Filter";var e}class Vte extends _e{constructor(e,t,r){super(e,t,r),this.key=R.fromName(r.referenceValue)}matches(e){const t=R.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ute extends _e{constructor(e,t){super(e,"in",t),this.keys=NL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bte extends _e{constructor(e,t){super(e,"not-in",t),this.keys=NL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function NL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>R.fromName(r.referenceValue))}class jte extends _e{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dl(t)&&El(t.arrayValue,this.value)}}class RL extends _e{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&El(this.value.arrayValue,t)}}class $te extends _e{constructor(e,t){super(e,"not-in",t)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!El(this.value.arrayValue,t)}}class Gte extends _e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>El(this.value.arrayValue,r))}}class Hte{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function KE(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Hte(n,e,t,r,i,s,o)}function uo(n){const e=k(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>WE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),wl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$a(r)).join(",")),e.dt=t}return e.dt}function Tl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Lte(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bL(n.startAt,e.startAt)&&bL(n.endAt,e.endAt)}function Ap(n){return R.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ai{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function za(n){return new Ai(n)}function FL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function QE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Mp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function YE(n){return null!==n.collectionGroup}function co(n){const e=k(n);if(null===e.wt){e.wt=[];const t=Mp(e),r=QE(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ga(t)),e.wt.push(new Ga(ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ga(ct.keyField(),s))}}}return e.wt}function _n(n){const e=k(n);if(!e._t)if("F"===e.limitType)e._t=KE(e.path,e.collectionGroup,co(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of co(e))t.push(new Ga(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ms(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ms(e.startAt.position,e.startAt.inclusive):null;e._t=KE(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function JE(n,e){e.getFirstInequalityField(),Mp(n);const t=n.filters.concat([e]);return new Ai(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Np(n,e,t){return new Ai(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sl(n,e){return Tl(_n(n),_n(e))&&n.limitType===e.limitType}function LL(n){return`${uo(_n(n))}|lt:${n.limitType}`}function XE(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>ML(r)).join(", ")}]`),wl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$a(r)).join(",")),`Target(${t})`}(_n(n))}; limitType=${n.limitType})`}function Al(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):R.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of co(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=DL(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,co(t),r)||t.endAt&&!function(i,s,o){const a=DL(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,co(t),r)));var t,r}function UL(n){return(e,t)=>{let r=!1;for(const i of co(n)){const s=zte(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function zte(n,e,t){const r=n.field.isKeyField()?R.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?gs(a,u):V()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}class xi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pL(this.inner)}size(){return this.innerSize}}const qte=new Ue(R.comparator);function An(){return qte}const BL=new Ue(R.comparator);function xl(...n){let e=BL;for(const t of n)e=e.insert(t.key,t);return e}function jL(n){let e=BL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wr(){return Ml()}function $L(){return Ml()}function Ml(){return new xi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Wte=new Ue(R.comparator),Kte=new Ge(R.comparator);function ue(...n){let e=Kte;for(const t of n)e=e.add(t);return e}const Qte=new Ge(ne);function GL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Il(e)?"-0":e}}function HL(n){return{integerValue:""+n}}function zL(n,e){return function oL(n){return"number"==typeof n&&Number.isInteger(n)&&!Il(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?HL(e):GL(n,e)}class Rp{constructor(){this._=void 0}}function Yte(n,e,t){return n instanceof qa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Ep(i)&&(i=Dp(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof lo?WL(n,e):n instanceof ho?KL(n,e):function(r,i){const s=qL(r,i),o=QL(s)+QL(r.gt);return HE(s)&&HE(r.gt)?HL(o):GL(r.serializer,o)}(n,e)}function Jte(n,e,t){return n instanceof lo?WL(n,e):n instanceof ho?KL(n,e):t}function qL(n,e){return n instanceof Wa?HE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class qa extends Rp{}class lo extends Rp{constructor(e){super(),this.elements=e}}function WL(n,e){const t=YL(e);for(const r of n.elements)t.some(i=>qr(i,r))||t.push(r);return{arrayValue:{values:t}}}class ho extends Rp{constructor(e){super(),this.elements=e}}function KL(n,e){let t=YL(e);for(const r of n.elements)t=t.filter(i=>!qr(i,r));return{arrayValue:{values:t}}}class Wa extends Rp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function QL(n){return nt(n.integerValue||n.doubleValue)}function YL(n){return Dl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Zte{constructor(e,t){this.version=e,this.transformResults=t}}class We{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new We}static exists(e){return new We(void 0,e)}static updateTime(e){return new We(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Pp{}function JL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Qa(n.key,We.none()):new Ka(n.key,n.data,We.none());{const t=n.data,r=Wt.empty();let i=new Ge(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Mi(n.key,r,new Sn(i.toArray()),We.none())}}function ene(n,e,t){n instanceof Ka?function(r,i,s){const o=r.value.clone(),a=e2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Mi?function(r,i,s){if(!kp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=e2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ZL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Rl(n,e,t,r){return n instanceof Ka?function(i,s,o,a){if(!kp(i.precondition,s))return o;const u=i.value.clone(),c=t2(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Mi?function(i,s,o,a){if(!kp(i.precondition,s))return o;const u=t2(i.fieldTransforms,a,s),c=s.data;return c.setAll(ZL(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,kp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function tne(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=qL(r.transform,i||null);null!=s&&(null===t&&(t=Wt.empty()),t.set(r.field,s))}return t||null}function XL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ba(t,r,(i,s)=>function Xte(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof lo&&r instanceof lo||t instanceof ho&&r instanceof ho?Ba(t.elements,r.elements,qr):t instanceof Wa&&r instanceof Wa?qr(t.gt,r.gt):t instanceof qa&&r instanceof qa);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ka extends Pp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mi extends Pp{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function e2(n,e,t){const r=new Map;B(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Jte(o,a,t[i]))}return r}function t2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Yte(s,o,e))}return r}class Qa extends Pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e0 extends Pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class t0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ene(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$L();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=JL(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,(t,r)=>XL(t,r))&&Ba(this.baseMutations,e.baseMutations,(t,r)=>XL(t,r))}}class n0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){B(e.mutations.length===r.length);let i=Wte;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n0(e,t,r,i)}}class r0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rne{constructor(e,t){this.count=e,this.unchangedNames=t}}var wt,Ee;function r2(n){if(void 0===n)return ut("GRPC error has no .code"),w.UNKNOWN;switch(n){case wt.OK:return w.OK;case wt.CANCELLED:return w.CANCELLED;case wt.UNKNOWN:return w.UNKNOWN;case wt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case wt.INTERNAL:return w.INTERNAL;case wt.UNAVAILABLE:return w.UNAVAILABLE;case wt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case wt.NOT_FOUND:return w.NOT_FOUND;case wt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case wt.ABORTED:return w.ABORTED;case wt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case wt.DATA_LOSS:return w.DATA_LOSS;default:return V()}}(Ee=wt||(wt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";class s0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Op}static getOrCreateInstance(){return null===Op&&(Op=new s0),Op}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Op=null;const ine=new Va([4294967295,4294967295],0);function s2(n){const e=function i2(){return new TextEncoder}().encode(n),t=new Zee;return t.update(e),new Uint8Array(t.digest())}function o2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Va([t,r],0),new Va([i,s],0)]}class o0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new kl(`Invalid padding: ${t}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new kl(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new kl(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Va.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Va.fromNumber(r)));return 1===i.compare(ine)&&(i=new Va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=s2(e),[r,i]=o2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new o0(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=s2(e),[r,i]=o2(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pl{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Pl(j.min(),i,new Ue(ne),An(),ue())}}class Ol{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ol(r,t,ue(),ue(),ue())}}class Fp{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class a2{constructor(e,t){this.targetId=e,this.Vt=t}}class u2{constructor(e,t,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class c2{constructor(){this.St=0,this.Dt=d2(),this.Ct=St.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ue(),t=ue(),r=ue();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:V()}}),new Ol(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=d2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class sne{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=An(),this.zt=l2(),this.Wt=new Ue(ne)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:V()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Ap(o))if(0===i){const a=new R(o.path);this.Yt(r,a,He.newNoDocument(a,j.min()))}else B(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=s0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,I;const b={localCacheCount:l,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(b.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(I=null===(y=v?.bits)||void 0===y?void 0:y.padding)&&void 0!==I?I:0}),b}(u,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Si(s).toUint8Array()}catch(l){if(l instanceof mL)return _r("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new o0(u,o,a)}catch(l){return _r(l instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ap(a.target)){const u=new R(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,He.newNoDocument(u,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=ue();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Pl(e,t,this.Wt,this.jt,r);return this.jt=An(),this.zt=l2(),this.Wt=new Ue(ne),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new c2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ge(ne),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||A("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new c2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function l2(){return new Ue(R.comparator)}function d2(){return new Ue(R.comparator)}const one={asc:"ASCENDING",desc:"DESCENDING"},ane={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},une={and:"AND",or:"OR"};class cne{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function a0(n,e){return n.useProto3Json||wl(e)?e:{value:e}}function Ya(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lne(n,e){return Ya(n,e.toTimestamp())}function lt(n){return B(!!n),j.fromTimestamp(function(e){const t=hs(e);return new Je(t.seconds,t.nanos)}(n))}function u0(n,e){return(t=n,new Ce(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function f2(n){const e=Ce.fromString(n);return B(C2(e)),e}function Fl(n,e){return u0(n.databaseId,e.path)}function Kr(n,e){const t=f2(e);if(t.get(1)!==n.databaseId.projectId)throw new S(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new S(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new R(g2(t))}function c0(n,e){return u0(n.databaseId,e)}function Ll(n){return new Ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g2(n){return B(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function m2(n,e,t){return{name:Fl(n,e),fields:t.value.mapValue.fields}}function _2(n,e){return{documents:[c0(n,e.path)]}}function d0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=c0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=c0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return I2(Re.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ys((l=c).field),direction:gne(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=a0(n,e.limit);var a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function v2(n){let e=function p2(n){const e=f2(n);return 4===e.length?Ce.emptyPath():g2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){B(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(l){const d=w2(l);return d instanceof Re&&qE(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new Ga(Ja((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,wl(d)?null:d}(t.limit));let u=null;var l;t.startAt&&(u=new ms((l=t.startAt).values||[],!!l.before));let c=null;return t.endAt&&(c=function(l){return new ms(l.values||[],!l.before)}(t.endAt)),function OL(n,e,t,r,i,s,o,a){return new Ai(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function w2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ja(e.unaryFilter.field);return _e.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Ja(e.unaryFilter.field);return _e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ja(e.unaryFilter.field);return _e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ja(e.unaryFilter.field);return _e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(n):void 0!==n.fieldFilter?_e.create(Ja((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Re.create(e.compositeFilter.filters.map(t=>w2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(n):V();var e}function gne(n){return one[n]}function mne(n){return ane[n]}function yne(n){return une[n]}function ys(n){return{fieldPath:n.canonicalString()}}function Ja(n){return ct.fromServerFormat(n.fieldPath)}function I2(n){return n instanceof _e?function(e){if("=="===e.op){if(vL(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NAN"}};if(_L(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vL(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NOT_NAN"}};if(_L(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(e.field),op:mne(e.op),value:e.value}}}(n):n instanceof Re?function(e){const t=e.getFilters().map(r=>I2(r));return 1===t.length?t[0]:{compositeFilter:{op:yne(e.op),filters:t}}}(n):V()}function _ne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function C2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ni{constructor(e,t,r,i,s=j.min(),o=j.min(),a=St.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class E2{constructor(e){this.fe=e}}function h0(n){const e=v2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Np(e,e.limit,"L"):e}class mo{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(nt(e.integerValue));else if("doubleValue"in e){const r=nt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Il(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Si(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?wL(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):V()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),R.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}mo.Ve=new mo;class Sne{constructor(){this.rn=new _0}addToCollectionParentIndex(e,t){return this.rn.add(t),_.resolve()}getCollectionParents(e,t){return _.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return _.resolve()}deleteFieldIndex(e,t){return _.resolve()}getDocumentsMatchingTarget(e,t){return _.resolve(null)}getIndexType(e,t){return _.resolve(0)}getFieldIndexes(e,t){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,t){return _.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,t){return _.resolve(jn.min())}updateCollectionGroup(e,t,r){return _.resolve()}updateIndexEntries(e,t){return _.resolve()}}class _0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ge(Ce.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(Ce.comparator)).toArray()}}new Uint8Array(0);class on{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class _o{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new _o(0)}static Mn(){return new _o(-1)}}class kne{constructor(){this.changes=new xi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Q2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Rl(r.mutation,i,Sn.empty(),Je.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){const i=Wr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=xl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Wr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=An();const o=Ml(),a=Ml();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Mi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Rl(l.mutation,c,l.mutation.getFieldMask(),Je.now())):o.set(c.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new Fne(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ml();let i=new Ue((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Sn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=$L();l.forEach(h=>{if(!s.has(h)){const f=JL(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return R.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):YE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):_.resolve(Wr());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ue())).next(l=>({batchId:a,changes:jL(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new R(t)).next(r=>{let i=xl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=xl();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=t,l=a.child(i),new Ai(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,He.newInvalidDocument(c)))});let o=xl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Rl(c.mutation,u,Sn.empty(),Je.now()),Al(t,u)&&(o=o.insert(a,u))}),o})}}class Lne{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return _.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:lt(r.createTime)}),_.resolve()}getNamedQuery(e,t){return _.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:h0(r.bundledQuery),readTime:lt(r.readTime)}),_.resolve();var r}}class Vne{constructor(){this.overlays=new Ue(R.comparator),this.ls=new Map}getOverlay(e,t){return _.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wr();return _.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),_.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),_.resolve()}getOverlaysForCollection(e,t,r){const i=Wr(),s=t.length+1,o=new R(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ue((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Wr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Wr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new r0(t,r));let s=this.ls.get(t);void 0===s&&(s=ue(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class v0{constructor(){this.fs=new Ge(Vt.ds),this.ws=new Ge(Vt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Vt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new R(new Ce([])),r=new Vt(t,e),i=new Vt(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new R(new Ce([])),r=new Vt(t,e),i=new Vt(t,e+1);let s=ue();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Vt(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return R.comparator(e.key,t.key)||ne(e.As,t.As)}static _s(e,t){return ne(e.As,t.As)||R.comparator(e.key,t.key)}}class Une{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ge(Vt.ds)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new t0(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,t){return _.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),i=new Vt(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ge(ne);return t.forEach(i=>{const s=new Vt(i,0),o=new Vt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),_.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new Vt(new R(s),0);let a=new Ge(ne);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),_.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){B(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return _.forEach(t.mutations,i=>{const s=new Vt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Vt(t,0),i=this.Rs.firstAfterOrEqual(r);return _.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Bne{constructor(e){this.Ds=e,this.docs=new Ue(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _.resolve(r?r.document.mutableCopy():He.newInvalidDocument(t))}getEntries(e,t){let r=An();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():He.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=An();const o=t.path,a=new R(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||UE(rL(l),r)<=0||(i.has(l.key)||Al(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,t,r,i){V()}Cs(e,t){return _.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jne(this)}getSize(e){return _.resolve(this.size)}}class jne extends kne{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),_.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class $ne{constructor(e){this.persistence=e,this.xs=new xi(t=>uo(t),Tl),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ns=0,this.ks=new v0,this.targetCount=0,this.Ms=_o.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),_.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new _o(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,_.resolve()}updateTargetData(e,t){return this.Fn(t),_.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return _.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),_.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),_.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return _.resolve(r)}containsKey(e,t){return _.resolve(this.ks.containsKey(t))}}class w0{constructor(e,t){this.$s={},this.overlays={},this.Os=new $n(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new $ne(this),this.indexManager=new Sne,this.remoteDocumentCache=new Bne(r=>this.referenceDelegate.Ls(r)),this.serializer=new E2(t),this.qs=new Lne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Une(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){A("MemoryPersistence","Starting transaction:",e);const i=new Gne(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return _.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Gne extends lte{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Qs=new v0,this.js=null}static zs(e){return new zp(e)}get Ws(){if(this.js)return this.js;throw V()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),_.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),_.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,r=>{const i=R.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,j.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return _.or([()=>_.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class D0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=ue(),i=ue();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new D0(e,t.fromCache,r,i)}}class J2{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(FL(t))return _.resolve(null);let r=_n(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Np(t,null,"F"),r=_n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(t,a);return this.zi(t,c,o,u.readTime)?this.Ki(e,Np(t,null,"F")):this.Wi(e,c,t,u)}))})))}Gi(e,t,r,i){return FL(t)||i.isEqual(j.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(FE()<=Ie.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),XE(t)),this.Wi(e,o,t,function nL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new Je(t+1,0):new Je(t,r));return new jn(i,R.empty(),e)}(i,-1)))})}ji(e,t){let r=new Ge(UL(e));return t.forEach((i,s)=>{Al(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return FE()<=Ie.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",XE(t)),this.Ui.getDocumentsMatchingQuery(e,t,jn.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class zne{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Ue(ne),this.Yi=new xi(s=>uo(s),Tl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q2(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Z2(n,e){return b0.apply(this,arguments)}function b0(){return b0=g(function*(n,e){const t=k(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ue();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),b0.apply(this,arguments)}function eV(n){const e=k(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Kne(n,e){const t=k(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tu(n,e,t){return T0.apply(this,arguments)}function T0(){return T0=g(function*(n,e,t){const r=k(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ls(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),T0.apply(this,arguments)}function Kp(n,e,t){const r=k(n);let i=j.min(),s=ue();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=k(a),d=l.Yi.get(c);return void 0!==d?_.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:j.min(),t?s:ue())).next(a=>(function iV(n,e,t){let r=n.Xi.get(e)||j.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function VL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class N0{constructor(){this.activeTargetIds=function ZE(){return Qte}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aV{constructor(){this.Hr=new N0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new N0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jne{Yr(e){}shutdown(){}}class uV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jp=null;function k0(){return null===Jp?Jp=268435456+Math.round(2147483648*Math.random()):Jp++,"0x"+Jp.toString(16)}const Xne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zne{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const an="WebChannelConnection";class ere extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=k0(),a=this.To(e,t);A("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(A("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw _r("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ua,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Xne[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=k0();return new Promise((o,a)=>{const u=new Xee;u.setWithCredentials(!0),u.listenOnce(Qee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case OE.NO_ERROR:const l=u.getResponseJson();A(an,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case OE.TIMEOUT:A(an,`RPC '${e}' ${s} timed out`),a(new S(w.DEADLINE_EXCEEDED,"Request time out"));break;case OE.HTTP_ERROR:const d=u.getStatus();if(A(an,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(y)>=0?y:w.UNKNOWN}(f.status);a(new S(p,f.message))}else a(new S(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new S(w.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{A(an,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);A(an,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=k0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Wee(),a=Kee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Jee({})),this.Eo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=s.join("");A(an,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Zne({ro:y=>{f?A(an,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(A(an,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(an,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,I,b)=>{y.listen(I,v=>{try{b(v)}catch(P){setTimeout(()=>{throw P},0)}})};return m(d,yp.EventType.OPEN,()=>{f||A(an,`RPC '${e}' stream ${i} transport opened.`)}),m(d,yp.EventType.CLOSE,()=>{f||(f=!0,A(an,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,yp.EventType.ERROR,y=>{f||(f=!0,_r(an,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new S(w.UNAVAILABLE,"The operation could not be completed")))}),m(d,yp.EventType.MESSAGE,y=>{var I;if(!f){const b=y.data[0];B(!!b);const P=b.error||(null===(I=b[0])||void 0===I?void 0:I.error);if(P){A(an,`RPC '${e}' stream ${i} received error:`,P);const H=P.status;let Y=function(Pi){const yu=wt[Pi];if(void 0!==yu)return r2(yu)}(H),Ut=P.message;void 0===Y&&(Y=w.INTERNAL,Ut="Unknown error status: "+H+" with message "+P.message),f=!0,p.wo(new S(Y,Ut)),d.close()}else A(an,`RPC '${e}' stream ${i} received:`,b),p._o(b)}}),m(a,Yee.STAT_EVENT,y=>{y.stat===YF.PROXY?A(an,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===YF.NOPROXY&&A(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Xp(){return typeof document<"u"?document:null}function Wl(n){return new cne(n,!0)}class P0{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class lV{constructor(e,t,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new P0(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(ut(t.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new S(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tre extends lV{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function hne(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(B(void 0===c||"string"==typeof c),St.fromBase64String(c||"")):(B(void 0===c||c instanceof Uint8Array),St.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:r2(u.code);return new S(c,u.message||"")}(o);t=new u2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Kr(n,r.document.name),s=lt(r.document.updateTime),o=r.document.createTime?lt(r.document.createTime):j.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=He.newFoundDocument(i,s,o,a);t=new Fp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Kr(n,r.document),s=r.readTime?lt(r.readTime):j.min(),o=He.newNoDocument(i,s);t=new Fp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Kr(n,r.document);t=new Fp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new rne(i,s);t=new a2(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?lt(s.readTime):j.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Ll(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=Ap(a)?{documents:_2(i,a)}:{query:d0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=h2(i,s.resumeToken);const u=a0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(j.min())>0){o.readTime=Ya(i,s.snapshotVersion.toTimestamp());const u=a0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function pne(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Ll(this.serializer),t.removeTarget=e,this.Wo(t)}}class nre extends lV{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function fne(n,e){return n&&n.length>0?(B(void 0!==e),n.map(t=>function(r,i){let s=lt(r.updateTime?r.updateTime:i);return s.isEqual(j.min())&&(s=lt(i)),new Zte(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.cu(r,t)}return B(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ll(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Vl(n,e){let t;if(e instanceof Ka)t={update:m2(n,e.key,e.value)};else if(e instanceof Qa)t={delete:Fl(n,e.key)};else if(e instanceof Mi)t={update:m2(n,e.key,e.data),updateMask:_ne(e.fieldMask)};else{if(!(e instanceof e0))return V();t={verify:Fl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof qa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof lo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ho)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw V()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:lne(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),t;var i}(this.serializer,r))};this.Wo(t)}}class rre extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new S(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(w.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(w.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class sre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ut(t),this.mu=!1):A("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ore{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Is(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=k(c);l.vu.add(4),yield nu(l),l.bu.set("Unknown"),l.vu.delete(4),yield Kl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new sre(r,i)}}function Kl(n){return F0.apply(this,arguments)}function F0(){return F0=g(function*(n){if(Is(n))for(const e of n.Ru)yield e(!0)}),F0.apply(this,arguments)}function nu(n){return L0.apply(this,arguments)}function L0(){return L0=g(function*(n){for(const e of n.Ru)yield e(!1)}),L0.apply(this,arguments)}function Zp(n,e){const t=k(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),B0(t)?U0(t):iu(t).Ko()&&V0(t,e))}function Ql(n,e){const t=k(n),r=iu(t);t.Au.delete(e),r.Ko()&&dV(t,e),0===t.Au.size&&(r.Ko()?r.jo():Is(t)&&t.bu.set("Unknown"))}function V0(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}iu(n).su(e)}function dV(n,e){n.Vu.qt(e),iu(n).iu(e)}function U0(n){n.Vu=new sne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),iu(n).start(),n.bu.gu()}function B0(n){return Is(n)&&!iu(n).Uo()&&n.Au.size>0}function Is(n){return 0===k(n).vu.size}function hV(n){n.Vu=void 0}function are(n){return j0.apply(this,arguments)}function j0(){return j0=g(function*(n){n.Au.forEach((e,t)=>{V0(n,e)})}),j0.apply(this,arguments)}function ure(n,e){return $0.apply(this,arguments)}function $0(){return $0=g(function*(n,e){hV(n),B0(n)?(n.bu.Iu(e),U0(n)):n.bu.set("Unknown")}),$0.apply(this,arguments)}function cre(n,e,t){return G0.apply(this,arguments)}function G0(){return G0=g(function*(n,e,t){if(n.bu.set("Online"),e instanceof u2&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eg(n,r)}else if(e instanceof Fp?n.Vu.Ht(e):e instanceof a2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(j.min()))try{const r=yield eV(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(St.EMPTY_BYTE_STRING,c.snapshotVersion)),dV(i,a);const l=new Ni(c.target,a,u,c.sequenceNumber);V0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield eg(n,r)}var r}),G0.apply(this,arguments)}function eg(n,e,t){return H0.apply(this,arguments)}function H0(){return H0=g(function*(n,e,t){if(!ls(e))throw e;n.vu.add(1),yield nu(n),n.bu.set("Offline"),t||(t=()=>eV(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){A("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Kl(n)}))}),H0.apply(this,arguments)}function fV(n,e){return e().catch(t=>eg(n,t,e))}function ru(n){return z0.apply(this,arguments)}function z0(){return z0=g(function*(n){const e=k(n),t=Cs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;lre(e);)try{const i=yield Kne(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,dre(e,i)}catch(i){yield eg(e,i)}pV(e)&&gV(e)}),z0.apply(this,arguments)}function lre(n){return Is(n)&&n.Eu.length<10}function dre(n,e){n.Eu.push(e);const t=Cs(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function pV(n){return Is(n)&&!Cs(n).Uo()&&n.Eu.length>0}function gV(n){Cs(n).start()}function hre(n){return q0.apply(this,arguments)}function q0(){return q0=g(function*(n){Cs(n).hu()}),q0.apply(this,arguments)}function fre(n){return W0.apply(this,arguments)}function W0(){return W0=g(function*(n){const e=Cs(n);for(const t of n.Eu)e.uu(t.mutations)}),W0.apply(this,arguments)}function pre(n,e,t){return K0.apply(this,arguments)}function K0(){return K0=g(function*(n,e,t){const r=n.Eu.shift(),i=n0.from(r,e,t);yield fV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ru(n)}),K0.apply(this,arguments)}function gre(n,e){return Q0.apply(this,arguments)}function Q0(){return Q0=g(function*(n,e){var t;e&&Cs(n).ou&&(yield(t=g(function*(r,i){if(function n2(n){switch(n){default:return V();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(s=i.code)&&s!==w.ABORTED){const o=r.Eu.shift();Cs(r).Qo(),yield fV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ru(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),pV(n)&&gV(n)}),Q0.apply(this,arguments)}function mV(n,e){return Y0.apply(this,arguments)}function Y0(){return Y0=g(function*(n,e){const t=k(n);t.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Is(t);t.vu.add(3),yield nu(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Kl(t)}),Y0.apply(this,arguments)}function X0(){return X0=g(function*(n,e){const t=k(n);e?(t.vu.delete(2),yield Kl(t)):e||(t.vu.add(2),yield nu(t),t.bu.set("Unknown"))}),X0.apply(this,arguments)}function iu(n){return n.Su||(n.Su=function(e,t,r){const i=k(e);return i.fu(),new tre(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:are.bind(null,n),ao:ure.bind(null,n),nu:cre.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Su.Qo(),B0(n)?U0(n):n.bu.set("Unknown")):(yield n.Su.stop(),hV(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Cs(n){return n.Du||(n.Du=function(e,t,r){const i=k(e);return i.fu(),new nre(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:hre.bind(null,n),ao:gre.bind(null,n),au:fre.bind(null,n),cu:pre.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Du.Qo(),yield ru(n)):(yield n.Du.stop(),n.Eu.length>0&&(A("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class Z0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Z0(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function su(n,e){if(ut("AsyncQueue",`${e}: ${n}`),ls(n))return new S(w.UNAVAILABLE,`${e}: ${n}`);throw n}class ou{constructor(e){this.comparator=e?(t,r)=>e(t,r)||R.comparator(t.key,r.key):(t,r)=>R.comparator(t.key,r.key),this.keyedMap=xl(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new ou(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ou;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class yV{constructor(){this.Cu=new Ue(R.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):V():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class au{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new au(e,t,ou.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class mre{constructor(){this.Nu=void 0,this.listeners=[]}}class yre{constructor(){this.queries=new xi(e=>LL(e),Sl),this.onlineState="Unknown",this.ku=new Set}}function eD(n,e){return tD.apply(this,arguments)}function tD(){return tD=g(function*(n,e){const t=k(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new mre),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=su(o,`Initialization of query '${XE(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&iD(t)}),tD.apply(this,arguments)}function nD(n,e){return rD.apply(this,arguments)}function rD(){return rD=g(function*(n,e){const t=k(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),rD.apply(this,arguments)}function _re(n,e){const t=k(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&iD(t)}function vre(n,e,t){const r=k(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function iD(n){n.ku.forEach(e=>{e.next()})}class sD{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class wV{constructor(e){this.key=e}}class IV{constructor(e){this.key=e}}class CV{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ue(),this.mutatedKeys=ue(),this.tc=UL(e),this.ec=new ou(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new yV,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Al(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new au(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new yV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ue(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new IV(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new wV(r))}),t}hc(e){this.Yu=e.ir,this.Zu=ue();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return au.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Cre{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ere{constructor(e){this.key=e,this.fc=!1}}class Dre{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new xi(a=>LL(a),Sl),this._c=new Map,this.mc=new Set,this.gc=new Ue(R.comparator),this.yc=new Map,this.Ic=new v0,this.Tc={},this.Ec=new Map,this.Ac=_o.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function bre(n,e){return oD.apply(this,arguments)}function oD(){return oD=g(function*(n,e){const t=function xD(n){const e=k(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Are.bind(null,e),e.dc.nu=_re.bind(null,e.eventManager),e.dc.Pc=vre.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function eu(n,e){const t=k(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,_n(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function aD(n,e,t,r,i){return uD.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Zp(t.remoteStore,o)}return i}),oD.apply(this,arguments)}function uD(){return uD=g(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=g(function*(m,y,I,b){let v=y.view.sc(I);v.zi&&(v=yield Kp(m.localStore,y.query,!1).then(({documents:Y})=>y.view.sc(Y,v)));const P=b&&b.targetChanges.get(y.targetId),H=y.view.applyChanges(v,m.isPrimaryClient,P);return _D(m,y.targetId,H.cc),H.snapshot}),function(m,y,I,b){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Kp(n.localStore,e,!0),o=new CV(e,s.ir),a=o.sc(s.documents),u=Ol.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);_D(n,t,c.cc);const l=new Cre(e,t,o);return n.wc.set(e,l),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),uD.apply(this,arguments)}function Tre(n,e){return cD.apply(this,arguments)}function cD(){return cD=g(function*(n,e){const t=k(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!Sl(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield tu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ql(t.remoteStore,r.targetId),uu(t,r.targetId)}).catch(cs))):(uu(t,r.targetId),yield tu(t.localStore,r.targetId,!0))}),cD.apply(this,arguments)}function lD(){return lD=g(function*(n,e,t){const r=function MD(n){const e=k(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mre.bind(null,e),e}(n);try{const i=yield function(s,o){const a=k(s),u=Je.now(),c=o.reduce((h,f)=>h.add(f.key),ue());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=An(),p=ue();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const I of o){const b=tne(I,l.get(I.key).overlayedDocument);null!=b&&y.push(new Mi(I.key,b,EL(b.value.mapValue),We.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:jL(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Ue(ne)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Ri(r,i.changes),yield ru(r.remoteStore)}catch(i){const s=su(i,"Failed to persist write");t.reject(s)}}),lD.apply(this,arguments)}function EV(n,e){return dD.apply(this,arguments)}function dD(){return dD=g(function*(n,e){const t=k(n);try{const r=yield function Wne(n,e){const t=k(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(St.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let u=An(),c=ue();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function tV(n,e,t){let r=ue(),i=ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=An();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(j.min())){const l=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?B(o.fc):i.removedDocuments.size>0&&(B(o.fc),o.fc=!1))}),yield Ri(t,r,e)}catch(r){yield cs(r)}}),dD.apply(this,arguments)}function DV(n,e,t){const r=k(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=k(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&iD(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Are(n,e,t){return hD.apply(this,arguments)}function hD(){return hD=g(function*(n,e,t){const r=k(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ue(R.comparator);o=o.insert(s,He.newNoDocument(s,j.min()));const a=ue().add(s),u=new Pl(j.min(),new Map,new Ue(ne),o,a);yield EV(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),vD(r)}else yield tu(r.localStore,e,!1).then(()=>uu(r,e,t)).catch(cs)}),hD.apply(this,arguments)}function xre(n,e){return fD.apply(this,arguments)}function fD(){return fD=g(function*(n,e){const t=k(n),r=e.batch.batchId;try{const i=yield function qne(n,e){const t=k(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);B(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ue();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);yD(t,r,null),mD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ri(t,i)}catch(i){yield cs(i)}}),fD.apply(this,arguments)}function Mre(n,e,t){return pD.apply(this,arguments)}function pD(){return pD=g(function*(n,e,t){const r=k(n);try{const i=yield function(s,o){const a=k(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(B(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);yD(r,e,t),mD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ri(r,i)}catch(i){yield cs(i)}}),pD.apply(this,arguments)}function mD(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function yD(n,e,t){const r=k(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function uu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||bV(n,r)})}function bV(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Ql(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),vD(n))}function _D(n,e,t){for(const r of t)r instanceof wV?(n.Ic.addReference(r.key,e),Rre(n,r)):r instanceof IV?(A("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||bV(n,r.key)):V()}function Rre(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(A("SyncEngine","New document in limbo: "+t),n.mc.add(r),vD(n))}function vD(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new R(Ce.fromString(e)),r=n.Ac.next();n.yc.set(r,new Ere(t)),n.gc=n.gc.insert(t,r),Zp(n.remoteStore,new Ni(_n(za(t.path)),r,"TargetPurposeLimboResolution",$n.ct))}}function Ri(n,e,t){return wD.apply(this,arguments)}function wD(){return wD=g(function*(n,e,t){const r=k(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=D0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=k(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ls(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),wD.apply(this,arguments)}function kre(n,e){return ID.apply(this,arguments)}function ID(){return ID=g(function*(n,e){const t=k(n);if(!t.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield Z2(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new S(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ri(t,r.er)}var i}),ID.apply(this,arguments)}function Pre(n,e){const t=k(n),r=t.yc.get(e);if(r&&r.fc)return ue().add(r.key);{let i=ue();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class tg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.serializer=Wl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function X2(n,e,t,r){return new zne(n,e,t,r)}(this.persistence,new J2,e.initialUser,this.serializer)}createPersistence(e){return new w0(zp.zs,this.serializer)}createSharedClientState(e){return new aV}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cu{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>DV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=kre.bind(null,r.syncEngine),yield function J0(n,e){return X0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yre}createDatastore(e){const t=Wl(e.databaseInfo.databaseId),r=new ere(e.databaseInfo);return new rre(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>DV(this.syncEngine,a,0),o=uV.D()?new uV:new Jne,new ore(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new Dre(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=k(t);A("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield nu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Wre{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=eL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=su(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function rg(n,e){return ND.apply(this,arguments)}function ND(){return ND=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield Z2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ND.apply(this,arguments)}function RD(n,e){return kD.apply(this,arguments)}function kD(){return kD=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function PD(n){return OD.apply(this,arguments)}(n);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>mV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>mV(e.remoteStore,s)),n._onlineComponents=e}),kD.apply(this,arguments)}function OD(){return OD=g(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function NV(n){return"FirebaseError"===n.name?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;_r("Error using user provided cache. Falling back to memory cache: "+t),yield rg(n,new tg)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield rg(n,new tg);return n._offlineComponents}),OD.apply(this,arguments)}function ig(n){return FD.apply(this,arguments)}function FD(){return FD=g(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield RD(n,n._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield RD(n,new cu))),n._onlineComponents}),FD.apply(this,arguments)}function lu(n){return VD.apply(this,arguments)}function VD(){return VD=g(function*(n){const e=yield ig(n),t=e.eventManager;return t.onListen=bre.bind(null,e.syncEngine),t.onUnlisten=Tre.bind(null,e.syncEngine),t}),VD.apply(this,arguments)}function LV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const VV=new Map;function UD(n,e,t){if(!t)throw new S(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function UV(n){if(!R.isDocumentKey(n))throw new S(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BV(n){if(R.isDocumentKey(n))throw new S(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function og(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":V()}function ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new S(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=og(n);throw new S(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class $V{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new S(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function nie(n,e,t,r){if(!0===e&&!0===r)throw new S(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=LV(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new S(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new S(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new S(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yl{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $V({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $V(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ete;switch(t.type){case"firstParty":return new ite(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new S(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=VV.get(e);t&&(A("ComponentProvider","Removing Datastore"),VV.delete(e),t.terminate())}(this),Promise.resolve()}}class dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}}class Kt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class Qr extends Kt{constructor(e,t,r){super(e,t,za(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new R(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function ki(n,e,...t){if(n=gn(n),UD("collection","path",e),n instanceof Yl){const r=Ce.fromString(e,...t);return BV(r),new Qr(n,null,r)}{if(!(n instanceof dt||n instanceof Qr))throw new S(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return BV(r),new Qr(n.firestore,null,r)}}function wo(n,e,...t){if(n=gn(n),1===arguments.length&&(e=eL.A()),UD("doc","path",e),n instanceof Yl){const r=Ce.fromString(e,...t);return UV(r),new dt(n,null,new R(r))}{if(!(n instanceof dt||n instanceof Qr))throw new S(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ce.fromString(e,...t));return UV(r),new dt(n.firestore,n instanceof Qr?n.converter:null,new R(r))}}class iie{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new P0(this,"async_queue_retry"),this.Xc=()=>{const t=Xp();t&&A("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Xp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Xp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Tt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ls(t))throw t;A("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ut("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=Z0.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&V()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class ze extends Yl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new iie,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HV(this),this._firestoreClient.terminate()}}function It(n){return n._firestoreClient||HV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function HV(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Pte(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,LV(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new Wre(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(St.fromBase64String(e))}catch(t){throw new S(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Io(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class du{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new S(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class WV{constructor(e){this._methodName=e}}class jD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new S(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new S(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const uie=/^__.*__$/;class cie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Mi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ka(e,this.data,t,this.fieldTransforms)}}function QV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class ag{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ag(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return cg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(QV(this.ca)&&uie.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class lie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wl(e)}ya(e,t,r,i=!1){return new ag({ca:e,methodName:t,ga:r,path:ct.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hu(n){const e=n._freezeSettings(),t=Wl(n._databaseId);return new lie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $D(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);HD("Data must be an object, but it was:",o,r);const a=eU(r,o);let u,c;if(s.merge)u=new Sn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Zl(e,d,t);if(!o.contains(h))throw new S(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);nU(l,h)||l.push(h)}u=new Sn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new cie(new Wt(a),u,c)}function Co(n,e){if(tU(n=gn(n)))return HD("Unsupported field value:",e,n),eU(n,e);if(n instanceof WV)return function(t,r){if(!QV(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Co(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=gn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zL(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Je.fromDate(t);return{timestampValue:Ya(r.serializer,i)}}if(t instanceof Je){const i=new Je(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ya(r.serializer,i)}}if(t instanceof jD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Io)return{bytesValue:h2(r.serializer,t._byteString)};if(t instanceof dt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:u0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${og(t)}`)}(n,e)}function eU(n,e){const t={};return pL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(n,(r,i)=>{const s=Co(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function tU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Je||n instanceof jD||n instanceof Io||n instanceof dt||n instanceof WV)}function HD(n,e,t){if(!tU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=og(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Zl(n,e,t){if((e=gn(e))instanceof du)return e._internalPath;if("string"==typeof e)return ug(n,e);throw cg("Field path arguments must be of type string or ",n,!1,void 0,t)}const pie=new RegExp("[~\\*/\\[\\]]");function ug(n,e,t){if(e.search(pie)>=0)throw cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new du(...e.split("."))._internalPath}catch{throw cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(w.INVALID_ARGUMENT,a+n+u)}function nU(n,e){return n.some(t=>t.isEqual(e))}class zD{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gie extends zD{data(){return super.data()}}function lg(n,e){return"string"==typeof e?ug(n,e):e instanceof du?e._internalPath:e._delegate._internalPath}class qD{}class mie extends qD{}function iU(n,e,...t){let r=[];e instanceof qD&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof fu).length,o=i.filter(a=>a instanceof ed).length;if(s>1||s>0&&o>0)throw new S(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ed extends mie{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ed(e,t,r)}_apply(e){const t=this._parse(e);return uU(e._query,t),new Kt(e.firestore,e.converter,JE(e._query,t))}_parse(e){const t=hu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new S(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){aU(l,c);const h=[];for(const f of l)h.push(oU(a,i,f));d={arrayValue:{values:h}}}else d=oU(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||aU(l,c),d=function ZV(n,e,t,r=!1){return Co(t,n.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return _e.create(u,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class fu extends qD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fu(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Re.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)uU(s,a),s=JE(s,a)}(e._query,t),new Kt(e.firestore,e.converter,JE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function oU(n,e,t){if("string"==typeof(t=gn(t))){if(""===t)throw new S(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(e)&&-1!==t.indexOf("/"))throw new S(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ce.fromString(t));if(!R.isDocumentKey(r))throw new S(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ao(n,new R(r))}if(t instanceof dt)return ao(n,t._key);throw new S(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(t)}.`)}function aU(n,e){if(!Array.isArray(n)||0===n.length)throw new S(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uU(n,e){if(e.isInequality()){const r=Mp(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new S(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=QE(n);null!==s&&function cU(n,e,t){if(!t.isEqual(e))throw new S(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new S(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yie{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw V()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ds(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new jD(nt(e.latitude),nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Dp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const t=hs(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ce.fromString(e);B(C2(r));const i=new oo(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(t)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function KD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Eo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pu extends zD{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class pg extends pu{data(e={}){return super.data(e)}}class gu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new pg(this._firestore,this._userDataWriter,r.key,r,new Eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new S(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new pg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Eo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new pg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Eo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:vie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class Es extends yie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function dU(n){n=ve(n,Kt);const e=ve(n.firestore,ze),t=It(e),r=new Es(e);return function rU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new S(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function FV(n,e,t={}){const r=new Tt;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new ng({next:d=>{s.enqueueAndForget(()=>nD(i,l)),d.fromCache&&"server"===a.source?u.reject(new S(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new sD(o,c,{includeMetadataChanges:!0,Ku:!0});return eD(i,l)}(yield lu(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new gu(e,r,n,i))}function QD(n,e,t){n=ve(n,dt);const r=ve(n.firestore,ze),i=KD(n.converter,e,t);return td(r,[$D(hu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,We.none())])}function hU(n){return td(ve(n.firestore,ze),[new Qa(n._key,We.none())])}function fU(n,e){const t=ve(n.firestore,ze),r=wo(n),i=KD(n.converter,e);return td(t,[$D(hu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,We.exists(!1))]).then(()=>r)}function td(n,e){return function(t,r){const i=new Tt;return t.asyncQueue.enqueueAndForget(g(function*(){return function Sre(n,e,t){return lD.apply(this,arguments)}(yield function LD(n){return ig(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(It(n),e)}!function(n,e=!0){Ua=ba,Vr(new gr("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new ze(new nte(t.getProvider("auth-internal")),new ste(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Xn(JF,"3.13.0",n),Xn(JF,"3.13.0","esm2017")}();var mu=(()=>(function(n){n.USER="USER",n.CLIENT="CLIENT",n.ADMIN="ADMIN"}(mu||(mu={})),mu))();let tr=(()=>{var n;class e{constructor(){this.app=jk(Rie),this.analytics=function iJ(n=Vv()){const e=ts(n=gn(n),bf);return e.isInitialized()?e.getImmediate():function sJ(n,e={}){const t=ts(n,bf);if(t.isInitialized()){const i=t.getImmediate();if(Oc(e,t.getOptions()))return i;throw mn.create("already-initialized")}return t.initialize({options:e})}(n)}(this.app),this.firestore=function oie(n,e){const r="string"==typeof n?n:e||"(default)",i=ts("object"==typeof n?n:Vv(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=Dk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function rie(n,e,t,r={}){var i;const s=(n=ve(n,Yl))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ft.MOCK_USER;else{a=function rK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[yf(JSON.stringify({alg:"none",type:"JWT"})),yf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new S(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ft(c)}n._authCredentials=new tte(new XF(a,u))}}(i,...s)}return i}(this.app),this.auth=qZ(this.app),this.isAdmin=!1,this.categoryCollection=ki(this.firestore,"categories"),this.coursesCollection=ki(this.firestore,"courses"),this.data={},this.refreshEvent=new Le,this.refreshUser=new Le,this.refreshUserSession(),this.refresh(Te.CATEGORIES),this.refresh(Te.COURSES),this.refresh(Te.TOPICS)}refreshUserSession(){let r=sessionStorage.getItem("user"),i=sessionStorage.getItem("login"),s=!1;if(null!=i&&""!=i){let o=new Date(i).getTime();s=(new Date).getTime()-o<=72e6}s&&r&&(r=JSON.parse(r),this.user=r,this.isAdmin=this.user?.role==mu.ADMIN)}refresh(r){dU(iU(ki(this.firestore,r))).then(o=>{this.data[r]=[],o.forEach(a=>{let u=a.data();u.id=a.id,this.data[r].push(u)}),this.refreshEvent.emit(r)})}login(r){var i=this;return g(function*(){const s=wo(i.firestore,"users",r.id),o=yield function wie(n){n=ve(n,dt);const e=ve(n.firestore,ze);return function OV(n,e,t={}){const r=new Tt;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new ng({next:d=>{s.enqueueAndForget(()=>nD(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new S(w.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new S(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new sD(za(o.path),c,{includeMetadataChanges:!0,Ku:!0});return eD(i,l)}(yield lu(n),n.asyncQueue,e,t,r)})),r.promise}(It(e),n._key).then(t=>function YD(n,e,t){const r=t.docs.get(e._key),i=new Es(n);return new pu(n,i,e._key,r,new Eo(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}(s);if(o.exists()){let a=o.data();console.log("FirestoreService:login:: Existing User :",a),i.user={id:a.id,name:a.name,email:a.email,contact:a.contact,role:a.role,image:a.image},i.refreshUser.emit(i.user),sessionStorage.setItem("login",""+(new Date).toLocaleString()),sessionStorage.setItem("user",JSON.stringify(i.user)),i.log(Do.LOGIN,i.user),i.isAdmin=i.user.role==mu.ADMIN}else console.log("FirestoreService:login:: Create new user: "+r.email),i.user=r,yield QD(wo(ki(i.firestore,"users"),r.id),i.user),console.log("FirestoreService:login:: Created new user: "+r.email),i.refreshUser.emit(i.user),sessionStorage.setItem("login",(new Date).toISOString()),sessionStorage.setItem("user",JSON.stringify(i.user)),i.log(Do.SIGN_UP,i.user)})()}logout(){var r=this;return g(function*(){console.log("FirestoreService:logout:: Logging out user: "+r.user?.email),r.user=void 0,sessionStorage.clear(),r.isAdmin=!1,r.log(Do.LOGOUT,r.user),r.refreshUser.emit(r.user)})()}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),bP(this.analytics,r,s)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var Te=(()=>(function(n){n.USERS="users",n.CATEGORIES="categories",n.COURSES="courses",n.TOPICS="topics",n.ASSESSMENTS="assessments"}(Te||(Te={})),Te))(),Do=(()=>(function(n){n.PAGE_VIEW="PAGE_VIEW",n.LOGIN="login",n.SIGN_UP="sign_up",n.LOGOUT="logout"}(Do||(Do={})),Do))();const Rie={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function kie(n,e){if(1&n&&(C(0,"div",3)(1,"div",4)(2,"div",5),M(3),D(),C(4,"div",6)(5,"b"),M(6,"Tech: "),D(),M(7),D(),C(8,"div",7)(9,"a"),M(10,"View Topics"),D()(),C(11,"div",8)(12,"button",9),M(13,"Launch course"),D()()()()),2&n){const t=e.$implicit;U(3),xt(t.name),U(4),xt(t.description),U(1),Z("routerLink","/courses/"+t.id),U(4),Z("routerLink","/courses/"+t.id)}}let gU=(()=>{var n;class e{constructor(r){this.firestore=r,this.courses=[],null!=this.firestore.data[Te.COURSES]&&(this.courses=this.firestore.data[Te.COURSES],this.sortOrder()),this.firestore.refreshEvent.subscribe(i=>{i==Te.COURSES&&(this.courses=this.firestore.data[Te.COURSES],this.sortOrder())})}sortOrder(){this.courses=this.courses.sort((r,i)=>r.order-i.order)}}return(n=e).\u0275fac=function(r){return new(r||n)(E(tr))},n.\u0275cmp=pt({type:n,selectors:[["app-courses"]],decls:3,vars:1,consts:[[1,"c"],[1,"row","p-3"],["class","col-12 col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4"],[1,"m-2","p-3","border","border-secondary","bg-light"],[1,"n"],[1,"t"],[1,"v","pointer",3,"routerLink"],[1,"b","text-center","mt-2"],[1,"btn","btn-primary",3,"routerLink"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1),De(2,kie,14,4,"div",2),D()()),2&r&&(U(2),Z("ngForOf",i.courses))},dependencies:[gi,Xi],styles:[".n[_ngcontent-%COMP%]{font-size:24px}.v[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:underline}"]}),e})(),mU=(()=>{var n;class e{constructor(){this.isMobile=function(){let n=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(n=!0),n;var e}(),this.menu=!this.isMobile}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pt({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(r,i){1&r&&dn(0,"app-courses")},dependencies:[gU],styles:[".a[_ngcontent-%COMP%]{height:70px;background-color:#6495ed}.a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:35px;font-weight:700;margin:10px;color:#fff}"]}),e})(),Pie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pt({type:n,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(dn(0,"div",0),C(1,"div",1)(2,"div",2),dn(3,"img",3),C(4,"span",4)(5,"i",5),M(6,"edit"),D()(),C(7,"div",6)(8,"div",7),M(9,"V.V.S.K Chaitanya"),D(),C(10,"div",8),M(11,"Software Engineer"),D()()()(),C(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),M(16,"menu_book"),D(),C(17,"span"),M(18,"Courses"),D()(),C(19,"div",12)(20,"i",5),M(21,"assignment"),D(),C(22,"span"),M(23,"Assessments"),D()(),C(24,"div",13)(25,"i",5),M(26,"notifications"),D(),C(27,"span"),M(28,"Notifications"),D()(),C(29,"div",14)(30,"i",5),M(31,"person"),D(),C(32,"span"),M(33,"Update Profile"),D()(),C(34,"div",15)(35,"i",5),M(36,"logout"),D(),C(37,"span"),M(38,"Logout"),D()()()())},dependencies:[Xi],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})(),Oie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pt({type:n,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&dn(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})();function Fie(n,e){if(1&n){const t=mt();C(0,"i",6),q("click",function(){me(t);const i=G(2);return ye(i.expand=!i.expand)}),M(1),D()}if(2&n){const t=G(2);U(1),xt(t.expand?"expand_more":"chevron_right")}}function Lie(n,e){if(1&n){const t=mt();C(0,"div")(1,"app-category",9),q("select",function(i){return me(t),ye(G(3).select.emit(i))}),D()()}if(2&n){const t=e.$implicit,r=G(3);U(1),Z("category",t)("current",r.current)}}function Vie(n,e){if(1&n&&(C(0,"div",7),De(1,Lie,2,2,"div",8),D()),2&n){const t=G(2);U(1),Z("ngForOf",t.category.categories)}}const Uie=function(n){return{"active-node":n}};function Bie(n,e){if(1&n){const t=mt();C(0,"div",1)(1,"div",2),De(2,Fie,2,1,"i",3),C(3,"span",4),q("click",function(){me(t);const i=G();return ye(i.select.emit(i.category))}),M(4),D()(),De(5,Vie,2,1,"div",5),D()}if(2&n){const t=G();U(1),Z("ngClass",Ay(4,Uie,null!=t.current&&t.category.id==t.current.id)),U(1),Z("ngIf",null!=t.category.categories&&t.category.categories.length>=0),U(2),xt(t.category.name),U(1),Z("ngIf",t.expand)}}let jie=(()=>{var n;class e{constructor(){this.select=new Le,this.expand=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pt({type:n,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(r,i){1&r&&De(0,Bie,6,6,"div",0),2&r&&Z("ngIf",i.category)},dependencies:[g_,gi,kr,n],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})();function $ie(n,e){if(1&n){const t=mt();C(0,"div",11)(1,"app-category",12),q("select",function(i){return me(t),ye(G().select(i))}),D()()}if(2&n){const t=e.$implicit,r=G();U(1),Z("category",t)("current",r.category)}}function Gie(n,e){if(1&n){const t=mt();C(0,"button",13),q("click",function(){return me(t),ye(G().deleteConfirm=!0)}),C(1,"i",8),M(2,"delete"),D()()}}function Hie(n,e){if(1&n){const t=mt();C(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),M(5,"New Category"),D(),C(6,"button",19),q("click",function(){return me(t),ye(G().addCategoryModal=!1)}),D()(),C(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),q("ngModelChange",function(i){return me(t),ye(G().categoryName=i)}),D()()()(),C(11,"div",24)(12,"button",25),q("click",function(){return me(t),ye(G().addCategory())}),M(13,"Add"),D()()()()()}if(2&n){const t=G();U(10),Z("ngModel",t.categoryName)}}function zie(n,e){if(1&n){const t=mt();C(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),M(5,"Delete Category"),D(),C(6,"button",19),q("click",function(){return me(t),ye(G().deleteConfirm=!1)}),D()(),C(7,"div",20)(8,"div",21)(9,"div",22),M(10),D()()(),C(11,"div",24)(12,"button",25),q("click",function(){return me(t),ye(G().deleteCategory())}),M(13,"Delete"),D()()()()()}if(2&n){const t=G();U(10),ih(" Confirm to delete ",null==t.category?null:t.category.name," ")}}let qie=(()=>{var n;class e{constructor(r){this.firestore=r,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh(),this.firestore.refreshEvent.subscribe(i=>{i==Te.CATEGORIES&&this.refresh()})}refresh(){this.categories=[];let r=this.firestore.data[Te.CATEGORIES];r.filter(i=>null==i.parent).forEach(i=>this.categories.push(i)),this.categories.forEach(i=>this.linkCategories(i,r)),console.log(this.categories)}linkCategories(r,i){r.categories=[],i.filter(s=>null!=s.parent&&s.parent==r.id).forEach(s=>{this.linkCategories(s,i),r.categories?.push(s)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let r={name:this.categoryName,active:!0};this.category&&(r.parent=this.category.id),fU(this.firestore.categoryCollection,r).then(i=>{alert("Category has been added succesfully ID:"+i.id),this.firestore.refresh(Te.CATEGORIES)})}else alert("Please enter category name")}isNotEmpty(r){return null!=r&&""!=r}select(r){console.log("Selected Category",r),this.category=r}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&hU(wo(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.firestore.refresh(Te.CATEGORIES)})}}return(n=e).\u0275fac=function(r){return new(r||n)(E(tr))},n.\u0275cmp=pt({type:n,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"span"),M(3,"Categories"),D()()(),C(4,"div",2)(5,"div",3),De(6,$ie,2,2,"div",4),D()(),C(7,"div",5)(8,"div",6)(9,"button",7),q("click",function(){return i.addCategoryModal=!0}),C(10,"i",8),M(11,"add"),D()(),De(12,Gie,3,0,"button",9),D()(),De(13,Hie,14,1,"div",10),De(14,zie,14,1,"div",10)),2&r&&(U(6),Z("ngForOf",i.categories),U(6),Z("ngIf",null!=i.category),U(1),Z("ngIf",i.addCategoryModal),U(1),Z("ngIf",i.deleteConfirm))},dependencies:[gi,kr,Bs,pc,ga,jie],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})(),Wie=(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,this.provider=new xI,i.refreshUser.subscribe(s=>{if(null!=s){var o=sessionStorage.getItem("redirect");o?(sessionStorage.removeItem("redirect"),console.log("Redirecting to ",o),this.router.navigateByUrl(o)):this.router.navigate(["dashboard"])}else this.router.navigate(["home"])})}login(){(function tZ(n,e,t){return xC.apply(this,arguments)})(this.fs.auth,this.provider).then(r=>{xI.credentialFromResult(r);let o=r.user;this.fs.login({id:o.uid,email:o.email,name:o.displayName,contact:o.phoneNumber,image:o.photoURL,role:mu.USER})}).catch(r=>{console.error(r),xI.credentialFromError(r)})}}return(n=e).\u0275fac=function(r){return new(r||n)(E(Mt),E(tr))},n.\u0275cmp=pt({type:n,selectors:[["app-login"]],decls:13,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],["src","../../assets/icons/google-logo.png"],[3,"click"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"div")(3,"h5"),M(4,"Welcome to "),C(5,"b"),M(6,"IMPULSE"),D(),M(7," Network"),D(),C(8,"p",2),M(9,"To access course contents, login with your google account"),D()(),dn(10,"img",3),C(11,"button",4),q("click",function(){return i.login()}),M(12,"Sign in"),D()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]}),e})(),Kie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pt({type:n,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(r,i){}}),e})(),Qie=(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,i.refreshUser.subscribe(s=>this.router.navigate(s?["dashboard"]:["home"]))}logout(){(function pX(n){return gn(n).signOut()})(this.fs.auth).then(()=>this.fs.logout())}}return(n=e).\u0275fac=function(r){return new(r||n)(E(Mt),E(tr))},n.\u0275cmp=pt({type:n,selectors:[["app-logout"]],decls:7,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],[3,"click"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"p",2),M(3," Are you sure you want to log-off? "),dn(4,"br"),D(),C(5,"button",3),q("click",function(){return i.logout()}),M(6,"Logout"),D()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]}),e})(),Yie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pt({type:n,selectors:[["app-assessment"]],decls:2,vars:0,template:function(r,i){1&r&&(C(0,"p"),M(1,"assessment works!"),D())}}),e})();function Jie(n,e){if(1&n&&(C(0,"tr")(1,"td"),M(2),D(),C(3,"td"),M(4),D(),C(5,"td")(6,"i",3),M(7,"open_in_new"),D(),C(8,"i",4),M(9,"edit"),D(),C(10,"i",5),M(11,"delete"),D()()()),2&n){const t=e.$implicit;U(2),xt(t.name),U(2),xt(t.course)}}let Xie=(()=>{var n;class e{constructor(){this.assessments=[],this.assessments.push({id:"asdf",name:"Assess 1",course:"Course 1",content:""})}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pt({type:n,selectors:[["app-assessments"]],decls:14,vars:1,consts:[[1,"container","mt-3"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","pointer"],[1,"material-icons","mx-2","pointer","text-info"],[1,"material-icons","mx-2","pointer","text-danger"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"h2"),M(2,"Assessments"),D(),C(3,"table",1)(4,"thead")(5,"tr")(6,"th"),M(7,"Name"),D(),C(8,"th"),M(9,"Course"),D(),C(10,"th"),M(11,"Actions"),D()()(),C(12,"tbody"),De(13,Jie,12,2,"tr",2),D()()()),2&r&&(U(13),Z("ngForOf",i.assessments))},dependencies:[gi]}),e})();function Zie(n,e){if(1&n&&(C(0,"div",5)(1,"span"),M(2),D()()),2&n){const t=G();U(2),xt(t.course.name)}}function ese(n,e){if(1&n&&(C(0,"div",6)(1,"div",7)(2,"div",8)(3,"h5",9),M(4),C(5,"i",10),M(6,"open_in_new"),D()(),C(7,"h6",11),M(8),D(),dn(9,"p",12),D()()()),2&n){const t=e.$implicit;U(4),xt(t.name),U(1),Z("routerLink","/topics/"+t.id),U(3),xt(t.description)}}let tse=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.route=i,this.courses=[],this.id=null,this.topics=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),null!=this.firestore.data[Te.COURSES]&&(this.courses=this.firestore.data[Te.COURSES],this.course=this.courses.filter(r=>r.id==this.id)[0]),null!=this.firestore.data[Te.TOPICS]&&this.setTopics(),this.firestore.refreshEvent.subscribe(r=>{r==Te.COURSES&&(this.courses=this.firestore.data[Te.COURSES],this.course=this.courses.filter(i=>i.id==this.id)[0]),r==Te.TOPICS&&this.setTopics()})}setTopics(){let r=[];r=this.firestore.data[Te.TOPICS],this.topics=r.filter(i=>null!=i.id&&this.course?.topics?.includes(i.id))}}return(n=e).\u0275fac=function(r){return new(r||n)(E(tr),E(Ji))},n.\u0275cmp=pt({type:n,selectors:[["app-course"]],decls:5,vars:2,consts:[[1,"row","m-0","px-2","r","text-center"],["class","col-12 text-center",4,"ngIf"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],[1,"col-12","text-center"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"]],template:function(r,i){1&r&&(C(0,"div",0),De(1,Zie,3,1,"div",1),D(),C(2,"div",2)(3,"div",3),De(4,ese,10,3,"div",4),D()()),2&r&&(U(1),Z("ngIf",i.course),U(3),Z("ngForOf",i.topics))},dependencies:[gi,kr,Xi],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:#6495ed;font-size:25px;font-weight:500}.t[_ngcontent-%COMP%]{font-size:30px}"]}),e})(),nse=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.router=i}canActivate(r,i){if(null==this.firestore.user){if(r.url.length>0){let s=[];r.url.forEach(o=>s.push(o.path)),sessionStorage.setItem("redirect",s.join("/"))}this.router.navigateByUrl("login")}return!0}}return(n=e).\u0275fac=function(r){return new(r||n)(z(tr),z(Mt))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function rse(n,e){if(1&n&&(C(0,"div",7)(1,"div",8)(2,"div",9)(3,"h5",10),M(4),C(5,"i",11),M(6,"open_in_new"),D()(),C(7,"h6",12),M(8),D(),dn(9,"p",13),D()()()),2&n){const t=e.$implicit;U(4),xt(t.name),U(1),Z("routerLink","/topics/"+t.id),U(3),xt(t.description)}}function ise(n,e){if(1&n){const t=mt();C(0,"div",14)(1,"div",15)(2,"button",16),q("click",function(){return me(t),ye(G().addTopicModal=!0)}),C(3,"i",17),M(4,"add"),D()()()()}}function sse(n,e){if(1&n){const t=mt();C(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h4",22),M(5,"New Topic"),D(),C(6,"button",23),q("click",function(){return me(t),ye(G().addTopicModal=!1)}),D()(),C(7,"div",24)(8,"div",25)(9,"div",26)(10,"input",27),q("ngModelChange",function(i){return me(t),ye(G().topic.name=i)}),D()(),C(11,"div",26)(12,"input",28),q("ngModelChange",function(i){return me(t),ye(G().topic.description=i)}),D()()()(),C(13,"div",29)(14,"button",30),q("click",function(){return me(t),ye(G().addTopic())}),M(15,"Add"),D()()()()()}if(2&n){const t=G();U(10),Z("ngModel",t.topic.name),U(2),Z("ngModel",t.topic.description)}}let ose=(()=>{var n;class e{constructor(r){this.firestore=r,this.addTopicModal=!1,this.topic={name:"",description:"",lock:!1,active:!0},this.topics=[],this.deleteConfirm=!1,this.setTopics(this.firestore.data[Te.TOPICS]),this.firestore.refreshEvent.subscribe(i=>{Te.TOPICS&&this.setTopics(this.firestore.data[Te.TOPICS])})}setTopics(r){null!=r&&(this.topics=r.filter(i=>1==i.active),this.firestore.isAdmin&&(this.topics=r))}addTopic(){console.log(this.topic),this.validate()?fU(ki(this.firestore.firestore,Te.TOPICS),this.topic).then(r=>{alert("Topic has been added succesfully ID:"+r.id),this.firestore.refresh(Te.TOPICS)}):alert("Please enter name, description")}validate(){return this.isNotEmpty(this.topic.name)&&this.isNotEmpty(this.topic.description)}isNotEmpty(r){return null!=r&&""!=r}}return(n=e).\u0275fac=function(r){return new(r||n)(E(tr))},n.\u0275cmp=pt({type:n,selectors:[["app-topics"]],decls:9,vars:3,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"span"),M(3,"Topics"),D()()(),C(4,"div",2)(5,"div",3),De(6,rse,10,3,"div",4),D()(),De(7,ise,5,0,"div",5),De(8,sse,16,2,"div",6)),2&r&&(U(6),Z("ngForOf",i.topics),U(1),Z("ngIf",i.firestore.isAdmin),U(1),Z("ngIf",i.addTopicModal))},dependencies:[gi,kr,Xi,Bs,pc,ga],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();function ase(n,e){if(1&n&&(C(0,"div",7)(1,"div",8)(2,"span",9),M(3),D(),C(4,"span",10)(5,"i",11),M(6,"logout"),D(),M(7,"Exit"),D()()()),2&n){const t=G();U(3),xt(t.topic.name),U(1),Z("routerLink","/home")}}function use(n,e){if(1&n){const t=mt();C(0,"div",12)(1,"div",13)(2,"span",14),q("click",function(){return me(t),ye(G().prev())}),C(3,"i",11),M(4,"chevron_left"),D(),M(5,"PREV"),D()(),C(6,"div",13)(7,"span",15),q("click",function(){return me(t),ye(G().next())}),M(8,"NEXT"),C(9,"i",11),M(10,"chevron_right"),D()()()()}}function cse(n,e){if(1&n){const t=mt();C(0,"button",21),q("click",function(){return me(t),ye(G(2).editPageModal=!0)}),C(1,"i",20),M(2,"edit"),D()()}}function lse(n,e){if(1&n){const t=mt();C(0,"div",16)(1,"div",17),De(2,cse,3,0,"button",18),C(3,"button",19),q("click",function(){return me(t),ye(G().addPageModal=!0)}),C(4,"i",20),M(5,"add"),D()()()()}if(2&n){const t=G();U(2),Z("ngIf",t.page)}}function dse(n,e){if(1&n){const t=mt();C(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25)(4,"h4",26),M(5,"Add Page"),D(),C(6,"button",27),q("click",function(){return me(t),ye(G().addPageModal=!1)}),D()(),C(7,"div",28)(8,"div",29)(9,"div",30)(10,"textarea",31),q("ngModelChange",function(i){return me(t),ye(G().newPage=i)}),D()()()(),C(11,"div",32)(12,"button",33),q("click",function(){return me(t),ye(G().addPage())}),M(13,"Add"),D()()()()()}if(2&n){const t=G();U(10),Z("ngModel",t.newPage)}}function hse(n,e){if(1&n){const t=mt();C(0,"div",22)(1,"div",34)(2,"div",24)(3,"div",25)(4,"h4",26),M(5,"Edit Page"),D(),C(6,"button",27),q("click",function(){return me(t),ye(G().editPageModal=!1)}),D()(),C(7,"div",28)(8,"div",29)(9,"div",30)(10,"textarea",31),q("ngModelChange",function(i){return me(t),ye(G().page=i)}),D()()()(),C(11,"div",32)(12,"button",35),q("click",function(){return me(t),ye(G().deletePage())}),M(13,"Delete"),D(),C(14,"button",33),q("click",function(){return me(t),ye(G().editPage())}),M(15,"Update"),D()()()()()}if(2&n){const t=G();U(10),Z("ngModel",t.page)}}let fse=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.route=i,this.id=null,this.page=void 0,this.newPage="",this.pageIndex=0,this.addPageModal=!1,this.editPageModal=!1}ngOnDestroy(){window.postMessage("ToggleHeader")}ngOnInit(){window.postMessage("ToggleHeader"),this.id=this.route.snapshot.paramMap.get("id"),console.log("Topic ID: "+this.id),null==this.firestore.data[Te.TOPICS]?this.firestore.refreshEvent.subscribe(r=>{r==Te.TOPICS&&this.refresh()}):this.refresh()}refresh(){var r=void 0;this.id&&null!=this.firestore.data[Te.TOPICS]&&(r=this.firestore.data[Te.TOPICS].filter(i=>i.id==this.id)[0]),r&&(this.topic=r),this.topic?.pages&&this.topic?.pages[0]&&(this.page=this.topic.pages[0])}save(){var r=this;return g(function*(){r.topic&&(yield QD(wo(ki(r.firestore.firestore,Te.TOPICS),r.topic.id),r.topic))})()}next(){this.topic&&null!=this.topic.pages&&this.pageIndex!=this.topic?.pages?.length-1&&(this.pageIndex++,this.page=this.topic.pages[this.pageIndex])}prev(){this.topic&&null!=this.topic.pages&&0!=this.pageIndex&&(this.pageIndex--,this.page=this.topic.pages[this.pageIndex])}addPage(){var r=this;return g(function*(){r.topic&&(null==r.topic.pages&&(r.topic.pages=[]),r.topic.pages.push(r.newPage),yield r.save(),alert("Page Added"),r.pageIndex=r.topic.pages.length-1,r.page=r.topic.pages[r.pageIndex],r.addPageModal=!1,r.newPage="")})()}deletePage(){var r=this;return g(function*(){r.topic&&null!=r.topic.pages&&r.page&&(r.topic.pages.splice(r.pageIndex,1),yield r.save(),alert("Page Deleted"),r.pageIndex=0,r.page=r.topic.pages[r.pageIndex],r.editPageModal=!1)})()}editPage(){var r=this;return g(function*(){r.topic&&null!=r.topic.pages&&r.page&&(r.topic.pages[r.pageIndex]=r.page,yield r.save(),alert("Page Updated"),r.page=r.topic.pages[r.pageIndex],r.editPageModal=!1)})()}}return(n=e).\u0275fac=function(r){return new(r||n)(E(tr),E(Ji))},n.\u0275cmp=pt({type:n,selectors:[["app-topic"]],decls:8,vars:6,consts:[["class","row m-0 px-2 r text-center",4,"ngIf"],[1,"c","px-1"],[1,"row","mt-3","table-responsive"],[1,"col-12","mx-3","my-1","p-0","h-100",2,"max-width","-webkit-fill-available","max-height","-webkit-fill-available","overflow-y","visible",3,"innerHtml"],["class","row m-0 fo",4,"ngIf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"d-inline-block"],[1,"d-inline-block","e",3,"routerLink"],[1,"material-icons"],[1,"row","m-0","fo"],[1,"col-6"],[3,"click"],[2,"float","right",3,"click"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],[1,"btn","btn-warning",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-dialog","modal-lg"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(r,i){1&r&&(De(0,ase,8,2,"div",0),C(1,"div",1)(2,"div",2),dn(3,"div",3),D()(),De(4,use,11,0,"div",4),De(5,lse,6,1,"div",5),De(6,dse,14,1,"div",6),De(7,hse,16,1,"div",6)),2&r&&(Z("ngIf",i.topic),U(3),Z("innerHtml",i.page,gS),U(1),Z("ngIf",i.topic),U(1),Z("ngIf",i.firestore.isAdmin),U(1),Z("ngIf",i.addPageModal),U(1),Z("ngIf",i.editPageModal))},dependencies:[kr,Xi,Bs,pc,ga],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]{float:right;font-size:20px;padding:10px;cursor:pointer}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{vertical-align:sub;margin-right:5px}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin:0 10px;padding:5px;vertical-align:sub}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:60px;right:30px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.fo[_ngcontent-%COMP%]{position:sticky;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}"]}),e})();function pse(n,e){if(1&n){const t=mt();C(0,"div",2)(1,"div",3)(2,"input",4),q("ngModelChange",function(i){return me(t),ye(G().key=i)}),D()(),C(3,"div",3)(4,"button",5),q("click",function(){return me(t),ye(G().fetch())}),M(5,"Fetch"),D()()()}if(2&n){const t=G();U(2),Z("ngModel",t.key)}}function gse(n,e){if(1&n){const t=mt();C(0,"tr")(1,"td"),M(2),D(),C(3,"td")(4,"i",9),q("click",function(){const s=me(t).$implicit;return ye(G(2).edit(s))}),M(5,"edit"),D()()()}if(2&n){const t=e.$implicit;U(2),xt(t.id)}}function mse(n,e){if(1&n&&(C(0,"div",2)(1,"div",6)(2,"table",7)(3,"thead")(4,"tr")(5,"th"),M(6,"Record Key"),D(),C(7,"th"),M(8,"Action"),D()()(),C(9,"tbody"),De(10,gse,6,1,"tr",8),D()()()()),2&n){const t=G();U(10),Z("ngForOf",t.documents)}}function yse(n,e){if(1&n){const t=mt();C(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h4",14),M(5,"Document Data"),D(),C(6,"button",15),q("click",function(){return me(t),ye(G().document=void 0)}),D()(),C(7,"div",16)(8,"div",17)(9,"div",18)(10,"textarea",19),q("ngModelChange",function(i){return me(t),ye(G().data=i)}),D()()()(),C(11,"div",20)(12,"i",21),q("click",function(){return me(t),ye(G().save())}),M(13,"save"),D(),C(14,"i",22),q("click",function(){return me(t),ye(G().delete())}),M(15,"delete"),D()()()()()}if(2&n){const t=G();U(10),Z("ngModel",t.data)}}const _se=[{path:"",component:mU},{path:"home",component:mU},{path:"admin",component:(()=>{var n;class e{constructor(r){this.firestore=r,this.documents=[]}edit(r){this.document=r,this.data=JSON.stringify(this.document?.data(),null,1)}fetch(){this.key&&(this.documents=[],dU(iU(ki(this.firestore.firestore,this.key))).then(s=>{s.forEach(o=>{this.documents.push(o)})}))}save(){var r=this;return g(function*(){if(r.data&&r.key&&r.document){try{JSON.parse(r.data)}catch(i){console.error(i),alert("Error while parsing document data, please check and retry")}yield QD(wo(ki(r.firestore.firestore,r.key),r.document?.id),JSON.parse(r.data)),alert("Document Updated."),r.document=void 0}})()}delete(){var r=this;return g(function*(){r.data&&(!r.key||!r.document||(yield hU(wo(ki(r.firestore.firestore,r.key),r.document?.id)),r.document=void 0))})()}}return(n=e).\u0275fac=function(r){return new(r||n)(E(tr))},n.\u0275cmp=pt({type:n,selectors:[["app-admin"]],decls:3,vars:3,consts:[["class","row m-0",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"row","m-0"],[1,"mt-3","col-6"],["type","text","placeholder","Collection",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"p-3"],[1,"table"],[4,"ngFor","ngForOf"],[1,"m-2","material-icons","pointer",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"m-2","text-primary","material-icons","pointer",3,"click"],[1,"m-2","text-danger","material-icons","pointer",3,"click"]],template:function(r,i){1&r&&(De(0,pse,6,1,"div",0),De(1,mse,11,1,"div",0),De(2,yse,16,1,"div",1)),2&r&&(Z("ngIf",i.firestore.isAdmin),U(1),Z("ngIf",i.firestore.isAdmin),U(1),Z("ngIf",i.document))},dependencies:[gi,kr,Bs,pc,ga],styles:[".modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})()},{path:"login",component:Wie},{path:"dashboard",component:Kie},{path:"logout",component:Qie},{path:"account",component:Pie},{path:"profile",component:Oie},{path:"categories",component:qie},{path:"topics",component:ose},{path:"topics/:id",component:fse},{path:"courses",component:gU},{path:"courses/:id",component:tse,canActivate:[nse]},{path:"assessments",component:Xie},{path:"assessments/:id",component:Yie}];let vse=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Er({type:n}),n.\u0275inj=nr({imports:[_k.forRoot(_se),_k]}),e})();class wse extends xn{constructor(e,t){super()}schedule(e,t=0){return this}}const mg={setInterval(n,e,...t){const{delegate:r}=mg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=mg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},yU={now:()=>(yU.delegate||Date).now(),delegate:void 0};class nd{constructor(e,t=nd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}nd.now=yU.now;const _U=new class Cse extends nd{constructor(e,t=nd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class Ise extends wse{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return mg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&mg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,bo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),Ese=_U;function vU(n,e){return e?t=>Wh(e.pipe(zi(1),function Dse(){return Ct((n,e)=>{n.subscribe(ht(e,yg))})}()),t.pipe(vU(n))):At((t,r)=>Mn(n(t,r)).pipe(zi(1),gR(t)))}function Ase(n,e){if(1&n&&(C(0,"div",4)(1,"h4",6),M(2),D()()),2&n){const t=G();U(2),xt(t.firestore.user.name)}}const xse=function(n){return{active:n}};function Mse(n,e){if(1&n){const t=mt();C(0,"div",7),q("click",function(){const s=me(t).$implicit;return ye(G().focus(s.route))}),C(1,"i",8),M(2),D(),C(3,"span",9),M(4),D()()}if(2&n){const t=e.$implicit,r=G();Z("ngClass",Ay(3,xse,r.active=="/"+t.route)),U(2),xt(t.icon),U(2),xt(t.name)}}let Nse=(()=>{var n;class e{constructor(r,i){this.router=r,this.firestore=i,this.close=new Le,this.active="",this.menus=[],this.active=this.router.url,this.user=i.user,this.load(),r.events.subscribe(s=>{s instanceof Yi&&(this.active=this.router.url)}),i.refreshUser.subscribe(s=>{this.user=s,this.load()})}load(){this.menus=[],this.user?"ADMIN"==this.user.role?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Admin",icon:"settings",route:"admin"}),this.menus.push({name:"Categories",icon:"category",route:"categories"}),this.menus.push({name:"Courses",icon:"menu_book",route:"courses"}),this.menus.push({name:"Topics",icon:"menu_book",route:"topics"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):("CLIENT"==this.user.role||"USER"==this.user.role)&&(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Assessments",icon:"assignment",route:"assessments"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):this.menus.push({name:"Login",icon:"login",route:"login"})}focus(r){this.router.navigate([r]),this.close.emit(!0)}}return(n=e).\u0275fac=function(r){return new(r||n)(E(Mt),E(tr))},n.\u0275cmp=pt({type:n,selectors:[["app-menu"]],outputs:{close:"close"},decls:7,vars:2,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],["class","m",4,"ngIf"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"margin-left","10px"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"i",2),q("click",function(){return i.close.emit(!0)}),M(3,"close"),D()(),De(4,Ase,3,1,"div",3),C(5,"div",4),De(6,Mse,5,5,"div",5),D()()),2&r&&(U(4),Z("ngIf",i.firestore.user),U(2),Z("ngForOf",i.menus))},dependencies:[g_,gi,kr],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),e})();function Rse(n,e){1&n&&(C(0,"i",9),M(1,"menu"),D())}function kse(n,e){1&n&&dn(0,"img",10),2&n&&py("src",G().firestore.user.image,Om)}function Pse(n,e){if(1&n){const t=mt();C(0,"app-menu",11),q("close",function(){return me(t),ye(G().menu=!1)}),D()}}let Ose=(()=>{var n;class e{constructor(r){this.firestore=r,this.menu=!1}}return(n=e).\u0275fac=function(r){return new(r||n)(E(tr))},n.\u0275cmp=pt({type:n,selectors:[["app-header"]],decls:10,vars:3,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],["class","material-icons text-light",4,"ngIf"],[3,"src",4,"ngIf"],[1,"col-12","p-0","text-center"],[1,"t","a"],[3,"close",4,"ngIf"],[1,"material-icons","text-light"],[3,"src"],[3,"close"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),q("click",function(){return i.menu=!i.menu}),De(4,Rse,2,0,"i",4),De(5,kse,1,1,"img",5),D()(),C(6,"div",6)(7,"div",7),M(8,"IMPULSE"),D()()()(),De(9,Pse,1,0,"app-menu",8)),2&r&&(U(4),Z("ngIf",!i.firestore.user),U(1),Z("ngIf",i.firestore.user&&i.firestore.user.image),U(4),Z("ngIf",i.menu))},dependencies:[kr,Nse],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]{padding:0}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:50px;height:50px}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:5px}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8.5rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),e})();function Fse(n,e){1&n&&dn(0,"app-header")}let Lse=(()=>{var n;class e{constructor(r,i,s){this.firestore=r,this.header=!0,this.firestore.log(Do.PAGE_VIEW),this.handleScroll(i,s),window.addEventListener("message",o=>{o.origin===window.location.origin&&"ToggleHeader"==o.data&&(this.header=!this.header)},!1)}handleScroll(r,i){r.events.pipe(mi(s=>s instanceof av)).pipe(function Sse(n,e=_U){const t=function Tse(n=0,e,t=Ese){let r=-1;return null!=e&&(vb(e)?t=e:r=e),new rt(i=>{let s=function bse(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return vU(()=>t)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(n=e).\u0275fac=function(r){return new(r||n)(E(tr),E(Mt),E(MM))},n.\u0275cmp=pt({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(r,i){1&r&&(De(0,Fse,1,0,"app-header",0),dn(1,"router-outlet")),2&r&&Z("ngIf",i.header)},dependencies:[kr,pv,Ose],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),Vse=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Er({type:n,bootstrap:[Lse]}),n.\u0275inj=nr({imports:[tq,vse,_8]}),e})();eq().bootstrapModule(Vse).catch(n=>console.error(n))}},Pe=>{Pe(Pe.s=945)}]);