(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{102:(ae,_,q)=>{"use strict";function p(n){return"function"==typeof n}function Z(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const W=Z(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function pe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class J{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(p(r))try{r()}catch(s){e=s instanceof W?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ee(s)}catch(o){e=e??[],o instanceof W?e=[...e,...o.errors]:e.push(o)}}if(e)throw new W(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ee(e);else{if(e instanceof J){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&pe(t,e)}remove(e){const{_finalizers:t}=this;t&&pe(t,e),e instanceof J&&e._removeParent(this)}}J.EMPTY=(()=>{const n=new J;return n.closed=!0,n})();const z=J.EMPTY;function j(n){return n instanceof J||n&&"closed"in n&&p(n.remove)&&p(n.add)&&p(n.unsubscribe)}function ee(n){p(n)?n():n.unsubscribe()}const ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},re={setTimeout(n,e,...t){const{delegate:r}=re;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=re;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Y(n){re.setTimeout(()=>{const{onUnhandledError:e}=ie;if(!e)throw n;e(n)})}function ne(){}const M=G("C",void 0,void 0);function G(n,e,t){return{kind:n,value:e,error:t}}let O=null;function N(n){if(ie.useDeprecatedSynchronousErrorHandling){const e=!O;if(e&&(O={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=O;if(O=null,t)throw r}}else n()}class f extends J{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,j(e)&&e.add(this)):this.destination=K}static create(e,t,r){return new B(e,t,r)}next(e){this.isStopped?V(function H(n){return G("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?V(function k(n){return G("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?V(M,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I=Function.prototype.bind;function U(n,e){return I.call(n,e)}class S{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){P(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){P(r)}else P(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){P(t)}}}class B extends f{constructor(e,t,r){let i;if(super(),p(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ie.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&U(e.next,s),error:e.error&&U(e.error,s),complete:e.complete&&U(e.complete,s)}):i=e}this.destination=new S(i)}}function P(n){ie.useDeprecatedSynchronousErrorHandling?function g(n){ie.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=n)}(n):Y(n)}function V(n,e){const{onStoppedNotification:t}=ie;t&&re.setTimeout(()=>t(n,e))}const K={closed:!0,next:ne,error:function C(n){throw n},complete:ne},Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function te(n){return n}function ge(n){return 0===n.length?te:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let R=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function T(n){return n&&n instanceof f||function m(n){return n&&p(n.next)&&p(n.error)&&p(n.complete)}(n)&&j(n)}(t)?t:new B(t,r,i);return N(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=w(r))((i,s)=>{const o=new B({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Q](){return this}pipe(...t){return ge(t)(this)}toPromise(t){return new(t=w(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function w(n){var e;return null!==(e=n??ie.Promise)&&void 0!==e?e:Promise}const b=Z(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let d=(()=>{class n extends R{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new y(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new b}next(t){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?z:(this.currentObservers=null,s.push(t),new J(()=>{this.currentObservers=null,pe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new R;return t.source=this,t}}return n.create=(e,t)=>new y(e,t),n})();class y extends d{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:z}}function A(n){return p(n?.lift)}function L(n){return e=>{if(A(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(n,e,t,r,i){return new E(n,e,t,r,i)}class E extends f{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function X(n,e){return L((t,r)=>{let i=0;t.subscribe(x(r,s=>{r.next(n.call(e,s,i++))}))})}function Ie(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Le(n){return this instanceof Le?(this.v=n,this):new Le(n)}function sn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function le(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Tr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Br(n){return p(n?.then)}function Vi(n){return p(n[Q])}function Cn(n){return Symbol.asyncIterator&&p(n?.[Symbol.asyncIterator])}function Ci(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const wo=function vo(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function bo(n){return p(n?.[wo])}function Ui(n){return function ze(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(v){r[v]&&(i[v]=function(D){return new Promise(function($,se){s.push([v,D,$,se])>1||a(v,D)})})}function a(v,D){try{!function l(v){v.value instanceof Le?Promise.resolve(v.value.v).then(c,u):h(s[0][2],v)}(r[v](D))}catch($){h(s[0][3],$)}}function c(v){a("next",v)}function u(v){a("throw",v)}function h(v,D){v(D),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Le(t.read());if(i)return yield Le(void 0);yield yield Le(r)}}finally{t.releaseLock()}})}function lr(n){return p(n?.getReader)}function Vn(n){if(n instanceof R)return n;if(null!=n){if(Vi(n))return function nu(n){return new R(e=>{const t=n[Q]();if(p(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Tr(n))return function oj(n){return new R(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Br(n))return function aj(n){return new R(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Y)})}(n);if(Cn(n))return VI(n);if(bo(n))return function lj(n){return new R(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(lr(n))return function cj(n){return VI(Ui(n))}(n)}throw Ci(n)}function VI(n){return new R(e=>{(function uj(n,e){var t,r,i,s;return function st(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=sn(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ns(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function nr(n,e,t=1/0){return p(e)?nr((r,i)=>X((s,o)=>e(r,s,i,o))(Vn(n(r,i))),t):("number"==typeof e&&(t=e),L((r,i)=>function dj(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,h=!1;const v=()=>{h&&!l.length&&!c&&e.complete()},D=se=>c<r?$(se):l.push(se),$=se=>{s&&e.next(se),c++;let he=!1;Vn(t(se,u++)).subscribe(x(e,Ee=>{i?.(Ee),s?D(Ee):e.next(Ee)},()=>{he=!0},void 0,()=>{if(he)try{for(c--;l.length&&c<r;){const Ee=l.shift();o?Ns(e,o,()=>$(Ee)):$(Ee)}v()}catch(Ee){e.error(Ee)}}))};return n.subscribe(x(e,D,()=>{h=!0,v()})),()=>{a?.()}}(r,i,n,t)))}function ll(n=1/0){return nr(te,n)}const is=new R(n=>n.complete());function UI(n){return n&&p(n.schedule)}function r_(n){return n[n.length-1]}function BI(n){return p(r_(n))?n.pop():void 0}function ru(n){return UI(r_(n))?n.pop():void 0}function jI(n,e=0){return L((t,r)=>{t.subscribe(x(r,i=>Ns(r,n,()=>r.next(i),e),()=>Ns(r,n,()=>r.complete(),e),i=>Ns(r,n,()=>r.error(i),e)))})}function HI(n,e=0){return L((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function GI(n,e){if(!n)throw new Error("Iterable cannot be null");return new R(t=>{Ns(t,e,()=>{const r=n[Symbol.asyncIterator]();Ns(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Pn(n,e){return e?function vj(n,e){if(null!=n){if(Vi(n))return function pj(n,e){return Vn(n).pipe(HI(e),jI(e))}(n,e);if(Tr(n))return function mj(n,e){return new R(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Br(n))return function gj(n,e){return Vn(n).pipe(HI(e),jI(e))}(n,e);if(Cn(n))return GI(n,e);if(bo(n))return function _j(n,e){return new R(t=>{let r;return Ns(t,e,()=>{r=n[wo](),Ns(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>p(r?.return)&&r.return()})}(n,e);if(lr(n))return function yj(n,e){return GI(Ui(n),e)}(n,e)}throw Ci(n)}(n,e):Vn(n)}function i_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new B({next:()=>{r.unsubscribe(),n()}});return Vn(e(...t)).subscribe(r)}function on(n){for(let e in n)if(n[e]===on)return e;throw Error("Could not find renamed property on target object.")}function s_(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function cn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(cn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function o_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Cj=on({__forward_ref__:on});function un(n){return n.__forward_ref__=un,n.toString=function(){return cn(this())},n}function gt(n){return a_(n)?n():n}function a_(n){return"function"==typeof n&&n.hasOwnProperty(Cj)&&n.__forward_ref__===un}function l_(n){return n&&!!n.\u0275providers}const $I="https://g.co/ng/security#xss";class Be extends Error{constructor(e,t){super(Gh(e,t)),this.code=e}}function Gh(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function Et(n){return"string"==typeof n?n:null==n?"":String(n)}function $h(n,e){throw new Be(-201,!1)}function Ei(n,e){null==n&&function Zt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ut(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ci(n){return{providers:n.providers||[],imports:n.imports||[]}}function zh(n){return zI(n,qh)||zI(n,WI)}function zI(n,e){return n.hasOwnProperty(e)?n[e]:null}function qI(n){return n&&(n.hasOwnProperty(c_)||n.hasOwnProperty(Pj))?n[c_]:null}const qh=on({\u0275prov:on}),c_=on({\u0275inj:on}),WI=on({ngInjectableDef:on}),Pj=on({ngInjectorDef:on});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let u_;function Si(n){const e=u_;return u_=n,e}function KI(n,e,t){const r=zh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&mt.Optional?null:void 0!==e?e:void $h(cn(n))}const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),iu={},d_="__NG_DI_FLAG__",Wh="ngTempTokenPath",kj="ngTokenPath",Rj=/\n/gm,Oj="\u0275",QI="__source";let su;function cl(n){const e=su;return su=n,e}function Nj(n,e=mt.Default){if(void 0===su)throw new Be(-203,!1);return null===su?KI(n,void 0,e):su.get(n,e&mt.Optional?null:void 0,e)}function at(n,e=mt.Default){return(function Mj(){return u_}()||Nj)(gt(n),e)}function Ft(n,e=mt.Default){return at(n,Kh(e))}function Kh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function h_(n){const e=[];for(let t=0;t<n.length;t++){const r=gt(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Be(900,!1);let i,s=mt.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Fj(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(at(i,s))}else e.push(at(r))}return e}function ou(n,e){return n[d_]=e,n.prototype[d_]=e,n}function Fj(n){return n[d_]}function Fs(n){return{toString:n}.toString()}var ss=(()=>((ss=ss||{})[ss.OnPush=0]="OnPush",ss[ss.Default=1]="Default",ss))(),os=(()=>{return(n=os||(os={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",os;var n})();const Ls={},Kt=[],Qh=on({\u0275cmp:on}),f_=on({\u0275dir:on}),p_=on({\u0275pipe:on}),YI=on({\u0275mod:on}),Vs=on({\u0275fac:on}),au=on({__NG_ELEMENT_ID__:on});let Uj=0;function En(n){return Fs(()=>{const e=ZI(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ss.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||os.Emulated,id:"c"+Uj++,styles:n.styles||Kt,_:null,schemas:n.schemas||null,tView:null};eT(t);const r=n.dependencies;return t.directiveDefs=Xh(r,!1),t.pipeDefs=Xh(r,!0),t})}function jj(n){return en(n)||Dr(n)}function Hj(n){return null!==n}function Ai(n){return Fs(()=>({type:n.type,bootstrap:n.bootstrap||Kt,declarations:n.declarations||Kt,imports:n.imports||Kt,exports:n.exports||Kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function JI(n,e){if(null==n)return Ls;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function wt(n){return Fs(()=>{const e=ZI(n);return eT(e),e})}function Jr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function en(n){return n[Qh]||null}function Dr(n){return n[f_]||null}function Zr(n){return n[p_]||null}function ui(n,e){const t=n[YI]||null;if(!t&&!0===e)throw new Error(`Type ${cn(n)} does not have '\u0275mod' property.`);return t}function ZI(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Kt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:JI(n.inputs,e),outputs:JI(n.outputs)}}function eT(n){n.features?.forEach(e=>e(n))}function Xh(n,e){if(!n)return null;const t=e?Zr:jj;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Hj)}const Us=0,tt=1,Ot=2,Mn=3,Bi=4,da=5,xr=6,dl=7,Un=8,Yh=9,Jh=10,Lt=11,g_=12,lu=13,tT=14,hl=15,Pr=16,cu=17,fl=18,as=19,uu=20,nT=21,_n=22,m_=1,rT=2,Zh=7,ef=8,pl=9,jr=10;function di(n){return Array.isArray(n)&&"object"==typeof n[m_]}function ji(n){return Array.isArray(n)&&!0===n[m_]}function __(n){return 0!=(4&n.flags)}function du(n){return n.componentOffset>-1}function tf(n){return 1==(1&n.flags)}function Hi(n){return!!n.template}function $j(n){return 0!=(256&n[Ot])}function ha(n,e){return n.hasOwnProperty(Vs)?n[Vs]:null}class Wj{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function hi(){return oT}function oT(n){return n.type.prototype.ngOnChanges&&(n.setInput=Qj),Kj}function Kj(){const n=lT(this),e=n?.current;if(e){const t=n.previous;if(t===Ls)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Qj(n,e,t,r){const i=this.declaredInputs[t],s=lT(n)||function Xj(n,e){return n[aT]=e}(n,{previous:Ls,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Wj(l&&l.currentValue,e,a===Ls),n[r]=e}hi.ngInherit=!0;const aT="__ngSimpleChanges__";function lT(n){return n[aT]||null}const Ii=function(n,e,t){},cT="svg";function yr(n){for(;Array.isArray(n);)n=n[Us];return n}function nf(n,e){return yr(e[n])}function fi(n,e){return yr(e[n.index])}function dT(n,e){return n.data[e]}function ei(n,e){const t=e[n];return di(t)?t:t[Us]}function rf(n){return 64==(64&n[Ot])}function Eo(n,e){return null==e?null:n[e]}function hT(n){n[fl]=0}function v_(n,e){n[da]+=e;let t=n,r=n[Mn];for(;null!==r&&(1===e&&1===t[da]||-1===e&&0===t[da]);)r[da]+=e,t=r,r=r[Mn]}const St={lFrame:CT(null),bindingsEnabled:!0};function pT(){return St.bindingsEnabled}function Re(){return St.lFrame.lView}function Gt(){return St.lFrame.tView}function Tt(n){return St.lFrame.contextLView=n,n[Un]}function Dt(n){return St.lFrame.contextLView=null,n}function vr(){let n=gT();for(;null!==n&&64===n.type;)n=n.parent;return n}function gT(){return St.lFrame.currentTNode}function ls(n,e){const t=St.lFrame;t.currentTNode=n,t.isParent=e}function w_(){return St.lFrame.isParent}function Hr(){const n=St.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ml(){return St.lFrame.bindingIndex++}function c3(n,e){const t=St.lFrame;t.bindingIndex=t.bindingRootIndex=n,C_(e)}function C_(n){St.lFrame.currentDirectiveIndex=n}function vT(){return St.lFrame.currentQueryIndex}function S_(n){St.lFrame.currentQueryIndex=n}function d3(n){const e=n[tt];return 2===e.type?e.declTNode:1===e.type?n[xr]:null}function wT(n,e,t){if(t&mt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&mt.Host||(i=d3(s),null===i||(s=s[hl],10&i.type))););if(null===i)return!1;e=i,n=s}const r=St.lFrame=bT();return r.currentTNode=e,r.lView=n,!0}function A_(n){const e=bT(),t=n[tt];St.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function bT(){const n=St.lFrame,e=null===n?null:n.child;return null===e?CT(n):e}function CT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ET(){const n=St.lFrame;return St.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ST=ET;function I_(){const n=ET();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Gr(){return St.lFrame.selectedIndex}function fa(n){St.lFrame.selectedIndex=n}function In(){const n=St.lFrame;return dT(n.tView,n.selectedIndex)}function sf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function af(n,e,t){IT(n,e,3,t)}function lf(n,e,t,r){(3&n[Ot])===t&&IT(n,e,t,r)}function T_(n,e){let t=n[Ot];(3&t)===e&&(t&=2047,t+=1,n[Ot]=t)}function IT(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[fl]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[fl]+=65536),(a<s||-1==s)&&(v3(n,t,e,l),n[fl]=(4294901760&n[fl])+l+2),l++}function v3(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[Ot]>>11<n[fl]>>16&&(3&n[Ot])===e){n[Ot]+=2048,Ii(4,a,s);try{s.call(a)}finally{Ii(5,a,s)}}}else{Ii(4,a,s);try{s.call(a)}finally{Ii(5,a,s)}}}const _l=-1;class fu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function x_(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];DT(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function TT(n){return 3===n||4===n||6===n}function DT(n){return 64===n.charCodeAt(0)}function pu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||xT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function xT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function PT(n){return n!==_l}function cf(n){return 32767&n}function uf(n,e){let t=function E3(n){return n>>16}(n),r=e;for(;t>0;)r=r[hl],t--;return r}let P_=!0;function df(n){const e=P_;return P_=n,e}const MT=255,kT=5;let S3=0;const cs={};function hf(n,e){const t=RT(n,e);if(-1!==t)return t;const r=e[tt];r.firstCreatePass&&(n.injectorIndex=e.length,M_(r.data,n),M_(e,null),M_(r.blueprint,null));const i=k_(n,e),s=n.injectorIndex;if(PT(i)){const o=cf(i),a=uf(i,e),l=a[tt].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function M_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function RT(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function k_(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=BT(i),null===r)return _l;if(t++,i=i[hl],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return _l}function R_(n,e,t){!function A3(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(au)&&(r=t[au]),null==r&&(r=t[au]=S3++);const i=r&MT;e.data[n+(i>>kT)]|=1<<i}(n,e,t)}function OT(n,e,t){if(t&mt.Optional||void 0!==n)return n;$h()}function NT(n,e,t,r){if(t&mt.Optional&&void 0===r&&(r=null),!(t&(mt.Self|mt.Host))){const i=n[Yh],s=Si(void 0);try{return i?i.get(e,r,t&mt.Optional):KI(e,r,t&mt.Optional)}finally{Si(s)}}return OT(r,0,t)}function FT(n,e,t,r=mt.Default,i){if(null!==n){if(1024&e[Ot]){const o=function P3(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[Ot]&&!(256&o[Ot]);){const a=LT(s,o,t,r|mt.Self,cs);if(a!==cs)return a;let l=s.parent;if(!l){const c=o[nT];if(c){const u=c.get(t,cs,r);if(u!==cs)return u}l=BT(o),o=o[hl]}s=l}return i}(n,e,t,r,cs);if(o!==cs)return o}const s=LT(n,e,t,r,cs);if(s!==cs)return s}return NT(e,t,r,i)}function LT(n,e,t,r,i){const s=function D3(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(au)?n[au]:void 0;return"number"==typeof e?e>=0?e&MT:x3:e}(t);if("function"==typeof s){if(!wT(e,n,r))return r&mt.Host?OT(i,0,r):NT(e,t,r,i);try{const o=s(r);if(null!=o||r&mt.Optional)return o;$h()}finally{ST()}}else if("number"==typeof s){let o=null,a=RT(n,e),l=_l,c=r&mt.Host?e[Pr][xr]:null;for((-1===a||r&mt.SkipSelf)&&(l=-1===a?k_(n,e):e[a+8],l!==_l&&UT(r,!1)?(o=e[tt],a=cf(l),e=uf(l,e)):a=-1);-1!==a;){const u=e[tt];if(VT(s,a,u.data)){const h=T3(a,e,t,o,r,c);if(h!==cs)return h}l=e[a+8],l!==_l&&UT(r,e[tt].data[a+8]===c)&&VT(s,a,e)?(o=u,a=cf(l),e=uf(l,e)):a=-1}}return i}function T3(n,e,t,r,i,s){const o=e[tt],a=o.data[n+8],u=ff(a,o,t,null==r?du(a)&&P_:r!=o&&0!=(3&a.type),i&mt.Host&&s===a);return null!==u?pa(e,o,u,a):cs}function ff(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,v=i?a+u:n.directiveEnd;for(let D=r?a:a+u;D<v;D++){const $=o[D];if(D<l&&t===$||D>=l&&$.type===t)return D}if(i){const D=o[l];if(D&&Hi(D)&&D.type===t)return l}return null}function pa(n,e,t,r){let i=n[t];const s=e.data;if(function w3(n){return n instanceof fu}(i)){const o=i;o.resolving&&function Ej(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Be(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Jt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Et(n)}(s[t]));const a=df(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Si(o.injectImpl):null;wT(n,r,mt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function y3(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=oT(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Si(l),df(a),o.resolving=!1,ST()}}return i}function VT(n,e,t){return!!(t[e+(n>>kT)]&1<<n)}function UT(n,e){return!(n&mt.Self||n&mt.Host&&e)}class yl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return FT(this._tNode,this._lView,e,Kh(r),t)}}function x3(){return new yl(vr(),Re())}function wr(n){return Fs(()=>{const e=n.prototype.constructor,t=e[Vs]||O_(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Vs]||O_(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function O_(n){return a_(n)?()=>{const e=O_(gt(n));return e&&e()}:ha(n)}function BT(n){const e=n[tt],t=e.type;return 2===t?e.declTNode:1===t?n[xr]:null}const wl="__parameters__";function Cl(n,e,t){return Fs(()=>{const r=function N_(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(wl)?l[wl]:Object.defineProperty(l,wl,{value:[]})[wl];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ot{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ut({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ga(n,e){n.forEach(t=>Array.isArray(t)?ga(t,e):e(t))}function HT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function gf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function pi(n,e,t){let r=El(n,e);return r>=0?n[1|r]=t:(r=~r,function O3(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function L_(n,e){const t=El(n,e);if(t>=0)return n[1|t]}function El(n,e){return function GT(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const yu=ou(Cl("Optional"),8),vu=ou(Cl("SkipSelf"),4);var ti=(()=>((ti=ti||{})[ti.Important=1]="Important",ti[ti.DashCase=2]="DashCase",ti))();const G_=new Map;let n4=0;const z_="__ngContext__";function Mr(n,e){di(e)?(n[z_]=e[uu],function i4(n){G_.set(n[uu],n)}(e)):n[z_]=e}let q_;function W_(n,e){return q_(n,e)}function Eu(n){const e=n[Mn];return ji(e)?e[Mn]:e}function K_(n){return cD(n[lu])}function Q_(n){return cD(n[Bi])}function cD(n){for(;null!==n&&!ji(n);)n=n[Bi];return n}function Al(n,e,t,r,i){if(null!=r){let s,o=!1;ji(r)?s=r:di(r)&&(o=!0,r=r[Us]);const a=yr(r);0===n&&null!==t?null==i?gD(e,t,a):ma(e,t,a,i||null,!0):1===n&&null!==t?ma(e,t,a,i||null,!0):2===n?function ny(n,e,t){const r=vf(n,e);r&&function S4(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function T4(n,e,t,r,i){const s=t[Zh];s!==yr(t)&&Al(e,n,r,s,i);for(let a=jr;a<t.length;a++){const l=t[a];Su(l[tt],l,n,e,r,s)}}(e,n,s,t,i)}}function Y_(n,e,t){return n.createElement(e,t)}function dD(n,e){const t=n[pl],r=t.indexOf(e),i=e[Mn];512&e[Ot]&&(e[Ot]&=-513,v_(i,-1)),t.splice(r,1)}function J_(n,e){if(n.length<=jr)return;const t=jr+e,r=n[t];if(r){const i=r[cu];null!==i&&i!==n&&dD(i,r),e>0&&(n[t-1][Bi]=r[Bi]);const s=gf(n,jr+e);!function m4(n,e){Su(n,e,e[Lt],2,null,null),e[Us]=null,e[xr]=null}(r[tt],r);const o=s[as];null!==o&&o.detachView(s[tt]),r[Mn]=null,r[Bi]=null,r[Ot]&=-65}return r}function hD(n,e){if(!(128&e[Ot])){const t=e[Lt];t.destroyNode&&Su(n,e,t,3,null,null),function v4(n){let e=n[lu];if(!e)return Z_(n[tt],n);for(;e;){let t=null;if(di(e))t=e[lu];else{const r=e[jr];r&&(t=r)}if(!t){for(;e&&!e[Bi]&&e!==n;)di(e)&&Z_(e[tt],e),e=e[Mn];null===e&&(e=n),di(e)&&Z_(e[tt],e),t=e&&e[Bi]}e=t}}(e)}}function Z_(n,e){if(!(128&e[Ot])){e[Ot]&=-65,e[Ot]|=128,function E4(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof fu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Ii(4,a,l);try{l.call(a)}finally{Ii(5,a,l)}}else{Ii(4,i,s);try{s.call(i)}finally{Ii(5,i,s)}}}}}(n,e),function C4(n,e){const t=n.cleanup,r=e[dl];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[dl]=null}}(n,e),1===e[tt].type&&e[Lt].destroy();const t=e[cu];if(null!==t&&ji(e[Mn])){t!==e[Mn]&&dD(t,e);const r=e[as];null!==r&&r.detachView(n)}!function s4(n){G_.delete(n[uu])}(e)}}function fD(n,e,t){return function pD(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Us];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===os.None||s===os.Emulated)return null}return fi(r,t)}}(n,e.parent,t)}function ma(n,e,t,r,i){n.insertBefore(e,t,r,i)}function gD(n,e,t){n.appendChild(e,t)}function mD(n,e,t,r,i){null!==r?ma(n,e,t,r,i):gD(n,e,t)}function vf(n,e){return n.parentNode(e)}let ey,Cf,sy,Ef,vD=function yD(n,e,t){return 40&n.type?fi(n,t):null};function wf(n,e,t,r){const i=fD(n,r,e),s=e[Lt],a=function _D(n,e,t){return vD(n,e,t)}(r.parent||e[xr],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)mD(s,i,t[l],a,!1);else mD(s,i,t,a,!1);void 0!==ey&&ey(s,r,e,t,i)}function bf(n,e){if(null!==e){const t=e.type;if(3&t)return fi(e,n);if(4&t)return ty(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return bf(n,r);{const i=n[e.index];return ji(i)?ty(-1,i):yr(i)}}if(32&t)return W_(e,n)()||yr(n[e.index]);{const r=bD(n,e);return null!==r?Array.isArray(r)?r[0]:bf(Eu(n[Pr]),r):bf(n,e.next)}}return null}function bD(n,e){return null!==e?n[Pr][xr].projection[e.projection]:null}function ty(n,e){const t=jr+n+1;if(t<e.length){const r=e[t],i=r[tt].firstChild;if(null!==i)return bf(r,i)}return e[Zh]}function ry(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Mr(yr(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)ry(n,e,t.child,r,i,s,!1),Al(e,n,i,a,s);else if(32&l){const c=W_(t,r);let u;for(;u=c();)Al(e,n,i,u,s);Al(e,n,i,a,s)}else 16&l?CD(n,e,r,t,i,s):Al(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Su(n,e,t,r,i,s){ry(t,r,n.firstChild,e,i,s,!1)}function CD(n,e,t,r,i,s){const o=t[Pr],l=o[xr].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Al(e,n,i,l[c],s);else ry(n,e,l,o[Mn],i,s,!0)}function ED(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function SD(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&x_(n,e,r),null!==i&&ED(n,e,i),null!==s&&function x4(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Il(n){return function iy(){if(void 0===Cf&&(Cf=null,mn.trustedTypes))try{Cf=mn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cf}()?.createHTML(n)||n}function oy(){if(void 0===Ef&&(Ef=null,mn.trustedTypes))try{Ef=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ef}function ID(n){return oy()?.createHTML(n)||n}function DD(n){return oy()?.createScriptURL(n)||n}class xD{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$I})`}}function So(n){return n instanceof xD?n.changingThisBreaksApplicationSecurity:n}function Au(n,e){const t=function U4(n){return n instanceof xD&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${$I})`)}return t===e}class B4{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Il(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class j4{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Il(e),t}}const G4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ay(n){return(n=String(n)).match(G4)?n:"unsafe:"+n}function Hs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Iu(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const MD=Hs("area,br,col,hr,img,wbr"),kD=Hs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),RD=Hs("rp,rt"),ly=Iu(MD,Iu(kD,Hs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Iu(RD,Hs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Iu(RD,kD)),cy=Hs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),OD=Iu(cy,Hs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$4=Hs("script,style,template");class z4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ly.hasOwnProperty(t))return this.sanitizedSomething=!0,!$4.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!OD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;cy[a]&&(l=ay(l)),this.buf.push(" ",o,'="',ND(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ly.hasOwnProperty(t)&&!MD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ND(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const q4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,W4=/([^\#-~ |!])/g;function ND(n){return n.replace(/&/g,"&amp;").replace(q4,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(W4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sf;function uy(n){return"content"in n&&function Q4(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function FD(n){const e=Tu();return e?ID(e.sanitize(Kn.HTML,n)||""):Au(n,"HTML")?ID(So(n)):function K4(n,e){let t=null;try{Sf=Sf||function PD(n){const e=new j4(n);return function H4(){try{return!!(new window.DOMParser).parseFromString(Il(""),"text/html")}catch{return!1}}()?new B4(e):e}(n);let r=e?String(e):"";t=Sf.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Sf.getInertBodyElement(r)}while(r!==s);return Il((new z4).sanitizeChildren(uy(t)||t))}finally{if(t){const r=uy(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(function AD(){return void 0!==sy?sy:typeof document<"u"?document:void 0}(),Et(n))}function dy(n){const e=Tu();return e?e.sanitize(Kn.URL,n)||"":Au(n,"URL")?So(n):ay(Et(n))}function LD(n){const e=Tu();if(e)return DD(e.sanitize(Kn.RESOURCE_URL,n)||"");if(Au(n,"ResourceURL"))return DD(So(n));throw new Be(904,!1)}function Tu(){const n=Re();return n&&n[g_]}const Af=new ot("ENVIRONMENT_INITIALIZER"),UD=new ot("INJECTOR",-1),BD=new ot("INJECTOR_DEF_TYPES");class jD{get(e,t=iu){if(t===iu){const r=new Error(`NullInjectorError: No provider for ${cn(e)}!`);throw r.name="NullInjectorError",r}return t}}function nH(...n){return{\u0275providers:HD(0,n),\u0275fromNgModule:!0}}function HD(n,...e){const t=[],r=new Set;let i;return ga(e,s=>{const o=s;hy(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&GD(i,t),t}function GD(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];fy(i,s=>{e.push(s)})}}function hy(n,e,t,r){if(!(n=gt(n)))return!1;let i=null,s=qI(n);const o=!s&&en(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=qI(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)hy(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ga(s.imports,u=>{hy(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&GD(c,e)}if(!a){const c=ha(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Kt},{provide:BD,useValue:i,multi:!0},{provide:Af,useValue:()=>at(i),multi:!0})}const l=s.providers;null==l||a||fy(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function fy(n,e){for(let t of n)l_(t)&&(t=t.\u0275providers),Array.isArray(t)?fy(t,e):e(t)}const rH=on({provide:String,useValue:on});function py(n){return null!==n&&"object"==typeof n&&rH in n}function _a(n){return"function"==typeof n}const gy=new ot("Set Injector scope."),If={},sH={};let my;function Tf(){return void 0===my&&(my=new jD),my}class us{}class qD extends us{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yy(e,o=>this.processProvider(o)),this.records.set(UD,Tl(void 0,this)),i.has("environment")&&this.records.set(us,Tl(void 0,this));const s=this.records.get(gy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(BD.multi,Kt,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=cl(this),r=Si(void 0);try{return e()}finally{cl(t),Si(r)}}get(e,t=iu,r=mt.Default){this.assertNotDestroyed(),r=Kh(r);const i=cl(this),s=Si(void 0);try{if(!(r&mt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function uH(n){return"function"==typeof n||"object"==typeof n&&n instanceof ot}(e)&&zh(e);a=l&&this.injectableDefInScope(l)?Tl(_y(e),If):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&mt.Self?Tf():this.parent).get(e,t=r&mt.Optional&&t===iu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Wh]=o[Wh]||[]).unshift(cn(e)),i)throw o;return function Lj(n,e,t,r){const i=n[Wh];throw e[QI]&&i.unshift(e[QI]),n.message=function Vj(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Oj?n.slice(2):n;let i=cn(e);if(Array.isArray(e))i=e.map(cn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):cn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Rj,"\n  ")}`}("\n"+n.message,i,t,r),n[kj]=i,n[Wh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Si(s),cl(i)}}resolveInjectorInitializers(){const e=cl(this),t=Si(void 0);try{const r=this.get(Af.multi,Kt,mt.Self);for(const i of r)i()}finally{cl(e),Si(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(cn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(e){let t=_a(e=gt(e))?e:gt(e&&e.provide);const r=function aH(n){return py(n)?Tl(void 0,n.useValue):Tl(WD(n),If)}(e);if(_a(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Tl(void 0,If,!0),i.factory=()=>h_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===If&&(t.value=sH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function cH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=gt(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function _y(n){const e=zh(n),t=null!==e?e.factory:ha(n);if(null!==t)return t;if(n instanceof ot)throw new Be(204,!1);if(n instanceof Function)return function oH(n){const e=n.length;if(e>0)throw function _u(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new Be(204,!1);const t=function xj(n){return n&&(n[qh]||n[WI])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Be(204,!1)}function WD(n,e,t){let r;if(_a(n)){const i=gt(n);return ha(i)||_y(i)}if(py(n))r=()=>gt(n.useValue);else if(function zD(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...h_(n.deps||[]));else if(function $D(n){return!(!n||!n.useExisting)}(n))r=()=>at(gt(n.useExisting));else{const i=gt(n&&(n.useClass||n.provide));if(!function lH(n){return!!n.deps}(n))return ha(i)||_y(i);r=()=>new i(...h_(n.deps))}return r}function Tl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function yy(n,e){for(const t of n)Array.isArray(t)?yy(t,e):t&&l_(t)?yy(t.\u0275providers,e):e(t)}class dH{}class KD{}class fH{resolveComponentFactory(e){throw function hH(n){const e=Error(`No component factory found for ${cn(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Du=(()=>{class n{}return n.NULL=new fH,n})();function pH(){return Dl(vr(),Re())}function Dl(n,e){return new ri(fi(n,e))}let ri=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=pH,n})();function gH(n){return n instanceof ri?n.nativeElement:n}class XD{}let Gs=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mH(){const n=Re(),t=ei(vr().index,n);return(di(t)?t:n)[Lt]}(),n})(),_H=(()=>{class n{}return n.\u0275prov=ut({token:n,providedIn:"root",factory:()=>null}),n})();class xu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yH=new xu("15.2.9"),vy={},wy="ngOriginalError";function by(n){return n[wy]}class xl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&by(e);for(;t&&by(t);)t=by(t);return t||null}}function $s(n){return n instanceof Function?n():n}function JD(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const ZD="ng-template";function xH(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==JD(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ex(n){return 4===n.type&&n.value!==ZD}function PH(n,e,t){return e===(4!==n.type||t?n.value:ZD)}function MH(n,e,t){let r=4;const i=n.attrs||[],s=function OH(n){for(let e=0;e<n.length;e++)if(TT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!PH(n,l,t)||""===l&&1===e.length){if(Gi(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!xH(n.attrs,c,t)){if(Gi(r))return!1;o=!0}continue}const h=kH(8&r?"class":l,i,ex(n),t);if(-1===h){if(Gi(r))return!1;o=!0;continue}if(""!==c){let v;v=h>s?"":i[h+1].toLowerCase();const D=8&r?v:null;if(D&&-1!==JD(D,c,0)||2&r&&c!==v){if(Gi(r))return!1;o=!0}}}}else{if(!o&&!Gi(r)&&!Gi(l))return!1;if(o&&Gi(l))continue;o=!1,r=l|1&r}}return Gi(r)||o}function Gi(n){return 0==(1&n)}function kH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function NH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function tx(n,e,t=!1){for(let r=0;r<e.length;r++)if(MH(n,e[r],t))return!0;return!1}function nx(n,e){return n?":not("+e.trim()+")":e}function LH(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Gi(o)&&(e+=nx(s,i),i=""),r=o,s=s||!Gi(r);t++}return""!==i&&(e+=nx(s,i)),e}const At={};function He(n){rx(Gt(),Re(),Gr()+n,!1)}function rx(n,e,t,r){if(!r)if(3==(3&e[Ot])){const s=n.preOrderCheckHooks;null!==s&&af(e,s,t)}else{const s=n.preOrderHooks;null!==s&&lf(e,s,0,t)}fa(t)}function ax(n,e=null,t=null,r){const i=lx(n,e,t,r);return i.resolveInjectorInitializers(),i}function lx(n,e=null,t=null,r,i=new Set){const s=[t||Kt,nH(n)];return r=r||("object"==typeof n?void 0:cn(n)),new qD(s,e||Tf(),r||null,i)}let ds=(()=>{class n{static create(t,r){if(Array.isArray(t))return ax({name:""},r,t,"");{const i=t.name??"";return ax({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=iu,n.NULL=new jD,n.\u0275prov=ut({token:n,providedIn:"any",factory:()=>at(UD)}),n.__NG_ELEMENT_ID__=-1,n})();function xe(n,e=mt.Default){const t=Re();return null===t?at(n,e):FT(vr(),t,gt(n),e)}function mx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];S_(t[r]),o.contentQueries(2,e[s],s)}}}function xf(n,e,t,r,i,s,o,a,l,c,u){const h=e.blueprint.slice();return h[Us]=i,h[Ot]=76|r,(null!==u||n&&1024&n[Ot])&&(h[Ot]|=1024),hT(h),h[Mn]=h[hl]=n,h[Un]=t,h[Jh]=o||n&&n[Jh],h[Lt]=a||n&&n[Lt],h[g_]=l||n&&n[g_]||null,h[Yh]=c||n&&n[Yh]||null,h[xr]=s,h[uu]=function r4(){return n4++}(),h[nT]=u,h[Pr]=2==e.type?n[Pr]:h,h}function kl(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Iy(n,e,t,r,i){const s=gT(),o=w_(),l=n.data[e]=function cG(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function l3(){return St.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function hu(){const n=St.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ls(s,!0),s}function Pu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ty(n,e,t){A_(e);try{const r=n.viewQuery;null!==r&&Fy(1,r,t);const i=n.template;null!==i&&_x(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&mx(n,e),n.staticViewQueries&&Fy(2,n.viewQuery,t);const s=n.components;null!==s&&function oG(n,e){for(let t=0;t<e.length;t++)xG(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ot]&=-5,I_()}}function Pf(n,e,t,r){const i=e[Ot];if(128!=(128&i)){A_(e);try{hT(e),function _T(n){return St.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&_x(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&af(e,c,null)}else{const c=n.preOrderHooks;null!==c&&lf(e,c,0,null),T_(e,0)}if(function TG(n){for(let e=K_(n);null!==e;e=Q_(e)){if(!e[rT])continue;const t=e[pl];for(let r=0;r<t.length;r++){const i=t[r];512&i[Ot]||v_(i[Mn],1),i[Ot]|=512}}}(e),function IG(n){for(let e=K_(n);null!==e;e=Q_(e))for(let t=jr;t<e.length;t++){const r=e[t],i=r[tt];rf(r)&&Pf(i,r,i.template,r[Un])}}(e),null!==n.contentQueries&&mx(n,e),o){const c=n.contentCheckHooks;null!==c&&af(e,c)}else{const c=n.contentHooks;null!==c&&lf(e,c,1),T_(e,1)}!function iG(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)fa(~i);else{const s=i,o=t[++r],a=t[++r];c3(o,s),a(2,e[s])}}}finally{fa(-1)}}(n,e);const a=n.components;null!==a&&function sG(n,e){for(let t=0;t<e.length;t++)DG(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Fy(2,l,r),o){const c=n.viewCheckHooks;null!==c&&af(e,c)}else{const c=n.viewHooks;null!==c&&lf(e,c,2),T_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ot]&=-41,512&e[Ot]&&(e[Ot]&=-513,v_(e[Mn],-1))}finally{I_()}}}function _x(n,e,t,r,i){const s=Gr(),o=2&r;try{fa(-1),o&&e.length>_n&&rx(n,e,_n,!1),Ii(o?2:0,i),t(r,i)}finally{fa(s),Ii(o?3:1,i)}}function Dy(n,e,t){if(__(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function xy(n,e,t){pT()&&(function mG(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;du(t)&&function EG(n,e,t){const r=fi(e,n),i=yx(t),s=n[Jh],o=Mf(n,xf(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||hf(t,e),Mr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=pa(e,n,a,t);Mr(c,e),null!==o&&SG(0,a-i,c,l,0,o),Hi(l)&&(ei(t.index,e)[Un]=pa(e,n,a,t))}}(n,e,t,fi(t,e)),64==(64&t.flags)&&Ex(n,e,t))}function Py(n,e,t=fi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function yx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=My(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function My(n,e,t,r,i,s,o,a,l,c){const u=_n+r,h=u+i,v=function aG(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:At);return t}(u,h),D="function"==typeof c?c():c;return v[tt]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:D,incompleteFirstPass:!1}}function vx(n,e,t,r){const i=Ax(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Ix(n).push(r,i.length-1))}function wx(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?bx(t,e,i,s):r.hasOwnProperty(i)&&bx(t,e,r[i],s)}return t}function bx(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function gi(n,e,t,r,i,s,o,a){const l=fi(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Ly(n,t,u,r,i),du(e)&&function hG(n,e){const t=ei(e,n);16&t[Ot]||(t[Ot]|=32)}(t,e.index)):3&e.type&&(r=function dG(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function ky(n,e,t,r){if(pT()){const i=null===r?null:{"":-1},s=function yG(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(tx(e,o.selectors,!1))if(r||(r=[]),Hi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ry(n,e,a.length)}else r.unshift(o),Ry(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Cx(n,e,t,o,i,a),i&&function vG(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Be(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=pu(t.mergedAttrs,t.attrs)}function Cx(n,e,t,r,i,s){for(let c=0;c<r.length;c++)R_(hf(t,e),n,r[c].type);!function bG(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Pu(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=pu(t.mergedAttrs,u.hostAttrs),CG(n,t,e,l,u),wG(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function uG(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const h=s[u],v=t?t.get(h):null,$=v?v.outputs:null;l=wx(h.inputs,u,l,v?v.inputs:null),c=wx(h.outputs,u,c,$);const se=null===l||null===o||ex(e)?null:AG(l,u,o);a.push(se)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function Ex(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function u3(){return St.lFrame.currentDirectiveIndex}();try{fa(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];C_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&_G(l,c)}}finally{fa(-1),C_(o)}}function _G(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Ry(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function wG(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Hi(e)&&(t[""]=n)}}function CG(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ha(i.type)),o=new fu(s,Hi(i),xe);n.blueprint[r]=o,t[r]=o,function pG(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function gG(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Pu(n,t,i.hostVars,At),i)}function hs(n,e,t,r,i,s){const o=fi(n,e);!function Oy(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Et(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Lt],o,s,n.value,t,r,i)}function SG(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],h=o[l++];null!==a?r.setInput(t,h,c,u):t[u]=h}}}function AG(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Sx(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function DG(n,e){const t=ei(e,n);if(rf(t)){const r=t[tt];48&t[Ot]?Pf(r,t,r.template,t[Un]):t[da]>0&&Ny(t)}}function Ny(n){for(let r=K_(n);null!==r;r=Q_(r))for(let i=jr;i<r.length;i++){const s=r[i];if(rf(s))if(512&s[Ot]){const o=s[tt];Pf(o,s,o.template,s[Un])}else s[da]>0&&Ny(s)}const t=n[tt].components;if(null!==t)for(let r=0;r<t.length;r++){const i=ei(t[r],n);rf(i)&&i[da]>0&&Ny(i)}}function xG(n,e){const t=ei(e,n),r=t[tt];(function PG(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Ty(r,t,t[Un])}function Mf(n,e){return n[lu]?n[tT][Bi]=e:n[lu]=e,n[tT]=e,e}function kf(n){for(;n;){n[Ot]|=32;const e=Eu(n);if($j(n)&&!e)return n;n=e}return null}function Rf(n,e,t,r=!0){const i=e[Jh];i.begin&&i.begin();try{Pf(n,e,n.template,t)}catch(o){throw r&&Dx(e,o),o}finally{i.end&&i.end()}}function Fy(n,e,t){S_(0),e(n,t)}function Ax(n){return n[dl]||(n[dl]=[])}function Ix(n){return n.cleanup||(n.cleanup=[])}function Dx(n,e){const t=n[Yh],r=t?t.get(xl,null):null;r&&r.handleError(e)}function Ly(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Of(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=o_(i,a):2==s&&(r=o_(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Nf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(yr(s)),ji(s))for(let a=jr;a<s.length;a++){const l=s[a],c=l[tt].firstChild;null!==c&&Nf(l[tt],l,c,r)}const o=t.type;if(8&o)Nf(n,e,t.child,r);else if(32&o){const a=W_(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=bD(e,t);if(Array.isArray(a))r.push(...a);else{const l=Eu(e[Pr]);Nf(l[tt],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Mu{get rootNodes(){const e=this._lView,t=e[tt];return Nf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Un]}set context(e){this._lView[Un]=e}get destroyed(){return 128==(128&this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Mn];if(ji(e)){const t=e[ef],r=t?t.indexOf(this):-1;r>-1&&(J_(e,r),gf(t,r))}this._attachedToViewContainer=!1}hD(this._lView[tt],this._lView)}onDestroy(e){vx(this._lView[tt],this._lView,null,e)}markForCheck(){kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-65}reattach(){this._lView[Ot]|=64}detectChanges(){Rf(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function y4(n,e){Su(n,e,e[Lt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=e}}class MG extends Mu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Rf(e[tt],e,e[Un],!1)}checkNoChanges(){}get context(){return null}}class xx extends Du{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=en(e);return new ku(t,this.ngModule)}}function Px(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class RG{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Kh(r);const i=this.injector.get(e,vy,r);return i!==vy||t===vy?i:this.parentInjector.get(e,t,r)}}class ku extends KD{get inputs(){return Px(this.componentDef.inputs)}get outputs(){return Px(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function VH(n){return n.map(LH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof us?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new RG(e,s):e,a=o.get(XD,null);if(null===a)throw new Be(407,!1);const l=o.get(_H,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=r?function lG(n,e,t){return n.selectRootElement(e,t===os.ShadowDom)}(c,r,this.componentDef.encapsulation):Y_(c,u,function kG(n){const e=n.toLowerCase();return"svg"===e?cT:"math"===e?"math":null}(u)),v=this.componentDef.onPush?288:272,D=My(0,null,null,1,0,null,null,null,null,null),$=xf(null,D,null,v,null,null,a,c,l,o,null);let se,he;A_($);try{const Ee=this.componentDef;let Pe,we=null;Ee.findHostDirectiveDefs?(Pe=[],we=new Map,Ee.findHostDirectiveDefs(Ee,Pe,we),Pe.push(Ee)):Pe=[Ee];const We=function NG(n,e){const t=n[tt],r=_n;return n[r]=e,kl(t,r,2,"#host",null)}($,h),dt=function FG(n,e,t,r,i,s,o,a){const l=i[tt];!function LG(n,e,t,r){for(const i of n)e.mergedAttrs=pu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Of(e,e.mergedAttrs,!0),null!==t&&SD(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),u=xf(i,yx(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&Ry(l,n,r.length-1),Mf(i,u),i[n.index]=u}(We,h,Ee,Pe,$,a,c);he=dT(D,_n),h&&function UG(n,e,t,r){if(r)x_(n,t,["ng-version",yH.full]);else{const{attrs:i,classes:s}=function UH(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Gi(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&x_(n,t,i),s&&s.length>0&&ED(n,t,s.join(" "))}}(c,Ee,h,r),void 0!==t&&function BG(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(he,this.ngContentSelectors,t),se=function VG(n,e,t,r,i,s){const o=vr(),a=i[tt],l=fi(o,i);Cx(a,i,o,t,null,r);for(let u=0;u<t.length;u++)Mr(pa(i,a,o.directiveStart+u,o),i);Ex(a,i,o),l&&Mr(l,i);const c=pa(i,a,o.directiveStart+o.componentOffset,o);if(n[Un]=i[Un]=c,null!==s)for(const u of s)u(c,e);return Dy(a,o,n),c}(dt,Ee,Pe,we,$,[jG]),Ty(D,$,null)}finally{I_()}return new OG(this.componentType,se,Dl(he,$),$,he)}}class OG extends dH{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new MG(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Ly(s[tt],s,i,e,t),kf(ei(this._tNode.index,s))}}get injector(){return new yl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function jG(){const n=vr();sf(Re()[tt],n)}function tn(n){let e=function Mx(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Hi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Be(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Vy(n.inputs),o.declaredInputs=Vy(n.declaredInputs),o.outputs=Vy(n.outputs);const a=i.hostBindings;a&&zG(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&GG(n,l),c&&$G(n,c),s_(n.inputs,i.inputs),s_(n.declaredInputs,i.declaredInputs),s_(n.outputs,i.outputs),Hi(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===tn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function HG(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=pu(i.hostAttrs,t=pu(t,i.hostAttrs))}}(r)}function Vy(n){return n===Ls?{}:n===Kt?[]:n}function GG(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function $G(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function zG(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Ff(n){return!!Uy(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Uy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function kr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ps(n,e,t,r){const i=Re();return kr(i,ml(),e)&&(Gt(),hs(In(),i,n,e,t,r)),ps}function Ol(n,e,t,r){return kr(n,ml(),t)?e+Et(t)+r:At}function vt(n,e,t,r,i,s,o,a){const l=Re(),c=Gt(),u=n+_n,h=c.firstCreatePass?function t$(n,e,t,r,i,s,o,a,l){const c=e.consts,u=kl(e,n,4,o||null,Eo(c,a));ky(e,t,u,Eo(c,l)),sf(e,u);const h=u.tView=My(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];ls(h,!1);const v=l[Lt].createComment("");wf(c,l,v,h),Mr(v,l),Mf(l,l[u]=Sx(v,l,v,h)),tf(h)&&xy(c,l,h),null!=o&&Py(l,h,a)}function Ye(n,e,t){const r=Re();return kr(r,ml(),e)&&gi(Gt(),In(),r,n,e,r[Lt],t,!1),Ye}function By(n,e,t,r,i){const o=i?"class":"style";Ly(n,t,e.inputs[o],o,r)}function ye(n,e,t,r){const i=Re(),s=Gt(),o=_n+n,a=i[Lt],l=s.firstCreatePass?function i$(n,e,t,r,i,s){const o=e.consts,l=kl(e,n,2,r,Eo(o,i));return ky(e,t,l,Eo(o,s)),null!==l.attrs&&Of(l,l.attrs,!1),null!==l.mergedAttrs&&Of(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=i[o]=Y_(a,e,function _3(){return St.lFrame.currentNamespace}()),u=tf(l);return ls(l,!0),SD(a,c,l),32!=(32&l.flags)&&wf(s,i,c,l),0===function n3(){return St.lFrame.elementDepthCount}()&&Mr(c,i),function r3(){St.lFrame.elementDepthCount++}(),u&&(xy(s,i,l),Dy(s,l,i)),null!==r&&Py(i,l),ye}function Se(){let n=vr();w_()?function b_(){St.lFrame.isParent=!1}():(n=n.parent,ls(n,!1));const e=n;!function i3(){St.lFrame.elementDepthCount--}();const t=Gt();return t.firstCreatePass&&(sf(t,n),__(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function b3(n){return 0!=(8&n.flags)}(e)&&By(t,e,Re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function C3(n){return 0!=(16&n.flags)}(e)&&By(t,e,Re(),e.stylesWithoutHost,!1),Se}function kn(n,e,t,r){return ye(n,e,t,r),Se(),kn}function dn(){return Re()}function Ou(n){return!!n&&"function"==typeof n.then}function zx(n){return!!n&&"function"==typeof n.subscribe}const Gy=zx;function it(n,e,t,r){const i=Re(),s=Gt(),o=vr();return function Wx(n,e,t,r,i,s,o){const a=tf(r),c=n.firstCreatePass&&Ix(n),u=e[Un],h=Ax(e);let v=!0;if(3&r.type||o){const se=fi(r,e),he=o?o(se):se,Ee=h.length,Pe=o?We=>o(yr(We[r.index])):r.index;let we=null;if(!o&&a&&(we=function o$(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[dl],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==we)(we.__ngLastListenerFn__||we).__ngNextListenerFn__=s,we.__ngLastListenerFn__=s,v=!1;else{s=Qx(r,e,u,s,!1);const We=t.listen(he,i,s);h.push(s,We),c&&c.push(i,Pe,Ee,Ee+1)}}else s=Qx(r,e,u,s,!1);const D=r.outputs;let $;if(v&&null!==D&&($=D[i])){const se=$.length;if(se)for(let he=0;he<se;he+=2){const dt=e[$[he]][$[he+1]].subscribe(s),pt=h.length;h.push(s,dt),c&&c.push(i,r.index,pt,-(pt+1))}}}(s,i,i[Lt],o,n,e,r),it}function Kx(n,e,t,r){try{return Ii(6,e,t),!1!==t(r)}catch(i){return Dx(n,i),!1}finally{Ii(7,e,t)}}function Qx(n,e,t,r,i){return function s(o){if(o===Function)return r;kf(n.componentOffset>-1?ei(n.index,e):e);let l=Kx(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=Kx(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Je(n=1){return function h3(n){return(St.lFrame.contextLView=function f3(n,e){for(;n>0;)e=e[hl],n--;return e}(n,St.lFrame.contextLView))[Un]}(n)}function $y(n,e,t){return zy(n,"",e,"",t),$y}function zy(n,e,t,r,i){const s=Re(),o=Ol(s,e,t,r);return o!==At&&gi(Gt(),In(),s,n,o,s[Lt],i,!1),zy}function Vf(n,e){return n<<17|e<<2}function Ao(n){return n>>17&32767}function qy(n){return 2|n}function va(n){return(131068&n)>>2}function Wy(n,e){return-131069&n|e<<2}function Ky(n){return 1|n}function i1(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Ao(s):va(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];g$(n[a],e)&&(l=!0,n[a+1]=r?Ky(u):qy(u)),a=r?Ao(u):va(u)}l&&(n[t+1]=r?qy(s):Ky(s))}function g$(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&El(n,e)>=0}function Uf(n,e){return function $i(n,e,t,r){const i=Re(),s=Gt(),o=function js(n){const e=St.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function f1(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Gr()],o=function h1(n,e){return e>=n.expandoStartIndex}(n,t);(function _1(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function S$(n,e,t,r){const i=function E_(n){const e=St.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Nu(t=Qy(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Qy(i,n,e,t,r),null===s){let l=function A$(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==va(r))return n[Ao(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Qy(null,n,e,l[1],r),l=Nu(l,e.attrs,r),function I$(n,e,t,r){n[Ao(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function T$(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Nu(r,n[s].hostAttrs,t);return Nu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function f$(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ao(o),l=va(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||El(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const v=Ao(n[a+1]);n[r+1]=Vf(v,a),0!==v&&(n[v+1]=Wy(n[v+1],r)),n[a+1]=function d$(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Vf(a,0),0!==a&&(n[a+1]=Wy(n[a+1],r)),a=r;else n[r+1]=Vf(l,0),0===a?a=r:n[l+1]=Wy(n[l+1],r),l=r;c&&(n[r+1]=qy(n[r+1])),i1(n,u,r,!0),i1(n,u,r,!1),function p$(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&El(s,e)>=0&&(t[r+1]=Ky(t[r+1]))}(e,u,n,r,s),o=Vf(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==At&&kr(i,o,e)&&function g1(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function h$(n){return 1==(1&n)}(c)?m1(l,e,t,i,va(c),o):void 0;Bf(u)||(Bf(s)||function u$(n){return 2==(2&n)}(c)&&(s=m1(l,null,t,i,a,o)),function D4(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:ti.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ti.Important),n.setStyle(t,r,i,s))}}(r,o,nf(Gr(),t),i,s))}(s,s.data[Gr()],i,i[Lt],n,i[o+1]=function M$(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=cn(So(n)))),n}(e,t),r,o)}(n,e,null,!0),Uf}function Qy(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Nu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Nu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),pi(n,o,!!t||e[++s]))}return void 0===n?null:n}function m1(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let v=t[i+1];v===At&&(v=h?Kt:void 0);let D=h?L_(v,r):u===r?v:void 0;if(c&&!Bf(D)&&(D=L_(l,r)),Bf(D)&&(a=D,o))return a;const $=n[i+1];i=o?Ao($):va($)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=L_(l,r))}return a}function Bf(n){return void 0!==n}function ke(n,e=""){const t=Re(),r=Gt(),i=n+_n,s=r.firstCreatePass?kl(r,i,1,e,null):r.data[i],o=t[i]=function X_(n,e){return n.createText(e)}(t[Lt],e);wf(r,t,o,s),ls(s,!1)}function Qn(n){return _s("",n,""),Qn}function _s(n,e,t){const r=Re(),i=Ol(r,n,e,t);return i!==At&&function zs(n,e,t){const r=nf(e,n);!function uD(n,e,t){n.setValue(e,t)}(n[Lt],r,t)}(r,Gr(),i),_s}const $l="en-US";let U1=$l;function Jy(n,e,t,r,i){if(n=gt(n),Array.isArray(n))for(let s=0;s<n.length;s++)Jy(n[s],e,t,r,i);else{const s=Gt(),o=Re();let a=_a(n)?n:gt(n.provide),l=WD(n);const c=vr(),u=1048575&c.providerIndexes,h=c.directiveStart,v=c.providerIndexes>>20;if(_a(n)||!n.multi){const D=new fu(l,i,xe),$=ev(a,e,i?u:u+v,h);-1===$?(R_(hf(c,o),s,a),Zy(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(D),o.push(D)):(t[$]=D,o[$]=D)}else{const D=ev(a,e,u+v,h),$=ev(a,e,u,u+v),he=$>=0&&t[$];if(i&&!he||!i&&!(D>=0&&t[D])){R_(hf(c,o),s,a);const Ee=function Q6(n,e,t,r,i){const s=new fu(n,t,xe);return s.multi=[],s.index=e,s.componentProviders=0,uP(s,i,r&&!t),s}(i?K6:W6,t.length,i,r,l);!i&&he&&(t[$].providerFactory=Ee),Zy(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(Ee),o.push(Ee)}else Zy(s,n,D>-1?D:$,uP(t[i?$:D],l,!i&&r));!i&&r&&he&&t[$].componentProviders++}}}function Zy(n,e,t,r){const i=_a(e),s=function iH(n){return!!n.useClass}(e);if(i||s){const l=(s?gt(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function uP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ev(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function W6(n,e,t,r){return tv(this.multi,[])}function K6(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=pa(t,t[tt],this.providerFactory.index,r);s=a.slice(0,o),tv(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],tv(i,s);return s}function tv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Sn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function q6(n,e,t){const r=Gt();if(r.firstCreatePass){const i=Hi(n);Jy(t,r.data,r.blueprint,i,!0),Jy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class zl{}class dP{}class hP extends zl{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xx(this);const r=ui(e);this._bootstrapComponents=$s(r.bootstrap),this._r3Injector=lx(e,t,[{provide:zl,useValue:this},{provide:Du,useValue:this.componentFactoryResolver}],cn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class nv extends dP{constructor(e){super(),this.moduleType=e}create(e){return new hP(this.moduleType,e)}}class Y6 extends zl{constructor(e,t,r){super(),this.componentFactoryResolver=new xx(this),this.instance=null;const i=new qD([...e,{provide:zl,useValue:this},{provide:Du,useValue:this.componentFactoryResolver}],t||Tf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function zf(n,e,t=null){return new Y6(n,e,t).injector}let J6=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=HD(0,t.type),i=r.length>0?zf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ut({token:n,providedIn:"environment",factory:()=>new n(at(us))}),n})();function fP(n){n.getStandaloneInjector=e=>e.get(J6).getOrCreateStandaloneInjector(n)}function iv(n,e,t,r){return wP(Re(),Hr(),n,e,t,r)}function wP(n,e,t,r,i,s){const o=e+t;return kr(n,o,i)?function fs(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function ju(n,e){const t=n[e];return t===At?void 0:t}(n,o+1)}function IP(n,e,t){const r=n+_n,i=Re(),s=function gl(n,e){return n[e]}(i,r);return function Hu(n,e){return n[tt].data[e].pure}(i,r)?wP(i,Hr(),e,s.transform,t,s):s.transform(t)}function sv(n){return e=>{setTimeout(n,void 0,e)}}const Wt=class bz extends d{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=sv(s),i&&(i=sv(i)),o&&(o=sv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof J&&e.add(a),a}};function Cz(){return this._results[Symbol.iterator]()}class ov{get changes(){return this._changes||(this._changes=new Wt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ov.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Cz)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Ti(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function k3(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qs=(()=>{class n{}return n.__NG_ELEMENT_ID__=Az,n})();const Ez=qs,Sz=class extends Ez{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=xf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[cu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[as];return null!==o&&(i[as]=o.createEmbeddedView(r)),Ty(r,i,e),new Mu(i)}};function Az(){return qf(vr(),Re())}function qf(n,e){return 4&n.type?new Sz(e,n,Dl(n,e)):null}let qi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Iz,n})();function Iz(){return xP(vr(),Re())}const Tz=qi,TP=class extends Tz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Dl(this._hostTNode,this._hostLView)}get injector(){return new yl(this._hostTNode,this._hostLView)}get parentInjector(){const e=k_(this._hostTNode,this._hostLView);if(PT(e)){const t=uf(e,this._hostLView),r=cf(e);return new yl(t[tt].data[r+8],t)}return new yl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=DP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-jr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function mu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const h=t||{};a=h.index,r=h.injector,i=h.projectableNodes,s=h.environmentInjector||h.ngModuleRef}const l=o?e:new ku(en(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const v=(o?c:this.parentInjector).get(us,null);v&&(s=v)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[tt];if(function t3(n){return ji(n[Mn])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const h=r[Mn],v=new TP(h,h[xr],h[Mn]);v.detach(v.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function w4(n,e,t,r){const i=jr+r,s=t.length;r>0&&(t[i-1][Bi]=e),r<s-jr?(e[Bi]=t[i],HT(t,jr+r,e)):(t.push(e),e[Bi]=null),e[Mn]=t;const o=e[cu];null!==o&&t!==o&&function b4(n,e){const t=n[pl];e[Pr]!==e[Mn][Mn][Pr]&&(n[rT]=!0),null===t?n[pl]=[e]:t.push(e)}(o,e);const a=e[as];null!==a&&a.insertView(n),e[Ot]|=64}(i,r,o,s);const a=ty(s,o),l=r[Lt],c=vf(l,o[Zh]);return null!==c&&function _4(n,e,t,r,i,s){r[Us]=i,r[xr]=e,Su(n,r,t,1,i,s)}(i,o[xr],l,r,c,a),e.attachToViewContainerRef(),HT(av(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=DP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=J_(this._lContainer,t);r&&(gf(av(this._lContainer),t),hD(r[tt],r))}detach(e){const t=this._adjustIndex(e,-1),r=J_(this._lContainer,t);return r&&null!=gf(av(this._lContainer),t)?new Mu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function DP(n){return n[ef]}function av(n){return n[ef]||(n[ef]=[])}function xP(n,e){let t;const r=e[n.index];if(ji(r))t=r;else{let i;if(8&n.type)i=yr(r);else{const s=e[Lt];i=s.createComment("");const o=fi(n,e);ma(s,vf(s,o),i,function A4(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=Sx(r,e,i,n),Mf(e,t)}return new TP(t,n,e)}class lv{constructor(e){this.queryList=e,this.matches=null}clone(){return new lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class cv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new cv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==FP(e,t).matches&&this.queries[t].setDirty()}}class PP{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class uv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new uv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class dv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new dv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Dz(t,s)),this.matchTNodeWithReadOption(e,t,ff(t,e,s,!1,!1))}else r===qs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ff(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ri||i===qi||i===qs&&4&t.type)this.addMatch(t.index,-2);else{const s=ff(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Dz(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Pz(n,e,t,r){return-1===t?function xz(n,e){return 11&n.type?Dl(n,e):4&n.type?qf(n,e):null}(e,n):-2===t?function Mz(n,e,t){return t===ri?Dl(e,n):t===qs?qf(e,n):t===qi?xP(e,n):void 0}(n,e,r):pa(n,n[tt],t,e)}function MP(n,e,t,r){const i=e[as].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Pz(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function hv(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=MP(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let h=jr;h<u.length;h++){const v=u[h];v[cu]===v[Mn]&&hv(v[tt],v,c,r)}if(null!==u[pl]){const h=u[pl];for(let v=0;v<h.length;v++){const D=h[v];hv(D[tt],D,c,r)}}}}}return r}function fv(n){const e=Re(),t=Gt(),r=vT();S_(r+1);const i=FP(t,r);if(n.dirty&&function e3(n){return 4==(4&n[Ot])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?hv(t,e,r,[]):MP(t,e,i,r);n.reset(s,gH),n.notifyOnChanges()}return!0}return!1}function kP(n,e,t){const r=Gt();r.firstCreatePass&&(function NP(n,e,t){null===n.queries&&(n.queries=new uv),n.queries.track(new dv(e,t))}(r,new PP(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function OP(n,e,t){const r=new ov(4==(4&t));vx(n,e,r,r.destroy),null===e[as]&&(e[as]=new cv),e[as].queries.push(new lv(r))}(r,Re(),e)}function FP(n,e){return n.queries.getByIndex(e)}function Kf(...n){}const Qf=new ot("Application Initializer");let Xf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Kf,this.reject=Kf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ou(s))t.push(s);else if(Gy(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(at(Qf,8))},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $u=new ot("AppId",{providedIn:"root",factory:function eM(){return`${wv()}${wv()}${wv()}`}});function wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tM=new ot("Platform Initializer"),bv=new ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let e5=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ws=new ot("LocaleId",{providedIn:"root",factory:()=>Ft(Ws,mt.Optional|mt.SkipSelf)||function t5(){return typeof $localize<"u"&&$localize.locale||$l}()});class r5{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let nM=(()=>{class n{compileModuleSync(t){return new nv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=$s(ui(t).declarations).reduce((o,a)=>{const l=en(a);return l&&o.push(new ku(l)),o},[]);return new r5(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o5=(()=>Promise.resolve(0))();function Cv(n){typeof Zone>"u"?o5.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class On{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wt(!1),this.onMicrotaskEmpty=new Wt(!1),this.onStable=new Wt(!1),this.onError=new Wt(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function a5(){let n=mn.requestAnimationFrame,e=mn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function u5(n){const e=()=>{!function c5(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sv(n),n.isCheckStableRunning=!0,Ev(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return sM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),oM(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return sM(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),oM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Sv(n),Ev(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!On.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(On.isInAngularZone())throw new Be(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,l5,Kf,Kf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const l5={};function Ev(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function sM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oM(n){n._nesting--,Ev(n)}class d5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wt,this.onMicrotaskEmpty=new Wt,this.onStable=new Wt,this.onError=new Wt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const aM=new ot(""),Yf=new ot("");let Tv,Av=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tv||(function h5(n){Tv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{On.assertNotInAngularZone(),Cv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(at(On),at(Iv),at(Yf))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})(),Iv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Tv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ks=!1;let Io=null;const lM=new ot("AllowMultipleToken"),Dv=new ot("PlatformDestroyListeners"),cM=new ot("appBootstrapListener");class uM{constructor(e,t){this.name=e,this.token=t}}function hM(n,e,t=[]){const r=`Platform: ${e}`,i=new ot(r);return(s=[])=>{let o=xv();if(!o||o.injector.get(lM,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function g5(n){if(Io&&!Io.get(lM,!1))throw new Be(400,!1);Io=n;const e=n.get(pM);(function dM(n){const e=n.get(tM,null);e&&e.forEach(t=>t())})(n)}(function fM(n=[],e){return ds.create({name:e,providers:[{provide:gy,useValue:"platform"},{provide:Dv,useValue:new Set([()=>Io=null])},...n]})}(a,r))}return function _5(n){const e=xv();if(!e)throw new Be(401,!1);return e}()}}function xv(){return Io?.get(pM)??null}let pM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function mM(n,e){let t;return t="noop"===n?new d5:("zone.js"===n?void 0:n)||new On(e),t}(r?.ngZone,function gM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:On,useValue:i}];return i.run(()=>{const o=ds.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(xl,null);if(!l)throw new Be(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Zf(this._modules,a),c.unsubscribe()})}),function _M(n,e,t){try{const r=t();return Ou(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Xf);return c.runInitializers(),c.donePromise.then(()=>(function B1(n){Ei(n,"Expected localeId to be defined"),"string"==typeof n&&(U1=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ws,$l)||$l),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=yM({},r);return function f5(n,e,t){const r=new nv(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Jf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Be(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Dv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(at(ds))},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function yM(n,e){return Array.isArray(e)?e.reduce(yM,n):{...n,...e}}let Jf=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new R(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new R(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{On.assertNotInAngularZone(),Cv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{On.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function wj(...n){const e=ru(n),t=function fj(n,e){return"number"==typeof r_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Vn(r[0]):ll(t)(Pn(r,e)):is}(s,o.pipe(function bj(n={}){const{connector:e=(()=>new d),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,h=!1;const v=()=>{a?.unsubscribe(),a=void 0},D=()=>{v(),o=l=void 0,u=h=!1},$=()=>{const se=o;D(),se?.unsubscribe()};return L((se,he)=>{c++,!h&&!u&&v();const Ee=l=l??e();he.add(()=>{c--,0===c&&!h&&!u&&(a=i_($,i))}),Ee.subscribe(he),!o&&c>0&&(o=new B({next:Pe=>Ee.next(Pe),error:Pe=>{h=!0,v(),a=i_(D,t,Pe),Ee.error(Pe)},complete:()=>{u=!0,v(),a=i_(D,r),Ee.complete()}}),Vn(se).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof KD;if(!this._injector.get(Xf).done){!i&&function ul(n){const e=en(n)||Dr(n)||Zr(n);return null!==e&&e.standalone}(t);throw new Be(405,Ks)}let o;o=i?t:this._injector.get(Du).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function p5(n){return n.isBoundToModule}(o)?void 0:this._injector.get(zl),c=o.create(ds.NULL,[],r||o.selector,a),u=c.location.nativeElement,h=c.injector.get(aM,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Zf(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Zf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(cM,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Zf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Be(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(at(On),at(us),at(xl))},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let ep=(()=>{class n{}return n.__NG_ELEMENT_ID__=v5,n})();function v5(n){return function w5(n,e,t){if(du(n)&&!t){const r=ei(n.index,e);return new Mu(r,r)}return 47&n.type?new Mu(e[Pr],e):null}(vr(),Re(),16==(16&n))}class EM{constructor(){}supports(e){return Ff(e)}create(e){return new I5(e)}}const A5=(n,e)=>e;class I5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||A5}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<AM(r,i,s)?t:r,a=AM(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let v=0;v<c;v++){const D=v<s.length?s[v]:s[v]=0,$=D+v;u<=$&&$<c&&(s[v]=D+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ff(e))throw new Be(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function JG(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new T5(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new SM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class T5{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class D5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class SM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new D5,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class IM{constructor(){}supports(e){return e instanceof Map||Uy(e)}create(){return new x5}}class x5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Uy(e)))throw new Be(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new P5(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class P5{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TM(){return new rp([new EM])}let rp=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||TM()),deps:[[n,new vu,new yu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Be(901,!1)}}return n.\u0275prov=ut({token:n,providedIn:"root",factory:TM}),n})();function DM(){return new zu([new IM])}let zu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||DM()),deps:[[n,new vu,new yu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Be(901,!1)}}return n.\u0275prov=ut({token:n,providedIn:"root",factory:DM}),n})();const R5=hM(null,"core",[]);let O5=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(at(Jf))},n.\u0275mod=Ai({type:n}),n.\u0275inj=ci({}),n})();function Kl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Ov=null;function Qs(){return Ov}class L5{}const qr=new ot("DocumentToken");let Nv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:function(){return function V5(){return at(xM)}()},providedIn:"platform"}),n})();const U5=new ot("Location Initialized");let xM=(()=>{class n extends Nv{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qs().getBaseHref(this._doc)}onPopState(t){const r=Qs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Qs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){PM()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){PM()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(at(qr))},n.\u0275prov=ut({token:n,factory:function(){return function B5(){return new xM(at(qr))}()},providedIn:"platform"}),n})();function PM(){return!!window.history.pushState}function Fv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function MM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xs(n){return n&&"?"!==n[0]?"?"+n:n}let Ca=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:function(){return Ft(RM)},providedIn:"root"}),n})();const kM=new ot("appBaseHref");let RM=(()=>{class n extends Ca{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ft(qr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Xs(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Xs(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(at(Nv),at(kM,8))},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j5=(()=>{class n extends Ca{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Fv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Xs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Xs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(at(Nv),at(kM,8))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})(),Lv=(()=>{class n{constructor(t){this._subject=new Wt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function $5(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(MM(OM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xs(r))}normalize(t){return n.stripTrailingSlash(function G5(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,OM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xs(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Xs,n.joinWithSlash=Fv,n.stripTrailingSlash=MM,n.\u0275fac=function(t){return new(t||n)(at(Ca))},n.\u0275prov=ut({token:n,factory:function(){return function H5(){return new Lv(at(Ca))}()},providedIn:"root"}),n})();function OM(n){return n.replace(/\/index.html$/,"")}function GM(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const Wv=/\s+/,$M=[];let Kv=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=$M,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Wv):$M}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Wv):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Wv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(xe(rp),xe(zu),xe(ri),xe(Gs))},n.\u0275dir=wt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class D9{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Js=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new D9(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),WM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{WM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(xe(qi),xe(qs),xe(rp))},n.\u0275dir=wt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function WM(n,e){n.context.$implicit=e.item}let mi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new P9,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(xe(qi),xe(qs))},n.\u0275dir=wt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class P9{constructor(){this.$implicit=null,this.ngIf=null}}function KM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${cn(e)}'.`)}class R9{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class O9{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const N9=new O9,F9=new R9;let XM=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Ou(t))return N9;if(zx(t))return F9;throw function Qi(n,e){return new Be(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(xe(ep,16))},n.\u0275pipe=Jr({name:"async",type:n,pure:!1,standalone:!0}),n})(),e8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ai({type:n}),n.\u0275inj=ci({}),n})();let ZM=(()=>{class n{}return n.\u0275prov=ut({token:n,providedIn:"root",factory:()=>new i8(at(qr),window)}),n})();class i8{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function s8(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ek(this.window.history)||ek(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ek(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class tk{}class k8 extends L5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class t0 extends k8{static makeCurrent(){!function F5(n){Ov||(Ov=n)}(new t0)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function R8(){return Qu=Qu||document.querySelector("base"),Qu?Qu.getAttribute("href"):null}();return null==t?null:function O8(n){gp=gp||document.createElement("a"),gp.setAttribute("href",n);const e=gp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return GM(document.cookie,e)}}let gp,Qu=null;const ok=new ot("TRANSITION_ID"),F8=[{provide:Qf,useFactory:function N8(n,e,t){return()=>{t.get(Xf).donePromise.then(()=>{const r=Qs(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[ok,qr,ds],multi:!0}];let V8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();const mp=new ot("EventManagerPlugins");let _p=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(at(mp),at(On))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();class ak{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Qs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let lk=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})(),Xu=(()=>{class n extends lk{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(at(qr))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();const n0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},r0=/%COMP%/g,dk=new ot("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function hk(n,e){return e.flat(100).map(t=>t.replace(r0,n))}function fk(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let s0=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new o0(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof mk?i.applyToHost(t):i instanceof a0&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case os.Emulated:s=new mk(o,a,r,this.appId,l);break;case os.ShadowDom:return new z8(o,a,t,r);default:s=new a0(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(at(_p),at(Xu),at($u),at(dk))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();class o0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(n0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(gk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(gk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=n0[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=n0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ti.DashCase|ti.Important)?e.style.setProperty(t,r,i&ti.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ti.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fk(r)):this.eventManager.addEventListener(e,t,fk(r))}}function gk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class z8 extends o0{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=hk(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class a0 extends o0{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=hk(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class mk extends a0{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function H8(n){return"_ngcontent-%COMP%".replace(r0,n)}(o),this.hostAttr=function G8(n){return"_nghost-%COMP%".replace(r0,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let q8=(()=>{class n extends ak{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(at(qr))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();const _k=["alt","control","meta","shift"],W8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Q8=(()=>{class n extends ak{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),_k.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=W8[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_k.forEach(o=>{o!==i&&(0,K8[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(at(qr))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();const vk=[{provide:bv,useValue:"browser"},{provide:tM,useValue:function X8(){t0.makeCurrent()},multi:!0},{provide:qr,useFactory:function J8(){return function R4(n){sy=n}(document),document},deps:[]}],Z8=hM(R5,"browser",vk),wk=new ot(""),bk=[{provide:Yf,useClass:class L8{addToWindow(e){mn.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},mn.getAllAngularTestabilities=()=>e.getAllTestabilities(),mn.getAllAngularRootElements=()=>e.getAllRootElements(),mn.frameworkStabilizers||(mn.frameworkStabilizers=[]),mn.frameworkStabilizers.push(r=>{const i=mn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Qs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:aM,useClass:Av,deps:[On,Iv,Yf]},{provide:Av,useClass:Av,deps:[On,Iv,Yf]}],Ck=[{provide:gy,useValue:"root"},{provide:xl,useFactory:function Y8(){return new xl},deps:[]},{provide:mp,useClass:q8,multi:!0,deps:[qr,On,bv]},{provide:mp,useClass:Q8,multi:!0,deps:[qr]},{provide:s0,useClass:s0,deps:[_p,Xu,$u,dk]},{provide:XD,useExisting:s0},{provide:lk,useExisting:Xu},{provide:Xu,useClass:Xu,deps:[qr]},{provide:_p,useClass:_p,deps:[mp,On]},{provide:tk,useClass:V8,deps:[]},[]];let eq=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:$u,useValue:t.appId},{provide:ok,useExisting:$u},F8]}}}return n.\u0275fac=function(t){return new(t||n)(at(wk,12))},n.\u0275mod=Ai({type:n}),n.\u0275inj=ci({providers:[...Ck,...bk],imports:[e8,O5]}),n})(),Ek=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(at(qr))},n.\u0275prov=ut({token:n,factory:function(t){let r=null;return r=t?new t:function nq(){return new Ek(at(qr))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:lq}=Array,{getPrototypeOf:cq,prototype:uq,keys:dq}=Object;function Ik(n){if(1===n.length){const e=n[0];if(lq(e))return{args:e,keys:null};if(function hq(n){return n&&"object"==typeof n&&cq(n)===uq}(e)){const t=dq(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:fq}=Array;function u0(n){return X(e=>function pq(n,e){return fq(e)?n(...e):n(e)}(n,e))}function Tk(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Dk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(xe(Gs),xe(ri))},n.\u0275dir=wt({type:n}),n})(),Ea=(()=>{class n extends Dk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=wr(n)))(r||n)}}(),n.\u0275dir=wt({type:n,features:[tn]}),n})();const ys=new ot("NgValueAccessor"),_q={provide:ys,useExisting:un(()=>Sa),multi:!0},vq=new ot("CompositionEventMode");let Sa=(()=>{class n extends Dk{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yq(){const n=Qs()?Qs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(xe(Gs),xe(ri),xe(vq,8))},n.\u0275dir=wt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&it("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Sn([_q]),tn]}),n})();const wq=!1,Rr=new ot("NgValidators"),xo=new ot("NgAsyncValidators");function Uk(n){return null!=n}function Bk(n){const e=Ou(n)?Pn(n):n;if(wq&&!Gy(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new Be(-1101,t)}return e}function jk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Hk(n,e){return e.map(t=>t(n))}function Gk(n){return n.map(e=>function Cq(n){return!n.validate}(e)?e:t=>e.validate(t))}function d0(n){return null!=n?function $k(n){if(!n)return null;const e=n.filter(Uk);return 0==e.length?null:function(t){return jk(Hk(t,e))}}(Gk(n)):null}function h0(n){return null!=n?function zk(n){if(!n)return null;const e=n.filter(Uk);return 0==e.length?null:function(t){return function gq(...n){const e=BI(n),{args:t,keys:r}=Ik(n),i=new R(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;Vn(t[u]).subscribe(x(s,v=>{h||(h=!0,c--),a[u]=v},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(r?Tk(r,a):a),s.complete())}))}});return e?i.pipe(u0(e)):i}(Hk(t,e).map(Bk)).pipe(X(jk))}}(Gk(n)):null}function qk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function f0(n){return n?Array.isArray(n)?n:[n]:[]}function vp(n,e){return Array.isArray(n)?n.includes(e):n===e}function Qk(n,e){const t=f0(e);return f0(n).forEach(i=>{vp(t,i)||t.push(i)}),t}function Xk(n,e){return f0(e).filter(t=>!vp(n,t))}class Yk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=d0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=h0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Wr extends Yk{get formDirective(){return null}get path(){return null}}class Po extends Yk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jk{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yu=(()=>{class n extends Jk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(xe(Po,2))},n.\u0275dir=wt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Uf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[tn]}),n})();const Ju="VALID",bp="INVALID",Ql="PENDING",Zu="DISABLED";function Cp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class nR{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ju}get invalid(){return this.status===bp}get pending(){return this.status==Ql}get disabled(){return this.status===Zu}get enabled(){return this.status!==Zu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xk(e,this._rawAsyncValidators))}hasValidator(e){return vp(this._rawValidators,e)}hasAsyncValidator(e){return vp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ql,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ju,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ju||this.status===Ql)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zu:Ju}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ql,this._hasOwnPendingAsyncValidator=!0;const t=Bk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Wt,this.statusChanges=new Wt}_calculateStatus(){return this._allControlsDisabled()?Zu:this.errors?bp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ql)?Ql:this._anyControlsHaveStatus(bp)?bp:Ju}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Pq(n){return Array.isArray(n)?d0(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Mq(n){return Array.isArray(n)?h0(n):n||null}(this._rawAsyncValidators)}}const Xl=new ot("CallSetDisabledState",{providedIn:"root",factory:()=>Ep}),Ep="always";function ed(n,e,t=Ep){(function w0(n,e){const t=function Wk(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(qk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Kk(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(qk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ip(e._rawValidators,i),Ip(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Oq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rR(n,e)})}(n,e),function Fq(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Nq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Rq(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ip(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function oR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function aR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lR=class extends nR{constructor(e=null,t,r){super(function _0(n){return(Cp(n)?n.validators:n)||null}(t),function y0(n,e){return(Cp(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=aR(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){aR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},$q={provide:Po,useExisting:un(()=>Yl)},dR=(()=>Promise.resolve())();let Yl=(()=>{class n extends Po{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new lR,this._registered=!1,this.update=new Wt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function E0(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Sa?t=s:function Uq(n){return Object.getPrototypeOf(n.constructor)===Ea}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function C0(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ed(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){dR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Kl(r);dR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Sp(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(xe(Wr,9),xe(Rr,10),xe(xo,10),xe(ys,10),xe(ep,8),xe(Xl,8))},n.\u0275dir=wt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Sn([$q]),tn,hi]}),n})(),fR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ai({type:n}),n.\u0275inj=ci({}),n})(),gW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ai({type:n}),n.\u0275inj=ci({imports:[fR]}),n})(),_W=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Xl,useValue:t.callSetDisabledState??Ep}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ai({type:n}),n.\u0275inj=ci({imports:[gW]}),n})();function ht(...n){return Pn(n,ru(n))}function Mo(n,e){return p(e)?nr(n,e,1):nr(n,1)}function Xi(n,e){return L((t,r)=>{let i=0;t.subscribe(x(r,s=>n.call(e,s,i++)&&r.next(s)))})}class Dp{}class M0{}class Zs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Zs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Zs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Zs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class yW{encodeKey(e){return MR(e)}encodeValue(e){return MR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const wW=/%(\d[a-f0-9])/gi,bW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MR(n){return encodeURIComponent(n).replace(wW,(e,t)=>bW[t]??e)}function xp(n){return`${n}`}class ko{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yW,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vW(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(xp):[xp(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ko({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(xp(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(xp(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class CW{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function kR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function RR(n){return typeof Blob<"u"&&n instanceof Blob}function OR(n){return typeof FormData<"u"&&n instanceof FormData}class nd{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function EW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Zs),this.context||(this.context=new CW),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ko,this.urlWithParams=t}serializeBody(){return null===this.body?null:kR(this.body)||RR(this.body)||OR(this.body)||function SW(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ko?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||OR(this.body)?null:RR(this.body)?this.body.type||null:kR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ko?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((h,v)=>h.set(v,e.setHeaders[v]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,v)=>h.set(v,e.setParams[v]),c)),new nd(t,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var Jn=(()=>((Jn=Jn||{})[Jn.Sent=0]="Sent",Jn[Jn.UploadProgress=1]="UploadProgress",Jn[Jn.ResponseHeader=2]="ResponseHeader",Jn[Jn.DownloadProgress=3]="DownloadProgress",Jn[Jn.Response=4]="Response",Jn[Jn.User=5]="User",Jn))();class k0{constructor(e,t=200,r="OK"){this.headers=e.headers||new Zs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class R0 extends k0{constructor(e={}){super(e),this.type=Jn.ResponseHeader}clone(e={}){return new R0({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pp extends k0{constructor(e={}){super(e),this.type=Jn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Pp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class NR extends k0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function O0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let FR=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof nd)s=t;else{let l,c;l=i.headers instanceof Zs?i.headers:new Zs(i.headers),i.params&&(c=i.params instanceof ko?i.params:new ko({fromObject:i.params})),s=new nd(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ht(s).pipe(Mo(l=>this.handler.handle(l)));if(t instanceof nd||"events"===i.observe)return o;const a=o.pipe(Xi(l=>l instanceof Pp));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(X(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(X(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(X(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(X(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ko).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,O0(i,r))}post(t,r,i={}){return this.request("POST",t,O0(i,r))}put(t,r,i={}){return this.request("PUT",t,O0(i,r))}}return n.\u0275fac=function(t){return new(t||n)(at(Dp))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();function LR(n,e){return e(n)}function AW(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const TW=new ot("HTTP_INTERCEPTORS"),rd=new ot("HTTP_INTERCEPTOR_FNS");function DW(){let n=null;return(e,t)=>(null===n&&(n=(Ft(TW,{optional:!0})??[]).reduceRight(AW,LR)),n(e,t))}let VR=(()=>{class n extends Dp{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(rd)));this.chain=r.reduceRight((i,s)=>function IW(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),LR)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(at(M0),at(us))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();const kW=/^\)\]\}',?\n/;let BR=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new R(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((D,$)=>i.setRequestHeader(D,$.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const D=t.detectContentTypeHeader();null!==D&&i.setRequestHeader("Content-Type",D)}if(t.responseType){const D=t.responseType.toLowerCase();i.responseType="json"!==D?D:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const D=i.statusText||"OK",$=new Zs(i.getAllResponseHeaders()),se=function RW(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new R0({headers:$,status:i.status,statusText:D,url:se}),o},l=()=>{let{headers:D,status:$,statusText:se,url:he}=a(),Ee=null;204!==$&&(Ee=typeof i.response>"u"?i.responseText:i.response),0===$&&($=Ee?200:0);let Pe=$>=200&&$<300;if("json"===t.responseType&&"string"==typeof Ee){const we=Ee;Ee=Ee.replace(kW,"");try{Ee=""!==Ee?JSON.parse(Ee):null}catch(We){Ee=we,Pe&&(Pe=!1,Ee={error:We,text:Ee})}}Pe?(r.next(new Pp({body:Ee,headers:D,status:$,statusText:se,url:he||void 0})),r.complete()):r.error(new NR({error:Ee,headers:D,status:$,statusText:se,url:he||void 0}))},c=D=>{const{url:$}=a(),se=new NR({error:D,status:i.status||0,statusText:i.statusText||"Unknown Error",url:$||void 0});r.error(se)};let u=!1;const h=D=>{u||(r.next(a()),u=!0);let $={type:Jn.DownloadProgress,loaded:D.loaded};D.lengthComputable&&($.total=D.total),"text"===t.responseType&&i.responseText&&($.partialText=i.responseText),r.next($)},v=D=>{let $={type:Jn.UploadProgress,loaded:D.loaded};D.lengthComputable&&($.total=D.total),r.next($)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",h),null!==s&&i.upload&&i.upload.addEventListener("progress",v)),i.send(s),r.next({type:Jn.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",h),null!==s&&i.upload&&i.upload.removeEventListener("progress",v)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(at(tk))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();const N0=new ot("XSRF_ENABLED"),jR=new ot("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),HR=new ot("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class GR{}let FW=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=GM(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(at(qr),at(bv),at(jR))},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();function LW(n,e){const t=n.url.toLowerCase();if(!Ft(N0)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Ft(GR).getToken(),i=Ft(HR);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Hn=(()=>((Hn=Hn||{})[Hn.Interceptors=0]="Interceptors",Hn[Hn.LegacyInterceptors=1]="LegacyInterceptors",Hn[Hn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Hn[Hn.NoXsrfProtection=3]="NoXsrfProtection",Hn[Hn.JsonpSupport=4]="JsonpSupport",Hn[Hn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Hn))();function Jl(n,e){return{\u0275kind:n,\u0275providers:e}}function VW(...n){const e=[FR,BR,VR,{provide:Dp,useExisting:VR},{provide:M0,useExisting:BR},{provide:rd,useValue:LW,multi:!0},{provide:N0,useValue:!0},{provide:GR,useClass:FW}];for(const t of n)e.push(...t.\u0275providers);return function tH(n){return{\u0275providers:n}}(e)}const $R=new ot("LEGACY_INTERCEPTOR_FN");let BW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ai({type:n}),n.\u0275inj=ci({providers:[VW(Jl(Hn.LegacyInterceptors,[{provide:$R,useFactory:DW},{provide:rd,useExisting:$R,multi:!0}]))]}),n})();const jW=["addListener","removeListener"],HW=["addEventListener","removeEventListener"],GW=["on","off"];function fn(n,e,t,r){if(p(t)&&(r=t,t=void 0),r)return fn(n,e,t).pipe(u0(r));const[i,s]=function qW(n){return p(n.addEventListener)&&p(n.removeEventListener)}(n)?HW.map(o=>a=>n[o](e,a,t)):function $W(n){return p(n.addListener)&&p(n.removeListener)}(n)?jW.map(zR(n,e)):function zW(n){return p(n.on)&&p(n.off)}(n)?GW.map(zR(n,e)):[];if(!i&&Tr(n))return nr(o=>fn(o,e,t))(Vn(n));if(!i)throw new TypeError("Invalid event target");return new R(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function zR(n,e){return t=>r=>n[t](e,r)}function pn(n){return L((e,t)=>{Vn(n).subscribe(x(t,()=>t.complete(),ne)),!t.closed&&e.subscribe(t)})}class WW extends J{constructor(e,t){super()}schedule(e,t=0){return this}}const Mp={setInterval(n,e,...t){const{delegate:r}=Mp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Mp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},qR={now:()=>(qR.delegate||Date).now(),delegate:void 0};class id{constructor(e,t=id.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}id.now=qR.now;const F0=new class QW extends id{constructor(e,t=id.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class KW extends WW{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Mp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Mp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,pe(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),XW=F0;var Zl=q(36),kp=q.t(Zl,2),Mi=q(813),WR=q.t(Mi,2);const JW=["pdfViewerContainer"];function KR(n,e){const t=new n.EventBus;return function ZW(n,e){fn(n,"documentload").pipe(pn(e)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),fn(n,"pagerendered").pipe(pn(e)).subscribe(({pageNumber:t,cssTransform:r,source:i})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:r}),i.div.dispatchEvent(s)}),fn(n,"textlayerrendered").pipe(pn(e)).subscribe(({pageNumber:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),r.textLayerDiv.dispatchEvent(i)}),fn(n,"pagechanging").pipe(pn(e)).subscribe(({pageNumber:t,source:r})=>{const i=document.createEvent("UIEvents");i.initEvent("pagechanging",!0,!0),i.pageNumber=t,r.container.dispatchEvent(i)}),fn(n,"pagesinit").pipe(pn(e)).subscribe(({source:t})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(r)}),fn(n,"pagesloaded").pipe(pn(e)).subscribe(({pagesCount:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),r.container.dispatchEvent(i)}),fn(n,"scalechange").pipe(pn(e)).subscribe(({scale:t,presetValue:r,source:i})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=r,i.container.dispatchEvent(s)}),fn(n,"updateviewarea").pipe(pn(e)).subscribe(({location:t,source:r})=>{const i=document.createEvent("UIEvents");i.initEvent("updateviewarea",!0,!0),i.location=t,r.container.dispatchEvent(i)}),fn(n,"find").pipe(pn(e)).subscribe(({source:t,type:r,query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l})=>{if(t===window)return;const c=document.createEvent("CustomEvent");c.initCustomEvent("find"+r,!0,!0,{query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),fn(n,"attachmentsloaded").pipe(pn(e)).subscribe(({attachmentsCount:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),r.container.dispatchEvent(i)}),fn(n,"sidebarviewchanged").pipe(pn(e)).subscribe(({view:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),r.outerContainer.dispatchEvent(i)}),fn(n,"pagemode").pipe(pn(e)).subscribe(({mode:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagemode",!0,!0,{mode:t}),r.pdfViewer.container.dispatchEvent(i)}),fn(n,"namedaction").pipe(pn(e)).subscribe(({action:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("namedaction",!0,!0,{action:t}),r.pdfViewer.container.dispatchEvent(i)}),fn(n,"presentationmodechanged").pipe(pn(e)).subscribe(({active:t,switchInProgress:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:r}),window.dispatchEvent(i)}),fn(n,"outlineloaded").pipe(pn(e)).subscribe(({outlineCount:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),r.container.dispatchEvent(i)})}(t,e),t}function Rp(n,e,t){n[e]=t}function sd(){return typeof window>"u"}sd()||Rp(kp,"verbosity",Zl.VerbosityLevel.INFOS);var Ia=(()=>{return(n=Ia||(Ia={}))[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",Ia;var n})();let QR=(()=>{class n{constructor(t,r){if(this.element=t,this.ngZone=r,this.isVisible=!1,this._cMapsUrl=typeof kp<"u"?`https://unpkg.com/pdfjs-dist@${Zl.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=Ia.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new d,this.afterLoadComplete=new Wt,this.pageRendered=new Wt,this.pageInitialized=new Wt,this.textLayerRendered=new Wt,this.onError=new Wt,this.onProgress=new Wt,this.pageChange=new Wt(!0),sd())return;let i;i=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${Zl.version}/legacy/build/pdf.worker.min.js`,Rp(Zl.GlobalWorkerOptions,"workerSrc",i)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const r=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,r!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return Mi.LinkTarget.BLANK;case"none":return Mi.LinkTarget.NONE;case"self":return Mi.LinkTarget.SELF;case"parent":return Mi.LinkTarget.PARENT;case"top":return Mi.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(t){if(!sd()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:Ia.DISABLED,this.resetPdfDocument()):"showAll"in t&&this.resetPdfDocument(),"page"in t){const{page:r}=t;if(r.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const t=this.getCurrentViewer();Pn(this._pdf.getPage(t.currentPageNumber)).pipe(pn(this.destroy$)).subscribe({next:r=>{const i=this._rotation||r.rotate,s=r.getViewport({scale:this._zoom,rotation:i}).width*n.CSS_UNITS;let o=this._zoom,a=!0;if(!this._originalSize||this._fitToPage&&s>this.pdfViewerContainer.nativeElement.clientWidth){const l=r.getViewport({scale:1,rotation:i});o=this.getScale(l.width,l.height),a=!this._stickToPage}t._setScale(o,a)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const t={},r=n.getLinkTarget(this._externalLinkTarget);return r&&(t.externalLinkTarget=r),t}setupMultiPageViewer(){Rp(kp,"disableTextLayer",!this._renderText);const t=KR(WR,this.destroy$);fn(t,"pagerendered").pipe(pn(this.destroy$)).subscribe(i=>{this.pageRendered.emit(i)}),fn(t,"pagesinit").pipe(pn(this.destroy$)).subscribe(i=>{this.pageInitialized.emit(i)}),fn(t,"pagechanging").pipe(pn(this.destroy$)).subscribe(({pageNumber:i})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=i,this.pageChange.emit(i)},100)}),fn(t,"textlayerrendered").pipe(pn(this.destroy$)).subscribe(i=>{this.textLayerRendered.emit(i)}),this.pdfMultiPageLinkService=new Mi.PDFLinkService({eventBus:t,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new Mi.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:t});const r={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:Ia.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new Mi.PDFViewer(r),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){Rp(kp,"disableTextLayer",!this._renderText);const t=KR(WR,this.destroy$);fn(t,"pagechanging").pipe(pn(this.destroy$)).subscribe(({pageNumber:i})=>{i!==this._page&&(this.page=i)}),fn(t,"pagerendered").pipe(pn(this.destroy$)).subscribe(i=>{this.pageRendered.emit(i)}),fn(t,"pagesinit").pipe(pn(this.destroy$)).subscribe(i=>{this.pageInitialized.emit(i)}),fn(t,"textlayerrendered").pipe(pn(this.destroy$)).subscribe(i=>{this.textLayerRendered.emit(i)}),this.pdfSinglePageLinkService=new Mi.PDFLinkService({eventBus:t,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new Mi.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:t});const r={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:Ia.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new Mi.PDFSinglePageViewer(r),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const r={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===t?r.url=this.src:"object"===t&&(void 0!==this.src.byteLength?r.data=this.src:Object.assign(r,this.src)),r}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=Zl.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=r=>{this.onProgress.emit(r)};const t=this.src;Pn(this.loadingTask.promise).pipe(pn(this.destroy$)).subscribe({next:r=>{this._pdf=r,this.lastLoaded=t,this.afterLoadComplete.emit(r),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:r=>{this.lastLoaded=null,this.onError.emit(r)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const t=this.getCurrentViewer();(0!==this._rotation||t.pagesRotation!==this._rotation)&&setTimeout(()=>{t.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{t.currentPageNumber=this._page}),this.updateSize()}getScale(t,r){const i=this._showBorders?2*n.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-i,o=this.pdfViewerContainer.nativeElement.clientHeight-i;if(0===o||0===r||0===s||0===t)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(o/r,s/t);break;case"page-height":a=o/r;break;default:a=s/t}return this._zoom*a/n.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){sd()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){sd()||this.ngZone.runOutsideAngular(()=>{fn(window,"resize").pipe(function YW(n,e=F0){return L((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(x(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(100),Xi(()=>this._canAutoResize&&!!this._pdf),pn(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return n.CSS_UNITS=96/72,n.BORDER_WIDTH=9,n.\u0275fac=function(t){return new(t||n)(xe(ri),xe(On))},n.\u0275cmp=En({type:n,selectors:[["pdf-viewer"]],viewQuery:function(t,r){if(1&t&&kP(JW,5),2&t){let i;fv(i=function pv(){return function kz(n,e){return n[as].queries[e].queryList}(Re(),vT())}())&&(r.pdfViewerContainer=i.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[hi],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,r){1&t&&(ye(0,"div",0,1),kn(2,"div",2),Se())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),n})(),e7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ai({type:n}),n.\u0275inj=ci({}),n})();class ki extends d{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Op=Z(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function XR(...n){const e=ru(n),t=BI(n),{args:r,keys:i}=Ik(n);if(0===r.length)return Pn([],e);const s=new R(function t7(n,e,t=te){return r=>{YR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)YR(e,()=>{const c=Pn(n[l],e);let u=!1;c.subscribe(x(r,h=>{s[l]=h,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Tk(i,o):te));return t?s.pipe(u0(t)):s}function YR(n,e,t){n?Ns(t,n,e):e()}function Np(...n){return function n7(){return ll(1)}()(Pn(n,ru(n)))}function JR(n){return new R(e=>{Vn(n()).subscribe(e)})}function od(n,e){const t=p(n)?n:()=>n,r=i=>i.error(t());return new R(e?i=>e.schedule(r,0,i):r)}function L0(){return L((n,e)=>{let t=null;n._refCount++;const r=x(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ZR extends R{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,A(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new J;const t=this.getSubject();e.add(this.source.subscribe(x(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=J.EMPTY)}return e}refCount(){return L0()(this)}}function vs(n,e){return L((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(x(r,l=>{i?.unsubscribe();let c=0;const u=s++;Vn(n(l,u)).subscribe(i=x(r,h=>r.next(e?e(l,h,u,c++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ro(n){return n<=0?()=>is:L((e,t)=>{let r=0;e.subscribe(x(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Fp(n){return L((e,t)=>{let r=!1;e.subscribe(x(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function eO(n=i7){return L((e,t)=>{let r=!1;e.subscribe(x(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function i7(){return new Op}function Oo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xi((i,s)=>n(i,s,r)):te,Ro(1),t?Fp(e):eO(()=>new Op))}function Or(n,e,t){const r=p(n)||e||t?{next:n,error:e,complete:t}:n;return r?L((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(x(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):te}function No(n){return L((e,t)=>{let s,r=null,i=!1;r=e.subscribe(x(t,void 0,void 0,o=>{s=Vn(n(o,No(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function tO(n,e){return L(function s7(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(x(o,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function V0(n){return n<=0?()=>is:L((e,t)=>{let r=[];e.subscribe(x(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function nO(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xi((i,s)=>n(i,s,r)):te,V0(1),t?Fp(e):eO(()=>new Op))}function rO(n){return X(()=>n)}function U0(n){return L((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const xt="primary",ad=Symbol("RouteTitle");class a7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ec(n){return new a7(n)}function l7(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ws(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!iO(n[i],e[i]))return!1;return!0}function iO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function sO(n){return Array.prototype.concat.apply([],n)}function oO(n){return n.length>0?n[n.length-1]:null}function br(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Fo(n){return Gy(n)?n:Ou(n)?Pn(Promise.resolve(n)):ht(n)}const Lp=!1,u7={exact:function cO(n,e,t){if(!Ta(n.segments,e.segments)||!Vp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!cO(n.children[r],e.children[r],t))return!1;return!0},subset:uO},aO={exact:function d7(n,e){return ws(n,e)},subset:function h7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>iO(n[t],e[t]))},ignored:()=>!0};function lO(n,e,t){return u7[t.paths](n.root,e.root,t.matrixParams)&&aO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function uO(n,e,t){return dO(n,e,e.segments,t)}function dO(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ta(i,t)||e.hasChildren()||!Vp(i,t,r))}if(n.segments.length===t.length){if(!Ta(n.segments,t)||!Vp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!uO(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ta(n.segments,i)&&Vp(n.segments,i,r)&&n.children[xt])&&dO(n.children[xt],e,s,r)}}function Vp(n,e,t){return e.every((r,i)=>aO[t](n[i].parameters,r.parameters))}class Lo{constructor(e=new Vt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ec(this.queryParams)),this._queryParamMap}toString(){return g7.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,br(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Up(this)}}class ld{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ec(this.parameters)),this._parameterMap}toString(){return pO(this)}}function Ta(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let cd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:function(){return new B0},providedIn:"root"}),n})();class B0{parse(e){const t=new S7(e);return new Lo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ud(e.root,!0)}`,r=function y7(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Bp(t)}=${Bp(i)}`).join("&"):`${Bp(t)}=${Bp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function m7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const g7=new B0;function Up(n){return n.segments.map(e=>pO(e)).join("/")}function ud(n,e){if(!n.hasChildren())return Up(n);if(e){const t=n.children[xt]?ud(n.children[xt],!1):"",r=[];return br(n.children,(i,s)=>{s!==xt&&r.push(`${s}:${ud(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function p7(n,e){let t=[];return br(n.children,(r,i)=>{i===xt&&(t=t.concat(e(r,i)))}),br(n.children,(r,i)=>{i!==xt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===xt?[ud(n.children[xt],!1)]:[`${i}:${ud(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[xt]?`${Up(n)}/${t[0]}`:`${Up(n)}/(${t.join("//")})`}}function hO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bp(n){return hO(n).replace(/%3B/gi,";")}function j0(n){return hO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jp(n){return decodeURIComponent(n)}function fO(n){return jp(n.replace(/\+/g,"%20"))}function pO(n){return`${j0(n.path)}${function _7(n){return Object.keys(n).map(e=>`;${j0(e)}=${j0(n[e])}`).join("")}(n.parameters)}`}const v7=/^[^\/()?;=#]+/;function Hp(n){const e=n.match(v7);return e?e[0]:""}const w7=/^[^=?&#]+/,C7=/^[^&#]+/;class S7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[xt]=new Vt(e,t)),r}parseSegment(){const e=Hp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Be(4009,Lp);return this.capture(e),new ld(jp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Hp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Hp(this.remaining);i&&(r=i,this.capture(r))}e[jp(t)]=jp(r)}parseQueryParam(e){const t=function b7(n){const e=n.match(w7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function E7(n){const e=n.match(C7);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=fO(t),s=fO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Be(4010,Lp);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=xt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[xt]:new Vt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Be(4011,Lp)}}function H0(n){return n.segments.length>0?new Vt([],{[xt]:n}):n}function Gp(n){const e={};for(const r of Object.keys(n.children)){const s=Gp(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function A7(n){if(1===n.numberOfChildren&&n.children[xt]){const e=n.children[xt];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}function Da(n){return n instanceof Lo}const G0=!1;function I7(n,e,t,r,i){if(0===t.length)return tc(e.root,e.root,e.root,r,i);const s=function vO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yO(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return br(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new yO(t,e,r)}(t);return s.toRoot()?tc(e.root,e.root,new Vt([],{}),r,i):function o(l){const c=function D7(n,e,t,r){if(n.isAbsolute)return new nc(e.root,!0,0);if(-1===r)return new nc(t,t===e.root,0);return function wO(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Be(4005,G0&&"Invalid number of '../'");i=r.segments.length}return new nc(r,!1,i-s)}(t,r+(dd(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?rc(c.segmentGroup,c.index,s.commands):$0(c.segmentGroup,c.index,s.commands);return tc(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function dd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hd(n){return"object"==typeof n&&null!=n&&n.outlets}function tc(n,e,t,r,i){let o,s={};r&&br(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:_O(n,e,t);const a=H0(Gp(o));return new Lo(a,s,i)}function _O(n,e,t){const r={};return br(n.children,(i,s)=>{r[s]=i===e?t:_O(i,e,t)}),new Vt(n.segments,r)}class yO{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dd(r[0]))throw new Be(4003,G0&&"Root segment cannot have matrix parameters");const i=r.find(hd);if(i&&i!==oO(r))throw new Be(4004,G0&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $0(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return rc(n,e,t);const r=function P7(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(hd(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!CO(l,c,o))return s;r+=2}else{if(!CO(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Vt(n.segments.slice(0,r.pathIndex),{});return s.children[xt]=new Vt(n.segments.slice(r.pathIndex),n.children),rc(s,0,i)}return r.match&&0===i.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?z0(n,e,t):r.match?rc(n,0,i):z0(n,e,t)}function rc(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function x7(n){return hd(n[0])?n[0].outlets:{[xt]:n}}(t),i={};if(!r[xt]&&n.children[xt]&&1===n.numberOfChildren&&0===n.children[xt].segments.length){const s=rc(n.children[xt],e,t);return new Vt(n.segments,s.children)}return br(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=$0(n.children[o],e,s))}),br(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Vt(n.segments,i)}}function z0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(hd(s)){const l=M7(s.outlets);return new Vt(r,l)}if(0===i&&dd(t[0])){r.push(new ld(n.segments[e].path,bO(t[0]))),i++;continue}const o=hd(s)?s.outlets[xt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&dd(a)?(r.push(new ld(o,bO(a))),i+=2):(r.push(new ld(o,{})),i++)}return new Vt(r,{})}function M7(n){const e={};return br(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=z0(new Vt([],{}),0,t))}),e}function bO(n){const e={};return br(n,(t,r)=>e[r]=`${t}`),e}function CO(n,e,t){return n==t.path&&ws(e,t.parameters)}const fd="imperative";class bs{constructor(e,t){this.id=e,this.url=t}}class q0 extends bs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class eo extends bs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $p extends bs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zp extends bs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class W0 extends bs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class k7 extends bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R7 extends bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O7 extends bs{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class N7 extends bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F7 extends bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L7{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class V7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class U7{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B7{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class j7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K0{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let z7=(()=>{class n{createUrlTree(t,r,i,s,o,a){return I7(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})(),W7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:function(e){return z7.\u0275fac(e)},providedIn:"root"}),n})();class EO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Q0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Q0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=X0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return X0(e,this._root).map(t=>t.value)}}function Q0(n,e){if(n===e.value)return e;for(const t of e.children){const r=Q0(n,t);if(r)return r}return null}function X0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=X0(n,t);if(r.length)return r.unshift(e),r}return[]}class to{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ic(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class SO extends EO{constructor(e,t){super(e),this.snapshot=t,Y0(this,e)}toString(){return this.snapshot.toString()}}function AO(n,e){const t=function K7(n,e){const o=new qp([],{},{},"",{},xt,e,null,n.root,-1,{});return new TO("",new to(o,[]))}(n,e),r=new ki([new ld("",{})]),i=new ki({}),s=new ki({}),o=new ki({}),a=new ki(""),l=new Cs(r,i,o,a,s,xt,e,t.root);return l.snapshot=t.root,new SO(new to(l,[]),t)}class Cs{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(X(c=>c[ad]))??ht(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(X(e=>ec(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(X(e=>ec(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IO(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Q7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qp{get title(){return this.data?.[ad]}constructor(e,t,r,i,s,o,a,l,c,u,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ec(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ec(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class TO extends EO{constructor(e,t){super(t),this.url=e,Y0(this,t)}toString(){return DO(this._root)}}function Y0(n,e){e.value._routerState=n,e.children.forEach(t=>Y0(n,t))}function DO(n){const e=n.children.length>0?` { ${n.children.map(DO).join(", ")} } `:"";return`${n.value}${e}`}function J0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ws(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ws(e.params,t.params)||n.params.next(t.params),function c7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ws(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ws(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Z0(n,e){const t=ws(n.params,e.params)&&function f7(n,e){return Ta(n,e)&&n.every((t,r)=>ws(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Z0(n.parent,e.parent))}function pd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Y7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pd(n,r,i);return pd(n,r)})}(n,e,t);return new to(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pd(n,a)),o}}const r=function J7(n){return new Cs(new ki(n.url),new ki(n.params),new ki(n.queryParams),new ki(n.fragment),new ki(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>pd(n,s));return new to(r,i)}}const ew="ngNavigationCancelingError";function xO(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Da(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PO(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function PO(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ew]=!0,r.cancellationCode=e,t&&(r.url=t),r}function MO(n){return kO(n)&&Da(n.url)}function kO(n){return n&&n[ew]}class Z7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new gd,this.attachRef=null}}let gd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Z7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wp=!1;let tw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=xt,this.activateEvents=new Wt,this.deactivateEvents=new Wt,this.attachEvents=new Wt,this.detachEvents=new Wt,this.parentContexts=Ft(gd),this.location=Ft(qi),this.changeDetector=Ft(ep),this.environmentInjector=Ft(us)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Be(4012,Wp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Be(4012,Wp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Be(4012,Wp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Be(4013,Wp);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new eK(t,a,i.injector);if(r&&function tK(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=wt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hi]}),n})();class eK{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Cs?this.route:e===gd?this.childContexts:this.parent.get(e,t)}}let nw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=En({type:n,selectors:[["ng-component"]],standalone:!0,features:[fP],decls:1,vars:0,template:function(t,r){1&t&&kn(0,"router-outlet")},dependencies:[tw],encapsulation:2}),n})();function RO(n,e){return n.providers&&!n._injector&&(n._injector=zf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function iw(n){const e=n.children&&n.children.map(iw),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==xt&&(t.component=nw),t}function Ri(n){return n.outlet||xt}function OO(n,e){const t=n.filter(r=>Ri(r)===e);return t.push(...n.filter(r=>Ri(r)!==e)),t}function md(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class oK{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),J0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ic(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),br(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ic(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ic(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ic(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new H7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new B7(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(J0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),J0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=md(i.snapshot),l=a?.get(Du)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class NO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Kp{constructor(e,t){this.component=e,this.route=t}}function aK(n,e,t){const r=n._root;return _d(r,e?e._root:null,t,[r.value])}function sc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Dj(n){return null!==zh(n)}(n)?e.get(n):n:r}function _d(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ic(e);return n.children.forEach(o=>{(function cK(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function uK(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ta(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ta(n.url,e.url)||!ws(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Z0(n,e)||!ws(n.queryParams,e.queryParams);default:return!Z0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new NO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),_d(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Kp(a.outlet.component,o))}else o&&yd(e,a,i),i.canActivateChecks.push(new NO(r)),_d(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),br(s,(o,a)=>yd(o,t.getContext(a),i)),i}function yd(n,e,t){const r=ic(n),i=n.value;br(r,(s,o)=>{yd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Kp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function vd(n){return"function"==typeof n}function sw(n){return n instanceof Op||"EmptyError"===n?.name}const Qp=Symbol("INITIAL_VALUE");function oc(){return vs(n=>XR(n.map(e=>e.pipe(Ro(1),function r7(...n){const e=ru(n);return L((t,r)=>{(e?Np(n,t,e):Np(n,t)).subscribe(r)})}(Qp)))).pipe(X(e=>{for(const t of e)if(!0!==t){if(t===Qp)return Qp;if(!1===t||t instanceof Lo)return t}return!0}),Xi(e=>e!==Qp),Ro(1)))}function FO(n){return function ce(...n){return ge(n)}(Or(e=>{if(Da(e))throw xO(0,e)}),X(e=>!0===e))}const ow={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LO(n,e,t,r,i){const s=aw(n,e,t);return s.matched?function TK(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ht(i.map(o=>{const a=sc(o,n);return Fo(function mK(n){return n&&vd(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(oc(),FO()):ht(!0)}(r=RO(e,r),e,t).pipe(X(o=>!0===o?s:{...ow})):ht(s)}function aw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ow}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||l7)(t,n,e);if(!i)return{...ow};const s={};br(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Xp(n,e,t,r){if(t.length>0&&function PK(n,e,t){return t.some(r=>Yp(n,e,r)&&Ri(r)!==xt)}(n,t,r)){const s=new Vt(e,function xK(n,e,t,r){const i={};i[xt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ri(s)!==xt){const o=new Vt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Ri(s)]=o}return i}(n,e,r,new Vt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function MK(n,e,t){return t.some(r=>Yp(n,e,r))}(n,t,r)){const s=new Vt(n.segments,function DK(n,e,t,r,i){const s={};for(const o of r)if(Yp(n,t,o)&&!i[Ri(o)]){const a=new Vt([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Ri(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new Vt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Yp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function VO(n,e,t,r){return!!(Ri(n)===r||r!==xt&&Yp(e,t,n))&&("**"===n.path||aw(e,n,t).matched)}function UO(n,e,t){return 0===e.length&&!n.children[t]}const Jp=!1;class Zp{constructor(e){this.segmentGroup=e||null}}class BO{constructor(e){this.urlTree=e}}function wd(n){return od(new Zp(n))}function jO(n){return od(new BO(n))}class NK{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Xp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Vt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,xt).pipe(X(s=>this.createUrlTree(Gp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(No(s=>{if(s instanceof BO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Zp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,xt).pipe(X(i=>this.createUrlTree(Gp(i),e.queryParams,e.fragment))).pipe(No(i=>{throw i instanceof Zp?this.noMatchError(i):i}))}noMatchError(e){return new Be(4002,Jp)}createUrlTree(e,t,r){const i=H0(e);return new Lo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(X(s=>new Vt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Pn(i).pipe(Mo(s=>{const o=r.children[s],a=OO(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(X(l=>({segment:l,outlet:s})))}),tO((s,o)=>(s[o.outlet]=o.segment,s),{}),nO())}expandSegment(e,t,r,i,s,o){return Pn(r).pipe(Mo(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(No(c=>{if(c instanceof Zp)return ht(null);throw c}))),Oo(a=>!!a),No((a,l)=>{if(sw(a))return UO(t,i,s)?ht(new Vt([],{})):wd(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return VO(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):wd(t):wd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jO(s):this.lineralizeSegments(r,s).pipe(nr(o=>{const a=new Vt(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=aw(t,i,s);if(!a)return wd(t);const h=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?jO(h):this.lineralizeSegments(i,h).pipe(nr(v=>this.expandSegment(e,t,r,v.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=RO(r,e),r.loadChildren?(r._loadedRoutes?ht({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(X(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Vt(i,{})))):ht(new Vt(i,{}))):LO(t,r,i,e).pipe(vs(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(nr(u=>{const h=u.injector??e,v=u.routes,{segmentGroup:D,slicedSegments:$}=Xp(t,a,l,v),se=new Vt(D.segments,D.children);if(0===$.length&&se.hasChildren())return this.expandChildren(h,v,se).pipe(X(we=>new Vt(a,we)));if(0===v.length&&0===$.length)return ht(new Vt(a,{}));const he=Ri(r)===s;return this.expandSegment(h,se,v,$,he?xt:s,!0).pipe(X(Pe=>new Vt(a.concat(Pe.segments),Pe.children)))})):wd(t)))}getChildConfig(e,t,r){return t.children?ht({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ht({routes:t._loadedRoutes,injector:t._loadedInjector}):function IK(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ht(!0):ht(i.map(o=>{const a=sc(o,n);return Fo(function hK(n){return n&&vd(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(oc(),FO())}(e,t,r).pipe(nr(i=>i?this.configLoader.loadChildren(e,t).pipe(Or(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function RK(n){return od(PO(Jp,3))}())):ht({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ht(r);if(i.numberOfChildren>1||!i.children[xt])return e.redirectTo,od(new Be(4e3,Jp));i=i.children[xt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Lo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return br(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return br(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Vt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Be(4001,Jp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class LK{}class BK{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Xp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,xt).pipe(X(t=>{if(null===t)return null;const r=new qp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new to(r,t),s=new TO(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=IO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Pn(Object.keys(r.children)).pipe(Mo(i=>{const s=r.children[i],o=OO(t,i);return this.processSegmentGroup(e,o,s,i)}),tO((i,s)=>i&&s?(i.push(...s),i):null),function o7(n,e=!1){return L((t,r)=>{let i=0;t.subscribe(x(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Fp(null),nO(),X(i=>{if(null===i)return null;const s=GO(i);return function jK(n){n.sort((e,t)=>e.value.outlet===xt?-1:t.value.outlet===xt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return Pn(t).pipe(Mo(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Oo(o=>!!o),No(o=>{if(sw(o))return UO(r,i,s)?ht([]):ht(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!VO(t,r,i,s))return ht(null);let o;if("**"===t.path){const a=i.length>0?oO(i).parameters:{},l=zO(r)+i.length;o=ht({snapshot:new qp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qO(t),Ri(t),t.component??t._loadedComponent??null,t,$O(r),l,WO(t)),consumedSegments:[],remainingSegments:[]})}else o=LO(r,t,i,e).pipe(X(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const h=zO(r)+l.length;return{snapshot:new qp(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qO(t),Ri(t),t.component??t._loadedComponent??null,t,$O(r),h,WO(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(vs(a=>{if(null===a)return ht(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const h=t._loadedInjector??e,v=function HK(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:D,slicedSegments:$}=Xp(r,c,u,v.filter(he=>void 0===he.redirectTo));if(0===$.length&&D.hasChildren())return this.processChildren(h,v,D).pipe(X(he=>null===he?null:[new to(l,he)]));if(0===v.length&&0===$.length)return ht([new to(l,[])]);const se=Ri(t)===s;return this.processSegment(h,v,D,$,se?xt:s).pipe(X(he=>null===he?null:[new to(l,he)]))}))}}function GK(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function GO(n){const e=[],t=new Set;for(const r of n){if(!GK(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=GO(r.children);e.push(new to(r.value,i))}return e.filter(r=>!t.has(r))}function $O(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zO(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function qO(n){return n.data||{}}function WO(n){return n.resolve||{}}function KO(n){return"string"==typeof n.title||null===n.title}function lw(n){return vs(e=>{const t=n(e);return t?Pn(t).pipe(X(()=>e)):ht(e)})}const ac=new ot("ROUTES");let cw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ft(nM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ht(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Fo(t.loadComponent()).pipe(X(XO),Or(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),U0(()=>{this.componentLoaders.delete(t)})),i=new ZR(r,()=>new d).pipe(L0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ht({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(X(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=sO(l.get(ac,[],mt.Self|mt.Optional)));return{routes:c.map(iw),injector:l}}),U0(()=>{this.childrenLoaders.delete(r)})),o=new ZR(s,()=>new d).pipe(L0());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Fo(t()).pipe(X(XO),nr(r=>r instanceof dP||Array.isArray(r)?ht(r):Pn(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XO(n){return function YK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let tg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new d,this.configLoader=Ft(cw),this.environmentInjector=Ft(us),this.urlSerializer=Ft(cd),this.rootContexts=Ft(gd),this.navigationId=0,this.afterPreactivation=()=>ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new V7(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new L7(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ki({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fd,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xi(r=>0!==r.id),X(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),vs(r=>{let i=!1,s=!1;return ht(r).pipe(Or(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vs(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new zp(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),is}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return YO(o.source)&&(t.browserUrlTree=o.extractedUrl),ht(o).pipe(vs(u=>{const h=this.transitions?.getValue();return this.events.next(new q0(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions?.getValue()?is:Promise.resolve(u)}),function FK(n,e,t,r){return vs(i=>function OK(n,e,t,r,i){return new NK(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(X(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Or(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function zK(n,e,t,r,i){return nr(s=>function UK(n,e,t,r,i,s,o="emptyOnly"){return new BK(n,e,t,r,i,o,s).recognize().pipe(vs(a=>null===a?function VK(n){return new R(e=>e.error(n))}(new LK):ht(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(X(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Or(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const v=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(v,u)}t.browserUrlTree=u.urlAfterRedirects}const h=new k7(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:h,source:v,restoredState:D,extras:$}=o,se=new q0(u,this.urlSerializer.serialize(h),v,D);this.events.next(se);const he=AO(h,this.rootComponentType).snapshot;return ht(r={...o,targetSnapshot:he,urlAfterRedirects:h,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new zp(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),is}}),Or(o=>{const a=new R7(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),X(o=>r={...o,guards:aK(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function yK(n,e){return nr(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ht({...t,guardsResult:!0}):function vK(n,e,t,r){return Pn(n).pipe(nr(i=>function AK(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ht(s.map(a=>{const l=md(e)??i,c=sc(a,l);return Fo(function gK(n){return n&&vd(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Oo())})).pipe(oc()):ht(!0)}(i.component,i.route,t,e,r)),Oo(i=>!0!==i,!0))}(o,r,i,n).pipe(nr(a=>a&&function dK(n){return"boolean"==typeof n}(a)?function wK(n,e,t,r){return Pn(e).pipe(Mo(i=>Np(function CK(n,e){return null!==n&&e&&e(new U7(n)),ht(!0)}(i.route.parent,r),function bK(n,e){return null!==n&&e&&e(new j7(n)),ht(!0)}(i.route,r),function SK(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function lK(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>JR(()=>ht(o.guards.map(l=>{const c=md(o.node)??t,u=sc(l,c);return Fo(function pK(n){return n&&vd(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(Oo())})).pipe(oc())));return ht(s).pipe(oc())}(n,i.path,t),function EK(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ht(!0);const i=r.map(s=>JR(()=>{const o=md(e)??t,a=sc(s,o);return Fo(function fK(n){return n&&vd(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Oo())}));return ht(i).pipe(oc())}(n,i.route,t))),Oo(i=>!0!==i,!0))}(r,s,n,e):ht(a)),X(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Or(o=>{if(r.guardsResult=o.guardsResult,Da(o.guardsResult))throw xO(0,o.guardsResult);const a=new O7(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Xi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),lw(o=>{if(o.guards.canActivateChecks.length)return ht(o).pipe(Or(a=>{const l=new N7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),vs(a=>{let l=!1;return ht(a).pipe(function qK(n,e){return nr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ht(t);let s=0;return Pn(i).pipe(Mo(o=>function WK(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!KO(i)&&(s[ad]=i.title),function KK(n,e,t,r){const i=function QK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ht({});const s={};return Pn(i).pipe(nr(o=>function XK(n,e,t,r){const i=md(e)??r,s=sc(n,i);return Fo(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Oo(),Or(a=>{s[o]=a}))),V0(1),rO(s),No(o=>sw(o)?is:od(o)))}(s,n,e,r).pipe(X(o=>(n._resolvedData=o,n.data=IO(n,t).resolve,i&&KO(i)&&(n.data[ad]=i.title),null)))}(o.route,r,n,e)),Or(()=>s++),V0(1),nr(o=>s===i.length?ht(t):is))})}(t.paramsInheritanceStrategy,this.environmentInjector),Or({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Or(a=>{const l=new F7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),lw(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Or(u=>{l.component=u}),X(()=>{})));for(const u of l.children)c.push(...a(u));return c};return XR(a(o.targetSnapshot.root)).pipe(Fp(),Ro(1))}),lw(()=>this.afterPreactivation()),X(o=>{const a=function X7(n,e,t){const r=pd(n,e._root,t?t._root:void 0);return new SO(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Or(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>X(r=>(new oK(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Ro(1),Or({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new eo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),U0(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),No(o=>{if(s=!0,kO(o)){MO(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new $p(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),MO(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||YO(r.source)};t.scheduleNavigation(l,fd,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new W0(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return is}))}))}cancelNavigationTransition(t,r,i){const s=new $p(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YO(n){return n!==fd}let JO=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===xt);return r}getResolvedTitleForRoute(t){return t.data[ad]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:function(){return Ft(JK)},providedIn:"root"}),n})(),JK=(()=>{class n extends JO{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(at(Ek))},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:function(){return Ft(tQ)},providedIn:"root"}),n})();class eQ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let tQ=(()=>{class n extends eQ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=wr(n)))(r||n)}}(),n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ng=new ot("",{providedIn:"root",factory:()=>({})});let rQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:function(){return Ft(iQ)},providedIn:"root"}),n})(),iQ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sQ(n){throw n}function oQ(n,e,t){return e.parse("/")}const aQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ft(e5),this.isNgZoneEnabled=!1,this.options=Ft(ng,{optional:!0})||{},this.errorHandler=this.options.errorHandler||sQ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oQ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ft(rQ),this.routeReuseStrategy=Ft(ZK),this.urlCreationStrategy=Ft(W7),this.titleStrategy=Ft(JO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=sO(Ft(ac,{optional:!0})??[]),this.navigationTransitions=Ft(tg),this.urlSerializer=Ft(cd),this.location=Ft(Lv),this.isNgZoneEnabled=Ft(On)instanceof On&&On.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=AO(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fd,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(iw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Da(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,fd,null,r)}navigate(t,r={skipLocationChange:!1}){return function cQ(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Be(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...aQ}:!1===r?{...lQ}:r,Da(t))return lO(this.currentUrlTree,t,i);const s=this.parseUrl(t);return lO(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,v)=>{a=h,l=v}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vo=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new d;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof eo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Kl(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Kl(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Kl(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function VD(n,e,t){return function eH(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?LD:dy}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(xe(Gn),xe(Cs),function pf(n){return function I3(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(TT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(vr(),n)}("tabindex"),xe(Gs),xe(ri),xe(Ca))},n.\u0275dir=wt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&it("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&ps("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[hi]}),n})();class ZO{}let hQ=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Xi(t=>t instanceof eo),Mo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=zf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Pn(i).pipe(ll())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ht(null);const s=i.pipe(nr(o=>null===o?ht(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Pn([s,this.loader.loadComponent(r)]).pipe(ll()):s})}}return n.\u0275fac=function(t){return new(t||n)(at(Gn),at(nM),at(us),at(ZO),at(cw))},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dw=new ot("");let eN=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof q0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof eo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof K0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new K0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function gx(){throw new Error("invalid")}()},n.\u0275prov=ut({token:n,factory:n.\u0275fac}),n})();var _i=(()=>((_i=_i||{})[_i.COMPLETE=0]="COMPLETE",_i[_i.FAILED=1]="FAILED",_i[_i.REDIRECTING=2]="REDIRECTING",_i))();const lc=!1;function Uo(n,e){return{\u0275kind:n,\u0275providers:e}}const hw=new ot("",{providedIn:"root",factory:()=>!1});function nN(){const n=Ft(ds);return e=>{const t=n.get(Jf);if(e!==t.components[0])return;const r=n.get(Gn),i=n.get(rN);1===n.get(fw)&&r.initialNavigation(),n.get(iN,null,mt.Optional)?.setUpPreloading(),n.get(dw,null,mt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const rN=new ot(lc?"bootstrap done indicator":"",{factory:()=>new d}),fw=new ot(lc?"initial navigation":"",{providedIn:"root",factory:()=>1});function _Q(){let n=[];return n=lc?[{provide:Af,multi:!0,useFactory:()=>{const e=Ft(Gn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function G7(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Uo(1,n)}const iN=new ot(lc?"router preloader":"");function yQ(n){return Uo(0,[{provide:iN,useExisting:hQ},{provide:ZO,useExisting:n}])}const bd=!1,sN=new ot(bd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),vQ=[Lv,{provide:cd,useClass:B0},Gn,gd,{provide:Cs,useFactory:function tN(n){return n.routerState.root},deps:[Gn]},cw,bd?{provide:hw,useValue:!0}:[]];function wQ(){return new uM("Router",Gn)}let oN=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vQ,bd&&r?.enableTracing?_Q().\u0275providers:[],{provide:ac,multi:!0,useValue:t},{provide:sN,useFactory:SQ,deps:[[Gn,new yu,new vu]]},{provide:ng,useValue:r||{}},r?.useHash?{provide:Ca,useClass:j5}:{provide:Ca,useClass:RM},{provide:dw,useFactory:()=>{const n=Ft(ZM),e=Ft(On),t=Ft(ng),r=Ft(tg),i=Ft(cd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new eN(i,r,n,e,t)}},r?.preloadingStrategy?yQ(r.preloadingStrategy).\u0275providers:[],{provide:uM,multi:!0,useFactory:wQ},r?.initialNavigation?AQ(r):[],[{provide:aN,useFactory:nN},{provide:cM,multi:!0,useExisting:aN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ac,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(at(sN,8))},n.\u0275mod=Ai({type:n}),n.\u0275inj=ci({imports:[nw]}),n})();function SQ(n){if(bd&&n)throw new Be(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function AQ(n){return["disabled"===n.initialNavigation?Uo(3,[{provide:Qf,multi:!0,useFactory:()=>{const e=Ft(Gn);return()=>{e.setUpLocationChangeListener()}}},{provide:fw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Uo(2,[{provide:fw,useValue:0},{provide:Qf,multi:!0,deps:[ds],useFactory:e=>{const t=e.get(U5,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Gn),s=e.get(rN);(function fQ(n,e){n.events.pipe(Xi(t=>t instanceof eo||t instanceof $p||t instanceof W0||t instanceof zp),X(t=>t instanceof eo||t instanceof zp?_i.COMPLETE:t instanceof $p&&(0===t.code||1===t.code)?_i.REDIRECTING:_i.FAILED),Xi(t=>t!==_i.REDIRECTING),Ro(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(tg).afterPreactivation=()=>(r(!0),s.closed?ht(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const aN=new ot(bd?"Router Initializer":""),lN_mobileAndTabletCheck=function(){let n=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(n=!0),n;var e};function cN(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function oe(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){cN(s,r,i,o,a,"next",l)}function a(l){cN(s,r,i,o,a,"throw",l)}o(void 0)})}}const uN=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},dN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let v=(15&a)<<2|c>>6,D=63&c;l||(D=64,o||(v=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[v],t[D])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==h)throw new PQ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class PQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rg=function(n){return function(n){const e=uN(n);return dN.encodeByteArray(e,!0)}(n).replace(/\./g,"")},ig=function(n){try{return dN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},sg=()=>{try{return function RQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ig(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},fN=n=>{var e,t;return null===(t=null===(e=sg())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},pN=()=>{var n;return null===(n=sg())||void 0===n?void 0:n.config},gN=n=>{var e;return null===(e=sg())||void 0===e?void 0:e[`_${n}`]};class mN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function cr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _N(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function yN(){try{return"object"==typeof indexedDB}catch{return!1}}function vN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}class Yi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xa.prototype.create)}}class xa{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function zQ(n,e){return n.replace(qQ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Yi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const qQ=/\{\$([^}]+)}/g;function Cd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(bN(s)&&bN(o)){if(!Cd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function bN(n){return null!==n&&"object"==typeof n}function Ed(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class QQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function XQ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=gw),void 0===i.error&&(i.error=gw),void 0===i.complete&&(i.complete=gw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gw(){}const YQ=1e3,JQ=2,ZQ=144e5,eX=.5;function CN(n,e=YQ,t=JQ){const r=e*Math.pow(t,n),i=Math.round(eX*r*(Math.random()-.5)*2);return Math.min(ZQ,r+i)}function Kr(n){return n&&n._delegate?n._delegate:n}class Ji{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pa="[DEFAULT]";class nX{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new mN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function iX(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return oe(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Pa?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class sX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nX(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const _w=[];var $t=(()=>{return(n=$t||($t={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",$t;var n})();const EN={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},oX=$t.INFO,aX={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},lX=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=aX[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class ag{constructor(e){this.name=e,this._logLevel=oX,this._logHandler=lX,this._userLogHandler=null,_w.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...e),this._logHandler(this,$t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...e),this._logHandler(this,$t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...e),this._logHandler(this,$t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...e),this._logHandler(this,$t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...e),this._logHandler(this,$t.ERROR,...e)}}const cX=(n,e)=>e.some(t=>n instanceof t);let SN,AN;const IN=new WeakMap,yw=new WeakMap,TN=new WeakMap,vw=new WeakMap,ww=new WeakMap;let bw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return yw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||TN.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function mX(n){return"function"==typeof n?function gX(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dX(){return AN||(AN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Cw(this),e),Bo(IN.get(this))}:function(...e){return Bo(n.apply(Cw(this),e))}:function(e,...t){const r=n.call(Cw(this),e,...t);return TN.set(r,e.sort?e.sort():[e]),Bo(r)}}(n):(n instanceof IDBTransaction&&function fX(n){if(yw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});yw.set(n,e)}(n),cX(n,function uX(){return SN||(SN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,bw):n)}function Bo(n){if(n instanceof IDBRequest)return function hX(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Bo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&IN.set(t,n)}).catch(()=>{}),ww.set(e,n),e}(n);if(vw.has(n))return vw.get(n);const e=mX(n);return e!==n&&(vw.set(n,e),ww.set(e,n)),e}const Cw=n=>ww.get(n),yX=["get","getKey","getAll","getAllKeys","count"],vX=["put","add","delete","clear"],Ew=new Map;function DN(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ew.get(e))return Ew.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=vX.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yX.includes(t))return;const s=function(){var o=oe(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return Ew.set(e,s),s}!function pX(n){bw=n(bw)}(n=>({...n,get:(e,t,r)=>DN(e,t)||n.get(e,t,r),has:(e,t)=>!!DN(e,t)||n.has(e,t)}));class wX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function bX(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Sw="@firebase/app",Ma=new ag("@firebase/app"),lg="[DEFAULT]",WX={[Sw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ka=new Map,cg=new Map;function KX(n,e){try{n.container.addComponent(e)}catch(t){Ma.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Es(n){const e=n.name;if(cg.has(e))return Ma.debug(`There were multiple attempts to register component ${e}.`),!1;cg.set(e,n);for(const t of ka.values())KX(t,n);return!0}function jo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const no=new xa("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class XX{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}const cc="9.23.0";function PN(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:lg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw no.create("bad-app-name",{appName:String(i)});if(t||(t=pN()),!t)throw no.create("no-options");const s=ka.get(i);if(s){if(Cd(t,s.options)&&Cd(r,s.config))return s;throw no.create("duplicate-app",{appName:i})}const o=new sX(i);for(const l of cg.values())o.addComponent(l);const a=new XX(t,r,o);return ka.set(i,a),a}function Aw(n=lg){const e=ka.get(n);if(!e&&n===lg&&pN())return PN();if(!e)throw no.create("no-app",{appName:n});return e}function Oi(n,e,t){var r;let i=null!==(r=WX[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ma.warn(a.join(" "))}Es(new Ji(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const YX="firebase-heartbeat-database",JX=1,Sd="firebase-heartbeat-store";let Tw=null;function MN(){return Tw||(Tw=function _X(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Bo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bo(o.result),l.oldVersion,l.newVersion,Bo(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(YX,JX,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Sd)}}).catch(n=>{throw no.create("idb-open",{originalErrorMessage:n.message})})),Tw}function Dw(){return(Dw=oe(function*(n){try{return yield(yield MN()).transaction(Sd).objectStore(Sd).get(RN(n))}catch(e){if(e instanceof Yi)Ma.warn(e.message);else{const t=no.create("idb-get",{originalErrorMessage:e?.message});Ma.warn(t.message)}}})).apply(this,arguments)}function kN(n,e){return xw.apply(this,arguments)}function xw(){return(xw=oe(function*(n,e){try{const r=(yield MN()).transaction(Sd,"readwrite");yield r.objectStore(Sd).put(e,RN(n)),yield r.done}catch(t){if(t instanceof Yi)Ma.warn(t.message);else{const r=no.create("idb-set",{originalErrorMessage:t?.message});Ma.warn(r.message)}}})).apply(this,arguments)}function RN(n){return`${n.name}!${n.options.appId}`}class nY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iY(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return oe(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ON();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return oe(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=ON(),{heartbeatsToSend:r,unsentEntries:i}=function rY(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NN(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),NN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=rg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function ON(){return(new Date).toISOString().substring(0,10)}class iY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return oe(function*(){return!!yN()&&vN().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return oe(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ZX(n){return Dw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return oe(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return kN(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return oe(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return kN(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function NN(n){return rg(JSON.stringify({version:2,heartbeats:n})).length}!function sY(n){Es(new Ji("platform-logger",e=>new wX(e),"PRIVATE")),Es(new Ji("heartbeat",e=>new nY(e),"PRIVATE")),Oi(Sw,"0.9.13",n),Oi(Sw,"0.9.13","esm2017"),Oi("fire-js","")}(""),Oi("firebase","9.23.0","app");const lY=(n,e)=>e.some(t=>n instanceof t);let FN,LN;const VN=new WeakMap,Pw=new WeakMap,UN=new WeakMap,Mw=new WeakMap,kw=new WeakMap;let Rw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Pw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||UN.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ho(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function gY(n){return"function"==typeof n?function pY(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function uY(){return LN||(LN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ow(this),e),Ho(VN.get(this))}:function(...e){return Ho(n.apply(Ow(this),e))}:function(e,...t){const r=n.call(Ow(this),e,...t);return UN.set(r,e.sort?e.sort():[e]),Ho(r)}}(n):(n instanceof IDBTransaction&&function hY(n){if(Pw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Pw.set(n,e)}(n),lY(n,function cY(){return FN||(FN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Rw):n)}function Ho(n){if(n instanceof IDBRequest)return function dY(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ho(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&VN.set(t,n)}).catch(()=>{}),kw.set(e,n),e}(n);if(Mw.has(n))return Mw.get(n);const e=gY(n);return e!==n&&(Mw.set(n,e),kw.set(e,n)),e}const Ow=n=>kw.get(n),_Y=["get","getKey","getAll","getAllKeys","count"],yY=["put","add","delete","clear"],Nw=new Map;function BN(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Nw.get(e))return Nw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=yY.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_Y.includes(t))return;const s=function(){var o=oe(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return Nw.set(e,s),s}!function fY(n){Rw=n(Rw)}(n=>({...n,get:(e,t,r)=>BN(e,t)||n.get(e,t,r),has:(e,t)=>!!BN(e,t)||n.has(e,t)}));const jN="@firebase/installations",Fw="0.6.4",HN=1e4,GN=`w:${Fw}`,$N="FIS_v2",vY="https://firebaseinstallations.googleapis.com/v1",wY=36e5,ro=new xa("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zN(n){return n instanceof Yi&&n.code.includes("request-failed")}function Lw({projectId:n}){return`${vY}/projects/${n}/installations`}function qN(n){return{token:n.token,requestStatus:2,expiresIn:SY(n.expiresIn),creationTime:Date.now()}}function Vw(n,e){return Uw.apply(this,arguments)}function Uw(){return(Uw=oe(function*(n,e){const r=(yield e.json()).error;return ro.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function WN({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Bw(n){return jw.apply(this,arguments)}function jw(){return(jw=oe(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function SY(n){return Number(n.replace("s","000"))}function Hw(){return(Hw=oe(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Lw(n),i=WN(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:$N,appId:n.appId,sdkVersion:GN})},l=yield Bw(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:qN(c.authToken)}}throw yield Vw("Create Installation",l)})).apply(this,arguments)}function QN(n){return new Promise(e=>{setTimeout(e,n)})}const DY=/^[cdef][\w-]{21}$/,Gw="";function xY(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function PY(n){return function TY(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return DY.test(t)?t:Gw}catch{return Gw}}function uc(n){return`${n.appName}!${n.appId}`}const dc=new Map;function XN(n,e){const t=uc(n);YN(t,e),function RY(n,e){const t=function JN(){return!Ra&&"BroadcastChannel"in self&&(Ra=new BroadcastChannel("[Firebase] FID Change"),Ra.onmessage=n=>{YN(n.data.key,n.data.fid)}),Ra}();t&&t.postMessage({key:n,fid:e}),function ZN(){0===dc.size&&Ra&&(Ra.close(),Ra=null)}()}(t,e)}function YN(n,e){const t=dc.get(n);if(t)for(const r of t)r(e)}let Ra=null;const OY="firebase-installations-database",NY=1,Oa="firebase-installations-store";let $w=null;function zw(){return $w||($w=function mY(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ho(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ho(o.result),l.oldVersion,l.newVersion,Ho(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(OY,NY,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Oa)}})),$w}function ug(n,e){return qw.apply(this,arguments)}function qw(){return(qw=oe(function*(n,e){const t=uc(n),i=(yield zw()).transaction(Oa,"readwrite"),s=i.objectStore(Oa),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&XN(n,e.fid),e})).apply(this,arguments)}function Ww(n){return Kw.apply(this,arguments)}function Kw(){return(Kw=oe(function*(n){const e=uc(n),r=(yield zw()).transaction(Oa,"readwrite");yield r.objectStore(Oa).delete(e),yield r.done})).apply(this,arguments)}function Ad(n,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=oe(function*(n,e){const t=uc(n),i=(yield zw()).transaction(Oa,"readwrite"),s=i.objectStore(Oa),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&XN(n,a.fid),a})).apply(this,arguments)}function Xw(n){return Yw.apply(this,arguments)}function Yw(){return Yw=oe(function*(n){let e;const t=yield Ad(n.appConfig,r=>{const i=function FY(n){return tF(n||{fid:xY(),registrationStatus:0})}(r),s=function LY(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ro.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function VY(n,e){return Jw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:UY(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===Gw?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),Yw.apply(this,arguments)}function Jw(){return Jw=oe(function*(n,e){try{const t=yield function IY(n,e){return Hw.apply(this,arguments)}(n,e);return ug(n.appConfig,t)}catch(t){throw zN(t)&&409===t.customData.serverCode?yield Ww(n.appConfig):yield ug(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),Jw.apply(this,arguments)}function UY(n){return Zw.apply(this,arguments)}function Zw(){return(Zw=oe(function*(n){let e=yield eF(n.appConfig);for(;1===e.registrationStatus;)yield QN(100),e=yield eF(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Xw(n);return r||t}return e})).apply(this,arguments)}function eF(n){return Ad(n,e=>{if(!e)throw ro.create("installation-not-found");return tF(e)})}function tF(n){return function BY(n){return 1===n.registrationStatus&&n.registrationTime+HN<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function eb(){return(eb=oe(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function HY(n,{fid:e}){return`${Lw(n)}/${e}/authTokens:generate`}(n,t),i=function KN(n,{refreshToken:e}){const t=WN(n);return t.append("Authorization",function AY(n){return`${$N} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:GN,appId:n.appId}})},l=yield Bw(()=>fetch(r,a));if(l.ok)return qN(yield l.json());throw yield Vw("Generate Auth Token",l)})).apply(this,arguments)}function tb(n){return nb.apply(this,arguments)}function nb(){return nb=oe(function*(n,e=!1){let t;const r=yield Ad(n.appConfig,s=>{if(!rF(s))throw ro.create("not-registered");const o=s.authToken;if(!e&&function zY(n){return 2===n.requestStatus&&!function qY(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+wY}(n)}(o))return s;if(1===o.requestStatus)return t=function GY(n,e){return rb.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw ro.create("app-offline");const a=function WY(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function $Y(n,e){return ib.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),nb.apply(this,arguments)}function rb(){return(rb=oe(function*(n,e){let t=yield nF(n.appConfig);for(;1===t.authToken.requestStatus;)yield QN(100),t=yield nF(n.appConfig);const r=t.authToken;return 0===r.requestStatus?tb(n,e):r})).apply(this,arguments)}function nF(n){return Ad(n,e=>{if(!rF(e))throw ro.create("not-registered");return function KY(n){return 1===n.requestStatus&&n.requestTime+HN<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ib(){return ib=oe(function*(n,e){try{const t=yield function jY(n,e){return eb.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield ug(n.appConfig,r),t}catch(t){if(!zN(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ug(n.appConfig,r)}else yield Ww(n.appConfig);throw t}}),ib.apply(this,arguments)}function rF(n){return void 0!==n&&2===n.registrationStatus}function sb(){return(sb=oe(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Xw(e);return r?r.catch(console.error):tb(e).catch(console.error),t.fid})).apply(this,arguments)}function ob(){return ob=oe(function*(n,e=!1){const t=n;return yield function YY(n){return ab.apply(this,arguments)}(t),(yield tb(t,e)).token}),ob.apply(this,arguments)}function ab(){return(ab=oe(function*(n){const{registrationPromise:e}=yield Xw(n);e&&(yield e)})).apply(this,arguments)}function ub(n){return ro.create("missing-app-config-values",{valueName:n})}const iF="installations",nJ=n=>{const e=n.getProvider("app").getImmediate(),t=function eJ(n){if(!n||!n.options)throw ub("App Configuration");if(!n.name)throw ub("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw ub(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:jo(e,"heartbeat"),_delete:()=>Promise.resolve()}},rJ=n=>{const t=jo(n.getProvider("app").getImmediate(),iF).getImmediate();return{getId:()=>function QY(n){return sb.apply(this,arguments)}(t),getToken:i=>function XY(n){return ob.apply(this,arguments)}(t,i)}};(function iJ(){Es(new Ji(iF,nJ,"PUBLIC")),Es(new Ji("installations-internal",rJ,"PRIVATE"))})(),Oi(jN,Fw),Oi(jN,Fw,"esm2017");const dg="analytics",sJ="firebase_id",oJ="origin",aJ=6e4,lJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",db="https://www.googletagmanager.com/gtag/js",ur=new ag("@firebase/analytics"),Qr=new xa("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function uJ(n){if(!n.startsWith(db)){const e=Qr.create("invalid-gtag-resource",{gtagURL:n});return ur.warn(e.message),""}return n}function sF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function hb(){return(hb=oe(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield sF(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){ur.error(a)}n("config",i,s)})).apply(this,arguments)}function fb(){return(fb=oe(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield sF(t);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){ur.error(s)}})).apply(this,arguments)}const vJ=30,oF=new class bJ{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function CJ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function pb(){return(pb=oe(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:CJ(r)},s=lJ.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Qr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function gb(){return(gb=oe(function*(n,e=oF,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Qr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Qr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new TJ;return setTimeout(oe(function*(){a.abort()}),void 0!==t?t:aJ),aF({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function aF(n,e,t){return mb.apply(this,arguments)}function mb(){return mb=oe(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=oF){var s;const{appId:o,measurementId:a}=n;try{yield function AJ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function EJ(n){return pb.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!function IJ(n){if(!(n instanceof Yi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?CN(t,i.intervalMillis,vJ):CN(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,h),ur.debug(`Calling attemptFetch again in ${u} millis`),aF(n,h,r,i)}}),mb.apply(this,arguments)}class TJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let _b,Sb;function yb(){return(yb=oe(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Ab(){return(Ab=oe(function*(){if(!yN())return ur.warn(Qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield vN()}catch(n){return ur.warn(Qr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ib(){return Ib=oe(function*(n,e,t,r,i,s,o){var a;const l=function SJ(n){return gb.apply(this,arguments)}(n);l.then(D=>{t[D.measurementId]=D.appId,n.options.measurementId&&D.measurementId!==n.options.measurementId&&ur.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>ur.error(D)),e.push(l);const c=function OJ(){return Ab.apply(this,arguments)}().then(D=>{if(D)return r.getId()}),[u,h]=yield Promise.all([l,c]);(function yJ(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(db)&&t.src.includes(n))return t;return null})(s)||function hJ(n,e){const t=function dJ(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:uJ}),r=document.createElement("script"),i=`${db}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),Sb&&(i("consent","default",Sb),function lF(n){Sb=n}(void 0)),i("js",new Date);const v=null!==(a=o?.config)&&void 0!==a?a:{};return v[oJ]="firebase",v.update=!0,null!=h&&(v[sJ]=h),i("config",u.measurementId,v),_b&&(i("set",_b),function cF(n){_b=n}(void 0)),u.measurementId}),Ib.apply(this,arguments)}class FJ{constructor(e){this.app=e}_delete(){return delete Ss[this.app.options.appId],Promise.resolve()}}let Ss={},uF=[];const dF={};let fF,As,hg="dataLayer",hF="gtag",Tb=!1;function VJ(n,e,t){!function LJ(){const n=[];if(_N()&&n.push("This is a browser extension environment."),function GQ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Qr.create("invalid-analytics-context",{errorInfo:e});ur.warn(t.message)}}();const r=n.options.appId;if(!r)throw Qr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Qr.create("no-api-key");ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ss[r])throw Qr.create("already-exists",{id:r});if(!Tb){!function fJ(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(hg);const{wrappedGtag:s,gtagCore:o}=function _J(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function mJ(n,e,t,r){function s(){return s=oe(function*(o,...a){try{if("event"===o){const[l,c]=a;yield function gJ(n,e,t,r,i){return fb.apply(this,arguments)}(n,e,t,l,c)}else if("config"===o){const[l,c]=a;yield function pJ(n,e,t,r,i,s){return hb.apply(this,arguments)}(n,e,t,r,l,c)}else if("consent"===o){const[l]=a;n("consent","update",l)}else if("get"===o){const[l,c,u]=a;n("get",l,c,u)}else if("set"===o){const[l]=a;n("set",l)}else n(o,...a)}catch(l){ur.error(l)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Ss,uF,dF,hg,hF);As=s,fF=o,Tb=!0}return Ss[r]=function NJ(n,e,t,r,i,s,o){return Ib.apply(this,arguments)}(n,uF,dF,e,fF,hg,t),new FJ(n)}function pF(n,e,t,r){n=Kr(n),function DJ(n,e,t,r,i){return yb.apply(this,arguments)}(As,Ss[n.app.options.appId],e,t,r).catch(i=>ur.error(i))}const gF="@firebase/analytics";!function jJ(){Es(new Ji(dg,(e,{options:t})=>VJ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Es(new Ji("analytics-internal",function n(e){try{const t=e.getProvider(dg).getImmediate();return{logEvent:(r,i,s)=>pF(t,r,i,s)}}catch(t){throw Qr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Oi(gF,"0.10.0"),Oi(gF,"0.10.0","esm2017")}();const HJ=function _F(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yF=new xa("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fg=new ag("@firebase/auth");function pg(n,...e){fg.logLevel<=$t.ERROR&&fg.error(`Auth (${cc}): ${n}`,...e)}function si(n,...e){throw Pb(n,...e)}function yi(n,...e){return Pb(n,...e)}function vF(n,e,t){const r=Object.assign(Object.assign({},HJ()),{[e]:t});return new xa("auth","Firebase",r).create(e,{appName:n.name})}function Pb(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yF.create(n,...e)}function Ge(n,e,...t){if(!n)throw Pb(e,...t)}function Is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pg(e),new Error(e)}function io(n,e){n||Is(e)}function Id(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function wF(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Td{constructor(e,t){this.shortDelay=e,this.longDelay=t,io(t>e,"Short delay should be less than long delay!"),this.isMobile=function UQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())}()||function jQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function $J(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Mb(){return"http:"===wF()||"https:"===wF()}()||_N()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kb(n,e){io(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class bF{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},WJ=new Td(3e4,6e4);function Dn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Nn(n,e,t,r){return Rb.apply(this,arguments)}function Rb(){return(Rb=oe(function*(n,e,t,r,i={}){return CF(n,i,oe(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ed(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),bF.fetch()(EF(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function CF(n,e,t){return Ob.apply(this,arguments)}function Ob(){return(Ob=oe(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},qJ),e);try{const i=new KJ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Dd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Dd(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Dd(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Dd(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vF(n,u,c);si(n,u)}}catch(i){if(i instanceof Yi)throw i;si(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function so(n,e,t,r){return Nb.apply(this,arguments)}function Nb(){return(Nb=oe(function*(n,e,t,r,i={}){const s=yield Nn(n,e,t,r,i);return"mfaPendingCredential"in s&&si(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function EF(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?kb(n.config,i):`${n.config.apiScheme}://${i}`}class KJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),WJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=yi(n,e,r);return i.customData._tokenResponse=t,i}function Fb(){return(Fb=oe(function*(n,e){return Nn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Vb(){return(Vb=oe(function*(n,e){return Nn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function xd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ub(){return(Ub=oe(function*(n,e=!1){const t=Kr(n),r=yield t.getIdToken(e),i=gg(r);Ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:xd(Bb(i.auth_time)),issuedAtTime:xd(Bb(i.iat)),expirationTime:xd(Bb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Bb(n){return 1e3*Number(n)}function gg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return pg("JWT malformed, contained fewer than 3 sections"),null;try{const i=ig(t);return i?JSON.parse(i):(pg("Failed to decode base64 JWT payload"),null)}catch(i){return pg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oo(n,e){return jb.apply(this,arguments)}function jb(){return(jb=oe(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Yi&&function eZ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class tZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(oe(function*(){yield t.iteration()}),r)}iteration(){var e=this;return oe(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class SF{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xd(this.lastLoginAt),this.creationTime=xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pd(n){return Hb.apply(this,arguments)}function Hb(){return Hb=oe(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield oo(n,function YJ(n,e){return Vb.apply(this,arguments)}(t,{idToken:r}));Ge(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function iZ(n){return n.map(e=>{var{providerId:t}=e,r=Ie(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function rZ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new SF(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}),Hb.apply(this,arguments)}function Gb(){return(Gb=oe(function*(n){const e=Kr(n);yield Pd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function $b(){return($b=oe(function*(n,e){const t=yield CF(n,{},oe(function*(){const r=Ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=EF(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Md{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ZJ(n){const e=gg(n);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return oe(function*(){return Ge(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return oe(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function sZ(n,e){return $b.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Md;return r&&(Ge("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(Ge("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(Ge("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Md,this.toJSON())}_performRefresh(){return Is("not implemented")}}function Go(n,e){Ge("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Na{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ie(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new SF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return oe(function*(){const r=yield oo(t,t.stsTokenManager.getToken(t.auth,e));return Ge(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function JJ(n){return Ub.apply(this,arguments)}(this,e)}reload(){return function nZ(n){return Gb.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return oe(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Pd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return oe(function*(){const t=yield e.getIdToken();return yield oo(e,function QJ(n,e){return Fb.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,v=null!==(i=t.email)&&void 0!==i?i:void 0,D=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,$=null!==(o=t.photoURL)&&void 0!==o?o:void 0,se=null!==(a=t.tenantId)&&void 0!==a?a:void 0,he=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,Ee=null!==(c=t.createdAt)&&void 0!==c?c:void 0,Pe=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:we,emailVerified:We,isAnonymous:dt,providerData:pt,stsTokenManager:_r}=t;Ge(we&&_r,e,"internal-error");const yo=Md.fromJSON(this.name,_r);Ge("string"==typeof we,e,"internal-error"),Go(h,e.name),Go(v,e.name),Ge("boolean"==typeof We,e,"internal-error"),Ge("boolean"==typeof dt,e,"internal-error"),Go(D,e.name),Go($,e.name),Go(se,e.name),Go(he,e.name),Go(Ee,e.name),Go(Pe,e.name);const tu=new Na({uid:we,auth:e,email:v,emailVerified:We,displayName:h,isAnonymous:dt,photoURL:$,phoneNumber:D,tenantId:se,stsTokenManager:yo,createdAt:Ee,lastLoginAt:Pe});return pt&&Array.isArray(pt)&&(tu.providerData=pt.map(Nae=>Object.assign({},Nae))),he&&(tu._redirectEventId=he),tu}static _fromIdTokenResponse(e,t,r=!1){return oe(function*(){const i=new Md;i.updateFromServerResponse(t);const s=new Na({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Pd(s),s})()}}const AF=new Map;function ao(n){io(n instanceof Function,"Expected a class definition");let e=AF.get(n);return e?(io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AF.set(n,e),e)}const IF=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return oe(function*(){return!0})()}_set(t,r){var i=this;return oe(function*(){i.storage[t]=r})()}_get(t){var r=this;return oe(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return oe(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function mg(n,e,t){return`firebase:${n}:${e}:${t}`}class fc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mg(this.userKey,i.apiKey,s),this.fullPersistenceKey=mg("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return oe(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Na._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return oe(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return oe(function*(){if(!t.length)return new fc(ao(IF),e,r);const i=(yield Promise.all(t.map(function(){var c=oe(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ao(IF);const o=mg(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const h=Na._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=oe(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new fc(s,e,r)):new fc(s,e,r)})()}}function TF(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kF(e))return"Blackberry";if(RF(e))return"Webos";if(zb(e))return"Safari";if((e.includes("chrome/")||xF(e))&&!e.includes("edge/"))return"Chrome";if(MF(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function DF(n=cr()){return/firefox\//i.test(n)}function zb(n=cr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xF(n=cr()){return/crios\//i.test(n)}function PF(n=cr()){return/iemobile/i.test(n)}function MF(n=cr()){return/android/i.test(n)}function kF(n=cr()){return/blackberry/i.test(n)}function RF(n=cr()){return/webos/i.test(n)}function _g(n=cr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OF(n=cr()){return _g(n)||MF(n)||RF(n)||kF(n)||/windows phone/i.test(n)||PF(n)}function NF(n,e=[]){let t;switch(n){case"Browser":t=TF(cr());break;case"Worker":t=`${TF(cr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cc}/${r}`}function FF(n,e){return Wb.apply(this,arguments)}function Wb(){return(Wb=oe(function*(n,e){return Nn(n,"GET","/v2/recaptchaConfig",Dn(n,e))})).apply(this,arguments)}function VF(n){return void 0!==n&&void 0!==n.enterprise}class UF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function Kb(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=yi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function uZ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function BF(n){return`__${n}${Math.floor(1e6*Math.random())}`}const fZ="NO_RECAPTCHA";class jF{constructor(e){this.type="recaptcha-enterprise",this.auth=dr(e)}verify(e="verify",t=!1){var r=this;return oe(function*(){function s(){return s=oe(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=oe(function*(c,u){FF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(void 0!==h.recaptchaKey){const v=new UF(h);return null==a.tenantId?a._agentRecaptchaConfig=v:a._tenantRecaptchaConfigs[a.tenantId]=v,c(v.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(h=>{u(h)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;VF(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(fZ)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&VF(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));Kb("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}class pZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return oe(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class gZ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HF(this),this.idTokenSubscription=new HF(this),this.beforeStateQueue=new pZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ao(t)),this._initializationPromise=this.queue(oe(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield fc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return oe(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return oe(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return Ge(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return oe(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return oe(function*(){try{yield Pd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function zJ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return oe(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return oe(function*(){const r=e?Kr(e):null;return r&&Ge(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return oe(function*(){if(!r._deleted)return e&&Ge(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(oe(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return oe(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(oe(function*(){yield t.assertedPersistence.setPersistence(ao(e))}))}initializeRecaptchaConfig(){var e=this;return oe(function*(){const t=yield FF(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new UF(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new jF(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xa("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return oe(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return oe(function*(){if(!t.redirectPersistenceManager){const r=e&&ao(e)||t._popupRedirectResolver;Ge(r,t,"argument-error"),t.redirectPersistenceManager=yield fc.create(t,[ao(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return oe(function*(){var r,i;return t._isInitialized&&(yield t.queue(oe(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return oe(function*(){if(e===t.currentUser)return t.queue(oe(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ge(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return oe(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return oe(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return oe(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function GJ(n,...e){fg.logLevel<=$t.WARN&&fg.warn(`Auth (${cc}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function dr(n){return Kr(n)}class HF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function KQ(n,e){const t=new QQ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function GF(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $F(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class zF{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,t){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}function lo(n,e){return dC.apply(this,arguments)}function dC(){return(dC=oe(function*(n,e){return so(n,"POST","/v1/accounts:signInWithIdp",Dn(n,e))})).apply(this,arguments)}class pc extends zF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new pc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Ie(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new pc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return lo(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,lo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,lo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ed(t)}return e}}class zo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class QF extends zo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let mC=(()=>{class n extends QF{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return pc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return oe(function*(){const s=yield Na._fromIdTokenResponse(e,r,i),o=XF(r);return new Ni({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return oe(function*(){yield e._updateTokensIfNecessary(r,!0);const i=XF(r);return new Ni({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function XF(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Cg extends Yi{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Cg(e,t,r,i)}}function YF(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Cg._fromErrorAndOperation(n,s,e,r):s})}function bC(n,e){return CC.apply(this,arguments)}function CC(){return(CC=oe(function*(n,e,t=!1){const r=yield oo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ni._forOperation(n,"link",r)})).apply(this,arguments)}function ZF(n,e){return SC.apply(this,arguments)}function SC(){return(SC=oe(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield oo(n,YF(r,i,e,n),t);Ge(s.idToken,r,"internal-error");const o=gg(s.idToken);Ge(o,r,"internal-error");const{sub:a}=o;return Ge(n.uid===a,r,"user-mismatch"),Ni._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&si(r,"user-mismatch"),s}})).apply(this,arguments)}function eL(n,e){return AC.apply(this,arguments)}function AC(){return(AC=oe(function*(n,e,t=!1){const r="signIn",i=yield YF(n,r,e),s=yield Ni._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Sg="__sak";class nL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sg,"1"),this.storage.removeItem(Sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ree=(()=>{class n extends nL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function eee(){const n=cr();return zb(n)||_g(n)}()&&function lZ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=OF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function aZ(){return function HQ(){const n=cr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return oe(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return oe(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return oe(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),rL=(()=>{class n extends nL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let see=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return oe(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var h=oe(function*(v){return v(i.origin,a)});return function(v){return h.apply(this,arguments)}}()),u=yield function iee(n){return Promise.all(n.map(function(){var e=oe(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Ag(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class oee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return oe(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=Ag("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(v){const D=v;if(D.data.eventId===u)switch(D.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(D.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Zn(){return window}function tE(){return typeof Zn().WorkerGlobalScope<"u"&&"function"==typeof Zn().importScripts}function nE(){return(nE=oe(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const iL="firebaseLocalStorageDb",dee=1,Ig="firebaseLocalStorage",sL="fbase_key";class Od{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Tg(n,e){return n.transaction([Ig],e?"readwrite":"readonly").objectStore(Ig)}function rE(){const n=indexedDB.open(iL,dee);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ig,{keyPath:sL})}catch(i){t(i)}}),n.addEventListener("success",oe(function*(){const r=n.result;r.objectStoreNames.contains(Ig)?e(r):(r.close(),yield function hee(){const n=indexedDB.deleteDatabase(iL);return new Od(n).toPromise()}(),e(yield rE()))}))})}function oL(n,e,t){return iE.apply(this,arguments)}function iE(){return(iE=oe(function*(n,e,t){const r=Tg(n,!0).put({[sL]:e,value:t});return new Od(r).toPromise()})).apply(this,arguments)}function sE(){return(sE=oe(function*(n,e){const t=Tg(n,!1).get(e),r=yield new Od(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function aL(n,e){const t=Tg(n,!0).delete(e);return new Od(t).toPromise()}const mee=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return oe(function*(){return t.db||(t.db=yield rE()),t.db})()}_withRetries(t){var r=this;return oe(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return oe(function*(){return tE()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return oe(function*(){t.receiver=see._getInstance(function uee(){return tE()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=oe(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=oe(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return oe(function*(){var r,i;if(t.activeServiceWorker=yield function lee(){return nE.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new oee(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return oe(function*(){if(r.sender&&r.activeServiceWorker&&function cee(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return oe(function*(){try{if(!indexedDB)return!1;const t=yield rE();return yield oL(t,Sg,"1"),yield aL(t,Sg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return oe(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return oe(function*(){return i._withPendingWrite(oe(function*(){return yield i._withRetries(s=>oL(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return oe(function*(){const i=yield r._withRetries(s=>function fee(n,e){return sE.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return oe(function*(){return r._withPendingWrite(oe(function*(){return yield r._withRetries(i=>aL(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return oe(function*(){const r=yield t._withRetries(o=>{const a=Tg(o,!1).getAll();return new Od(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(oe(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function La(n,e){return e?ao(e):(Ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}BF("rcb"),new Td(3e4,6e4);class pE extends zF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kee(n){return eL(n.auth,new pE(n),n.bypassAuthState)}function Ree(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),ZF(t,new pE(n),n.bypassAuthState)}function Oee(n){return gE.apply(this,arguments)}function gE(){return(gE=oe(function*(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),bC(t,new pE(n),n.bypassAuthState)})).apply(this,arguments)}class cL{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=oe(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return oe(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kee;case"linkViaPopup":case"linkViaRedirect":return Oee;case"reauthViaPopup":case"reauthViaRedirect":return Ree;default:si(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nee=new Td(2e3,1e4);function mE(){return(mE=oe(function*(n,e,t){const r=dr(n);!function hc(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&si(n,"argument-error"),vF(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,e,zo);const i=La(r,t);return new vE(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let vE=(()=>{class n extends cL{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return oe(function*(){const r=yield t.execute();return Ge(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return oe(function*(){io(1===t.filter.length,"Popup operations only handle one event");const r=Ag();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(yi(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,Nee.get())};t()}}return n.currentPopupAction=null,n})();const Lee="pendingRedirect",Nd=new Map;class Vee extends cL{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return oe(function*(){let r=Nd.get(t.auth._key());if(!r){try{const s=(yield function Uee(n,e){return wE.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Nd.set(t.auth._key(),r)}return t.bypassAuthState||Nd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return oe(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return oe(function*(){})()}cleanUp(){}}function wE(){return(wE=oe(function*(n,e){const t=function dL(n){return mg(Lee,n.config.apiKey,n.name)}(e),r=function uL(n){return ao(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Bee(n,e){Nd.set(n._key(),e)}function hL(n,e){return TE.apply(this,arguments)}function TE(){return(TE=oe(function*(n,e,t=!1){const r=dr(n),i=La(r,e),o=yield new Vee(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class zee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function qee(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gL(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pL(e))}saveEventToCache(e){this.cachedEventUids.add(pL(e)),this.lastProcessedEventTime=Date.now()}}function pL(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gL({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function xE(){return(xE=oe(function*(n,e={}){return Nn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Kee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qee=/^https?/;function PE(){return PE=oe(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Wee(n){return xE.apply(this,arguments)}(n);for(const t of e)try{if(Yee(t))return}catch{}si(n,"unauthorized-domain")}),PE.apply(this,arguments)}function Yee(n){const e=Id(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Qee.test(t))return!1;if(Kee.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jee=new Td(3e4,6e4);function mL(){const n=Zn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let xg=null;const tte=new Td(5e3,15e3),nte="__/auth/iframe",rte="emulator/auth/iframe",ite={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ste=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ote(n){const e=n.config;Ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kb(e,rte):`https://${n.config.authDomain}/${nte}`,r={apiKey:e.apiKey,appName:n.name,v:cc},i=ste.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ed(r).slice(1)}`}function ME(){return ME=oe(function*(n){const e=yield function ete(n){return xg=xg||function Zee(n){return new Promise((e,t)=>{var r,i,s;function o(){mL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mL(),t(yi(n,"network-request-failed"))},timeout:Jee.get()})}if(null!==(i=null===(r=Zn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Zn().gapi)||void 0===s||!s.load){const a=BF("iframefcb");return Zn()[a]=()=>{gapi.load?o():t(yi(n,"network-request-failed"))},Kb(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw xg=null,e})}(n),xg}(n),t=Zn().gapi;return Ge(t,n,"internal-error"),e.open({where:document.body,url:ote(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ite,dontclear:!0},r=>new Promise(function(){var i=oe(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=yi(n,"network-request-failed"),l=Zn().setTimeout(()=>{o(a)},tte.get());function c(){Zn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),ME.apply(this,arguments)}const lte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cte=500,ute=600,dte="_blank",hte="http://localhost";class _L{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const gte="__/auth/handler",mte="emulator/auth/handler",_te=encodeURIComponent("fac");function yL(n,e,t,r,i,s){return kE.apply(this,arguments)}function kE(){return(kE=oe(function*(n,e,t,r,i,s){Ge(n.config.authDomain,n,"auth-domain-config-required"),Ge(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:cc,eventId:i};if(e instanceof zo){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function WQ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof QF){const u=e.getScopes().filter(h=>""!==h);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${_te}=${encodeURIComponent(l)}`:"";return`${function yte({config:n}){return n.emulator?kb(n,mte):`https://${n.authDomain}/${gte}`}(n)}?${Ed(a).slice(1)}${c}`})).apply(this,arguments)}const RE="webStorageSupport",wte=class vte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rL,this._completeRedirectFn=hL,this._overrideRedirectResult=Bee}_openPopup(e,t,r,i){var s=this;return oe(function*(){var o;io(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield yL(e,t,r,Id(),i);return function fte(n,e,t,r=cte,i=ute){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lte),{width:r.toString(),height:i.toString(),top:s,left:o}),c=cr().toLowerCase();t&&(a=xF(c)?dte:t),DF(c)&&(e=e||hte,l.scrollbars="yes");const u=Object.entries(l).reduce((v,[D,$])=>`${v}${D}=${$},`,"");if(function oZ(n=cr()){var e;return _g(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function pte(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new _L(null);const h=window.open(e||"",a,u);Ge(h,n,"popup-blocked");try{h.focus()}catch{}return new _L(h)}(e,a,Ag())})()}_openRedirect(e,t,r,i){var s=this;return oe(function*(){return yield s._originValidation(e),function aee(n){Zn().location.href=n}(yield yL(e,t,r,Id(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(io(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return oe(function*(){const r=yield function ate(n){return ME.apply(this,arguments)}(e),i=new zee(e);return r.register("authEvent",s=>(Ge(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(RE,{type:RE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[RE];void 0!==o&&t(!!o),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Xee(n){return PE.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OF()||zb()||_g()}};var bL="@firebase/auth";class bte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return oe(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ate=gN("authIdTokenMaxAge")||300;let EL=null;const Ite=n=>function(){var e=oe(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Ate)return;const s=r?.token;EL!==s&&(EL=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Tte(n=Aw()){const e=jo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function mZ(n,e){const t=jo(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Cd(t.getOptions(),e??{}))return i;si(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:wte,persistence:[mee,ree,rL]}),r=gN("authTokenSyncURL");if(r){const s=Ite(r);(function KZ(n,e,t){Kr(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function WZ(n,e,t,r){Kr(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=fN("auth");return i&&function yZ(n,e,t){const r=dr(n);Ge(r._canInitEmulator,r,"emulator-config-failed"),Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=GF(e),{host:o,port:a}=function vZ(n){const e=GF(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$F(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:$F(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function wZ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function Ete(n){Es(new Ji("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NF(n)},c=new gZ(r,i,s,l);return function _Z(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ao);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Es(new Ji("auth-internal",e=>{const t=dr(e.getProvider("auth").getImmediate());return new bte(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(bL,"0.23.2",function Cte(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Oi(bL,"0.23.2","esm2017")}("Browser");var Xe,Dte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zi={},NE=NE||{},Ct=Dte||self;function Mg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Fd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var FE="closure_uid_"+(1e9*Math.random()>>>0),Pte=0;function Mte(n,e,t){return n.call.apply(n.bind,arguments)}function kte(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Nr(n,e,t){return(Nr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mte:kte).apply(null,arguments)}function kg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function qo(){this.s=this.s,this.o=this.o}qo.prototype.s=!1,qo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xte(n){Object.prototype.hasOwnProperty.call(n,FE)&&n[FE]||(n[FE]=++Pte)}(this)},qo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function LE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function AL(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Mg(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Fr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Fr.prototype.h=function(){this.defaultPrevented=!0};var Ote=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",()=>{},e),Ct.removeEventListener("test",()=>{},e)}catch{}return n}();function Ld(n){return/^[\s\xa0]*$/.test(n)}function Rg(){var n=Ct.navigator;return n&&(n=n.userAgent)?n:""}function Ts(n){return-1!=Rg().indexOf(n)}function VE(n){return VE[" "](n),n}VE[" "]=function(){};var BE,n,Fte=Ts("Opera"),mc=Ts("Trident")||Ts("MSIE"),IL=Ts("Edge"),UE=IL||mc,TL=Ts("Gecko")&&!(-1!=Rg().toLowerCase().indexOf("webkit")&&!Ts("Edge"))&&!(Ts("Trident")||Ts("MSIE"))&&!Ts("Edge"),Lte=-1!=Rg().toLowerCase().indexOf("webkit")&&!Ts("Edge");function DL(){var n=Ct.document;return n?n.documentMode:void 0}e:{var jE="",HE=(n=Rg(),TL?/rv:([^\);]+)(\)|;)/.exec(n):IL?/Edge\/([\d\.]+)/.exec(n):mc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Lte?/WebKit\/(\S+)/.exec(n):Fte?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(HE&&(jE=HE?HE[1]:""),mc){var GE=DL();if(null!=GE&&GE>parseFloat(jE)){BE=String(GE);break e}}BE=jE}var Vte=Ct.document&&mc&&(DL()||parseInt(BE,10))||void 0;function Vd(n,e){if(Fr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(TL){e:{try{VE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ute[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vd.$.h.call(this)}}hr(Vd,Fr);var Ute={2:"touch",3:"pen",4:"mouse"};Vd.prototype.h=function(){Vd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ud="closure_listenable_"+(1e6*Math.random()|0),Bte=0;function jte(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Bte,this.fa=this.ia=!1}function Og(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function zE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function PL(n){const e={};for(const t in n)e[t]=n[t];return e}const ML="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kL(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<ML.length;s++)t=ML[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ng(n){this.src=n,this.g={},this.h=0}function qE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=SL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Og(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function WE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Ng.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=WE(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new jte(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var KE="closure_lm_"+(1e6*Math.random()|0),QE={};function RL(n,e,t,r,i){if(r&&r.once)return NL(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)RL(n,e[s],t,r,i);return null}return t=ZE(t),n&&n[Ud]?n.O(e,t,Fd(r)?!!r.capture:!!r,i):OL(n,e,t,!1,r,i)}function OL(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Fd(i)?!!i.capture:!!i,a=YE(n);if(a||(n[KE]=a=new Ng(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Gte(){const e=$te;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ote||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(LL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function NL(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)NL(n,e[s],t,r,i);return null}return t=ZE(t),n&&n[Ud]?n.P(e,t,Fd(r)?!!r.capture:!!r,i):OL(n,e,t,!0,r,i)}function FL(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)FL(n,e[s],t,r,i);else r=Fd(r)?!!r.capture:!!r,t=ZE(t),n&&n[Ud]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=WE(s=n.g[e],t,r,i))&&(Og(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=YE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=WE(e,t,r,i)),(t=-1<n?e[n]:null)&&XE(t))}function XE(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Ud])qE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(LL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=YE(e))?(qE(t,n),0==t.h&&(t.src=null,e[KE]=null)):Og(n)}}}function LL(n){return n in QE?QE[n]:QE[n]="on"+n}function $te(n,e){if(n.fa)n=!0;else{e=new Vd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&XE(n),n=t.call(r,e)}return n}function YE(n){return(n=n[KE])instanceof Ng?n:null}var JE="__closure_events_fn_"+(1e9*Math.random()>>>0);function ZE(n){return"function"==typeof n?n:(n[JE]||(n[JE]=function(e){return n.handleEvent(e)}),n[JE])}function fr(){qo.call(this),this.i=new Ng(this),this.S=this,this.J=null}function Cr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Fr(e,n);else if(e instanceof Fr)e.target=e.target||n;else{var i=e;kL(e=new Fr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Fg(o,r,!0,e)&&i}if(i=Fg(o=e.g=n,r,!0,e)&&i,i=Fg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Fg(o=e.g=t[s],r,!1,e)&&i}function Fg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&qE(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}hr(fr,qo),fr.prototype[Ud]=!0,fr.prototype.removeEventListener=function(n,e,t,r){FL(this,n,e,t,r)},fr.prototype.N=function(){if(fr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Og(t[r]);delete n.g[e],n.h--}}this.J=null},fr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},fr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var eS=Ct.JSON.stringify;function qte(){var n=tS;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var VL=new class zte{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Kte,n=>n.reset());class Kte{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qte(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Xte(n){Ct.setTimeout(()=>{throw n},0)}let Bd,jd=!1,tS=new class Wte{constructor(){this.h=this.g=null}add(e,t){const r=VL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},UL=()=>{const n=Ct.Promise.resolve(void 0);Bd=()=>{n.then(Yte)}};var Yte=()=>{for(var n;n=qte();){try{n.h.call(n.g)}catch(t){Xte(t)}var e=VL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}jd=!1};function Lg(n,e){fr.call(this),this.h=n||1,this.g=e||Ct,this.j=Nr(this.qb,this),this.l=Date.now()}function nS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function rS(n,e,t){if("function"==typeof n)t&&(n=Nr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Nr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ct.setTimeout(n,e||0)}function BL(n){n.g=rS(()=>{n.g=null,n.i&&(n.i=!1,BL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hr(Lg,fr),(Xe=Lg.prototype).ga=!1,Xe.T=null,Xe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Cr(this,"tick"),this.ga&&(nS(this),this.start()))}},Xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.N=function(){Lg.$.N.call(this),nS(this),delete this.g};class Jte extends qo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BL(this)}N(){super.N(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hd(n){qo.call(this),this.h=n,this.g={}}hr(Hd,qo);var jL=[];function HL(n,e,t,r){Array.isArray(t)||(t&&(jL[0]=t.toString()),t=jL);for(var i=0;i<t.length;i++){var s=RL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GL(n){zE(n.g,function(e,t){this.g.hasOwnProperty(t)&&XE(e)},n),n.g={}}function Vg(){this.g=!0}function _c(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nne(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return eS(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Hd.prototype.N=function(){Hd.$.N.call(this),GL(this)},Hd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vg.prototype.Ea=function(){this.g=!1},Vg.prototype.info=function(){};var Va={},$L=null;function Ug(){return $L=$L||new fr}function zL(n){Fr.call(this,Va.Ta,n)}function Gd(n){const e=Ug();Cr(e,new zL(e))}function qL(n,e){Fr.call(this,Va.STAT_EVENT,n),this.stat=e}function Xr(n){const e=Ug();Cr(e,new qL(e,n))}function WL(n,e){Fr.call(this,Va.Ua,n),this.size=e}function $d(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},e)}Va.Ta="serverreachability",hr(zL,Fr),Va.STAT_EVENT="statevent",hr(qL,Fr),Va.Ua="timingevent",hr(WL,Fr);var Bg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iS(){}function XL(){}iS.prototype.h=null;var aS,zd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sS(){Fr.call(this,"d")}function oS(){Fr.call(this,"c")}function jg(){}function qd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Hd(this),this.P=rne,this.V=new Lg(n=UE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new YL}function YL(){this.i=null,this.g="",this.h=!1}hr(sS,Fr),hr(oS,Fr),hr(jg,iS),jg.prototype.g=function(){return new XMLHttpRequest},jg.prototype.i=function(){return{}},aS=new jg;var rne=45e3,lS={},Hg={};function cS(n,e,t){n.L=1,n.v=qg(co(e)),n.s=t,n.S=!0,JL(n,null)}function JL(n,e){n.G=Date.now(),Wd(n),n.A=co(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),l2(t.i,"t",r),n.C=0,t=n.l.J,n.h=new YL,n.g=k2(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Jte(Nr(n.Pa,n,n.g),n.O)),HL(n.U,n.g,"readystatechange",n.nb),e=n.I?PL(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Gd(),function Zte(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function ZL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function e2(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=ine(n,t),i==Hg){4==e&&(n.o=4,Xr(14),r=!1),_c(n.j,n.m,null,"[Incomplete Response]");break}if(i==lS){n.o=4,Xr(15),_c(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}_c(n.j,n.m,i,null),uS(n,i)}ZL(n)&&i!=Hg&&i!=lS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),_S(e),e.M=!0,Xr(11))):(_c(n.j,n.m,t,"[Invalid Chunked Response]"),Ua(n),Kd(n))}function ine(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Hg:(t=Number(e.substring(t,r)),isNaN(t)?lS:(r+=1)+t>e.length?Hg:(e=e.slice(r,r+t),n.C=r+t,e))}function Wd(n){n.Y=Date.now()+n.P,t2(n,n.P)}function t2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$d(Nr(n.lb,n),e)}function Gg(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}function Kd(n){0==n.l.H||n.J||D2(n.l,n)}function Ua(n){Gg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,nS(n.V),GL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function uS(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||dS(t.i,n)))if(!n.K&&dS(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Jg(t),Xg(t)}mS(t),Xr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=$d(Nr(t.ib,t),6e3));if(1>=d2(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ja(t,11)}else if((n.K||t.g==n)&&Jg(t),!Ld(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const h=c[4];null!=h&&(t.Ga=h,t.l.info("SVER="+t.Ga));const v=c[5];null!=v&&"number"==typeof v&&0<v&&(t.L=r=1.5*v,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const D=n.g;if(D){const $=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var s=r.i;s.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(hS(s,s.h),s.h=null))}if(r.F){const se=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(r.Da=se,yn(r.I,r.F,se))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=M2(r,r.J?r.pa:null,r.Y),o.K){h2(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Gg(a),Wd(a)),r.g=o}else I2(r);0<t.j.length&&Yg(t)}else"stop"!=c[0]&&"close"!=c[0]||ja(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ja(t,7):gS(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Gd()}catch{}}function n2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Mg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function one(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Mg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function sne(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Mg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Xe=qd.prototype).setTimeout=function(n){this.P=n},Xe.nb=function(n){n=n.target;const e=this.M;e&&3==Ds(n)?e.l():this.Pa(n)},Xe.Pa=function(n){try{if(n==this.g)e:{const u=Ds(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||UE||this.g&&(this.h.h||this.g.ja()||w2(this.g)))){this.J||4!=u||7==e||Gd(),Gg(this);var t=this.g.da();this.ca=t;t:if(ZL(this)){var r=w2(this.g);n="";var i=r.length,s=4==Ds(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ua(this),Kd(this);var o="";break t}this.h.i=new Ct.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function ene(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ld(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Xr(12),Ua(this),Kd(this);break e}_c(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uS(this,t)}this.S?(e2(this,u,o),UE&&this.i&&3==u&&(HL(this.U,this.V,"tick",this.mb),this.V.start())):(_c(this.j,this.m,o,null),uS(this,o)),4==u&&Ua(this),this.i&&!this.J&&(4==u?D2(this.l,this):(this.i=!1,Wd(this)))}else(function Sne(n){const e={};n=(n.g&&2<=Ds(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ld(n[r]))continue;var t=Qte(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function Hte(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Xr(12)):(this.o=0,Xr(13)),Ua(this),Kd(this)}}}catch{}},Xe.mb=function(){if(this.g){var n=Ds(this.g),e=this.g.ja();this.C<e.length&&(Gg(this),e2(this,n,e),this.i&&4!=n&&Wd(this))}},Xe.cancel=function(){this.J=!0,Ua(this)},Xe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tne(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Gd(),Xr(17)),Ua(this),this.o=2,Kd(this)):t2(this,this.Y-n)};var r2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ba){this.h=n.h,$g(this,n.j),this.s=n.s,this.g=n.g,zg(this,n.m),this.l=n.l;var e=n.i,t=new Yd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),i2(this,t),this.o=n.o}else n&&(e=String(n).match(r2))?(this.h=!1,$g(this,e[1]||"",!0),this.s=Qd(e[2]||""),this.g=Qd(e[3]||"",!0),zg(this,e[4]),this.l=Qd(e[5]||"",!0),i2(this,e[6]||"",!0),this.o=Qd(e[7]||"")):(this.h=!1,this.i=new Yd(null,this.h))}function co(n){return new Ba(n)}function $g(n,e,t){n.j=t?Qd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function zg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function i2(n,e,t){e instanceof Yd?(n.i=e,function fne(n,e){e&&!n.j&&(Wo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(o2(this,r),l2(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Xd(e,dne)),n.i=new Yd(e,n.h))}function yn(n,e,t){n.i.set(e,t)}function qg(n){return yn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Xd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,lne),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function lne(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ba.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Xd(e,s2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Xd(e,s2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Xd(t,"/"==t.charAt(0)?une:cne,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Xd(t,hne)),n.join("")};var s2=/[#\/\?@]/g,cne=/[#\?:]/g,une=/[#\?]/g,dne=/[#\?@]/g,hne=/#/g;function Yd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Wo(n){n.g||(n.g=new Map,n.h=0,n.i&&function ane(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function o2(n,e){Wo(n),e=yc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function a2(n,e){return Wo(n),e=yc(n,e),n.g.has(e)}function l2(n,e,t){o2(n,e),0<t.length&&(n.i=null,n.g.set(yc(n,e),LE(t)),n.h+=t.length)}function yc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function c2(n){this.l=n||gne,n=Ct.PerformanceNavigationTiming?0<(n=Ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ka&&Ct.g.Ka()&&Ct.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=Yd.prototype).add=function(n,e){Wo(this),this.i=null,n=yc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){Wo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Xe.ta=function(){Wo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Xe.Z=function(n){Wo(this);let e=[];if("string"==typeof n)a2(this,n)&&(e=e.concat(this.g.get(yc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Xe.set=function(n,e){return Wo(this),this.i=null,a2(this,n=yc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var gne=10;function u2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function d2(n){return n.h?1:n.g?n.g.size:0}function dS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function hS(n,e){n.g?n.g.add(e):n.h=e}function h2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function f2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return LE(n.i)}c2.prototype.cancel=function(){if(this.i=f2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var mne=class{stringify(n){return Ct.JSON.stringify(n,void 0)}parse(n){return Ct.JSON.parse(n,void 0)}};function _ne(){this.g=new mne}function yne(n,e,t){const r=t||"";try{n2(n,function(i,s){let o=i;Fd(i)&&(o=eS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Wg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Jd(n){this.l=n.fc||null,this.j=n.ob||!1}function Kg(n,e){fr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=fS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hr(Jd,iS),Jd.prototype.g=function(){return new Kg(this.l,this.j)},Jd.prototype.i=function(n){return function(){return n}}({}),hr(Kg,fr);var fS=0;function p2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Zd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,eh(n)}function eh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=Kg.prototype).open=function(n,e){if(this.readyState!=fS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,eh(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ct).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zd(this)),this.readyState=fS},Xe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,eh(this)),this.g&&(this.readyState=3,eh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ct.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;p2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Xe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zd(this):eh(this),3==this.readyState&&p2(this)}},Xe.Za=function(n){this.g&&(this.response=this.responseText=n,Zd(this))},Xe.Ya=function(n){this.g&&(this.response=n,Zd(this))},Xe.ka=function(){this.g&&Zd(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Kg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wne=Ct.JSON.parse;function Fn(n){fr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=g2,this.L=this.M=!1}hr(Fn,fr);var g2="",bne=/^https?$/i,Cne=["POST","PUT"];function m2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_2(n),Qg(n)}function _2(n){n.F||(n.F=!0,Cr(n,"complete"),Cr(n,"error"))}function y2(n){if(n.h&&typeof NE<"u"&&(!n.C[1]||4!=Ds(n)||2!=n.da()))if(n.v&&4==Ds(n))rS(n.La,0,n);else if(Cr(n,"readystatechange"),4==Ds(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(r2)[1]||null;!i&&Ct.self&&Ct.self.location&&(i=Ct.self.location.protocol.slice(0,-1)),r=!bne.test(i?i.toLowerCase():"")}t=r}if(t)Cr(n,"complete"),Cr(n,"success");else{n.m=6;try{var s=2<Ds(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",_2(n)}}finally{Qg(n)}}}function Qg(n,e){if(n.g){v2(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Cr(n,"ready");try{t.onreadystatechange=r}catch{}}}function v2(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function Ds(n){return n.g?n.g.readyState:0}function w2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case g2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function b2(n){let e="";return zE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function pS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=b2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):yn(n,e,t))}function th(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function C2(n){this.Ga=0,this.j=[],this.l=new Vg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=th("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=th("baseRetryDelayMs",5e3,n),this.hb=th("retryDelaySeedMs",1e4,n),this.eb=th("forwardChannelMaxRetries",2,n),this.xa=th("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new c2(n&&n.concurrentRequestLimit),this.Ja=new _ne,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gS(n){if(E2(n),3==n.H){var e=n.W++,t=co(n.I);if(yn(t,"SID",n.K),yn(t,"RID",e),yn(t,"TYPE","terminate"),nh(n,t),(e=new qd(n,n.l,e)).L=2,e.v=qg(co(t)),t=!1,Ct.navigator&&Ct.navigator.sendBeacon)try{t=Ct.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ct.Image&&((new Image).src=e.v,t=!0),t||(e.g=k2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Wd(e)}P2(n)}function Xg(n){n.g&&(_S(n),n.g.cancel(),n.g=null)}function E2(n){Xg(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),Jg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ct.clearTimeout(n.m),n.m=null)}function Yg(n){if(!u2(n.i)&&!n.m){n.m=!0;var e=n.Na;Bd||UL(),jd||(Bd(),jd=!0),tS.add(e,n),n.C=0}}function S2(n,e){var t;t=e?e.m:n.W++;const r=co(n.I);yn(r,"SID",n.K),yn(r,"RID",t),yn(r,"AID",n.V),nh(n,r),n.o&&n.s&&pS(r,n.o,n.s),t=new qd(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=A2(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),hS(n.i,t),cS(t,r,e)}function nh(n,e){n.na&&zE(n.na,function(t,r){yn(e,r,t)}),n.h&&n2({},function(t,r){yn(e,r,t)})}function A2(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Nr(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{yne(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function I2(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Bd||UL(),jd||(Bd(),jd=!0),tS.add(e,n),n.A=0}}function mS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=$d(Nr(n.Ma,n),x2(n,n.A)),n.A++,0))}function _S(n){null!=n.B&&(Ct.clearTimeout(n.B),n.B=null)}function T2(n){n.g=new qd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=co(n.wa);yn(e,"RID","rpc"),yn(e,"SID",n.K),yn(e,"AID",n.V),yn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&yn(e,"TO",n.qa),yn(e,"TYPE","xmlhttp"),nh(n,e),n.o&&n.s&&pS(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=qg(co(e)),t.s=null,t.S=!0,JL(t,n)}function Jg(n){null!=n.v&&(Ct.clearTimeout(n.v),n.v=null)}function D2(n,e){var t=null;if(n.g==e){Jg(n),_S(n),n.g=null;var r=2}else{if(!dS(n.i,e))return;t=e.F,h2(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Cr(r=Ug(),new WL(r,t)),Yg(n)}else I2(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Ane(n,e){return!(d2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=$d(Nr(n.Na,n,e),x2(n,n.C)),n.C++,0)))}(n,e)||2==r&&mS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ja(n,5);break;case 4:ja(n,10);break;case 3:ja(n,6);break;default:ja(n,2)}}function x2(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ja(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Nr(n.pb,n);t||(t=new Ba("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||$g(t,"https"),qg(t)),function vne(n,e){const t=new Vg;if(Ct.Image){const r=new Image;r.onload=kg(Wg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=kg(Wg,t,r,"TestLoadImage: error",!1,e),r.onabort=kg(Wg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=kg(Wg,t,r,"TestLoadImage: timeout",!1,e),Ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Xr(2);n.H=0,n.h&&n.h.za(e),P2(n),E2(n)}function P2(n){if(n.H=0,n.ma=[],n.h){const e=f2(n.i);(0!=e.length||0!=n.j.length)&&(AL(n.ma,e),AL(n.ma,n.j),n.i.i.length=0,LE(n.j),n.j.length=0),n.h.ya()}}function M2(n,e,t){var r=t instanceof Ba?co(t):new Ba(t);if(""!=r.g)e&&(r.g=e+"."+r.g),zg(r,r.m);else{var i=Ct.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ba(null);r&&$g(s,r),e&&(s.g=e),i&&zg(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&yn(r,t,e),yn(r,"VER",n.ra),nh(n,r),r}function k2(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fn(t&&n.Ha&&!n.va?new Jd({ob:!0}):n.va)).Oa(n.J),e}function R2(){}function Zg(){if(mc&&!(10<=Number(Vte)))throw Error("Environmental error: no available transport.")}function vi(n,e){fr.call(this),this.g=new C2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ld(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ld(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new vc(this)}function O2(n){sS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function N2(){oS.call(this),this.status=1}function vc(n){this.g=n}function es(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yS(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function nn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Xe=Fn.prototype).Oa=function(n){this.M=n},Xe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():aS.g(),this.C=function QL(n){return n.h||(n.h=n.i())}(this.u?this.u:aS),this.g.onreadystatechange=Nr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void m2(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ct.FormData&&n instanceof Ct.FormData,!(0<=SL(Cne,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{v2(this),0<this.B&&((this.L=function Ene(n){return mc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nr(this.ua,this)):this.A=rS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){m2(this,s)}},Xe.ua=function(){typeof NE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Cr(this,"complete"),Cr(this,"abort"),Qg(this))},Xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qg(this,!0)),Fn.$.N.call(this)},Xe.La=function(){this.s||(this.G||this.v||this.l?y2(this):this.kb())},Xe.kb=function(){y2(this)},Xe.isActive=function(){return!!this.g},Xe.da=function(){try{return 2<Ds(this)?this.g.status:-1}catch{return-1}},Xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Xe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),wne(e)}},Xe.Ia=function(){return this.m},Xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=C2.prototype).ra=8,Xe.H=1,Xe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new qd(this,this.l,n);let s=this.s;if(this.U&&(s?(s=PL(s),kL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=A2(this,i,e),yn(t=co(this.I),"RID",n),yn(t,"CVER",22),this.F&&yn(t,"X-HTTP-Session-Id",this.F),nh(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(b2(s)))+"&"+e:this.o&&pS(t,this.o,s)),hS(this.i,i),this.bb&&yn(t,"TYPE","init"),this.P?(yn(t,"$req",e),yn(t,"SID","null"),i.aa=!0,cS(i,t,null)):cS(i,t,e),this.H=2}}else 3==this.H&&(n?S2(this,n):0==this.j.length||u2(this.i)||S2(this))},Xe.Ma=function(){if(this.u=null,T2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=$d(Nr(this.jb,this),n)}},Xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xr(10),Xg(this),T2(this))},Xe.ib=function(){null!=this.v&&(this.v=null,Xg(this),mS(this),Xr(19))},Xe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Xr(2)):(this.l.info("Failed to ping google.com"),Xr(1))},Xe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Xe=R2.prototype).Ba=function(){},Xe.Aa=function(){},Xe.za=function(){},Xe.ya=function(){},Xe.isActive=function(){return!0},Xe.Va=function(){},Zg.prototype.g=function(n,e){return new vi(n,e)},hr(vi,fr),vi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Xr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=M2(n,null,n.Y),Yg(n)},vi.prototype.close=function(){gS(this.g)},vi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=eS(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Yg(e)},vi.prototype.N=function(){this.g.h=null,delete this.j,gS(this.g),delete this.g,vi.$.N.call(this)},hr(O2,sS),hr(N2,oS),hr(vc,R2),vc.prototype.Ba=function(){Cr(this.g,"a")},vc.prototype.Aa=function(n){Cr(this.g,new O2(n))},vc.prototype.za=function(n){Cr(this.g,new N2)},vc.prototype.ya=function(){Cr(this.g,"b")},hr(es,function Ine(){this.blockSize=-1}),es.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},es.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)yS(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){yS(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){yS(this,r),i=0;break}}this.h=i,this.i+=e},es.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Tne={};function vS(n){return-128<=n&&128>n?function Nte(n,e){var t=Tne;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new nn([0|e],0>e?-1:0)}):new nn([0|n],0>n?-1:0)}function xs(n){if(isNaN(n)||!isFinite(n))return wc;if(0>n)return Er(xs(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=wS;return new nn(e,0)}var wS=4294967296,wc=vS(0),bS=vS(1),L2=vS(16777216);function uo(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Fi(n){return-1==n.h}function Er(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new nn(t,~n.h).add(bS)}function em(n,e){return n.add(Er(e))}function tm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function rh(n,e){this.g=n,this.h=e}function nm(n,e){if(uo(e))throw Error("division by zero");if(uo(n))return new rh(wc,wc);if(Fi(n))return e=nm(Er(n),e),new rh(Er(e.g),Er(e.h));if(Fi(e))return e=nm(n,Er(e)),new rh(Er(e.g),e.h);if(30<n.g.length){if(Fi(n)||Fi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=bS,r=e;0>=r.X(n);)t=V2(t),r=V2(r);var i=bc(t,1),s=bc(r,1);for(r=bc(r,2),t=bc(t,2);!uo(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=bc(r,1),t=bc(t,1)}return e=em(n,i.R(e)),new rh(i,e)}for(i=wc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=xs(t)).R(e);Fi(o)||0<o.X(n);)o=(s=xs(t-=r)).R(e);uo(s)&&(s=bS),i=i.add(s),n=em(n,o)}return new rh(i,n)}function V2(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new nn(t,n.h)}function bc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new nn(i,n.h)}(Xe=nn.prototype).ea=function(){if(Fi(this))return-Er(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:wS+r)*e,e*=wS}return n},Xe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(uo(this))return"0";if(Fi(this))return"-"+Er(this).toString(n);for(var e=xs(Math.pow(n,6)),t=this,r="";;){var i=nm(t,e).g,s=((0<(t=em(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(uo(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Xe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Xe.X=function(n){return Fi(n=em(this,n))?-1:uo(n)?0:1},Xe.abs=function(){return Fi(this)?Er(this):this},Xe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new nn(t,-2147483648&t[t.length-1]?-1:0)},Xe.R=function(n){if(uo(this)||uo(n))return wc;if(Fi(this))return Fi(n)?Er(this).R(Er(n)):Er(Er(this).R(n));if(Fi(n))return Er(this.R(Er(n)));if(0>this.X(L2)&&0>n.X(L2))return xs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,tm(t,2*r+2*i),t[2*r+2*i+1]+=s*l,tm(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,tm(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,tm(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new nn(t,0)},Xe.gb=function(n){return nm(this,n).h},Xe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new nn(t,this.h&n.h)},Xe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new nn(t,this.h|n.h)},Xe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new nn(t,this.h^n.h)},Zg.prototype.createWebChannel=Zg.prototype.g,vi.prototype.send=vi.prototype.u,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,Bg.NO_ERROR=0,Bg.TIMEOUT=8,Bg.HTTP_ERROR=6,KL.COMPLETE="complete",XL.EventType=zd,zd.OPEN="a",zd.CLOSE="b",zd.ERROR="c",zd.MESSAGE="d",fr.prototype.listen=fr.prototype.O,Fn.prototype.listenOnce=Fn.prototype.P,Fn.prototype.getLastError=Fn.prototype.Sa,Fn.prototype.getLastErrorCode=Fn.prototype.Ia,Fn.prototype.getStatus=Fn.prototype.da,Fn.prototype.getResponseJson=Fn.prototype.Wa,Fn.prototype.getResponseText=Fn.prototype.ja,Fn.prototype.send=Fn.prototype.ha,Fn.prototype.setWithCredentials=Fn.prototype.Oa,es.prototype.digest=es.prototype.l,es.prototype.reset=es.prototype.reset,es.prototype.update=es.prototype.j,nn.prototype.add=nn.prototype.add,nn.prototype.multiply=nn.prototype.R,nn.prototype.modulo=nn.prototype.gb,nn.prototype.compare=nn.prototype.X,nn.prototype.toNumber=nn.prototype.ea,nn.prototype.toString=nn.prototype.toString,nn.prototype.getBits=nn.prototype.D,nn.fromNumber=xs,nn.fromString=function F2(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Er(F2(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=xs(Math.pow(e,8)),r=wc,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=xs(Math.pow(e,s)),r=r.R(s).add(xs(o))):r=(r=r.R(t)).add(xs(o))}return r};var Dne=Zi.createWebChannelTransport=function(){return new Zg},xne=Zi.getStatEventTarget=function(){return Ug()},CS=Zi.ErrorCode=Bg,Pne=Zi.EventType=KL,Mne=Zi.Event=Va,U2=Zi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kne=Zi.FetchXmlHttpFactory=Jd,rm=Zi.WebChannel=XL,Rne=Zi.XhrIo=Fn,One=Zi.Md5=es,Cc=Zi.Integer=nn;const B2="@firebase/firestore";class pr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let Ec="9.23.0";const Ko=new ag("@firebase/firestore");function ES(){return Ko.logLevel}function Ve(n,...e){if(Ko.logLevel<=$t.DEBUG){const t=e.map(SS);Ko.debug(`Firestore (${Ec}): ${n}`,...t)}}function $n(n,...e){if(Ko.logLevel<=$t.ERROR){const t=e.map(SS);Ko.error(`Firestore (${Ec}): ${n}`,...t)}}function ts(n,...e){if(Ko.logLevel<=$t.WARN){const t=e.map(SS);Ko.warn(`Firestore (${Ec}): ${n}`,...t)}}function SS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${Ec}) INTERNAL ASSERTION FAILED: `+n;throw $n(e),new Error(e)}function lt(n,e){n||nt()}function Ke(n,e){return n}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class j2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pr.UNAUTHENTICATED))}shutdown(){}}class Fne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Lne{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new or;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new or,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(oe(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new or)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new j2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new pr(e)}}class Vne{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Une{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Vne(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bne{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt("string"==typeof t.token),this.T=t.token,new H2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jne(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class G2{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=jne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function bt(n,e){return n<e?-1:n>e?1:0}function Sc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new xn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new xn(0,0))}static max(){return new ct(new xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ih{constructor(e,t,r){void 0===t?t=0:t>e.length&&nt(),void 0===r?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ih.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ih?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zt extends ih{construct(e,t,r){return new zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new zt(t)}static emptyPath(){return new zt([])}}const Hne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends ih{construct(e,t,r){return new zn(e,t,r)}static isValidIdentifier(e){return Hne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Oe(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Oe(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Oe(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Oe(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(zt.fromString(e))}static fromName(e){return new qe(zt.fromString(e).popFirst(5))}static empty(){return new qe(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new zt(e.slice()))}}function q2(n){return new wi(n.readTime,n.key,-1)}class wi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wi(ct.min(),qe.empty(),-1)}static max(){return new wi(ct.max(),qe.empty(),-1)}}function IS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:bt(n.largestBatchId,e.largestBatchId))}const W2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qo(n){return TS.apply(this,arguments)}function TS(){return TS=oe(function*(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==W2)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),TS.apply(this,arguments)}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,r)=>{t(e)})}static reject(e){return new be((t,r)=>{r(e)})}static waitFor(e){return new be((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=be.resolve(!1);for(const r of e)t=t.next(i=>i?be.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new be((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new be((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Xo(n){return"IndexedDbTransactionError"===n.name}let bi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function ah(n){return null==n}function lh(n){return 0===n&&1/n==-1/0}function nV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gn{constructor(e,t){this.comparator=e,this.root=t||Sr.EMPTY}insert(e,t){return new gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lm(this.root,e,this.comparator,!1)}getReverseIterator(){return new lm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lm(this.root,e,this.comparator,!0)}}class lm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Sr.RED,this.left=i??Sr.EMPTY,this.right=s??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Sr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1,Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Sr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iV(this.data.getIterator())}getIteratorFrom(e){return new iV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class iV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oi{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new oi([])}unionWith(e){let t=new vn(zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new oi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class sV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new sV("Invalid base64 string: "+i):i}}(e);return new ar(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const pre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(n){if(lt(!!n),"string"==typeof n){let e=0;const t=pre.exec(n);if(lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(n.seconds),nanos:Ln(n.nanos)}}function Ln(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ho(n){return"string"==typeof n?ar.fromBase64String(n):ar.fromUint8Array(n)}function cm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function um(n){const e=n.mapValue.fields.__previous_value__;return cm(e)?um(e):e}function ch(n){const e=Jo(n.mapValue.fields.__local_write_time__.timestampValue);return new xn(e.seconds,e.nanos)}class gre{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class $a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}const Zo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cm(n)?4:cV(n)?9007199254740991:10:nt()}function Ms(n,e){if(n===e)return!0;const t=ea(n);if(t!==ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ch(n).isEqual(ch(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Jo(r.timestampValue),o=Jo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ho(n.bytesValue).isEqual(ho(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ln(r.geoPointValue.latitude)===Ln(i.geoPointValue.latitude)&&Ln(r.geoPointValue.longitude)===Ln(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ln(r.integerValue)===Ln(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ln(r.doubleValue),o=Ln(i.doubleValue);return s===o?lh(s)===lh(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Sc(n.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(nV(s)!==nV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ms(s[a],o[a])))return!1;return!0}(n,e);default:return nt()}var i}function uh(n,e){return void 0!==(n.values||[]).find(t=>Ms(t,e))}function ta(n,e){if(n===e)return 0;const t=ea(n),r=ea(e);if(t!==r)return bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return bt(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ln(i.integerValue||i.doubleValue),a=Ln(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return oV(n.timestampValue,e.timestampValue);case 4:return oV(ch(n),ch(e));case 5:return bt(n.stringValue,e.stringValue);case 6:return function(i,s){const o=ho(i),a=ho(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=bt(o[l],a[l]);if(0!==c)return c}return bt(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=bt(Ln(i.latitude),Ln(s.latitude));return 0!==o?o:bt(Ln(i.longitude),Ln(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=ta(o[l],a[l]);if(c)return c}return bt(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Zo.mapValue&&s===Zo.mapValue)return 0;if(i===Zo.mapValue)return 1;if(s===Zo.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=bt(a[u],c[u]);if(0!==h)return h;const v=ta(o[a[u]],l[c[u]]);if(0!==v)return v}return bt(a.length,c.length)}(n.mapValue,e.mapValue);default:throw nt()}}function oV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return bt(n,e);const t=Jo(n),r=Jo(e),i=bt(t.seconds,r.seconds);return 0!==i?i:bt(t.nanos,r.nanos)}function Ic(n){return PS(n)}function PS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Jo(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ho(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=PS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${PS(r.fields[a])}`;return s+"}"}(n.mapValue):nt();var e}function za(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function MS(n){return!!n&&"integerValue"in n}function dh(n){return!!n&&"arrayValue"in n}function aV(n){return!!n&&"nullValue"in n}function lV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fm(n){return!!n&&"mapValue"in n}function hh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ar{constructor(e){this.value=e}static empty(){return new Ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hh(t)}setAll(e){let t=zn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=hh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());fm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];fm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Yo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ar(hh(this.value))}}function hV(n){const e=[];return Yo(n.fields,(t,r)=>{const i=new zn([t]);if(fm(r)){const s=hV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new oi(e)}class wn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,ct.min(),ct.min(),ct.min(),Ar.empty(),0)}static newFoundDocument(e,t,r,i){return new wn(e,1,t,ct.min(),r,i,0)}static newNoDocument(e,t){return new wn(e,2,t,ct.min(),ct.min(),Ar.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,ct.min(),ct.min(),Ar.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ct.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class na{constructor(e,t){this.position=e,this.inclusive=t}}function fV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?qe.comparator(qe.fromName(o.referenceValue),t.key):ta(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function pV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ms(n.position[t],e.position[t]))return!1;return!0}class Tc{constructor(e,t="asc"){this.field=e,this.dir=t}}function yre(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class gV{}class jt extends gV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new vre(e,t,r):"array-contains"===t?new Cre(e,r):"in"===t?new bV(e,r):"not-in"===t?new Ere(e,r):"array-contains-any"===t?new Sre(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new wre(e,r):new bre(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ta(t,this.value)):null!==t&&ea(this.value)===ea(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rn extends gV{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new rn(e,t)}matches(e){return Dc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Dc(n){return"and"===n.op}function RS(n){return function mV(n){for(const e of n.filters)if(e instanceof rn)return!1;return!0}(n)&&Dc(n)}function OS(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+Ic(n.value);if(RS(n))return n.filters.map(e=>OS(e)).join(",");{const e=n.filters.map(t=>OS(t)).join(",");return`${n.op}(${e})`}}function _V(n,e){return n instanceof jt?(t=n,(r=e)instanceof jt&&t.op===r.op&&t.field.isEqual(r.field)&&Ms(t.value,r.value)):n instanceof rn?function(t,r){return r instanceof rn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&_V(s,r.filters[o]),!0)}(n,e):void nt();var t,r}function vV(n){return n instanceof jt?`${(e=n).field.canonicalString()} ${e.op} ${Ic(e.value)}`:n instanceof rn?function(e){return e.op.toString()+" {"+e.getFilters().map(vV).join(" ,")+"}"}(n):"Filter";var e}class vre extends jt{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class wre extends jt{constructor(e,t){super(e,"in",t),this.keys=wV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bre extends jt{constructor(e,t){super(e,"not-in",t),this.keys=wV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class Cre extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dh(t)&&uh(t.arrayValue,this.value)}}class bV extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uh(this.value.arrayValue,t)}}class Ere extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uh(this.value.arrayValue,t)}}class Sre extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>uh(this.value.arrayValue,r))}}class Are{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function NS(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Are(n,e,t,r,i,s,o)}function qa(n){const e=Ke(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>OS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ic(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ic(r)).join(",")),e.dt=t}return e.dt}function fh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yre(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_V(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pV(n.startAt,e.startAt)&&pV(n.endAt,e.endAt)}function pm(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class fo{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function xc(n){return new fo(n)}function AV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function FS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function mm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function LS(n){return null!==n.collectionGroup}function Wa(n){const e=Ke(n);if(null===e.wt){e.wt=[];const t=mm(e),r=FS(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Tc(t)),e.wt.push(new Tc(zn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Tc(zn.keyField(),s))}}}return e.wt}function Yr(n){const e=Ke(n);if(!e._t)if("F"===e.limitType)e._t=NS(e.path,e.collectionGroup,Wa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Wa(e))t.push(new Tc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new na(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new na(e.startAt.position,e.startAt.inclusive):null;e._t=NS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function VS(n,e){e.getFirstInequalityField(),mm(n);const t=n.filters.concat([e]);return new fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _m(n,e,t){return new fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ph(n,e){return fh(Yr(n),Yr(e))&&n.limitType===e.limitType}function IV(n){return`${qa(Yr(n))}|lt:${n.limitType}`}function US(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>vV(r)).join(", ")}]`),ah(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ic(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ic(r)).join(",")),`Target(${t})`}(Yr(n))}; limitType=${n.limitType})`}function gh(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Wa(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=fV(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Wa(t),r)||t.endAt&&!function(i,s,o){const a=fV(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Wa(t),r)));var t,r}function DV(n){return(e,t)=>{let r=!1;for(const i of Wa(n)){const s=Ire(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Ire(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?ta(a,l):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}class po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rV(this.inner)}size(){return this.innerSize}}const Tre=new gn(qe.comparator);function ai(){return Tre}const xV=new gn(qe.comparator);function mh(...n){let e=xV;for(const t of n)e=e.insert(t.key,t);return e}function PV(n){let e=xV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ks(){return _h()}function MV(){return _h()}function _h(){return new po(n=>n.toString(),(n,e)=>n.isEqual(e))}const Dre=new gn(qe.comparator),xre=new vn(qe.comparator);function Mt(...n){let e=xre;for(const t of n)e=e.add(t);return e}const Pre=new vn(bt);function kV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function RV(n){return{integerValue:""+n}}function OV(n,e){return function Q2(n){return"number"==typeof n&&Number.isInteger(n)&&!lh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?RV(e):kV(n,e)}class ym{constructor(){this._=void 0}}function Mre(n,e,t){return n instanceof Pc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&cm(i)&&(i=um(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ka?FV(n,e):n instanceof Qa?LV(n,e):function(r,i){const s=NV(r,i),o=VV(s)+VV(r.gt);return MS(s)&&MS(r.gt)?RV(o):kV(r.serializer,o)}(n,e)}function kre(n,e,t){return n instanceof Ka?FV(n,e):n instanceof Qa?LV(n,e):t}function NV(n,e){return n instanceof Mc?MS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Pc extends ym{}class Ka extends ym{constructor(e){super(),this.elements=e}}function FV(n,e){const t=UV(e);for(const r of n.elements)t.some(i=>Ms(i,r))||t.push(r);return{arrayValue:{values:t}}}class Qa extends ym{constructor(e){super(),this.elements=e}}function LV(n,e){let t=UV(e);for(const r of n.elements)t=t.filter(i=>!Ms(i,r));return{arrayValue:{values:t}}}class Mc extends ym{constructor(e,t){super(),this.serializer=e,this.gt=t}}function VV(n){return Ln(n.integerValue||n.doubleValue)}function UV(n){return dh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ore{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wm{}function BV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Rc(n.key,An.none()):new kc(n.key,n.data,An.none());{const t=n.data,r=Ar.empty();let i=new vn(zn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new go(n.key,r,new oi(i.toArray()),An.none())}}function Nre(n,e,t){n instanceof kc?function(r,i,s){const o=r.value.clone(),a=GV(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof go?function(r,i,s){if(!vm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=GV(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(HV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function vh(n,e,t,r){return n instanceof kc?function(i,s,o,a){if(!vm(i.precondition,s))return o;const l=i.value.clone(),c=$V(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof go?function(i,s,o,a){if(!vm(i.precondition,s))return o;const l=$V(i.fieldTransforms,a,s),c=s.data;return c.setAll(HV(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,vm(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Fre(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=NV(r.transform,i||null);null!=s&&(null===t&&(t=Ar.empty()),t.set(r.field,s))}return t||null}function jV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Sc(t,r,(i,s)=>function Rre(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ka&&r instanceof Ka||t instanceof Qa&&r instanceof Qa?Sc(t.elements,r.elements,Ms):t instanceof Mc&&r instanceof Mc?Ms(t.gt,r.gt):t instanceof Pc&&r instanceof Pc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class kc extends wm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class go extends wm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function GV(n,e,t){const r=new Map;lt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,kre(o,a,t[i]))}return r}function $V(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Mre(s,o,e))}return r}class Rc extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jS extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Nre(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=vh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=vh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=BV(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mt())}isEqual(e){return this.batchId===e.batchId&&Sc(this.mutations,e.mutations,(t,r)=>jV(t,r))&&Sc(this.baseMutations,e.baseMutations,(t,r)=>jV(t,r))}}class GS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){lt(e.mutations.length===r.length);let i=Dre;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new GS(e,t,r,i)}}class $S{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vre{constructor(e,t){this.count=e,this.unchangedNames=t}}var er,qt;function qV(n){if(void 0===n)return $n("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case er.OK:return Ae.OK;case er.CANCELLED:return Ae.CANCELLED;case er.UNKNOWN:return Ae.UNKNOWN;case er.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case er.INTERNAL:return Ae.INTERNAL;case er.UNAVAILABLE:return Ae.UNAVAILABLE;case er.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case er.NOT_FOUND:return Ae.NOT_FOUND;case er.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case er.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case er.ABORTED:return Ae.ABORTED;case er.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case er.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case er.DATA_LOSS:return Ae.DATA_LOSS;default:return nt()}}(qt=er||(er={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";class zS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bm}static getOrCreateInstance(){return null===bm&&(bm=new zS),bm}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let bm=null;const Ure=new Cc([4294967295,4294967295],0);function KV(n){const e=function WV(){return new TextEncoder}().encode(n),t=new One;return t.update(e),new Uint8Array(t.digest())}function QV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Cc([t,r],0),new Cc([i,s],0)]}class qS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wh(`Invalid padding: ${t}`);if(r<0)throw new wh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new wh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new wh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Cc.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Cc.fromNumber(r)));return 1===i.compare(Ure)&&(i=new Cc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=KV(e),[r,i]=QV(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qS(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=KV(e),[r,i]=QV(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ch.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new bh(ct.min(),i,new gn(bt),ai(),Mt())}}class Ch{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ch(r,t,Mt(),Mt(),Mt())}}class Cm{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class XV{constructor(e,t){this.targetId=e,this.Vt=t}}class YV{constructor(e,t,r=ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class JV{constructor(){this.St=0,this.Dt=eU(),this.Ct=ar.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Mt(),t=Mt(),r=Mt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:nt()}}),new Ch(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=eU()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Bre{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ai(),this.zt=ZV(),this.Wt=new gn(bt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(pm(o))if(0===i){const a=new qe(o.path);this.Yt(r,a,wn.newNoDocument(a,ct.min()))}else lt(1===i);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);0!==l&&(this.ee(r),this.Wt=this.Wt.insert(r,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=zS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,h){var v,D,$,se,he,Ee;const Pe={localCacheCount:u,existenceFilterCount:h.count},we=h.unchangedNames;return we&&(Pe.bloomFilter={applied:0===c,hashCount:null!==(v=we?.hashCount)&&void 0!==v?v:0,bitmapLength:null!==(se=null===($=null===(D=we?.bits)||void 0===D?void 0:D.bitmap)||void 0===$?void 0:$.length)&&void 0!==se?se:0,padding:null!==(Ee=null===(he=we?.bits)||void 0===he?void 0:he.padding)&&void 0!==Ee?Ee:0}),Pe}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=ho(s).toUint8Array()}catch(u){if(u instanceof sV)return ts("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new qS(l,o,a)}catch(u){return ts(u instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&pm(a.target)){const l=new qe(a.target.path);null!==this.jt.get(l)||this.ae(o,l)||this.Yt(o,l,wn.newNoDocument(l,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=Mt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new bh(e,t,this.Wt,this.jt,r);return this.jt=ai(),this.zt=ZV(),this.Wt=new gn(bt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new JV,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new vn(bt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new JV),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function ZV(){return new gn(qe.comparator)}function eU(){return new gn(qe.comparator)}const jre={asc:"ASCENDING",desc:"DESCENDING"},Hre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gre={and:"AND",or:"OR"};class $re{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function WS(n,e){return n.useProto3Json||ah(e)?e:{value:e}}function Oc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zre(n,e){return Oc(n,e.toTimestamp())}function qn(n){return lt(!!n),ct.fromTimestamp(function(e){const t=Jo(e);return new xn(t.seconds,t.nanos)}(n))}function KS(n,e){return(t=n,new zt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function nU(n){const e=zt.fromString(n);return lt(dU(e)),e}function Eh(n,e){return KS(n.databaseId,e.path)}function Rs(n,e){const t=nU(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(iU(t))}function QS(n,e){return KS(n.databaseId,e)}function Sh(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iU(n){return lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sU(n,e,t){return{name:Eh(n,e),fields:t.value.mapValue.fields}}function aU(n,e){return{documents:[QS(n,e.path)]}}function YS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=QS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=QS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return uU(rn.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:ra((u=c).field),direction:Xre(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=WS(n,e.limit);var a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function lU(n){let e=function rU(n){const e=nU(n);return 4===e.length?zt.emptyPath():iU(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){lt(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const h=cU(u);return h instanceof rn&&RS(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Tc(Nc((h=u).field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction));var h}));let a=null;t.limit&&(a=function(u){let h;return h="object"==typeof u?u.value:u,ah(h)?null:h}(t.limit));let l=null;var u;t.startAt&&(l=new na((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new na(u.values||[],!u.before)}(t.endAt)),function SV(n,e,t,r,i,s,o,a){return new fo(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function cU(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Nc(e.unaryFilter.field);return jt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Nc(e.unaryFilter.field);return jt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Nc(e.unaryFilter.field);return jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Nc(e.unaryFilter.field);return jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(n):void 0!==n.fieldFilter?jt.create(Nc((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return rn.create(e.compositeFilter.filters.map(t=>cU(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return nt()}}(e.compositeFilter.op))}(n):nt();var e}function Xre(n){return jre[n]}function Yre(n){return Hre[n]}function Jre(n){return Gre[n]}function ra(n){return{fieldPath:n.canonicalString()}}function Nc(n){return zn.fromServerFormat(n.fieldPath)}function uU(n){return n instanceof jt?function(e){if("=="===e.op){if(lV(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NAN"}};if(aV(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lV(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NOT_NAN"}};if(aV(e.value))return{unaryFilter:{field:ra(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(e.field),op:Yre(e.op),value:e.value}}}(n):n instanceof rn?function(e){const t=e.getFilters().map(r=>uU(r));return 1===t.length?t[0]:{compositeFilter:{op:Jre(e.op),filters:t}}}(n):nt()}function Zre(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class mo{constructor(e,t,r,i,s=ct.min(),o=ct.min(),a=ar.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hU{constructor(e){this.fe=e}}function JS(n){const e=lU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?_m(e,e.limit,"L"):e}class Za{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ln(e.integerValue));else if("doubleValue"in e){const r=Ln(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),lh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ho(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?cV(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):nt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),qe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Za.Ve=new Za;class lie{constructor(){this.rn=new iA}addToCollectionParentIndex(e,t){return this.rn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(wi.min())}updateCollectionGroup(e,t,r){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class iA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vn(zt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(zt.comparator)).toArray()}}new Uint8Array(0);class Vr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Vr(e,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(41943040,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);class tl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new tl(0)}static Mn(){return new tl(-1)}}class pie{constructor(){this.changes=new po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _ie{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class VU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&vh(r.mutation,i,oi.empty(),xn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Mt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Mt()){const i=ks();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=mh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ks();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Mt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=ai();const o=_h(),a=_h();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof go)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),vh(u.mutation,c,u.mutation.getFieldMask(),xn.now())):o.set(c.key,oi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new _ie(u,null!==(h=o.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=_h();let i=new gn((o,a)=>o-a),s=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||oi.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||Mt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=MV();u.forEach(v=>{if(!s.has(v)){const D=BV(t.get(v),r.get(v));null!==D&&h.set(v,D),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return be.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):LS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):be.resolve(ks());let a=-1,l=s;return o.next(c=>be.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?be.resolve():this.remoteDocumentCache.getEntry(e,u).next(v=>{l=l.insert(u,v)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Mt())).next(u=>({batchId:a,changes:PV(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let i=mh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=mh();return this.indexManager.getCollectionParents(e,i).next(o=>be.forEach(o,a=>{const l=(c=t,u=a.child(i),new fo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,wn.newInvalidDocument(c)))});let o=mh();return s.forEach((a,l)=>{const c=i.get(a);void 0!==c&&vh(c.mutation,l,oi.empty(),xn.now()),gh(t,l)&&(o=o.insert(a,l))}),o})}}class yie{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return be.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:qn(r.createTime)}),be.resolve()}getNamedQuery(e,t){return be.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:JS(r.bundledQuery),readTime:qn(r.readTime)}),be.resolve();var r}}class vie{constructor(){this.overlays=new gn(qe.comparator),this.ls=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ks();return be.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),be.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),be.resolve()}getOverlaysForCollection(e,t,r){const i=ks(),s=t.length+1,o=new qe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return be.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new gn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=ks(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ks(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return be.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $S(t,r));let s=this.ls.get(t);void 0===s&&(s=Mt(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class sA{constructor(){this.fs=new vn(mr.ds),this.ws=new vn(mr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new mr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new mr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new qe(new zt([])),r=new mr(t,e),i=new mr(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new qe(new zt([])),r=new mr(t,e),i=new mr(t,e+1);let s=Mt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new mr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class mr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return qe.comparator(e.key,t.key)||bt(e.As,t.As)}static _s(e,t){return bt(e.As,t.As)||qe.comparator(e.key,t.key)}}class wie{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new vn(mr.ds)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new HS(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return be.resolve(o)}lookupMutationBatch(e,t){return be.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new mr(t,0),i=new mr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(bt);return t.forEach(i=>{const s=new mr(i,0),o=new mr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),be.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;qe.isDocumentKey(s)||(s=s.child(""));const o=new mr(new qe(s),0);let a=new vn(bt);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),be.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){lt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return be.forEach(t.mutations,i=>{const s=new mr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new mr(t,0),i=this.Rs.firstAfterOrEqual(r);return be.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return be.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bie{constructor(e){this.Ds=e,this.docs=new gn(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return be.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=ai();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wn.newInvalidDocument(i))}),be.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ai();const o=t.path,a=new qe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||IS(q2(u),r)<=0||(i.has(u.key)||gh(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,t,r,i){nt()}Cs(e,t){return be.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Cie(this)}getSize(e){return be.resolve(this.size)}}class Cie extends pie{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),be.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Eie{constructor(e){this.persistence=e,this.xs=new po(t=>qa(t),fh),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sA,this.targetCount=0,this.Ms=tl.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),be.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Fn(t),be.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),be.waitFor(s).next(()=>i)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return be.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),be.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),be.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return be.resolve(r)}containsKey(e,t){return be.resolve(this.ks.containsKey(t))}}class oA{constructor(e,t){this.$s={},this.overlays={},this.Os=new bi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Eie(this),this.indexManager=new lie,this.remoteDocumentCache=new bie(r=>this.referenceDelegate.Ls(r)),this.serializer=new hU(t),this.qs=new yie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vie,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new wie(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new Sie(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return be.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Sie extends zne{constructor(e){super(),this.currentSequenceNumber=e}}class Mm{constructor(e){this.persistence=e,this.Qs=new sA,this.js=null}static zs(e){return new Mm(e)}get Ws(){if(this.js)return this.js;throw nt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),be.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),be.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Ws,r=>{const i=qe.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,ct.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return be.or([()=>be.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class uA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Mt(),i=Mt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uA(e,t.fromCache,r,i)}}class BU{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(AV(t))return be.resolve(null);let r=Yr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=_m(t,null,"F"),r=Yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Mt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(t,a);return this.zi(t,c,o,l.readTime)?this.Ki(e,_m(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,r,i){return AV(t)||i.isEqual(ct.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(ES()<=$t.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),US(t)),this.Wi(e,o,t,function z2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(1e9===r?new xn(t+1,0):new xn(t,r));return new wi(i,qe.empty(),e)}(i,-1)))})}ji(e,t){let r=new vn(DV(e));return t.forEach((i,s)=>{gh(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return ES()<=$t.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",US(t)),this.Ui.getDocumentsMatchingQuery(e,t,wi.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Iie{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new gn(bt),this.Yi=new po(s=>qa(s),fh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function HU(n,e){return dA.apply(this,arguments)}function dA(){return dA=oe(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Mt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),dA.apply(this,arguments)}function GU(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function xie(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Uc(n,e,t){return hA.apply(this,arguments)}function hA(){return hA=oe(function*(n,e,t){const r=Ke(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Xo(o))throw o;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),hA.apply(this,arguments)}function Om(n,e,t){const r=Ke(n);let i=ct.min(),s=Mt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Ke(a),h=u.Yi.get(c);return void 0!==h?be.resolve(u.Ji.get(h)):u.Bs.getTargetData(l,c)}(r,o,Yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:ct.min(),t?s:Mt())).next(a=>(function WU(n,e,t){let r=n.Xi.get(e)||ct.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function TV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class _A{constructor(){this.activeTargetIds=function BS(){return Pre}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XU{constructor(){this.Hr=new _A,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new _A,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kie{Yr(e){}shutdown(){}}class YU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lm=null;function vA(){return null===Lm?Lm=268435456+Math.round(2147483648*Math.random()):Lm++,"0x"+Lm.toString(16)}const Rie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oie{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ur="WebChannelConnection";class Nie extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=vA(),a=this.To(e,t);Ve("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(Ve("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ts("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ec,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Rie[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=vA();return new Promise((o,a)=>{const l=new Rne;l.setWithCredentials(!0),l.listenOnce(Pne.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case CS.NO_ERROR:const u=l.getResponseJson();Ve(Ur,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case CS.TIMEOUT:Ve(Ur,`RPC '${e}' ${s} timed out`),a(new Oe(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case CS.HTTP_ERROR:const h=l.getStatus();if(Ve(Ur,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const D=v?.error;if(D&&D.status&&D.message){const $=function(se){const he=se.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(he)>=0?he:Ae.UNKNOWN}(D.status);a(new Oe($,D.message))}else a(new Oe(Ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Oe(Ae.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Ve(Ur,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Ve(Ur,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=vA(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dne(),a=xne(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new kne({})),this.Eo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Ve(Ur,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let v=!1,D=!1;const $=new Oie({ro:he=>{D?Ve(Ur,`Not sending because RPC '${e}' stream ${i} is closed:`,he):(v||(Ve(Ur,`Opening RPC '${e}' stream ${i} transport.`),h.open(),v=!0),Ve(Ur,`RPC '${e}' stream ${i} sending:`,he),h.send(he))},oo:()=>h.close()}),se=(he,Ee,Pe)=>{he.listen(Ee,we=>{try{Pe(we)}catch(We){setTimeout(()=>{throw We},0)}})};return se(h,rm.EventType.OPEN,()=>{D||Ve(Ur,`RPC '${e}' stream ${i} transport opened.`)}),se(h,rm.EventType.CLOSE,()=>{D||(D=!0,Ve(Ur,`RPC '${e}' stream ${i} transport closed`),$.wo())}),se(h,rm.EventType.ERROR,he=>{D||(D=!0,ts(Ur,`RPC '${e}' stream ${i} transport errored:`,he),$.wo(new Oe(Ae.UNAVAILABLE,"The operation could not be completed")))}),se(h,rm.EventType.MESSAGE,he=>{var Ee;if(!D){const Pe=he.data[0];lt(!!Pe);const We=Pe.error||(null===(Ee=Pe[0])||void 0===Ee?void 0:Ee.error);if(We){Ve(Ur,`RPC '${e}' stream ${i} received error:`,We);const dt=We.status;let pt=function(yo){const tu=er[yo];if(void 0!==tu)return qV(tu)}(dt),_r=We.message;void 0===pt&&(pt=Ae.INTERNAL,_r="Unknown error status: "+dt+" with message "+We.message),D=!0,$.wo(new Oe(pt,_r)),h.close()}else Ve(Ur,`RPC '${e}' stream ${i} received:`,Pe),$._o(Pe)}}),se(a,Mne.STAT_EVENT,he=>{he.stat===U2.PROXY?Ve(Ur,`RPC '${e}' stream ${i} detected buffering proxy`):he.stat===U2.NOPROXY&&Ve(Ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{$.fo()},0),$}}function Vm(){return typeof document<"u"?document:null}function Oh(n){return new $re(n,!0)}class wA{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ZU{constructor(e,t,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return oe(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return oe(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return oe(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?($n(t.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===Ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Oe(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(oe(function*(){e.state=0,e.start()}))}tu(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fie extends ZU{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Wre(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:nt(),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(lt(void 0===c||"string"==typeof c),ar.fromBase64String(c||"")):(lt(void 0===c||c instanceof Uint8Array),ar.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?Ae.UNKNOWN:qV(l.code);return new Oe(c,l.message||"")}(o);t=new YV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Rs(n,r.document.name),s=qn(r.document.updateTime),o=r.document.createTime?qn(r.document.createTime):ct.min(),a=new Ar({mapValue:{fields:r.document.fields}}),l=wn.newFoundDocument(i,s,o,a);t=new Cm(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Rs(n,r.document),s=r.readTime?qn(r.readTime):ct.min(),o=wn.newNoDocument(i,s);t=new Cm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Rs(n,r.document);t=new Cm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return nt();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Vre(i,s);t=new XV(r.targetId,o)}}var l;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return ct.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ct.min():s.readTime?qn(s.readTime):ct.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Sh(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=pm(a)?{documents:aU(i,a)}:{query:YS(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=tU(i,s.resumeToken);const l=WS(i,s.expectedCount);null!==l&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ct.min())>0){o.readTime=Oc(i,s.snapshotVersion.toTimestamp());const l=WS(i,s.expectedCount);null!==l&&(o.expectedCount=l)}return o}(this.serializer,e);const r=function Qre(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Sh(this.serializer),t.removeTarget=e,this.Wo(t)}}class Lie extends ZU{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Kre(n,e){return n&&n.length>0?(lt(void 0!==e),n.map(t=>function(r,i){let s=qn(r.updateTime?r.updateTime:i);return s.isEqual(ct.min())&&(s=qn(i)),new Ore(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.cu(r,t)}return lt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Sh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Ah(n,e){let t;if(e instanceof kc)t={update:sU(n,e.key,e.value)};else if(e instanceof Rc)t={delete:Eh(n,e.key)};else if(e instanceof go)t={update:sU(n,e.key,e.data),updateMask:Zre(e.fieldMask)};else{if(!(e instanceof jS))return nt();t={verify:Eh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Pc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ka)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Mc)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:zre(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:nt()),t;var i}(this.serializer,r))};this.Wo(t)}}class Vie extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Oe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(Ae.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(Ae.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Bie{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?($n(t),this.mu=!1):Ve("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class jie{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(oe(function*(){var l;aa(o)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(l=oe(function*(c){const u=Ke(c);u.vu.add(4),yield Bc(u),u.bu.set("Unknown"),u.vu.delete(4),yield Nh(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.bu=new Bie(r,i)}}function Nh(n){return CA.apply(this,arguments)}function CA(){return CA=oe(function*(n){if(aa(n))for(const e of n.Ru)yield e(!0)}),CA.apply(this,arguments)}function Bc(n){return EA.apply(this,arguments)}function EA(){return EA=oe(function*(n){for(const e of n.Ru)yield e(!1)}),EA.apply(this,arguments)}function Um(n,e){const t=Ke(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),IA(t)?AA(t):Hc(t).Ko()&&SA(t,e))}function Fh(n,e){const t=Ke(n),r=Hc(t);t.Au.delete(e),r.Ko()&&eB(t,e),0===t.Au.size&&(r.Ko()?r.jo():aa(t)&&t.bu.set("Unknown"))}function SA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hc(n).su(e)}function eB(n,e){n.Vu.qt(e),Hc(n).iu(e)}function AA(n){n.Vu=new Bre({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Hc(n).start(),n.bu.gu()}function IA(n){return aa(n)&&!Hc(n).Uo()&&n.Au.size>0}function aa(n){return 0===Ke(n).vu.size}function tB(n){n.Vu=void 0}function Hie(n){return TA.apply(this,arguments)}function TA(){return TA=oe(function*(n){n.Au.forEach((e,t)=>{SA(n,e)})}),TA.apply(this,arguments)}function Gie(n,e){return DA.apply(this,arguments)}function DA(){return DA=oe(function*(n,e){tB(n),IA(n)?(n.bu.Iu(e),AA(n)):n.bu.set("Unknown")}),DA.apply(this,arguments)}function $ie(n,e,t){return xA.apply(this,arguments)}function xA(){return xA=oe(function*(n,e,t){if(n.bu.set("Online"),e instanceof YV&&2===e.state&&e.cause)try{yield(r=oe(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bm(n,r)}else if(e instanceof Cm?n.Vu.Ht(e):e instanceof XV?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ct.min()))try{const r=yield GU(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(ar.EMPTY_BYTE_STRING,c.snapshotVersion)),eB(i,a);const u=new mo(c.target,a,l,c.sequenceNumber);SA(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),yield Bm(n,r)}var r}),xA.apply(this,arguments)}function Bm(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=oe(function*(n,e,t){if(!Xo(e))throw e;n.vu.add(1),yield Bc(n),n.bu.set("Offline"),t||(t=()=>GU(n.localStore)),n.asyncQueue.enqueueRetryable(oe(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Nh(n)}))}),PA.apply(this,arguments)}function nB(n,e){return e().catch(t=>Bm(n,t,e))}function jc(n){return MA.apply(this,arguments)}function MA(){return MA=oe(function*(n){const e=Ke(n),t=la(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;zie(e);)try{const i=yield xie(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,qie(e,i)}catch(i){yield Bm(e,i)}rB(e)&&iB(e)}),MA.apply(this,arguments)}function zie(n){return aa(n)&&n.Eu.length<10}function qie(n,e){n.Eu.push(e);const t=la(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function rB(n){return aa(n)&&!la(n).Uo()&&n.Eu.length>0}function iB(n){la(n).start()}function Wie(n){return kA.apply(this,arguments)}function kA(){return kA=oe(function*(n){la(n).hu()}),kA.apply(this,arguments)}function Kie(n){return RA.apply(this,arguments)}function RA(){return RA=oe(function*(n){const e=la(n);for(const t of n.Eu)e.uu(t.mutations)}),RA.apply(this,arguments)}function Qie(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=oe(function*(n,e,t){const r=n.Eu.shift(),i=GS.from(r,e,t);yield nB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield jc(n)}),OA.apply(this,arguments)}function Xie(n,e){return NA.apply(this,arguments)}function NA(){return NA=oe(function*(n,e){var t;e&&la(n).ou&&(yield(t=oe(function*(r,i){if(function zV(n){switch(n){default:return nt();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}(s=i.code)&&s!==Ae.ABORTED){const o=r.Eu.shift();la(r).Qo(),yield nB(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield jc(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),rB(n)&&iB(n)}),NA.apply(this,arguments)}function sB(n,e){return FA.apply(this,arguments)}function FA(){return FA=oe(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const r=aa(t);t.vu.add(3),yield Bc(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Nh(t)}),FA.apply(this,arguments)}function VA(){return VA=oe(function*(n,e){const t=Ke(n);e?(t.vu.delete(2),yield Nh(t)):e||(t.vu.add(2),yield Bc(t),t.bu.set("Unknown"))}),VA.apply(this,arguments)}function Hc(n){return n.Su||(n.Su=function(e,t,r){const i=Ke(e);return i.fu(),new Fie(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Hie.bind(null,n),ao:Gie.bind(null,n),nu:$ie.bind(null,n)}),n.Ru.push(function(){var e=oe(function*(t){t?(n.Su.Qo(),IA(n)?AA(n):n.bu.set("Unknown")):(yield n.Su.stop(),tB(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function la(n){return n.Du||(n.Du=function(e,t,r){const i=Ke(e);return i.fu(),new Lie(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Wie.bind(null,n),ao:Xie.bind(null,n),au:Kie.bind(null,n),cu:Qie.bind(null,n)}),n.Ru.push(function(){var e=oe(function*(t){t?(n.Du.Qo(),yield jc(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class UA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new UA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gc(n,e){if($n("AsyncQueue",`${e}: ${n}`),Xo(n))return new Oe(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}class $c{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=mh(),this.sortedSet=new gn(this.comparator)}static emptySet(e){return new $c(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $c)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $c;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class oB{constructor(){this.Cu=new gn(qe.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):nt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class zc{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new zc(e,t,$c.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Yie{constructor(){this.Nu=void 0,this.listeners=[]}}class Jie{constructor(){this.queries=new po(e=>IV(e),ph),this.onlineState="Unknown",this.ku=new Set}}function BA(n,e){return jA.apply(this,arguments)}function jA(){return jA=oe(function*(n,e){const t=Ke(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Yie),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=Gc(o,`Initialization of query '${US(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&$A(t)}),jA.apply(this,arguments)}function HA(n,e){return GA.apply(this,arguments)}function GA(){return GA=oe(function*(n,e){const t=Ke(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),GA.apply(this,arguments)}function Zie(n,e){const t=Ke(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&$A(t)}function ese(n,e,t){const r=Ke(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function $A(n){n.ku.forEach(e=>{e.next()})}class zA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new zc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class cB{constructor(e){this.key=e}}class uB{constructor(e){this.key=e}}class dB{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Mt(),this.mutatedKeys=Mt(),this.tc=DV(e),this.ec=new $c(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new oB,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const v=i.get(u),D=gh(this.query,h)?h:null,$=!!v&&this.mutatedKeys.has(v.key),se=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let he=!1;v&&D?v.data.isEqual(D.data)?$!==se&&(r.track({type:3,doc:D}),he=!0):this.rc(v,D)||(r.track({type:2,doc:D}),he=!0,(l&&this.tc(D,l)>0||c&&this.tc(D,c)<0)&&(a=!0)):!v&&D?(r.track({type:0,doc:D}),he=!0):v&&!D&&(r.track({type:1,doc:v}),he=!0,(l||c)&&(a=!0)),he&&(D?(o=o.add(D),s=se?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(h,v){const D=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return D(h)-D(v)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==s.length||l?{snapshot:new zc(this.query,e.ec,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new oB,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Mt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new uB(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new cB(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Mt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return zc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class rse{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ise{constructor(e){this.key=e,this.fc=!1}}class sse{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new po(a=>IV(a),ph),this._c=new Map,this.mc=new Set,this.gc=new gn(qe.comparator),this.yc=new Map,this.Ic=new sA,this.Tc={},this.Ec=new Map,this.Ac=tl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ose(n,e){return qA.apply(this,arguments)}function qA(){return qA=oe(function*(n,e){const t=function gI(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cse.bind(null,e),e.dc.nu=Zie.bind(null,e.eventManager),e.dc.Pc=ese.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Vc(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,be.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new mo(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Yr(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function WA(n,e,t,r,i){return KA.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Um(t.remoteStore,o)}return i}),qA.apply(this,arguments)}function KA(){return KA=oe(function*(n,e,t,r,i){n.Rc=(h,v,D)=>{return($=oe(function*(se,he,Ee,Pe){let we=he.view.sc(Ee);we.zi&&(we=yield Om(se.localStore,he.query,!1).then(({documents:pt})=>he.view.sc(pt,we)));const We=Pe&&Pe.targetChanges.get(he.targetId),dt=he.view.applyChanges(we,se.isPrimaryClient,We);return iI(se,he.targetId,dt.cc),dt.snapshot}),function(se,he,Ee,Pe){return $.apply(this,arguments)})(n,h,v,D);var $};const s=yield Om(n.localStore,e,!0),o=new dB(e,s.ir),a=o.sc(s.documents),l=Ch.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);iI(n,t,c.cc);const u=new rse(e,t,o);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),KA.apply(this,arguments)}function ase(n,e){return QA.apply(this,arguments)}function QA(){return QA=oe(function*(n,e){const t=Ke(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!ph(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Uc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Fh(t.remoteStore,r.targetId),qc(t,r.targetId)}).catch(Qo))):(qc(t,r.targetId),yield Uc(t.localStore,r.targetId,!0))}),QA.apply(this,arguments)}function XA(){return XA=oe(function*(n,e,t){const r=function mI(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=use.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dse.bind(null,e),e}(n);try{const i=yield function(s,o){const a=Ke(s),l=xn.now(),c=o.reduce((v,D)=>v.add(D.key),Mt());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",v=>{let D=ai(),$=Mt();return a.Zi.getEntries(v,c).next(se=>{D=se,D.forEach((he,Ee)=>{Ee.isValidDocument()||($=$.add(he))})}).next(()=>a.localDocuments.getOverlayedDocuments(v,D)).next(se=>{u=se;const he=[];for(const Ee of o){const Pe=Fre(Ee,u.get(Ee.key).overlayedDocument);null!=Pe&&he.push(new go(Ee.key,Pe,hV(Pe.value.mapValue),An.exists(!0)))}return a.mutationQueue.addMutationBatch(v,l,he,o)}).next(se=>{h=se;const he=se.applyToLocalDocumentSet(u,$);return a.documentOverlayCache.saveOverlays(v,se.batchId,he)})}).then(()=>({batchId:h.batchId,changes:PV(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new gn(bt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield _o(r,i.changes),yield jc(r.remoteStore)}catch(i){const s=Gc(i,"Failed to persist write");t.reject(s)}}),XA.apply(this,arguments)}function hB(n,e){return YA.apply(this,arguments)}function YA(){return YA=oe(function*(n,e){const t=Ke(n);try{const r=yield function Die(n,e){const t=Ke(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const v=i.get(h);if(!v)return;a.push(t.Bs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Bs.addMatchingKeys(s,u.addedDocuments,h)));let D=v.withSequenceNumber(s.currentSequenceNumber);var $,se,he;null!==e.targetMismatches.get(h)?D=D.withResumeToken(ar.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):u.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(u.resumeToken,r)),i=i.insert(h,D),se=D,he=u,(0===($=v).resumeToken.approximateByteSize()||se.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,D))});let l=ai(),c=Mt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function $U(n,e,t){let r=Mt(),i=Mt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=ai();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ct.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(ct.min())){const u=t.Bs.getLastRemoteSnapshotVersion(s).next(h=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return be.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?lt(o.fc):i.removedDocuments.size>0&&(lt(o.fc),o.fc=!1))}),yield _o(t,r,e)}catch(r){yield Qo(r)}}),YA.apply(this,arguments)}function fB(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Ke(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Mu(o)&&(l=!0)}),l&&$A(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cse(n,e,t){return JA.apply(this,arguments)}function JA(){return JA=oe(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new gn(qe.comparator);o=o.insert(s,wn.newNoDocument(s,ct.min()));const a=Mt().add(s),l=new bh(ct.min(),new Map,new gn(bt),o,a);yield hB(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),sI(r)}else yield Uc(r.localStore,e,!1).then(()=>qc(r,e,t)).catch(Qo)}),JA.apply(this,arguments)}function use(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=oe(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const i=yield function Tie(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let v=be.resolve();return h.forEach(D=>{v=v.next(()=>c.getEntry(a,D)).next($=>{const se=l.docVersions.get(D);lt(null!==se),$.version.compareTo(se)<0&&(u.applyToRemoteDocument($,l),$.isValidDocument()&&($.setReadTime(l.commitVersion),c.addEntry($)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Mt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);rI(t,r,null),nI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _o(t,i)}catch(i){yield Qo(i)}}),ZA.apply(this,arguments)}function dse(n,e,t){return eI.apply(this,arguments)}function eI(){return eI=oe(function*(n,e,t){const r=Ke(n);try{const i=yield function(s,o){const a=Ke(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(lt(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);rI(r,e,t),nI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _o(r,i)}catch(i){yield Qo(i)}}),eI.apply(this,arguments)}function nI(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function rI(n,e,t){const r=Ke(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function qc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||pB(n,r)})}function pB(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Fh(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),sI(n))}function iI(n,e,t){for(const r of t)r instanceof cB?(n.Ic.addReference(r.key,e),fse(n,r)):r instanceof uB?(Ve("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||pB(n,r.key)):nt()}function fse(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ve("SyncEngine","New document in limbo: "+t),n.mc.add(r),sI(n))}function sI(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new qe(zt.fromString(e)),r=n.Ac.next();n.yc.set(r,new ise(t)),n.gc=n.gc.insert(t,r),Um(n.remoteStore,new mo(Yr(xc(t.path)),r,"TargetPurposeLimboResolution",bi.ct))}}function _o(n,e,t){return oI.apply(this,arguments)}function oI(){return oI=oe(function*(n,e,t){const r=Ke(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=uA.Li(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=oe(function*(l,c){const u=Ke(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>be.forEach(c,v=>be.forEach(v.Fi,D=>u.persistence.referenceDelegate.addReference(h,v.targetId,D)).next(()=>be.forEach(v.Bi,D=>u.persistence.referenceDelegate.removeReference(h,v.targetId,D)))))}catch(h){if(!Xo(h))throw h;Ve("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const v=h.targetId;if(!h.fromCache){const D=u.Ji.get(v),se=D.withLastLimboFreeSnapshotVersion(D.snapshotVersion);u.Ji=u.Ji.insert(v,se)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),oI.apply(this,arguments)}function pse(n,e){return aI.apply(this,arguments)}function aI(){return aI=oe(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=yield HU(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new Oe(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _o(t,r.er)}var i}),aI.apply(this,arguments)}function gse(n,e){const t=Ke(n),r=t.yc.get(e);if(r&&r.fc)return Mt().add(r.key);{let i=Mt();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class jm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return oe(function*(){t.serializer=Oh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function jU(n,e,t,r){return new Iie(n,e,t,r)}(this.persistence,new BU,e.initialUser,this.serializer)}createPersistence(e){return new oA(Mm.zs,this.serializer)}createSharedClientState(e){return new XU}terminate(){var e=this;return oe(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wc{initialize(e,t){var r=this;return oe(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=pse.bind(null,r.syncEngine),yield function LA(n,e){return VA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jie}createDatastore(e){const t=Oh(e.databaseInfo.databaseId),r=new Nie(e.databaseInfo);return new Vie(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>fB(this.syncEngine,a,0),o=YU.D()?new YU:new kie,new jie(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new sse(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=oe(function*(t){const r=Ke(t);Ve("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Bc(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Hm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dse{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=G2.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=oe(function*(a){Ve("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Ve("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return oe(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(oe(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Gc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Gm(n,e){return _I.apply(this,arguments)}function _I(){return _I=oe(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=oe(function*(s){r.isEqual(s)||(yield HU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),_I.apply(this,arguments)}function yI(n,e){return vI.apply(this,arguments)}function vI(){return vI=oe(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function wI(n){return bI.apply(this,arguments)}(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>sB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>sB(e.remoteStore,s)),n._onlineComponents=e}),vI.apply(this,arguments)}function bI(){return bI=oe(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function wB(n){return"FirebaseError"===n.name?n.code===Ae.FAILED_PRECONDITION||n.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;ts("Error using user provided cache. Falling back to memory cache: "+t),yield Gm(n,new jm)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),yield Gm(n,new jm);return n._offlineComponents}),bI.apply(this,arguments)}function $m(n){return CI.apply(this,arguments)}function CI(){return CI=oe(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield yI(n,n._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield yI(n,new Wc))),n._onlineComponents}),CI.apply(this,arguments)}function Kc(n){return SI.apply(this,arguments)}function SI(){return SI=oe(function*(n){const e=yield $m(n),t=e.eventManager;return t.onListen=ose.bind(null,e.syncEngine),t.onUnlisten=ase.bind(null,e.syncEngine),t}),SI.apply(this,arguments)}function IB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const TB=new Map;function AI(n,e,t){if(!t)throw new Oe(Ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DB(n){if(!qe.isDocumentKey(n))throw new Oe(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xB(n){if(qe.isDocumentKey(n))throw new Oe(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function Ht(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qm(n);throw new Oe(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class MB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Lse(n,e,t,r){if(!0===e&&!0===r)throw new Oe(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=IB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Oe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Oe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Oe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Nne;switch(t.type){case"firstParty":return new Une(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TB.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),TB.delete(e),t.terminate())}(this),Promise.resolve()}}class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Ir{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ir(this.firestore,e,this._query)}}class Os extends Ir{constructor(e,t,r){super(e,t,xc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new qe(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function rs(n,e,...t){if(n=Kr(n),AI("collection","path",e),n instanceof Lh){const r=zt.fromString(e,...t);return xB(r),new Os(n,null,r)}{if(!(n instanceof Wn||n instanceof Os))throw new Oe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return xB(r),new Os(n.firestore,null,r)}}function ca(n,e,...t){if(n=Kr(n),1===arguments.length&&(e=G2.A()),AI("doc","path",e),n instanceof Lh){const r=zt.fromString(e,...t);return DB(r),new Wn(n,null,new qe(r))}{if(!(n instanceof Wn||n instanceof Os))throw new Oe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return DB(r),new Wn(n.firestore,n instanceof Os?n.converter:null,new qe(r))}}class Use{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wA(this,"async_queue_retry"),this.Xc=()=>{const t=Vm();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Vm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Vm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return oe(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Xo(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,$n("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=UA.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&nt()}verifyOperationInProgress(){}sa(){var e=this;return oe(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class bn extends Lh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Use,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||RB(this),this._firestoreClient.terminate()}}function tr(n){return n._firestoreClient||RB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RB(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new gre(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,IB(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new Dse(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(ar.fromBase64String(e))}catch(t){throw new Oe(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rl(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class FB{constructor(e){this._methodName=e}}class TI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}const Gse=/^__.*__$/;class $se{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new go(e,this.data,this.fieldMask,t,this.fieldTransforms):new kc(e,this.data,t,this.fieldTransforms)}}function VB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class Wm{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Qm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(VB(this.ca)&&Gse.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zse{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Oh(e)}ya(e,t,r,i=!1){return new Wm({ca:e,methodName:t,ga:r,path:zn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xc(n){const e=n._freezeSettings(),t=Oh(n._databaseId);return new zse(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DI(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);PI("Data must be an object, but it was:",o,r);const a=GB(r,o);let l,c;if(s.merge)l=new oi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const v=Bh(e,h,t);if(!o.contains(v))throw new Oe(Ae.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);zB(u,v)||u.push(v)}l=new oi(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new $se(new Ar(a),l,c)}function il(n,e){if($B(n=Kr(n)))return PI("Unsupported field value:",e,n),GB(n,e);if(n instanceof FB)return function(t,r){if(!VB(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=il(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Kr(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return OV(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=xn.fromDate(t);return{timestampValue:Oc(r.serializer,i)}}if(t instanceof xn){const i=new xn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Oc(r.serializer,i)}}if(t instanceof TI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rl)return{bytesValue:tU(r.serializer,t._byteString)};if(t instanceof Wn){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:KS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${qm(t)}`)}(n,e)}function GB(n,e){const t={};return rV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(n,(r,i)=>{const s=il(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function $B(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof TI||n instanceof rl||n instanceof Wn||n instanceof FB)}function PI(n,e,t){if(!$B(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=qm(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Bh(n,e,t){if((e=Kr(e))instanceof Qc)return e._internalPath;if("string"==typeof e)return Km(n,e);throw Qm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Qse=new RegExp("[~\\*/\\[\\]]");function Km(n,e,t){if(e.search(Qse)>=0)throw Qm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qc(...e.split("."))._internalPath}catch{throw Qm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qm(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Oe(Ae.INVALID_ARGUMENT,a+n+l)}function zB(n,e){return n.some(t=>t.isEqual(e))}class MI{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xse extends MI{data(){return super.data()}}function Xm(n,e){return"string"==typeof e?Km(n,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}class kI{}class Yse extends kI{}function WB(n,e,...t){let r=[];e instanceof kI&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof Yc).length,o=i.filter(a=>a instanceof jh).length;if(s>1||s>0&&o>0)throw new Oe(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class jh extends Yse{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jh(e,t,r)}_apply(e){const t=this._parse(e);return YB(e._query,t),new Ir(e.firestore,e.converter,VS(e._query,t))}_parse(e){const t=Xc(e.firestore);return function(i,s,o,a,l,c,u){let h;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new Oe(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){XB(u,c);const v=[];for(const D of u)v.push(QB(a,i,D));h={arrayValue:{values:v}}}else h=QB(a,i,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||XB(u,c),h=function HB(n,e,t,r=!1){return il(t,n.ya(r?4:3,e))}(o,"where",u,"in"===c||"not-in"===c);return jt.create(l,c,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Yc extends kI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yc(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:rn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)YB(s,a),s=VS(s,a)}(e._query,t),new Ir(e.firestore,e.converter,VS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function QB(n,e,t){if("string"==typeof(t=Kr(t))){if(""===t)throw new Oe(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LS(e)&&-1!==t.indexOf("/"))throw new Oe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(zt.fromString(t));if(!qe.isDocumentKey(r))throw new Oe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return za(n,new qe(r))}if(t instanceof Wn)return za(n,t._key);throw new Oe(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qm(t)}.`)}function XB(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YB(n,e){if(e.isInequality()){const r=mm(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Oe(Ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=FS(n);null!==s&&function JB(n,e,t){if(!t.isEqual(e))throw new Oe(Ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Oe(Ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Jse{convertValue(e,t="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Yo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new TI(Ln(e.latitude),Ln(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=um(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ch(e));default:return null}}convertTimestamp(e){const t=Jo(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=zt.fromString(e);lt(dU(r));const i=new $a(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(t)||$n(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function OI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jc extends MI{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new e_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class e_ extends Jc{data(e={}){return super.data(e)}}class Zc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new sl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new e_(this._firestore,this._userDataWriter,r.key,r,new sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new e_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new sl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new e_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new sl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:eoe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eoe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}class ua extends Jse{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function ej(n){n=Ht(n,Ir);const e=Ht(n.firestore,bn),t=tr(e),r=new ua(e);return function qB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function AB(n,e,t={}){const r=new or;return n.asyncQueue.enqueueAndForget(oe(function*(){return function(i,s,o,a,l){const c=new Hm({next:h=>{s.enqueueAndForget(()=>HA(i,u)),h.fromCache&&"server"===a.source?l.reject(new Oe(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new zA(o,c,{includeMetadataChanges:!0,Ku:!0});return BA(i,u)}(yield Kc(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Zc(e,r,n,i))}function t_(n,e,t){n=Ht(n,Wn);const r=Ht(n.firestore,bn),i=OI(n.converter,e,t);return Hh(r,[DI(Xc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,An.none())])}function tj(n){return Hh(Ht(n.firestore,bn),[new Rc(n._key,An.none())])}function NI(n,e){const t=Ht(n.firestore,bn),r=ca(n),i=OI(n.converter,e);return Hh(t,[DI(Xc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}function Hh(n,e){return function(t,r){const i=new or;return t.asyncQueue.enqueueAndForget(oe(function*(){return function lse(n,e,t){return XA.apply(this,arguments)}(yield function EI(n){return $m(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(tr(n),e)}!function(n,e=!0){Ec=cc,Es(new Ji("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new bn(new Lne(t.getProvider("auth-internal")),new Bne(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Oe(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Oi(B2,"3.13.0",n),Oi(B2,"3.13.0","esm2017")}();var eu=(()=>(function(n){n.USER="USER",n.CLIENT="CLIENT",n.ADMIN="ADMIN"}(eu||(eu={})),eu))(),ol=(()=>(function(n){n.HTML="HTMl",n.PDF="PDF",n.URL="URL"}(ol||(ol={})),ol))();let rj=(()=>{var n;class e{constructor(){this.isLoading=new ki(!1)}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),Li=(()=>{var n;class e{constructor(r){this.loader=r,this.app=PN(foe),this.analytics=function UJ(n=Aw()){const e=jo(n=Kr(n),dg);return e.isInitialized()?e.getImmediate():function BJ(n,e={}){const t=jo(n,dg);if(t.isInitialized()){const i=t.getImmediate();if(Cd(e,t.getOptions()))return i;throw Qr.create("already-initialized")}return t.initialize({options:e})}(n)}(this.app),this.firestore=function jse(n,e){const r="string"==typeof n?n:e||"(default)",i=jo("object"==typeof n?n:Aw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=fN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function Vse(n,e,t,r={}){var i;const s=(n=Ht(n,Lh))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=pr.MOCK_USER;else{a=function VQ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rg(JSON.stringify({alg:"none",type:"JWT"})),rg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Oe(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pr(c)}n._authCredentials=new Fne(new j2(a,l))}}(i,...s)}return i}(this.app),this.auth=Tte(this.app),this.isAdmin=!1,this.categoryCollection=rs(this.firestore,"categories"),this.coursesCollection=rs(this.firestore,"courses"),this.data={},this.refreshEvent=new Wt,this.refreshUser=new Wt,this.refreshUserSession(),this.refresh(Qt.CATEGORIES),this.refresh(Qt.COURSES),this.refresh(Qt.TOPICS)}refreshUserSession(){this.auth.onAuthStateChanged(r=>{null==r?(this.user=void 0,this.isAdmin=!1,this.refreshUser.emit(void 0)):(console.log("FirestoreService:refreshUserSession:: Auth State Changed ",r),this.loader.show(),this.login({id:r.uid,email:r.email,name:r.displayName,contact:r.phoneNumber,image:r.photoURL,role:eu.USER}))})}refresh(r){ej(WB(rs(this.firestore,r))).then(o=>{this.data[r]=[],o.forEach(a=>{let l=a.data();l.id=a.id,this.data[r].push(l)}),this.refreshEvent.emit(r)})}login(r){var i=this;return oe(function*(){const s=ca(i.firestore,"users",r.id),o=yield function toe(n){n=Ht(n,Wn);const e=Ht(n.firestore,bn);return function SB(n,e,t={}){const r=new or;return n.asyncQueue.enqueueAndForget(oe(function*(){return function(i,s,o,a,l){const c=new Hm({next:h=>{s.enqueueAndForget(()=>HA(i,u));const v=h.docs.has(o);!v&&h.fromCache?l.reject(new Oe(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&h.fromCache&&a&&"server"===a.source?l.reject(new Oe(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new zA(xc(o.path),c,{includeMetadataChanges:!0,Ku:!0});return BA(i,u)}(yield Kc(n),n.asyncQueue,e,t,r)})),r.promise}(tr(e),n._key).then(t=>function FI(n,e,t){const r=t.docs.get(e._key),i=new ua(n);return new Jc(n,i,e._key,r,new sl(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}(s);if(o.exists()){let a=o.data();console.log("FirestoreService:login:: Existing User :",a),i.user={id:a.id,name:a.name,email:a.email,contact:a.contact,role:a.role,image:a.image},i.refreshUser.emit(i.user),sessionStorage.setItem("user",JSON.stringify(i.user)),i.isAdmin=i.user.role==eu.ADMIN,i.loader.hide()}else console.log("FirestoreService:login:: Create new user: "+r.email),i.user=r,yield t_(ca(rs(i.firestore,"users"),r.id),i.user),console.log("FirestoreService:login:: Created new user: "+r.email),i.refreshUser.emit(i.user),sessionStorage.setItem("user",JSON.stringify(i.user)),i.log(al.SIGN_UP,i.user),i.loader.hide()})()}logout(){var r=this;return oe(function*(){console.log("FirestoreService:logout:: Logging out user: "+r.user?.email),r.user=void 0,sessionStorage.clear(),r.isAdmin=!1,r.log(al.LOGOUT,r.user),r.refreshUser.emit(r.user)})()}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),pF(this.analytics,r,s)}}return(n=e).\u0275fac=function(r){return new(r||n)(at(rj))},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var Qt=(()=>(function(n){n.USERS="users",n.CATEGORIES="categories",n.COURSES="courses",n.TOPICS="topics",n.ASSESSMENTS="assessments"}(Qt||(Qt={})),Qt))(),al=(()=>(function(n){n.PAGE_VIEW="PAGE_VIEW",n.LOGIN="login",n.SIGN_UP="sign_up",n.LOGOUT="logout"}(al||(al={})),al))();const foe={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function poe(n,e){if(1&n&&(ye(0,"span",18),ke(1),Se()),2&n){const t=Je().$implicit;He(1),Qn(t.label)}}function goe(n,e){if(1&n&&(ye(0,"div",10)(1,"div",11)(2,"div",12),ke(3),vt(4,poe,2,1,"span",13),Se(),ye(5,"div",14),ke(6),Se(),ye(7,"div",15)(8,"a"),ke(9,"View Topics"),Se()(),ye(10,"div",16)(11,"button",17),ke(12,"Launch course"),Se()()()()),2&n){const t=e.$implicit;He(3),_s("",t.name," "),He(1),Ye("ngIf",t.label),He(2),Qn(t.description),He(1),Ye("routerLink","/courses/"+t.id),He(4),Ye("routerLink","/courses/"+t.id)}}function moe(n,e){if(1&n&&(ye(0,"div",8),vt(1,goe,13,5,"div",9),Se()),2&n){const t=Je();He(1),Ye("ngForOf",t.design)}}function _oe(n,e){if(1&n&&(ye(0,"span",18),ke(1),Se()),2&n){const t=Je().$implicit;He(1),Qn(t.label)}}function yoe(n,e){if(1&n&&(ye(0,"div",10)(1,"div",11)(2,"div",12),ke(3),vt(4,_oe,2,1,"span",13),Se(),ye(5,"div",14),ke(6),Se(),ye(7,"div",15)(8,"a"),ke(9,"View Topics"),Se()(),ye(10,"div",16)(11,"button",17),ke(12,"Launch course"),Se()()()()),2&n){const t=e.$implicit;He(3),_s("",t.name," "),He(1),Ye("ngIf",t.label),He(2),Qn(t.description),He(1),Ye("routerLink","/courses/"+t.id),He(4),Ye("routerLink","/courses/"+t.id)}}function voe(n,e){if(1&n&&(ye(0,"div",8),vt(1,yoe,13,5,"div",9),Se()),2&n){const t=Je();He(1),Ye("ngForOf",t.develop)}}function woe(n,e){if(1&n&&(ye(0,"span",18),ke(1),Se()),2&n){const t=Je().$implicit;He(1),Qn(t.label)}}function boe(n,e){if(1&n&&(ye(0,"div",10)(1,"div",11)(2,"div",12),ke(3),vt(4,woe,2,1,"span",13),Se(),ye(5,"div",19),ke(6),Se(),ye(7,"div",20)(8,"a"),ke(9,"View Topics"),Se()(),ye(10,"div",16)(11,"button",17),ke(12,"Launch course"),Se()()()()),2&n){const t=e.$implicit;He(3),_s("",t.name," "),He(1),Ye("ngIf",t.label),He(2),Qn(t.description),He(1),Ye("routerLink","/courses/"+t.id),He(4),Ye("routerLink","/courses/"+t.id)}}function Coe(n,e){if(1&n&&(ye(0,"div",8),vt(1,boe,13,5,"div",9),Se()),2&n){const t=Je();He(1),Ye("ngForOf",t.deploy)}}let ij=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.router=i,this.design=[],this.develop=[],this.deploy=[],this.courses=[],this.expand={d1:!0,d2:!0,d3:!0},null!=this.firestore.data[Qt.COURSES]&&(this.courses=this.firestore.data[Qt.COURSES],this.sortOrder()),this.firestore.refreshEvent.subscribe(s=>{s==Qt.COURSES&&(this.courses=this.firestore.data[Qt.COURSES],this.sortOrder())}),this.router.events.subscribe(s=>{s instanceof eo&&this.updateView(this.router.url)})}sortOrder(){this.courses=this.courses.sort((r,i)=>r.order-i.order),this.design=this.courses.filter(r=>"design"==r.category),this.develop=this.courses.filter(r=>"develop"==r.category),this.deploy=this.courses.filter(r=>"deploy"==r.category)}updateView(r){let i=r&&r.includes("/home/")?r.replace("/home/",""):null;if(i)switch(i){case"design":this.expand={d1:!0,d2:!1,d3:!1};break;case"develop":this.expand={d1:!1,d2:!0,d3:!1};break;case"deploy":this.expand={d1:!1,d2:!1,d3:!0}}}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Li),xe(Gn))},n.\u0275cmp=En({type:n,selectors:[["app-courses"]],decls:22,vars:6,consts:[[1,"c"],[1,"row","m-0","p-1","py-2","d1","design"],[1,"text-center","pointer",3,"click"],[1,"float-end"],[1,"material-icons",2,"font-size","40px","vertical-align","middle"],["class","row m-0 px-1",4,"ngIf"],[1,"row","m-0","py-2","d2","develop"],[1,"row","m-0","py-2","d3","deploy"],[1,"row","m-0","px-1"],["class","col-12 col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4"],[1,"m-2","p-3","border","border-secondary","bg-light"],[1,"n"],["class","badge rounded-pill bg-info text-dark","style","font-size: 10px;vertical-align: middle;",4,"ngIf"],[1,"t"],[1,"v","pointer",3,"routerLink"],[1,"b","text-center","mt-2"],[1,"btn","btn-primary",3,"routerLink"],[1,"badge","rounded-pill","bg-info","text-dark",2,"font-size","10px","vertical-align","middle"],[1,"t","mt-2"],[1,"v","mt-2","pointer",3,"routerLink"]],template:function(r,i){1&r&&(ye(0,"div",0)(1,"div",1)(2,"div",2),it("click",function(){return i.expand.d1=!i.expand.d1}),ke(3,"Design "),ye(4,"span",3)(5,"i",4),ke(6),Se()()()(),vt(7,moe,2,1,"div",5),ye(8,"div",6)(9,"div",2),it("click",function(){return i.expand.d2=!i.expand.d2}),ke(10,"Develop "),ye(11,"span",3)(12,"i",4),ke(13),Se()()()(),vt(14,voe,2,1,"div",5),ye(15,"div",7)(16,"div",2),it("click",function(){return i.expand.d3=!i.expand.d3}),ke(17,"Deploy "),ye(18,"span",3)(19,"i",4),ke(20),Se()()()(),vt(21,Coe,2,1,"div",5),Se()),2&r&&(He(6),_s(" ",i.expand.d1?"expand_less":"expand_more"," "),He(1),Ye("ngIf",i.expand.d1),He(6),_s(" ",i.expand.d2?"expand_less":"expand_more"," "),He(1),Ye("ngIf",i.expand.d2),He(6),_s(" ",i.expand.d3?"expand_less":"expand_more"," "),He(1),Ye("ngIf",i.expand.d3))},dependencies:[Js,mi,Vo],styles:[".n[_ngcontent-%COMP%]{font-weight:600;font-size:24px}.v[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:underline}.d1[_ngcontent-%COMP%], .d2[_ngcontent-%COMP%], .d3[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:700;background-color:#252526;border-bottom:3px solid white}"]}),e})(),LI=(()=>{var n;class e{constructor(r){this.router=r,this.isMobile=lN_mobileAndTabletCheck(),this.menu=!this.isMobile;var i=sessionStorage.getItem("redirect");i&&(sessionStorage.removeItem("redirect"),this.router.navigateByUrl(i))}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Gn))},n.\u0275cmp=En({type:n,selectors:[["app-home"]],decls:14,vars:0,consts:[[1,"row","m-0"],[1,"c","p-3","shadow","bg-card"],[1,"row"],[1,"col-12","text-center"],[2,"font-size","24px","font-weight","600"],["href","https://impulse.vvsk.in"],[2,"color","grey","font-size","20px","font-weight","600"],["href","https://vvsk.in"]],template:function(r,i){1&r&&(ye(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),ke(5,"Welcome to "),ye(6,"a",5),ke(7,"IMPULSE"),Se()(),ye(8,"div",6),ke(9,"Self Learning Platform "),Se(),ye(10,"div")(11,"a",7),ke(12,"V.V.S.K Chaitanya"),Se()()()()()(),kn(13,"app-courses"))},dependencies:[ij],styles:[".bg-card[_ngcontent-%COMP%]{background:linear-gradient(45deg,cornsilk,white)}.txl[_ngcontent-%COMP%]{font-weight:bolder;font-size:1rem;color:#b8860b;padding:5px;border:3px solid goldenrod;border-radius:10px}"]}),e})(),Eoe=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=En({type:n,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(kn(0,"div",0),ye(1,"div",1)(2,"div",2),kn(3,"img",3),ye(4,"span",4)(5,"i",5),ke(6,"edit"),Se()(),ye(7,"div",6)(8,"div",7),ke(9,"V.V.S.K Chaitanya"),Se(),ye(10,"div",8),ke(11,"Software Engineer"),Se()()()(),ye(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),ke(16,"menu_book"),Se(),ye(17,"span"),ke(18,"Courses"),Se()(),ye(19,"div",12)(20,"i",5),ke(21,"assignment"),Se(),ye(22,"span"),ke(23,"Assessments"),Se()(),ye(24,"div",13)(25,"i",5),ke(26,"notifications"),Se(),ye(27,"span"),ke(28,"Notifications"),Se()(),ye(29,"div",14)(30,"i",5),ke(31,"person"),Se(),ye(32,"span"),ke(33,"Update Profile"),Se()(),ye(34,"div",15)(35,"i",5),ke(36,"logout"),Se(),ye(37,"span"),ke(38,"Logout"),Se()()()())},dependencies:[Vo],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})(),Soe=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=En({type:n,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&kn(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})();function Aoe(n,e){if(1&n){const t=dn();ye(0,"i",6),it("click",function(){Tt(t);const i=Je(2);return Dt(i.expand=!i.expand)}),ke(1),Se()}if(2&n){const t=Je(2);He(1),Qn(t.expand?"expand_more":"chevron_right")}}function Ioe(n,e){if(1&n){const t=dn();ye(0,"div")(1,"app-category",9),it("select",function(i){return Tt(t),Dt(Je(3).select.emit(i))}),Se()()}if(2&n){const t=e.$implicit,r=Je(3);He(1),Ye("category",t)("current",r.current)}}function Toe(n,e){if(1&n&&(ye(0,"div",7),vt(1,Ioe,2,2,"div",8),Se()),2&n){const t=Je(2);He(1),Ye("ngForOf",t.category.categories)}}const Doe=function(n){return{"active-node":n}};function xoe(n,e){if(1&n){const t=dn();ye(0,"div",1)(1,"div",2),vt(2,Aoe,2,1,"i",3),ye(3,"span",4),it("click",function(){Tt(t);const i=Je();return Dt(i.select.emit(i.category))}),ke(4),Se()(),vt(5,Toe,2,1,"div",5),Se()}if(2&n){const t=Je();He(1),Ye("ngClass",iv(4,Doe,null!=t.current&&t.category.id==t.current.id)),He(1),Ye("ngIf",null!=t.category.categories&&t.category.categories.length>=0),He(2),Qn(t.category.name),He(1),Ye("ngIf",t.expand)}}let Poe=(()=>{var n;class e{constructor(){this.select=new Wt,this.expand=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=En({type:n,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(r,i){1&r&&vt(0,xoe,6,6,"div",0),2&r&&Ye("ngIf",i.category)},dependencies:[Kv,Js,mi,n],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})();function Moe(n,e){if(1&n){const t=dn();ye(0,"div",11)(1,"app-category",12),it("select",function(i){return Tt(t),Dt(Je().select(i))}),Se()()}if(2&n){const t=e.$implicit,r=Je();He(1),Ye("category",t)("current",r.category)}}function koe(n,e){if(1&n){const t=dn();ye(0,"button",13),it("click",function(){return Tt(t),Dt(Je().deleteConfirm=!0)}),ye(1,"i",8),ke(2,"delete"),Se()()}}function Roe(n,e){if(1&n){const t=dn();ye(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),ke(5,"New Category"),Se(),ye(6,"button",19),it("click",function(){return Tt(t),Dt(Je().addCategoryModal=!1)}),Se()(),ye(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),it("ngModelChange",function(i){return Tt(t),Dt(Je().categoryName=i)}),Se()()()(),ye(11,"div",24)(12,"button",25),it("click",function(){return Tt(t),Dt(Je().addCategory())}),ke(13,"Add"),Se()()()()()}if(2&n){const t=Je();He(10),Ye("ngModel",t.categoryName)}}function Ooe(n,e){if(1&n){const t=dn();ye(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),ke(5,"Delete Category"),Se(),ye(6,"button",19),it("click",function(){return Tt(t),Dt(Je().deleteConfirm=!1)}),Se()(),ye(7,"div",20)(8,"div",21)(9,"div",22),ke(10),Se()()(),ye(11,"div",24)(12,"button",25),it("click",function(){return Tt(t),Dt(Je().deleteCategory())}),ke(13,"Delete"),Se()()()()()}if(2&n){const t=Je();He(10),_s(" Confirm to delete ",null==t.category?null:t.category.name," ")}}let Noe=(()=>{var n;class e{constructor(r){this.firestore=r,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh(),this.firestore.refreshEvent.subscribe(i=>{i==Qt.CATEGORIES&&this.refresh()})}refresh(){this.categories=[];let r=this.firestore.data[Qt.CATEGORIES];r.filter(i=>null==i.parent).forEach(i=>this.categories.push(i)),this.categories.forEach(i=>this.linkCategories(i,r)),console.log(this.categories)}linkCategories(r,i){r.categories=[],i.filter(s=>null!=s.parent&&s.parent==r.id).forEach(s=>{this.linkCategories(s,i),r.categories?.push(s)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let r={name:this.categoryName,active:!0};this.category&&(r.parent=this.category.id),NI(this.firestore.categoryCollection,r).then(i=>{alert("Category has been added succesfully ID:"+i.id),this.firestore.refresh(Qt.CATEGORIES)})}else alert("Please enter category name")}isNotEmpty(r){return null!=r&&""!=r}select(r){console.log("Selected Category",r),this.category=r}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&tj(ca(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.firestore.refresh(Qt.CATEGORIES)})}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Li))},n.\u0275cmp=En({type:n,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(ye(0,"div",0)(1,"div",1)(2,"span"),ke(3,"Categories"),Se()()(),ye(4,"div",2)(5,"div",3),vt(6,Moe,2,2,"div",4),Se()(),ye(7,"div",5)(8,"div",6)(9,"button",7),it("click",function(){return i.addCategoryModal=!0}),ye(10,"i",8),ke(11,"add"),Se()(),vt(12,koe,3,0,"button",9),Se()(),vt(13,Roe,14,1,"div",10),vt(14,Ooe,14,1,"div",10)),2&r&&(He(6),Ye("ngForOf",i.categories),He(6),Ye("ngIf",null!=i.category),He(1),Ye("ngIf",i.addCategoryModal),He(1),Ye("ngIf",i.deleteConfirm))},dependencies:[Js,mi,Sa,Yu,Yl,Poe],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})(),Foe=(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,this.provider=new mC,i.refreshUser.subscribe(s=>{if(null!=s){var o=sessionStorage.getItem("redirect");o?(sessionStorage.removeItem("redirect"),console.log("Redirecting to ",o),this.router.navigateByUrl(o)):this.router.navigate(["home"])}else this.router.navigate(["home"])})}login(){this.fs.loader.show(),function Fee(n,e,t){return mE.apply(this,arguments)}(this.fs.auth,this.provider).then(r=>{mC.credentialFromResult(r);let o=r.user;console.log("LoginComponent: SignInUser",o),this.fs.log(al.LOGIN,{id:o.uid,email:o.email,name:o.displayName,contact:o.phoneNumber,image:o.photoURL,role:eu.USER})}).catch(r=>{this.fs.loader.hide(),console.error(r),mC.credentialFromError(r)})}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Gn),xe(Li))},n.\u0275cmp=En({type:n,selectors:[["app-login"]],decls:13,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],["src","../../assets/icons/google-logo.png"],[3,"click"]],template:function(r,i){1&r&&(ye(0,"div",0)(1,"div",1)(2,"div")(3,"h5"),ke(4,"Welcome to "),ye(5,"b"),ke(6,"IMPULSE"),Se(),ke(7," Network"),Se(),ye(8,"p",2),ke(9,"To access course contents, login with your google account"),Se()(),kn(10,"img",3),ye(11,"button",4),it("click",function(){return i.login()}),ke(12,"Sign in"),Se()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]}),e})(),Loe=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=En({type:n,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(r,i){}}),e})(),Voe=(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,i.refreshUser.subscribe(s=>this.router.navigate(s?["dashboard"]:["home"]))}logout(){(function QZ(n){return Kr(n).signOut()})(this.fs.auth).then(()=>this.fs.logout())}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Gn),xe(Li))},n.\u0275cmp=En({type:n,selectors:[["app-logout"]],decls:7,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],[3,"click"]],template:function(r,i){1&r&&(ye(0,"div",0)(1,"div",1)(2,"p",2),ke(3," Are you sure you want to log-off? "),kn(4,"br"),Se(),ye(5,"button",3),it("click",function(){return i.logout()}),ke(6,"Logout"),Se()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]}),e})(),Uoe=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=En({type:n,selectors:[["app-assessment"]],decls:2,vars:0,template:function(r,i){1&r&&(ye(0,"p"),ke(1,"assessment works!"),Se())}}),e})();function Boe(n,e){if(1&n&&(ye(0,"tr")(1,"td"),ke(2),Se(),ye(3,"td"),ke(4),Se(),ye(5,"td")(6,"i",3),ke(7,"open_in_new"),Se(),ye(8,"i",4),ke(9,"edit"),Se(),ye(10,"i",5),ke(11,"delete"),Se()()()),2&n){const t=e.$implicit;He(2),Qn(t.name),He(2),Qn(t.course)}}let joe=(()=>{var n;class e{constructor(){this.assessments=[],this.assessments.push({id:"asdf",name:"Assess 1",course:"Course 1",content:""})}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=En({type:n,selectors:[["app-assessments"]],decls:14,vars:1,consts:[[1,"container","mt-3"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","pointer"],[1,"material-icons","mx-2","pointer","text-info"],[1,"material-icons","mx-2","pointer","text-danger"]],template:function(r,i){1&r&&(ye(0,"div",0)(1,"h2"),ke(2,"Assessments"),Se(),ye(3,"table",1)(4,"thead")(5,"tr")(6,"th"),ke(7,"Name"),Se(),ye(8,"th"),ke(9,"Course"),Se(),ye(10,"th"),ke(11,"Actions"),Se()()(),ye(12,"tbody"),vt(13,Boe,12,2,"tr",2),Se()()()),2&r&&(He(13),Ye("ngForOf",i.assessments))},dependencies:[Js]}),e})();function Hoe(n,e){if(1&n&&(ye(0,"div",6)(1,"i",7),ke(2,"home"),Se(),ye(3,"i",8),ke(4,"chevron_right"),Se(),ye(5,"span",9),ke(6),Se()()),2&n){const t=Je();He(1),Ye("routerLink","/home"),He(5),Qn(t.course.name)}}function Goe(n,e){if(1&n){const t=dn();ye(0,"div",10)(1,"div",11),it("click",function(){const s=Tt(t).$implicit;return Dt(Je().launch(s))}),ye(2,"span",12),ke(3),Se(),ye(4,"span",13)(5,"i",14),ke(6,"open_in_new"),Se()()()()}if(2&n){const t=e.$implicit;He(3),Qn(t.name)}}let $oe=(()=>{var n;class e{constructor(r,i,s){this.firestore=r,this.route=i,this.router=s,this.courses=[],this.id=null,this.topics=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),null!=this.firestore.data[Qt.COURSES]&&(this.courses=this.firestore.data[Qt.COURSES],this.course=this.courses.filter(r=>r.id==this.id)[0]),null!=this.firestore.data[Qt.TOPICS]&&this.setTopics(),this.firestore.refreshEvent.subscribe(r=>{r==Qt.COURSES&&(this.courses=this.firestore.data[Qt.COURSES],this.course=this.courses.filter(i=>i.id==this.id)[0]),r==Qt.TOPICS&&this.setTopics()})}setTopics(){let r=[];r=this.firestore.data[Qt.TOPICS];let i=r.filter(s=>null!=s.id&&this.course?.topics?.includes(s.id));this.course?.topics?.forEach(s=>{i.forEach(o=>{s==o.id&&this.topics.push(o)})})}launch(r){if(r.lock)window.location.href="https://learn.vvsk.in";else if(r.type==ol.PDF){let i=window.location.origin+"/pdfviewer?url="+r.url+"&back="+window.location.href;r.cors&&(i+="&cors=true"),window.open(i)}else r.type==ol.URL&&window.open(r.url)}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Li),xe(Cs),xe(Gn))},n.\u0275cmp=En({type:n,selectors:[["app-course"]],decls:6,vars:2,consts:[[1,"row","m-0","px-2"],["class","col-12 mt-3",4,"ngIf"],[1,"container"],[1,"row","mt-3","px-2"],[1,"p-0"],["class","","style","border-top:solid 3px #6495ed",4,"ngFor","ngForOf"],[1,"col-12","mt-3"],[1,"material-icons","ml-2","b","i","align-middle","pointer",3,"routerLink"],[1,"material-icons","ml-2","b","i","align-middle","pointer"],[1,"b","mx-2","align-middle","d-inline-block","text-decoration-underline","pointer"],[1,"",2,"border-top","solid 3px #6495ed"],[1,"p-3","mb-3","pointer",2,"border","1px solid lightgray",3,"click"],[1,"l","fs-5","fw-bold"],[1,"float-end"],[1,"material-icons"]],template:function(r,i){1&r&&(ye(0,"div",0),vt(1,Hoe,7,2,"div",1),Se(),ye(2,"div",2)(3,"div",3)(4,"div",4),vt(5,Goe,7,1,"div",5),Se()()()),2&r&&(He(1),Ye("ngIf",i.course),He(4),Ye("ngForOf",i.topics))},dependencies:[Js,mi,Vo],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:#6495ed;font-size:25px;font-weight:500}.b[_ngcontent-%COMP%]{font-weight:400;font-size:28px;color:#2185d0}.i[_ngcontent-%COMP%]{font-size:35px}.t[_ngcontent-%COMP%]{font-size:30px}"]}),e})(),zoe=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.router=i}canActivate(r,i){if(null==this.firestore.user){if(r.url.length>0){let s=[];r.url.forEach(o=>s.push(o.path)),sessionStorage.setItem("redirect",s.join("/"))}this.router.navigateByUrl("login")}return!0}}return(n=e).\u0275fac=function(r){return new(r||n)(at(Li),at(Gn))},n.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function qoe(n,e){if(1&n&&(ye(0,"div",7)(1,"div",8)(2,"div",9)(3,"h5",10),ke(4),ye(5,"i",11),ke(6,"open_in_new"),Se()(),kn(7,"p",12),Se()()()),2&n){const t=e.$implicit;He(4),Qn(t.name),He(1),Ye("routerLink","/topics/"+t.id)}}function Woe(n,e){if(1&n){const t=dn();ye(0,"div",13)(1,"div",14)(2,"button",15),it("click",function(){return Tt(t),Dt(Je().addTopicModal=!0)}),ye(3,"i",16),ke(4,"add"),Se()()()()}}function Koe(n,e){if(1&n){const t=dn();ye(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h4",21),ke(5,"New Topic"),Se(),ye(6,"button",22),it("click",function(){return Tt(t),Dt(Je().addTopicModal=!1)}),Se()(),ye(7,"div",23)(8,"div",24)(9,"div",25)(10,"input",26),it("ngModelChange",function(i){return Tt(t),Dt(Je().topic.name=i)}),Se()(),ye(11,"div",25)(12,"input",27),it("ngModelChange",function(i){return Tt(t),Dt(Je().topic.url=i)}),Se()()()(),ye(13,"div",28)(14,"button",29),it("click",function(){return Tt(t),Dt(Je().addTopic())}),ke(15,"Add"),Se()()()()()}if(2&n){const t=Je();He(10),Ye("ngModel",t.topic.name),He(2),Ye("ngModel",t.topic.url)}}let Qoe=(()=>{var n;class e{constructor(r){this.firestore=r,this.addTopicModal=!1,this.topic={name:"",lock:!1,active:!0,type:ol.HTML},this.topics=[],this.deleteConfirm=!1,this.setTopics(this.firestore.data[Qt.TOPICS]),this.firestore.refreshEvent.subscribe(i=>{Qt.TOPICS&&this.setTopics(this.firestore.data[Qt.TOPICS])})}setTopics(r){null!=r&&(this.topics=r.filter(i=>1==i.active),this.firestore.isAdmin&&(this.topics=r))}addTopic(){this.topic.url&&(this.topic.type=ol.PDF),console.log(this.topic),this.validate()?NI(rs(this.firestore.firestore,Qt.TOPICS),this.topic).then(r=>{alert("Topic has been added succesfully ID:"+r.id),this.firestore.refresh(Qt.TOPICS)}):alert("Please enter name, description")}validate(){return this.isNotEmpty(this.topic.name)}isNotEmpty(r){return null!=r&&""!=r}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Li))},n.\u0275cmp=En({type:n,selectors:[["app-topics"]],decls:9,vars:3,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-text"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","PDF URL",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(ye(0,"div",0)(1,"div",1)(2,"span"),ke(3,"Topics"),Se()()(),ye(4,"div",2)(5,"div",3),vt(6,qoe,8,2,"div",4),Se()(),vt(7,Woe,5,0,"div",5),vt(8,Koe,16,2,"div",6)),2&r&&(He(6),Ye("ngForOf",i.topics),He(1),Ye("ngIf",i.firestore.isAdmin),He(1),Ye("ngIf",i.addTopicModal))},dependencies:[Js,mi,Vo,Sa,Yu,Yl],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();function Xoe(n,e){if(1&n&&(ye(0,"div",5)(1,"div",6)(2,"span",7),ke(3),Se(),ye(4,"span",8)(5,"i",9),ke(6,"logout"),Se(),ke(7,"Exit"),Se()()()),2&n){const t=Je();He(3),Qn(t.topic.name),He(1),Ye("routerLink","/home")}}function Yoe(n,e){if(1&n&&(ye(0,"div",10)(1,"div",11),kn(2,"div",12),Se()()),2&n){const t=Je();He(2),Ye("innerHtml",t.page,FD)}}function Joe(n,e){if(1&n&&(ye(0,"div",10),kn(1,"pdf-viewer",13),Se()),2&n){const t=Je();He(1),Ye("src",t.topic.url)("rotation",0)("original-size",!1)("show-all",!1)("page",1)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function Zoe(n,e){if(1&n){const t=dn();ye(0,"div",14)(1,"div",15)(2,"span",16),it("click",function(){return Tt(t),Dt(Je().prev())}),ye(3,"i",9),ke(4,"chevron_left"),Se(),ke(5,"PREV"),Se()(),ye(6,"div",15)(7,"span",17),it("click",function(){return Tt(t),Dt(Je().next())}),ke(8,"NEXT"),ye(9,"i",9),ke(10,"chevron_right"),Se()()()()}}function eae(n,e){if(1&n){const t=dn();ye(0,"button",23),it("click",function(){return Tt(t),Dt(Je(2).editPageModal=!0)}),ye(1,"i",22),ke(2,"edit"),Se()()}}function tae(n,e){if(1&n){const t=dn();ye(0,"div",18)(1,"div",19),vt(2,eae,3,0,"button",20),ye(3,"button",21),it("click",function(){return Tt(t),Dt(Je().addPageModal=!0)}),ye(4,"i",22),ke(5,"add"),Se()()()()}if(2&n){const t=Je();He(2),Ye("ngIf",t.page)}}function nae(n,e){if(1&n){const t=dn();ye(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"h4",28),ke(5,"Add Page"),Se(),ye(6,"button",29),it("click",function(){return Tt(t),Dt(Je().addPageModal=!1)}),Se()(),ye(7,"div",30)(8,"div",31)(9,"div",32)(10,"textarea",33),it("ngModelChange",function(i){return Tt(t),Dt(Je().newPage=i)}),Se()()()(),ye(11,"div",34)(12,"button",35),it("click",function(){return Tt(t),Dt(Je().addPage())}),ke(13,"Add"),Se()()()()()}if(2&n){const t=Je();He(10),Ye("ngModel",t.newPage)}}function rae(n,e){if(1&n){const t=dn();ye(0,"div",24)(1,"div",36)(2,"div",26)(3,"div",27)(4,"h4",28),ke(5,"Edit Page"),Se(),ye(6,"button",29),it("click",function(){return Tt(t),Dt(Je().editPageModal=!1)}),Se()(),ye(7,"div",30)(8,"div",31)(9,"div",32)(10,"textarea",33),it("ngModelChange",function(i){return Tt(t),Dt(Je().page=i)}),Se()()()(),ye(11,"div",34)(12,"button",37),it("click",function(){return Tt(t),Dt(Je().deletePage())}),ke(13,"Delete"),Se(),ye(14,"button",35),it("click",function(){return Tt(t),Dt(Je().editPage())}),ke(15,"Update"),Se()()()()()}if(2&n){const t=Je();He(10),Ye("ngModel",t.page)}}let iae=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.route=i,this.id=null,this.page=void 0,this.newPage="",this.pageIndex=0,this.addPageModal=!1,this.editPageModal=!1}ngOnDestroy(){window.postMessage("ToggleHeader")}ngOnInit(){window.postMessage("ToggleHeader"),this.id=this.route.snapshot.paramMap.get("id"),console.log("Topic ID: "+this.id),null==this.firestore.data[Qt.TOPICS]?this.firestore.refreshEvent.subscribe(r=>{r==Qt.TOPICS&&this.refresh()}):this.refresh()}refresh(){var r=void 0;this.id&&null!=this.firestore.data[Qt.TOPICS]&&(r=this.firestore.data[Qt.TOPICS].filter(i=>i.id==this.id)[0]),r&&(this.topic=r),this.topic?.pages&&this.topic?.pages[0]&&(this.page=this.topic.pages[0])}save(){var r=this;return oe(function*(){r.topic&&(yield t_(ca(rs(r.firestore.firestore,Qt.TOPICS),r.topic.id),r.topic))})()}next(){this.topic&&null!=this.topic.pages&&this.pageIndex!=this.topic?.pages?.length-1&&(this.pageIndex++,this.page=this.topic.pages[this.pageIndex])}prev(){this.topic&&null!=this.topic.pages&&0!=this.pageIndex&&(this.pageIndex--,this.page=this.topic.pages[this.pageIndex])}addPage(){var r=this;return oe(function*(){r.topic&&(null==r.topic.pages&&(r.topic.pages=[]),r.topic.pages.push(r.newPage),yield r.save(),alert("Page Added"),r.pageIndex=r.topic.pages.length-1,r.page=r.topic.pages[r.pageIndex],r.addPageModal=!1,r.newPage="")})()}deletePage(){var r=this;return oe(function*(){r.topic&&null!=r.topic.pages&&r.page&&(r.topic.pages.splice(r.pageIndex,1),yield r.save(),alert("Page Deleted"),r.pageIndex=0,r.page=r.topic.pages[r.pageIndex],r.editPageModal=!1)})()}editPage(){var r=this;return oe(function*(){r.topic&&null!=r.topic.pages&&r.page&&(r.topic.pages[r.pageIndex]=r.page,yield r.save(),alert("Page Updated"),r.page=r.topic.pages[r.pageIndex],r.editPageModal=!1)})()}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Li),xe(Cs))},n.\u0275cmp=En({type:n,selectors:[["app-topic"]],decls:7,vars:7,consts:[["class","row m-0 px-2 r text-center",4,"ngIf"],["class","c px-1",4,"ngIf"],["class","row m-0 fo",4,"ngIf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"d-inline-block"],[1,"d-inline-block","e",3,"routerLink"],[1,"material-icons"],[1,"c","px-1"],[1,"row","mt-3","table-responsive"],[1,"col-12","mx-3","my-1","p-0","h-100",2,"max-width","-webkit-fill-available","max-height","-webkit-fill-available","overflow-y","visible",3,"innerHtml"],[2,"width","100%","height","600px",3,"src","rotation","original-size","show-all","page","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders"],[1,"row","m-0","fo"],[1,"col-6"],[3,"click"],[2,"float","right",3,"click"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],[1,"btn","btn-warning",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-dialog","modal-lg"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(r,i){1&r&&(vt(0,Xoe,8,2,"div",0),vt(1,Yoe,3,1,"div",1),vt(2,Joe,2,13,"div",1),vt(3,Zoe,11,0,"div",2),vt(4,tae,6,1,"div",3),vt(5,nae,14,1,"div",4),vt(6,rae,16,1,"div",4)),2&r&&(Ye("ngIf",i.topic),He(1),Ye("ngIf",i.topic&&!i.topic.url),He(1),Ye("ngIf",i.topic&&i.topic.url),He(1),Ye("ngIf",i.topic),He(1),Ye("ngIf",i.firestore.isAdmin),He(1),Ye("ngIf",i.addPageModal),He(1),Ye("ngIf",i.editPageModal))},dependencies:[mi,Vo,Sa,Yu,Yl,QR],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]{float:right;font-size:20px;padding:10px;cursor:pointer}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{vertical-align:sub;margin-right:5px}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin:0 10px;padding:5px;vertical-align:sub}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:60px;right:30px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.fo[_ngcontent-%COMP%]{position:sticky;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}"]}),e})();function sae(n,e){if(1&n){const t=dn();ye(0,"div",2)(1,"div",3)(2,"input",4),it("ngModelChange",function(i){return Tt(t),Dt(Je().key=i)}),Se()(),ye(3,"div",5)(4,"button",6),it("click",function(){return Tt(t),Dt(Je().fetch())}),ke(5,"Fetch"),Se()()()}if(2&n){const t=Je();He(2),Ye("ngModel",t.key)}}function oae(n,e){if(1&n){const t=dn();ye(0,"tr")(1,"td"),ke(2),Se(),ye(3,"td")(4,"i",11),it("click",function(){const s=Tt(t).$implicit;return Dt(Je(2).edit(s))}),ke(5,"edit"),Se()()()}if(2&n){const t=e.$implicit;He(2),Qn(t.id)}}function aae(n,e){if(1&n){const t=dn();ye(0,"div",2)(1,"div",7)(2,"table",8)(3,"thead")(4,"tr")(5,"th"),ke(6,"Document Key"),Se(),ye(7,"th"),ke(8,"Action"),Se()()(),ye(9,"tbody"),vt(10,oae,6,1,"tr",9),ye(11,"tr")(12,"th"),ke(13,"Add New Document"),Se(),ye(14,"th")(15,"i",10),it("click",function(){return Tt(t),Dt(Je().edit({}))}),ke(16,"add"),Se()()()()()()()}if(2&n){const t=Je();He(10),Ye("ngForOf",t.documents)}}function lae(n,e){if(1&n){const t=dn();ye(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h4",16),ke(5,"Document Data"),Se(),ye(6,"button",17),it("click",function(){return Tt(t),Dt(Je().document=void 0)}),Se()(),ye(7,"div",18)(8,"div",19)(9,"div",20)(10,"textarea",21),it("ngModelChange",function(i){return Tt(t),Dt(Je().data=i)}),Se()()()(),ye(11,"div",22)(12,"i",23),it("click",function(){return Tt(t),Dt(Je().save())}),ke(13,"save"),Se(),ye(14,"i",24),it("click",function(){return Tt(t),Dt(Je().delete())}),ke(15,"delete"),Se()()()()()}if(2&n){const t=Je();He(10),Ye("ngModel",t.data)}}let cae=(()=>{var n;class e{constructor(r){this.firestore=r,this.documents=[]}edit(r){this.document=r,this.data=JSON.stringify(this.document?.data(),null,1)}fetch(){this.key&&(this.documents=[],ej(WB(rs(this.firestore.firestore,this.key))).then(s=>{s.forEach(o=>{this.documents.push(o)})}))}save(){var r=this;return oe(function*(){if(r.data&&r.key&&r.document){var i=void 0;try{i=JSON.parse(r.data)}catch(s){return console.error(s),void alert("Error while parsing document data, please check and retry")}r.document?.id?(yield t_(ca(rs(r.firestore.firestore,r.key),r.document?.id),i),alert("Document Updated.")):i.id?(yield t_(ca(rs(r.firestore.firestore,r.key),i.id),i),alert("Document Added.")):(yield NI(rs(r.firestore.firestore,r.key),i),alert("Document Added.")),r.document=void 0}})()}delete(){var r=this;return oe(function*(){r.data&&(!r.key||!r.document||(yield tj(ca(rs(r.firestore.firestore,r.key),r.document?.id)),r.document=void 0))})()}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Li))},n.\u0275cmp=En({type:n,selectors:[["app-admin"]],decls:3,vars:3,consts:[["class","row m-0",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"row","m-0"],[1,"mt-3","col-6","text-end"],["type","text","placeholder","Collection",3,"ngModel","ngModelChange"],[1,"mt-3","col-6"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"p-3"],[1,"table"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","text-info","pointer",3,"click"],[1,"m-2","material-icons","pointer",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"m-2","text-primary","material-icons","pointer",3,"click"],[1,"m-2","text-danger","material-icons","pointer",3,"click"]],template:function(r,i){1&r&&(vt(0,sae,6,1,"div",0),vt(1,aae,17,1,"div",0),vt(2,lae,16,1,"div",1)),2&r&&(Ye("ngIf",i.firestore.isAdmin),He(1),Ye("ngIf",i.firestore.isAdmin),He(1),Ye("ngIf",i.document))},dependencies:[Js,mi,Sa,Yu,Yl],styles:[".modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})();function uae(n,e){if(1&n){const t=dn();ye(0,"div")(1,"pdf-viewer",4),it("after-load-complete",function(i){return Tt(t),Dt(Je(2).callBackFn(i))}),Se()()}if(2&n){const t=Je(2);He(1),Ye("src",t.url)("rotation",0)("original-size",!1)("show-all",!1)("page",t.page)("fit-to-page",!0)("zoom",.5)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function dae(n,e){if(1&n){const t=dn();ye(0,"div")(1,"pdf-viewer",4),it("after-load-complete",function(i){return Tt(t),Dt(Je(2).callBackFn(i))}),Se()()}if(2&n){const t=Je(2);He(1),Ye("src",t.url)("rotation",0)("original-size",!1)("show-all",!1)("page",t.page)("fit-to-page",!1)("zoom",.9)("zoom-scale","page-height")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function hae(n,e){if(1&n){const t=dn();ye(0,"span",9),it("click",function(){return Tt(t),Dt(Je(3).prev())}),ye(1,"i",10),ke(2,"chevron_left"),Se(),ye(3,"span",11),ke(4,"PREV"),Se()()}}function fae(n,e){if(1&n){const t=dn();ye(0,"span",12),it("click",function(){return Tt(t),Dt(Je(3).next())}),ye(1,"span",11),ke(2,"NEXT"),Se(),ye(3,"i",10),ke(4,"chevron_right"),Se()()}}function pae(n,e){if(1&n&&(ye(0,"div",5)(1,"div",6),vt(2,hae,5,0,"span",7),Se(),ye(3,"div",6),vt(4,fae,5,0,"span",8),Se()()),2&n){const t=Je(2);He(2),Ye("ngIf",t.page>1),He(2),Ye("ngIf",t.page<t.numPages)}}function gae(n,e){if(1&n){const t=dn();ye(0,"div"),vt(1,uae,2,13,"div",0),vt(2,dae,2,13,"div",0),ye(3,"div",1)(4,"div",2),it("click",function(){return Tt(t),Dt(Je().prev())}),Se(),ye(5,"div",2),it("click",function(){return Tt(t),Dt(Je().next())}),Se()(),vt(6,pae,5,2,"div",3),Se()}if(2&n){const t=Je();He(1),Ye("ngIf",!t.isMobile),He(1),Ye("ngIf",t.isMobile),He(4),Ye("ngIf",0!=t.numPages)}}const mae=[{path:"",component:LI},{path:"home",component:LI},{path:"home/:focus",component:LI},{path:"admin",component:cae},{path:"login",component:Foe},{path:"dashboard",component:Loe},{path:"logout",component:Voe},{path:"account",component:Eoe},{path:"profile",component:Soe},{path:"categories",component:Noe},{path:"topics",component:Qoe},{path:"topics/:id",component:iae},{path:"courses",component:ij},{path:"courses/:id",component:$oe,canActivate:[zoe]},{path:"assessments",component:joe},{path:"assessments/:id",component:Uoe},{path:"pdfviewer",component:(()=>{var n;class e{constructor(r,i){this.route=r,this.http=i,this.numPages=0,this.isMobile=lN_mobileAndTabletCheck(),this.page=1,console.log("isMobile: "+this.isMobile),this.url=this.route.snapshot.queryParamMap.get("url"),this.back=this.route.snapshot.queryParamMap.get("back"),this.cors=this.route.snapshot.queryParamMap.get("cors"),this.url&&this.cors&&this.http.get(this.url).subscribe({next:s=>{console.log(s)},error:s=>{console.error(s)},complete:()=>{console.log("complete")}})}callBackFn(r){this.numPages=r.numPages}next(){this.page>=this.numPages||this.page++}prev(){this.page<=1||this.page--}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Cs),xe(FR))},n.\u0275cmp=En({type:n,selectors:[["app-viewer"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","m-0","p-absolute","w-100",2,"position","absolute","top","100px"],[1,"col-6","p-0",2,"height","100vh",3,"click"],["class","row m-0 fo",4,"ngIf"],[3,"src","rotation","original-size","show-all","page","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders","after-load-complete"],[1,"row","m-0","fo"],[1,"col-6"],[3,"click",4,"ngIf"],["style","float:right",3,"click",4,"ngIf"],[3,"click"],[1,"material-icons"],[1,"align-midde"],[2,"float","right",3,"click"]],template:function(r,i){1&r&&vt(0,gae,7,3,"div",0),2&r&&Ye("ngIf",i.url)},dependencies:[mi,QR],styles:["pdf-viewer[_ngcontent-%COMP%]{height:80vh;margin-left:-35px}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin:0 10px;padding:5px;vertical-align:sub}.fo[_ngcontent-%COMP%]{position:sticky;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}"]}),e})()}];let _ae=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Ai({type:n}),n.\u0275inj=ci({imports:[oN.forRoot(mae),oN]}),e})();function sj(n,e){return e?t=>Np(e.pipe(Ro(1),function yae(){return L((n,e)=>{n.subscribe(x(e,ne))})}()),t.pipe(sj(n))):nr((t,r)=>Vn(n(t,r)).pipe(Ro(1),rO(t)))}function Cae(n,e){if(1&n&&(ye(0,"div",4)(1,"h4",6),ke(2),Se()()),2&n){const t=Je();He(2),Qn(t.firestore.user.name)}}const Eae=function(n){return{active:n}};function Sae(n,e){if(1&n){const t=dn();ye(0,"div",7),it("click",function(){const s=Tt(t).$implicit;return Dt(Je().focus(s.route))}),ye(1,"i",8),ke(2),Se(),ye(3,"span",9),ke(4),Se()()}if(2&n){const t=e.$implicit,r=Je();Ye("ngClass",iv(3,Eae,r.active=="/"+t.route)),He(2),Qn(t.icon),He(2),Qn(t.name)}}let Aae=(()=>{var n;class e{constructor(r,i,s){this.router=r,this.route=i,this.firestore=s,this.close=new Wt,this.active="",this.menus=[],this.active=this.router.url,this.user=s.user,this.load(),this.router.events.subscribe(o=>{o instanceof eo&&(this.active=this.router.url)}),s.refreshUser.subscribe(o=>{this.user=o,this.load()})}load(){this.menus=[],this.user?"ADMIN"==this.user.role?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Admin",icon:"settings",route:"admin"}),this.menus.push({name:"Categories",icon:"category",route:"categories"}),this.menus.push({name:"Courses",icon:"menu_book",route:"courses"}),this.menus.push({name:"Topics",icon:"menu_book",route:"topics"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):"CLIENT"==this.user.role?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Assessments",icon:"assignment",route:"assessments"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):"USER"==this.user.role&&(this.menus.push({name:"Design",icon:"architecture",route:"home/design"}),this.menus.push({name:"Develop",icon:"code",route:"home/develop"}),this.menus.push({name:"Deploy",icon:"construction",route:"home/deploy"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Login",icon:"login",route:"login"}))}focus(r){this.router.navigate([r]),setTimeout(()=>this.close.emit(),100)}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Gn),xe(Cs),xe(Li))},n.\u0275cmp=En({type:n,selectors:[["app-menu"]],outputs:{close:"close"},decls:7,vars:2,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],["class","m",4,"ngIf"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"margin-left","10px"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(r,i){1&r&&(ye(0,"div",0)(1,"div",1)(2,"i",2),it("click",function(){return i.close.emit(!0)}),ke(3,"close"),Se()(),vt(4,Cae,3,1,"div",3),ye(5,"div",4),vt(6,Sae,5,5,"div",5),Se()()),2&r&&(He(4),Ye("ngIf",i.firestore.user),He(2),Ye("ngForOf",i.menus))},dependencies:[Kv,Js,mi],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),e})(),Iae=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=En({type:n,selectors:[["app-logo"]],decls:10,vars:0,consts:[["width","200","height","80","viewBox","0 0 400 150"],["id","SvgjsG6266","featurekey","rootContainer","transform","matrix(1,0,0,1,0,0)","fill","darkgoldenrod"],["y","0","height","1","width","1","opacity","0"],["y","122","width","370","height","5"],["id","SvgjsG6267","featurekey","symbolFeature-0","transform","matrix(1.028017879379319,0,0,1.028017879379319,-5.140089396896595,12.444349912652363)","fill","gold"],["xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd","d","M5,78.067c0-7.466,0-49.264,0-56.729C5,10.333,11.833,5.333,20.933,5.405  c7.466,0,50.264,0,57.729,0c10.837,0,15.933,7.095,15.933,14.933c0,7.466,0,52.264,0,59.729C94.595,90.333,88.667,95,78.662,95  c-7.466,0-50.263,0-57.729,0C11,95,5,88.667,5,78.067z M23.399,12.872c-7.419,0-10.933,2.466-10.933,9.932  c0,7.466,0,34.865,0,34.865h7.466l7.466-14.933l17.976,20.389l11.889-42.787L73,61l3.5-3.331h10.629c0,0,0-26.399,0-33.865  c0-7.466-2.467-10.932-9.933-10.932H23.399z M71.5,71.875l-13.125-29.25L48.25,77.25L28.399,54.669l-4,10.466H12.466  c0,0,0,4,0,11.467c0,7.466,3.466,10.933,10.933,10.933c7.466,0,44.598,0,52.428,0c7.835,0,11.302-3.467,11.302-10.933  c0-7.467,0-11.467,0-11.467L78.125,65L71.5,71.875z"],["id","SvgjsG6268","featurekey","nameFeature-0","transform","matrix(1.5633774866697607,0,0,1.5633774866697607,111.18704373675078,9.114959226611326)","fill","gold"],["_ngcontent-ibt-c17","","d","M0.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.4 -1.88 4.76 l0 18.48 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M13.32 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l12.16 0 s-0.454 1.5708 0.23641 4.2232 l3.6836 11.817 l3.6836 -11.817 c0.69 -2.6524 0.23641 -4.2232 0.23641 -4.2232 l12.16 0 s-1.88 2.4 -1.88 4.8 l0 18.44 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 s1.88 -2.36 1.88 -4.76 l0 -10.76 l-5 11.92 l-4 0 l-5 -11.92 l0 10.76 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 z M26.240000000000002 36.4 c0 0 0.36 -1.88 -0.84 -4.76 l2 4.76 l-1.16 0 z M31.400000000000002 36.4 l2 -4.76 c-1.2 2.88 -0.84 4.76 -0.84 4.76 l-1.16 0 z M46.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l12.4 0 c6.6 0 12.24 2.68 12.24 8.88 c0 4.16 -2.08 6.84 -5.2 8.4 c-1.8 0.88 -3.92 1.36 -6.24 1.56 c-0.72 0.08 -2.6 0.08 -3.32 0.08 l0 4.32 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M56.4 25.6 l1.44 0 c2.84 0 4.96 -1.36 4.96 -3.92 c0 -3 -2.44 -3.96 -5.28 -3.96 l-1.12 0 l0 7.88 z M85.92 40.56 c-6.56 0 -11.56 -3.72 -11.56 -10.56 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 3.24 1.16 4.72 3.56 4.72 c2.44 0 3.6 -1.48 3.6 -4.72 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 6.84 -5 10.56 -11.6 10.56 z M100.03999999999999 40 c0 0 1.88 -2.4 1.88 -4.8 l0 -18.44 c0 -2.4 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.36 -1.88 4.76 l0 16.84 l6.04 0 c2.36 0 4.76 -1.88 4.76 -1.88 l0 8.28 l-20.68 0 z M130.12 40.64 c-3.44 0 -8.2 -1.48 -8.2 -1.48 l2.8 -7.96 s1.88 3.8 5.2 3.8 c2.68 0 4.36 -1.16 4.36 -2.92 c0 -3.2 -11.76 -3.3984 -11.76 -11.52 c0 -5.96 4.92 -9.12 11.64 -9.12 c3.32 0 7.36 1.8 7.36 1.8 l-2.76 7.52 s-2.24 -3.96 -4.8 -3.96 c-2.16 0 -3.36 1.36 -3.36 2.68 c0 3.12 12.08 3.64 12.08 11.6 c0 5.92 -5.52 9.56 -12.56 9.56 z M144.00000000000003 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l21.48 0 l0 8.28 s-2.4 -1.88 -4.8 -1.88 l-6.8 0 l0 5.2 l2.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 9.36 s-2.4 -1.88 -4.8 -1.88 l-2.8 0 l0 4.4 l6.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 8.28 l-21.48 0 z"],["id","SvgjsG6269","featurekey","sloganFeature-0","transform","matrix(1.2395395249917074,0,0,1.2395395249917074,109.73635290905752,75.94291572161438)","fill","goldenrod"],["_ngcontent-ibt-c17","","d","M1.8262 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M18.037265625 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M32.929203125 8.467 l-5.3711 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 5.7813 l-2.9492 0 l0 -14.111 l8.3203 0 l0 2.5781 z M35.429715625 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M51.64078125 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M58.21291875 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M72.968984375 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z M83.369375 8.467 l-5.2344 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 3.1934 l5.2344 0 l0 2.5879 l-8.1836 0 l0 -14.111 l8.1836 0 l0 2.5781 z M91.582059375 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M114.326125 20 l-2.9199 0 l-0.92773 -10.635 l-3.5742 10.635 l-1.8945 0 l-3.5742 -10.635 l-0.9375 10.635 l-2.9297 0 l1.1816 -14.111 l4.1797 0 l3.0078 8.8574 l3.0469 -8.8574 l4.1797 0 z M123.26170625 5.888999999999999 c2.7637 0 4.4824 2.0508 4.4824 4.5605 c0 2.5684 -1.7188 4.4922 -4.4824 4.4922 l-2.9395 0 l0 5.0586 l-2.9297 0 l0 -14.111 l5.8691 0 z M122.77340625 12.4902 c1.4648 0 2.1484 -0.81055 2.1484 -2.0801 c0 -1.2207 -0.68359 -2.0703 -2.1484 -2.0703 l-2.4512 0 l0 4.1504 l2.4512 0 z M139.64890625 20 l-1.0254 -2.9102 l-5.9277 0 l-1.0254 2.9102 l-2.998 0 l5.1953 -14.111 l3.584 0 l5.1953 14.111 l-2.998 0 z M133.55470625 14.6387 l4.209 0 l-2.0996 -5.9863 z M151.015653125 20.19531 c-4.1504 0 -7.2168 -2.8223 -7.2168 -7.2559 s3.0664 -7.2461 7.2168 -7.2461 c3.1445 0 5.6641 1.6113 6.6699 4.2871 l-2.7344 0.99609 c-0.625 -1.6406 -2.1191 -2.5879 -3.9355 -2.5879 c-2.4316 0 -4.2969 1.6992 -4.2969 4.5508 s1.8652 4.5605 4.2969 4.5605 c1.8164 0 3.3105 -0.95703 3.9355 -2.5977 l2.7344 0.99609 c-1.0059 2.6758 -3.5254 4.2969 -6.6699 4.2969 z M168.27171875 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z"]],template:function(r,i){1&r&&(function AT(){St.lFrame.currentNamespace=cT}(),ye(0,"svg",0)(1,"g",1),kn(2,"rect",2)(3,"rect",3),Se(),ye(4,"g",4),kn(5,"path",5),Se(),ye(6,"g",6),kn(7,"path",7),Se(),ye(8,"g",8),kn(9,"path",9),Se()())}}),e})();function Tae(n,e){1&n&&(ye(0,"i",8),ke(1,"menu"),Se())}function Dae(n,e){1&n&&kn(0,"img",9),2&n&&$y("src",Je().firestore.user.image,dy)}let xae=(()=>{var n;class e{constructor(r){this.firestore=r,this.menu=!1}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Li))},n.\u0275cmp=En({type:n,selectors:[["app-header"]],decls:9,vars:3,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],["class","material-icons text-light",4,"ngIf"],[3,"src",4,"ngIf"],[1,"col-12","p-0","text-center"],[3,"hidden","close"],[1,"material-icons","text-light"],[3,"src"]],template:function(r,i){1&r&&(ye(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),it("click",function(){return i.menu=!i.menu}),vt(4,Tae,2,0,"i",4),vt(5,Dae,1,1,"img",5),Se()(),ye(6,"div",6),kn(7,"app-logo"),Se()()(),ye(8,"app-menu",7),it("close",function(){return i.menu=!1}),Se()),2&r&&(He(4),Ye("ngIf",!i.firestore.user),He(1),Ye("ngIf",i.firestore.user&&i.firestore.user.image),He(3),Ye("hidden",!i.menu))},dependencies:[mi,Aae,Iae],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]{padding:0}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:50px;height:50px}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:5px}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8.5rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),e})();function Pae(n,e){1&n&&(ye(0,"div",1),kn(1,"div",2),Se())}let Mae=(()=>{var n;class e{constructor(r){this.loaderService=r,this.isLoading=this.loaderService.isLoading}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(rj))},n.\u0275cmp=En({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","c d-flex align-items-center justify-content-center",4,"ngIf"],[1,"c","d-flex","align-items-center","justify-content-center"],[1,"loader"]],template:function(r,i){1&r&&(vt(0,Pae,2,0,"div",0),function AP(n,e){const t=Gt();let r;const i=n+_n;t.firstCreatePass?(r=function mz(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=ha(r.type)),o=Si(xe);try{const a=df(!1),l=s();return df(a),function n$(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Re(),i,l),l}finally{Si(o)}}(1,"async")),2&r&&Ye("ngIf",IP(1,1,i.isLoading))},dependencies:[mi,XM],styles:[".c[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;text-align:center;background:black;opacity:.5}.loader[_ngcontent-%COMP%]{border:15px solid #f3f3f3;border-radius:50%;border-top:15px solid #3498db;width:100px;height:100px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}"]}),e})();function kae(n,e){1&n&&kn(0,"app-header")}let Rae=(()=>{var n;class e{constructor(r,i,s){this.firestore=r,this.header=!0,this.firestore.log(al.PAGE_VIEW),this.handleScroll(i,s),window.addEventListener("message",o=>{o.origin===window.location.origin&&"ToggleHeader"==o.data&&(this.header=!this.header)},!1)}handleScroll(r,i){r.events.pipe(Xi(s=>s instanceof K0)).pipe(function bae(n,e=F0){const t=function wae(n=0,e,t=XW){let r=-1;return null!=e&&(UI(e)?t=e:r=e),new R(i=>{let s=function vae(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return sj(()=>t)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Li),xe(Gn),xe(ZM))},n.\u0275cmp=En({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(r,i){1&r&&(vt(0,kae,1,0,"app-header",0),kn(1,"app-loader")(2,"router-outlet")),2&r&&Ye("ngIf",i.header)},dependencies:[mi,tw,xae,Mae],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),Oae=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Ai({type:n,bootstrap:[Rae]}),n.\u0275inj=ci({imports:[eq,_ae,_W,BW,e7]}),e})();Z8().bootstrapModule(Oae).catch(n=>console.error(n))},36:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(764).default,_defineProperty=__webpack_require__(416).default,_classPrivateMethodInitSpec=__webpack_require__(860).default,_classPrivateMethodGet=__webpack_require__(467).default,_classPrivateFieldInitSpec=__webpack_require__(159).default,_classPrivateFieldSet=__webpack_require__(661).default,_classPrivateFieldGet=__webpack_require__(468).default,_asyncToGenerator=__webpack_require__(156).default,q;q=function(){return(()=>{"use strict";var __webpack_modules__=[,(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.VerbosityLevel=_.Util=_.UnknownErrorException=_.UnexpectedResponseException=_.UNSUPPORTED_FEATURES=_.TextRenderingMode=_.StreamType=_.RenderingIntentFlag=_.PermissionFlag=_.PasswordResponses=_.PasswordException=_.PageActionEventType=_.OPS=_.MissingPDFException=_.IsLittleEndianCached=_.IsEvalSupportedCached=_.InvalidPDFException=_.ImageKind=_.IDENTITY_MATRIX=_.FormatError=_.FontType=_.FONT_IDENTITY_MATRIX=_.DocumentActionEventType=_.CMapCompressionType=_.BaseException=_.AnnotationType=_.AnnotationStateModelType=_.AnnotationReviewState=_.AnnotationReplyType=_.AnnotationMode=_.AnnotationMarkedState=_.AnnotationFlag=_.AnnotationFieldFlag=_.AnnotationBorderStyleType=_.AnnotationActionEventType=_.AbortException=void 0,_.arrayByteLength=fe,_.arraysToBytes=function Ie(Te){const me=Te.length;if(1===me&&Te[0]instanceof Uint8Array)return Te[0];let Ce=0;for(let Rt=0;Rt<me;Rt++)Ce+=fe(Te[Rt]);let et=0;const rt=new Uint8Array(Ce);for(let Rt=0;Rt<me;Rt++){let yt=Te[Rt];yt instanceof Uint8Array||(yt="string"==typeof yt?ue(yt):new Uint8Array(yt));const Ut=yt.byteLength;rt.set(yt,et),et+=Ut}return rt},_.assert=function ge(Te,me){Te||ce(me)},_.bytesToString=function de(Te){("object"!=typeof Te||null===Te||void 0===Te.length)&&ce("Invalid argument for bytesToString");const me=Te.length;if(me<8192)return String.fromCharCode.apply(null,Te);const et=[];for(let rt=0;rt<me;rt+=8192){const Rt=Math.min(rt+8192,me),yt=Te.subarray(rt,Rt);et.push(String.fromCharCode.apply(null,yt))}return et.join("")},_.createPromiseCapability=function sn(){const Te=Object.create(null);let me=!1;return Object.defineProperty(Te,"settled",{get:()=>me}),Te.promise=new Promise(function(Ce,et){Te.resolve=function(rt){me=!0,Ce(rt)},Te.reject=function(rt){me=!0,et(rt)}}),Te},_.createValidAbsoluteUrl=function m(Te,me=null,Ce=null){if(!Te)return null;try{if(Ce&&"string"==typeof Te){if(Ce.addDefaultProtocol&&Te.startsWith("www.")){const rt=Te.match(/\./g);rt&&rt.length>=2&&(Te=`http://${Te}`)}if(Ce.tryConvertEncoding)try{Te=De(Te)}catch{}}const et=me?new URL(Te,me):new URL(Te);if(function w(Te){if(!Te)return!1;switch(Te.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(et))return et}catch{}return null},_.escapeString=function le(Te){return Te.replace(/([()\\\n\r])/g,me=>"\n"===me?"\\n":"\r"===me?"\\r":`\\${me}`)},_.getModificationDate=function It(Te=new Date){return[Te.getUTCFullYear().toString(),(Te.getUTCMonth()+1).toString().padStart(2,"0"),Te.getUTCDate().toString().padStart(2,"0"),Te.getUTCHours().toString().padStart(2,"0"),Te.getUTCMinutes().toString().padStart(2,"0"),Te.getUTCSeconds().toString().padStart(2,"0")].join("")},_.getVerbosityLevel=function K(){return C},_.info=function Q(Te){C>=I.INFOS&&console.log(`Info: ${Te}`)},_.isArrayBuffer=function Le(Te){return"object"==typeof Te&&null!==Te&&void 0!==Te.byteLength},_.isArrayEqual=function ze(Te,me){if(Te.length!==me.length)return!1;for(let Ce=0,et=Te.length;Ce<et;Ce++)if(Te[Ce]!==me[Ce])return!1;return!0},_.isAscii=function _e(Te){return/^[\x00-\x7F]*$/.test(Te)},_.isSameOrigin=function R(Te,me){let Ce;try{if(Ce=new URL(Te),!Ce.origin||"null"===Ce.origin)return!1}catch{return!1}const et=new URL(me,Ce);return Ce.origin===et.origin},_.objectFromMap=function $e(Te){const me=Object.create(null);for(const[Ce,et]of Te)me[Ce]=et;return me},_.objectSize=function je(Te){return Object.keys(Te).length},_.setVerbosityLevel=function V(Te){Number.isInteger(Te)&&(C=Te)},_.shadow=T,_.string32=function Fe(Te){return String.fromCharCode(Te>>24&255,Te>>16&255,Te>>8&255,255&Te)},_.stringToBytes=ue,_.stringToPDFString=function F(Te){if(Te[0]>="\xef"){let Ce;if("\xfe"===Te[0]&&"\xff"===Te[1]?Ce="utf-16be":"\xff"===Te[0]&&"\xfe"===Te[1]?Ce="utf-16le":"\xef"===Te[0]&&"\xbb"===Te[1]&&"\xbf"===Te[2]&&(Ce="utf-8"),Ce)try{const et=new TextDecoder(Ce,{fatal:!0}),rt=ue(Te);return et.decode(rt)}catch(et){te(`stringToPDFString: "${et}".`)}}const me=[];for(let Ce=0,et=Te.length;Ce<et;Ce++){const rt=ve[Te.charCodeAt(Ce)];me.push(rt?String.fromCharCode(rt):Te.charAt(Ce))}return me.join("")},_.stringToUTF16BEString=function Me(Te){const me=["\xfe\xff"];for(let Ce=0,et=Te.length;Ce<et;Ce++){const rt=Te.charCodeAt(Ce);me.push(String.fromCharCode(rt>>8&255),String.fromCharCode(255&rt))}return me.join("")},_.stringToUTF8String=De,_.unreachable=ce,_.utf8StringToString=function Ue(Te){return unescape(encodeURIComponent(Te))},_.warn=te,q(2),_.IDENTITY_MATRIX=[1,0,0,1,0,0],_.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],_.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},_.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},_.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},_.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},_.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},_.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},_.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},_.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},_.AnnotationReplyType={GROUP:"Group",REPLY:"R"},_.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},_.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},_.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},_.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},_.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},_.PageActionEventType={O:"PageOpen",C:"PageClose"},_.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},_.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const I={ERRORS:0,WARNINGS:1,INFOS:5};_.VerbosityLevel=I,_.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},_.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},_.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},_.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let C=I.WARNINGS;function te(Te){C>=I.WARNINGS&&console.log(`Warning: ${Te}`)}function ce(Te){throw new Error(Te)}function T(Te,me,Ce){return Object.defineProperty(Te,me,{value:Ce,enumerable:!0,configurable:!0,writable:!1}),Ce}const b=function(){function me(Ce,et){this.constructor===me&&ce("Cannot initialize BaseException."),this.message=Ce,this.name=et}return me.prototype=new Error,me.constructor=me,me}();function ue(Te){"string"!=typeof Te&&ce("Invalid argument for stringToBytes");const me=Te.length,Ce=new Uint8Array(me);for(let et=0;et<me;++et)Ce[et]=255&Te.charCodeAt(et);return Ce}function fe(Te){return void 0!==Te.length?Te.length:void 0!==Te.byteLength?Te.byteLength:void ce("Invalid argument for arrayByteLength")}_.BaseException=b,_.PasswordException=class d extends b{constructor(me,Ce){super(me,"PasswordException"),this.code=Ce}},_.UnknownErrorException=class y extends b{constructor(me,Ce){super(me,"UnknownErrorException"),this.details=Ce}},_.InvalidPDFException=class A extends b{constructor(me){super(me,"InvalidPDFException")}},_.MissingPDFException=class L extends b{constructor(me){super(me,"MissingPDFException")}},_.UnexpectedResponseException=class x extends b{constructor(me,Ce){super(me,"UnexpectedResponseException"),this.status=Ce}},_.FormatError=class E extends b{constructor(me){super(me,"FormatError")}},_.AbortException=class X extends b{constructor(me){super(me,"AbortException")}},_.IsLittleEndianCached={get value(){return T(this,"value",function Ne(){const Te=new Uint8Array(4);return Te[0]=1,1===new Uint32Array(Te.buffer,0,1)[0]}())}},_.IsEvalSupportedCached={get value(){return T(this,"value",function kt(){try{return new Function(""),!0}catch{return!1}}())}};const st=[...Array(256).keys()].map(Te=>Te.toString(16).padStart(2,"0"));class an{static makeHexColor(me,Ce,et){return`#${st[me]}${st[Ce]}${st[et]}`}static transform(me,Ce){return[me[0]*Ce[0]+me[2]*Ce[1],me[1]*Ce[0]+me[3]*Ce[1],me[0]*Ce[2]+me[2]*Ce[3],me[1]*Ce[2]+me[3]*Ce[3],me[0]*Ce[4]+me[2]*Ce[5]+me[4],me[1]*Ce[4]+me[3]*Ce[5]+me[5]]}static applyTransform(me,Ce){return[me[0]*Ce[0]+me[1]*Ce[2]+Ce[4],me[0]*Ce[1]+me[1]*Ce[3]+Ce[5]]}static applyInverseTransform(me,Ce){const et=Ce[0]*Ce[3]-Ce[1]*Ce[2];return[(me[0]*Ce[3]-me[1]*Ce[2]+Ce[2]*Ce[5]-Ce[4]*Ce[3])/et,(-me[0]*Ce[1]+me[1]*Ce[0]+Ce[4]*Ce[1]-Ce[5]*Ce[0])/et]}static getAxialAlignedBoundingBox(me,Ce){const et=an.applyTransform(me,Ce),rt=an.applyTransform(me.slice(2,4),Ce),Rt=an.applyTransform([me[0],me[3]],Ce),yt=an.applyTransform([me[2],me[1]],Ce);return[Math.min(et[0],rt[0],Rt[0],yt[0]),Math.min(et[1],rt[1],Rt[1],yt[1]),Math.max(et[0],rt[0],Rt[0],yt[0]),Math.max(et[1],rt[1],Rt[1],yt[1])]}static inverseTransform(me){const Ce=me[0]*me[3]-me[1]*me[2];return[me[3]/Ce,-me[1]/Ce,-me[2]/Ce,me[0]/Ce,(me[2]*me[5]-me[4]*me[3])/Ce,(me[4]*me[1]-me[5]*me[0])/Ce]}static apply3dTransform(me,Ce){return[me[0]*Ce[0]+me[1]*Ce[1]+me[2]*Ce[2],me[3]*Ce[0]+me[4]*Ce[1]+me[5]*Ce[2],me[6]*Ce[0]+me[7]*Ce[1]+me[8]*Ce[2]]}static singularValueDecompose2dScale(me){const Ce=[me[0],me[2],me[1],me[3]],et=me[0]*Ce[0]+me[1]*Ce[2],yt=me[2]*Ce[1]+me[3]*Ce[3],Ut=(et+yt)/2,Xt=Math.sqrt((et+yt)**2-4*(et*yt-(me[2]*Ce[0]+me[3]*Ce[2])*(me[0]*Ce[1]+me[1]*Ce[3])))/2,ln=Ut-Xt||1;return[Math.sqrt(Ut+Xt||1),Math.sqrt(ln)]}static normalizeRect(me){const Ce=me.slice(0);return me[0]>me[2]&&(Ce[0]=me[2],Ce[2]=me[0]),me[1]>me[3]&&(Ce[1]=me[3],Ce[3]=me[1]),Ce}static intersect(me,Ce){function et(Ut,Xt){return Ut-Xt}const rt=[me[0],me[2],Ce[0],Ce[2]].sort(et),Rt=[me[1],me[3],Ce[1],Ce[3]].sort(et),yt=[];return me=an.normalizeRect(me),Ce=an.normalizeRect(Ce),rt[0]===me[0]&&rt[1]===Ce[0]||rt[0]===Ce[0]&&rt[1]===me[0]?(yt[0]=rt[1],yt[2]=rt[2],Rt[0]===me[1]&&Rt[1]===Ce[1]||Rt[0]===Ce[1]&&Rt[1]===me[1]?(yt[1]=Rt[1],yt[3]=Rt[2],yt):null):null}static bezierBoundingBox(me,Ce,et,rt,Rt,yt,Ut,Xt){const Yt=[],ln=[[],[]];let Tr,Br,Vi,Cn,Ci,vo,wo,bo;for(let nu=0;nu<2;++nu)if(0===nu?(Br=6*me-12*et+6*Rt,Tr=-3*me+9*et-9*Rt+3*Ut,Vi=3*et-3*me):(Br=6*Ce-12*rt+6*yt,Tr=-3*Ce+9*rt-9*yt+3*Xt,Vi=3*rt-3*Ce),Math.abs(Tr)<1e-12){if(Math.abs(Br)<1e-12)continue;Cn=-Vi/Br,0<Cn&&Cn<1&&Yt.push(Cn)}else wo=Br*Br-4*Vi*Tr,bo=Math.sqrt(wo),!(wo<0)&&(Ci=(-Br+bo)/(2*Tr),0<Ci&&Ci<1&&Yt.push(Ci),vo=(-Br-bo)/(2*Tr),0<vo&&vo<1&&Yt.push(vo));let lr,Ui=Yt.length;const Vn=Ui;for(;Ui--;)Cn=Yt[Ui],lr=1-Cn,ln[0][Ui]=lr*lr*lr*me+3*lr*lr*Cn*et+3*lr*Cn*Cn*Rt+Cn*Cn*Cn*Ut,ln[1][Ui]=lr*lr*lr*Ce+3*lr*lr*Cn*rt+3*lr*Cn*Cn*yt+Cn*Cn*Cn*Xt;return ln[0][Vn]=me,ln[1][Vn]=Ce,ln[0][Vn+1]=Ut,ln[1][Vn+1]=Xt,ln[0].length=ln[1].length=Vn+2,[Math.min(...ln[0]),Math.min(...ln[1]),Math.max(...ln[0]),Math.max(...ln[1])]}}_.Util=an;const ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function De(Te){return decodeURIComponent(escape(Te))}},(ae,_,q)=>{q(3)},(ae,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.isNodeJS=void 0;const q=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);_.isNodeJS=q},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(ae){createPDFNetworkStream=ae}function getDocument(ae){const _=new PDFDocumentLoadingTask;let q;if("string"==typeof ae||ae instanceof URL)q={url:ae};else if((0,_util.isArrayBuffer)(ae))q={data:ae};else if(ae instanceof PDFDataRangeTransport)q={range:ae};else{if("object"!=typeof ae)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!ae.url&&!ae.data&&!ae.range)throw new Error("Invalid parameter object: need either .data, .range or .url");q=ae}const p=Object.create(null);let Z=null,W=null;for(const J in q){const z=q[J];switch(J){case"url":if(typeof window<"u")try{p[J]=new URL(z,window.location).href;continue}catch(j){(0,_util.warn)(`Cannot create valid URL: "${j}".`)}else if("string"==typeof z||z instanceof URL){p[J]=z.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":Z=z;continue;case"worker":W=z;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&z instanceof Buffer)p[J]=new Uint8Array(z);else{if(z instanceof Uint8Array)break;if("string"==typeof z)p[J]=(0,_util.stringToBytes)(z);else if("object"!=typeof z||null===z||isNaN(z.length)){if(!(0,_util.isArrayBuffer)(z))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");p[J]=new Uint8Array(z)}else p[J]=new Uint8Array(z)}continue}p[J]=z}if(p.rangeChunkSize=p.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,p.CMapReaderFactory=p.CMapReaderFactory||DefaultCMapReaderFactory,p.StandardFontDataFactory=p.StandardFontDataFactory||DefaultStandardFontDataFactory,p.ignoreErrors=!0!==p.stopAtErrors,p.fontExtraProperties=!0===p.fontExtraProperties,p.pdfBug=!0===p.pdfBug,p.enableXfa=!0===p.enableXfa,("string"!=typeof p.docBaseUrl||(0,_display_utils.isDataScheme)(p.docBaseUrl))&&(p.docBaseUrl=null),Number.isInteger(p.maxImageSize)||(p.maxImageSize=-1),"boolean"!=typeof p.useWorkerFetch&&(p.useWorkerFetch=p.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&p.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof p.isEvalSupported&&(p.isEvalSupported=!0),"boolean"!=typeof p.disableFontFace&&(p.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof p.useSystemFonts&&(p.useSystemFonts=!_is_node.isNodeJS&&!p.disableFontFace),typeof p.ownerDocument>"u"&&(p.ownerDocument=globalThis.document),"boolean"!=typeof p.disableRange&&(p.disableRange=!1),"boolean"!=typeof p.disableStream&&(p.disableStream=!1),"boolean"!=typeof p.disableAutoFetch&&(p.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(p.verbosity),!W){const J={verbosity:p.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};W=J.port?_PDFWorker.fromPort(J):new _PDFWorker(J),_._worker=W}const pe=_.docId;return W.promise.then(function(){if(_.destroyed)throw new Error("Loading aborted");const J=_fetchDocument(W,p,Z,pe),z=new Promise(function(j){let ee;Z?ee=new _transport_stream.PDFDataTransportStream({length:p.length,initialData:p.initialData,progressiveDone:p.progressiveDone,contentDispositionFilename:p.contentDispositionFilename,disableRange:p.disableRange,disableStream:p.disableStream},Z):p.data||(ee=createPDFNetworkStream({url:p.url,length:p.length,httpHeaders:p.httpHeaders,withCredentials:p.withCredentials,rangeChunkSize:p.rangeChunkSize,disableRange:p.disableRange,disableStream:p.disableStream})),j(ee)});return Promise.all([J,z]).then(function([j,ee]){if(_.destroyed)throw new Error("Loading aborted");const ie=new _message_handler.MessageHandler(pe,j,W.port),re=new WorkerTransport(ie,_,ee,p);_._transport=re,ie.send("Ready",null)})}).catch(_._capability.reject),_}function _fetchDocument(ae,_,q,p){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(ae,_,q,p){if(ae.destroyed)throw new Error("Worker was destroyed");q&&(_.length=q.length,_.initialData=q.initialData,_.progressiveDone=q.progressiveDone,_.contentDispositionFilename=q.contentDispositionFilename);const Z=yield ae.messageHandler.sendWithPromise("GetDocRequest",{docId:p,apiVersion:"2.13.216",source:{data:_.data,url:_.url,password:_.password,disableAutoFetch:_.disableAutoFetch,rangeChunkSize:_.rangeChunkSize,length:_.length},maxImageSize:_.maxImageSize,disableFontFace:_.disableFontFace,docBaseUrl:_.docBaseUrl,ignoreErrors:_.ignoreErrors,isEvalSupported:_.isEvalSupported,fontExtraProperties:_.fontExtraProperties,enableXfa:_.enableXfa,useSystemFonts:_.useSystemFonts,cMapUrl:_.useWorkerFetch?_.cMapUrl:null,standardFontDataUrl:_.useWorkerFetch?_.standardFontDataUrl:null});if(ae.destroyed)throw new Error("Worker was destroyed");return Z})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var _=this;return _asyncToGenerator(function*(){_.destroyed=!0,yield _._transport?.destroy(),_._transport=null,_._worker&&(_._worker.destroy(),_._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(_,q,p=!1,Z=null){this.length=_,this.initialData=q,this.progressiveDone=p,this.contentDispositionFilename=Z,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(_){this._rangeListeners.push(_)}addProgressListener(_){this._progressListeners.push(_)}addProgressiveReadListener(_){this._progressiveReadListeners.push(_)}addProgressiveDoneListener(_){this._progressiveDoneListeners.push(_)}onDataRange(_,q){for(const p of this._rangeListeners)p(_,q)}onDataProgress(_,q){this._readyCapability.promise.then(()=>{for(const p of this._progressListeners)p(_,q)})}onDataProgressiveRead(_){this._readyCapability.promise.then(()=>{for(const q of this._progressiveReadListeners)q(_)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const _ of this._progressiveDoneListeners)_()})}transportReady(){this._readyCapability.resolve()}requestDataRange(_,q){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(_,q){var Z,p=this;this._pdfInfo=_,this._transport=q,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(Z=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),p.stats||{streamTypes:{},fontTypes:{}}}),function(){return Z.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(_){return this._transport.getPage(_)}getPageIndex(_){return this._transport.getPageIndex(_)}getDestinations(){return this._transport.getDestinations()}getDestination(_){return this._transport.getDestination(_)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(_=!1){return this._transport.startCleanup(_||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(_,q,p,Z,W=!1){this._pageIndex=_,this._pageInfo=q,this._ownerDocument=Z,this._transport=p,this._stats=W?new _display_utils.StatTimer:null,this._pdfBug=W,this.commonObjs=p.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:_,rotation:q=this.rotate,offsetX:p=0,offsetY:Z=0,dontFlip:W=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:_,rotation:q,offsetX:p,offsetY:Z,dontFlip:W})}getAnnotations({intent:_="display"}={}){const q=this._transport.getRenderingIntent(_);let p=this._annotationPromises.get(q.cacheKey);return p||(p=this._transport.getAnnotations(this._pageIndex,q.renderingIntent),this._annotationPromises.set(q.cacheKey,p),p=p.then(Z=>{for(const W of Z)void 0!==W.titleObj&&Object.defineProperty(W,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),W.titleObj.str)}),void 0!==W.contentsObj&&Object.defineProperty(W,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),W.contentsObj.str)});return Z})),p}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var _=this;return _asyncToGenerator(function*(){return _._transport._htmlForXfa?.children[_._pageIndex]||null})()}render({canvasContext:_,viewport:q,intent:p="display",annotationMode:Z=_util.AnnotationMode.ENABLE,transform:W=null,imageLayer:pe=null,canvasFactory:J=null,background:z=null,optionalContentConfigPromise:j=null,annotationCanvasMap:ee=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&Z===_util.AnnotationMode.ENABLE&&(Z=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&Z===_util.AnnotationMode.ENABLE&&(Z=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const ie=this._transport.getRenderingIntent(p,Z);this.pendingCleanup=!1,j||(j=this._transport.getOptionalContentConfig());let re=this._intentStates.get(ie.cacheKey);re||(re=Object.create(null),this._intentStates.set(ie.cacheKey,re)),re.streamReaderCancelTimeout&&(clearTimeout(re.streamReaderCancelTimeout),re.streamReaderCancelTimeout=null);const Y=J||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),ne=!!(ie.renderingIntent&_util.RenderingIntentFlag.PRINT);re.displayReadyCapability||(re.displayReadyCapability=(0,_util.createPromiseCapability)(),re.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ie));const M=G=>{re.renderTasks.delete(k),(this.cleanupAfterRender||ne)&&(this.pendingCleanup=!0),this._tryCleanup(),G?(k.capability.reject(G),this._abortOperatorList({intentState:re,reason:G instanceof Error?G:new Error(G)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},k=new InternalRenderTask({callback:M,params:{canvasContext:_,viewport:q,transform:W,imageLayer:pe,background:z},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ee,operatorList:re.operatorList,pageIndex:this._pageIndex,canvasFactory:Y,useRequestAnimationFrame:!ne,pdfBug:this._pdfBug});(re.renderTasks||=new Set).add(k);const H=k.task;return Promise.all([re.displayReadyCapability.promise,j]).then(([G,O])=>{this.pendingCleanup?M():(this._stats&&this._stats.time("Rendering"),k.initializeGraphics({transparency:G,optionalContentConfig:O}),k.operatorListChanged())}).catch(M),H}getOperatorList({intent:_="display",annotationMode:q=_util.AnnotationMode.ENABLE}={}){const Z=this._transport.getRenderingIntent(_,q,!0);let pe,W=this._intentStates.get(Z.cacheKey);return W||(W=Object.create(null),this._intentStates.set(Z.cacheKey,W)),W.opListReadCapability||(pe=Object.create(null),pe.operatorListChanged=function p(){W.operatorList.lastChunk&&(W.opListReadCapability.resolve(W.operatorList),W.renderTasks.delete(pe))},W.opListReadCapability=(0,_util.createPromiseCapability)(),(W.renderTasks||=new Set).add(pe),W.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Z)),W.opListReadCapability.promise}streamTextContent({disableCombineTextItems:_=!1,includeMarkedContent:q=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==_,includeMarkedContent:!0===q},{highWaterMark:100,size:Z=>Z.items.length})}getTextContent(_={}){if(this._transport._htmlForXfa)return this.getXfa().then(p=>_xfa_text.XfaText.textContent(p));const q=this.streamTextContent(_);return new Promise(function(p,Z){const pe=q.getReader(),J={items:[],styles:Object.create(null)};!function W(){pe.read().then(function({value:z,done:j}){j?p(J):(Object.assign(J.styles,z.styles),J.items.push(...z.items),W())},Z)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const _=[];for(const q of this._intentStates.values())if(this._abortOperatorList({intentState:q,reason:new Error("Page was destroyed."),force:!0}),!q.opListReadCapability)for(const p of q.renderTasks)_.push(p.completed),p.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(_)}cleanup(_=!1){return this.pendingCleanup=!0,this._tryCleanup(_)}_tryCleanup(_=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:q,operatorList:p}of this._intentStates.values())if(q.size>0||!p.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,_&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(_,q){const p=this._intentStates.get(q);p&&(this._stats&&this._stats.timeEnd("Page Request"),p.displayReadyCapability&&p.displayReadyCapability.resolve(_))}_renderPageChunk(_,q){for(let p=0,Z=_.length;p<Z;p++)q.operatorList.fnArray.push(_.fnArray[p]),q.operatorList.argsArray.push(_.argsArray[p]);q.operatorList.lastChunk=_.lastChunk;for(const p of q.renderTasks)p.operatorListChanged();_.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:_,cacheKey:q}){const Z=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:_,cacheKey:q,annotationStorage:_&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),W=this._intentStates.get(q);W.streamReader=Z;const pe=()=>{Z.read().then(({value:J,done:z})=>{z?W.streamReader=null:this._transport.destroyed||(this._renderPageChunk(J,W),pe())},J=>{if(W.streamReader=null,!this._transport.destroyed){if(W.operatorList){W.operatorList.lastChunk=!0;for(const z of W.renderTasks)z.operatorListChanged();this._tryCleanup()}if(W.displayReadyCapability)W.displayReadyCapability.reject(J);else{if(!W.opListReadCapability)throw J;W.opListReadCapability.reject(J)}}})};pe()}_abortOperatorList({intentState:_,reason:q,force:p=!1}){if(_.streamReader){if(!p){if(_.renderTasks.size>0)return;if(q instanceof _display_utils.RenderingCancelledException)return void(_.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:_,reason:q,force:!0}),_.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(_.streamReader.cancel(new _util.AbortException(q.message)).catch(()=>{}),_.streamReader=null,!this._transport.destroyed){for(const[Z,W]of this._intentStates)if(W===_){this._intentStates.delete(Z);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(_,q){const p={data:structuredClone(_,q)};this._deferred.then(()=>{for(const Z of this._listeners)Z.call(this,p)})}addEventListener(_,q){this._listeners.push(q)}removeEventListener(_,q){const p=this._listeners.indexOf(q);this._listeners.splice(p,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const ae=document?.currentScript?.src;ae&&(PDFWorkerUtil.fallbackWorkerSrc=ae.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(ae){return URL.createObjectURL(new Blob([`importScripts("${ae}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:ae=null,port:_=null,verbosity:q=(0,_util.getVerbosityLevel)()}={}){if(_&&_PDFWorker._workerPorts.has(_))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=ae,this.destroyed=!1,this.verbosity=q,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,_)return _PDFWorker._workerPorts.set(_,this),void this._initializeFromPort(_);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ae){this._port=ae,this._messageHandler=new _message_handler.MessageHandler("main","worker",ae),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let ae=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,ae)||(ae=PDFWorkerUtil.createCDNWrapper(new URL(ae,window.location).href));const _=new Worker(ae),q=new _message_handler.MessageHandler("main","worker",_),p=()=>{_.removeEventListener("error",Z),q.destroy(),_.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Z=()=>{this._webWorker||p()};_.addEventListener("error",Z),q.on("test",pe=>{_.removeEventListener("error",Z),this.destroyed?p():pe?(this._messageHandler=q,this._port=_,this._webWorker=_,this._readyCapability.resolve(),q.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),q.destroy(),_.terminate())}),q.on("ready",pe=>{if(_.removeEventListener("error",Z),this.destroyed)p();else try{W()}catch{this._setupFakeWorker()}});const W=()=>{const pe=new Uint8Array([255]);try{q.send("test",pe,[pe.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),pe[0]=0,q.send("test",pe)}};return void W()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ae=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const _=new LoopbackPort;this._port=_;const q="fake"+PDFWorkerUtil.fakeWorkerId++,p=new _message_handler.MessageHandler(q+"_worker",q,_);ae.setup(p,_);const Z=new _message_handler.MessageHandler(q,q+"_worker",_);this._messageHandler=Z,this._readyCapability.resolve(),Z.send("configure",{verbosity:this.verbosity})}).catch(ae=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ae.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ae){if(!ae?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(ae.port)?this._workerPorts.get(ae.port):new _PDFWorker(ae)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function ae(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(_,q,p,Z){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=_,this.loadingTask=q,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:q.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:Z.ownerDocument,styleElement:Z.styleElement}),this._params=Z,Z.useWorkerFetch||(this.CMapReaderFactory=new Z.CMapReaderFactory({baseUrl:Z.cMapUrl,isCompressed:Z.cMapPacked}),this.StandardFontDataFactory=new Z.StandardFontDataFactory({baseUrl:Z.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=p,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(_,q=_util.AnnotationMode.ENABLE,p=!1){let Z=_util.RenderingIntentFlag.DISPLAY,W="";switch(_){case"any":Z=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Z=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${_}`)}switch(q){case _util.AnnotationMode.DISABLE:Z+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Z+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Z+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,W=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${q}`)}return p&&(Z+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Z,cacheKey:`${Z}_${W}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const _=[];for(const p of _classPrivateFieldGet(this,_pageCache).values())_.push(p._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const q=this.messageHandler.sendWithPromise("Terminate",null);return _.push(q),Promise.all(_).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:_,loadingTask:q}=this;_.on("GetReader",(p,Z)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=W=>{this._lastProgress={loaded:W.loaded,total:W.total}},Z.onPull=()=>{this._fullReader.read().then(function({value:W,done:pe}){pe?Z.close():((0,_util.assert)((0,_util.isArrayBuffer)(W),"GetReader - expected an ArrayBuffer."),Z.enqueue(new Uint8Array(W),1,[W]))}).catch(W=>{Z.error(W)})},Z.onCancel=W=>{this._fullReader.cancel(W),Z.ready.catch(pe=>{if(!this.destroyed)throw pe})}}),_.on("ReaderHeadersReady",p=>{const Z=(0,_util.createPromiseCapability)(),W=this._fullReader;return W.headersReady.then(()=>{(!W.isStreamingSupported||!W.isRangeSupported)&&(this._lastProgress&&q.onProgress?.(this._lastProgress),W.onProgress=pe=>{q.onProgress?.({loaded:pe.loaded,total:pe.total})}),Z.resolve({isStreamingSupported:W.isStreamingSupported,isRangeSupported:W.isRangeSupported,contentLength:W.contentLength})},Z.reject),Z.promise}),_.on("GetRangeReader",(p,Z)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const W=this._networkStream.getRangeReader(p.begin,p.end);W?(Z.onPull=()=>{W.read().then(function({value:pe,done:J}){J?Z.close():((0,_util.assert)((0,_util.isArrayBuffer)(pe),"GetRangeReader - expected an ArrayBuffer."),Z.enqueue(new Uint8Array(pe),1,[pe]))}).catch(pe=>{Z.error(pe)})},Z.onCancel=pe=>{W.cancel(pe),Z.ready.catch(J=>{if(!this.destroyed)throw J})}):Z.close()}),_.on("GetDoc",({pdfInfo:p})=>{this._numPages=p.numPages,this._htmlForXfa=p.htmlForXfa,delete p.htmlForXfa,q._capability.resolve(new PDFDocumentProxy(p,this))}),_.on("DocException",function(p){let Z;switch(p.name){case"PasswordException":Z=new _util.PasswordException(p.message,p.code);break;case"InvalidPDFException":Z=new _util.InvalidPDFException(p.message);break;case"MissingPDFException":Z=new _util.MissingPDFException(p.message);break;case"UnexpectedResponseException":Z=new _util.UnexpectedResponseException(p.message,p.status);break;case"UnknownErrorException":Z=new _util.UnknownErrorException(p.message,p.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}q._capability.reject(Z)}),_.on("PasswordRequest",p=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),q.onPassword){const Z=W=>{W instanceof Error?this._passwordCapability.reject(W):this._passwordCapability.resolve({password:W})};try{q.onPassword(Z,p.code)}catch(W){this._passwordCapability.reject(W)}}else this._passwordCapability.reject(new _util.PasswordException(p.message,p.code));return this._passwordCapability.promise}),_.on("DataLoaded",p=>{q.onProgress?.({loaded:p.length,total:p.length}),this.downloadInfoCapability.resolve(p)}),_.on("StartRenderPage",p=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(p.pageIndex)._startRenderPage(p.transparency,p.cacheKey)}),_.on("commonobj",([p,Z,W])=>{if(!this.destroyed&&!this.commonObjs.has(p))switch(Z){case"Font":const pe=this._params;if("error"in W){const j=W.error;(0,_util.warn)(`Error during font loading: ${j}`),this.commonObjs.resolve(p,j);break}let J=null;pe.pdfBug&&globalThis.FontInspector?.enabled&&(J={registerFont(j,ee){globalThis.FontInspector.fontAdded(j,ee)}});const z=new _font_loader.FontFaceObject(W,{isEvalSupported:pe.isEvalSupported,disableFontFace:pe.disableFontFace,ignoreErrors:pe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:J});this.fontLoader.bind(z).catch(j=>_.sendWithPromise("FontFallback",{id:p})).finally(()=>{!pe.fontExtraProperties&&z.data&&(z.data=null),this.commonObjs.resolve(p,z)});break;case"FontPath":case"Image":this.commonObjs.resolve(p,W);break;default:throw new Error(`Got unknown common object type ${Z}`)}}),_.on("obj",([p,Z,W,pe])=>{if(this.destroyed)return;const J=_classPrivateFieldGet(this,_pageCache).get(Z);if(!J.objs.has(p))switch(W){case"Image":J.objs.resolve(p,pe),pe?.data?.length>8e6&&(J.cleanupAfterRender=!0);break;case"Pattern":J.objs.resolve(p,pe);break;default:throw new Error(`Got unknown object type ${W}`)}}),_.on("DocProgress",p=>{this.destroyed||q.onProgress?.({loaded:p.loaded,total:p.total})}),_.on("DocStats",p=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(p.streamTypes),fontTypes:Object.freeze(p.fontTypes)}))}),_.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),_.on("FetchBuiltInCMap",p=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(p):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),_.on("FetchStandardFontData",p=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(p):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:_}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(_)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(_){if(!Number.isInteger(_)||_<=0||_>this._numPages)return Promise.reject(new Error("Invalid page request."));const q=_-1,p=_classPrivateFieldGet(this,_pagePromises).get(q);if(p)return p;const Z=this.messageHandler.sendWithPromise("GetPage",{pageIndex:q}).then(W=>{if(this.destroyed)throw new Error("Transport destroyed");const pe=new PDFPageProxy(q,W,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(q,pe),pe});return _classPrivateFieldGet(this,_pagePromises).set(q,Z),Z}getPageIndex(_){return"object"!=typeof _||null===_||!Number.isInteger(_.num)||_.num<0||!Number.isInteger(_.gen)||_.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:_.num,gen:_.gen})}getAnnotations(_,q){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:_,intent:q})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(_){return"string"!=typeof _?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:_})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(_){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:_})}getStructTree(_){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:_})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(_=>new _optional_content_config.OptionalContentConfig(_))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(_=>({info:_[0],metadata:_[1]?new _metadata.Metadata(_[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(_=!1){var q=this;return _asyncToGenerator(function*(){if(yield q.messageHandler.sendWithPromise("Cleanup",null),!q.destroyed){for(const p of _classPrivateFieldGet(q,_pageCache).values())if(!p.cleanup())throw new Error(`startCleanup: Page ${p.pageNumber} is currently rendering.`);q.commonObjs.clear(),_||q.fontLoader.clear(),_classPrivateFieldSet(q,_metadataPromise,null),q._getFieldObjectsPromise=null,q._hasJSActionsPromise=null}})()}get loadingParams(){const _=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:_.disableAutoFetch,enableXfa:_.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(_,q=null){if(q){const Z=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,_);return Z.capability.promise.then(()=>q(Z.data)),null}const p=_classPrivateFieldGet(this,_objs)[_];if(!p?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${_}.`);return p.data}has(_){return _classPrivateFieldGet(this,_objs)[_]?.capability.settled||!1}resolve(_,q=null){const p=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,_);p.data=q,p.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(ae){return _classPrivateFieldGet(this,_objs)[ae]||(_classPrivateFieldGet(this,_objs)[ae]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(_){this._internalRenderTask=_,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:_,params:q,objs:p,commonObjs:Z,annotationCanvasMap:W,operatorList:pe,pageIndex:J,canvasFactory:z,useRequestAnimationFrame:j=!1,pdfBug:ee=!1}){this.callback=_,this.params=q,this.objs=p,this.commonObjs=Z,this.annotationCanvasMap=W,this.operatorListIdx=null,this.operatorList=pe,this._pageIndex=J,this.canvasFactory=z,this._pdfBug=ee,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===j&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=q.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:_=!1,optionalContentConfig:q}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:p,viewport:Z,transform:W,imageLayer:pe,background:J}=this.params;this.gfx=new _canvas.CanvasGraphics(p,this.commonObjs,this.objs,this.canvasFactory,pe,q,this.annotationCanvasMap),this.gfx.beginDrawing({transform:W,viewport:Z,transparency:_,background:J}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(_=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(_||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var _=this;return _asyncToGenerator(function*(){_.cancelled||(_.operatorListIdx=_.gfx.executeOperatorList(_.operatorList,_.operatorListIdx,_._continueBound,_.stepper),_.operatorListIdx===_.operatorList.argsArray.length&&(_.running=!1,_.operatorList.lastChunk&&(_.gfx.endDrawing(),_._canvas&&InternalRenderTask.canvasInUse.delete(_._canvas),_.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(ae,_,q)=>{var p;Object.defineProperty(_,"__esModule",{value:!0}),_.StatTimer=_.RenderingCancelledException=_.PixelsPerInch=_.PageViewport=_.PDFDateString=_.DOMStandardFontDataFactory=_.DOMSVGFactory=_.DOMCanvasFactory=_.DOMCMapReaderFactory=void 0,_.deprecated=function I(P){console.log("Deprecated API usage: "+P)},_.getFilenameFromUrl=function G(P){const C=P.indexOf("#"),V=P.indexOf("?"),K=Math.min(C>0?C:P.length,V>0?V:P.length);return P.substring(P.lastIndexOf("/",K)+1,K)},_.getPdfFilenameFromUrl=function O(P,C="document.pdf"){if("string"!=typeof P)return C;if(k(P))return(0,W.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),C;const K=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Q=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(P);let te=K.exec(Q[1])||K.exec(Q[2])||K.exec(Q[3]);if(te&&(te=te[0],te.includes("%")))try{te=K.exec(decodeURIComponent(te))[0]}catch{}return te||C},_.getXfaPageViewport=function B(P,{scale:C=1,rotation:V=0}){const{width:K,height:Q}=P.attributes.style,te=[0,0,parseInt(K),parseInt(Q)];return new ne({viewBox:te,scale:C,rotation:V})},_.isDataScheme=k,_.isPdfFile=function H(P){return"string"==typeof P&&/\.pdf$/i.test(P)},_.isValidFetchUrl=g,_.loadScript=function f(P,C=!1){return new Promise((V,K)=>{const Q=document.createElement("script");Q.src=P,Q.onload=function(te){C&&Q.remove(),V(te)},Q.onerror=function(){K(new Error(`Cannot load script at: ${Q.src}`))},(document.head||document.documentElement).appendChild(Q)})};var Z=q(6),W=q(1);class J{}function j(P){return ee.apply(this,arguments)}function ee(){return(ee=_asyncToGenerator(function*(P,C=!1){if(g(P,document.baseURI)){const V=yield fetch(P);if(!V.ok)throw new Error(V.statusText);return C?new Uint8Array(yield V.arrayBuffer()):(0,W.stringToBytes)(yield V.text())}return new Promise((V,K)=>{const Q=new XMLHttpRequest;Q.open("GET",P,!0),C&&(Q.responseType="arraybuffer"),Q.onreadystatechange=()=>{if(Q.readyState===XMLHttpRequest.DONE){if(200===Q.status||0===Q.status){let te;if(C&&Q.response?te=new Uint8Array(Q.response):!C&&Q.responseText&&(te=(0,W.stringToBytes)(Q.responseText)),te)return void V(te)}K(new Error(Q.statusText))}},Q.send(null)})})).apply(this,arguments)}p=J,_defineProperty(J,"CSS",96),_defineProperty(J,"PDF",72),_defineProperty(J,"PDF_TO_CSS_UNITS",p.CSS/p.PDF),_.PixelsPerInch=J,_.DOMCanvasFactory=class z extends Z.BaseCanvasFactory{constructor({ownerDocument:C=globalThis.document}={}){super(),this._document=C}_createCanvas(C,V){const K=this._document.createElement("canvas");return K.width=C,K.height=V,K}},_.DOMCMapReaderFactory=class ie extends Z.BaseCMapReaderFactory{_fetchData(C,V){return j(C,this.isCompressed).then(K=>({cMapData:K,compressionType:V}))}},_.DOMStandardFontDataFactory=class re extends Z.BaseStandardFontDataFactory{_fetchData(C){return j(C,!0)}},_.DOMSVGFactory=class Y extends Z.BaseSVGFactory{_createSVG(C){return document.createElementNS("http://www.w3.org/2000/svg",C)}};class ne{constructor({viewBox:C,scale:V,rotation:K,offsetX:Q=0,offsetY:te=0,dontFlip:ce=!1}){this.viewBox=C,this.scale=V,this.rotation=K,this.offsetX=Q,this.offsetY=te;const ge=(C[2]+C[0])/2,R=(C[3]+C[1])/2;let w,m,T,b,d,y,A,L;switch((K%=360)<0&&(K+=360),K){case 180:w=-1,m=0,T=0,b=1;break;case 90:w=0,m=1,T=1,b=0;break;case 270:w=0,m=-1,T=-1,b=0;break;case 0:w=1,m=0,T=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ce&&(T=-T,b=-b),0===w?(d=Math.abs(R-C[1])*V+Q,y=Math.abs(ge-C[0])*V+te,A=Math.abs(C[3]-C[1])*V,L=Math.abs(C[2]-C[0])*V):(d=Math.abs(ge-C[0])*V+Q,y=Math.abs(R-C[1])*V+te,A=Math.abs(C[2]-C[0])*V,L=Math.abs(C[3]-C[1])*V),this.transform=[w*V,m*V,T*V,b*V,d-w*V*ge-T*V*R,y-m*V*ge-b*V*R],this.width=A,this.height=L}clone({scale:C=this.scale,rotation:V=this.rotation,offsetX:K=this.offsetX,offsetY:Q=this.offsetY,dontFlip:te=!1}={}){return new ne({viewBox:this.viewBox.slice(),scale:C,rotation:V,offsetX:K,offsetY:Q,dontFlip:te})}convertToViewportPoint(C,V){return W.Util.applyTransform([C,V],this.transform)}convertToViewportRectangle(C){const V=W.Util.applyTransform([C[0],C[1]],this.transform),K=W.Util.applyTransform([C[2],C[3]],this.transform);return[V[0],V[1],K[0],K[1]]}convertToPdfPoint(C,V){return W.Util.applyInverseTransform([C,V],this.transform)}}function k(P){const C=P.length;let V=0;for(;V<C&&""===P[V].trim();)V++;return"data:"===P.substring(V,V+5).toLowerCase()}function g(P,C){try{const{protocol:V}=C?new URL(P,C):new URL(P);return"http:"===V||"https:"===V}catch{return!1}}let U;_.PageViewport=ne,_.RenderingCancelledException=class M extends W.BaseException{constructor(C,V){super(C,"RenderingCancelledException"),this.type=V}},_.StatTimer=class N{constructor(){this.started=Object.create(null),this.times=[]}time(C){C in this.started&&(0,W.warn)(`Timer is already running for ${C}`),this.started[C]=Date.now()}timeEnd(C){C in this.started||(0,W.warn)(`Timer has not been started for ${C}`),this.times.push({name:C,start:this.started[C],end:Date.now()}),delete this.started[C]}toString(){const C=[];let V=0;for(const K of this.times){const Q=K.name;Q.length>V&&(V=Q.length)}for(const K of this.times){const Q=K.end-K.start;C.push(`${K.name.padEnd(V)} ${Q}ms\n`)}return C.join("")}},_.PDFDateString=class S{static toDateObject(C){if(!C||"string"!=typeof C)return null;U||(U=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const V=U.exec(C);if(!V)return null;const K=parseInt(V[1],10);let Q=parseInt(V[2],10);Q=Q>=1&&Q<=12?Q-1:0;let te=parseInt(V[3],10);te=te>=1&&te<=31?te:1;let ce=parseInt(V[4],10);ce=ce>=0&&ce<=23?ce:0;let ge=parseInt(V[5],10);ge=ge>=0&&ge<=59?ge:0;let R=parseInt(V[6],10);R=R>=0&&R<=59?R:0;const w=V[7]||"Z";let m=parseInt(V[8],10);m=m>=0&&m<=23?m:0;let T=parseInt(V[9],10)||0;return T=T>=0&&T<=59?T:0,"-"===w?(ce+=m,ge+=T):"+"===w&&(ce-=m,ge-=T),new Date(Date.UTC(K,Q,te,ce,ge,R))}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BaseStandardFontDataFactory=_.BaseSVGFactory=_.BaseCanvasFactory=_.BaseCMapReaderFactory=void 0;var p=q(1);class Z{constructor(){this.constructor===Z&&(0,p.unreachable)("Cannot initialize BaseCanvasFactory.")}create(j,ee){if(j<=0||ee<=0)throw new Error("Invalid canvas size");const ie=this._createCanvas(j,ee);return{canvas:ie,context:ie.getContext("2d")}}reset(j,ee,ie){if(!j.canvas)throw new Error("Canvas is not specified");if(ee<=0||ie<=0)throw new Error("Invalid canvas size");j.canvas.width=ee,j.canvas.height=ie}destroy(j){if(!j.canvas)throw new Error("Canvas is not specified");j.canvas.width=0,j.canvas.height=0,j.canvas=null,j.context=null}_createCanvas(j,ee){(0,p.unreachable)("Abstract method `_createCanvas` called.")}}_.BaseCanvasFactory=Z;class W{constructor({baseUrl:j=null,isCompressed:ee=!1}){this.constructor===W&&(0,p.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=j,this.isCompressed=ee}fetch({name:j}){var ee=this;return _asyncToGenerator(function*(){if(!ee.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!j)throw new Error("CMap name must be specified.");const ie=ee.baseUrl+j+(ee.isCompressed?".bcmap":"");return ee._fetchData(ie,ee.isCompressed?p.CMapCompressionType.BINARY:p.CMapCompressionType.NONE).catch(Y=>{throw new Error(`Unable to load ${ee.isCompressed?"binary ":""}CMap at: ${ie}`)})})()}_fetchData(j,ee){(0,p.unreachable)("Abstract method `_fetchData` called.")}}_.BaseCMapReaderFactory=W;class pe{constructor({baseUrl:j=null}){this.constructor===pe&&(0,p.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=j}fetch({filename:j}){var ee=this;return _asyncToGenerator(function*(){if(!ee.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!j)throw new Error("Font filename must be specified.");const ie=`${ee.baseUrl}${j}`;return ee._fetchData(ie).catch(re=>{throw new Error(`Unable to load font data at: ${ie}`)})})()}_fetchData(j){(0,p.unreachable)("Abstract method `_fetchData` called.")}}_.BaseStandardFontDataFactory=pe;class J{constructor(){this.constructor===J&&(0,p.unreachable)("Cannot initialize BaseSVGFactory.")}create(j,ee){if(j<=0||ee<=0)throw new Error("Invalid SVG dimensions");const ie=this._createSVG("svg:svg");return ie.setAttribute("version","1.1"),ie.setAttribute("width",`${j}px`),ie.setAttribute("height",`${ee}px`),ie.setAttribute("preserveAspectRatio","none"),ie.setAttribute("viewBox",`0 0 ${j} ${ee}`),ie}createElement(j){if("string"!=typeof j)throw new Error("Invalid SVG element type");return this._createSVG(j)}_createSVG(j){(0,p.unreachable)("Abstract method `_createSVG` called.")}}_.BaseSVGFactory=J},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.FontLoader=_.FontFaceObject=void 0;var p=q(1);class Z{constructor({docId:z,onUnsupportedFeature:j,ownerDocument:ee=globalThis.document,styleElement:ie=null}){this.constructor===Z&&(0,p.unreachable)("Cannot initialize BaseFontLoader."),this.docId=z,this._onUnsupportedFeature=j,this._document=ee,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(z){this.nativeFontFaces.push(z),this._document.fonts.add(z)}insertRule(z){let j=this.styleElement;j||(j=this.styleElement=this._document.createElement("style"),j.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(j));const ee=j.sheet;ee.insertRule(z,ee.cssRules.length)}clear(){for(const z of this.nativeFontFaces)this._document.fonts.delete(z);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(z){var j=this;return _asyncToGenerator(function*(){if(z.attached||z.missingFile)return;if(z.attached=!0,j.isFontLoadingAPISupported){const ie=z.createNativeFontFace();if(ie){j.addNativeFontFace(ie);try{yield ie.loaded}catch(re){throw j._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,p.warn)(`Failed to load font '${ie.family}': '${re}'.`),z.disableFontFace=!0,re}}return}const ee=z.createFontFaceRule();if(ee){if(j.insertRule(ee),j.isSyncFontLoadingSupported)return;yield new Promise(ie=>{const re=j._queueLoadingCallback(ie);j._prepareFontLoadEvent([ee],[z],re)})}})()}_queueLoadingCallback(z){(0,p.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,p.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,p.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,p.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(z,j,ee){(0,p.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let W;_.FontLoader=W,_.FontLoader=W=class extends Z{constructor(z){super(z),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let z=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(z=!0),(0,p.shadow)(this,"isSyncFontLoadingSupported",z)}_queueLoadingCallback(z){const ee=this.loadingContext,ie={id:"pdfjs-font-loading-"+ee.nextRequestId++,done:!1,complete:function j(){for((0,p.assert)(!ie.done,"completeRequest() cannot be called twice."),ie.done=!0;ee.requests.length>0&&ee.requests[0].done;){const re=ee.requests.shift();setTimeout(re.callback,0)}},callback:z};return ee.requests.push(ie),ie}get _loadTestFont(){return(0,p.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(z,j,ee){function ie(V,K){return V.charCodeAt(K)<<24|V.charCodeAt(K+1)<<16|V.charCodeAt(K+2)<<8|255&V.charCodeAt(K+3)}function re(V,K,Q,te){return V.substring(0,K)+te+V.substring(K+Q)}let Y,ne;const M=this._document.createElement("canvas");M.width=1,M.height=1;const k=M.getContext("2d");let H=0;const O=`lt${Date.now()}${this.loadTestFontId++}`;let N=this._loadTestFont;N=re(N,976,O.length,O);const I=1482184792;let U=ie(N,16);for(Y=0,ne=O.length-3;Y<ne;Y+=4)U=U-I+ie(O,Y)|0;Y<O.length&&(U=U-I+ie(O+"XXX",Y)|0),N=re(N,16,4,(0,p.string32)(U));const S=`url(data:font/opentype;base64,${btoa(N)});`;this.insertRule(`@font-face {font-family:"${O}";src:${S}}`);const P=[];for(const V of j)P.push(V.loadedName);P.push(O);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const V of P){const K=this._document.createElement("span");K.textContent="Hi",K.style.fontFamily=V,C.appendChild(K)}this._document.body.appendChild(C),function G(V,K){if(H++,H>30)return(0,p.warn)("Load test font never loaded."),void K();k.font="30px "+V,k.fillText(".",0,20),k.getImageData(0,0,1,1).data[3]>0?K():setTimeout(G.bind(null,V,K))}(O,()=>{C.remove(),ee.complete()})}},_.FontFaceObject=class pe{constructor(z,{isEvalSupported:j=!0,disableFontFace:ee=!1,ignoreErrors:ie=!1,onUnsupportedFeature:re,fontRegistry:Y=null}){this.compiledGlyphs=Object.create(null);for(const ne in z)this[ne]=z[ne];this.isEvalSupported=!1!==j,this.disableFontFace=!0===ee,this.ignoreErrors=!0===ie,this._onUnsupportedFeature=re,this.fontRegistry=Y}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let z;if(this.cssFontInfo){const j={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(j.style=`oblique ${this.cssFontInfo.italicAngle}deg`),z=new FontFace(this.cssFontInfo.fontFamily,this.data,j)}else z=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),z}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const z=(0,p.bytesToString)(this.data),j=`url(data:${this.mimetype};base64,${btoa(z)});`;let ee;if(this.cssFontInfo){let ie=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ie+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ee=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ie}src:${j}}`}else ee=`@font-face {font-family:"${this.loadedName}";src:${j}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,j),ee}getPathGenerator(z,j){if(void 0!==this.compiledGlyphs[j])return this.compiledGlyphs[j];let ee;try{ee=z.get(this.loadedName+"_path_"+j)}catch(ie){if(!this.ignoreErrors)throw ie;return this._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,p.warn)(`getPathGenerator - ignoring character: "${ie}".`),this.compiledGlyphs[j]=function(re,Y){}}if(this.isEvalSupported&&p.IsEvalSupportedCached.value){const ie=[];for(const re of ee){const Y=void 0!==re.args?re.args.join(","):"";ie.push("c.",re.cmd,"(",Y,");\n")}return this.compiledGlyphs[j]=new Function("c","size",ie.join(""))}return this.compiledGlyphs[j]=function(ie,re){for(const Y of ee)"scale"===Y.cmd&&(Y.args=[re,-re]),ie[Y.cmd].apply(ie,Y.args)}}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NodeStandardFontDataFactory=_.NodeCanvasFactory=_.NodeCMapReaderFactory=void 0;var p=q(6),Z=q(3),W=q(1);let pe=class{constructor(){(0,W.unreachable)("Not implemented: NodeCanvasFactory")}};_.NodeCanvasFactory=pe;let J=class{constructor(){(0,W.unreachable)("Not implemented: NodeCMapReaderFactory")}};_.NodeCMapReaderFactory=J;let z=class{constructor(){(0,W.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(_.NodeStandardFontDataFactory=z,Z.isNodeJS){const j=function(ee){return new Promise((ie,re)=>{__webpack_require__(172).readFile(ee,(ne,M)=>{!ne&&M?ie(new Uint8Array(M)):re(new Error(ne))})})};_.NodeCanvasFactory=pe=class extends p.BaseCanvasFactory{_createCanvas(ee,ie){return __webpack_require__(414).createCanvas(ee,ie)}},_.NodeCMapReaderFactory=J=class extends p.BaseCMapReaderFactory{_fetchData(ee,ie){return j(ee).then(re=>({cMapData:re,compressionType:ie}))}},_.NodeStandardFontDataFactory=z=class extends p.BaseStandardFontDataFactory{_fetchData(ee){return j(ee)}}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationStorage=void 0;var p=q(1);_.AnnotationStorage=class Z{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(pe,J){const z=this._storage.get(pe);return void 0===z?J:Object.assign(J,z)}setValue(pe,J){const z=this._storage.get(pe);let j=!1;if(void 0!==z)for(const[ee,ie]of Object.entries(J))z[ee]!==ie&&(j=!0,z[ee]=ie);else j=!0,this._storage.set(pe,J);j&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,p.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CanvasGraphics=void 0;var p=q(1),Z=q(11),W=q(5);const z=4096,Y=16,ne=1.000001;function k(R){if(R._transformStack&&(R._transformStack=[]),!R.mozCurrentTransform){R._originalSave=R.save,R._originalRestore=R.restore,R._originalRotate=R.rotate,R._originalScale=R.scale,R._originalTranslate=R.translate,R._originalTransform=R.transform,R._originalSetTransform=R.setTransform,R._originalResetTransform=R.resetTransform,R._transformMatrix=R._transformMatrix||[1,0,0,1,0,0],R._transformStack=[];try{const w=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(R),"lineWidth");R._setLineWidth=w.set,R._getLineWidth=w.get,Object.defineProperty(R,"lineWidth",{set:function(T){this._setLineWidth(T*ne)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(R,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(R,"mozCurrentTransformInverse",{get:function(){const[m,T,b,d,y,A]=this._transformMatrix,L=m*d-T*b,x=T*b-m*d;return[d/L,T/x,b/x,m/L,(d*y-b*A)/x,(T*y-m*A)/L]}}),R.save=function(){const m=this._transformMatrix;this._transformStack.push(m),this._transformMatrix=m.slice(0,6),this._originalSave()},R.restore=function(){0===this._transformStack.length&&(0,p.warn)("Tried to restore a ctx when the stack was already empty.");const m=this._transformStack.pop();m&&(this._transformMatrix=m,this._originalRestore())},R.translate=function(m,T){const b=this._transformMatrix;b[4]=b[0]*m+b[2]*T+b[4],b[5]=b[1]*m+b[3]*T+b[5],this._originalTranslate(m,T)},R.scale=function(m,T){const b=this._transformMatrix;b[0]*=m,b[1]*=m,b[2]*=T,b[3]*=T,this._originalScale(m,T)},R.transform=function(m,T,b,d,y,A){const L=this._transformMatrix;this._transformMatrix=[L[0]*m+L[2]*T,L[1]*m+L[3]*T,L[0]*b+L[2]*d,L[1]*b+L[3]*d,L[0]*y+L[2]*A+L[4],L[1]*y+L[3]*A+L[5]],R._originalTransform(m,T,b,d,y,A)},R.setTransform=function(m,T,b,d,y,A){this._transformMatrix=[m,T,b,d,y,A],R._originalSetTransform(m,T,b,d,y,A)},R.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],R._originalResetTransform()},R.rotate=function(m){const T=Math.cos(m),b=Math.sin(m),d=this._transformMatrix;this._transformMatrix=[d[0]*T+d[2]*b,d[1]*T+d[3]*b,d[0]*-b+d[2]*T,d[1]*-b+d[3]*T,d[4],d[5]],this._originalRotate(m)}}}class H{constructor(w){this.canvasFactory=w,this.cache=Object.create(null)}getCanvas(w,m,T,b){let d;return void 0!==this.cache[w]?(d=this.cache[w],this.canvasFactory.reset(d,m,T),d.context.setTransform(1,0,0,1,0,0)):(d=this.canvasFactory.create(m,T),this.cache[w]=d),b&&k(d.context),d}clear(){for(const w in this.cache)this.canvasFactory.destroy(this.cache[w]),delete this.cache[w]}}class O{constructor(w,m){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=p.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=p.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,w,m])}clone(){const w=Object.create(this);return w.clipBox=this.clipBox.slice(),w}setCurrentPoint(w,m){this.x=w,this.y=m}updatePathMinMax(w,m,T){[m,T]=p.Util.applyTransform([m,T],w),this.minX=Math.min(this.minX,m),this.minY=Math.min(this.minY,T),this.maxX=Math.max(this.maxX,m),this.maxY=Math.max(this.maxY,T)}updateCurvePathMinMax(w,m,T,b,d,y,A,L,x){const E=p.Util.bezierBoundingBox(m,T,b,d,y,A,L,x);this.updatePathMinMax(w,E[0],E[1]),this.updatePathMinMax(w,E[2],E[3])}getPathBoundingBox(w=Z.PathType.FILL,m=null){const T=[this.minX,this.minY,this.maxX,this.maxY];if(w===Z.PathType.STROKE){m||(0,p.unreachable)("Stroke bounding box must include transform.");const b=p.Util.singularValueDecompose2dScale(m),d=b[0]*this.lineWidth/2,y=b[1]*this.lineWidth/2;T[0]-=d,T[1]-=y,T[2]+=d,T[3]+=y}return T}updateClipFromPath(){const w=p.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(w||[0,0,0,0])}startNewPathAndClipBox(w){this.clipBox=w,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(w=Z.PathType.FILL,m=null){return p.Util.intersect(this.clipBox,this.getPathBoundingBox(w,m))}}function N(R,w,m=null){if(typeof ImageData<"u"&&w instanceof ImageData)return void R.putImageData(w,0,0);const T=w.height,b=w.width,d=T%Y,y=(T-d)/Y,A=0===d?y:y+1,L=R.createImageData(b,Y);let E,x=0;const X=w.data,de=L.data;let ue,fe,Ie,Fe,je,$e,Ne,Pt;if(m)switch(m.length){case 1:je=m[0],$e=m[0],Ne=m[0],Pt=m[0];break;case 4:je=m[0],$e=m[1],Ne=m[2],Pt=m[3]}if(w.kind===p.ImageKind.GRAYSCALE_1BPP){const kt=X.byteLength,Qe=new Uint32Array(de.buffer,0,de.byteLength>>2),st=Qe.length,an=b+7>>3;let ve=4294967295,F=p.IsLittleEndianCached.value?4278190080:255;for(Pt&&255===Pt[0]&&0===Pt[255]&&([ve,F]=[F,ve]),ue=0;ue<A;ue++){for(Ie=ue<y?Y:d,E=0,fe=0;fe<Ie;fe++){const le=kt-x;let _e=0;const Me=le>an?b:8*le-7,De=-8&Me;let Ue=0,Le=0;for(;_e<De;_e+=8)Le=X[x++],Qe[E++]=128&Le?ve:F,Qe[E++]=64&Le?ve:F,Qe[E++]=32&Le?ve:F,Qe[E++]=16&Le?ve:F,Qe[E++]=8&Le?ve:F,Qe[E++]=4&Le?ve:F,Qe[E++]=2&Le?ve:F,Qe[E++]=1&Le?ve:F;for(;_e<Me;_e++)0===Ue&&(Le=X[x++],Ue=128),Qe[E++]=Le&Ue?ve:F,Ue>>=1}for(;E<st;)Qe[E++]=0;R.putImageData(L,0,ue*Y)}}else if(w.kind===p.ImageKind.RGBA_32BPP){const kt=!!(je||$e||Ne);for(fe=0,Fe=b*Y*4,ue=0;ue<y;ue++){if(de.set(X.subarray(x,x+Fe)),x+=Fe,kt)for(let Qe=0;Qe<Fe;Qe+=4)je&&(de[Qe+0]=je[de[Qe+0]]),$e&&(de[Qe+1]=$e[de[Qe+1]]),Ne&&(de[Qe+2]=Ne[de[Qe+2]]);R.putImageData(L,0,fe),fe+=Y}if(ue<A){if(Fe=b*d*4,de.set(X.subarray(x,x+Fe)),kt)for(let Qe=0;Qe<Fe;Qe+=4)je&&(de[Qe+0]=je[de[Qe+0]]),$e&&(de[Qe+1]=$e[de[Qe+1]]),Ne&&(de[Qe+2]=Ne[de[Qe+2]]);R.putImageData(L,0,fe)}}else{if(w.kind!==p.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${w.kind}`);{const kt=!!(je||$e||Ne);for(Ie=Y,Fe=b*Ie,ue=0;ue<A;ue++){for(ue>=y&&(Ie=d,Fe=b*Ie),E=0,fe=Fe;fe--;)de[E++]=X[x++],de[E++]=X[x++],de[E++]=X[x++],de[E++]=255;if(kt)for(let Qe=0;Qe<E;Qe+=4)je&&(de[Qe+0]=je[de[Qe+0]]),$e&&(de[Qe+1]=$e[de[Qe+1]]),Ne&&(de[Qe+2]=Ne[de[Qe+2]]);R.putImageData(L,0,ue*Y)}}}}function g(R,w){const m=w.height,T=w.width,b=m%Y,d=(m-b)/Y,y=0===b?d:d+1,A=R.createImageData(T,Y);let L=0;const x=w.data,E=A.data;for(let X=0;X<y;X++){const de=X<d?Y:b;let ue=3;for(let fe=0;fe<de;fe++){let Ie,Fe=0;for(let je=0;je<T;je++)Fe||(Ie=x[L++],Fe=128),E[ue]=Ie&Fe?0:255,ue+=4,Fe>>=1}R.putImageData(A,0,X*Y)}}function f(R,w){const m=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let T=0,b=m.length;T<b;T++){const d=m[T];void 0!==R[d]&&(w[d]=R[d])}void 0!==R.setLineDash&&(w.setLineDash(R.getLineDash()),w.lineDashOffset=R.lineDashOffset)}function I(R){R.strokeStyle="#000000",R.fillStyle="#000000",R.fillRule="nonzero",R.globalAlpha=1,R.lineWidth=1,R.lineCap="butt",R.lineJoin="miter",R.miterLimit=10,R.globalCompositeOperation="source-over",R.font="10px sans-serif",void 0!==R.setLineDash&&(R.setLineDash([]),R.lineDashOffset=0)}function U(R,w,m,T){const b=R.length;for(let d=3;d<b;d+=4){const y=R[d];if(0===y)R[d-3]=w,R[d-2]=m,R[d-1]=T;else if(y<255){const A=255-y;R[d-3]=R[d-3]*y+w*A>>8,R[d-2]=R[d-2]*y+m*A>>8,R[d-1]=R[d-1]*y+T*A>>8}}}function S(R,w,m){const T=R.length;for(let d=3;d<T;d+=4)w[d]=w[d]*(m?m[R[d]]:R[d])*.00392156862745098|0}function B(R,w,m){const T=R.length;for(let b=3;b<T;b+=4){const d=77*R[b-3]+152*R[b-2]+28*R[b-1];w[b]=m?w[b]*m[d>>8]>>8:w[b]*d>>16}}function V(R,w){const m=p.Util.singularValueDecompose2dScale(R);m[0]=Math.fround(m[0]),m[1]=Math.fround(m[1]);const T=Math.fround((globalThis.devicePixelRatio||1)*W.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==w?w:m[0]<=T||m[1]<=T}const K=["butt","round","square"],Q=["miter","round","bevel"],te={},ce={};class ge{constructor(w,m,T,b,d,y,A){this.ctx=w,this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=m,this.objs=T,this.canvasFactory=b,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=y,this.cachedCanvases=new H(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=A,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,w&&k(w),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:w,viewport:m,transparency:T=!1,background:b=null}){const d=this.ctx.canvas.width,y=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=b||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,d,y),this.ctx.restore(),T){const A=this.cachedCanvases.getCanvas("transparent",d,y,!0);this.compositeCtx=this.ctx,this.transparentCanvas=A.canvas,this.ctx=A.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),I(this.ctx),w&&(this.ctx.transform.apply(this.ctx,w),this.outputScaleX=w[0],this.outputScaleY=w[0]),this.ctx.transform.apply(this.ctx,m.transform),this.viewportScale=m.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(w,m,T,b){const d=w.argsArray,y=w.fnArray;let A=m||0;const L=d.length;if(L===A)return A;const x=L-A>10&&"function"==typeof T,E=x?Date.now()+15:0;let X=0;const de=this.commonObjs,ue=this.objs;let fe;for(;;){if(void 0!==b&&A===b.nextBreakPoint)return b.breakIt(A,T),A;if(fe=y[A],fe!==p.OPS.dependency)this[fe].apply(this,d[A]);else for(const Ie of d[A]){const Fe=Ie.startsWith("g_")?de:ue;if(!Fe.has(Ie))return Fe.get(Ie,T),A}if(A++,A===L)return A;if(x&&++X>10){if(Date.now()>E)return T(),A;X=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(w,m){const T=w.width,b=w.height;let E,X,d=Math.max(Math.hypot(m[0],m[1]),1),y=Math.max(Math.hypot(m[2],m[3]),1),A=T,L=b,x="prescale1";for(;d>2&&A>1||y>2&&L>1;){let de=A,ue=L;d>2&&A>1&&(de=Math.ceil(A/2),d/=A/de),y>2&&L>1&&(ue=Math.ceil(L/2),y/=L/ue),E=this.cachedCanvases.getCanvas(x,de,ue),X=E.context,X.clearRect(0,0,de,ue),X.drawImage(w,0,0,A,L,0,0,de,ue),w=E.canvas,A=de,L=ue,x="prescale1"===x?"prescale2":"prescale1"}return{img:w,paintWidth:A,paintHeight:L}}_createMaskCanvas(w){const m=this.ctx,T=w.width,b=w.height,d=this.current.fillColor,y=this.current.patternFill,A=this.cachedCanvases.getCanvas("maskCanvas",T,b);g(A.context,w);let E=p.Util.transform(m.mozCurrentTransform,[1/T,0,0,-1/b,0,0]);E=p.Util.transform(E,[1,0,0,1,0,-b]);const X=p.Util.applyTransform([0,0],E),de=p.Util.applyTransform([T,b],E),ue=p.Util.normalizeRect([X[0],X[1],de[0],de[1]]),fe=Math.ceil(ue[2]-ue[0]),Ie=Math.ceil(ue[3]-ue[1]),Fe=this.cachedCanvases.getCanvas("fillCanvas",fe,Ie,!0),je=Fe.context,$e=Math.min(X[0],de[0]),Ne=Math.min(X[1],de[1]);je.translate(-$e,-Ne),je.transform.apply(je,E);const Pt=this._scaleImage(A.canvas,je.mozCurrentTransformInverse);je.imageSmoothingEnabled=V(je.mozCurrentTransform,w.interpolate),je.drawImage(Pt.img,0,0,Pt.img.width,Pt.img.height,0,0,T,b),je.globalCompositeOperation="source-in";const kt=p.Util.transform(je.mozCurrentTransformInverse,[1,0,0,1,-$e,-Ne]);return je.fillStyle=y?d.getPattern(m,this,kt,Z.PathType.FILL):d,je.fillRect(0,0,T,b),{canvas:Fe.canvas,offsetX:Math.round($e),offsetY:Math.round(Ne)}}setLineWidth(w){this.current.lineWidth=w,this.ctx.lineWidth=w}setLineCap(w){this.ctx.lineCap=K[w]}setLineJoin(w){this.ctx.lineJoin=Q[w]}setMiterLimit(w){this.ctx.miterLimit=w}setDash(w,m){const T=this.ctx;void 0!==T.setLineDash&&(T.setLineDash(w),T.lineDashOffset=m)}setRenderingIntent(w){}setFlatness(w){}setGState(w){for(let m=0,T=w.length;m<T;m++){const b=w[m],y=b[1];switch(b[0]){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y[0],y[1]);break;case"CA":this.current.strokeAlpha=b[1];break;case"ca":this.current.fillAlpha=b[1],this.ctx.globalAlpha=b[1];break;case"BM":this.ctx.globalCompositeOperation=y;break;case"SMask":this.current.activeSMask=y?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=y}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const w=this.inSMaskMode;this.current.activeSMask&&!w?this.beginSMaskMode():!this.current.activeSMask&&w&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const b=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=b.context;const d=this.ctx;d.setTransform.apply(d,this.suspendedCtx.mozCurrentTransform),f(this.suspendedCtx,d),function M(R,w){if(R._removeMirroring)throw new Error("Context is already forwarding operations.");R.__originalSave=R.save,R.__originalRestore=R.restore,R.__originalRotate=R.rotate,R.__originalScale=R.scale,R.__originalTranslate=R.translate,R.__originalTransform=R.transform,R.__originalSetTransform=R.setTransform,R.__originalResetTransform=R.resetTransform,R.__originalClip=R.clip,R.__originalMoveTo=R.moveTo,R.__originalLineTo=R.lineTo,R.__originalBezierCurveTo=R.bezierCurveTo,R.__originalRect=R.rect,R.__originalClosePath=R.closePath,R.__originalBeginPath=R.beginPath,R._removeMirroring=()=>{R.save=R.__originalSave,R.restore=R.__originalRestore,R.rotate=R.__originalRotate,R.scale=R.__originalScale,R.translate=R.__originalTranslate,R.transform=R.__originalTransform,R.setTransform=R.__originalSetTransform,R.resetTransform=R.__originalResetTransform,R.clip=R.__originalClip,R.moveTo=R.__originalMoveTo,R.lineTo=R.__originalLineTo,R.bezierCurveTo=R.__originalBezierCurveTo,R.rect=R.__originalRect,R.closePath=R.__originalClosePath,R.beginPath=R.__originalBeginPath,delete R._removeMirroring},R.save=function(){w.save(),this.__originalSave()},R.restore=function(){w.restore(),this.__originalRestore()},R.translate=function(T,b){w.translate(T,b),this.__originalTranslate(T,b)},R.scale=function(T,b){w.scale(T,b),this.__originalScale(T,b)},R.transform=function(T,b,d,y,A,L){w.transform(T,b,d,y,A,L),this.__originalTransform(T,b,d,y,A,L)},R.setTransform=function(T,b,d,y,A,L){w.setTransform(T,b,d,y,A,L),this.__originalSetTransform(T,b,d,y,A,L)},R.resetTransform=function(){w.resetTransform(),this.__originalResetTransform()},R.rotate=function(T){w.rotate(T),this.__originalRotate(T)},R.clip=function(T){w.clip(T),this.__originalClip(T)},R.moveTo=function(m,T){w.moveTo(m,T),this.__originalMoveTo(m,T)},R.lineTo=function(m,T){w.lineTo(m,T),this.__originalLineTo(m,T)},R.bezierCurveTo=function(m,T,b,d,y,A){w.bezierCurveTo(m,T,b,d,y,A),this.__originalBezierCurveTo(m,T,b,d,y,A)},R.rect=function(m,T,b,d){w.rect(m,T,b,d),this.__originalRect(m,T,b,d)},R.closePath=function(){w.closePath(),this.__originalClosePath()},R.beginPath=function(){w.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),f(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(w){this.current.activeSMask&&(w?(w[0]=Math.floor(w[0]),w[1]=Math.floor(w[1]),w[2]=Math.ceil(w[2]),w[3]=Math.ceil(w[3])):w=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function C(R,w,m,T){const b=T[0],d=T[1],y=T[2]-b,A=T[3]-d;0===y||0===A||(function P(R,w,m,T,b,d,y,A,L,x,E){const X=!!d,de=X?d[0]:0,ue=X?d[1]:0,fe=X?d[2]:0;let Ie;Ie="Luminosity"===b?B:S;const je=Math.min(T,Math.ceil(1048576/m));for(let $e=0;$e<T;$e+=je){const Ne=Math.min(je,T-$e),Pt=R.getImageData(A-x,$e+(L-E),m,Ne),kt=w.getImageData(A,$e+L,m,Ne);X&&U(Pt.data,de,ue,fe),Ie(Pt.data,kt.data,y),w.putImageData(kt,A,$e+L)}}(w.context,m,y,A,w.subtype,w.backdrop,w.transferMap,b,d,w.offsetX,w.offsetY),R.save(),R.globalAlpha=1,R.globalCompositeOperation="source-over",R.setTransform(1,0,0,1,0,0),R.drawImage(m.canvas,0,0),R.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,w),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(f(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const w=this.current;this.stateStack.push(w),this.current=w.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),f(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(w,m,T,b,d,y){this.ctx.transform(w,m,T,b,d,y),this._cachedGetSinglePixelWidth=null}constructPath(w,m){const T=this.ctx,b=this.current;let A,L,d=b.x,y=b.y;for(let x=0,E=0,X=w.length;x<X;x++)switch(0|w[x]){case p.OPS.rectangle:d=m[E++],y=m[E++];const de=m[E++],ue=m[E++],fe=d+de,Ie=y+ue;T.moveTo(d,y),0===de||0===ue?T.lineTo(fe,Ie):(T.lineTo(fe,y),T.lineTo(fe,Ie),T.lineTo(d,Ie)),b.updatePathMinMax(T.mozCurrentTransform,d,y),b.updatePathMinMax(T.mozCurrentTransform,fe,Ie),T.closePath();break;case p.OPS.moveTo:d=m[E++],y=m[E++],T.moveTo(d,y),b.updatePathMinMax(T.mozCurrentTransform,d,y);break;case p.OPS.lineTo:d=m[E++],y=m[E++],T.lineTo(d,y),b.updatePathMinMax(T.mozCurrentTransform,d,y);break;case p.OPS.curveTo:A=d,L=y,d=m[E+4],y=m[E+5],T.bezierCurveTo(m[E],m[E+1],m[E+2],m[E+3],d,y),b.updateCurvePathMinMax(T.mozCurrentTransform,A,L,m[E],m[E+1],m[E+2],m[E+3],d,y),E+=6;break;case p.OPS.curveTo2:A=d,L=y,T.bezierCurveTo(d,y,m[E],m[E+1],m[E+2],m[E+3]),b.updateCurvePathMinMax(T.mozCurrentTransform,A,L,d,y,m[E],m[E+1],m[E+2],m[E+3]),d=m[E+2],y=m[E+3],E+=4;break;case p.OPS.curveTo3:A=d,L=y,d=m[E+2],y=m[E+3],T.bezierCurveTo(m[E],m[E+1],d,y,d,y),b.updateCurvePathMinMax(T.mozCurrentTransform,A,L,m[E],m[E+1],d,y,d,y),E+=4;break;case p.OPS.closePath:T.closePath()}b.setCurrentPoint(d,y)}closePath(){this.ctx.closePath()}stroke(w){w=!(typeof w<"u")||w;const m=this.ctx,T=this.current.strokeColor;if(m.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof T&&T?.getPattern){const b=this.getSinglePixelWidth();m.save(),m.strokeStyle=T.getPattern(m,this,m.mozCurrentTransformInverse,Z.PathType.STROKE),m.lineWidth=Math.max(b,this.current.lineWidth),m.stroke(),m.restore()}else{const b=this.getSinglePixelWidth();b<0&&-b>=this.current.lineWidth?(m.save(),m.resetTransform(),m.lineWidth=Math.floor(this._combinedScaleFactor),m.stroke(),m.restore()):(m.lineWidth=Math.max(b,this.current.lineWidth),m.stroke())}w&&this.consumePath(this.current.getClippedPathBoundingBox()),m.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(w){w=!(typeof w<"u")||w;const m=this.ctx,T=this.current.fillColor;let d=!1;this.current.patternFill&&(m.save(),m.fillStyle=T.getPattern(m,this,m.mozCurrentTransformInverse,Z.PathType.FILL),d=!0);const y=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==y&&(this.pendingEOFill?(m.fill("evenodd"),this.pendingEOFill=!1):m.fill()),d&&m.restore(),w&&this.consumePath(y)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=te}eoClip(){this.pendingClip=ce}beginText(){this.current.textMatrix=p.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const w=this.pendingTextPaths,m=this.ctx;if(void 0!==w){m.save(),m.beginPath();for(let T=0;T<w.length;T++){const b=w[T];m.setTransform.apply(m,b.transform),m.translate(b.x,b.y),b.addToPath(m,b.fontSize)}m.restore(),m.clip(),m.beginPath(),delete this.pendingTextPaths}else m.beginPath()}setCharSpacing(w){this.current.charSpacing=w}setWordSpacing(w){this.current.wordSpacing=w}setHScale(w){this.current.textHScale=w/100}setLeading(w){this.current.leading=-w}setFont(w,m){const T=this.commonObjs.get(w),b=this.current;if(!T)throw new Error(`Can't find font for ${w}`);if(b.fontMatrix=T.fontMatrix||p.FONT_IDENTITY_MATRIX,(0===b.fontMatrix[0]||0===b.fontMatrix[3])&&(0,p.warn)("Invalid font matrix for font "+w),m<0?(m=-m,b.fontDirection=-1):b.fontDirection=1,this.current.font=T,this.current.fontSize=m,T.isType3Font)return;let y="normal";T.black?y="900":T.bold&&(y="bold");const A=T.italic?"italic":"normal",L=`"${T.loadedName||"sans-serif"}", ${T.fallbackName}`;let x=m;m<16?x=16:m>100&&(x=100),this.current.fontSizeScale=m/x,this.ctx.font=`${A} ${y} ${x}px ${L}`}setTextRenderingMode(w){this.current.textRenderingMode=w}setTextRise(w){this.current.textRise=w}moveText(w,m){this.current.x=this.current.lineX+=w,this.current.y=this.current.lineY+=m}setLeadingMoveText(w,m){this.setLeading(-m),this.moveText(w,m)}setTextMatrix(w,m,T,b,d,y){this.current.textMatrix=[w,m,T,b,d,y],this.current.textMatrixScale=Math.hypot(w,m),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(w,m,T,b,d){const y=this.ctx,A=this.current,L=A.font,x=A.textRenderingMode,E=A.fontSize/A.fontSizeScale,X=x&p.TextRenderingMode.FILL_STROKE_MASK,de=!!(x&p.TextRenderingMode.ADD_TO_PATH_FLAG),ue=A.patternFill&&!L.missingFile;let fe;(L.disableFontFace||de||ue)&&(fe=L.getPathGenerator(this.commonObjs,w)),L.disableFontFace||ue?(y.save(),y.translate(m,T),y.beginPath(),fe(y,E),b&&y.setTransform.apply(y,b),(X===p.TextRenderingMode.FILL||X===p.TextRenderingMode.FILL_STROKE)&&y.fill(),(X===p.TextRenderingMode.STROKE||X===p.TextRenderingMode.FILL_STROKE)&&(d&&(y.resetTransform(),y.lineWidth=Math.floor(this._combinedScaleFactor)),y.stroke()),y.restore()):((X===p.TextRenderingMode.FILL||X===p.TextRenderingMode.FILL_STROKE)&&y.fillText(w,m,T),(X===p.TextRenderingMode.STROKE||X===p.TextRenderingMode.FILL_STROKE)&&(d?(y.save(),y.moveTo(m,T),y.resetTransform(),y.lineWidth=Math.floor(this._combinedScaleFactor),y.strokeText(w,0,0),y.restore()):y.strokeText(w,m,T))),de&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:y.mozCurrentTransform,x:m,y:T,fontSize:E,addToPath:fe})}get isFontSubpixelAAEnabled(){const{context:w}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);w.scale(1.5,1),w.fillText("I",0,10);const m=w.getImageData(0,0,10,10).data;let T=!1;for(let b=3;b<m.length;b+=4)if(m[b]>0&&m[b]<255){T=!0;break}return(0,p.shadow)(this,"isFontSubpixelAAEnabled",T)}showText(w){const m=this.current,T=m.font;if(T.isType3Font)return this.showType3Text(w);const b=m.fontSize;if(0===b)return;const d=this.ctx,y=m.fontSizeScale,A=m.charSpacing,L=m.wordSpacing,x=m.fontDirection,E=m.textHScale*x,X=w.length,de=T.vertical,ue=de?1:-1,fe=T.defaultVMetrics,Ie=b*m.fontMatrix[0],Fe=m.textRenderingMode===p.TextRenderingMode.FILL&&!T.disableFontFace&&!m.patternFill;let je;if(d.save(),d.transform.apply(d,m.textMatrix),d.translate(m.x,m.y+m.textRise),d.scale(E,x>0?-1:1),m.patternFill){d.save();const st=m.fillColor.getPattern(d,this,d.mozCurrentTransformInverse,Z.PathType.FILL);je=d.mozCurrentTransform,d.restore(),d.fillStyle=st}let $e=m.lineWidth,Ne=!1;const Pt=m.textMatrixScale;if(0===Pt||0===$e){const st=m.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;(st===p.TextRenderingMode.STROKE||st===p.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,$e=this.getSinglePixelWidth(),Ne=$e<0)}else $e/=Pt;1!==y&&(d.scale(y,y),$e/=y),d.lineWidth=$e;let Qe,kt=0;for(Qe=0;Qe<X;++Qe){const st=w[Qe];if("number"==typeof st){kt+=ue*st*b/1e3;continue}let an=!1;const ve=(st.isSpace?L:0)+A,F=st.fontChar,le=st.accent;let _e,Me,Ue,De=st.width;if(de){const Le=st.vmetric||fe,ze=-(st.vmetric?Le[1]:.5*De)*Ie;De=Le?-Le[0]:De,_e=ze/y,Me=(kt+Le[2]*Ie)/y}else _e=kt/y,Me=0;if(T.remeasure&&De>0){const Le=1e3*d.measureText(F).width/b*y;if(De<Le&&this.isFontSubpixelAAEnabled){const ze=De/Le;an=!0,d.save(),d.scale(ze,1),_e/=ze}else De!==Le&&(_e+=(De-Le)/2e3*b/y)}this.contentVisible&&(st.isInFont||T.missingFile)&&(Fe&&!le?d.fillText(F,_e,Me):(this.paintChar(F,_e,Me,je,Ne),le&&this.paintChar(le.fontChar,_e+b*le.offset.x/y,Me-b*le.offset.y/y,je,Ne))),Ue=de?De*Ie-ve*x:De*Ie+ve*x,kt+=Ue,an&&d.restore()}de?m.y-=kt:m.x+=kt*E,d.restore(),this.compose()}showType3Text(w){const m=this.ctx,T=this.current,b=T.font,d=T.fontSize,y=T.fontDirection,A=b.vertical?1:-1,L=T.charSpacing,x=T.wordSpacing,E=T.textHScale*y,X=T.fontMatrix||p.FONT_IDENTITY_MATRIX,de=w.length;let fe,Ie,Fe,je;if(T.textRenderingMode!==p.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedGetSinglePixelWidth=null,m.save(),m.transform.apply(m,T.textMatrix),m.translate(T.x,T.y),m.scale(E,y),fe=0;fe<de;++fe){if(Ie=w[fe],"number"==typeof Ie){je=A*Ie*d/1e3,this.ctx.translate(je,0),T.x+=je*E;continue}const $e=(Ie.isSpace?x:0)+L,Ne=b.charProcOperatorList[Ie.operatorListId];Ne?(this.contentVisible&&(this.processingType3=Ie,this.save(),m.scale(d,d),m.transform.apply(m,X),this.executeOperatorList(Ne),this.restore()),Fe=p.Util.applyTransform([Ie.width,0],X)[0]*d+$e,m.translate(Fe,0),T.x+=Fe*E):(0,p.warn)(`Type3 character "${Ie.operatorListId}" is not available.`)}m.restore(),this.processingType3=null}}setCharWidth(w,m){}setCharWidthAndBounds(w,m,T,b,d,y){this.ctx.rect(T,b,d-T,y-b),this.clip(),this.endPath()}getColorN_Pattern(w){let m;if("TilingPattern"===w[0]){const T=w[1],b=this.baseTransform||this.ctx.mozCurrentTransform.slice();m=new Z.TilingPattern(w,T,this.ctx,{createCanvasGraphics:y=>new ge(y,this.commonObjs,this.objs,this.canvasFactory)},b)}else m=this._getPattern(w[1],w[2]);return m}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(w,m,T){const b=p.Util.makeHexColor(w,m,T);this.ctx.strokeStyle=b,this.current.strokeColor=b}setFillRGBColor(w,m,T){const b=p.Util.makeHexColor(w,m,T);this.ctx.fillStyle=b,this.current.fillColor=b,this.current.patternFill=!1}_getPattern(w,m=null){let T;return this.cachedPatterns.has(w)?T=this.cachedPatterns.get(w):(T=(0,Z.getShadingPattern)(this.objs.get(w)),this.cachedPatterns.set(w,T)),m&&(T.matrix=m),T}shadingFill(w){if(!this.contentVisible)return;const m=this.ctx;this.save();const T=this._getPattern(w);m.fillStyle=T.getPattern(m,this,m.mozCurrentTransformInverse,Z.PathType.SHADING);const b=m.mozCurrentTransformInverse;if(b){const d=m.canvas,y=d.width,A=d.height,L=p.Util.applyTransform([0,0],b),x=p.Util.applyTransform([0,A],b),E=p.Util.applyTransform([y,0],b),X=p.Util.applyTransform([y,A],b),de=Math.min(L[0],x[0],E[0],X[0]),ue=Math.min(L[1],x[1],E[1],X[1]),fe=Math.max(L[0],x[0],E[0],X[0]),Ie=Math.max(L[1],x[1],E[1],X[1]);this.ctx.fillRect(de,ue,fe-de,Ie-ue)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,p.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,p.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(w,m){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(w)&&6===w.length&&this.transform.apply(this,w),this.baseTransform=this.ctx.mozCurrentTransform,m)&&(this.ctx.rect(m[0],m[1],m[2]-m[0],m[3]-m[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,m[0],m[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,m[2],m[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(w){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const m=this.ctx;w.isolated||(0,p.info)("TODO: Support non-isolated groups."),w.knockout&&(0,p.warn)("Knockout groups not supported.");const T=m.mozCurrentTransform;if(w.matrix&&m.transform.apply(m,w.matrix),!w.bbox)throw new Error("Bounding box is required.");let b=p.Util.getAxialAlignedBoundingBox(w.bbox,m.mozCurrentTransform);b=p.Util.intersect(b,[0,0,m.canvas.width,m.canvas.height])||[0,0,0,0];const y=Math.floor(b[0]),A=Math.floor(b[1]);let L=Math.max(Math.ceil(b[2])-y,1),x=Math.max(Math.ceil(b[3])-A,1),E=1,X=1;L>z&&(E=L/z,L=z),x>z&&(X=x/z,x=z),this.current.startNewPathAndClipBox([0,0,L,x]);let de="groupAt"+this.groupLevel;w.smask&&(de+="_smask_"+this.smaskCounter++%2);const ue=this.cachedCanvases.getCanvas(de,L,x,!0),fe=ue.context;fe.scale(1/E,1/X),fe.translate(-y,-A),fe.transform.apply(fe,T),w.smask?this.smaskStack.push({canvas:ue.canvas,context:fe,offsetX:y,offsetY:A,scaleX:E,scaleY:X,subtype:w.smask.subtype,backdrop:w.smask.backdrop,transferMap:w.smask.transferMap||null,startTransformInverse:null}):(m.setTransform(1,0,0,1,0,0),m.translate(y,A),m.scale(E,X),m.save()),f(m,fe),this.ctx=fe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(m),this.groupLevel++}endGroup(w){if(!this.contentVisible)return;this.groupLevel--;const m=this.ctx,T=this.groupStack.pop();if(this.ctx=T,this.ctx.imageSmoothingEnabled=!1,w.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const b=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,b);const d=p.Util.getAxialAlignedBoundingBox([0,0,m.canvas.width,m.canvas.height],b);this.ctx.drawImage(m.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(w,m,T,b,d){if(this.save(),Array.isArray(m)&&4===m.length){const y=m[2]-m[0],A=m[3]-m[1];if(d&&this.annotationCanvasMap){(T=T.slice())[4]-=m[0],T[5]-=m[1],(m=m.slice())[0]=m[1]=0,m[2]=y,m[3]=A;const[L,x]=p.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:E}=this,X=Math.ceil(y*this.outputScaleX*E),de=Math.ceil(A*this.outputScaleY*E);this.annotationCanvas=this.canvasFactory.create(X,de);const{canvas:ue,context:fe}=this.annotationCanvas;ue.style.width=`calc(${y}px * var(--viewport-scale-factor))`,ue.style.height=`calc(${A}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(w,ue),this.annotationCanvas.savedCtx=this.ctx,this.ctx=fe,this.ctx.setTransform(L,0,0,-x,0,A*x),k(this.ctx),I(this.ctx)}else I(this.ctx),this.ctx.rect(m[0],m[1],y,A),this.clip(),this.endPath()}this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,T),this.transform.apply(this,b)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(w){if(!this.contentVisible)return;const m=this.ctx,T=w.width,b=w.height,d=this.processingType3;if(d&&void 0===d.compiled&&(d.compiled=T<=1e3&&b<=1e3?function G(R){const m=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),T=R.width,b=R.height,d=T+1;let y,A,L,x;const E=new Uint8Array(d*(b+1)),X=T+7&-8,de=R.data,ue=new Uint8Array(X*b);let fe=0;for(y=0,A=de.length;y<A;y++){const Ne=de[y];let Pt=128;for(;Pt>0;)ue[fe++]=Ne&Pt?0:255,Pt>>=1}let Ie=0;for(fe=0,0!==ue[fe]&&(E[0]=1,++Ie),L=1;L<T;L++)ue[fe]!==ue[fe+1]&&(E[L]=ue[fe]?2:1,++Ie),fe++;for(0!==ue[fe]&&(E[L]=2,++Ie),y=1;y<b;y++){fe=y*X,x=y*d,ue[fe-X]!==ue[fe]&&(E[x]=ue[fe]?1:8,++Ie);let Ne=(ue[fe]?4:0)+(ue[fe-X]?8:0);for(L=1;L<T;L++)Ne=(Ne>>2)+(ue[fe+1]?4:0)+(ue[fe-X+1]?8:0),m[Ne]&&(E[x+L]=m[Ne],++Ie),fe++;if(ue[fe-X]!==ue[fe]&&(E[x+L]=ue[fe]?2:4,++Ie),Ie>1e3)return null}for(fe=X*(b-1),x=y*d,0!==ue[fe]&&(E[x]=8,++Ie),L=1;L<T;L++)ue[fe]!==ue[fe+1]&&(E[x+L]=ue[fe]?4:8,++Ie),fe++;if(0!==ue[fe]&&(E[x+L]=4,++Ie),Ie>1e3)return null;const Fe=new Int32Array([0,d,-1,0,-d,0,0,0,1]),je=[];for(y=0;Ie&&y<=b;y++){let Ne=y*d;const Pt=Ne+T;for(;Ne<Pt&&!E[Ne];)Ne++;if(Ne===Pt)continue;const kt=[Ne%d,y],Qe=Ne;let st=E[Ne];do{const an=Fe[st];do{Ne+=an}while(!E[Ne]);const ve=E[Ne];5!==ve&&10!==ve?(st=ve,E[Ne]=0):(st=ve&51*st>>4,E[Ne]&=st>>2|st<<2),kt.push(Ne%d,Ne/d|0),E[Ne]||--Ie}while(Qe!==Ne);je.push(kt),--y}return function(Ne){Ne.save(),Ne.scale(1/T,-1/b),Ne.translate(0,-b),Ne.beginPath();for(let Pt=0,kt=je.length;Pt<kt;Pt++){const Qe=je[Pt];Ne.moveTo(Qe[0],Qe[1]);for(let st=2,an=Qe.length;st<an;st+=2)Ne.lineTo(Qe[st],Qe[st+1])}Ne.fill(),Ne.beginPath(),Ne.restore()}}({data:w.data,width:T,height:b}):null),d?.compiled)return void d.compiled(m);const y=this._createMaskCanvas(w),A=y.canvas;m.save(),m.setTransform(1,0,0,1,0,0),m.drawImage(A,y.offsetX,y.offsetY),m.restore(),this.compose()}paintImageMaskXObjectRepeat(w,m,T=0,b=0,d,y){if(!this.contentVisible)return;const A=this.ctx;A.save();const L=A.mozCurrentTransform;A.transform(m,T,b,d,0,0);const x=this._createMaskCanvas(w);A.setTransform(1,0,0,1,0,0);for(let E=0,X=y.length;E<X;E+=2){const de=p.Util.transform(L,[m,T,b,d,y[E],y[E+1]]),[ue,fe]=p.Util.applyTransform([0,0],de);A.drawImage(x.canvas,ue,fe)}A.restore(),this.compose()}paintImageMaskXObjectGroup(w){if(!this.contentVisible)return;const m=this.ctx,T=this.current.fillColor,b=this.current.patternFill;for(let d=0,y=w.length;d<y;d++){const A=w[d],L=A.width,x=A.height,E=this.cachedCanvases.getCanvas("maskCanvas",L,x),X=E.context;X.save(),g(X,A),X.globalCompositeOperation="source-in",X.fillStyle=b?T.getPattern(X,this,m.mozCurrentTransformInverse,Z.PathType.FILL):T,X.fillRect(0,0,L,x),X.restore(),m.save(),m.transform.apply(m,A.transform),m.scale(1,-1),m.drawImage(E.canvas,0,0,L,x,0,-1,1,1),m.restore()}this.compose()}paintImageXObject(w){if(!this.contentVisible)return;const m=w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w);m?this.paintInlineImageXObject(m):(0,p.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(w,m,T,b){if(!this.contentVisible)return;const d=w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w);if(!d)return void(0,p.warn)("Dependent image isn't ready yet");const y=d.width,A=d.height,L=[];for(let x=0,E=b.length;x<E;x+=2)L.push({transform:[m,0,0,T,b[x],b[x+1]],x:0,y:0,w:y,h:A});this.paintInlineImageXObjectGroup(d,L)}paintInlineImageXObject(w){if(!this.contentVisible)return;const m=w.width,T=w.height,b=this.ctx;let d;if(this.save(),b.scale(1/m,-1/T),"function"==typeof HTMLElement&&w instanceof HTMLElement||!w.data)d=w;else{const A=this.cachedCanvases.getCanvas("inlineImage",m,T);N(A.context,w,this.current.transferMaps),d=A.canvas}const y=this._scaleImage(d,b.mozCurrentTransformInverse);if(b.imageSmoothingEnabled=V(b.mozCurrentTransform,w.interpolate),b.drawImage(y.img,0,0,y.paintWidth,y.paintHeight,0,-T,m,T),this.imageLayer){const A=this.getCanvasPosition(0,-T);this.imageLayer.appendImage({imgData:w,left:A[0],top:A[1],width:m/b.mozCurrentTransformInverse[0],height:T/b.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(w,m){if(!this.contentVisible)return;const T=this.ctx,b=w.width,d=w.height,y=this.cachedCanvases.getCanvas("inlineImage",b,d);N(y.context,w,this.current.transferMaps);for(let L=0,x=m.length;L<x;L++){const E=m[L];if(T.save(),T.transform.apply(T,E.transform),T.scale(1,-1),T.drawImage(y.canvas,E.x,E.y,E.w,E.h,0,-1,1,1),this.imageLayer){const X=this.getCanvasPosition(E.x,E.y);this.imageLayer.appendImage({imgData:w,left:X[0],top:X[1],width:b,height:d})}T.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(w){}markPointProps(w,m){}beginMarkedContent(w){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(w,m){this.markedContentStack.push("OC"===w?{visible:this.optionalContentConfig.isVisible(m)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(w){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(w);const m=this.ctx;this.pendingClip&&(this.pendingClip===ce?m.clip("evenodd"):m.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),m.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const w=this.ctx.mozCurrentTransform,m=Math.abs(w[0]*w[3]-w[2]*w[1]),T=w[0]**2+w[2]**2,b=w[1]**2+w[3]**2,d=Math.sqrt(Math.max(T,b))/m;this._cachedGetSinglePixelWidth=T!==b&&this._combinedScaleFactor*d>1?-this._combinedScaleFactor*d:m>Number.EPSILON?d:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(w,m){const T=this.ctx.mozCurrentTransform;return[T[0]*w+T[2]*m+T[4],T[1]*w+T[3]*m+T[5]]}isContentVisible(){for(let w=this.markedContentStack.length-1;w>=0;w--)if(!this.markedContentStack[w].visible)return!1;return!0}}_.CanvasGraphics=ge;for(const R in p.OPS)void 0!==ge.prototype[R]&&(ge.prototype[p.OPS[R]]=ge.prototype[R])},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TilingPattern=_.PathType=void 0,_.getShadingPattern=function re(M){switch(M[0]){case"RadialAxial":return new J(M);case"Mesh":return new ee(M);case"Dummy":return new ie}throw new Error(`Unknown IR type: ${M[0]}`)};var p=q(1);const Z={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function W(M,k){if(!k||typeof Path2D>"u")return;const H=k[2]-k[0],G=k[3]-k[1],O=new Path2D;O.rect(k[0],k[1],H,G),M.clip(O)}_.PathType=Z;class pe{constructor(){this.constructor===pe&&(0,p.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,p.unreachable)("Abstract method `getPattern` called.")}}class J extends pe{constructor(k){super(),this._type=k[1],this._bbox=k[2],this._colorStops=k[3],this._p0=k[4],this._p1=k[5],this._r0=k[6],this._r1=k[7],this.matrix=null}_createGradient(k){let H;"axial"===this._type?H=k.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(H=k.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const G of this._colorStops)H.addColorStop(G[0],G[1]);return H}getPattern(k,H,G,O){let N;if(O===Z.STROKE||O===Z.FILL){const g=H.current.getClippedPathBoundingBox(O,k.mozCurrentTransform)||[0,0,0,0],f=Math.ceil(g[2]-g[0])||1,I=Math.ceil(g[3]-g[1])||1,U=H.cachedCanvases.getCanvas("pattern",f,I,!0),S=U.context;S.clearRect(0,0,S.canvas.width,S.canvas.height),S.beginPath(),S.rect(0,0,S.canvas.width,S.canvas.height),S.translate(-g[0],-g[1]),G=p.Util.transform(G,[1,0,0,1,g[0],g[1]]),S.transform.apply(S,H.baseTransform),this.matrix&&S.transform.apply(S,this.matrix),W(S,this._bbox),S.fillStyle=this._createGradient(S),S.fill(),N=k.createPattern(U.canvas,"no-repeat");const B=new DOMMatrix(G);try{N.setTransform(B)}catch(P){(0,p.warn)(`RadialAxialShadingPattern.getPattern: "${P?.message}".`)}}else W(k,this._bbox),N=this._createGradient(k);return N}}function z(M,k,H,G,O,N,g,f){const I=k.coords,U=k.colors,S=M.data,B=4*M.width;let P;I[H+1]>I[G+1]&&(P=H,H=G,G=P,P=N,N=g,g=P),I[G+1]>I[O+1]&&(P=G,G=O,O=P,P=g,g=f,f=P),I[H+1]>I[G+1]&&(P=H,H=G,G=P,P=N,N=g,g=P);const C=(I[H]+k.offsetX)*k.scaleX,V=(I[H+1]+k.offsetY)*k.scaleY,K=(I[G]+k.offsetX)*k.scaleX,Q=(I[G+1]+k.offsetY)*k.scaleY,te=(I[O]+k.offsetX)*k.scaleX,ce=(I[O+1]+k.offsetY)*k.scaleY;if(V>=ce)return;const ge=U[N],R=U[N+1],w=U[N+2],m=U[g],T=U[g+1],b=U[g+2],d=U[f],y=U[f+1],A=U[f+2],L=Math.round(V),x=Math.round(ce);let E,X,de,ue,fe,Ie,Fe,je;for(let $e=L;$e<=x;$e++){if($e<Q){let st;st=$e<V?0:(V-$e)/(V-Q),E=C-(C-K)*st,X=ge-(ge-m)*st,de=R-(R-T)*st,ue=w-(w-b)*st}else{let st;st=$e>ce?1:Q===ce?0:(Q-$e)/(Q-ce),E=K-(K-te)*st,X=m-(m-d)*st,de=T-(T-y)*st,ue=b-(b-A)*st}let Ne;Ne=$e<V?0:$e>ce?1:(V-$e)/(V-ce),fe=C-(C-te)*Ne,Ie=ge-(ge-d)*Ne,Fe=R-(R-y)*Ne,je=w-(w-A)*Ne;const Pt=Math.round(Math.min(E,fe)),kt=Math.round(Math.max(E,fe));let Qe=B*$e+4*Pt;for(let st=Pt;st<=kt;st++)Ne=(E-st)/(E-fe),Ne<0?Ne=0:Ne>1&&(Ne=1),S[Qe++]=X-(X-Ie)*Ne|0,S[Qe++]=de-(de-Fe)*Ne|0,S[Qe++]=ue-(ue-je)*Ne|0,S[Qe++]=255}}function j(M,k,H){const G=k.coords,O=k.colors;let N,g;switch(k.type){case"lattice":const f=k.verticesPerRow,I=Math.floor(G.length/f)-1,U=f-1;for(N=0;N<I;N++){let S=N*f;for(let B=0;B<U;B++,S++)z(M,H,G[S],G[S+1],G[S+f],O[S],O[S+1],O[S+f]),z(M,H,G[S+f+1],G[S+1],G[S+f],O[S+f+1],O[S+1],O[S+f])}break;case"triangles":for(N=0,g=G.length;N<g;N+=3)z(M,H,G[N],G[N+1],G[N+2],O[N],O[N+1],O[N+2]);break;default:throw new Error("illegal figure")}}class ee extends pe{constructor(k){super(),this._coords=k[2],this._colors=k[3],this._figures=k[4],this._bounds=k[5],this._bbox=k[7],this._background=k[8],this.matrix=null}_createMeshCanvas(k,H,G){const f=Math.floor(this._bounds[0]),I=Math.floor(this._bounds[1]),U=Math.ceil(this._bounds[2])-f,S=Math.ceil(this._bounds[3])-I,B=Math.min(Math.ceil(Math.abs(U*k[0]*1.1)),3e3),P=Math.min(Math.ceil(Math.abs(S*k[1]*1.1)),3e3),C=U/B,V=S/P,K={coords:this._coords,colors:this._colors,offsetX:-f,offsetY:-I,scaleX:1/C,scaleY:1/V},ce=G.getCanvas("mesh",B+4,P+4,!1),ge=ce.context,R=ge.createImageData(B,P);if(H){const m=R.data;for(let T=0,b=m.length;T<b;T+=4)m[T]=H[0],m[T+1]=H[1],m[T+2]=H[2],m[T+3]=255}for(const m of this._figures)j(R,m,K);return ge.putImageData(R,2,2),{canvas:ce.canvas,offsetX:f-2*C,offsetY:I-2*V,scaleX:C,scaleY:V}}getPattern(k,H,G,O){let N;if(W(k,this._bbox),O===Z.SHADING)N=p.Util.singularValueDecompose2dScale(k.mozCurrentTransform);else if(N=p.Util.singularValueDecompose2dScale(H.baseTransform),this.matrix){const f=p.Util.singularValueDecompose2dScale(this.matrix);N=[N[0]*f[0],N[1]*f[1]]}const g=this._createMeshCanvas(N,O===Z.SHADING?null:this._background,H.cachedCanvases);return O!==Z.SHADING&&(k.setTransform.apply(k,H.baseTransform),this.matrix&&k.transform.apply(k,this.matrix)),k.translate(g.offsetX,g.offsetY),k.scale(g.scaleX,g.scaleY),k.createPattern(g.canvas,"no-repeat")}}class ie extends pe{getPattern(){return"hotpink"}}class ne{static get MAX_PATTERN_SIZE(){return(0,p.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(k,H,G,O,N){this.operatorList=k[2],this.matrix=k[3]||[1,0,0,1,0,0],this.bbox=k[4],this.xstep=k[5],this.ystep=k[6],this.paintType=k[7],this.tilingType=k[8],this.color=H,this.ctx=G,this.canvasGraphicsFactory=O,this.baseTransform=N}createPatternCanvas(k){const H=this.operatorList,G=this.bbox,O=this.xstep,N=this.ystep,g=this.paintType,I=this.color,U=this.canvasGraphicsFactory;(0,p.info)("TilingType: "+this.tilingType);const S=G[0],B=G[1],P=G[2],C=G[3],V=p.Util.singularValueDecompose2dScale(this.matrix),K=p.Util.singularValueDecompose2dScale(this.baseTransform),Q=[V[0]*K[0],V[1]*K[1]],te=this.getSizeAndScale(O,this.ctx.canvas.width,Q[0]),ce=this.getSizeAndScale(N,this.ctx.canvas.height,Q[1]),ge=k.cachedCanvases.getCanvas("pattern",te.size,ce.size,!0),R=ge.context,w=U.createCanvasGraphics(R);w.groupLevel=k.groupLevel,this.setFillAndStrokeStyleToContext(w,g,I);let m=S,T=B,b=P,d=C;return S<0&&(m=0,b+=Math.abs(S)),B<0&&(T=0,d+=Math.abs(B)),R.translate(-te.scale*m,-ce.scale*T),w.transform(te.scale,0,0,ce.scale,0,0),R.save(),this.clipBbox(w,m,T,b,d),w.baseTransform=w.ctx.mozCurrentTransform.slice(),w.executeOperatorList(H),w.endDrawing(),{canvas:ge.canvas,scaleX:te.scale,scaleY:ce.scale,offsetX:m,offsetY:T}}getSizeAndScale(k,H,G){k=Math.abs(k);const O=Math.max(ne.MAX_PATTERN_SIZE,H);let N=Math.ceil(k*G);return N>=O?N=O:G=N/k,{scale:G,size:N}}clipBbox(k,H,G,O,N){k.ctx.rect(H,G,O-H,N-G),k.clip(),k.endPath()}setFillAndStrokeStyleToContext(k,H,G){const O=k.ctx,N=k.current;switch(H){case 1:const g=this.ctx;O.fillStyle=g.fillStyle,O.strokeStyle=g.strokeStyle,N.fillColor=g.fillStyle,N.strokeColor=g.strokeStyle;break;case 2:const f=p.Util.makeHexColor(G[0],G[1],G[2]);O.fillStyle=f,O.strokeStyle=f,N.fillColor=f,N.strokeColor=f;break;default:throw new p.FormatError(`Unsupported paint type: ${H}`)}}getPattern(k,H,G,O){let N=G;O!==Z.SHADING&&(N=p.Util.transform(N,H.baseTransform),this.matrix&&(N=p.Util.transform(N,this.matrix)));const g=this.createPatternCanvas(H);let f=new DOMMatrix(N);f=f.translate(g.offsetX,g.offsetY),f=f.scale(1/g.scaleX,1/g.scaleY);const I=k.createPattern(g.canvas,"repeat");try{I.setTransform(f)}catch(U){(0,p.warn)(`TilingPattern.getPattern: "${U?.message}".`)}return I}}_.TilingPattern=ne},(ae,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GlobalWorkerOptions=void 0;const q=Object.create(null);_.GlobalWorkerOptions=q,q.workerPort=void 0===q.workerPort?null:q.workerPort,q.workerSrc=void 0===q.workerSrc?"":q.workerSrc},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.MessageHandler=void 0;var p=q(1);function pe(z){switch(z instanceof Error||"object"==typeof z&&null!==z||(0,p.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),z.name){case"AbortException":return new p.AbortException(z.message);case"MissingPDFException":return new p.MissingPDFException(z.message);case"PasswordException":return new p.PasswordException(z.message,z.code);case"UnexpectedResponseException":return new p.UnexpectedResponseException(z.message,z.status);case"UnknownErrorException":return new p.UnknownErrorException(z.message,z.details);default:return new p.UnknownErrorException(z.message,z.toString())}}_.MessageHandler=class J{constructor(j,ee,ie){this.sourceName=j,this.targetName=ee,this.comObj=ie,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=re=>{const Y=re.data;if(Y.targetName!==this.sourceName)return;if(Y.stream)return void this._processStreamMessage(Y);if(Y.callback){const M=Y.callbackId,k=this.callbackCapabilities[M];if(!k)throw new Error(`Cannot resolve callback ${M}`);if(delete this.callbackCapabilities[M],1===Y.callback)k.resolve(Y.data);else{if(2!==Y.callback)throw new Error("Unexpected callback case");k.reject(pe(Y.reason))}return}const ne=this.actionHandler[Y.action];if(!ne)throw new Error(`Unknown action from worker: ${Y.action}`);if(Y.callbackId){const M=this.sourceName,k=Y.sourceName;new Promise(function(H){H(ne(Y.data))}).then(function(H){ie.postMessage({sourceName:M,targetName:k,callback:1,callbackId:Y.callbackId,data:H})},function(H){ie.postMessage({sourceName:M,targetName:k,callback:2,callbackId:Y.callbackId,reason:pe(H)})})}else Y.streamId?this._createStreamSink(Y):ne(Y.data)},ie.addEventListener("message",this._onComObjOnMessage)}on(j,ee){const ie=this.actionHandler;if(ie[j])throw new Error(`There is already an actionName called "${j}"`);ie[j]=ee}send(j,ee,ie){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:j,data:ee},ie)}sendWithPromise(j,ee,ie){const re=this.callbackId++,Y=(0,p.createPromiseCapability)();this.callbackCapabilities[re]=Y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:j,callbackId:re,data:ee},ie)}catch(ne){Y.reject(ne)}return Y.promise}sendWithStream(j,ee,ie,re){const Y=this.streamId++,ne=this.sourceName,M=this.targetName,k=this.comObj;return new ReadableStream({start:H=>{const G=(0,p.createPromiseCapability)();return this.streamControllers[Y]={controller:H,startCall:G,pullCall:null,cancelCall:null,isClosed:!1},k.postMessage({sourceName:ne,targetName:M,action:j,streamId:Y,data:ee,desiredSize:H.desiredSize},re),G.promise},pull:H=>{const G=(0,p.createPromiseCapability)();return this.streamControllers[Y].pullCall=G,k.postMessage({sourceName:ne,targetName:M,stream:6,streamId:Y,desiredSize:H.desiredSize}),G.promise},cancel:H=>{(0,p.assert)(H instanceof Error,"cancel must have a valid reason");const G=(0,p.createPromiseCapability)();return this.streamControllers[Y].cancelCall=G,this.streamControllers[Y].isClosed=!0,k.postMessage({sourceName:ne,targetName:M,stream:1,streamId:Y,reason:pe(H)}),G.promise}},ie)}_createStreamSink(j){const ee=j.streamId,ie=this.sourceName,re=j.sourceName,Y=this.comObj,ne=this,M=this.actionHandler[j.action],k={enqueue(H,G=1,O){if(this.isCancelled)return;const N=this.desiredSize;this.desiredSize-=G,N>0&&this.desiredSize<=0&&(this.sinkCapability=(0,p.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Y.postMessage({sourceName:ie,targetName:re,stream:4,streamId:ee,chunk:H},O)},close(){this.isCancelled||(this.isCancelled=!0,Y.postMessage({sourceName:ie,targetName:re,stream:3,streamId:ee}),delete ne.streamSinks[ee])},error(H){(0,p.assert)(H instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Y.postMessage({sourceName:ie,targetName:re,stream:5,streamId:ee,reason:pe(H)}))},sinkCapability:(0,p.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:j.desiredSize,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[ee]=k,new Promise(function(H){H(M(j.data,k))}).then(function(){Y.postMessage({sourceName:ie,targetName:re,stream:8,streamId:ee,success:!0})},function(H){Y.postMessage({sourceName:ie,targetName:re,stream:8,streamId:ee,reason:pe(H)})})}_processStreamMessage(j){const ee=j.streamId,ie=this.sourceName,re=j.sourceName,Y=this.comObj,ne=this.streamControllers[ee],M=this.streamSinks[ee];switch(j.stream){case 8:j.success?ne.startCall.resolve():ne.startCall.reject(pe(j.reason));break;case 7:j.success?ne.pullCall.resolve():ne.pullCall.reject(pe(j.reason));break;case 6:if(!M){Y.postMessage({sourceName:ie,targetName:re,stream:7,streamId:ee,success:!0});break}M.desiredSize<=0&&j.desiredSize>0&&M.sinkCapability.resolve(),M.desiredSize=j.desiredSize,new Promise(function(k){k(M.onPull&&M.onPull())}).then(function(){Y.postMessage({sourceName:ie,targetName:re,stream:7,streamId:ee,success:!0})},function(k){Y.postMessage({sourceName:ie,targetName:re,stream:7,streamId:ee,reason:pe(k)})});break;case 4:if((0,p.assert)(ne,"enqueue should have stream controller"),ne.isClosed)break;ne.controller.enqueue(j.chunk);break;case 3:if((0,p.assert)(ne,"close should have stream controller"),ne.isClosed)break;ne.isClosed=!0,ne.controller.close(),this._deleteStreamController(ne,ee);break;case 5:(0,p.assert)(ne,"error should have stream controller"),ne.controller.error(pe(j.reason)),this._deleteStreamController(ne,ee);break;case 2:j.success?ne.cancelCall.resolve():ne.cancelCall.reject(pe(j.reason)),this._deleteStreamController(ne,ee);break;case 1:if(!M)break;new Promise(function(k){k(M.onCancel&&M.onCancel(pe(j.reason)))}).then(function(){Y.postMessage({sourceName:ie,targetName:re,stream:2,streamId:ee,success:!0})},function(k){Y.postMessage({sourceName:ie,targetName:re,stream:2,streamId:ee,reason:pe(k)})}),M.sinkCapability.reject(pe(j.reason)),M.isCancelled=!0,delete this.streamSinks[ee];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(j,ee){var ie=this;return _asyncToGenerator(function*(){yield Promise.allSettled([j.startCall&&j.startCall.promise,j.pullCall&&j.pullCall.promise,j.cancelCall&&j.cancelCall.promise]),delete ie.streamControllers[ee]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Metadata=void 0;var p=q(1),Z=new WeakMap,W=new WeakMap;_.Metadata=class pe{constructor({parsedData:z,rawData:j}){_classPrivateFieldInitSpec(this,Z,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:void 0}),_classPrivateFieldSet(this,Z,z),_classPrivateFieldSet(this,W,j)}getRaw(){return _classPrivateFieldGet(this,W)}get(z){return _classPrivateFieldGet(this,Z).get(z)??null}getAll(){return(0,p.objectFromMap)(_classPrivateFieldGet(this,Z))}has(z){return _classPrivateFieldGet(this,Z).has(z)}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.OptionalContentConfig=void 0;var p=q(1);class Z{constructor(J,z){this.visible=!0,this.name=J,this.intent=z}}_.OptionalContentConfig=class W{constructor(J){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==J){this.name=J.name,this.creator=J.creator,this._order=J.order;for(const z of J.groups)this._groups.set(z.id,new Z(z.name,z.intent));if("OFF"===J.baseState)for(const z of this._groups)z.visible=!1;for(const z of J.on)this._groups.get(z).visible=!0;for(const z of J.off)this._groups.get(z).visible=!1}}_evaluateVisibilityExpression(J){const z=J.length;if(z<2)return!0;const j=J[0];for(let ee=1;ee<z;ee++){const ie=J[ee];let re;if(Array.isArray(ie))re=this._evaluateVisibilityExpression(ie);else{if(!this._groups.has(ie))return(0,p.warn)(`Optional content group not found: ${ie}`),!0;re=this._groups.get(ie).visible}switch(j){case"And":if(!re)return!1;break;case"Or":if(re)return!0;break;case"Not":return!re;default:return!0}}return"And"===j}isVisible(J){if(0===this._groups.size)return!0;if(!J)return(0,p.warn)("Optional content group not defined."),!0;if("OCG"===J.type)return this._groups.has(J.id)?this._groups.get(J.id).visible:((0,p.warn)(`Optional content group not found: ${J.id}`),!0);if("OCMD"===J.type){if(J.expression)return this._evaluateVisibilityExpression(J.expression);if(!J.policy||"AnyOn"===J.policy){for(const z of J.ids){if(!this._groups.has(z))return(0,p.warn)(`Optional content group not found: ${z}`),!0;if(this._groups.get(z).visible)return!0}return!1}if("AllOn"===J.policy){for(const z of J.ids){if(!this._groups.has(z))return(0,p.warn)(`Optional content group not found: ${z}`),!0;if(!this._groups.get(z).visible)return!1}return!0}if("AnyOff"===J.policy){for(const z of J.ids){if(!this._groups.has(z))return(0,p.warn)(`Optional content group not found: ${z}`),!0;if(!this._groups.get(z).visible)return!0}return!1}if("AllOff"===J.policy){for(const z of J.ids){if(!this._groups.has(z))return(0,p.warn)(`Optional content group not found: ${z}`),!0;if(this._groups.get(z).visible)return!1}return!0}return(0,p.warn)(`Unknown optional content policy ${J.policy}.`),!0}return(0,p.warn)(`Unknown group type ${J.type}.`),!0}setVisibility(J,z=!0){this._groups.has(J)?this._groups.get(J).visible=!!z:(0,p.warn)(`Optional content group not found: ${J}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,p.objectFromMap)(this._groups):null}getGroup(J){return this._groups.get(J)||null}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFDataTransportStream=void 0;var p=q(1),Z=q(5);_.PDFDataTransportStream=class W{constructor(j,ee){(0,p.assert)(ee,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=j.progressiveDone||!1,this._contentDispositionFilename=j.contentDispositionFilename||null;const ie=j.initialData;if(ie?.length>0){const re=new Uint8Array(ie).buffer;this._queuedChunks.push(re)}this._pdfDataRangeTransport=ee,this._isStreamingSupported=!j.disableStream,this._isRangeSupported=!j.disableRange,this._contentLength=j.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((re,Y)=>{this._onReceiveData({begin:re,chunk:Y})}),this._pdfDataRangeTransport.addProgressListener((re,Y)=>{this._onProgress({loaded:re,total:Y})}),this._pdfDataRangeTransport.addProgressiveReadListener(re=>{this._onReceiveData({chunk:re})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(j){const ee=new Uint8Array(j.chunk).buffer;if(void 0===j.begin)this._fullRequestReader?this._fullRequestReader._enqueue(ee):this._queuedChunks.push(ee);else{const ie=this._rangeReaders.some(function(re){return re._begin===j.begin&&(re._enqueue(ee),!0)});(0,p.assert)(ie,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(j){if(void 0===j.total){const ee=this._rangeReaders[0];ee?.onProgress&&ee.onProgress({loaded:j.loaded})}else{const ee=this._fullRequestReader;ee?.onProgress&&ee.onProgress({loaded:j.loaded,total:j.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(j){const ee=this._rangeReaders.indexOf(j);ee>=0&&this._rangeReaders.splice(ee,1)}getFullReader(){(0,p.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const j=this._queuedChunks;return this._queuedChunks=null,new pe(this,j,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(j,ee){if(ee<=this._progressiveDataLength)return null;const ie=new J(this,j,ee);return this._pdfDataRangeTransport.requestDataRange(j,ee),this._rangeReaders.push(ie),ie}cancelAllRequests(j){this._fullRequestReader&&this._fullRequestReader.cancel(j);for(const ee of this._rangeReaders.slice(0))ee.cancel(j);this._pdfDataRangeTransport.abort()}};class pe{constructor(j,ee,ie=!1,re=null){this._stream=j,this._done=ie||!1,this._filename=(0,Z.isPdfFile)(re)?re:null,this._queuedChunks=ee||[],this._loaded=0;for(const Y of this._queuedChunks)this._loaded+=Y.byteLength;this._requests=[],this._headersReady=Promise.resolve(),j._fullRequestReader=this,this.onProgress=null}_enqueue(j){this._done||(this._requests.length>0?this._requests.shift().resolve({value:j,done:!1}):this._queuedChunks.push(j),this._loaded+=j.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var j=this;return _asyncToGenerator(function*(){if(j._queuedChunks.length>0)return{value:j._queuedChunks.shift(),done:!1};if(j._done)return{value:void 0,done:!0};const ee=(0,p.createPromiseCapability)();return j._requests.push(ee),ee.promise})()}cancel(j){this._done=!0;for(const ee of this._requests)ee.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class J{constructor(j,ee,ie){this._stream=j,this._begin=ee,this._end=ie,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(j){if(!this._done){if(0===this._requests.length)this._queuedChunk=j;else{this._requests.shift().resolve({value:j,done:!1});for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var j=this;return _asyncToGenerator(function*(){if(j._queuedChunk){const ie=j._queuedChunk;return j._queuedChunk=null,{value:ie,done:!1}}if(j._done)return{value:void 0,done:!0};const ee=(0,p.createPromiseCapability)();return j._requests.push(ee),ee.promise})()}cancel(j){this._done=!0;for(const ee of this._requests)ee.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ae,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaText=void 0;class q{static textContent(Z){const W=[],pe={items:W,styles:Object.create(null)};return function J(z){if(!z)return;let j=null;const ee=z.name;if("#text"===ee)j=z.value;else{if(!q.shouldBuildText(ee))return;z?.attributes?.textContent?j=z.attributes.textContent:z.value&&(j=z.value)}if(null!==j&&W.push({str:j}),z.children)for(const ie of z.children)J(ie)}(Z),pe}static shouldBuildText(Z){return!("textarea"===Z||"input"===Z||"option"===Z||"select"===Z)}}_.XfaText=q},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationLayer=void 0;var p=q(1),Z=q(5),W=q(9),pe=q(19),J=q(20);const z=1e3,j=new WeakSet;function ee(b){return{width:b[2]-b[0],height:b[3]-b[1]}}class ie{static create(d){switch(d.data.annotationType){case p.AnnotationType.LINK:return new Y(d);case p.AnnotationType.TEXT:return new ne(d);case p.AnnotationType.WIDGET:switch(d.data.fieldType){case"Tx":return new k(d);case"Btn":return d.data.radioButton?new G(d):d.data.checkBox?new H(d):new O(d);case"Ch":return new N(d)}return new M(d);case p.AnnotationType.POPUP:return new g(d);case p.AnnotationType.FREETEXT:return new I(d);case p.AnnotationType.LINE:return new U(d);case p.AnnotationType.SQUARE:return new S(d);case p.AnnotationType.CIRCLE:return new B(d);case p.AnnotationType.POLYLINE:return new P(d);case p.AnnotationType.CARET:return new V(d);case p.AnnotationType.INK:return new K(d);case p.AnnotationType.POLYGON:return new C(d);case p.AnnotationType.HIGHLIGHT:return new Q(d);case p.AnnotationType.UNDERLINE:return new te(d);case p.AnnotationType.SQUIGGLY:return new ce(d);case p.AnnotationType.STRIKEOUT:return new ge(d);case p.AnnotationType.STAMP:return new R(d);case p.AnnotationType.FILEATTACHMENT:return new w(d);default:return new re(d)}}}class re{constructor(d,{isRenderable:y=!1,ignoreBorder:A=!1,createQuadrilaterals:L=!1}={}){this.isRenderable=y,this.data=d.data,this.layer=d.layer,this.page=d.page,this.viewport=d.viewport,this.linkService=d.linkService,this.downloadManager=d.downloadManager,this.imageResourcesPath=d.imageResourcesPath,this.renderForms=d.renderForms,this.svgFactory=d.svgFactory,this.annotationStorage=d.annotationStorage,this.enableScripting=d.enableScripting,this.hasJSActions=d.hasJSActions,this._fieldObjects=d.fieldObjects,this._mouseState=d.mouseState,y&&(this.container=this._createContainer(A)),L&&(this.quadrilaterals=this._createQuadrilaterals(A))}_createContainer(d=!1){const y=this.data,A=this.page,L=this.viewport,x=document.createElement("section");let{width:E,height:X}=ee(y.rect);x.setAttribute("data-annotation-id",y.id);const de=p.Util.normalizeRect([y.rect[0],A.view[3]-y.rect[1]+A.view[1],y.rect[2],A.view[3]-y.rect[3]+A.view[1]]);if(y.hasOwnCanvas){const ue=L.transform.slice(),[fe,Ie]=p.Util.singularValueDecompose2dScale(ue);E=Math.ceil(E*fe),X=Math.ceil(X*Ie),de[0]*=fe,de[1]*=Ie;for(let Fe=0;Fe<4;Fe++)ue[Fe]=Math.sign(ue[Fe]);x.style.transform=`matrix(${ue.join(",")})`}else x.style.transform=`matrix(${L.transform.join(",")})`;if(x.style.transformOrigin=`${-de[0]}px ${-de[1]}px`,!d&&y.borderStyle.width>0){x.style.borderWidth=`${y.borderStyle.width}px`,y.borderStyle.style!==p.AnnotationBorderStyleType.UNDERLINE&&(E-=2*y.borderStyle.width,X-=2*y.borderStyle.width);const ue=y.borderStyle.horizontalCornerRadius,fe=y.borderStyle.verticalCornerRadius;switch((ue>0||fe>0)&&(x.style.borderRadius=`${ue}px / ${fe}px`),y.borderStyle.style){case p.AnnotationBorderStyleType.SOLID:x.style.borderStyle="solid";break;case p.AnnotationBorderStyleType.DASHED:x.style.borderStyle="dashed";break;case p.AnnotationBorderStyleType.BEVELED:(0,p.warn)("Unimplemented border style: beveled");break;case p.AnnotationBorderStyleType.INSET:(0,p.warn)("Unimplemented border style: inset");break;case p.AnnotationBorderStyleType.UNDERLINE:x.style.borderBottomStyle="solid"}y.borderColor||y.color?x.style.borderColor=p.Util.makeHexColor(0|y.color[0],0|y.color[1],0|y.color[2]):x.style.borderWidth=0}return x.style.left=`${de[0]}px`,x.style.top=`${de[1]}px`,y.hasOwnCanvas?x.style.width=x.style.height="auto":(x.style.width=`${E}px`,x.style.height=`${X}px`),x}_createQuadrilaterals(d=!1){if(!this.data.quadPoints)return null;const y=[],A=this.data.rect;for(const L of this.data.quadPoints)this.data.rect=[L[2].x,L[2].y,L[1].x,L[1].y],y.push(this._createContainer(d));return this.data.rect=A,y}_createPopup(d,y){let A=this.container;this.quadrilaterals&&(d=d||this.quadrilaterals,A=this.quadrilaterals[0]),d||((d=document.createElement("div")).style.height=A.style.height,d.style.width=A.style.width,A.appendChild(d));const x=new f({container:A,trigger:d,color:y.color,titleObj:y.titleObj,modificationDate:y.modificationDate,contentsObj:y.contentsObj,richText:y.richText,hideWrapper:!0}).render();x.style.left=A.style.width,A.appendChild(x)}_renderQuadrilaterals(d){for(const y of this.quadrilaterals)y.className=d;return this.quadrilaterals}render(){(0,p.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(d,y=null){const A=[];if(this._fieldObjects){const L=this._fieldObjects[d];if(L)for(const{page:x,id:E,exportValues:X}of L){if(-1===x||E===y)continue;const de="string"==typeof X?X:null,ue=document.getElementById(E);!ue||j.has(ue)?A.push({id:E,exportValue:de,domElement:ue}):(0,p.warn)(`_getElementsByName - element not allowed: ${E}`)}return A}for(const L of document.getElementsByName(d)){const{id:x,exportValue:E}=L;x!==y&&j.has(L)&&A.push({id:x,exportValue:E,domElement:L})}return A}static get platform(){const d=typeof navigator<"u"?navigator.platform:"";return(0,p.shadow)(this,"platform",{isWin:d.includes("Win"),isMac:d.includes("Mac")})}}class Y extends re{constructor(d,y=null){super(d,{isRenderable:!!(d.data.url||d.data.dest||d.data.action||d.data.isTooltipOnly||d.data.resetForm||d.data.actions&&(d.data.actions.Action||d.data.actions["Mouse Up"]||d.data.actions["Mouse Down"])),ignoreBorder:!!y?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:d,linkService:y}=this,A=document.createElement("a");if(d.url)y.addLinkAttributes||(0,p.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),y.addLinkAttributes?.(A,d.url,d.newWindow);else if(d.action)this._bindNamedAction(A,d.action);else if(d.dest)this._bindLink(A,d.dest);else{let L=!1;d.actions&&(d.actions.Action||d.actions["Mouse Up"]||d.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(L=!0,this._bindJSAction(A,d)),d.resetForm?this._bindResetFormAction(A,d.resetForm):L||this._bindLink(A,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((L,x)=>{const E=0===x?A:A.cloneNode();return L.appendChild(E),L}):(this.container.className="linkAnnotation",this.container.appendChild(A),this.container)}_bindLink(d,y){d.href=this.linkService.getDestinationHash(y),d.onclick=()=>(y&&this.linkService.goToDestination(y),!1),(y||""===y)&&(d.className="internalLink")}_bindNamedAction(d,y){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.linkService.executeNamedAction(y),!1),d.className="internalLink"}_bindJSAction(d,y){d.href=this.linkService.getAnchorUrl("");const A=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const L of Object.keys(y.actions)){const x=A.get(L);x&&(d[x]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y.id,name:L}}),!1))}d.onclick||(d.onclick=()=>!1),d.className="internalLink"}_bindResetFormAction(d,y){const A=d.onclick;if(A||(d.href=this.linkService.getAnchorUrl("")),d.className="internalLink",!this._fieldObjects)return(0,p.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(A||(d.onclick=()=>!1));d.onclick=()=>{A&&A();const{fields:L,refs:x,include:E}=y,X=[];if(0!==L.length||0!==x.length){const fe=new Set(x);for(const Ie of L){const Fe=this._fieldObjects[Ie]||[];for(const{id:je}of Fe)fe.add(je)}for(const Ie of Object.values(this._fieldObjects))for(const Fe of Ie)fe.has(Fe.id)===E&&X.push(Fe)}else for(const fe of Object.values(this._fieldObjects))X.push(...fe);const de=this.annotationStorage,ue=[];for(const fe of X){const{id:Ie}=fe;switch(ue.push(Ie),fe.type){case"text":{const je=fe.defaultValue||"";de.setValue(Ie,{value:je,valueAsString:je});break}case"checkbox":case"radiobutton":de.setValue(Ie,{value:fe.defaultValue===fe.exportValues});break;case"combobox":case"listbox":de.setValue(Ie,{value:fe.defaultValue||""});break;default:continue}const Fe=document.getElementById(Ie);!Fe||!j.has(Fe)||Fe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ue,name:"ResetForm"}}),!1}}}class ne extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str)})}render(){this.container.className="textAnnotation";const d=document.createElement("img");return d.style.height=this.container.style.height,d.style.width=this.container.style.width,d.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",d.alt="[{{type}} Annotation]",d.dataset.l10nId="text_annotation_type",d.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(d,this.data),this.container.appendChild(d),this.container}}class M extends re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(d){const{isWin:y,isMac:A}=re.platform;return y&&d.ctrlKey||A&&d.metaKey}_setEventListener(d,y,A,L){y.includes("mouse")?d.addEventListener(y,x=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:L(x),shift:x.shiftKey,modifier:this._getKeyModifier(x)}})}):d.addEventListener(y,x=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:L(x)}})})}_setEventListeners(d,y,A){for(const[L,x]of y)("Action"===x||this.data.actions?.[x])&&this._setEventListener(d,L,x,A)}_setBackgroundColor(d){const y=this.data.backgroundColor||null;d.style.backgroundColor=null===y?"transparent":p.Util.makeHexColor(y[0],y[1],y[2])}_dispatchEventFromSandbox(d,y){const A=(x,E,X)=>{const de=X.detail[x];X.target.style[E]=pe.ColorConverters[`${de[0]}_HTML`](de.slice(1))},L={display:x=>{const E=x.detail.display%2==1;x.target.style.visibility=E?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:E,print:0===x.detail.display||3===x.detail.display})},print:x=>{this.annotationStorage.setValue(this.data.id,{print:x.detail.print})},hidden:x=>{x.target.style.visibility=x.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:x.detail.hidden})},focus:x=>{setTimeout(()=>x.target.focus({preventScroll:!1}),0)},userName:x=>{x.target.title=x.detail.userName},readonly:x=>{x.detail.readonly?x.target.setAttribute("readonly",""):x.target.removeAttribute("readonly")},required:x=>{x.detail.required?x.target.setAttribute("required",""):x.target.removeAttribute("required")},bgColor:x=>{A("bgColor","backgroundColor",x)},fillColor:x=>{A("fillColor","backgroundColor",x)},fgColor:x=>{A("fgColor","color",x)},textColor:x=>{A("textColor","color",x)},borderColor:x=>{A("borderColor","borderColor",x)},strokeColor:x=>{A("strokeColor","borderColor",x)}};for(const x of Object.keys(y.detail)){const E=d[x]||L[x];E&&E(y)}}}class k extends M{constructor(d){super(d,{isRenderable:d.renderForms||!d.data.hasAppearance&&!!d.data.fieldValue})}setPropertyOnSiblings(d,y,A,L){const x=this.annotationStorage;for(const E of this._getElementsByName(d.name,d.id))E.domElement&&(E.domElement[y]=A),x.setValue(E.id,{[L]:A})}render(){const d=this.annotationStorage,y=this.data.id;this.container.className="textWidgetAnnotation";let A=null;if(this.renderForms){const L=d.getValue(y,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),x=L.valueAsString||L.value||"",E={userValue:null,formattedValue:null};this.data.multiLine?(A=document.createElement("textarea"),A.textContent=x):(A=document.createElement("input"),A.type="text",A.setAttribute("value",x)),j.add(A),A.disabled=this.data.readOnly,A.name=this.data.fieldName,A.tabIndex=z,E.userValue=x,A.setAttribute("id",y),A.addEventListener("input",de=>{d.setValue(y,{value:de.target.value}),this.setPropertyOnSiblings(A,"value",de.target.value,"value")}),A.addEventListener("resetform",de=>{A.value=E.userValue=this.data.defaultFieldValue||"",delete E.formattedValue});let X=de=>{E.formattedValue&&(de.target.value=E.formattedValue),de.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){A.addEventListener("focus",ue=>{E.userValue&&(ue.target.value=E.userValue)}),A.addEventListener("updatefromsandbox",ue=>{this._dispatchEventFromSandbox({value(Ie){E.userValue=Ie.detail.value||"",d.setValue(y,{value:E.userValue.toString()}),E.formattedValue||(Ie.target.value=E.userValue)},valueAsString(Ie){E.formattedValue=Ie.detail.valueAsString||"",Ie.target!==document.activeElement&&(Ie.target.value=E.formattedValue),d.setValue(y,{formattedValue:E.formattedValue})},selRange(Ie){const[Fe,je]=Ie.detail.selRange;Fe>=0&&je<Ie.target.value.length&&Ie.target.setSelectionRange(Fe,je)}},ue)}),A.addEventListener("keydown",ue=>{let fe=-1;"Escape"===ue.key?fe=0:"Enter"===ue.key?fe=2:"Tab"===ue.key&&(fe=3),-1!==fe&&(E.userValue=ue.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:ue.target.value,willCommit:!0,commitKey:fe,selStart:ue.target.selectionStart,selEnd:ue.target.selectionEnd}}))});const de=X;X=null,A.addEventListener("blur",ue=>{E.userValue=ue.target.value,this._mouseState.isDown&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:ue.target.value,willCommit:!0,commitKey:1,selStart:ue.target.selectionStart,selEnd:ue.target.selectionEnd}}),de(ue)}),this.data.actions?.Keystroke&&A.addEventListener("beforeinput",ue=>{E.formattedValue="";const{data:fe,target:Ie}=ue,{value:Fe,selectionStart:je,selectionEnd:$e}=Ie;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:Fe,change:fe,willCommit:!1,selStart:je,selEnd:$e}})}),this._setEventListeners(A,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ue=>ue.target.value)}if(X&&A.addEventListener("blur",X),null!==this.data.maxLen&&(A.maxLength=this.data.maxLen),this.data.comb){const ue=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;A.classList.add("comb"),A.style.letterSpacing=`calc(${ue}px - 1ch)`}}else A=document.createElement("div"),A.textContent=this.data.fieldValue,A.style.verticalAlign="middle",A.style.display="table-cell";return this._setTextStyle(A),this._setBackgroundColor(A),this.container.appendChild(A),this.container}_setTextStyle(d){const{fontSize:A,fontColor:L}=this.data.defaultAppearanceData,x=d.style;A&&(x.fontSize=`${A}px`),x.color=p.Util.makeHexColor(L[0],L[1],L[2]),null!==this.data.textAlignment&&(x.textAlign=["left","center","right"][this.data.textAlignment])}}class H extends M{constructor(d){super(d,{isRenderable:d.renderForms})}render(){const d=this.annotationStorage,y=this.data,A=y.id;let L=d.getValue(A,{value:y.exportValue===y.fieldValue}).value;"string"==typeof L&&(L="Off"!==L,d.setValue(A,{value:L})),this.container.className="buttonWidgetAnnotation checkBox";const x=document.createElement("input");return j.add(x),x.disabled=y.readOnly,x.type="checkbox",x.name=y.fieldName,L&&x.setAttribute("checked",!0),x.setAttribute("id",A),x.setAttribute("exportValue",y.exportValue),x.tabIndex=z,x.addEventListener("change",E=>{const{name:X,checked:de}=E.target;for(const ue of this._getElementsByName(X,A)){const fe=de&&ue.exportValue===y.exportValue;ue.domElement&&(ue.domElement.checked=fe),d.setValue(ue.id,{value:fe})}d.setValue(A,{value:de})}),x.addEventListener("resetform",E=>{E.target.checked=(y.defaultFieldValue||"Off")===y.exportValue}),this.enableScripting&&this.hasJSActions&&(x.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(de){de.target.checked="Off"!==de.detail.value,d.setValue(A,{value:de.target.checked})}},E)}),this._setEventListeners(x,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(x),this.container.appendChild(x),this.container}}class G extends M{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const d=this.annotationStorage,y=this.data,A=y.id;let L=d.getValue(A,{value:y.fieldValue===y.buttonValue}).value;"string"==typeof L&&(L=L!==y.buttonValue,d.setValue(A,{value:L}));const x=document.createElement("input");if(j.add(x),x.disabled=y.readOnly,x.type="radio",x.name=y.fieldName,L&&x.setAttribute("checked",!0),x.setAttribute("id",A),x.tabIndex=z,x.addEventListener("change",E=>{const{name:X,checked:de}=E.target;for(const ue of this._getElementsByName(X,A))d.setValue(ue.id,{value:!1});d.setValue(A,{value:de})}),x.addEventListener("resetform",E=>{const X=y.defaultFieldValue;E.target.checked=null!=X&&X===y.buttonValue}),this.enableScripting&&this.hasJSActions){const E=y.buttonValue;x.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({value:ue=>{const fe=E===ue.detail.value;for(const Ie of this._getElementsByName(ue.target.name)){const Fe=fe&&Ie.id===A;Ie.domElement&&(Ie.domElement.checked=Fe),d.setValue(Ie.id,{value:Fe})}}},X)}),this._setEventListeners(x,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.checked)}return this._setBackgroundColor(x),this.container.appendChild(x),this.container}}class O extends Y{constructor(d){super(d,{ignoreBorder:d.data.hasAppearance})}render(){const d=super.render();return d.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(d.title=this.data.alternativeText),d}}class N extends M{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const d=this.annotationStorage,y=this.data.id;d.getValue(y,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:A}=this.data.defaultAppearanceData;A||(A=9);const L=`calc(${A}px * var(--zoom-factor))`,x=document.createElement("select");j.add(x),x.disabled=this.data.readOnly,x.name=this.data.fieldName,x.setAttribute("id",y),x.tabIndex=z,x.style.fontSize=`${A}px`,this.data.combo||(x.size=this.data.options.length,this.data.multiSelect&&(x.multiple=!0)),x.addEventListener("resetform",de=>{const ue=this.data.defaultFieldValue;for(const fe of x.options)fe.selected=fe.value===ue});for(const de of this.data.options){const ue=document.createElement("option");ue.textContent=de.displayValue,ue.value=de.exportValue,this.data.combo&&(ue.style.fontSize=L),this.data.fieldValue.includes(de.exportValue)&&ue.setAttribute("selected",!0),x.appendChild(ue)}const E=(de,ue)=>{const fe=ue?"value":"textContent",Ie=de.target.options;return de.target.multiple?Array.prototype.filter.call(Ie,Fe=>Fe.selected).map(Fe=>Fe[fe]):-1===Ie.selectedIndex?null:Ie[Ie.selectedIndex][fe]},X=de=>Array.prototype.map.call(de.target.options,fe=>({displayValue:fe.textContent,exportValue:fe.value}));return this.enableScripting&&this.hasJSActions?(x.addEventListener("updatefromsandbox",de=>{this._dispatchEventFromSandbox({value(fe){const Ie=fe.detail.value,Fe=new Set(Array.isArray(Ie)?Ie:[Ie]);for(const je of x.options)je.selected=Fe.has(je.value);d.setValue(y,{value:E(fe,!0)})},multipleSelection(fe){x.multiple=!0},remove(fe){const Ie=x.options,Fe=fe.detail.remove;Ie[Fe].selected=!1,x.remove(Fe),Ie.length>0&&-1===Array.prototype.findIndex.call(Ie,$e=>$e.selected)&&(Ie[0].selected=!0),d.setValue(y,{value:E(fe,!0),items:X(fe)})},clear(fe){for(;0!==x.length;)x.remove(0);d.setValue(y,{value:null,items:[]})},insert(fe){const{index:Ie,displayValue:Fe,exportValue:je}=fe.detail.insert,$e=document.createElement("option");$e.textContent=Fe,$e.value=je,x.insertBefore($e,x.children[Ie]),d.setValue(y,{value:E(fe,!0),items:X(fe)})},items(fe){const{items:Ie}=fe.detail;for(;0!==x.length;)x.remove(0);for(const Fe of Ie){const{displayValue:je,exportValue:$e}=Fe,Ne=document.createElement("option");Ne.textContent=je,Ne.value=$e,x.appendChild(Ne)}x.options.length>0&&(x.options[0].selected=!0),d.setValue(y,{value:E(fe,!0),items:X(fe)})},indices(fe){const Ie=new Set(fe.detail.indices);for(const Fe of fe.target.options)Fe.selected=Ie.has(Fe.index);d.setValue(y,{value:E(fe,!0)})},editable(fe){fe.target.disabled=!fe.detail.editable}},de)}),x.addEventListener("input",de=>{const ue=E(de,!0),fe=E(de,!1);d.setValue(y,{value:ue}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:fe,changeEx:ue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(x,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],de=>de.target.checked)):x.addEventListener("input",function(de){d.setValue(y,{value:E(de)})}),this._setBackgroundColor(x),this.container.appendChild(x),this.container}}class g extends re{constructor(d){super(d,{isRenderable:!!(d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const A=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===A.length)return this.container;const L=new f({container:this.container,trigger:Array.from(A),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),x=this.page,E=p.Util.normalizeRect([this.data.parentRect[0],x.view[3]-this.data.parentRect[1]+x.view[1],this.data.parentRect[2],x.view[3]-this.data.parentRect[3]+x.view[1]]),X=E[0]+this.data.parentRect[2]-this.data.parentRect[0],de=E[1];return this.container.style.transformOrigin=`${-X}px ${-de}px`,this.container.style.left=`${X}px`,this.container.style.top=`${de}px`,this.container.appendChild(L.render()),this.container}}class f{constructor(d){this.container=d.container,this.trigger=d.trigger,this.color=d.color,this.titleObj=d.titleObj,this.modificationDate=d.modificationDate,this.contentsObj=d.contentsObj,this.richText=d.richText,this.hideWrapper=d.hideWrapper||!1,this.pinned=!1}render(){const y=document.createElement("div");y.className="popupWrapper",this.hideElement=this.hideWrapper?y:this.container,this.hideElement.hidden=!0;const A=document.createElement("div");A.className="popup";const L=this.color;L&&(A.style.backgroundColor=p.Util.makeHexColor(0|.7*(255-L[0])+L[0],0|.7*(255-L[1])+L[1],0|.7*(255-L[2])+L[2]));const x=document.createElement("h1");x.dir=this.titleObj.dir,x.textContent=this.titleObj.str,A.appendChild(x);const E=Z.PDFDateString.toDateObject(this.modificationDate);if(E){const X=document.createElement("span");X.className="popupDate",X.textContent="{{date}}, {{time}}",X.dataset.l10nId="annotation_date_string",X.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),A.appendChild(X)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const X=this._formatContents(this.contentsObj);A.appendChild(X)}else J.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:A}),A.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const X of this.trigger)X.addEventListener("click",this._toggle.bind(this)),X.addEventListener("mouseover",this._show.bind(this,!1)),X.addEventListener("mouseout",this._hide.bind(this,!1));return A.addEventListener("click",this._hide.bind(this,!0)),y.appendChild(A),y}_formatContents({str:d,dir:y}){const A=document.createElement("p");A.className="popupContent",A.dir=y;const L=d.split(/(?:\r\n?|\n)/);for(let x=0,E=L.length;x<E;++x)A.appendChild(document.createTextNode(L[x])),x<E-1&&A.appendChild(document.createElement("br"));return A}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(d=!1){d&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(d=!0){d&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class I extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class U extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const d=this.data,{width:y,height:A}=ee(d.rect),L=this.svgFactory.create(y,A),x=this.svgFactory.createElement("svg:line");return x.setAttribute("x1",d.rect[2]-d.lineCoordinates[0]),x.setAttribute("y1",d.rect[3]-d.lineCoordinates[1]),x.setAttribute("x2",d.rect[2]-d.lineCoordinates[2]),x.setAttribute("y2",d.rect[3]-d.lineCoordinates[3]),x.setAttribute("stroke-width",d.borderStyle.width||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),L.appendChild(x),this.container.append(L),this._createPopup(x,d),this.container}}class S extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const d=this.data,{width:y,height:A}=ee(d.rect),L=this.svgFactory.create(y,A),x=d.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",x/2),E.setAttribute("y",x/2),E.setAttribute("width",y-x),E.setAttribute("height",A-x),E.setAttribute("stroke-width",x||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),L.appendChild(E),this.container.append(L),this._createPopup(E,d),this.container}}class B extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const d=this.data,{width:y,height:A}=ee(d.rect),L=this.svgFactory.create(y,A),x=d.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",y/2),E.setAttribute("cy",A/2),E.setAttribute("rx",y/2-x/2),E.setAttribute("ry",A/2-x/2),E.setAttribute("stroke-width",x||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),L.appendChild(E),this.container.append(L),this._createPopup(E,d),this.container}}class P extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const d=this.data,{width:y,height:A}=ee(d.rect),L=this.svgFactory.create(y,A);let x=[];for(const X of d.vertices)x.push(X.x-d.rect[0]+","+(d.rect[3]-X.y));x=x.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",x),E.setAttribute("stroke-width",d.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),L.appendChild(E),this.container.append(L),this._createPopup(E,d),this.container}}class C extends P{constructor(d){super(d),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class V extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class K extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const d=this.data,{width:y,height:A}=ee(d.rect),L=this.svgFactory.create(y,A);for(const x of d.inkLists){let E=[];for(const de of x)E.push(`${de.x-d.rect[0]},${d.rect[3]-de.y}`);E=E.join(" ");const X=this.svgFactory.createElement(this.svgElementName);X.setAttribute("points",E),X.setAttribute("stroke-width",d.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),this._createPopup(X,d),L.appendChild(X)}return this.container.append(L),this.container}}class Q extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class te extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ce extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ge extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class R extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class w extends re{constructor(d){super(d,{isRenderable:!0});const{filename:y,content:A}=this.data.file;this.filename=(0,Z.getFilenameFromUrl)(y),this.content=A,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,p.stringToPDFString)(y),filename:y,content:A})}render(){this.container.className="fileAttachmentAnnotation";const d=document.createElement("div");return d.style.height=this.container.style.height,d.style.width=this.container.style.width,d.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(d,this.data),this.container.appendChild(d),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class m{static render(d){const y=[],A=[];for(const x of d.annotations){if(!x)continue;const{width:E,height:X}=ee(x.rect);if(!(E<=0||X<=0)){if(x.annotationType===p.AnnotationType.POPUP){A.push(x);continue}y.push(x)}}A.length&&y.push(...A);const L=d.div;for(const x of y){const E=ie.create({data:x,layer:L,page:d.page,viewport:d.viewport,linkService:d.linkService,downloadManager:d.downloadManager,imageResourcesPath:d.imageResourcesPath||"",renderForms:!1!==d.renderForms,svgFactory:new Z.DOMSVGFactory,annotationStorage:d.annotationStorage||new W.AnnotationStorage,enableScripting:d.enableScripting,hasJSActions:d.hasJSActions,fieldObjects:d.fieldObjects,mouseState:d.mouseState||{isDown:!1}});if(E.isRenderable){const X=E.render();if(x.hidden&&(X.style.visibility="hidden"),Array.isArray(X))for(const de of X)L.appendChild(de);else E instanceof g?L.prepend(X):L.appendChild(X)}}_classStaticPrivateMethodGet(this,m,T).call(this,L,d.annotationCanvasMap)}static update(d){const{page:y,viewport:A,annotations:L,annotationCanvasMap:x,div:E}=d,X=A.transform,de=`matrix(${X.join(",")})`;let ue,fe;for(const Ie of L){const Fe=E.querySelectorAll(`[data-annotation-id="${Ie.id}"]`);if(Fe)for(const je of Fe)if(Ie.hasOwnCanvas){const $e=p.Util.normalizeRect([Ie.rect[0],y.view[3]-Ie.rect[1]+y.view[1],Ie.rect[2],y.view[3]-Ie.rect[3]+y.view[1]]);if(!fe){ue=Math.abs(X[0]||X[1]);const kt=X.slice();for(let Qe=0;Qe<4;Qe++)kt[Qe]=Math.sign(kt[Qe]);fe=`matrix(${kt.join(",")})`}const Ne=$e[0]*ue,Pt=$e[1]*ue;je.style.left=`${Ne}px`,je.style.top=`${Pt}px`,je.style.transformOrigin=`${-Ne}px ${-Pt}px`,je.style.transform=fe}else je.style.transform=de}_classStaticPrivateMethodGet(this,m,T).call(this,E,x),E.hidden=!1}}function T(b,d){if(d){for(const[y,A]of d){const L=b.querySelector(`[data-annotation-id="${y}"]`);if(!L)continue;const{firstChild:x}=L;"CANVAS"===x.nodeName?L.replaceChild(A,x):L.insertBefore(A,x)}d.clear()}}_.AnnotationLayer=m},(ae,_)=>{function q(Z){return Math.floor(255*Math.max(0,Math.min(1,Z))).toString(16).padStart(2,"0")}Object.defineProperty(_,"__esModule",{value:!0}),_.ColorConverters=void 0,_.ColorConverters=class p{static CMYK_G([W,pe,J,z]){return["G",1-Math.min(1,.3*W+.59*J+.11*pe+z)]}static G_CMYK([W]){return["CMYK",0,0,0,1-W]}static G_RGB([W]){return["RGB",W,W,W]}static G_HTML([W]){const pe=q(W);return`#${pe}${pe}${pe}`}static RGB_G([W,pe,J]){return["G",.3*W+.59*pe+.11*J]}static RGB_HTML([W,pe,J]){return`#${q(W)}${q(pe)}${q(J)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([W,pe,J,z]){return["RGB",1-Math.min(1,W+z),1-Math.min(1,J+z),1-Math.min(1,pe+z)]}static CMYK_HTML(W){return this.RGB_HTML(this.CMYK_RGB(W))}static RGB_CMYK([W,pe,J]){const z=1-W,j=1-pe,ee=1-J;return["CMYK",z,j,ee,Math.min(z,j,ee)]}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaLayer=void 0;var p=q(1),Z=q(17);_.XfaLayer=class W{static setupStorage(J,z,j,ee,ie){const re=ee.getValue(z,{value:null});switch(j.name){case"textarea":if(null!==re.value&&(J.textContent=re.value),"print"===ie)break;J.addEventListener("input",Y=>{ee.setValue(z,{value:Y.target.value})});break;case"input":if("radio"===j.attributes.type||"checkbox"===j.attributes.type){if(re.value===j.attributes.xfaOn?J.setAttribute("checked",!0):re.value===j.attributes.xfaOff&&J.removeAttribute("checked"),"print"===ie)break;J.addEventListener("change",Y=>{ee.setValue(z,{value:Y.target.getAttribute(Y.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==re.value&&J.setAttribute("value",re.value),"print"===ie)break;J.addEventListener("input",Y=>{ee.setValue(z,{value:Y.target.value})})}break;case"select":if(null!==re.value)for(const Y of j.children)Y.attributes.value===re.value&&(Y.attributes.selected=!0);J.addEventListener("input",Y=>{const ne=Y.target.options;ee.setValue(z,{value:-1===ne.selectedIndex?"":ne[ne.selectedIndex].value})})}}static setAttributes({html:J,element:z,storage:j=null,intent:ee,linkService:ie}){const{attributes:re}=z,Y=J instanceof HTMLAnchorElement;"radio"===re.type&&(re.name=`${re.name}-${ee}`);for(const[ne,M]of Object.entries(re))if(null!=M&&"dataId"!==ne)if("style"!==ne)if("textContent"===ne)J.textContent=M;else if("class"===ne)M.length&&J.setAttribute(ne,M.join(" "));else{if(Y&&("href"===ne||"newWindow"===ne))continue;J.setAttribute(ne,M)}else Object.assign(J.style,M);Y&&(ie.addLinkAttributes||(0,p.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),ie.addLinkAttributes?.(J,re.href,re.newWindow)),j&&re.dataId&&this.setupStorage(J,re.dataId,z,j)}static render(J){const z=J.annotationStorage,j=J.linkService,ee=J.xfaHtml,ie=J.intent||"display",re=document.createElement(ee.name);ee.attributes&&this.setAttributes({html:re,element:ee,intent:ie,linkService:j});const Y=[[ee,-1,re]],ne=J.div;if(ne.appendChild(re),J.viewport){const k=`matrix(${J.viewport.transform.join(",")})`;ne.style.transform=k}"richText"!==ie&&ne.setAttribute("class","xfaLayer xfaFont");const M=[];for(;Y.length>0;){const[k,H,G]=Y[Y.length-1];if(H+1===k.children.length){Y.pop();continue}const O=k.children[++Y[Y.length-1][1]];if(null===O)continue;const{name:N}=O;if("#text"===N){const f=document.createTextNode(O.value);M.push(f),G.appendChild(f);continue}let g;if(g=O?.attributes?.xmlns?document.createElementNS(O.attributes.xmlns,N):document.createElement(N),G.appendChild(g),O.attributes&&this.setAttributes({html:g,element:O,storage:z,intent:ie,linkService:j}),O.children&&O.children.length>0)Y.push([O,-1,g]);else if(O.value){const f=document.createTextNode(O.value);Z.XfaText.shouldBuildText(N)&&M.push(f),g.appendChild(f)}}for(const k of ne.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))k.setAttribute("readOnly",!0);return{textDivs:M}}static update(J){const z=`matrix(${J.viewport.transform.join(",")})`;J.div.style.transform=z,J.div.hidden=!1}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.renderTextLayer=function H(G){const O=new k({textContent:G.textContent,textContentStream:G.textContentStream,container:G.container,viewport:G.viewport,textDivs:G.textDivs,textContentItemsStr:G.textContentItemsStr,enhanceTextSelection:G.enhanceTextSelection});return O._render(G.timeout),O};var p=q(1);const Z=1e5,W=30,pe=.8,J=new Map,z=/^\s+$/g;function ee(G,O,N,g){const f=document.createElement("span"),I=G._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==O.str,hasEOL:O.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==O.str,hasEOL:O.hasEOL};G._textDivs.push(f);const U=p.Util.transform(G._viewport.transform,O.transform);let S=Math.atan2(U[1],U[0]);const B=N[O.fontName];B.vertical&&(S+=Math.PI/2);const P=Math.hypot(U[2],U[3]),C=P*function j(G,O){const N=J.get(G);if(N)return N;O.save(),O.font=`${W}px ${G}`;const g=O.measureText("");let f=g.fontBoundingBoxAscent,I=Math.abs(g.fontBoundingBoxDescent);if(f){O.restore();const S=f/(f+I);return J.set(G,S),S}O.strokeStyle="red",O.clearRect(0,0,W,W),O.strokeText("g",0,0);let U=O.getImageData(0,0,W,W).data;I=0;for(let S=U.length-1-3;S>=0;S-=4)if(U[S]>0){I=Math.ceil(S/4/W);break}O.clearRect(0,0,W,W),O.strokeText("A",0,W),U=O.getImageData(0,0,W,W).data,f=0;for(let S=0,B=U.length;S<B;S+=4)if(U[S]>0){f=W-Math.floor(S/4/W);break}if(O.restore(),f){const S=f/(f+I);return J.set(G,S),S}return J.set(G,pe),pe}(B.fontFamily,g);let V,K;0===S?(V=U[4],K=U[5]-C):(V=U[4]+C*Math.sin(S),K=U[5]-C*Math.cos(S)),f.style.left=`${V}px`,f.style.top=`${K}px`,f.style.fontSize=`${P}px`,f.style.fontFamily=B.fontFamily,f.setAttribute("role","presentation"),f.textContent=O.str,f.dir=O.dir,G._fontInspectorEnabled&&(f.dataset.fontName=O.fontName),0!==S&&(I.angle=S*(180/Math.PI));let Q=!1;if(O.str.length>1||G._enhanceTextSelection&&z.test(O.str))Q=!0;else if(" "!==O.str&&O.transform[0]!==O.transform[3]){const te=Math.abs(O.transform[0]),ce=Math.abs(O.transform[3]);te!==ce&&Math.max(te,ce)/Math.min(te,ce)>1.5&&(Q=!0)}if(Q&&(I.canvasWidth=B.vertical?O.height*G._viewport.scale:O.width*G._viewport.scale),G._textDivProperties.set(f,I),G._textContentStream&&G._layoutText(f),G._enhanceTextSelection&&I.hasText){let te=1,ce=0;0!==S&&(te=Math.cos(S),ce=Math.sin(S));const ge=(B.vertical?O.height:O.width)*G._viewport.scale,R=P;let w,m;0!==S?(w=[te,ce,-ce,te,V,K],m=p.Util.getAxialAlignedBoundingBox([0,0,ge,R],w)):m=[V,K,V+ge,K+R],G._bounds.push({left:m[0],top:m[1],right:m[2],bottom:m[3],div:f,size:[ge,R],m:w})}}function ie(G){if(G._canceled)return;const O=G._textDivs,N=G._capability,g=O.length;if(g>Z)return G._renderingDone=!0,void N.resolve();if(!G._textContentStream)for(let f=0;f<g;f++)G._layoutText(O[f]);G._renderingDone=!0,N.resolve()}function re(G,O,N){let g=0;for(let f=0;f<N;f++){const I=G[O++];I>0&&(g=g?Math.min(I,g):I)}return g}function M(G,O){O.sort(function(f,I){return f.x1-I.x1||f.index-I.index});const g=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const f of O){let I=0;for(;I<g.length&&g[I].end<=f.y1;)I++;let U=g.length-1;for(;U>=0&&g[U].start>=f.y2;)U--;let S,B,P,C,V=-1/0;for(P=I;P<=U;P++){let te;S=g[P],B=S.boundary,te=B.x2>f.x1?B.index>f.index?B.x1New:f.x1:void 0===B.x2New?(B.x2+f.x1)/2:B.x2New,te>V&&(V=te)}for(f.x1New=V,P=I;P<=U;P++)S=g[P],B=S.boundary,void 0===B.x2New?B.x2>f.x1?B.index>f.index&&(B.x2New=B.x2):B.x2New=V:B.x2New>V&&(B.x2New=Math.max(V,B.x2));const K=[];let Q=null;for(P=I;P<=U;P++){S=g[P],B=S.boundary;const te=B.x2>f.x2?B:f;Q===te?K[K.length-1].end=S.end:(K.push({start:S.start,end:S.end,boundary:te}),Q=te)}for(g[I].start<f.y1&&(K[0].start=f.y1,K.unshift({start:g[I].start,end:f.y1,boundary:g[I].boundary})),f.y2<g[U].end&&(K[K.length-1].end=f.y2,K.push({start:f.y2,end:g[U].end,boundary:g[U].boundary})),P=I;P<=U;P++){if(S=g[P],B=S.boundary,void 0!==B.x2New)continue;let te=!1;for(C=I-1;!te&&C>=0&&g[C].start>=B.y1;C--)te=g[C].boundary===B;for(C=U+1;!te&&C<g.length&&g[C].end<=B.y2;C++)te=g[C].boundary===B;for(C=0;!te&&C<K.length;C++)te=K[C].boundary===B;te||(B.x2New=V)}Array.prototype.splice.apply(g,[I,U-I+1].concat(K))}for(const f of g){const I=f.boundary;void 0===I.x2New&&(I.x2New=Math.max(G,I.x2))}}class k{constructor({textContent:O,textContentStream:N,container:g,viewport:f,textDivs:I,textContentItemsStr:U,enhanceTextSelection:S}){this._textContent=O,this._textContentStream=N,this._container=g,this._document=g.ownerDocument,this._viewport=f,this._textDivs=I||[],this._textContentItemsStr=U||[],this._enhanceTextSelection=!!S,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,p.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new p.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(O,N){for(let g=0,f=O.length;g<f;g++)if(void 0!==O[g].str)this._textContentItemsStr.push(O[g].str),ee(this,O[g],N,this._layoutTextCtx);else if("beginMarkedContentProps"===O[g].type||"beginMarkedContent"===O[g].type){const I=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==O[g].id&&this._container.setAttribute("id",`${O[g].id}`),I.appendChild(this._container)}else"endMarkedContent"===O[g].type&&(this._container=this._container.parentNode)}_layoutText(O){const N=this._textDivProperties.get(O);let g="";if(0!==N.canvasWidth&&N.hasText){const{fontSize:f,fontFamily:I}=O.style;(f!==this._layoutTextLastFontSize||I!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${f} ${I}`,this._layoutTextLastFontSize=f,this._layoutTextLastFontFamily=I);const{width:U}=this._layoutTextCtx.measureText(O.textContent);if(U>0){const S=N.canvasWidth/U;this._enhanceTextSelection&&(N.scale=S),g=`scaleX(${S})`}}if(0!==N.angle&&(g=`rotate(${N.angle}deg) ${g}`),g.length>0&&(this._enhanceTextSelection&&(N.originalTransform=g),O.style.transform=g),N.hasText&&this._container.appendChild(O),N.hasEOL){const f=document.createElement("br");f.setAttribute("role","presentation"),this._container.appendChild(f)}}_render(O=0){const N=(0,p.createPromiseCapability)();let g=Object.create(null);const f=this._document.createElement("canvas");if(f.height=f.width=W,f.mozOpaque=!0,this._layoutTextCtx=f.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),N.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const I=()=>{this._reader.read().then(({value:U,done:S})=>{S?N.resolve():(Object.assign(g,U.styles),this._processItems(U.items,g),I())},N.reject)};this._reader=this._textContentStream.getReader(),I()}}N.promise.then(()=>{g=null,O?this._renderTimer=setTimeout(()=>{ie(this),this._renderTimer=null},O):ie(this)},this._capability.reject)}expandTextDivs(O=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function Y(G){const O=G._bounds,N=G._viewport,g=function ne(G,O,N){const g=N.map(function(I,U){return{x1:I.left,y1:I.top,x2:I.right,y2:I.bottom,index:U,x1New:void 0,x2New:void 0}});M(G,g);const f=new Array(N.length);for(const I of g)f[I.index]={left:I.x1New,top:0,right:I.x2New,bottom:0};N.map(function(I,U){const S=f[U],B=g[U];B.x1=I.top,B.y1=G-S.right,B.x2=I.bottom,B.y2=G-S.left,B.index=U,B.x1New=void 0,B.x2New=void 0}),M(O,g);for(const I of g){const U=I.index;f[U].top=I.x1New,f[U].bottom=I.x2New}return f}(N.width,N.height,O);for(let f=0;f<g.length;f++){const I=O[f].div,U=G._textDivProperties.get(I);if(0===U.angle){U.paddingLeft=O[f].left-g[f].left,U.paddingTop=O[f].top-g[f].top,U.paddingRight=g[f].right-O[f].right,U.paddingBottom=g[f].bottom-O[f].bottom,G._textDivProperties.set(I,U);continue}const S=g[f],B=O[f],P=B.m,C=P[0],V=P[1],K=[[0,0],[0,B.size[1]],[B.size[0],0],B.size],Q=new Float64Array(64);for(let ce=0,ge=K.length;ce<ge;ce++){const R=p.Util.applyTransform(K[ce],P);Q[ce+0]=C&&(S.left-R[0])/C,Q[ce+4]=V&&(S.top-R[1])/V,Q[ce+8]=C&&(S.right-R[0])/C,Q[ce+12]=V&&(S.bottom-R[1])/V,Q[ce+16]=V&&(S.left-R[0])/-V,Q[ce+20]=C&&(S.top-R[1])/C,Q[ce+24]=V&&(S.right-R[0])/-V,Q[ce+28]=C&&(S.bottom-R[1])/C,Q[ce+32]=C&&(S.left-R[0])/-C,Q[ce+36]=V&&(S.top-R[1])/-V,Q[ce+40]=C&&(S.right-R[0])/-C,Q[ce+44]=V&&(S.bottom-R[1])/-V,Q[ce+48]=V&&(S.left-R[0])/V,Q[ce+52]=C&&(S.top-R[1])/-C,Q[ce+56]=V&&(S.right-R[0])/V,Q[ce+60]=C&&(S.bottom-R[1])/-C}const te=1+Math.min(Math.abs(C),Math.abs(V));U.paddingLeft=re(Q,32,16)/te,U.paddingTop=re(Q,48,16)/te,U.paddingRight=re(Q,0,16)/te,U.paddingBottom=re(Q,16,16)/te,G._textDivProperties.set(I,U)}}(this),this._bounds=null);const N=[],g=[];for(let f=0,I=this._textDivs.length;f<I;f++){const U=this._textDivs[f],S=this._textDivProperties.get(U);S.hasText&&(O?(N.length=0,g.length=0,S.originalTransform&&N.push(S.originalTransform),S.paddingTop>0?(g.push(`${S.paddingTop}px`),N.push(`translateY(${-S.paddingTop}px)`)):g.push(0),g.push(S.paddingRight>0?S.paddingRight/S.scale+"px":0),g.push(S.paddingBottom>0?`${S.paddingBottom}px`:0),S.paddingLeft>0?(g.push(S.paddingLeft/S.scale+"px"),N.push(`translateX(${-S.paddingLeft/S.scale}px)`)):g.push(0),U.style.padding=g.join(" "),N.length&&(U.style.transform=N.join(" "))):(U.style.padding=null,U.style.transform=S.originalTransform))}}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SVGGraphics=void 0;var p=q(1),Z=q(5),W=q(3);let pe=class{constructor(){(0,p.unreachable)("Not implemented: SVGGraphics")}};_.SVGGraphics=pe;{let M=function(g){let f=[];const I=[];for(const U of g)"save"!==U.fn?"restore"===U.fn?f=I.pop():f.push(U):(f.push({fnId:92,fn:"group",items:[]}),I.push(f),f=f[f.length-1].items);return f},k=function(g){if(Number.isInteger(g))return g.toString();const f=g.toFixed(10);let I=f.length-1;if("0"!==f[I])return f;do{I--}while("0"===f[I]);return f.substring(0,"."===f[I]?I:I+1)},H=function(g){if(0===g[4]&&0===g[5]){if(0===g[1]&&0===g[2])return 1===g[0]&&1===g[3]?"":`scale(${k(g[0])} ${k(g[3])})`;if(g[0]===g[3]&&g[1]===-g[2]){const f=180*Math.acos(g[0])/Math.PI;return`rotate(${k(f)})`}}else if(1===g[0]&&0===g[1]&&0===g[2]&&1===g[3])return`translate(${k(g[4])} ${k(g[5])})`;return`matrix(${k(g[0])} ${k(g[1])} ${k(g[2])} ${k(g[3])} ${k(g[4])} ${k(g[5])})`};const J={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},z="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/1999/xlink",ee=["butt","round","square"],ie=["miter","round","bevel"],re=function(g,f="",I=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!I)return URL.createObjectURL(new Blob([g],{type:f}));const U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let S=`data:${f};base64,`;for(let B=0,P=g.length;B<P;B+=3){const C=255&g[B],V=255&g[B+1],K=255&g[B+2];S+=U[C>>2]+U[(3&C)<<4|V>>4]+U[B+1<P?(15&V)<<2|K>>6:64]+U[B+2<P?63&K:64]}return S},Y=function(){const g=new Uint8Array([137,80,78,71,13,10,26,10]),f=12,I=new Int32Array(256);for(let K=0;K<256;K++){let Q=K;for(let te=0;te<8;te++)Q=1&Q?3988292384^Q>>1&2147483647:Q>>1&2147483647;I[K]=Q}function S(K,Q,te,ce){let ge=ce;const R=Q.length;te[ge]=R>>24&255,te[ge+1]=R>>16&255,te[ge+2]=R>>8&255,te[ge+3]=255&R,ge+=4,te[ge]=255&K.charCodeAt(0),te[ge+1]=255&K.charCodeAt(1),te[ge+2]=255&K.charCodeAt(2),te[ge+3]=255&K.charCodeAt(3),ge+=4,te.set(Q,ge),ge+=Q.length;const w=function U(K,Q,te){let ce=-1;for(let ge=Q;ge<te;ge++)ce=ce>>>8^I[255&(ce^K[ge])];return-1^ce}(te,ce+4,ge);te[ge]=w>>24&255,te[ge+1]=w>>16&255,te[ge+2]=w>>8&255,te[ge+3]=255&w}function C(K){let Q=K.length;const te=65535,ce=Math.ceil(Q/te),ge=new Uint8Array(2+Q+5*ce+4);let R=0;ge[R++]=120,ge[R++]=156;let w=0;for(;Q>te;)ge[R++]=0,ge[R++]=255,ge[R++]=255,ge[R++]=0,ge[R++]=0,ge.set(K.subarray(w,w+te),R),R+=te,w+=te,Q-=te;ge[R++]=1,ge[R++]=255&Q,ge[R++]=Q>>8&255,ge[R++]=255&~Q,ge[R++]=(65535&~Q)>>8&255,ge.set(K.subarray(w),R),R+=K.length-w;const m=function B(K,Q,te){let ce=1,ge=0;for(let R=Q;R<te;++R)ce=(ce+(255&K[R]))%65521,ge=(ge+ce)%65521;return ge<<16|ce}(K,0,K.length);return ge[R++]=m>>24&255,ge[R++]=m>>16&255,ge[R++]=m>>8&255,ge[R++]=255&m,ge}return function(Q,te,ce){return function V(K,Q,te,ce){const ge=K.width,R=K.height;let w,m,T;const b=K.data;switch(Q){case p.ImageKind.GRAYSCALE_1BPP:m=0,w=1,T=ge+7>>3;break;case p.ImageKind.RGB_24BPP:m=2,w=8,T=3*ge;break;case p.ImageKind.RGBA_32BPP:m=6,w=8,T=4*ge;break;default:throw new Error("invalid format")}const d=new Uint8Array((1+T)*R);let y=0,A=0;for(let ue=0;ue<R;++ue)d[y++]=0,d.set(b.subarray(A,A+T),y),A+=T,y+=T;if(Q===p.ImageKind.GRAYSCALE_1BPP&&ce){y=0;for(let ue=0;ue<R;ue++){y++;for(let fe=0;fe<T;fe++)d[y++]^=255}}const L=new Uint8Array([ge>>24&255,ge>>16&255,ge>>8&255,255&ge,R>>24&255,R>>16&255,R>>8&255,255&R,w,m,0,0,0]),x=function P(K){if(!W.isNodeJS)return C(K);try{let Q;Q=parseInt(process.versions.node)>=8?K:Buffer.from(K);const te=__webpack_require__(258).deflateSync(Q,{level:9});return te instanceof Uint8Array?te:new Uint8Array(te)}catch(Q){(0,p.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Q)}return C(K)}(d),X=new Uint8Array(g.length+3*f+L.length+x.length);let de=0;return X.set(g,de),de+=g.length,S("IHDR",L,X,de),de+=f+L.length,S("IDATA",x,X,de),de+=f+x.length,S("IEND",new Uint8Array(0),X,de),re(X,"image/png",te)}(Q,void 0===Q.kind?p.ImageKind.GRAYSCALE_1BPP:Q.kind,te,ce)}}();class ne{constructor(){this.fontSizeScale=1,this.fontWeight=J.fontWeight,this.fontSize=0,this.textMatrix=p.IDENTITY_MATRIX,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=p.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=J.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(f,I){this.x=f,this.y=I}}let G=0,O=0,N=0;_.SVGGraphics=pe=class{constructor(g,f,I=!1){this.svgFactory=new Z.DOMSVGFactory,this.current=new ne,this.transformMatrix=p.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=g,this.objs=f,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!I,this._operatorIdMapping=[];for(const U in p.OPS)this._operatorIdMapping[p.OPS[U]]=U}save(){this.transformStack.push(this.transformMatrix);const g=this.current;this.extraStack.push(g),this.current=g.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(g){this.save(),this.executeOpTree(g),this.restore()}loadDependencies(g){const f=g.fnArray,I=g.argsArray;for(let U=0,S=f.length;U<S;U++)if(f[U]===p.OPS.dependency)for(const B of I[U]){const P=B.startsWith("g_")?this.commonObjs:this.objs,C=new Promise(V=>{P.get(B,V)});this.current.dependencies.push(C)}return Promise.all(this.current.dependencies)}transform(g,f,I,U,S,B){this.transformMatrix=p.Util.transform(this.transformMatrix,[g,f,I,U,S,B]),this.tgrp=null}getSVG(g,f){this.viewport=f;const I=this._initialize(f);return this.loadDependencies(g).then(()=>(this.transformMatrix=p.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(g)),I))}convertOpList(g){const f=this._operatorIdMapping,I=g.argsArray,U=g.fnArray,S=[];for(let B=0,P=U.length;B<P;B++){const C=U[B];S.push({fnId:C,fn:f[C],args:I[B]})}return M(S)}executeOpTree(g){for(const f of g){const I=f.fn,S=f.args;switch(0|f.fnId){case p.OPS.beginText:this.beginText();break;case p.OPS.dependency:break;case p.OPS.setLeading:this.setLeading(S);break;case p.OPS.setLeadingMoveText:this.setLeadingMoveText(S[0],S[1]);break;case p.OPS.setFont:this.setFont(S);break;case p.OPS.showText:case p.OPS.showSpacedText:this.showText(S[0]);break;case p.OPS.endText:this.endText();break;case p.OPS.moveText:this.moveText(S[0],S[1]);break;case p.OPS.setCharSpacing:this.setCharSpacing(S[0]);break;case p.OPS.setWordSpacing:this.setWordSpacing(S[0]);break;case p.OPS.setHScale:this.setHScale(S[0]);break;case p.OPS.setTextMatrix:this.setTextMatrix(S[0],S[1],S[2],S[3],S[4],S[5]);break;case p.OPS.setTextRise:this.setTextRise(S[0]);break;case p.OPS.setTextRenderingMode:this.setTextRenderingMode(S[0]);break;case p.OPS.setLineWidth:this.setLineWidth(S[0]);break;case p.OPS.setLineJoin:this.setLineJoin(S[0]);break;case p.OPS.setLineCap:this.setLineCap(S[0]);break;case p.OPS.setMiterLimit:this.setMiterLimit(S[0]);break;case p.OPS.setFillRGBColor:this.setFillRGBColor(S[0],S[1],S[2]);break;case p.OPS.setStrokeRGBColor:this.setStrokeRGBColor(S[0],S[1],S[2]);break;case p.OPS.setStrokeColorN:this.setStrokeColorN(S);break;case p.OPS.setFillColorN:this.setFillColorN(S);break;case p.OPS.shadingFill:this.shadingFill(S[0]);break;case p.OPS.setDash:this.setDash(S[0],S[1]);break;case p.OPS.setRenderingIntent:this.setRenderingIntent(S[0]);break;case p.OPS.setFlatness:this.setFlatness(S[0]);break;case p.OPS.setGState:this.setGState(S[0]);break;case p.OPS.fill:this.fill();break;case p.OPS.eoFill:this.eoFill();break;case p.OPS.stroke:this.stroke();break;case p.OPS.fillStroke:this.fillStroke();break;case p.OPS.eoFillStroke:this.eoFillStroke();break;case p.OPS.clip:this.clip("nonzero");break;case p.OPS.eoClip:this.clip("evenodd");break;case p.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case p.OPS.paintImageXObject:this.paintImageXObject(S[0]);break;case p.OPS.paintInlineImageXObject:this.paintInlineImageXObject(S[0]);break;case p.OPS.paintImageMaskXObject:this.paintImageMaskXObject(S[0]);break;case p.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(S[0],S[1]);break;case p.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case p.OPS.closePath:this.closePath();break;case p.OPS.closeStroke:this.closeStroke();break;case p.OPS.closeFillStroke:this.closeFillStroke();break;case p.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case p.OPS.nextLine:this.nextLine();break;case p.OPS.transform:this.transform(S[0],S[1],S[2],S[3],S[4],S[5]);break;case p.OPS.constructPath:this.constructPath(S[0],S[1]);break;case p.OPS.endPath:this.endPath();break;case 92:this.group(f.items);break;default:(0,p.warn)(`Unimplemented operator ${I}`)}}}setWordSpacing(g){this.current.wordSpacing=g}setCharSpacing(g){this.current.charSpacing=g}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(g,f,I,U,S,B){const P=this.current;P.textMatrix=P.lineMatrix=[g,f,I,U,S,B],P.textMatrixScale=Math.hypot(g,f),P.x=P.lineX=0,P.y=P.lineY=0,P.xcoords=[],P.ycoords=[],P.tspan=this.svgFactory.createElement("svg:tspan"),P.tspan.setAttributeNS(null,"font-family",P.fontFamily),P.tspan.setAttributeNS(null,"font-size",`${k(P.fontSize)}px`),P.tspan.setAttributeNS(null,"y",k(-P.y)),P.txtElement=this.svgFactory.createElement("svg:text"),P.txtElement.appendChild(P.tspan)}beginText(){const g=this.current;g.x=g.lineX=0,g.y=g.lineY=0,g.textMatrix=p.IDENTITY_MATRIX,g.lineMatrix=p.IDENTITY_MATRIX,g.textMatrixScale=1,g.tspan=this.svgFactory.createElement("svg:tspan"),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtgrp=this.svgFactory.createElement("svg:g"),g.xcoords=[],g.ycoords=[]}moveText(g,f){const I=this.current;I.x=I.lineX+=g,I.y=I.lineY+=f,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${k(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",k(-I.y))}showText(g){const f=this.current,I=f.font,U=f.fontSize;if(0===U)return;const S=f.fontSizeScale,B=f.charSpacing,P=f.wordSpacing,C=f.fontDirection,V=f.textHScale*C,K=I.vertical,Q=K?1:-1,te=I.defaultVMetrics,ce=U*f.fontMatrix[0];let ge=0;for(const m of g){if(null===m){ge+=C*P;continue}if("number"==typeof m){ge+=Q*m*U/1e3;continue}const T=(m.isSpace?P:0)+B,b=m.fontChar;let d,y,L,A=m.width;if(K){let x;const E=m.vmetric||te;x=m.vmetric?E[1]:.5*A,x=-x*ce,A=E?-E[0]:A,d=x/S,y=(ge+E[2]*ce)/S}else d=ge/S,y=0;(m.isInFont||I.missingFile)&&(f.xcoords.push(f.x+d),K&&f.ycoords.push(-f.y+y),f.tspan.textContent+=b),L=K?A*ce-T*C:A*ce+T*C,ge+=L}f.tspan.setAttributeNS(null,"x",f.xcoords.map(k).join(" ")),f.tspan.setAttributeNS(null,"y",K?f.ycoords.map(k).join(" "):k(-f.y)),K?f.y-=ge:f.x+=ge*V,f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${k(f.fontSize)}px`),f.fontStyle!==J.fontStyle&&f.tspan.setAttributeNS(null,"font-style",f.fontStyle),f.fontWeight!==J.fontWeight&&f.tspan.setAttributeNS(null,"font-weight",f.fontWeight);const R=f.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;R===p.TextRenderingMode.FILL||R===p.TextRenderingMode.FILL_STROKE?(f.fillColor!==J.fillColor&&f.tspan.setAttributeNS(null,"fill",f.fillColor),f.fillAlpha<1&&f.tspan.setAttributeNS(null,"fill-opacity",f.fillAlpha)):f.tspan.setAttributeNS(null,"fill",f.textRenderingMode===p.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(R===p.TextRenderingMode.STROKE||R===p.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(f.tspan,1/(f.textMatrixScale||1));let w=f.textMatrix;0!==f.textRise&&(w=w.slice(),w[5]+=f.textRise),f.txtElement.setAttributeNS(null,"transform",`${H(w)} scale(${k(V)}, -1)`),f.txtElement.setAttributeNS(z,"xml:space","preserve"),f.txtElement.appendChild(f.tspan),f.txtgrp.appendChild(f.txtElement),this._ensureTransformGroup().appendChild(f.txtElement)}setLeadingMoveText(g,f){this.setLeading(-f),this.moveText(g,f)}addFontStyle(g){if(!g.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const f=re(g.data,g.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${g.loadedName}"; src: url(${f}); }\n`}setFont(g){const f=this.current,I=this.commonObjs.get(g[0]);let U=g[1];f.font=I,this.embedFonts&&!I.missingFile&&!this.embeddedFonts[I.loadedName]&&(this.addFontStyle(I),this.embeddedFonts[I.loadedName]=I),f.fontMatrix=I.fontMatrix||p.FONT_IDENTITY_MATRIX;let S="normal";I.black?S="900":I.bold&&(S="bold");const B=I.italic?"italic":"normal";U<0?(U=-U,f.fontDirection=-1):f.fontDirection=1,f.fontSize=U,f.fontFamily=I.loadedName,f.fontWeight=S,f.fontStyle=B,f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"y",k(-f.y)),f.xcoords=[],f.ycoords=[]}endText(){const g=this.current;g.textRenderingMode&p.TextRenderingMode.ADD_TO_PATH_FLAG&&g.txtElement?.hasChildNodes()&&(g.element=g.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(g){g>0&&(this.current.lineWidth=g)}setLineCap(g){this.current.lineCap=ee[g]}setLineJoin(g){this.current.lineJoin=ie[g]}setMiterLimit(g){this.current.miterLimit=g}setStrokeAlpha(g){this.current.strokeAlpha=g}setStrokeRGBColor(g,f,I){this.current.strokeColor=p.Util.makeHexColor(g,f,I)}setFillAlpha(g){this.current.fillAlpha=g}setFillRGBColor(g,f,I){this.current.fillColor=p.Util.makeHexColor(g,f,I),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(g){this.current.strokeColor=this._makeColorN_Pattern(g)}setFillColorN(g){this.current.fillColor=this._makeColorN_Pattern(g)}shadingFill(g){const f=this.viewport.width,I=this.viewport.height,U=p.Util.inverseTransform(this.transformMatrix),S=p.Util.applyTransform([0,0],U),B=p.Util.applyTransform([0,I],U),P=p.Util.applyTransform([f,0],U),C=p.Util.applyTransform([f,I],U),V=Math.min(S[0],B[0],P[0],C[0]),K=Math.min(S[1],B[1],P[1],C[1]),Q=Math.max(S[0],B[0],P[0],C[0]),te=Math.max(S[1],B[1],P[1],C[1]),ce=this.svgFactory.createElement("svg:rect");ce.setAttributeNS(null,"x",V),ce.setAttributeNS(null,"y",K),ce.setAttributeNS(null,"width",Q-V),ce.setAttributeNS(null,"height",te-K),ce.setAttributeNS(null,"fill",this._makeShadingPattern(g)),this.current.fillAlpha<1&&ce.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ce)}_makeColorN_Pattern(g){return"TilingPattern"===g[0]?this._makeTilingPattern(g):this._makeShadingPattern(g)}_makeTilingPattern(g){const f=g[1],I=g[2],U=g[3]||p.IDENTITY_MATRIX,[S,B,P,C]=g[4],V=g[5],K=g[6],Q=g[7],te="shading"+N++,[ce,ge,R,w]=p.Util.normalizeRect([...p.Util.applyTransform([S,B],U),...p.Util.applyTransform([P,C],U)]),[m,T]=p.Util.singularValueDecompose2dScale(U),b=V*m,d=K*T,y=this.svgFactory.createElement("svg:pattern");y.setAttributeNS(null,"id",te),y.setAttributeNS(null,"patternUnits","userSpaceOnUse"),y.setAttributeNS(null,"width",b),y.setAttributeNS(null,"height",d),y.setAttributeNS(null,"x",`${ce}`),y.setAttributeNS(null,"y",`${ge}`);const A=this.svg,L=this.transformMatrix,x=this.current.fillColor,E=this.current.strokeColor,X=this.svgFactory.create(R-ce,w-ge);if(this.svg=X,this.transformMatrix=U,2===Q){const de=p.Util.makeHexColor(...f);this.current.fillColor=de,this.current.strokeColor=de}return this.executeOpTree(this.convertOpList(I)),this.svg=A,this.transformMatrix=L,this.current.fillColor=x,this.current.strokeColor=E,y.appendChild(X.childNodes[0]),this.defs.appendChild(y),`url(#${te})`}_makeShadingPattern(g){switch("string"==typeof g&&(g=this.objs.get(g)),g[0]){case"RadialAxial":const f="shading"+N++,I=g[3];let U;switch(g[1]){case"axial":const S=g[4],B=g[5];U=this.svgFactory.createElement("svg:linearGradient"),U.setAttributeNS(null,"id",f),U.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),U.setAttributeNS(null,"x1",S[0]),U.setAttributeNS(null,"y1",S[1]),U.setAttributeNS(null,"x2",B[0]),U.setAttributeNS(null,"y2",B[1]);break;case"radial":const P=g[4],C=g[5],V=g[6],K=g[7];U=this.svgFactory.createElement("svg:radialGradient"),U.setAttributeNS(null,"id",f),U.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),U.setAttributeNS(null,"cx",C[0]),U.setAttributeNS(null,"cy",C[1]),U.setAttributeNS(null,"r",K),U.setAttributeNS(null,"fx",P[0]),U.setAttributeNS(null,"fy",P[1]),U.setAttributeNS(null,"fr",V);break;default:throw new Error(`Unknown RadialAxial type: ${g[1]}`)}for(const S of I){const B=this.svgFactory.createElement("svg:stop");B.setAttributeNS(null,"offset",S[0]),B.setAttributeNS(null,"stop-color",S[1]),U.appendChild(B)}return this.defs.appendChild(U),`url(#${f})`;case"Mesh":return(0,p.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${g[0]}`)}}setDash(g,f){this.current.dashArray=g,this.current.dashPhase=f}constructPath(g,f){const I=this.current;let U=I.x,S=I.y,B=[],P=0;for(const C of g)switch(0|C){case p.OPS.rectangle:U=f[P++],S=f[P++];const Q=U+f[P++],te=S+f[P++];B.push("M",k(U),k(S),"L",k(Q),k(S),"L",k(Q),k(te),"L",k(U),k(te),"Z");break;case p.OPS.moveTo:U=f[P++],S=f[P++],B.push("M",k(U),k(S));break;case p.OPS.lineTo:U=f[P++],S=f[P++],B.push("L",k(U),k(S));break;case p.OPS.curveTo:U=f[P+4],S=f[P+5],B.push("C",k(f[P]),k(f[P+1]),k(f[P+2]),k(f[P+3]),k(U),k(S)),P+=6;break;case p.OPS.curveTo2:B.push("C",k(U),k(S),k(f[P]),k(f[P+1]),k(f[P+2]),k(f[P+3])),U=f[P+2],S=f[P+3],P+=4;break;case p.OPS.curveTo3:U=f[P+2],S=f[P+3],B.push("C",k(f[P]),k(f[P+1]),k(U),k(S),k(U),k(S)),P+=4;break;case p.OPS.closePath:B.push("Z")}B=B.join(" "),I.path&&g.length>0&&g[0]!==p.OPS.rectangle&&g[0]!==p.OPS.moveTo?B=I.path.getAttributeNS(null,"d")+B:(I.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(I.path)),I.path.setAttributeNS(null,"d",B),I.path.setAttributeNS(null,"fill","none"),I.element=I.path,I.setCurrentPoint(U,S)}endPath(){const g=this.current;if(g.path=null,!this.pendingClip)return;if(!g.element)return void(this.pendingClip=null);const f="clippath"+G++,I=this.svgFactory.createElement("svg:clipPath");I.setAttributeNS(null,"id",f),I.setAttributeNS(null,"transform",H(this.transformMatrix));const U=g.element.cloneNode(!0);if(U.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,I.appendChild(U),this.defs.appendChild(I),g.activeClipUrl){g.clipGroup=null;for(const S of this.extraStack)S.clipGroup=null;I.setAttributeNS(null,"clip-path",g.activeClipUrl)}g.activeClipUrl=`url(#${f})`,this.tgrp=null}clip(g){this.pendingClip=g}closePath(){const g=this.current;if(g.path){const f=`${g.path.getAttributeNS(null,"d")}Z`;g.path.setAttributeNS(null,"d",f)}}setLeading(g){this.current.leading=-g}setTextRise(g){this.current.textRise=g}setTextRenderingMode(g){this.current.textRenderingMode=g}setHScale(g){this.current.textHScale=g/100}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(const[f,I]of g)switch(f){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I);break;case"CA":this.setStrokeAlpha(I);break;case"ca":this.setFillAlpha(I);break;default:(0,p.warn)(`Unimplemented graphic state operator ${f}`)}}fill(){const g=this.current;g.element&&(g.element.setAttributeNS(null,"fill",g.fillColor),g.element.setAttributeNS(null,"fill-opacity",g.fillAlpha),this.endPath())}stroke(){const g=this.current;g.element&&(this._setStrokeAttributes(g.element),g.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(g,f=1){const I=this.current;let U=I.dashArray;1!==f&&U.length>0&&(U=U.map(function(S){return f*S})),g.setAttributeNS(null,"stroke",I.strokeColor),g.setAttributeNS(null,"stroke-opacity",I.strokeAlpha),g.setAttributeNS(null,"stroke-miterlimit",k(I.miterLimit)),g.setAttributeNS(null,"stroke-linecap",I.lineCap),g.setAttributeNS(null,"stroke-linejoin",I.lineJoin),g.setAttributeNS(null,"stroke-width",k(f*I.lineWidth)+"px"),g.setAttributeNS(null,"stroke-dasharray",U.map(k).join(" ")),g.setAttributeNS(null,"stroke-dashoffset",k(f*I.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width","1px"),g.setAttributeNS(null,"height","1px"),g.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(g)}paintImageXObject(g){const f=g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g);f?this.paintInlineImageXObject(f):(0,p.warn)(`Dependent image with object ID ${g} is not ready yet`)}paintInlineImageXObject(g,f){const I=g.width,U=g.height,S=Y(g,this.forceDataSchema,!!f),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x","0"),B.setAttributeNS(null,"y","0"),B.setAttributeNS(null,"width",k(I)),B.setAttributeNS(null,"height",k(U)),this.current.element=B,this.clip("nonzero");const P=this.svgFactory.createElement("svg:image");P.setAttributeNS(j,"xlink:href",S),P.setAttributeNS(null,"x","0"),P.setAttributeNS(null,"y",k(-U)),P.setAttributeNS(null,"width",k(I)+"px"),P.setAttributeNS(null,"height",k(U)+"px"),P.setAttributeNS(null,"transform",`scale(${k(1/I)} ${k(-1/U)})`),f?f.appendChild(P):this._ensureTransformGroup().appendChild(P)}paintImageMaskXObject(g){const f=this.current,I=g.width,U=g.height,S=f.fillColor;f.maskId="mask"+O++;const B=this.svgFactory.createElement("svg:mask");B.setAttributeNS(null,"id",f.maskId);const P=this.svgFactory.createElement("svg:rect");P.setAttributeNS(null,"x","0"),P.setAttributeNS(null,"y","0"),P.setAttributeNS(null,"width",k(I)),P.setAttributeNS(null,"height",k(U)),P.setAttributeNS(null,"fill",S),P.setAttributeNS(null,"mask",`url(#${f.maskId})`),this.defs.appendChild(B),this._ensureTransformGroup().appendChild(P),this.paintInlineImageXObject(g,B)}paintFormXObjectBegin(g,f){if(Array.isArray(g)&&6===g.length&&this.transform(g[0],g[1],g[2],g[3],g[4],g[5]),f){const I=f[2]-f[0],U=f[3]-f[1],S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x",f[0]),S.setAttributeNS(null,"y",f[1]),S.setAttributeNS(null,"width",k(I)),S.setAttributeNS(null,"height",k(U)),this.current.element=S,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(g){const f=this.svgFactory.create(g.width,g.height),I=this.svgFactory.createElement("svg:defs");f.appendChild(I),this.defs=I;const U=this.svgFactory.createElement("svg:g");return U.setAttributeNS(null,"transform",H(g.transform)),f.appendChild(U),this.svg=U,f}_ensureClipGroup(){if(!this.current.clipGroup){const g=this.svgFactory.createElement("svg:g");g.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(g),this.current.clipGroup=g}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",H(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFNodeStream=void 0;var p=q(1),Z=q(24);const W=__webpack_require__(172),pe=__webpack_require__(1),J=__webpack_require__(779),z=__webpack_require__(558),j=/^file:\/\/\/[a-zA-Z]:\//;_.PDFNodeStream=class ie{constructor(N){this.source=N,this.url=function ee(O){const N=z.parse(O);return"file:"===N.protocol||N.host?N:/^[a-z]:[/\\]/i.test(O)?z.parse(`file:///${O}`):(N.host||(N.protocol="file:"),N)}(N.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&N.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new H(this):new M(this),this._fullRequestReader}getRangeReader(N,g){if(g<=this._progressiveDataLength)return null;const f=this.isFsUrl?new G(this,N,g):new k(this,N,g);return this._rangeRequestReaders.push(f),f}cancelAllRequests(N){this._fullRequestReader&&this._fullRequestReader.cancel(N);for(const g of this._rangeRequestReaders.slice(0))g.cancel(N)}};class re{constructor(N){this._url=N.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=N.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._headersCapability=(0,p.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var N=this;return _asyncToGenerator(function*(){if(yield N._readCapability.promise,N._done)return{value:void 0,done:!0};if(N._storedError)throw N._storedError;const g=N._readableStream.read();return null===g?(N._readCapability=(0,p.createPromiseCapability)(),N.read()):(N._loaded+=g.length,N.onProgress&&N.onProgress({loaded:N._loaded,total:N._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(N){this._readableStream?this._readableStream.destroy(N):this._error(N)}_error(N){this._storedError=N,this._readCapability.resolve()}_setReadableStream(N){this._readableStream=N,N.on("readable",()=>{this._readCapability.resolve()}),N.on("end",()=>{N.destroy(),this._done=!0,this._readCapability.resolve()}),N.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new p.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Y{constructor(N){this._url=N.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!N.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var N=this;return _asyncToGenerator(function*(){if(yield N._readCapability.promise,N._done)return{value:void 0,done:!0};if(N._storedError)throw N._storedError;const g=N._readableStream.read();return null===g?(N._readCapability=(0,p.createPromiseCapability)(),N.read()):(N._loaded+=g.length,N.onProgress&&N.onProgress({loaded:N._loaded}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(N){this._readableStream?this._readableStream.destroy(N):this._error(N)}_error(N){this._storedError=N,this._readCapability.resolve()}_setReadableStream(N){this._readableStream=N,N.on("readable",()=>{this._readCapability.resolve()}),N.on("end",()=>{N.destroy(),this._done=!0,this._readCapability.resolve()}),N.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ne(O,N){return{protocol:O.protocol,auth:O.auth,host:O.hostname,port:O.port,path:O.path,method:"GET",headers:N}}class M extends re{constructor(N){super(N);const g=f=>{if(404===f.statusCode){const B=new p.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=B,void this._headersCapability.reject(B)}this._headersCapability.resolve(),this._setReadableStream(f);const I=B=>this._readableStream.headers[B.toLowerCase()],{allowRangeRequests:U,suggestedLength:S}=(0,Z.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:N.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=U,this._contentLength=S||this._contentLength,this._filename=(0,Z.extractFilenameFromHeader)(I)};this._request=null,this._request="http:"===this._url.protocol?pe.request(ne(this._url,N.httpHeaders),g):J.request(ne(this._url,N.httpHeaders),g),this._request.on("error",f=>{this._storedError=f,this._headersCapability.reject(f)}),this._request.end()}}class k extends Y{constructor(N,g,f){super(N),this._httpHeaders={};for(const U in N.httpHeaders){const S=N.httpHeaders[U];typeof S>"u"||(this._httpHeaders[U]=S)}this._httpHeaders.Range=`bytes=${g}-${f-1}`;const I=U=>{if(404!==U.statusCode)this._setReadableStream(U);else{const S=new p.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=S}};this._request=null,this._request="http:"===this._url.protocol?pe.request(ne(this._url,this._httpHeaders),I):J.request(ne(this._url,this._httpHeaders),I),this._request.on("error",U=>{this._storedError=U}),this._request.end()}}class H extends re{constructor(N){super(N);let g=decodeURIComponent(this._url.path);j.test(this._url.href)&&(g=g.replace(/^\//,"")),W.lstat(g,(f,I)=>{if(f)return"ENOENT"===f.code&&(f=new p.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=f,void this._headersCapability.reject(f);this._contentLength=I.size,this._setReadableStream(W.createReadStream(g)),this._headersCapability.resolve()})}}class G extends Y{constructor(N,g,f){super(N);let I=decodeURIComponent(this._url.path);j.test(this._url.href)&&(I=I.replace(/^\//,"")),this._setReadableStream(W.createReadStream(I,{start:g,end:f-1}))}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createResponseStatusError=function z(ee,ie){return 404===ee||0===ee&&ie.startsWith("file:")?new p.MissingPDFException('Missing PDF "'+ie+'".'):new p.UnexpectedResponseException(`Unexpected server response (${ee}) while retrieving PDF "${ie}".`,ee)},_.extractFilenameFromHeader=function J(ee){const ie=ee("Content-Disposition");if(ie){let re=(0,Z.getFilenameFromContentDispositionHeader)(ie);if(re.includes("%"))try{re=decodeURIComponent(re)}catch{}if((0,W.isPdfFile)(re))return re}return null},_.validateRangeRequestCapabilities=function pe({getResponseHeader:ee,isHttp:ie,rangeChunkSize:re,disableRange:Y}){(0,p.assert)(re>0,"Range chunk size must be larger than zero");const ne={allowRangeRequests:!1,suggestedLength:void 0},M=parseInt(ee("Content-Length"),10);return!Number.isInteger(M)||(ne.suggestedLength=M,M<=2*re)||Y||!ie||"bytes"!==ee("Accept-Ranges")||"identity"!==(ee("Content-Encoding")||"identity")||(ne.allowRangeRequests=!0),ne},_.validateResponseStatus=function j(ee){return 200===ee||206===ee};var p=q(1),Z=q(25),W=q(5)},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getFilenameFromContentDispositionHeader=function Z(W){let pe=!0,J=z("filename\\*","i").exec(W);if(J){J=J[1];let M=re(J);return M=unescape(M),M=Y(M),M=ne(M),ee(M)}if(J=function ie(M){const k=[];let H;const G=z("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(H=G.exec(M));){let[,N,g,f]=H;if(N=parseInt(N,10),N in k){if(0===N)break}else k[N]=[g,f]}const O=[];for(let N=0;N<k.length&&N in k;++N){let[g,f]=k[N];f=re(f),g&&(f=unescape(f),0===N&&(f=Y(f))),O.push(f)}return O.join("")}(W),J)return ee(ne(J));if(J=z("filename","i").exec(W),J){J=J[1];let M=re(J);return M=ne(M),ee(M)}function z(M,k){return new RegExp("(?:^|;)\\s*"+M+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',k)}function j(M,k){if(M){if(!/^[\x00-\xFF]+$/.test(k))return k;try{const H=new TextDecoder(M,{fatal:!0}),G=(0,p.stringToBytes)(k);k=H.decode(G),pe=!1}catch{}}return k}function ee(M){return pe&&/[\x80-\xff]/.test(M)&&(M=j("utf-8",M),pe&&(M=j("iso-8859-1",M))),M}function re(M){if(M.startsWith('"')){const k=M.slice(1).split('\\"');for(let H=0;H<k.length;++H){const G=k[H].indexOf('"');-1!==G&&(k[H]=k[H].slice(0,G),k.length=H+1),k[H]=k[H].replace(/\\(.)/g,"$1")}M=k.join('"')}return M}function Y(M){const k=M.indexOf("'");return-1===k?M:j(M.slice(0,k),M.slice(k+1).replace(/^[^']*'/,""))}function ne(M){return!M.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(M)?M:M.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(k,H,G,O){if("q"===G||"Q"===G)return j(H,O=(O=O.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(N,g){return String.fromCharCode(parseInt(g,16))}));try{O=atob(O)}catch{}return j(H,O)})}return""};var p=q(1)},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFNetworkStream=void 0;var p=q(1),Z=q(24);class z{constructor(Y,ne={}){this.url=Y,this.isHttp=/^https?:/i.test(Y),this.httpHeaders=this.isHttp&&ne.httpHeaders||Object.create(null),this.withCredentials=ne.withCredentials||!1,this.getXhr=ne.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Y,ne,M){const k={begin:Y,end:ne};for(const H in M)k[H]=M[H];return this.request(k)}requestFull(Y){return this.request(Y)}request(Y){const ne=this.getXhr(),M=this.currXhrId++,k=this.pendingRequests[M]={xhr:ne};ne.open("GET",this.url),ne.withCredentials=this.withCredentials;for(const H in this.httpHeaders){const G=this.httpHeaders[H];typeof G>"u"||ne.setRequestHeader(H,G)}return this.isHttp&&"begin"in Y&&"end"in Y?(ne.setRequestHeader("Range",`bytes=${Y.begin}-${Y.end-1}`),k.expectedStatus=206):k.expectedStatus=200,ne.responseType="arraybuffer",Y.onError&&(ne.onerror=function(H){Y.onError(ne.status)}),ne.onreadystatechange=this.onStateChange.bind(this,M),ne.onprogress=this.onProgress.bind(this,M),k.onHeadersReceived=Y.onHeadersReceived,k.onDone=Y.onDone,k.onError=Y.onError,k.onProgress=Y.onProgress,ne.send(null),M}onProgress(Y,ne){const M=this.pendingRequests[Y];M&&M.onProgress?.(ne)}onStateChange(Y,ne){const M=this.pendingRequests[Y];if(!M)return;const k=M.xhr;if(k.readyState>=2&&M.onHeadersReceived&&(M.onHeadersReceived(),delete M.onHeadersReceived),4!==k.readyState||!(Y in this.pendingRequests))return;if(delete this.pendingRequests[Y],0===k.status&&this.isHttp)return void M.onError?.(k.status);const H=k.status||200;if((200!==H||206!==M.expectedStatus)&&H!==M.expectedStatus)return void M.onError?.(k.status);const O=function J(re){const Y=re.response;return"string"!=typeof Y?Y:(0,p.stringToBytes)(Y).buffer}(k);if(206===H){const N=k.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(N);M.onDone({begin:parseInt(g[1],10),chunk:O})}else O?M.onDone({begin:0,chunk:O}):M.onError?.(k.status)}getRequestXhr(Y){return this.pendingRequests[Y].xhr}isPendingRequest(Y){return Y in this.pendingRequests}abortRequest(Y){const ne=this.pendingRequests[Y].xhr;delete this.pendingRequests[Y],ne.abort()}}_.PDFNetworkStream=class j{constructor(Y){this._source=Y,this._manager=new z(Y.url,{httpHeaders:Y.httpHeaders,withCredentials:Y.withCredentials}),this._rangeChunkSize=Y.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Y){const ne=this._rangeRequestReaders.indexOf(Y);ne>=0&&this._rangeRequestReaders.splice(ne,1)}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ee(this._manager,this._source),this._fullRequestReader}getRangeReader(Y,ne){const M=new ie(this._manager,Y,ne);return M.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(M),M}cancelAllRequests(Y){this._fullRequestReader?.cancel(Y);for(const ne of this._rangeRequestReaders.slice(0))ne.cancel(Y)}};class ee{constructor(Y,ne){this._manager=Y;const M={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ne.url,this._fullRequestId=Y.requestFull(M),this._headersReceivedCapability=(0,p.createPromiseCapability)(),this._disableRange=ne.disableRange||!1,this._contentLength=ne.length,this._rangeChunkSize=ne.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Y=this._fullRequestId,ne=this._manager.getRequestXhr(Y),M=G=>ne.getResponseHeader(G),{allowRangeRequests:k,suggestedLength:H}=(0,Z.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});k&&(this._isRangeSupported=!0),this._contentLength=H||this._contentLength,this._filename=(0,Z.extractFilenameFromHeader)(M),this._isRangeSupported&&this._manager.abortRequest(Y),this._headersReceivedCapability.resolve()}_onDone(Y){if(Y&&(this._requests.length>0?this._requests.shift().resolve({value:Y.chunk,done:!1}):this._cachedChunks.push(Y.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Y){this._storedError=(0,Z.createResponseStatusError)(Y,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ne of this._requests)ne.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Y){this.onProgress?.({loaded:Y.loaded,total:Y.lengthComputable?Y.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var Y=this;return _asyncToGenerator(function*(){if(Y._storedError)throw Y._storedError;if(Y._cachedChunks.length>0)return{value:Y._cachedChunks.shift(),done:!1};if(Y._done)return{value:void 0,done:!0};const ne=(0,p.createPromiseCapability)();return Y._requests.push(ne),ne.promise})()}cancel(Y){this._done=!0,this._headersReceivedCapability.reject(Y);for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ie{constructor(Y,ne,M){this._manager=Y;const k={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Y.url,this._requestId=Y.requestRange(ne,M,k),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(Y){const ne=Y.chunk;this._requests.length>0?this._requests.shift().resolve({value:ne,done:!1}):this._queuedChunk=ne,this._done=!0;for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Y){this._storedError=(0,Z.createResponseStatusError)(Y,this._url);for(const ne of this._requests)ne.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Y){this.isStreamingSupported||this.onProgress?.({loaded:Y.loaded})}get isStreamingSupported(){return!1}read(){var Y=this;return _asyncToGenerator(function*(){if(Y._storedError)throw Y._storedError;if(null!==Y._queuedChunk){const M=Y._queuedChunk;return Y._queuedChunk=null,{value:M,done:!1}}if(Y._done)return{value:void 0,done:!0};const ne=(0,p.createPromiseCapability)();return Y._requests.push(ne),ne.promise})()}cancel(Y){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ae,_,q)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFFetchStream=void 0;var p=q(1),Z=q(24);function W(ee,ie,re){return{method:"GET",headers:ee,signal:re?.signal,mode:"cors",credentials:ie?"include":"same-origin",redirect:"follow"}}function pe(ee){const ie=new Headers;for(const re in ee){const Y=ee[re];typeof Y>"u"||ie.append(re,Y)}return ie}_.PDFFetchStream=class J{constructor(ie){this.source=ie,this.isHttp=/^https?:/i.test(ie.url),this.httpHeaders=this.isHttp&&ie.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new z(this),this._fullRequestReader}getRangeReader(ie,re){if(re<=this._progressiveDataLength)return null;const Y=new j(this,ie,re);return this._rangeRequestReaders.push(Y),Y}cancelAllRequests(ie){this._fullRequestReader&&this._fullRequestReader.cancel(ie);for(const re of this._rangeRequestReaders.slice(0))re.cancel(ie)}};class z{constructor(ie){this._stream=ie,this._reader=null,this._loaded=0,this._filename=null;const re=ie.source;this._withCredentials=re.withCredentials||!1,this._contentLength=re.length,this._headersCapability=(0,p.createPromiseCapability)(),this._disableRange=re.disableRange||!1,this._rangeChunkSize=re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!re.disableStream,this._isRangeSupported=!re.disableRange,this._headers=pe(this._stream.httpHeaders);const Y=re.url;fetch(Y,W(this._headers,this._withCredentials,this._abortController)).then(ne=>{if(!(0,Z.validateResponseStatus)(ne.status))throw(0,Z.createResponseStatusError)(ne.status,Y);this._reader=ne.body.getReader(),this._headersCapability.resolve();const M=G=>ne.headers.get(G),{allowRangeRequests:k,suggestedLength:H}=(0,Z.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=k,this._contentLength=H||this._contentLength,this._filename=(0,Z.extractFilenameFromHeader)(M),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new p.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var ie=this;return _asyncToGenerator(function*(){yield ie._headersCapability.promise;const{value:re,done:Y}=yield ie._reader.read();return Y?{value:re,done:Y}:(ie._loaded+=re.byteLength,ie.onProgress&&ie.onProgress({loaded:ie._loaded,total:ie._contentLength}),{value:new Uint8Array(re).buffer,done:!1})})()}cancel(ie){this._reader&&this._reader.cancel(ie),this._abortController&&this._abortController.abort()}}class j{constructor(ie,re,Y){this._stream=ie,this._reader=null,this._loaded=0;const ne=ie.source;this._withCredentials=ne.withCredentials||!1,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!ne.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=pe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${re}-${Y-1}`);const M=ne.url;fetch(M,W(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,Z.validateResponseStatus)(k.status))throw(0,Z.createResponseStatusError)(k.status,M);this._readCapability.resolve(),this._reader=k.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var ie=this;return _asyncToGenerator(function*(){yield ie._readCapability.promise;const{value:re,done:Y}=yield ie._reader.read();return Y?{value:re,done:Y}:(ie._loaded+=re.byteLength,ie.onProgress&&ie.onProgress({loaded:ie._loaded}),{value:new Uint8Array(re).buffer,done:!1})})()}cancel(ie){this._reader&&this._reader.cancel(ie),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(ae){var _=__webpack_module_cache__[ae];if(void 0!==_)return _.exports;var q=__webpack_module_cache__[ae]={exports:{}};return __webpack_modules__[ae](q,q.exports,__w_pdfjs_require__),q.exports}var __webpack_exports__={};return(()=>{var ae=__webpack_exports__;Object.defineProperty(ae,"__esModule",{value:!0}),Object.defineProperty(ae,"AnnotationLayer",{enumerable:!0,get:function(){return Z.AnnotationLayer}}),Object.defineProperty(ae,"AnnotationMode",{enumerable:!0,get:function(){return _.AnnotationMode}}),Object.defineProperty(ae,"CMapCompressionType",{enumerable:!0,get:function(){return _.CMapCompressionType}}),Object.defineProperty(ae,"GlobalWorkerOptions",{enumerable:!0,get:function(){return W.GlobalWorkerOptions}}),Object.defineProperty(ae,"InvalidPDFException",{enumerable:!0,get:function(){return _.InvalidPDFException}}),Object.defineProperty(ae,"LoopbackPort",{enumerable:!0,get:function(){return q.LoopbackPort}}),Object.defineProperty(ae,"MissingPDFException",{enumerable:!0,get:function(){return _.MissingPDFException}}),Object.defineProperty(ae,"OPS",{enumerable:!0,get:function(){return _.OPS}}),Object.defineProperty(ae,"PDFDataRangeTransport",{enumerable:!0,get:function(){return q.PDFDataRangeTransport}}),Object.defineProperty(ae,"PDFDateString",{enumerable:!0,get:function(){return p.PDFDateString}}),Object.defineProperty(ae,"PDFWorker",{enumerable:!0,get:function(){return q.PDFWorker}}),Object.defineProperty(ae,"PasswordResponses",{enumerable:!0,get:function(){return _.PasswordResponses}}),Object.defineProperty(ae,"PermissionFlag",{enumerable:!0,get:function(){return _.PermissionFlag}}),Object.defineProperty(ae,"PixelsPerInch",{enumerable:!0,get:function(){return p.PixelsPerInch}}),Object.defineProperty(ae,"RenderingCancelledException",{enumerable:!0,get:function(){return p.RenderingCancelledException}}),Object.defineProperty(ae,"SVGGraphics",{enumerable:!0,get:function(){return z.SVGGraphics}}),Object.defineProperty(ae,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return _.UNSUPPORTED_FEATURES}}),Object.defineProperty(ae,"UnexpectedResponseException",{enumerable:!0,get:function(){return _.UnexpectedResponseException}}),Object.defineProperty(ae,"Util",{enumerable:!0,get:function(){return _.Util}}),Object.defineProperty(ae,"VerbosityLevel",{enumerable:!0,get:function(){return _.VerbosityLevel}}),Object.defineProperty(ae,"XfaLayer",{enumerable:!0,get:function(){return j.XfaLayer}}),Object.defineProperty(ae,"build",{enumerable:!0,get:function(){return q.build}}),Object.defineProperty(ae,"createPromiseCapability",{enumerable:!0,get:function(){return _.createPromiseCapability}}),Object.defineProperty(ae,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _.createValidAbsoluteUrl}}),Object.defineProperty(ae,"getDocument",{enumerable:!0,get:function(){return q.getDocument}}),Object.defineProperty(ae,"getFilenameFromUrl",{enumerable:!0,get:function(){return p.getFilenameFromUrl}}),Object.defineProperty(ae,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return p.getPdfFilenameFromUrl}}),Object.defineProperty(ae,"getXfaPageViewport",{enumerable:!0,get:function(){return p.getXfaPageViewport}}),Object.defineProperty(ae,"isPdfFile",{enumerable:!0,get:function(){return p.isPdfFile}}),Object.defineProperty(ae,"loadScript",{enumerable:!0,get:function(){return p.loadScript}}),Object.defineProperty(ae,"renderTextLayer",{enumerable:!0,get:function(){return J.renderTextLayer}}),Object.defineProperty(ae,"shadow",{enumerable:!0,get:function(){return _.shadow}}),Object.defineProperty(ae,"version",{enumerable:!0,get:function(){return q.version}});var _=__w_pdfjs_require__(1),q=__w_pdfjs_require__(4),p=__w_pdfjs_require__(5),Z=__w_pdfjs_require__(18),W=__w_pdfjs_require__(12),pe=__w_pdfjs_require__(3),J=__w_pdfjs_require__(21),z=__w_pdfjs_require__(22),j=__w_pdfjs_require__(20);if(pe.isNodeJS){const{PDFNodeStream:re}=__w_pdfjs_require__(23);(0,q.setPDFNetworkStreamFactory)(Y=>new re(Y))}else{const{PDFNetworkStream:re}=__w_pdfjs_require__(26),{PDFFetchStream:Y}=__w_pdfjs_require__(27);(0,q.setPDFNetworkStreamFactory)(ne=>(0,p.isValidFetchUrl)(ne.url)?new Y(ne):new re(ne))}})(),__webpack_exports__})()},module.exports=q()},813:function(ae,_,q){var p=q(661).default,Z=q(860).default,W=q(159).default,pe=q(764).default,J=q(467).default,z=q(468).default,j=q(156).default;ae.exports=(()=>{"use strict";var ee=[,(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.DefaultXfaLayerFactory=M.DefaultTextLayerFactory=M.DefaultStructTreeLayerFactory=M.DefaultAnnotationLayerFactory=void 0;var H=k(2),G=k(4),O=k(5),N=k(7),g=k(8),f=k(9);M.DefaultAnnotationLayerFactory=class I{createAnnotationLayerBuilder(C,V,K=null,Q="",te=!0,ce=G.NullL10n,ge=!1,R=null,w=null,m=null,T=null){return new H.AnnotationLayerBuilder({pageDiv:C,pdfPage:V,imageResourcesPath:Q,renderForms:te,linkService:new O.SimpleLinkService,l10n:ce,annotationStorage:K,enableScripting:ge,hasJSActionsPromise:R,fieldObjectsPromise:m,mouseState:w,annotationCanvasMap:T})}};M.DefaultStructTreeLayerFactory=class U{createStructTreeLayerBuilder(C){return new N.StructTreeLayerBuilder({pdfPage:C})}};M.DefaultTextLayerFactory=class S{createTextLayerBuilder(C,V,K,Q=!1,te,ce){return new g.TextLayerBuilder({textLayerDiv:C,pageIndex:V,viewport:K,enhanceTextSelection:Q,eventBus:te,highlighter:ce})}};M.DefaultXfaLayerFactory=class B{createXfaLayerBuilder(C,V,K=null,Q=null){return new f.XfaLayerBuilder({pageDiv:C,pdfPage:V,annotationStorage:K,linkService:new O.SimpleLinkService,xfaHtml:Q})}}},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationLayerBuilder=void 0;var H=k(3),G=k(4);M.AnnotationLayerBuilder=class O{constructor({pageDiv:g,pdfPage:f,linkService:I,downloadManager:U,annotationStorage:S=null,imageResourcesPath:B="",renderForms:P=!0,l10n:C=G.NullL10n,enableScripting:V=!1,hasJSActionsPromise:K=null,fieldObjectsPromise:Q=null,mouseState:te=null,annotationCanvasMap:ce=null}){this.pageDiv=g,this.pdfPage=f,this.linkService=I,this.downloadManager=U,this.imageResourcesPath=B,this.renderForms=P,this.l10n=C,this.annotationStorage=S,this.enableScripting=V,this._hasJSActionsPromise=K,this._fieldObjectsPromise=Q,this._mouseState=te,this._annotationCanvasMap=ce,this.div=null,this._cancelled=!1}render(g,f="display"){var I=this;return j(function*(){const[U,S=!1,B=null]=yield Promise.all([I.pdfPage.getAnnotations({intent:f}),I._hasJSActionsPromise,I._fieldObjectsPromise]);if(I._cancelled||0===U.length)return;const P={viewport:g.clone({dontFlip:!0}),div:I.div,annotations:U,page:I.pdfPage,imageResourcesPath:I.imageResourcesPath,renderForms:I.renderForms,linkService:I.linkService,downloadManager:I.downloadManager,annotationStorage:I.annotationStorage,enableScripting:I.enableScripting,hasJSActions:S,fieldObjects:B,mouseState:I._mouseState,annotationCanvasMap:I._annotationCanvasMap};I.div?H.AnnotationLayer.update(P):(I.div=document.createElement("div"),I.div.className="annotationLayer",I.pageDiv.appendChild(I.div),P.div=I.div,H.AnnotationLayer.render(P),I.l10n.translate(I.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},ne=>{let M;M=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:q(36),ne.exports=M},(ne,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.NullL10n=void 0,M.fixupLangCode=function O(f){return G[f?.toLowerCase()]||f},M.getL10nFallback=H;const k={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function H(f,I){switch(f){case"find_match_count":f=`find_match_count[${1===I.total?"one":"other"}]`;break;case"find_match_count_limit":f=`find_match_count_limit[${1===I.limit?"one":"other"}]`}return k[f]||""}const G={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};M.NullL10n={getLanguage:()=>j(function*(){return"en-us"})(),getDirection:()=>j(function*(){return"ltr"})(),get:(f,I=null,U=H(f,I))=>j(function*(){return function N(f,I){return I?f.replace(/\{\{\s*(\w+)\s*\}\}/g,(U,S)=>S in I?I[S]:"{{"+S+"}}"):f}(U,I)})(),translate:f=>j(function*(){})()}},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.SimpleLinkService=M.PDFLinkService=M.LinkTarget=void 0;var H=k(6);const G="noopener noreferrer nofollow",O={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function N(P,{url:C,target:V,rel:K,enabled:Q=!0}={}){if(!C||"string"!=typeof C)throw new Error('A valid "url" parameter must provided.');const te=(0,H.removeNullCharacters)(C);Q?P.href=P.title=te:(P.href="",P.title=`Disabled: ${te}`,P.onclick=()=>!1);let ce="";switch(V){case O.NONE:break;case O.SELF:ce="_self";break;case O.BLANK:ce="_blank";break;case O.PARENT:ce="_parent";break;case O.TOP:ce="_top"}P.target=ce,P.rel="string"==typeof K?K:G}M.LinkTarget=O;var g=new WeakMap,f=new WeakSet;class I{constructor({eventBus:C,externalLinkTarget:V=null,externalLinkRel:K=null,ignoreDestinationZoom:Q=!1}={}){Z(this,f),W(this,g,{writable:!0,value:new Map}),this.eventBus=C,this.externalLinkTarget=V,this.externalLinkRel=K,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=Q,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(C,V=null){this.baseUrl=V,this.pdfDocument=C,z(this,g).clear()}setViewer(C){this.pdfViewer=C}setHistory(C){this.pdfHistory=C}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(C){this.pdfViewer.currentPageNumber=C}get rotation(){return this.pdfViewer.pagesRotation}set rotation(C){this.pdfViewer.pagesRotation=C}goToDestination(C){var V=this;return j(function*(){if(!V.pdfDocument)return;let K,Q;"string"==typeof C?(K=C,Q=yield V.pdfDocument.getDestination(C)):(K=null,Q=yield C),Array.isArray(Q)?J(V,f,U).call(V,C,K,Q):console.error(`PDFLinkService.goToDestination: "${Q}" is not a valid destination array, for dest="${C}".`)})()}goToPage(C){if(!this.pdfDocument)return;const V="string"==typeof C&&this.pdfViewer.pageLabelToPageNumber(C)||0|C;Number.isInteger(V)&&V>0&&V<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(V)),this.pdfViewer.scrollPageIntoView({pageNumber:V})):console.error(`PDFLinkService.goToPage: "${C}" is not a valid page.`)}addLinkAttributes(C,V,K=!1){N(C,{url:V,target:K?O.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(C){if("string"==typeof C){if(C.length>0)return this.getAnchorUrl("#"+escape(C))}else if(Array.isArray(C)){const V=JSON.stringify(C);if(V.length>0)return this.getAnchorUrl("#"+escape(V))}return this.getAnchorUrl("")}getAnchorUrl(C){return(this.baseUrl||"")+C}setHash(C){if(!this.pdfDocument)return;let V,K;if(C.includes("=")){const Q=(0,H.parseQueryString)(C);if(Q.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:Q.get("search").replace(/"/g,""),phraseSearch:"true"===Q.get("phrase")}),Q.has("page")&&(V=0|Q.get("page")||1),Q.has("zoom")){const te=Q.get("zoom").split(","),ce=te[0],ge=parseFloat(ce);ce.includes("Fit")?"Fit"===ce||"FitB"===ce?K=[null,{name:ce}]:"FitH"===ce||"FitBH"===ce||"FitV"===ce||"FitBV"===ce?K=[null,{name:ce},te.length>1?0|te[1]:null]:"FitR"===ce?5!==te.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):K=[null,{name:ce},0|te[1],0|te[2],0|te[3],0|te[4]]:console.error(`PDFLinkService.setHash: "${ce}" is not a valid zoom value.`):K=[null,{name:"XYZ"},te.length>1?0|te[1]:null,te.length>2?0|te[2]:null,ge?ge/100:ce]}K?this.pdfViewer.scrollPageIntoView({pageNumber:V||this.page,destArray:K,allowNegativeOffset:!0}):V&&(this.page=V),Q.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:Q.get("pagemode")}),Q.has("nameddest")&&this.goToDestination(Q.get("nameddest"))}else{K=unescape(C);try{K=JSON.parse(K),Array.isArray(K)||(K=K.toString())}catch{}if("string"==typeof K||pe(I,I,S).call(I,K))return void this.goToDestination(K);console.error(`PDFLinkService.setHash: "${unescape(C)}" is not a valid destination.`)}}executeNamedAction(C){switch(C){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:C})}cachePageRef(C,V){if(!V)return;const K=0===V.gen?`${V.num}R`:`${V.num}R${V.gen}`;z(this,g).set(K,C)}_cachedPageNumber(C){if(!C)return null;const V=0===C.gen?`${C.num}R`:`${C.num}R${C.gen}`;return z(this,g).get(V)||null}isPageVisible(C){return this.pdfViewer.isPageVisible(C)}isPageCached(C){return this.pdfViewer.isPageCached(C)}}function U(P,C=null,V){const K=V[0];let Q;if("object"==typeof K&&null!==K){if(Q=this._cachedPageNumber(K),!Q)return void this.pdfDocument.getPageIndex(K).then(te=>{this.cachePageRef(te+1,K),J(this,f,U).call(this,P,C,V)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${K}" is not a valid page reference, for dest="${P}".`)})}else{if(!Number.isInteger(K))return void console.error(`PDFLinkService.#goToDestinationHelper: "${K}" is not a valid destination reference, for dest="${P}".`);Q=K+1}!Q||Q<1||Q>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${Q}" is not a valid page number, for dest="${P}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:C,explicitDest:V,pageNumber:Q})),this.pdfViewer.scrollPageIntoView({pageNumber:Q,destArray:V,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function S(P){if(!Array.isArray(P))return!1;const C=P.length;if(C<2)return!1;const V=P[0];if(!("object"==typeof V&&Number.isInteger(V.num)&&Number.isInteger(V.gen)||Number.isInteger(V)&&V>=0))return!1;const K=P[1];if("object"!=typeof K||"string"!=typeof K.name)return!1;let Q=!0;switch(K.name){case"XYZ":if(5!==C)return!1;break;case"Fit":case"FitB":return 2===C;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==C)return!1;break;case"FitR":if(6!==C)return!1;Q=!1;break;default:return!1}for(let te=2;te<C;te++){const ce=P[te];if(!("number"==typeof ce||Q&&null===ce))return!1}return!0}M.PDFLinkService=I;M.SimpleLinkService=class B{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(C){}get rotation(){return 0}set rotation(C){}goToDestination(C){return j(function*(){})()}goToPage(C){}addLinkAttributes(C,V,K=!1){N(C,{url:V,enabled:this.externalLinkEnabled})}getDestinationHash(C){return"#"}getAnchorUrl(C){return"#"}setHash(C){}executeNamedAction(C){}cachePageRef(C,V){}isPageVisible(C){return!0}isPageCached(C){return!0}}},(ne,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.animationStarted=M.VERTICAL_PADDING=M.UNKNOWN_SCALE=M.TextLayerMode=M.SpreadMode=M.SidebarView=M.ScrollMode=M.SCROLLBAR_PADDING=M.RenderingStates=M.RendererType=M.ProgressBar=M.PresentationModeState=M.OutputScale=M.MIN_SCALE=M.MAX_SCALE=M.MAX_AUTO_SCALE=M.DEFAULT_SCALE_VALUE=M.DEFAULT_SCALE_DELTA=M.DEFAULT_SCALE=M.AutoPrintRegExp=void 0,M.apiPageLayoutToViewerModes=function st(ve){let F=Q.VERTICAL,le=te.NONE;switch(ve){case"SinglePage":F=Q.PAGE;break;case"OneColumn":break;case"TwoPageLeft":F=Q.PAGE;case"TwoColumnLeft":le=te.ODD;break;case"TwoPageRight":F=Q.PAGE;case"TwoColumnRight":le=te.EVEN}return{scrollMode:F,spreadMode:le}},M.apiPageModeToSidebarView=function an(ve){switch(ve){case"UseNone":return C.NONE;case"UseThumbs":return C.THUMBS;case"UseOutlines":return C.OUTLINE;case"UseAttachments":return C.ATTACHMENTS;case"UseOC":return C.LAYERS}return C.NONE},M.approximateFraction=function A(ve){if(Math.floor(ve)===ve)return[ve,1];const F=1/ve;if(F>8)return[1,8];if(Math.floor(F)===F)return[1,F];const _e=ve>1?F:ve;let ze,Me=0,De=1,Ue=1,Le=1;for(;;){const It=Me+Ue,sn=De+Le;if(sn>8)break;_e<=It/sn?(Ue=It,Le=sn):(Me=It,De=sn)}return ze=_e-Me/De<Ue/Le-_e?_e===ve?[Me,De]:[De,Me]:_e===ve?[Ue,Le]:[Le,Ue],ze},M.backtrackBeforeAllVisibleElements=E,M.binarySearchFirstItem=y,M.getActiveOrFocusedElement=function Qe(){let ve=document,F=ve.activeElement||ve.querySelector(":focus");for(;F?.shadowRoot;)ve=F.shadowRoot,F=ve.activeElement||ve.querySelector(":focus");return F},M.getPageSizeInches=function x({view:ve,userUnit:F,rotate:le}){const[_e,Me,De,Ue]=ve,Le=le%180!=0,ze=(De-_e)/72*F,It=(Ue-Me)/72*F;return{width:Le?It:ze,height:Le?ze:It}},M.getVisibleElements=function X({scrollEl:ve,views:F,sortByVisibility:le=!1,horizontal:_e=!1,rtl:Me=!1}){const De=ve.scrollTop,Ue=De+ve.clientHeight,Le=ve.scrollLeft,ze=Le+ve.clientWidth;const Te=[],me=new Set,Ce=F.length;let et=y(F,_e?function sn(Ut){const Xt=Ut.div,Yt=Xt.offsetLeft+Xt.clientLeft;return Me?Yt<ze:Yt+Xt.clientWidth>Le}:function It(Ut){const Xt=Ut.div;return Xt.offsetTop+Xt.clientTop+Xt.clientHeight>De});et>0&&et<Ce&&!_e&&(et=E(et,F,De));let rt=_e?ze:-1;for(let Ut=et;Ut<Ce;Ut++){const Xt=F[Ut],Yt=Xt.div,ln=Yt.offsetLeft+Yt.clientLeft,Tr=Yt.offsetTop+Yt.clientTop,Br=Yt.clientWidth,Vi=Yt.clientHeight,Cn=ln+Br,Ci=Tr+Vi;if(-1===rt)Ci>=Ue&&(rt=Ci);else if((_e?ln:Tr)>rt)break;if(Ci<=De||Tr>=Ue||Cn<=Le||ln>=ze)continue;const vo=Math.max(0,De-Tr)+Math.max(0,Ci-Ue),Ui=(Br-(Math.max(0,Le-ln)+Math.max(0,Cn-ze)))/Br;Te.push({id:Xt.id,x:ln,y:Tr,view:Xt,percent:(Vi-vo)/Vi*Ui*100|0,widthPercent:100*Ui|0}),me.add(Xt.id)}const Rt=Te[0],yt=Te[Te.length-1];return le&&Te.sort(function(Ut,Xt){const Yt=Ut.percent-Xt.percent;return Math.abs(Yt)>.001?-Yt:Ut.id-Xt.id}),{first:Rt,last:yt,views:Te,ids:me}},M.isPortraitOrientation=function $e(ve){return ve.width<=ve.height},M.isValidRotation=function Ie(ve){return Number.isInteger(ve)&&ve%90==0},M.isValidScrollMode=function Fe(ve){return Number.isInteger(ve)&&Object.values(Q).includes(ve)&&ve!==Q.UNKNOWN},M.isValidSpreadMode=function je(ve){return Number.isInteger(ve)&&Object.values(te).includes(ve)&&ve!==te.UNKNOWN},M.noContextMenuHandler=function de(ve){ve.preventDefault()},M.normalizeWheelEventDelta=function fe(ve){let F=ue(ve);return 0===ve.deltaMode?F/=900:1===ve.deltaMode&&(F/=30),F},M.normalizeWheelEventDirection=ue,M.parseQueryString=function m(ve){const F=new Map;for(const[le,_e]of new URLSearchParams(ve))F.set(le.toLowerCase(),_e);return F},M.removeNullCharacters=function d(ve,F=!1){return"string"!=typeof ve?(console.error("The argument must be a string."),ve):(F&&(ve=ve.replace(b," ")),ve.replace(T,""))},M.roundToDivide=function L(ve,F){const le=ve%F;return 0===le?ve:Math.round(ve-le+F)},M.scrollIntoView=function R(ve,F,le=!1){let _e=ve.offsetParent;if(!_e)return void console.error("offsetParent is not set -- cannot scroll");let Me=ve.offsetTop+ve.clientTop,De=ve.offsetLeft+ve.clientLeft;for(;_e.clientHeight===_e.scrollHeight&&_e.clientWidth===_e.scrollWidth||le&&(_e.classList.contains("markedContent")||"hidden"===getComputedStyle(_e).overflow);)if(Me+=_e.offsetTop,De+=_e.offsetLeft,_e=_e.offsetParent,!_e)return;F&&(void 0!==F.top&&(Me+=F.top),void 0!==F.left&&(De+=F.left,_e.scrollLeft=De)),_e.scrollTop=Me},M.watchScroll=function w(ve,F){const le=function(De){Me||(Me=window.requestAnimationFrame(function(){Me=null;const Le=ve.scrollLeft,ze=_e.lastX;Le!==ze&&(_e.right=Le>ze),_e.lastX=Le;const It=ve.scrollTop,sn=_e.lastY;It!==sn&&(_e.down=It>sn),_e.lastY=It,F(_e)}))},_e={right:!0,down:!0,lastX:ve.scrollLeft,lastY:ve.scrollTop,_eventHandler:le};let Me=null;return ve.addEventListener("scroll",le,!0),_e},M.DEFAULT_SCALE_VALUE="auto",M.DEFAULT_SCALE=1,M.DEFAULT_SCALE_DELTA=1.1,M.MIN_SCALE=.1,M.MAX_SCALE=10,M.UNKNOWN_SCALE=0,M.MAX_AUTO_SCALE=1.25,M.SCROLLBAR_PADDING=40,M.VERTICAL_PADDING=5;M.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},M.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const C={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};M.SidebarView=C,M.RendererType={CANVAS:"canvas",SVG:"svg"},M.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const Q={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};M.ScrollMode=Q;const te={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};M.SpreadMode=te,M.AutoPrintRegExp=/\bprint\s*\(/;M.OutputScale=class ge{constructor(){const F=window.devicePixelRatio||1;this.sx=F,this.sy=F}get scaled(){return 1!==this.sx||1!==this.sy}};const T=/\x00/g,b=/[\x01-\x1F]/g;function y(ve,F,le=0){let _e=le,Me=ve.length-1;if(Me<0||!F(ve[Me]))return ve.length;if(F(ve[_e]))return _e;for(;_e<Me;){const De=_e+Me>>1;F(ve[De])?Me=De:_e=De+1}return _e}function E(ve,F,le){if(ve<2)return ve;let _e=F[ve].div,Me=_e.offsetTop+_e.clientTop;Me>=le&&(_e=F[ve-1].div,Me=_e.offsetTop+_e.clientTop);for(let De=ve-2;De>=0&&(_e=F[De].div,!(_e.offsetTop+_e.clientTop+_e.clientHeight<=Me));--De)ve=De;return ve}function ue(ve){let F=Math.hypot(ve.deltaX,ve.deltaY);const le=Math.atan2(ve.deltaY,ve.deltaX);return-.25*Math.PI<le&&le<.75*Math.PI&&(F=-F),F}const Ne=new Promise(function(ve){window.requestAnimationFrame(ve)});M.animationStarted=Ne;M.ProgressBar=class kt{constructor(F,{height:le,width:_e,units:Me}={}){this.visible=!0,this.div=document.querySelector(F+" .progress"),this.bar=this.div.parentNode,this.height=le||100,this.width=_e||100,this.units=Me||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(F){this._indeterminate=isNaN(F),this._percent=function Pt(ve,F,le){return Math.min(Math.max(ve,F),le)}(F,0,100),this._updateBar()}setWidth(F){if(!F)return;const _e=F.parentNode.offsetWidth-F.offsetWidth;_e>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${_e}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(ne,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.StructTreeLayerBuilder=void 0;const k={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},H=/^H(\d+)$/;M.StructTreeLayerBuilder=class G{constructor({pdfPage:N}){this.pdfPage=N}render(N){return this._walk(N)}_setAttributes(N,g){void 0!==N.alt&&g.setAttribute("aria-label",N.alt),void 0!==N.id&&g.setAttribute("aria-owns",N.id),void 0!==N.lang&&g.setAttribute("lang",N.lang)}_walk(N){if(!N)return null;const g=document.createElement("span");if("role"in N){const{role:f}=N,I=f.match(H);I?(g.setAttribute("role","heading"),g.setAttribute("aria-level",I[1])):k[f]&&g.setAttribute("role",k[f])}if(this._setAttributes(N,g),N.children)if(1===N.children.length&&"id"in N.children[0])this._setAttributes(N.children[0],g);else for(const f of N.children)g.appendChild(this._walk(f));return g}}},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.TextLayerBuilder=void 0;var H=k(3);M.TextLayerBuilder=class O{constructor({textLayerDiv:g,eventBus:f,pageIndex:I,viewport:U,highlighter:S=null,enhanceTextSelection:B=!1}){this.textLayerDiv=g,this.eventBus=f,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=I+1,this.viewport=U,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=S,this.enhanceTextSelection=B,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const g=document.createElement("div");g.className="endOfContent",this.textLayerDiv.appendChild(g)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(g=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const f=document.createDocumentFragment();this.textLayerRenderTask=(0,H.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:f,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:g,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(f),this._finishRendering(),this.highlighter?.enable()},function(I){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(g){this.cancel(),this.textContentStream=g}setTextContent(g){this.cancel(),this.textContent=g}_bindMouse(){const g=this.textLayerDiv;let f=null;g.addEventListener("mousedown",I=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(f&&(clearTimeout(f),f=null));const U=g.querySelector(".endOfContent");if(!U)return;let S=I.target!==g;if(S=S&&"none"!==window.getComputedStyle(U).getPropertyValue("-moz-user-select"),S){const B=g.getBoundingClientRect(),P=Math.max(0,(I.pageY-B.top)/B.height);U.style.top=(100*P).toFixed(2)+"%"}U.classList.add("active")}),g.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(f=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),f=null},300));const I=g.querySelector(".endOfContent");I&&(I.style.top="",I.classList.remove("active"))})}}},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaLayerBuilder=void 0;var H=k(3);M.XfaLayerBuilder=class G{constructor({pageDiv:N,pdfPage:g,annotationStorage:f=null,linkService:I,xfaHtml:U=null}){this.pageDiv=N,this.pdfPage=g,this.annotationStorage=f,this.linkService=I,this.xfaHtml=U,this.div=null,this._cancelled=!1}render(N,g="display"){if("print"===g){const f={viewport:N.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:g},I=document.createElement("div");this.pageDiv.appendChild(I),f.div=I;const U=H.XfaLayer.render(f);return Promise.resolve(U)}return this.pdfPage.getXfa().then(f=>{if(this._cancelled||!f)return{textDivs:[]};const I={viewport:N.clone({dontFlip:!0}),div:this.div,xfaHtml:f,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:g};return this.div?H.XfaLayer.update(I):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),I.div=this.div,H.XfaLayer.render(I))}).catch(f=>{console.error(f)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFViewer=M.PDFSinglePageViewer=void 0;var H=k(6),G=k(11);M.PDFViewer=class O extends G.BaseViewer{};M.PDFSinglePageViewer=class N extends G.BaseViewer{_resetView(){super._resetView(),this._scrollMode=H.ScrollMode.PAGE,this._spreadMode=H.SpreadMode.NONE}set scrollMode(f){}_updateScrollMode(){}set spreadMode(f){}_updateSpreadMode(){}}},(ne,M,k)=>{let H;Object.defineProperty(M,"__esModule",{value:!0}),M.PagesCountLimit=M.PDFPageViewBuffer=M.BaseViewer=void 0;var G=k(3),O=k(6),N=k(2),g=k(4),f=k(12),I=k(14),U=k(5),S=k(7),B=k(15),P=k(8),C=k(9);const K="enablePermissions",Q={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};M.PagesCountLimit=Q;var te=new WeakMap,ce=new WeakMap,ge=new WeakSet;H=Symbol.iterator;class R{constructor(F){Z(this,ge),W(this,te,{writable:!0,value:new Set}),W(this,ce,{writable:!0,value:0}),p(this,ce,F)}push(F){const le=z(this,te);le.has(F)&&le.delete(F),le.add(F),le.size>z(this,ce)&&J(this,ge,w).call(this)}resize(F,le=null){p(this,ce,F);const _e=z(this,te);if(le){const Me=_e.size;let De=1;for(const Ue of _e)if(le.has(Ue.id)&&(_e.delete(Ue),_e.add(Ue)),++De>Me)break}for(;_e.size>z(this,ce);)J(this,ge,w).call(this)}has(F){return z(this,te).has(F)}[H](){return z(this,te).keys()}}function w(){const ve=z(this,te).keys().next().value;ve?.destroy(),z(this,te).delete(ve)}M.PDFPageViewBuffer=R;var m=new WeakMap,T=new WeakMap,b=new WeakMap,d=new WeakMap,y=new WeakMap,A=new WeakMap,L=new WeakMap,x=new WeakSet,E=new WeakSet,X=new WeakSet,de=new WeakSet,ue=new WeakSet,fe=new WeakSet,Ie=new WeakSet;class Fe{constructor(F){if(Z(this,Ie),Z(this,fe),Z(this,ue),Z(this,de),Z(this,X),Z(this,E),Z(this,x),W(this,m,{writable:!0,value:null}),W(this,T,{writable:!0,value:G.AnnotationMode.ENABLE_FORMS}),W(this,b,{writable:!0,value:null}),W(this,d,{writable:!0,value:!1}),W(this,y,{writable:!0,value:0}),W(this,A,{writable:!0,value:null}),W(this,L,{writable:!0,value:null}),this.constructor===Fe)throw new Error("Cannot initialize BaseViewer.");const le="2.13.216";if(G.version!==le)throw new Error(`The API version "${G.version}" does not match the Viewer version "${le}".`);if(this.container=F.container,this.viewer=F.viewer||F.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=F.eventBus,this.linkService=F.linkService||new U.SimpleLinkService,this.downloadManager=F.downloadManager||null,this.findController=F.findController||null,this._scriptingManager=F.scriptingManager||null,this.removePageBorders=F.removePageBorders||!1,this.textLayerMode=F.textLayerMode??O.TextLayerMode.ENABLE,p(this,T,F.annotationMode??G.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=F.imageResourcesPath||"",this.enablePrintAutoRotate=F.enablePrintAutoRotate||!1,this.renderer=F.renderer||O.RendererType.CANVAS,this.useOnlyCssZoom=F.useOnlyCssZoom||!1,this.maxCanvasPixels=F.maxCanvasPixels,this.l10n=F.l10n||g.NullL10n,p(this,d,F.enablePermissions||!1),this.defaultRenderingQueue=!F.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new I.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=F.renderingQueue,this._doc=document.documentElement,this.scroll=(0,O.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=O.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(F){return this._pages[F]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(F){return F?.pdfPage})}get renderForms(){return z(this,T)===G.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(F){if(!Number.isInteger(F))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(F,!0)||console.error(`currentPageNumber: "${F}" is not a valid page.`))}_setCurrentPageNumber(F,le=!1){if(this._currentPageNumber===F)return le&&this._resetCurrentPageView(),!0;if(!(0<F&&F<=this.pagesCount))return!1;const _e=this._currentPageNumber;return this._currentPageNumber=F,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:F,pageLabel:this._pageLabels?.[F-1]??null,previous:_e}),le&&this._resetCurrentPageView(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(F){if(!this.pdfDocument)return;let le=0|F;if(this._pageLabels){const _e=this._pageLabels.indexOf(F);_e>=0&&(le=_e+1)}this._setCurrentPageNumber(le,!0)||console.error(`currentPageLabel: "${F}" is not a valid page.`)}get currentScale(){return this._currentScale!==O.UNKNOWN_SCALE?this._currentScale:O.DEFAULT_SCALE}set currentScale(F){if(isNaN(F))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(F,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(F){this.pdfDocument&&this._setScale(F,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(F){if(!(0,O.isValidRotation)(F))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((F%=360)<0&&(F+=360),this._pagesRotation===F))return;this._pagesRotation=F;const le=this._currentPageNumber,_e={rotation:F};for(const Me of this._pages)Me.update(_e);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:F,pageNumber:le}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(F){var le=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=F,!F)return;const _e=F.isPureXfa,Me=F.numPages,De=F.getPage(1),Ue=F.getOptionalContentConfig(),Le=z(this,d)?F.getPermissions():Promise.resolve();if(Me>Q.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ze=this._scrollMode=O.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ze})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Me})},()=>{}),this._onBeforeDraw=ze=>{const It=this._pages[ze.pageNumber-1];It&&z(this,m).push(It)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ze=>{ze.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ze.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,z(this,L)&&(document.removeEventListener("visibilitychange",z(this,L)),p(this,L,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([De,Le]).then(([ze,It])=>{if(F!==this.pdfDocument)return;this._firstPageCapability.resolve(ze),this._optionalContentConfigPromise=Ue,J(this,x,je).call(this,It);const sn=this._scrollMode===O.ScrollMode.PAGE?null:this.viewer,Te=this.currentScale,me=ze.getViewport({scale:Te*G.PixelsPerInch.PDF_TO_CSS_UNITS}),Ce=this.textLayerMode===O.TextLayerMode.DISABLE||_e?null:this,et=z(this,T)!==G.AnnotationMode.DISABLE?this:null,rt=_e?this:null;for(let yt=1;yt<=Me;++yt){const Ut=new f.PDFPageView({container:sn,eventBus:this.eventBus,id:yt,scale:Te,defaultViewport:me.clone(),optionalContentConfigPromise:Ue,renderingQueue:this.renderingQueue,textLayerFactory:Ce,textLayerMode:this.textLayerMode,annotationLayerFactory:et,annotationMode:z(this,T),xfaLayerFactory:rt,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(Ut)}const Rt=this._pages[0];Rt&&(Rt.setPdfPage(ze),this.linkService.cachePageRef(1,ze.ref)),this._scrollMode===O.ScrollMode.PAGE?J(this,X,Ne).call(this):this._spreadMode!==O.SpreadMode.NONE&&this._updateSpreadMode(),J(this,E,$e).call(this).then(j(function*(){if(le.findController&&le.findController.setDocument(F),le._scriptingManager&&le._scriptingManager.setDocument(F),F.loadingParams.disableAutoFetch||Me>Q.FORCE_LAZY_PAGE_INIT)return void le._pagesCapability.resolve();let yt=Me-1;if(yt<=0)le._pagesCapability.resolve();else for(let Ut=2;Ut<=Me;++Ut){const Xt=F.getPage(Ut).then(Yt=>{const ln=le._pages[Ut-1];ln.pdfPage||ln.setPdfPage(Yt),le.linkService.cachePageRef(Ut,Yt.ref),0==--yt&&le._pagesCapability.resolve()},Yt=>{console.error(`Unable to get page ${Ut} to initialize viewer`,Yt),0==--yt&&le._pagesCapability.resolve()});Ut%Q.PAUSE_EAGER_PAGE_INIT==0&&(yield Xt)}})),this.eventBus.dispatch("pagesinit",{source:this}),F.getMetadata().then(({info:yt})=>{F===this.pdfDocument&&yt.Language&&(this.viewer.lang=yt.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ze=>{console.error("Unable to initialize viewer",ze),this._pagesCapability.reject(ze)})}setPageLabels(F){if(this.pdfDocument){F?Array.isArray(F)&&this.pdfDocument.numPages===F.length?this._pageLabels=F:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let le=0,_e=this._pages.length;le<_e;le++)this._pages[le].setPageLabel(this._pageLabels?.[le]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=O.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,p(this,m,new R(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,G.createPromiseCapability)(),this._onePageRenderedCapability=(0,G.createPromiseCapability)(),this._pagesCapability=(0,G.createPromiseCapability)(),this._scrollMode=O.ScrollMode.VERTICAL,this._previousScrollMode=O.ScrollMode.UNKNOWN,this._spreadMode=O.SpreadMode.NONE,p(this,A,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),z(this,L)&&(document.removeEventListener("visibilitychange",z(this,L)),p(this,L,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(K),null!==z(this,b)&&(p(this,T,z(this,b)),p(this,b,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:F,pageSpot:le=null,pageNumber:_e=null}){if(this._scrollMode===O.ScrollMode.PAGE&&(_e&&this._setCurrentPageNumber(_e),J(this,X,Ne).call(this),this.update()),!le&&!this.isInPresentationMode){const Me=F.offsetLeft+F.clientLeft,De=Me+F.clientWidth,{scrollLeft:Ue,clientWidth:Le}=this.container;(this._scrollMode===O.ScrollMode.HORIZONTAL||Me<Ue||De>Ue+Le)&&(le={left:0,top:0})}(0,O.scrollIntoView)(F,le)}_setScaleUpdatePages(F,le,_e=!1,Me=!1){if(this._currentScaleValue=le.toString(),J(this,de,Pt).call(this,F))return void(Me&&this.eventBus.dispatch("scalechanging",{source:this,scale:F,presetValue:le}));this._doc.style.setProperty("--zoom-factor",F),this._doc.style.setProperty("--viewport-scale-factor",F*G.PixelsPerInch.PDF_TO_CSS_UNITS);const De={scale:F};for(const Ue of this._pages)Ue.update(De);if(this._currentScale=F,!_e){let Le,Ue=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Ue=this._location.pageNumber,Le=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Ue,destArray:Le,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:F,presetValue:Me?le:void 0}),this.defaultRenderingQueue&&this.update(),p(this,y,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==O.SpreadMode.NONE&&this._scrollMode!==O.ScrollMode.HORIZONTAL?2:1}_setScale(F,le=!1){let _e=parseFloat(F);if(_e>0)this._setScaleUpdatePages(_e,F,le,!1);else{const Me=this._pages[this._currentPageNumber-1];if(!Me)return;let De=O.SCROLLBAR_PADDING,Ue=O.VERTICAL_PADDING;this.isInPresentationMode?De=Ue=4:this.removePageBorders&&(De=Ue=0),this._scrollMode===O.ScrollMode.HORIZONTAL&&([De,Ue]=[Ue,De]);const Le=(this.container.clientWidth-De)/Me.width*Me.scale/this._pageWidthScaleFactor,ze=(this.container.clientHeight-Ue)/Me.height*Me.scale;switch(F){case"page-actual":_e=1;break;case"page-width":_e=Le;break;case"page-height":_e=ze;break;case"page-fit":_e=Math.min(Le,ze);break;case"auto":const It=(0,O.isPortraitOrientation)(Me)?Le:Math.min(ze,Le);_e=Math.min(O.MAX_AUTO_SCALE,It);break;default:return void console.error(`_setScale: "${F}" is an unknown zoom value.`)}this._setScaleUpdatePages(_e,F,le,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(F){if(!this._pageLabels)return null;const le=this._pageLabels.indexOf(F);return le<0?null:le+1}scrollPageIntoView({pageNumber:F,destArray:le=null,allowNegativeOffset:_e=!1,ignoreDestinationZoom:Me=!1}){if(!this.pdfDocument)return;const De=Number.isInteger(F)&&this._pages[F-1];if(!De)return void console.error(`scrollPageIntoView: "${F}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!le)return void this._setCurrentPageNumber(F,!0);let sn,Te,Ue=0,Le=0,ze=0,It=0;const me=De.rotation%180!=0,Ce=(me?De.height:De.width)/De.scale/G.PixelsPerInch.PDF_TO_CSS_UNITS,et=(me?De.width:De.height)/De.scale/G.PixelsPerInch.PDF_TO_CSS_UNITS;let rt=0;switch(le[1].name){case"XYZ":Ue=le[2],Le=le[3],rt=le[4],Ue=null!==Ue?Ue:0,Le=null!==Le?Le:et;break;case"Fit":case"FitB":rt="page-fit";break;case"FitH":case"FitBH":Le=le[2],rt="page-width",null===Le&&this._location?(Ue=this._location.left,Le=this._location.top):("number"!=typeof Le||Le<0)&&(Le=et);break;case"FitV":case"FitBV":Ue=le[2],ze=Ce,It=et,rt="page-height";break;case"FitR":Ue=le[2],Le=le[3],ze=le[4]-Ue,It=le[5]-Le,sn=(this.container.clientWidth-(this.removePageBorders?0:O.SCROLLBAR_PADDING))/ze/G.PixelsPerInch.PDF_TO_CSS_UNITS,Te=(this.container.clientHeight-(this.removePageBorders?0:O.VERTICAL_PADDING))/It/G.PixelsPerInch.PDF_TO_CSS_UNITS,rt=Math.min(Math.abs(sn),Math.abs(Te));break;default:return void console.error(`scrollPageIntoView: "${le[1].name}" is not a valid destination type.`)}if(Me||(rt&&rt!==this._currentScale?this.currentScaleValue=rt:this._currentScale===O.UNKNOWN_SCALE&&(this.currentScaleValue=O.DEFAULT_SCALE_VALUE)),"page-fit"===rt&&!le[4])return void this._scrollIntoView({pageDiv:De.div,pageNumber:F});const Rt=[De.viewport.convertToViewportPoint(Ue,Le),De.viewport.convertToViewportPoint(Ue+ze,Le+It)];let yt=Math.min(Rt[0][0],Rt[1][0]),Ut=Math.min(Rt[0][1],Rt[1][1]);_e||(yt=Math.max(yt,0),Ut=Math.max(Ut,0)),this._scrollIntoView({pageDiv:De.div,pageSpot:{left:yt,top:Ut},pageNumber:F})}_updateLocation(F){const le=this._currentScale,_e=this._currentScaleValue,Me=parseFloat(_e)===le?Math.round(1e4*le)/100:_e,De=F.id;let Ue="#page="+De;Ue+="&zoom="+Me;const ze=this.container,It=this._pages[De-1].getPagePoint(ze.scrollLeft-F.x,ze.scrollTop-F.y),sn=Math.round(It[0]),Te=Math.round(It[1]);Ue+=","+sn+","+Te,this._location={pageNumber:De,scale:Me,top:Te,left:sn,rotation:this._pagesRotation,pdfOpenParams:Ue}}update(){const F=this._getVisiblePages(),le=F.views,_e=le.length;if(0===_e)return;const Me=Math.max(10,2*_e+1);if(z(this,m).resize(Me,F.ids),this.renderingQueue.renderHighestPriority(F),!this.isInPresentationMode){const De=this._spreadMode===O.SpreadMode.NONE&&(this._scrollMode===O.ScrollMode.PAGE||this._scrollMode===O.ScrollMode.VERTICAL);let Ue=this._currentPageNumber,Le=!1;for(const ze of le){if(ze.percent<100)break;if(ze.id===Ue&&De){Le=!0;break}}Le||(Ue=le[0].id),this._setCurrentPageNumber(Ue)}this._updateLocation(F.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(F){return this.container.contains(F)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===O.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===O.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const F=this._pages[this._currentPageNumber-1],le=F.div,_e={id:F.id,x:le.offsetLeft+le.clientLeft,y:le.offsetTop+le.clientTop,view:F};return{first:_e,last:_e,views:[_e],ids:new Set([F.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const F=this._scrollMode===O.ScrollMode.PAGE?z(this,A).pages:this._pages,le=this._scrollMode===O.ScrollMode.HORIZONTAL;return(0,O.getVisibleElements)({scrollEl:this.container,views:F,sortByVisibility:!0,horizontal:le,rtl:le&&this._isContainerRtl})}isPageVisible(F){return!!this.pdfDocument&&(Number.isInteger(F)&&F>0&&F<=this.pagesCount?this._getVisiblePages().ids.has(F):(console.error(`isPageVisible: "${F}" is not a valid page.`),!1))}isPageCached(F){if(!this.pdfDocument)return!1;if(!(Number.isInteger(F)&&F>0&&F<=this.pagesCount))return console.error(`isPageCached: "${F}" is not a valid page.`),!1;const le=this._pages[F-1];return z(this,m).has(le)}cleanup(){for(let F=0,le=this._pages.length;F<le;F++)this._pages[F]&&this._pages[F].renderingState!==O.RenderingStates.FINISHED&&this._pages[F].reset()}_cancelRendering(){for(let F=0,le=this._pages.length;F<le;F++)this._pages[F]&&this._pages[F].cancelRendering()}forceRendering(F){const le=F||this._getVisiblePages(),_e=J(this,fe,st).call(this,le),De=this.renderingQueue.getHighestPriority(le,this._pages,_e,this._spreadMode!==O.SpreadMode.NONE&&this._scrollMode!==O.ScrollMode.HORIZONTAL);return J(this,Ie,an).call(this,le.ids),!!De&&(J(this,ue,kt).call(this,De).then(()=>{this.renderingQueue.renderView(De)}),!0)}createTextLayerBuilder(F,le,_e,Me=!1,De,Ue){return new P.TextLayerBuilder({textLayerDiv:F,eventBus:De,pageIndex:le,viewport:_e,enhanceTextSelection:!this.isInPresentationMode&&Me,highlighter:Ue})}createTextHighlighter(F,le){return new B.TextHighlighter({eventBus:le,pageIndex:F,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(F,le,_e=null,Me="",De=!0,Ue=g.NullL10n,Le=null,ze=null,It=null,sn=null,Te=null){return new N.AnnotationLayerBuilder({pageDiv:F,pdfPage:le,annotationStorage:_e||this.pdfDocument?.annotationStorage,imageResourcesPath:Me,renderForms:De,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Ue,enableScripting:Le??this.enableScripting,hasJSActionsPromise:ze||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:sn||this.pdfDocument?.getFieldObjects(),mouseState:It||this._scriptingManager?.mouseState,annotationCanvasMap:Te})}createXfaLayerBuilder(F,le,_e=null){return new C.XfaLayerBuilder({pageDiv:F,pdfPage:le,annotationStorage:_e||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(F){return new S.StructTreeLayerBuilder({pdfPage:F})}get hasEqualPageSizes(){const F=this._pages[0];for(let le=1,_e=this._pages.length;le<_e;++le){const Me=this._pages[le];if(Me.width!==F.width||Me.height!==F.height)return!1}return!0}getPagesOverview(){return this._pages.map(F=>{const le=F.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,O.isPortraitOrientation)(le)?{width:le.width,height:le.height,rotation:le.rotation}:{width:le.height,height:le.width,rotation:(le.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(F){if(!(F instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${F}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=F;const le={optionalContentConfigPromise:F};for(const _e of this._pages)_e.update(le);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:F})}get scrollMode(){return this._scrollMode}set scrollMode(F){if(this._scrollMode!==F){if(!(0,O.isValidScrollMode)(F))throw new Error(`Invalid scroll mode: ${F}`);this.pagesCount>Q.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=F,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:F}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(F=null){const le=this._scrollMode,_e=this.viewer;_e.classList.toggle("scrollHorizontal",le===O.ScrollMode.HORIZONTAL),_e.classList.toggle("scrollWrapped",le===O.ScrollMode.WRAPPED),this.pdfDocument&&F&&(le===O.ScrollMode.PAGE?J(this,X,Ne).call(this):this._previousScrollMode===O.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(F,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(F){if(this._spreadMode!==F){if(!(0,O.isValidSpreadMode)(F))throw new Error(`Invalid spread mode: ${F}`);this._spreadMode=F,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:F}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(F=null){if(!this.pdfDocument)return;const le=this.viewer,_e=this._pages;if(this._scrollMode===O.ScrollMode.PAGE)J(this,X,Ne).call(this);else if(le.textContent="",this._spreadMode===O.SpreadMode.NONE)for(let Me=0,De=_e.length;Me<De;++Me)le.appendChild(_e[Me].div);else{const Me=this._spreadMode-1;let De=null;for(let Ue=0,Le=_e.length;Ue<Le;++Ue)null===De?(De=document.createElement("div"),De.className="spread",le.appendChild(De)):Ue%2===Me&&(De=De.cloneNode(!1),le.appendChild(De)),De.appendChild(_e[Ue].div)}F&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(F,!0),this.update())}_getPageAdvance(F,le=!1){switch(this._scrollMode){case O.ScrollMode.WRAPPED:{const{views:_e}=this._getVisiblePages(),Me=new Map;for(const{id:De,y:Ue,percent:Le,widthPercent:ze}of _e){if(0===Le||ze<100)continue;let It=Me.get(Ue);It||Me.set(Ue,It||=[]),It.push(De)}for(const De of Me.values()){const Ue=De.indexOf(F);if(-1===Ue)continue;const Le=De.length;if(1===Le)break;if(le)for(let ze=Ue-1,It=0;ze>=It;ze--){const Te=De[ze+1]-1;if(De[ze]<Te)return F-Te}else for(let ze=Ue+1,It=Le;ze<It;ze++){const Te=De[ze-1]+1;if(De[ze]>Te)return Te-F}if(le){const ze=De[0];if(ze<F)return F-ze+1}else{const ze=De[Le-1];if(ze>F)return ze-F+1}break}break}case O.ScrollMode.HORIZONTAL:break;case O.ScrollMode.PAGE:case O.ScrollMode.VERTICAL:{if(this._spreadMode===O.SpreadMode.NONE)break;const _e=this._spreadMode-1;if(le&&F%2!==_e)break;if(!le&&F%2===_e)break;const{views:Me}=this._getVisiblePages(),De=le?F-1:F+1;for(const{id:Ue,percent:Le,widthPercent:ze}of Me)if(Ue===De){if(Le>0&&100===ze)return 2;break}break}}return 1}nextPage(){const F=this._currentPageNumber,le=this.pagesCount;if(F>=le)return!1;const _e=this._getPageAdvance(F,!1)||1;return this.currentPageNumber=Math.min(F+_e,le),!0}previousPage(){const F=this._currentPageNumber;if(F<=1)return!1;const le=this._getPageAdvance(F,!0)||1;return this.currentPageNumber=Math.max(F-le,1),!0}increaseScale(F=1){let le=this._currentScale;do{le=(le*O.DEFAULT_SCALE_DELTA).toFixed(2),le=Math.ceil(10*le)/10,le=Math.min(O.MAX_SCALE,le)}while(--F>0&&le<O.MAX_SCALE);this.currentScaleValue=le}decreaseScale(F=1){let le=this._currentScale;do{le=(le/O.DEFAULT_SCALE_DELTA).toFixed(2),le=Math.floor(10*le)/10,le=Math.max(O.MIN_SCALE,le)}while(--F>0&&le>O.MIN_SCALE);this.currentScaleValue=le}}function je(ve){ve&&(ve.includes(G.PermissionFlag.COPY)||this.viewer.classList.add(K),!ve.includes(G.PermissionFlag.MODIFY_ANNOTATIONS)&&!ve.includes(G.PermissionFlag.FILL_INTERACTIVE_FORMS)&&z(this,T)===G.AnnotationMode.ENABLE_FORMS&&(p(this,b,z(this,T)),p(this,T,G.AnnotationMode.ENABLE)))}function $e(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ve=new Promise(F=>{p(this,L,()=>{"hidden"===document.visibilityState&&(F(),document.removeEventListener("visibilitychange",z(this,L)),p(this,L,null))}),document.addEventListener("visibilitychange",z(this,L))});return Promise.race([this._onePageRenderedCapability.promise,ve])}function Ne(){if(this._scrollMode!==O.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ve=this._currentPageNumber,F=z(this,A),le=this.viewer;if(le.textContent="",F.pages.length=0,this._spreadMode===O.SpreadMode.NONE){const _e=this._pages[ve-1];if(this.isInPresentationMode){const Me=document.createElement("div");Me.className="spread";const De=document.createElement("div");De.className="dummyPage",De.style.height=`${this.container.clientHeight}px`,Me.appendChild(De),Me.appendChild(_e.div),le.appendChild(Me)}else le.appendChild(_e.div);F.pages.push(_e)}else{const _e=new Set,Me=this._spreadMode-1;ve%2!==Me?(_e.add(ve-1),_e.add(ve)):(_e.add(ve-2),_e.add(ve-1));let De=null;for(const Ue of _e){const Le=this._pages[Ue];Le&&(null===De?(De=document.createElement("div"),De.className="spread",le.appendChild(De)):Ue%2===Me&&(De=De.cloneNode(!1),le.appendChild(De)),De.appendChild(Le.div),F.pages.push(Le))}}F.scrollDown=ve>=F.previousPageNumber,F.previousPageNumber=ve}function Pt(ve){return(!this.isInPresentationMode||this.container.clientHeight===z(this,y))&&(ve===this._currentScale||Math.abs(ve-this._currentScale)<1e-15)}function kt(ve){return Qe.apply(this,arguments)}function Qe(){return(Qe=j(function*(ve){if(ve.pdfPage)return ve.pdfPage;try{const F=yield this.pdfDocument.getPage(ve.id);return ve.pdfPage||ve.setPdfPage(F),this.linkService._cachedPageNumber?.(F.ref)||this.linkService.cachePageRef(ve.id,F.ref),F}catch(F){return console.error("Unable to get page for page view",F),null}})).apply(this,arguments)}function st(ve){if(1===ve.first?.id)return!0;if(ve.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case O.ScrollMode.PAGE:return z(this,A).scrollDown;case O.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function an(ve){for(const F of ve)this._pages[F-1]?.toggleLoadingIconSpinner(!0);for(const F of z(this,m))ve.has(F.id)||F.toggleLoadingIconSpinner(!1)}M.BaseViewer=Fe},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFPageView=void 0;var H=k(3),G=k(6),O=k(13),N=k(4);const g=O.compatibilityParams.maxCanvasPixels||16777216;var f=new WeakMap;M.PDFPageView=class I{constructor(S){W(this,f,{writable:!0,value:H.AnnotationMode.ENABLE_FORMS});const B=S.container,P=S.defaultViewport;this.id=S.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=S.scale||G.DEFAULT_SCALE,this.viewport=P,this.pdfPageRotate=P.rotation,this._optionalContentConfigPromise=S.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=S.textLayerMode??G.TextLayerMode.ENABLE,p(this,f,S.annotationMode??H.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=S.imageResourcesPath||"",this.useOnlyCssZoom=S.useOnlyCssZoom||!1,this.maxCanvasPixels=S.maxCanvasPixels||g,this.eventBus=S.eventBus,this.renderingQueue=S.renderingQueue,this.textLayerFactory=S.textLayerFactory,this.annotationLayerFactory=S.annotationLayerFactory,this.xfaLayerFactory=S.xfaLayerFactory,this.textHighlighter=S.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=S.structTreeLayerFactory,this.renderer=S.renderer||G.RendererType.CANVAS,this.l10n=S.l10n||N.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=G.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const C=document.createElement("div");C.className="page",C.style.width=Math.floor(this.viewport.width)+"px",C.style.height=Math.floor(this.viewport.height)+"px",C.setAttribute("data-page-number",this.id),C.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(V=>{C.setAttribute("aria-label",V)}),this.div=C,B?.appendChild(C)}setPdfPage(S){this.pdfPage=S,this.pdfPageRotate=S.rotate,this.viewport=S.getViewport({scale:this.scale*H.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var S=this;return j(function*(){let B=null;try{yield S.annotationLayer.render(S.viewport,"display")}catch(P){B=P}finally{S.eventBus.dispatch("annotationlayerrendered",{source:S,pageNumber:S.id,error:B})}})()}_renderXfaLayer(){var S=this;return j(function*(){let B=null;try{const P=yield S.xfaLayer.render(S.viewport,"display");S.textHighlighter&&S._buildXfaTextContentItems(P.textDivs)}catch(P){B=P}finally{S.eventBus.dispatch("xfalayerrendered",{source:S,pageNumber:S.id,error:B})}})()}_buildXfaTextContentItems(S){var B=this;return j(function*(){const P=yield B.pdfPage.getTextContent(),C=[];for(const V of P.items)C.push(V.str);B.textHighlighter.setTextMapping(S,C),B.textHighlighter.enable()})()}_resetZoomLayer(S=!1){if(!this.zoomLayer)return;const B=this.zoomLayer.firstChild;this.paintedViewportMap.delete(B),B.width=0,B.height=0,S&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:S=!1,keepAnnotationLayer:B=!1,keepXfaLayer:P=!1}={}){this.cancelRendering({keepAnnotationLayer:B,keepXfaLayer:P}),this.renderingState=G.RenderingStates.INITIAL;const C=this.div;C.style.width=Math.floor(this.viewport.width)+"px",C.style.height=Math.floor(this.viewport.height)+"px";const V=C.childNodes,K=S&&this.zoomLayer||null,Q=B&&this.annotationLayer?.div||null,te=P&&this.xfaLayer?.div||null;for(let ce=V.length-1;ce>=0;ce--){const ge=V[ce];switch(ge){case K:case Q:case te:continue}ge.remove()}C.removeAttribute("data-loaded"),Q&&this.annotationLayer.hide(),te&&this.xfaLayer.hide(),K||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ce=>{this.loadingIconDiv?.setAttribute("aria-label",ce)}),C.appendChild(this.loadingIconDiv)}update({scale:S=0,rotation:B=null,optionalContentConfigPromise:P=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=S||this.scale,"number"==typeof B&&(this.rotation=B),P instanceof Promise&&(this._optionalContentConfigPromise=P);const V=this.scale*H.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:V,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:Q}=document.documentElement;Q.setProperty("--zoom-factor",this.scale),Q.setProperty("--viewport-scale-factor",V)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let K=!1;if(this.canvas&&this.maxCanvasPixels>0){const Q=this.outputScale;(Math.floor(this.viewport.width)*Q.sx|0)*(Math.floor(this.viewport.height)*Q.sy|0)>this.maxCanvasPixels&&(K=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&K)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:S=!1,keepXfaLayer:B=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!S||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!B||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:S,redrawAnnotationLayer:B=!1,redrawXfaLayer:P=!1}){const C=this.viewport.width,V=this.viewport.height,K=this.div;S.style.width=S.parentNode.style.width=K.style.width=Math.floor(C)+"px",S.style.height=S.parentNode.style.height=K.style.height=Math.floor(V)+"px";const Q=this.viewport.rotation-this.paintedViewportMap.get(S).rotation,te=Math.abs(Q);let ce=1,ge=1;if((90===te||270===te)&&(ce=V/C,ge=C/V),S.style.transform=`rotate(${Q}deg) scale(${ce}, ${ge})`,this.textLayer){const R=this.textLayer.viewport,m=Math.abs(this.viewport.rotation-R.rotation);let T=C/R.width;(90===m||270===m)&&(T=C/R.height);const b=this.textLayer.textLayerDiv;let d,y;switch(m){case 0:d=y=0;break;case 90:d=0,y="-"+b.style.height;break;case 180:d="-"+b.style.width,y="-"+b.style.height;break;case 270:d="-"+b.style.width,y=0;break;default:console.error("Bad rotation value.")}b.style.transform=`rotate(${m}deg) scale(${T}) translate(${d}, ${y})`,b.style.transformOrigin="0% 0%"}B&&this.annotationLayer&&this._renderAnnotationLayer(),P&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(S,B){return this.viewport.convertToPdfPoint(S,B)}toggleLoadingIconSpinner(S=!1){this.loadingIconDiv?.classList.toggle("notVisible",!S)}draw(){var S=this;this.renderingState!==G.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:B,pdfPage:P}=this;if(!P)return this.renderingState=G.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=G.RenderingStates.RUNNING;const C=document.createElement("div");C.style.width=B.style.width,C.style.height=B.style.height,C.classList.add("canvasWrapper"),this.annotationLayer?.div?B.insertBefore(C,this.annotationLayer.div):B.appendChild(C);let V=null;if(this.textLayerMode!==G.TextLayerMode.DISABLE&&this.textLayerFactory){const ge=document.createElement("div");ge.className="textLayer",ge.style.width=C.style.width,ge.style.height=C.style.height,this.annotationLayer?.div?B.insertBefore(ge,this.annotationLayer.div):B.appendChild(ge),V=this.textLayerFactory.createTextLayerBuilder(ge,this.id-1,this.viewport,this.textLayerMode===G.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=V,z(this,f)!==H.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(B,P,null,this.imageResourcesPath,z(this,f)===H.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&B.appendChild(this.xfaLayer.div);let K=null;this.renderingQueue&&(K=ge=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=G.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=G.RenderingStates.RUNNING,ge()});ge()});const Q=function(){var ge=j(function*(R=null){if(te===S.paintTask&&(S.paintTask=null),R instanceof H.RenderingCancelledException)S._renderError=null;else if(S._renderError=R,S.renderingState=G.RenderingStates.FINISHED,S.loadingIconDiv&&(S.loadingIconDiv.remove(),delete S.loadingIconDiv),S._resetZoomLayer(!0),S.eventBus.dispatch("pagerendered",{source:S,pageNumber:S.id,cssTransform:!1,timestamp:performance.now(),error:S._renderError}),R)throw R});return function(){return ge.apply(this,arguments)}}(),te=this.renderer===G.RendererType.SVG?this.paintOnSvg(C):this.paintOnCanvas(C);te.onRenderContinue=K,this.paintTask=te;const ce=te.promise.then(()=>Q(null).then(()=>{if(V){const ge=P.streamTextContent({includeMarkedContent:!0});V.setTextContentStream(ge),V.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ge){return Q(ge)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(B,P,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ge=>{ge.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(R=>{if(!R||!this.canvas)return;const w=this.structTreeLayer.render(R);w.classList.add("structTree"),this.canvas.appendChild(w)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(P)),B.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ce}paintOnCanvas(S){const B=(0,H.createPromiseCapability)(),P={promise:B.promise,onRenderContinue(b){b()},cancel(){T.cancel()}},C=this.viewport,V=document.createElement("canvas");V.hidden=!0;let K=!0;const Q=function(){K&&(V.hidden=!1,K=!1)};S.appendChild(V),this.canvas=V,V.mozOpaque=!0;const te=V.getContext("2d",{alpha:!1}),ce=this.outputScale=new G.OutputScale;if(this.useOnlyCssZoom){const b=C.clone({scale:H.PixelsPerInch.PDF_TO_CSS_UNITS});ce.sx*=b.width/C.width,ce.sy*=b.height/C.height}if(this.maxCanvasPixels>0){const d=Math.sqrt(this.maxCanvasPixels/(C.width*C.height));ce.sx>d||ce.sy>d?(ce.sx=d,ce.sy=d,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ge=(0,G.approximateFraction)(ce.sx),R=(0,G.approximateFraction)(ce.sy);V.width=(0,G.roundToDivide)(C.width*ce.sx,ge[0]),V.height=(0,G.roundToDivide)(C.height*ce.sy,R[0]),V.style.width=(0,G.roundToDivide)(C.width,ge[1])+"px",V.style.height=(0,G.roundToDivide)(C.height,R[1])+"px",this.paintedViewportMap.set(V,C);const m={canvasContext:te,transform:ce.scaled?[ce.sx,0,0,ce.sy,0,0]:null,viewport:this.viewport,annotationMode:z(this,f),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},T=this.pdfPage.render(m);return T.onContinue=function(b){Q(),P.onRenderContinue?P.onRenderContinue(b):b()},T.promise.then(function(){Q(),B.resolve()},function(b){Q(),B.reject(b)}),P}paintOnSvg(S){let B=!1;const P=()=>{if(B)throw new H.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},C=this.pdfPage,V=this.viewport.clone({scale:H.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:C.getOperatorList({annotationMode:z(this,f)}).then(Q=>(P(),new H.SVGGraphics(C.commonObjs,C.objs).getSVG(Q,V).then(ce=>{P(),this.svg=ce,this.paintedViewportMap.set(ce,V),ce.style.width=S.style.width,ce.style.height=S.style.height,this.renderingState=G.RenderingStates.FINISHED,S.appendChild(ce)}))),onRenderContinue(Q){Q()},cancel(){B=!0}}}setPageLabel(S){this.pageLabel="string"==typeof S?S:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(ne,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.compatibilityParams=M.OptionKind=M.AppOptions=void 0;const k=Object.create(null);M.compatibilityParams=k;{const g=navigator.userAgent||"",f=navigator.platform||"",I=navigator.maxTouchPoints||1,U=/Android/.test(g);(/\b(iPad|iPhone|iPod)(?=;)/.test(g)||"MacIntel"===f&&I>1||U)&&(k.maxCanvasPixels=5242880)}const H={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};M.OptionKind=H;const G={annotationMode:{value:2,kind:H.VIEWER+H.PREFERENCE},cursorToolOnLoad:{value:0,kind:H.VIEWER+H.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:H.VIEWER},defaultZoomValue:{value:"",kind:H.VIEWER+H.PREFERENCE},disableHistory:{value:!1,kind:H.VIEWER},disablePageLabels:{value:!1,kind:H.VIEWER+H.PREFERENCE},enablePermissions:{value:!1,kind:H.VIEWER+H.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:H.VIEWER+H.PREFERENCE},enableScripting:{value:!0,kind:H.VIEWER+H.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:H.VIEWER},externalLinkTarget:{value:0,kind:H.VIEWER+H.PREFERENCE},historyUpdateUrl:{value:!1,kind:H.VIEWER+H.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:H.VIEWER+H.PREFERENCE},imageResourcesPath:{value:"./images/",kind:H.VIEWER},maxCanvasPixels:{value:16777216,compatibility:k.maxCanvasPixels,kind:H.VIEWER},pdfBugEnabled:{value:!1,kind:H.VIEWER+H.PREFERENCE},printResolution:{value:150,kind:H.VIEWER},renderer:{value:"canvas",kind:H.VIEWER},sidebarViewOnLoad:{value:-1,kind:H.VIEWER+H.PREFERENCE},scrollModeOnLoad:{value:-1,kind:H.VIEWER+H.PREFERENCE},spreadModeOnLoad:{value:-1,kind:H.VIEWER+H.PREFERENCE},textLayerMode:{value:1,kind:H.VIEWER+H.PREFERENCE},useOnlyCssZoom:{value:!1,kind:H.VIEWER+H.PREFERENCE},viewerCssTheme:{value:0,kind:H.VIEWER+H.PREFERENCE},viewOnLoad:{value:0,kind:H.VIEWER+H.PREFERENCE},cMapPacked:{value:!0,kind:H.API},cMapUrl:{value:"../web/cmaps/",kind:H.API},disableAutoFetch:{value:!1,kind:H.API+H.PREFERENCE},disableFontFace:{value:!1,kind:H.API+H.PREFERENCE},disableRange:{value:!1,kind:H.API+H.PREFERENCE},disableStream:{value:!1,kind:H.API+H.PREFERENCE},docBaseUrl:{value:"",kind:H.API},enableXfa:{value:!0,kind:H.API+H.PREFERENCE},fontExtraProperties:{value:!1,kind:H.API},isEvalSupported:{value:!0,kind:H.API},maxImageSize:{value:-1,kind:H.API},pdfBug:{value:!1,kind:H.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:H.API},verbosity:{value:1,kind:H.API},workerPort:{value:null,kind:H.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:H.WORKER}};G.disablePreferences={value:!1,kind:H.VIEWER},G.locale={value:navigator.language||"en-US",kind:H.VIEWER},G.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:H.VIEWER},G.renderer.kind+=H.PREFERENCE;const O=Object.create(null);M.AppOptions=class N{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(f){const I=O[f];if(void 0!==I)return I;const U=G[f];return void 0!==U?U.compatibility??U.value:void 0}static getAll(f=null){const I=Object.create(null);for(const U in G){const S=G[U];if(f){if(!(f&S.kind))continue;if(f===H.PREFERENCE){const P=S.value,C=typeof P;if("boolean"===C||"string"===C||"number"===C&&Number.isInteger(P)){I[U]=P;continue}throw new Error(`Invalid type for preference: ${U}`)}}const B=O[U];I[U]=void 0!==B?B:S.compatibility??S.value}return I}static set(f,I){O[f]=I}static setAll(f){for(const I in f)O[I]=f[I]}static remove(f){delete O[f]}static _hasUserOptions(){return Object.keys(O).length>0}}},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFRenderingQueue=void 0;var H=k(3),G=k(6);M.PDFRenderingQueue=class N{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(f){this.pdfViewer=f}setThumbnailViewer(f){this.pdfThumbnailViewer=f}isHighestPriority(f){return this.highestPriorityPage===f.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(f){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(f)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(f,I,U,S=!1){const B=f.views,P=B.length;if(0===P)return null;for(let te=0;te<P;te++){const ce=B[te].view;if(!this.isViewFinished(ce))return ce}const C=f.first.id,V=f.last.id;if(V-C+1>P){const te=f.ids;for(let ce=1,ge=V-C;ce<ge;ce++){const R=U?C+ce:V-ce;if(te.has(R))continue;const w=I[R-1];if(!this.isViewFinished(w))return w}}let K=U?V:C-2,Q=I[K];return Q&&!this.isViewFinished(Q)||S&&(K+=U?1:-1,Q=I[K],Q&&!this.isViewFinished(Q))?Q:null}isViewFinished(f){return f.renderingState===G.RenderingStates.FINISHED}renderView(f){switch(f.renderingState){case G.RenderingStates.FINISHED:return!1;case G.RenderingStates.PAUSED:this.highestPriorityPage=f.renderingId,f.resume();break;case G.RenderingStates.RUNNING:this.highestPriorityPage=f.renderingId;break;case G.RenderingStates.INITIAL:this.highestPriorityPage=f.renderingId,f.draw().finally(()=>{this.renderHighestPriority()}).catch(I=>{I instanceof H.RenderingCancelledException||console.error(`renderView: "${I}"`)})}return!0}}},(ne,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.TextHighlighter=void 0;M.TextHighlighter=class k{constructor({findController:G,eventBus:O,pageIndex:N}){this.findController=G,this.matches=[],this.eventBus=O,this.pageIdx=N,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(G,O){this.textDivs=G,this.textContentItemsStr=O}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=G=>{(G.pageIndex===this.pageIdx||-1===G.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(G,O){if(!G)return[];const{textContentItemsStr:N}=this;let g=0,f=0;const I=N.length-1,U=[];for(let S=0,B=G.length;S<B;S++){let P=G[S];for(;g!==I&&P>=f+N[g].length;)f+=N[g].length,g++;g===N.length&&console.error("Could not find a matching mapping");const C={begin:{divIdx:g,offset:P-f}};for(P+=O[S];g!==I&&P>f+N[g].length;)f+=N[g].length,g++;C.end={divIdx:g,offset:P-f},U.push(C)}return U}_renderMatches(G){if(0===G.length)return;const{findController:O,pageIdx:N}=this,{textContentItemsStr:g,textDivs:f}=this,I=N===O.selected.pageIdx,U=O.selected.matchIdx;let B=null;const P_offset=void 0;function C(te,ce){const ge=te.divIdx;return f[ge].textContent="",V(ge,0,te.offset,ce)}function V(te,ce,ge,R){let w=f[te];if(w.nodeType===Node.TEXT_NODE){const b=document.createElement("span");w.parentNode.insertBefore(b,w),b.appendChild(w),f[te]=b,w=b}const m=g[te].substring(ce,ge),T=document.createTextNode(m);if(R){const b=document.createElement("span");return b.className=`${R} appended`,b.appendChild(T),w.appendChild(b),R.includes("selected")?b.offsetLeft:0}return w.appendChild(T),0}let K=U,Q=K+1;if(O.state.highlightAll)K=0,Q=G.length;else if(!I)return;for(let te=K;te<Q;te++){const ce=G[te],ge=ce.begin,R=ce.end,w=I&&te===U,m=w?" selected":"";let T=0;if(B&&ge.divIdx===B.divIdx?V(B.divIdx,B.offset,ge.offset):(null!==B&&V(B.divIdx,B.offset,P_offset),C(ge)),ge.divIdx===R.divIdx)T=V(ge.divIdx,ge.offset,R.offset,"highlight"+m);else{T=V(ge.divIdx,ge.offset,P_offset,"highlight begin"+m);for(let b=ge.divIdx+1,d=R.divIdx;b<d;b++)f[b].className="highlight middle"+m;C(R,"highlight end"+m)}B=R,w&&O.scrollMatchIntoView({element:f[ge.divIdx],selectedLeft:T,pageIndex:N,matchIndex:U})}B&&V(B.divIdx,B.offset,P_offset)}_updateMatches(){if(!this.enabled)return;const{findController:G,matches:O,pageIdx:N}=this,{textContentItemsStr:g,textDivs:f}=this;let I=-1;for(let B=0,P=O.length;B<P;B++){const C=O[B];for(let K=Math.max(I,C.begin.divIdx),Q=C.end.divIdx;K<=Q;K++){const te=f[K];te.textContent=g[K],te.className=""}I=C.end.divIdx+1}G?.highlightMatches&&(this.matches=this._convertMatches(G.pageMatches[N]||null,G.pageMatchesLength[N]||null),this._renderMatches(this.matches))}}},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.DownloadManager=void 0;var H=k(3);function G(N,g){const f=document.createElement("a");if(!f.click)throw new Error('DownloadManager: "a.click()" is not supported.');f.href=N,f.target="_parent","download"in f&&(f.download=g),(document.body||document.documentElement).appendChild(f),f.click(),f.remove()}M.DownloadManager=class O{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(g,f){(0,H.createValidAbsoluteUrl)(g,"http://example.com")?G(g+"#pdfjs.action=download",f):console.error(`downloadUrl - not a valid URL: ${g}`)}downloadData(g,f,I){G(URL.createObjectURL(new Blob([g],{type:I})),f)}openOrDownloadData(g,f,I){const U=(0,H.isPdfFile)(I),S=U?"application/pdf":"";if(U){let P,B=this._openBlobUrls.get(g);B||(B=URL.createObjectURL(new Blob([f],{type:S})),this._openBlobUrls.set(g,B)),P="?file="+encodeURIComponent(B+"#"+I);try{return window.open(P),!0}catch(C){console.error(`openOrDownloadData: ${C}`),URL.revokeObjectURL(B),this._openBlobUrls.delete(g)}}return this.downloadData(f,I,S),!1}download(g,f,I,U="download"){G(URL.createObjectURL(g),I)}}},(ne,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.WaitOnType=M.EventBus=M.AutomationEventBus=void 0,M.waitOnEventOrTimeout=function H({target:N,name:g,delay:f=0}){return new Promise(function(I,U){if("object"!=typeof N||!g||"string"!=typeof g||!(Number.isInteger(f)&&f>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function S(V){N instanceof G?N._off(g,B):N.removeEventListener(g,B),C&&clearTimeout(C),I(V)}const B=S.bind(null,k.EVENT);N instanceof G?N._on(g,B):N.addEventListener(g,B);const P=S.bind(null,k.TIMEOUT),C=setTimeout(P,f)})};const k={EVENT:"event",TIMEOUT:"timeout"};M.WaitOnType=k;class G{constructor(){this._listeners=Object.create(null)}on(g,f,I=null){this._on(g,f,{external:!0,once:I?.once})}off(g,f,I=null){this._off(g,f,{external:!0,once:I?.once})}dispatch(g,f){const I=this._listeners[g];if(!I||0===I.length)return;let U;for(const{listener:S,external:B,once:P}of I.slice(0))P&&this._off(g,S),B?(U||=[]).push(S):S(f);if(U){for(const S of U)S(f);U=null}}_on(g,f,I=null){(this._listeners[g]||=[]).push({listener:f,external:!0===I?.external,once:!0===I?.once})}_off(g,f,I=null){const U=this._listeners[g];if(U)for(let S=0,B=U.length;S<B;S++)if(U[S].listener===f)return void U.splice(S,1)}}M.EventBus=G;M.AutomationEventBus=class O extends G{dispatch(g,f){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.GenericL10n=void 0,k(19);var H=k(4);const G=document.webL10n;M.GenericL10n=class O{constructor(g){this._lang=g,this._ready=new Promise((f,I)=>{G.setLanguage((0,H.fixupLangCode)(g),()=>{f(G)})})}getLanguage(){var g=this;return j(function*(){return(yield g._ready).getLanguage()})()}getDirection(){var g=this;return j(function*(){return(yield g._ready).getDirection()})()}get(g,f=null,I=(0,H.getL10nFallback)(g,f)){var U=this;return j(function*(){return(yield U._ready).get(g,f,I)})()}translate(g){var f=this;return j(function*(){return(yield f._ready).translate(g)})()}}},()=>{document.webL10n=function(ne,M,k){var H={},G="",O="textContent",N="",g={},f="loading",I=!0;function C(b,d,y){d=d||function(x){},y=y||function(){};var A=new XMLHttpRequest;A.open("GET",b,I),A.overrideMimeType&&A.overrideMimeType("text/plain; charset=utf-8"),A.onreadystatechange=function(){4==A.readyState&&(200==A.status||0===A.status?d(A.responseText):y())},A.onerror=y,A.ontimeout=y;try{A.send(null)}catch{y()}}function V(b,d,y,A){var L=b.replace(/[^\/]*$/,"")||"./";function x(X){return X.lastIndexOf("\\")<0?X:X.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}C(b,function(X){G+=X,function E(X,de){var ue={},fe=/^\s*|\s*$/,Ie=/^\s*#|^\s*$/,Fe=/^\s*\[(.*)\]\s*$/,je=/^\s*@import\s+url\((.*)\)\s*$/i,$e=/^([^=\s]*)\s*=\s*(.+)$/;function Ne(kt,Qe,st){var an=kt.replace(fe,"").split(/[\r\n]+/),ve="*",F=d.split("-",1)[0],le=!1,_e="";!function Me(){for(;;){if(!an.length)return void st();var De=an.shift();if(!Ie.test(De)){if(Qe){if(_e=Fe.exec(De)){ve=_e[1].toLowerCase(),le="*"!==ve&&ve!==d&&ve!==F;continue}if(le)continue;if(_e=je.exec(De))return void Pt(L+_e[1],Me)}var Ue=De.match($e);Ue&&3==Ue.length&&(ue[Ue[1]]=x(Ue[2]))}}}()}function Pt(kt,Qe){C(kt,function(st){Ne(st,!1,Qe)},function(){console.warn(kt+" not found."),Qe()})}Ne(X,!0,function(){de(ue)})}(X,function(de){for(var ue in de){var fe,Ie,Fe=ue.lastIndexOf(".");Fe>0?(fe=ue.substring(0,Fe),Ie=ue.substring(Fe+1)):(fe=ue,Ie=O),H[fe]||(H[fe]={}),H[fe][Ie]=de[ue]}y&&y()})},A)}function K(b,d){b&&(b=b.toLowerCase()),d=d||function(){},function Q(){H={},G="",N=""}(),N=b;var y=function U(){return M.querySelectorAll('link[type="application/l10n"]')}(),A=y.length;if(0!==A){var X,de=0;X=function(){++de>=A&&(d(),f="complete")};for(var fe=0;fe<A;fe++)new ue(y[fe]).load(b,X)}else{var L=function S(){var b=M.querySelector('script[type="application/l10n"]');return b?JSON.parse(b.innerHTML):null}();if(L&&L.locales&&L.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(H=L.locales[b])){var x=L.default_locale.toLowerCase();for(var E in L.locales){if((E=E.toLowerCase())===b){H=L.locales[b];break}E===x&&(H=L.locales[x])}}d()}else console.log("no resource to load, early way out");f="complete"}function ue(Fe){var je=Fe.href;this.load=function($e,Ne){V(je,$e,Ne,function(){console.warn(je+" not found."),console.warn('"'+$e+'" resource not found'),N="",Ne()})}}}function ce(b,d,y){var A=H[b];if(!A){if(console.warn("#"+b+" is undefined."),!y)return null;A=y}var L={};for(var x in A){var E=A[x];E=R(E=ge(E,d,b,x),d,b),L[x]=E}return L}function ge(b,d,y,A){var x=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(b);if(!x||!x.length)return b;var de,E=x[1],X=x[2];return d&&X in d?de=d[X]:X in H&&(de=H[X]),E in g&&(b=(0,g[E])(b,de,y,A)),b}function R(b,d,y){return b.replace(/\{\{\s*(.+?)\s*\}\}/g,function(L,x){return d&&x in d?d[x]:x in H?H[x]:(console.log("argument {{"+x+"}} for #"+y+" is undefined."),L)})}function w(b){var d=function P(b){if(!b)return{};var d=b.getAttribute("data-l10n-id"),y=b.getAttribute("data-l10n-args"),A={};if(y)try{A=JSON.parse(y)}catch{console.warn("could not parse arguments for #"+d)}return{id:d,args:A}}(b);if(d.id){var y=ce(d.id,d.args);if(!y)return void console.warn("#"+d.id+" is undefined.");if(y[O]){if(0===function m(b){if(b.children)return b.children.length;if(typeof b.childElementCount<"u")return b.childElementCount;for(var d=0,y=0;y<b.childNodes.length;y++)d+=1===b.nodeType?1:0;return d}(b))b[O]=y[O];else{for(var A=b.childNodes,L=!1,x=0,E=A.length;x<E;x++)3===A[x].nodeType&&/\S/.test(A[x].nodeValue)&&(L?A[x].nodeValue="":(A[x].nodeValue=y[O],L=!0));if(!L){var X=M.createTextNode(y[O]);b.insertBefore(X,b.firstChild)}}delete y[O]}for(var de in y)b[de]=y[de]}}return g.plural=function(b,d,y,A){var L=parseFloat(d);if(isNaN(L)||A!=O)return b;g._pluralRules||(g._pluralRules=function te(b){function y(E,X){return-1!==X.indexOf(E)}function A(E,X,de){return X<=E&&E<=de}var L={0:function(E){return"other"},1:function(E){return A(E%100,3,10)?"few":0===E?"zero":A(E%100,11,99)?"many":2==E?"two":1==E?"one":"other"},2:function(E){return 0!==E&&E%10==0?"many":2==E?"two":1==E?"one":"other"},3:function(E){return 1==E?"one":"other"},4:function(E){return A(E,0,1)?"one":"other"},5:function(E){return A(E,0,2)&&2!=E?"one":"other"},6:function(E){return 0===E?"zero":E%10==1&&E%100!=11?"one":"other"},7:function(E){return 2==E?"two":1==E?"one":"other"},8:function(E){return A(E,3,6)?"few":A(E,7,10)?"many":2==E?"two":1==E?"one":"other"},9:function(E){return 0===E||1!=E&&A(E%100,1,19)?"few":1==E?"one":"other"},10:function(E){return A(E%10,2,9)&&!A(E%100,11,19)?"few":E%10!=1||A(E%100,11,19)?"other":"one"},11:function(E){return A(E%10,2,4)&&!A(E%100,12,14)?"few":E%10==0||A(E%10,5,9)||A(E%100,11,14)?"many":E%10==1&&E%100!=11?"one":"other"},12:function(E){return A(E,2,4)?"few":1==E?"one":"other"},13:function(E){return A(E%10,2,4)&&!A(E%100,12,14)?"few":1!=E&&A(E%10,0,1)||A(E%10,5,9)||A(E%100,12,14)?"many":1==E?"one":"other"},14:function(E){return A(E%100,3,4)?"few":E%100==2?"two":E%100==1?"one":"other"},15:function(E){return 0===E||A(E%100,2,10)?"few":A(E%100,11,19)?"many":1==E?"one":"other"},16:function(E){return E%10==1&&11!=E?"one":"other"},17:function(E){return 3==E?"few":0===E?"zero":6==E?"many":2==E?"two":1==E?"one":"other"},18:function(E){return 0===E?"zero":A(E,0,2)&&0!==E&&2!=E?"one":"other"},19:function(E){return A(E,2,10)?"few":A(E,0,1)?"one":"other"},20:function(E){return!A(E%10,3,4)&&E%10!=9||A(E%100,10,19)||A(E%100,70,79)||A(E%100,90,99)?E%1e6==0&&0!==E?"many":E%10!=2||y(E%100,[12,72,92])?E%10!=1||y(E%100,[11,71,91])?"other":"one":"two":"few"},21:function(E){return 0===E?"zero":1==E?"one":"other"},22:function(E){return A(E,0,1)||A(E,11,99)?"one":"other"},23:function(E){return A(E%10,1,2)||E%20==0?"one":"other"},24:function(E){return A(E,3,10)||A(E,13,19)?"few":y(E,[2,12])?"two":y(E,[1,11])?"one":"other"}},x={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[b.replace(/-.*$/,"")];return x in L?L[x]:(console.warn("plural form unknown for ["+b+"]"),function(){return"other"})}(N));var x="["+g._pluralRules(L)+"]";return 0===L&&y+"[zero]"in H?b=H[y+"[zero]"][A]:1==L&&y+"[one]"in H?b=H[y+"[one]"][A]:2==L&&y+"[two]"in H?b=H[y+"[two]"][A]:y+x in H?b=H[y+x][A]:y+"[other]"in H&&(b=H[y+"[other]"][A]),b},{get:function(b,d,y){var x,A=b.lastIndexOf("."),L=O;A>0&&(L=b.substring(A+1),b=b.substring(0,A)),y&&((x={})[L]=y);var E=ce(b,d,x);return E&&L in E?E[L]:"{{"+b+"}}"},getData:function(){return H},getText:function(){return G},getLanguage:function(){return N},setLanguage:function(b,d){K(b,function(){d&&d()})},getDirection:function(){var d=N.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(d)>=0?"rtl":"ltr"},translate:function T(b){for(var d=function B(b){return b?b.querySelectorAll("*[data-l10n-id]"):[]}(b=b||M.documentElement),y=d.length,A=0;A<y;A++)w(d[A]);w(b)},getReadyState:function(){return f},ready:function(b){b&&("complete"==f||"interactive"==f?ne.setTimeout(function(){b()}):M.addEventListener&&M.addEventListener("localized",function d(){M.removeEventListener("localized",d),b()}))}}}(window,document)},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFFindController=M.FindState=void 0;var H=k(6),G=k(3),O=k(21);const N={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};M.FindState=N;const U={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},S=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),B=[...S.values()].map(R=>String.fromCharCode(R)).join(""),P=/\p{M}+/gu,C=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,V=/([^\p{M}])\p{M}*$/u,K=/^\p{M}*([^\p{M}])/u;let Q=null;function te(R){if(!Q){const E=Object.keys(U).join("");Q=new RegExp(`([${E}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const w=[];let m;for(;null!==(m=P.exec(R));)w.push([m[0].length,m.index]);let T=R.normalize("NFD");const b=[[0,0]];let d=0,y=0,A=0,L=0,x=!1;return T=T.replace(Q,(E,X,de,ue,fe,Ie)=>{if(Ie-=A,X){const Fe=U[E],je=Fe.length;for(let $e=1;$e<je;$e++)b.push([Ie-y+$e,y-$e]);return y-=je-1,Fe}if(de){const Fe=de.endsWith("\n"),je=Fe?de.length-2:de.length;x=!0;let $e=je;Ie+L===w[d]?.[1]&&($e-=w[d][0],++d);for(let Ne=1;Ne<$e+1;Ne++)b.push([Ie-1-y+Ne,y-Ne]);return y-=$e,A+=$e,Fe?(b.push([(Ie+=je-1)-y+1,1+y]),y+=1,A+=1,L+=1,de.slice(0,je)):de}return ue?(b.push([Ie-y+1,1+y]),y+=1,A+=1,L+=1,ue.charAt(0)):(b.push([Ie-y+1,y-1]),y-=1,A+=1,L+=1," ")}),b.push([T.length,y]),[T,b,x]}function ce(R,w,m){if(!R)return[w,m];const T=w,b=w+m;let d=(0,H.binarySearchFirstItem)(R,A=>A[0]>=T);R[d][0]>T&&--d;let y=(0,H.binarySearchFirstItem)(R,A=>A[0]>=b,d);return R[y][0]>b&&--y,[T+R[d][1],m+R[y][1]-R[d][1]]}M.PDFFindController=class ge{constructor({linkService:w,eventBus:m}){this._linkService=w,this._eventBus=m,this._reset(),m._on("find",this._onFind.bind(this)),m._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(T,b)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const d=Object.assign(Object.create(null),b,{type:T.substring(4)});this._onFind(d)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(w){this._pdfDocument&&this._reset(),w&&(this._pdfDocument=w,this._firstPageCapability.resolve())}_onFind(w){if(!w)return;const m=this._pdfDocument,{type:T}=w;(null===this._state||this._shouldDirtyMatch(w))&&(this._dirtyMatch=!0),this._state=w,"highlightallchange"!==T&&this._updateUIState(N.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||m&&this._pdfDocument!==m)return;this._extractText();const b=!this._highlightMatches,d=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),T?this._dirtyMatch?this._nextMatch():"again"===T?(this._nextMatch(),b&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===T?(d?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:w=null,selectedLeft:m=0,pageIndex:T=-1,matchIndex:b=-1}){this._scrollMatches&&w&&-1!==b&&b===this._selected.matchIdx&&-1!==T&&T===this._selected.pageIdx&&(this._scrollMatches=!1,(0,H.scrollIntoView)(w,{top:-50,left:m+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,G.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=te(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(w){if(w.query!==this._state.query)return!0;switch(w.type){case"again":const m=this._selected.pageIdx+1,T=this._linkService;return m>=1&&m<=T.pagesCount&&m!==T.page&&!T.isPageVisible(m);case"highlightallchange":return!1}return!0}_isEntireWord(w,m,T){let b=w.slice(0,m).match(V);if(b){const d=w.charCodeAt(m),y=b[1].charCodeAt(0);if((0,O.getCharacterType)(d)===(0,O.getCharacterType)(y))return!1}if(b=w.slice(m+T).match(K),b){const d=w.charCodeAt(m+T-1),y=b[1].charCodeAt(0);if((0,O.getCharacterType)(d)===(0,O.getCharacterType)(y))return!1}return!0}_calculateRegExpMatch(w,m,T,b){const d=[],y=[],A=this._pageDiffs[T];let L;for(;null!==(L=w.exec(b));){if(m&&!this._isEntireWord(b,L.index,L[0].length))continue;const[x,E]=ce(A,L.index,L[0].length);E&&(d.push(x),y.push(E))}this._pageMatches[T]=d,this._pageMatchesLength[T]=y}_convertToRegExpString(w,m){const{matchDiacritics:T}=this._state;let b=!1;const d="[ ]*";return(w=w.replace(C,(y,A,L,x,E,X)=>A?`[ ]*\\${A}[ ]*`:L?`[ ]*${L}[ ]*`:x?"[ ]+":T?E||X:E?S.has(E.charCodeAt(0))?E:"":m?(b=!0,`${X}\\p{M}*`):X)).endsWith(d)&&(w=w.slice(0,w.length-d.length)),T&&m&&(b=!0,w=`${w}(?=[${B}]|[^\\p{M}]|$)`),[b,w]}_calculateMatch(w){let m=this._query;if(0===m.length)return;const{caseSensitive:T,entireWord:b,phraseSearch:d}=this._state,y=this._pageContents[w],A=this._hasDiacritics[w];let L=!1;if(d)[L,m]=this._convertToRegExpString(m,A);else{const X=m.match(/\S+/g);X&&(m=X.sort().reverse().map(de=>{const[ue,fe]=this._convertToRegExpString(de,A);return L||=ue,`(${fe})`}).join("|"))}m=new RegExp(m,`g${L?"u":""}${T?"":"i"}`),this._calculateRegExpMatch(m,b,w,y),this._state.highlightAll&&this._updatePage(w),this._resumePageIdx===w&&(this._resumePageIdx=null,this._nextPageMatch());const E=this._pageMatches[w].length;E>0&&(this._matchesCountTotal+=E,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let w=Promise.resolve();for(let m=0,T=this._linkService.pagesCount;m<T;m++){const b=(0,G.createPromiseCapability)();this._extractTextPromises[m]=b.promise,w=w.then(()=>this._pdfDocument.getPage(m+1).then(d=>d.getTextContent()).then(d=>{const y=d.items,A=[];for(let L=0,x=y.length;L<x;L++)A.push(y[L].str),y[L].hasEOL&&A.push("\n");[this._pageContents[m],this._pageDiffs[m],this._hasDiacritics[m]]=te(A.join("")),b.resolve(m)},d=>{console.error(`Unable to get text content for page ${m+1}`,d),this._pageContents[m]="",this._pageDiffs[m]=null,this._hasDiacritics[m]=!1,b.resolve(m)}))}}_updatePage(w){this._scrollMatches&&this._selected.pageIdx===w&&(this._linkService.page=w+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:w})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const w=this._state.findPrevious,m=this._linkService.page-1,T=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=m,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let d=0;d<T;d++)this._pendingFindMatches.has(d)||(this._pendingFindMatches.add(d),this._extractTextPromises[d].then(y=>{this._pendingFindMatches.delete(y),this._calculateMatch(y)}))}if(""===this._query)return void this._updateUIState(N.FOUND);if(this._resumePageIdx)return;const b=this._offset;if(this._pagesToSearch=T,null!==b.matchIdx){if(!w&&b.matchIdx+1<this._pageMatches[b.pageIdx].length||w&&b.matchIdx>0)return b.matchIdx=w?b.matchIdx-1:b.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(w)}this._nextPageMatch()}_matchesReady(w){const m=this._offset,T=w.length,b=this._state.findPrevious;return T?(m.matchIdx=b?T-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(b),!!(m.wrapped&&(m.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let w=null;do{const m=this._offset.pageIdx;if(w=this._pageMatches[m],!w){this._resumePageIdx=m;break}}while(!this._matchesReady(w))}_advanceOffsetPage(w){const m=this._offset,T=this._linkService.pagesCount;m.pageIdx=w?m.pageIdx-1:m.pageIdx+1,m.matchIdx=null,this._pagesToSearch--,(m.pageIdx>=T||m.pageIdx<0)&&(m.pageIdx=w?T-1:0,m.wrapped=!0)}_updateMatch(w=!1){let m=N.NOT_FOUND;const T=this._offset.wrapped;if(this._offset.wrapped=!1,w){const b=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,m=T?N.WRAPPED:N.FOUND,-1!==b&&b!==this._selected.pageIdx&&this._updatePage(b)}this._updateUIState(m,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(w){const m=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||m&&this._pdfDocument!==m||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(N.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:w,matchIdx:m}=this._selected;let T=0,b=this._matchesCountTotal;if(-1!==m){for(let d=0;d<w;d++)T+=this._pageMatches[d]?.length||0;T+=m+1}return(T<1||T>b)&&(T=b=0),{current:T,total:b}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(w,m=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:w,previous:m,matchesCount:this._requestMatchesCount(),rawQuery:this._state?.query??null})}}},(ne,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.CharacterType=void 0,M.getCharacterType=function P(C){return function H(C){return C<11904}(C)?function G(C){return 0==(65408&C)}(C)?function g(C){return 32===C||9===C||13===C||10===C}(C)?k.SPACE:function O(C){return C>=97&&C<=122||C>=65&&C<=90}(C)||function N(C){return C>=48&&C<=57}(C)||95===C?k.ALPHA_LETTER:k.PUNCT:function B(C){return 3584==(65408&C)}(C)?k.THAI_LETTER:160===C?k.SPACE:k.ALPHA_LETTER:function f(C){return C>=13312&&C<=40959||C>=63744&&C<=64255}(C)?k.HAN_LETTER:function I(C){return C>=12448&&C<=12543}(C)?k.KATAKANA_LETTER:function U(C){return C>=12352&&C<=12447}(C)?k.HIRAGANA_LETTER:function S(C){return C>=65376&&C<=65439}(C)?k.HALFWIDTH_KATAKANA_LETTER:k.ALPHA_LETTER};const k={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};M.CharacterType=k},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFHistory=void 0,M.isDestArraysEqual=S,M.isDestHashesEqual=U;var H=k(6),G=k(17);function f(){return document.location.hash}function U(B,P){return"string"==typeof B&&"string"==typeof P&&(B===P||(0,H.parseQueryString)(B).get("nameddest")===P)}function S(B,P){function C(V,K){if(typeof V!=typeof K||Array.isArray(V)||Array.isArray(K))return!1;if(null!==V&&"object"==typeof V&&null!==K){if(Object.keys(V).length!==Object.keys(K).length)return!1;for(const Q in V)if(!C(V[Q],K[Q]))return!1;return!0}return V===K||Number.isNaN(V)&&Number.isNaN(K)}if(!Array.isArray(B)||!Array.isArray(P)||B.length!==P.length)return!1;for(let V=0,K=B.length;V<K;V++)if(!C(B[V],P[V]))return!1;return!0}M.PDFHistory=class I{constructor({linkService:P,eventBus:C}){this.linkService=P,this.eventBus=C,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",V=>{this._isViewerInPresentationMode=V.state!==H.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",V=>{this._isPagesLoaded=!!V.pagesCount},{once:!0})})}initialize({fingerprint:P,resetHistory:C=!1,updateUrl:V=!1}){if(!P||"string"!=typeof P)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const K=""!==this._fingerprint&&this._fingerprint!==P;this._fingerprint=P,this._updateUrl=!0===V,this._initialized=!0,this._bindEvents();const Q=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=f(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(Q,!0)||C){const{hash:ce,page:ge,rotation:R}=this._parseCurrentHash(!0);return!ce||K||C?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:ce,page:ge,rotation:R},!0)}const te=Q.destination;this._updateInternalState(te,Q.uid,!0),void 0!==te.rotation&&(this._initialRotation=te.rotation),te.dest?(this._initialBookmark=JSON.stringify(te.dest),this._destination.page=null):te.hash?this._initialBookmark=te.hash:te.page&&(this._initialBookmark=`page=${te.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:P=null,explicitDest:C,pageNumber:V}){if(!this._initialized)return;if(P&&"string"!=typeof P)return void console.error(`PDFHistory.push: "${P}" is not a valid namedDest parameter.`);if(!Array.isArray(C))return void console.error(`PDFHistory.push: "${C}" is not a valid explicitDest parameter.`);if(!this._isValidPage(V)&&(null!==V||this._destination))return void console.error(`PDFHistory.push: "${V}" is not a valid pageNumber parameter.`);const K=P||JSON.stringify(C);if(!K)return;let Q=!1;if(this._destination&&(U(this._destination.hash,K)||S(this._destination.dest,C))){if(this._destination.page)return;Q=!0}this._popStateInProgress&&!Q||(this._pushOrReplaceState({dest:C,hash:K,page:V,rotation:this.linkService.rotation},Q),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(P){if(this._initialized){if(!this._isValidPage(P))return void console.error(`PDFHistory.pushPage: "${P}" is not a valid page number.`);this._destination?.page!==P&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${P}`,page:P,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const P=window.history.state;this._isValidState(P)&&P.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const P=window.history.state;this._isValidState(P)&&P.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(P,C=!1){const V=C||!this._destination,K={fingerprint:this._fingerprint,uid:V?this._uid:this._uid+1,destination:P};let Q;if(this._updateInternalState(P,K.uid),this._updateUrl&&P?.hash){const te=document.location.href.split("#")[0];te.startsWith("file://")||(Q=`${te}#${P.hash}`)}V?window.history.replaceState(K,"",Q):window.history.pushState(K,"",Q)}_tryPushCurrentPosition(P=!1){if(!this._position)return;let C=this._position;if(P&&(C=Object.assign(Object.create(null),this._position),C.temporary=!0),!this._destination)return void this._pushOrReplaceState(C);if(this._destination.temporary)return void this._pushOrReplaceState(C,!0);if(this._destination.hash===C.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let V=!1;if(this._destination.page>=C.first&&this._destination.page<=C.page){if(void 0!==this._destination.dest||!this._destination.first)return;V=!0}this._pushOrReplaceState(C,V)}_isValidPage(P){return Number.isInteger(P)&&P>0&&P<=this.linkService.pagesCount}_isValidState(P,C=!1){if(!P)return!1;if(P.fingerprint!==this._fingerprint){if(!C)return!1;{if("string"!=typeof P.fingerprint||P.fingerprint.length!==this._fingerprint.length)return!1;const[V]=performance.getEntriesByType("navigation");if("reload"!==V?.type)return!1}}return!(!Number.isInteger(P.uid)||P.uid<0||null===P.destination||"object"!=typeof P.destination)}_updateInternalState(P,C,V=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),V&&P?.temporary&&delete P.temporary,this._destination=P,this._uid=C,this._maxUid=Math.max(this._maxUid,C),this._numPositionUpdates=0}_parseCurrentHash(P=!1){const C=unescape(f()).substring(1),V=(0,H.parseQueryString)(C),K=V.get("nameddest")||"";let Q=0|V.get("page");return(!this._isValidPage(Q)||P&&K.length>0)&&(Q=null),{hash:C,page:Q,rotation:this.linkService.rotation}}_updateViewarea({location:P}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${P.pageNumber}`:P.pdfOpenParams.substring(1),page:this.linkService.page,first:P.pageNumber,rotation:P.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:P}){const C=f(),V=this._currentHash!==C;if(this._currentHash=C,!P){this._uid++;const{hash:Q,page:te,rotation:ce}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:Q,page:te,rotation:ce},!0)}if(!this._isValidState(P))return;this._popStateInProgress=!0,V&&(this._blockHashChange++,(0,G.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const K=P.destination;this._updateInternalState(K,P.uid,!0),(0,H.isValidRotation)(K.rotation)&&(this.linkService.rotation=K.rotation),K.dest?this.linkService.goToDestination(K.dest):K.hash?this.linkService.setHash(K.hash):K.page&&(this.linkService.page=K.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFScriptingManager=void 0;var H=k(6),G=k(3);M.PDFScriptingManager=class O{constructor({eventBus:g,sandboxBundleSrc:f=null,scriptingFactory:I=null,docPropertiesLookup:U=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=g,this._sandboxBundleSrc=f,this._scriptingFactory=I,this._docPropertiesLookup=U,this._scriptingFactory||window.addEventListener("updatefromsandbox",S=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:S.detail})})}setViewer(g){this._pdfViewer=g}setDocument(g){var f=this;return j(function*(){if(f._pdfDocument&&(yield f._destroyScripting()),f._pdfDocument=g,!g)return;const[I,U,S]=yield Promise.all([g.getFieldObjects(),g.getCalculationOrderIds(),g.getJSActions()]);if(I||S){if(g===f._pdfDocument){try{f._scripting=f._createScripting()}catch(B){return console.error(`PDFScriptingManager.setDocument: "${B?.message}".`),void(yield f._destroyScripting())}f._internalEvents.set("updatefromsandbox",B=>{B?.source===window&&f._updateFromSandbox(B.detail)}),f._internalEvents.set("dispatcheventinsandbox",B=>{f._scripting?.dispatchEventInSandbox(B.detail)}),f._internalEvents.set("pagechanging",({pageNumber:B,previous:P})=>{B!==P&&(f._dispatchPageClose(P),f._dispatchPageOpen(B))}),f._internalEvents.set("pagerendered",({pageNumber:B})=>{f._pageOpenPending.has(B)&&B===f._pdfViewer.currentPageNumber&&f._dispatchPageOpen(B)}),f._internalEvents.set("pagesdestroy",function(){var B=j(function*(P){yield f._dispatchPageClose(f._pdfViewer.currentPageNumber),yield f._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),f._closeCapability?.resolve()});return function(P){return B.apply(this,arguments)}}()),f._domEvents.set("mousedown",B=>{f._mouseState.isDown=!0}),f._domEvents.set("mouseup",B=>{f._mouseState.isDown=!1});for(const[B,P]of f._internalEvents)f._eventBus._on(B,P);for(const[B,P]of f._domEvents)window.addEventListener(B,P);try{const B=yield f._getDocProperties();if(g!==f._pdfDocument)return;yield f._scripting.createSandbox({objects:I,calculationOrder:U,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...B,actions:S}}),f._eventBus.dispatch("sandboxcreated",{source:f})}catch(B){return console.error(`PDFScriptingManager.setDocument: "${B?.message}".`),void(yield f._destroyScripting())}yield f._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield f._dispatchPageOpen(f._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{g===f._pdfDocument&&(f._ready=!0)})}}else yield f._destroyScripting()})()}dispatchWillSave(g){var f=this;return j(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(g){var f=this;return j(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(g){var f=this;return j(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(g){var f=this;return j(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,G.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,G.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,G.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,G.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(g){var f=this;return j(function*(){const I=f._pdfViewer.isInPresentationMode||f._pdfViewer.isChangingPresentationMode,{id:U,siblings:S,command:B,value:P}=g;if(!U){switch(B){case"clear":console.clear();break;case"error":console.error(P);break;case"layout":if(I)return;const V=(0,H.apiPageLayoutToViewerModes)(P);f._pdfViewer.spreadMode=V.spreadMode;break;case"page-num":f._pdfViewer.currentPageNumber=P+1;break;case"print":yield f._pdfViewer.pagesPromise,f._eventBus.dispatch("print",{source:f});break;case"println":console.log(P);break;case"zoom":if(I)return;f._pdfViewer.currentScaleValue=P;break;case"SaveAs":f._eventBus.dispatch("save",{source:f});break;case"FirstPage":f._pdfViewer.currentPageNumber=1;break;case"LastPage":f._pdfViewer.currentPageNumber=f._pdfViewer.pagesCount;break;case"NextPage":f._pdfViewer.nextPage();break;case"PrevPage":f._pdfViewer.previousPage();break;case"ZoomViewIn":if(I)return;f._pdfViewer.increaseScale();break;case"ZoomViewOut":if(I)return;f._pdfViewer.decreaseScale()}return}if(I&&g.focus)return;delete g.id,delete g.siblings;const C=S?[U,...S]:[U];for(const V of C){const K=document.getElementById(V);K?K.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:g})):f._pdfDocument?.annotationStorage.setValue(V,g)}})()}_dispatchPageOpen(g,f=!1){var I=this;return j(function*(){const U=I._pdfDocument,S=I._visitedPages;if(f&&(I._closeCapability=(0,G.createPromiseCapability)()),!I._closeCapability)return;const B=I._pdfViewer.getPageView(g-1);if(B?.renderingState!==H.RenderingStates.FINISHED)return void I._pageOpenPending.add(g);I._pageOpenPending.delete(g);const P=j(function*(){const C=yield S.has(g)?null:B.pdfPage?.getJSActions();U===I._pdfDocument&&(yield I._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:g,actions:C}))})();S.set(g,P)})()}_dispatchPageClose(g){var f=this;return j(function*(){const I=f._pdfDocument,U=f._visitedPages;if(!f._closeCapability||f._pageOpenPending.has(g))return;const S=U.get(g);S&&(U.set(g,null),yield S,I===f._pdfDocument&&(yield f._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:g})))})()}_getDocProperties(){var g=this;return j(function*(){if(g._docPropertiesLookup)return g._docPropertiesLookup(g._pdfDocument);const{docPropertiesLookup:f}=k(24);return f(g._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,G.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:g}=k(24);return new g(this._sandboxBundleSrc)}_destroyScripting(){var g=this;return j(function*(){if(!g._scripting)return g._pdfDocument=null,void g._destroyCapability?.resolve();g._closeCapability&&(yield Promise.race([g._closeCapability.promise,new Promise(f=>{setTimeout(f,1e3)})]).catch(f=>{}),g._closeCapability=null),g._pdfDocument=null;try{yield g._scripting.destroySandbox()}catch{}for(const[f,I]of g._internalEvents)g._eventBus._off(f,I);g._internalEvents.clear();for(const[f,I]of g._domEvents)window.removeEventListener(f,I);g._domEvents.clear(),g._pageOpenPending.clear(),g._visitedPages.clear(),g._scripting=null,delete g._mouseState.isDown,g._ready=!1,g._destroyCapability?.resolve()})()}}},(ne,M,k)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.GenericScripting=void 0,M.docPropertiesLookup=function G(g){return O.apply(this,arguments)};var H=k(3);function O(){return(O=j(function*(g){const I="".split("#")[0];let{info:U,metadata:S,contentDispositionFilename:B,contentLength:P}=yield g.getMetadata();if(!P){const{length:C}=yield g.getDownloadInfo();P=C}return{...U,baseURL:I,filesize:P,filename:B||(0,H.getPdfFilenameFromUrl)(""),metadata:S?.getRaw(),authors:S?.get("dc:creator"),numPages:g.numPages,URL:""}})).apply(this,arguments)}M.GenericScripting=class N{constructor(f){this._ready=(0,H.loadScript)(f,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(f){var I=this;return j(function*(){(yield I._ready).create(f)})()}dispatchEventInSandbox(f){var I=this;return j(function*(){const U=yield I._ready;setTimeout(()=>U.dispatchEvent(f),0)})()}destroySandbox(){var f=this;return j(function*(){(yield f._ready).nukeSandbox()})()}}}],ie={};function re(ne){var M=ie[ne];if(void 0!==M)return M.exports;var k=ie[ne]={exports:{}};return ee[ne](k,k.exports,re),k.exports}var Y={};return(()=>{var ne=Y;Object.defineProperty(ne,"__esModule",{value:!0}),Object.defineProperty(ne,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return O.AnnotationLayerBuilder}}),Object.defineProperty(ne,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return M.DefaultAnnotationLayerFactory}}),Object.defineProperty(ne,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return M.DefaultStructTreeLayerFactory}}),Object.defineProperty(ne,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return M.DefaultTextLayerFactory}}),Object.defineProperty(ne,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return M.DefaultXfaLayerFactory}}),Object.defineProperty(ne,"DownloadManager",{enumerable:!0,get:function(){return N.DownloadManager}}),Object.defineProperty(ne,"EventBus",{enumerable:!0,get:function(){return g.EventBus}}),Object.defineProperty(ne,"GenericL10n",{enumerable:!0,get:function(){return f.GenericL10n}}),Object.defineProperty(ne,"LinkTarget",{enumerable:!0,get:function(){return k.LinkTarget}}),Object.defineProperty(ne,"NullL10n",{enumerable:!0,get:function(){return I.NullL10n}}),Object.defineProperty(ne,"PDFFindController",{enumerable:!0,get:function(){return U.PDFFindController}}),Object.defineProperty(ne,"PDFHistory",{enumerable:!0,get:function(){return S.PDFHistory}}),Object.defineProperty(ne,"PDFLinkService",{enumerable:!0,get:function(){return k.PDFLinkService}}),Object.defineProperty(ne,"PDFPageView",{enumerable:!0,get:function(){return B.PDFPageView}}),Object.defineProperty(ne,"PDFScriptingManager",{enumerable:!0,get:function(){return P.PDFScriptingManager}}),Object.defineProperty(ne,"PDFSinglePageViewer",{enumerable:!0,get:function(){return G.PDFSinglePageViewer}}),Object.defineProperty(ne,"PDFViewer",{enumerable:!0,get:function(){return G.PDFViewer}}),Object.defineProperty(ne,"ProgressBar",{enumerable:!0,get:function(){return H.ProgressBar}}),Object.defineProperty(ne,"SimpleLinkService",{enumerable:!0,get:function(){return k.SimpleLinkService}}),Object.defineProperty(ne,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return C.StructTreeLayerBuilder}}),Object.defineProperty(ne,"TextLayerBuilder",{enumerable:!0,get:function(){return V.TextLayerBuilder}}),Object.defineProperty(ne,"XfaLayerBuilder",{enumerable:!0,get:function(){return K.XfaLayerBuilder}}),Object.defineProperty(ne,"parseQueryString",{enumerable:!0,get:function(){return H.parseQueryString}});var M=re(1),k=re(5),H=re(6),G=re(10),O=re(2),N=re(16),g=re(17),f=re(18),I=re(4),U=re(20),S=re(22),B=re(12),P=re(23),C=re(7),V=re(8),K=re(9)})(),Y})()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:ae=>{function _(p,Z,W,pe,J,z,j){try{var ee=p[z](j),ie=ee.value}catch(re){return void W(re)}ee.done?Z(ie):Promise.resolve(ie).then(pe,J)}ae.exports=function q(p){return function(){var Z=this,W=arguments;return new Promise(function(pe,J){var z=p.apply(Z,W);function j(ie){_(z,pe,J,j,ee,"next",ie)}function ee(ie){_(z,pe,J,j,ee,"throw",ie)}j(void 0)})}},ae.exports.__esModule=!0,ae.exports.default=ae.exports},521:ae=>{ae.exports=function _(q,p){if(p.has(q))throw new TypeError("Cannot initialize the same private elements twice on an object")},ae.exports.__esModule=!0,ae.exports.default=ae.exports},912:ae=>{ae.exports=function _(q,p){return p.get?p.get.call(q):p.value},ae.exports.__esModule=!0,ae.exports.default=ae.exports},448:ae=>{ae.exports=function _(q,p,Z){if(p.set)p.set.call(q,Z);else{if(!p.writable)throw new TypeError("attempted to set read only private field");p.value=Z}},ae.exports.__esModule=!0,ae.exports.default=ae.exports},625:ae=>{ae.exports=function _(q,p){if(q!==p)throw new TypeError("Private static access of wrong provenance")},ae.exports.__esModule=!0,ae.exports.default=ae.exports},69:ae=>{ae.exports=function _(q,p,Z){if(!p.has(q))throw new TypeError("attempted to "+Z+" private field on non-instance");return p.get(q)},ae.exports.__esModule=!0,ae.exports.default=ae.exports},468:(ae,_,q)=>{var p=q(912),Z=q(69);ae.exports=function W(pe,J){var z=Z(pe,J,"get");return p(pe,z)},ae.exports.__esModule=!0,ae.exports.default=ae.exports},159:(ae,_,q)=>{var p=q(521);ae.exports=function Z(W,pe,J){p(W,pe),pe.set(W,J)},ae.exports.__esModule=!0,ae.exports.default=ae.exports},661:(ae,_,q)=>{var p=q(448),Z=q(69);ae.exports=function W(pe,J,z){var j=Z(pe,J,"set");return p(pe,j,z),z},ae.exports.__esModule=!0,ae.exports.default=ae.exports},467:ae=>{ae.exports=function _(q,p,Z){if(!p.has(q))throw new TypeError("attempted to get private field on non-instance");return Z},ae.exports.__esModule=!0,ae.exports.default=ae.exports},860:(ae,_,q)=>{var p=q(521);ae.exports=function Z(W,pe){p(W,pe),pe.add(W)},ae.exports.__esModule=!0,ae.exports.default=ae.exports},764:(ae,_,q)=>{var p=q(625);ae.exports=function Z(W,pe,J){return p(W,pe),J},ae.exports.__esModule=!0,ae.exports.default=ae.exports},416:(ae,_,q)=>{var p=q(62);ae.exports=function Z(W,pe,J){return(pe=p(pe))in W?Object.defineProperty(W,pe,{value:J,enumerable:!0,configurable:!0,writable:!0}):W[pe]=J,W},ae.exports.__esModule=!0,ae.exports.default=ae.exports},946:(ae,_,q)=>{var p=q(698).default;ae.exports=function Z(W,pe){if("object"!==p(W)||null===W)return W;var J=W[Symbol.toPrimitive];if(void 0!==J){var z=J.call(W,pe||"default");if("object"!==p(z))return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===pe?String:Number)(W)},ae.exports.__esModule=!0,ae.exports.default=ae.exports},62:(ae,_,q)=>{var p=q(698).default,Z=q(946);ae.exports=function W(pe){var J=Z(pe,"string");return"symbol"===p(J)?J:String(J)},ae.exports.__esModule=!0,ae.exports.default=ae.exports},698:ae=>{function _(q){return ae.exports=_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},ae.exports.__esModule=!0,ae.exports.default=ae.exports,_(q)}ae.exports=_,ae.exports.__esModule=!0,ae.exports.default=ae.exports}},ae=>{ae(ae.s=102)}]);