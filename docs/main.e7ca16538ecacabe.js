(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{82:(oe,_,z)=>{"use strict";function p(n){return"function"==typeof n}function Z(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const W=Z(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function pe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class J{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(p(r))try{r()}catch(s){e=s instanceof W?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ee(s)}catch(o){e=e??[],o instanceof W?e=[...e,...o.errors]:e.push(o)}}if(e)throw new W(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ee(e);else{if(e instanceof J){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&pe(t,e)}remove(e){const{_finalizers:t}=this;t&&pe(t,e),e instanceof J&&e._removeParent(this)}}J.EMPTY=(()=>{const n=new J;return n.closed=!0,n})();const H=J.EMPTY;function j(n){return n instanceof J||n&&"closed"in n&&p(n.remove)&&p(n.add)&&p(n.unsubscribe)}function ee(n){p(n)?n():n.unsubscribe()}const ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},re={setTimeout(n,e,...t){const{delegate:r}=re;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=re;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function X(n){re.setTimeout(()=>{const{onUnhandledError:e}=ie;if(!e)throw n;e(n)})}function ne(){}const P=$("C",void 0,void 0);function $(n,e,t){return{kind:n,value:e,error:t}}let O=null;function N(n){if(ie.useDeprecatedSynchronousErrorHandling){const e=!O;if(e&&(O={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=O;if(O=null,t)throw r}}else n()}class f extends J{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,j(e)&&e.add(this)):this.destination=K}static create(e,t,r){return new B(e,t,r)}next(e){this.isStopped?V(function G(n){return $("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?V(function k(n){return $("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?V(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I=Function.prototype.bind;function U(n,e){return I.call(n,e)}class A{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){x(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){x(r)}else x(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){x(t)}}}class B extends f{constructor(e,t,r){let i;if(super(),p(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ie.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&U(e.next,s),error:e.error&&U(e.error,s),complete:e.complete&&U(e.complete,s)}):i=e}this.destination=new A(i)}}function x(n){ie.useDeprecatedSynchronousErrorHandling?function g(n){ie.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=n)}(n):X(n)}function V(n,e){const{onStoppedNotification:t}=ie;t&&re.setTimeout(()=>t(n,e))}const K={closed:!0,next:ne,error:function C(n){throw n},complete:ne},Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function te(n){return n}function ge(n){return 0===n.length?te:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let R=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function T(n){return n&&n instanceof f||function m(n){return n&&p(n.next)&&p(n.error)&&p(n.complete)}(n)&&j(n)}(t)?t:new B(t,r,i);return N(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=v(r))((i,s)=>{const o=new B({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Q](){return this}pipe(...t){return ge(t)(this)}toPromise(t){return new(t=v(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function v(n){var e;return null!==(e=n??ie.Promise)&&void 0!==e?e:Promise}const w=Z(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let d=(()=>{class n extends R{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new y(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new w}next(t){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){N(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?H:(this.currentObservers=null,s.push(t),new J(()=>{this.currentObservers=null,pe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new R;return t.source=this,t}}return n.create=(e,t)=>new y(e,t),n})();class y extends d{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:H}}function S(n){return p(n?.lift)}function L(n){return e=>{if(S(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function D(n,e,t,r,i){return new E(n,e,t,r,i)}class E extends f{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Y(n,e){return L((t,r)=>{let i=0;t.subscribe(D(r,s=>{r.next(n.call(e,s,i++))}))})}function Ee(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Fe(n){return this instanceof Fe?(this.v=n,this):new Fe(n)}function sn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function le(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Sr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Vr(n){return p(n?.then)}function Ri(n){return p(n[Q])}function bn(n){return Symbol.asyncIterator&&p(n?.[Symbol.asyncIterator])}function yi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const go=function po(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mo(n){return p(n?.[go])}function Oi(n){return function He(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(b){r[b]&&(i[b]=function(M){return new Promise(function(q,ae){s.push([b,M,q,ae])>1||a(b,M)})})}function a(b,M){try{!function l(b){b.value instanceof Fe?Promise.resolve(b.value.v).then(c,u):h(s[0][2],b)}(r[b](M))}catch(q){h(s[0][3],q)}}function c(b){a("next",b)}function u(b){a("throw",b)}function h(b,M){b(M),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Fe(t.read());if(i)return yield Fe(void 0);yield yield Fe(r)}}finally{t.releaseLock()}})}function ir(n){return p(n?.getReader)}function Ln(n){if(n instanceof R)return n;if(null!=n){if(Ri(n))return function Qc(n){return new R(e=>{const t=n[Q]();if(p(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Sr(n))return function CB(n){return new R(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Vr(n))return function EB(n){return new R(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,X)})}(n);if(bn(n))return vI(n);if(mo(n))return function AB(n){return new R(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ir(n))return function SB(n){return vI(Oi(n))}(n)}throw yi(n)}function vI(n){return new R(e=>{(function IB(n,e){var t,r,i,s;return function tt(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=sn(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function xs(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Jn(n,e,t=1/0){return p(e)?Jn((r,i)=>Y((s,o)=>e(r,s,i,o))(Ln(n(r,i))),t):("number"==typeof e&&(t=e),L((r,i)=>function TB(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,h=!1;const b=()=>{h&&!l.length&&!c&&e.complete()},M=ae=>c<r?q(ae):l.push(ae),q=ae=>{s&&e.next(ae),c++;let he=!1;Ln(t(ae,u++)).subscribe(D(e,Se=>{i?.(Se),s?M(Se):e.next(Se)},()=>{he=!0},void 0,()=>{if(he)try{for(c--;l.length&&c<r;){const Se=l.shift();o?xs(e,o,()=>q(Se)):q(Se)}b()}catch(Se){e.error(Se)}}))};return n.subscribe(D(e,M,()=>{h=!0,b()})),()=>{a?.()}}(r,i,n,t)))}function nl(n=1/0){return Jn(te,n)}const es=new R(n=>n.complete());function wI(n){return n&&p(n.schedule)}function zm(n){return n[n.length-1]}function bI(n){return p(zm(n))?n.pop():void 0}function Yc(n){return wI(zm(n))?n.pop():void 0}function CI(n,e=0){return L((t,r)=>{t.subscribe(D(r,i=>xs(r,n,()=>r.next(i),e),()=>xs(r,n,()=>r.complete(),e),i=>xs(r,n,()=>r.error(i),e)))})}function EI(n,e=0){return L((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function AI(n,e){if(!n)throw new Error("Iterable cannot be null");return new R(t=>{xs(t,e,()=>{const r=n[Symbol.asyncIterator]();xs(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function xn(n,e){return e?function NB(n,e){if(null!=n){if(Ri(n))return function PB(n,e){return Ln(n).pipe(EI(e),CI(e))}(n,e);if(Sr(n))return function kB(n,e){return new R(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Vr(n))return function MB(n,e){return Ln(n).pipe(EI(e),CI(e))}(n,e);if(bn(n))return AI(n,e);if(mo(n))return function RB(n,e){return new R(t=>{let r;return xs(t,e,()=>{r=n[go](),xs(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>p(r?.return)&&r.return()})}(n,e);if(ir(n))return function OB(n,e){return AI(Oi(n),e)}(n,e)}throw yi(n)}(n,e):Ln(n)}function qm(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new B({next:()=>{r.unsubscribe(),n()}});return Ln(e(...t)).subscribe(r)}function on(n){for(let e in n)if(n[e]===on)return e;throw Error("Could not find renamed property on target object.")}function Wm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function cn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(cn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Km(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const VB=on({__forward_ref__:on});function un(n){return n.__forward_ref__=un,n.toString=function(){return cn(this())},n}function gt(n){return Qm(n)?n():n}function Qm(n){return"function"==typeof n&&n.hasOwnProperty(VB)&&n.__forward_ref__===un}function Ym(n){return n&&!!n.\u0275providers}const SI="https://g.co/ng/security#xss";class Ue extends Error{constructor(e,t){super(Oh(e,t)),this.code=e}}function Oh(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function Ct(n){return"string"==typeof n?n:null==n?"":String(n)}function Nh(n,e){throw new Ue(-201,!1)}function vi(n,e){null==n&&function Zt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wi(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fh(n){return II(n,Lh)||II(n,DI)}function II(n,e){return n.hasOwnProperty(e)?n[e]:null}function TI(n){return n&&(n.hasOwnProperty(Xm)||n.hasOwnProperty(qB))?n[Xm]:null}const Lh=on({\u0275prov:on}),Xm=on({\u0275inj:on}),DI=on({ngInjectableDef:on}),qB=on({ngInjectorDef:on});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let Jm;function bi(n){const e=Jm;return Jm=n,e}function xI(n,e,t){const r=Fh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&mt.Optional?null:void 0!==e?e:void Nh(cn(n))}const gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xc={},Zm="__NG_DI_FLAG__",Vh="ngTempTokenPath",KB="ngTokenPath",QB=/\n/gm,YB="\u0275",PI="__source";let Jc;function rl(n){const e=Jc;return Jc=n,e}function XB(n,e=mt.Default){if(void 0===Jc)throw new Ue(-203,!1);return null===Jc?xI(n,void 0,e):Jc.get(n,e&mt.Optional?null:void 0,e)}function lt(n,e=mt.Default){return(function WB(){return Jm}()||XB)(gt(n),e)}function Lt(n,e=mt.Default){return lt(n,Uh(e))}function Uh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function e_(n){const e=[];for(let t=0;t<n.length;t++){const r=gt(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Ue(900,!1);let i,s=mt.Default;for(let o=0;o<r.length;o++){const a=r[o],l=JB(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(lt(i,s))}else e.push(lt(r))}return e}function Zc(n,e){return n[Zm]=e,n.prototype[Zm]=e,n}function JB(n){return n[Zm]}function Ps(n){return{toString:n}.toString()}var ts=(()=>((ts=ts||{})[ts.OnPush=0]="OnPush",ts[ts.Default=1]="Default",ts))(),ns=(()=>{return(n=ns||(ns={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ns;var n})();const Ms={},Kt=[],Bh=on({\u0275cmp:on}),t_=on({\u0275dir:on}),n_=on({\u0275pipe:on}),kI=on({\u0275mod:on}),ks=on({\u0275fac:on}),eu=on({__NG_ELEMENT_ID__:on});let tj=0;function An(n){return Ps(()=>{const e=OI(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ts.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ns.Emulated,id:"c"+tj++,styles:n.styles||Kt,_:null,schemas:n.schemas||null,tView:null};NI(t);const r=n.dependencies;return t.directiveDefs=jh(r,!1),t.pipeDefs=jh(r,!0),t})}function rj(n){return en(n)||Ir(n)}function ij(n){return null!==n}function Ni(n){return Ps(()=>({type:n.type,bootstrap:n.bootstrap||Kt,declarations:n.declarations||Kt,imports:n.imports||Kt,exports:n.exports||Kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function RI(n,e){if(null==n)return Ms;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function vt(n){return Ps(()=>{const e=OI(n);return NI(e),e})}function en(n){return n[Bh]||null}function Ir(n){return n[t_]||null}function Yr(n){return n[n_]||null}function ai(n,e){const t=n[kI]||null;if(!t&&!0===e)throw new Error(`Type ${cn(n)} does not have '\u0275mod' property.`);return t}function OI(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Kt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RI(n.inputs,e),outputs:RI(n.outputs)}}function NI(n){n.features?.forEach(e=>e(n))}function jh(n,e){if(!n)return null;const t=e?Yr:rj;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(ij)}const Rs=0,Je=1,Mt=2,Pn=3,Fi=4,ia=5,Tr=6,sl=7,Vn=8,Gh=9,$h=10,Rt=11,r_=12,tu=13,FI=14,ol=15,Dr=16,nu=17,al=18,rs=19,ru=20,LI=21,mn=22,i_=1,VI=2,Hh=7,zh=8,ll=9,Ur=10;function li(n){return Array.isArray(n)&&"object"==typeof n[i_]}function Li(n){return Array.isArray(n)&&!0===n[i_]}function s_(n){return 0!=(4&n.flags)}function iu(n){return n.componentOffset>-1}function qh(n){return 1==(1&n.flags)}function Vi(n){return!!n.template}function oj(n){return 0!=(256&n[Mt])}function sa(n,e){return n.hasOwnProperty(ks)?n[ks]:null}class cj{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ci(){return jI}function jI(n){return n.type.prototype.ngOnChanges&&(n.setInput=dj),uj}function uj(){const n=$I(this),e=n?.current;if(e){const t=n.previous;if(t===Ms)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function dj(n,e,t,r){const i=this.declaredInputs[t],s=$I(n)||function hj(n,e){return n[GI]=e}(n,{previous:Ms,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new cj(l&&l.currentValue,e,a===Ms),n[r]=e}ci.ngInherit=!0;const GI="__ngSimpleChanges__";function $I(n){return n[GI]||null}const Ci=function(n,e,t){},HI="svg";function mr(n){for(;Array.isArray(n);)n=n[Rs];return n}function Wh(n,e){return mr(e[n])}function ui(n,e){return mr(e[n.index])}function qI(n,e){return n.data[e]}function Xr(n,e){const t=e[n];return li(t)?t:t[Rs]}function Kh(n){return 64==(64&n[Mt])}function yo(n,e){return null==e?null:n[e]}function WI(n){n[al]=0}function a_(n,e){n[ia]+=e;let t=n,r=n[Pn];for(;null!==r&&(1===e&&1===t[ia]||-1===e&&0===t[ia]);)r[ia]+=e,t=r,r=r[Pn]}const Et={lFrame:rT(null),bindingsEnabled:!0};function QI(){return Et.bindingsEnabled}function ke(){return Et.lFrame.lView}function Gt(){return Et.lFrame.tView}function Vt(n){return Et.lFrame.contextLView=n,n[Vn]}function Ut(n){return Et.lFrame.contextLView=null,n}function _r(){let n=YI();for(;null!==n&&64===n.type;)n=n.parent;return n}function YI(){return Et.lFrame.currentTNode}function is(n,e){const t=Et.lFrame;t.currentTNode=n,t.isParent=e}function l_(){return Et.lFrame.isParent}function ul(){return Et.lFrame.bindingIndex++}function Sj(n,e){const t=Et.lFrame;t.bindingIndex=t.bindingRootIndex=n,u_(e)}function u_(n){Et.lFrame.currentDirectiveIndex=n}function eT(){return Et.lFrame.currentQueryIndex}function h_(n){Et.lFrame.currentQueryIndex=n}function Tj(n){const e=n[Je];return 2===e.type?e.declTNode:1===e.type?n[Tr]:null}function tT(n,e,t){if(t&mt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&mt.Host||(i=Tj(s),null===i||(s=s[ol],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Et.lFrame=nT();return r.currentTNode=e,r.lView=n,!0}function f_(n){const e=nT(),t=n[Je];Et.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nT(){const n=Et.lFrame,e=null===n?null:n.child;return null===e?rT(n):e}function rT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function iT(){const n=Et.lFrame;return Et.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const sT=iT;function p_(){const n=iT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jr(){return Et.lFrame.selectedIndex}function oa(n){Et.lFrame.selectedIndex=n}function Sn(){const n=Et.lFrame;return qI(n.tView,n.selectedIndex)}function Qh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function Yh(n,e,t){aT(n,e,3,t)}function Xh(n,e,t,r){(3&n[Mt])===t&&aT(n,e,t,r)}function g_(n,e){let t=n[Mt];(3&t)===e&&(t&=2047,t+=1,n[Mt]=t)}function aT(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[al]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[al]+=65536),(a<s||-1==s)&&(Nj(n,t,e,l),n[al]=(4294901760&n[al])+l+2),l++}function Nj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[Mt]>>11<n[al]>>16&&(3&n[Mt])===e){n[Mt]+=2048,Ci(4,a,s);try{s.call(a)}finally{Ci(5,a,s)}}}else{Ci(4,a,s);try{s.call(a)}finally{Ci(5,a,s)}}}const dl=-1;class ou{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function __(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];cT(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function lT(n){return 3===n||4===n||6===n}function cT(n){return 64===n.charCodeAt(0)}function au(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||uT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function uT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function dT(n){return n!==dl}function Jh(n){return 32767&n}function Zh(n,e){let t=function Uj(n){return n>>16}(n),r=e;for(;t>0;)r=r[ol],t--;return r}let y_=!0;function ef(n){const e=y_;return y_=n,e}const hT=255,fT=5;let Bj=0;const ss={};function tf(n,e){const t=pT(n,e);if(-1!==t)return t;const r=e[Je];r.firstCreatePass&&(n.injectorIndex=e.length,v_(r.data,n),v_(e,null),v_(r.blueprint,null));const i=w_(n,e),s=n.injectorIndex;if(dT(i)){const o=Jh(i),a=Zh(i,e),l=a[Je].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function v_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function pT(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function w_(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=bT(i),null===r)return dl;if(t++,i=i[ol],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return dl}function b_(n,e,t){!function jj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(eu)&&(r=t[eu]),null==r&&(r=t[eu]=Bj++);const i=r&hT;e.data[n+(i>>fT)]|=1<<i}(n,e,t)}function gT(n,e,t){if(t&mt.Optional||void 0!==n)return n;Nh()}function mT(n,e,t,r){if(t&mt.Optional&&void 0===r&&(r=null),!(t&(mt.Self|mt.Host))){const i=n[Gh],s=bi(void 0);try{return i?i.get(e,r,t&mt.Optional):xI(e,r,t&mt.Optional)}finally{bi(s)}}return gT(r,0,t)}function _T(n,e,t,r=mt.Default,i){if(null!==n){if(1024&e[Mt]){const o=function qj(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[Mt]&&!(256&o[Mt]);){const a=yT(s,o,t,r|mt.Self,ss);if(a!==ss)return a;let l=s.parent;if(!l){const c=o[LI];if(c){const u=c.get(t,ss,r);if(u!==ss)return u}l=bT(o),o=o[ol]}s=l}return i}(n,e,t,r,ss);if(o!==ss)return o}const s=yT(n,e,t,r,ss);if(s!==ss)return s}return mT(e,t,r,i)}function yT(n,e,t,r,i){const s=function Hj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(eu)?n[eu]:void 0;return"number"==typeof e?e>=0?e&hT:zj:e}(t);if("function"==typeof s){if(!tT(e,n,r))return r&mt.Host?gT(i,0,r):mT(e,t,r,i);try{const o=s(r);if(null!=o||r&mt.Optional)return o;Nh()}finally{sT()}}else if("number"==typeof s){let o=null,a=pT(n,e),l=dl,c=r&mt.Host?e[Dr][Tr]:null;for((-1===a||r&mt.SkipSelf)&&(l=-1===a?w_(n,e):e[a+8],l!==dl&&wT(r,!1)?(o=e[Je],a=Jh(l),e=Zh(l,e)):a=-1);-1!==a;){const u=e[Je];if(vT(s,a,u.data)){const h=$j(a,e,t,o,r,c);if(h!==ss)return h}l=e[a+8],l!==dl&&wT(r,e[Je].data[a+8]===c)&&vT(s,a,e)?(o=u,a=Jh(l),e=Zh(l,e)):a=-1}}return i}function $j(n,e,t,r,i,s){const o=e[Je],a=o.data[n+8],u=nf(a,o,t,null==r?iu(a)&&y_:r!=o&&0!=(3&a.type),i&mt.Host&&s===a);return null!==u?aa(e,o,u,a):ss}function nf(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,b=i?a+u:n.directiveEnd;for(let M=r?a:a+u;M<b;M++){const q=o[M];if(M<l&&t===q||M>=l&&q.type===t)return M}if(i){const M=o[l];if(M&&Vi(M)&&M.type===t)return l}return null}function aa(n,e,t,r){let i=n[t];const s=e.data;if(function Fj(n){return n instanceof ou}(i)){const o=i;o.resolving&&function UB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Jt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ct(n)}(s[t]));const a=ef(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?bi(o.injectImpl):null;tT(n,r,mt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Oj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=jI(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&bi(l),ef(a),o.resolving=!1,sT()}}return i}function vT(n,e,t){return!!(t[e+(n>>fT)]&1<<n)}function wT(n,e){return!(n&mt.Self||n&mt.Host&&e)}class hl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return _T(this._tNode,this._lView,e,Uh(r),t)}}function zj(){return new hl(_r(),ke())}function yr(n){return Ps(()=>{const e=n.prototype.constructor,t=e[ks]||C_(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ks]||C_(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function C_(n){return Qm(n)?()=>{const e=C_(gt(n));return e&&e()}:sa(n)}function bT(n){const e=n[Je],t=e.type;return 2===t?e.declTNode:1===t?n[Tr]:null}const pl="__parameters__";function ml(n,e,t){return Ps(()=>{const r=function E_(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(pl)?l[pl]:Object.defineProperty(l,pl,{value:[]})[pl];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ot{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=dt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function la(n,e){n.forEach(t=>Array.isArray(t)?la(t,e):e(t))}function ET(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function sf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function di(n,e,t){let r=_l(n,e);return r>=0?n[1|r]=t:(r=~r,function Yj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function S_(n,e){const t=_l(n,e);if(t>=0)return n[1|t]}function _l(n,e){return function AT(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const du=Zc(ml("Optional"),8),hu=Zc(ml("SkipSelf"),4);var Jr=(()=>((Jr=Jr||{})[Jr.Important=1]="Important",Jr[Jr.DashCase=2]="DashCase",Jr))();const M_=new Map;let y3=0;const R_="__ngContext__";function xr(n,e){li(e)?(n[R_]=e[ru],function w3(n){M_.set(n[ru],n)}(e)):n[R_]=e}let O_;function N_(n,e){return O_(n,e)}function mu(n){const e=n[Pn];return Li(e)?e[Pn]:e}function F_(n){return HT(n[tu])}function L_(n){return HT(n[Fi])}function HT(n){for(;null!==n&&!Li(n);)n=n[Fi];return n}function vl(n,e,t,r,i){if(null!=r){let s,o=!1;Li(r)?s=r:li(r)&&(o=!0,r=r[Rs]);const a=mr(r);0===n&&null!==t?null==i?YT(e,t,a):ca(e,t,a,i||null,!0):1===n&&null!==t?ca(e,t,a,i||null,!0):2===n?function H_(n,e,t){const r=uf(n,e);r&&function B3(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function $3(n,e,t,r,i){const s=t[Hh];s!==mr(t)&&vl(e,n,r,s,i);for(let a=Ur;a<t.length;a++){const l=t[a];_u(l[Je],l,n,e,r,s)}}(e,n,s,t,i)}}function U_(n,e,t){return n.createElement(e,t)}function qT(n,e){const t=n[ll],r=t.indexOf(e),i=e[Pn];512&e[Mt]&&(e[Mt]&=-513,a_(i,-1)),t.splice(r,1)}function B_(n,e){if(n.length<=Ur)return;const t=Ur+e,r=n[t];if(r){const i=r[nu];null!==i&&i!==n&&qT(i,r),e>0&&(n[t-1][Fi]=r[Fi]);const s=sf(n,Ur+e);!function k3(n,e){_u(n,e,e[Rt],2,null,null),e[Rs]=null,e[Tr]=null}(r[Je],r);const o=s[rs];null!==o&&o.detachView(s[Je]),r[Pn]=null,r[Fi]=null,r[Mt]&=-65}return r}function WT(n,e){if(!(128&e[Mt])){const t=e[Rt];t.destroyNode&&_u(n,e,t,3,null,null),function N3(n){let e=n[tu];if(!e)return j_(n[Je],n);for(;e;){let t=null;if(li(e))t=e[tu];else{const r=e[Ur];r&&(t=r)}if(!t){for(;e&&!e[Fi]&&e!==n;)li(e)&&j_(e[Je],e),e=e[Pn];null===e&&(e=n),li(e)&&j_(e[Je],e),t=e&&e[Fi]}e=t}}(e)}}function j_(n,e){if(!(128&e[Mt])){e[Mt]&=-65,e[Mt]|=128,function U3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof ou)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Ci(4,a,l);try{l.call(a)}finally{Ci(5,a,l)}}else{Ci(4,i,s);try{s.call(i)}finally{Ci(5,i,s)}}}}}(n,e),function V3(n,e){const t=n.cleanup,r=e[sl];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[sl]=null}}(n,e),1===e[Je].type&&e[Rt].destroy();const t=e[nu];if(null!==t&&Li(e[Pn])){t!==e[Pn]&&qT(t,e);const r=e[rs];null!==r&&r.detachView(n)}!function b3(n){M_.delete(n[ru])}(e)}}function KT(n,e,t){return function QT(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Rs];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===ns.None||s===ns.Emulated)return null}return ui(r,t)}}(n,e.parent,t)}function ca(n,e,t,r,i){n.insertBefore(e,t,r,i)}function YT(n,e,t){n.appendChild(e,t)}function XT(n,e,t,r,i){null!==r?ca(n,e,t,r,i):YT(n,e,t)}function uf(n,e){return n.parentNode(e)}let G_,ff,W_,pf,eD=function ZT(n,e,t){return 40&n.type?ui(n,t):null};function df(n,e,t,r){const i=KT(n,r,e),s=e[Rt],a=function JT(n,e,t){return eD(n,e,t)}(r.parent||e[Tr],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)XT(s,i,t[l],a,!1);else XT(s,i,t,a,!1);void 0!==G_&&G_(s,r,e,t,i)}function hf(n,e){if(null!==e){const t=e.type;if(3&t)return ui(e,n);if(4&t)return $_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return hf(n,r);{const i=n[e.index];return Li(i)?$_(-1,i):mr(i)}}if(32&t)return N_(e,n)()||mr(n[e.index]);{const r=nD(n,e);return null!==r?Array.isArray(r)?r[0]:hf(mu(n[Dr]),r):hf(n,e.next)}}return null}function nD(n,e){return null!==e?n[Dr][Tr].projection[e.projection]:null}function $_(n,e){const t=Ur+n+1;if(t<e.length){const r=e[t],i=r[Je].firstChild;if(null!==i)return hf(r,i)}return e[Hh]}function z_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&xr(mr(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)z_(n,e,t.child,r,i,s,!1),vl(e,n,i,a,s);else if(32&l){const c=N_(t,r);let u;for(;u=c();)vl(e,n,i,u,s);vl(e,n,i,a,s)}else 16&l?rD(n,e,r,t,i,s):vl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function _u(n,e,t,r,i,s){z_(t,r,n.firstChild,e,i,s,!1)}function rD(n,e,t,r,i,s){const o=t[Dr],l=o[Tr].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)vl(e,n,i,l[c],s);else z_(n,e,l,o[Pn],i,s,!0)}function iD(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function sD(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&__(n,e,r),null!==i&&iD(n,e,i),null!==s&&function z3(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function wl(n){return function q_(){if(void 0===ff&&(ff=null,gn.trustedTypes))try{ff=gn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ff}()?.createHTML(n)||n}function K_(){if(void 0===pf&&(pf=null,gn.trustedTypes))try{pf=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pf}function aD(n){return K_()?.createHTML(n)||n}function cD(n){return K_()?.createScriptURL(n)||n}class uD{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${SI})`}}function vo(n){return n instanceof uD?n.changingThisBreaksApplicationSecurity:n}function yu(n,e){const t=function t4(n){return n instanceof uD&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${SI})`)}return t===e}class n4{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(wl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class r4{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=wl(e),t}}const s4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Q_(n){return(n=String(n)).match(s4)?n:"unsafe:"+n}function Fs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function vu(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const hD=Fs("area,br,col,hr,img,wbr"),fD=Fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pD=Fs("rp,rt"),Y_=vu(hD,vu(fD,Fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vu(pD,Fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vu(pD,fD)),X_=Fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gD=vu(X_,Fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),o4=Fs("script,style,template");class a4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Y_.hasOwnProperty(t))return this.sanitizedSomething=!0,!o4.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!gD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;X_[a]&&(l=Q_(l)),this.buf.push(" ",o,'="',mD(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Y_.hasOwnProperty(t)&&!hD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(mD(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const l4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c4=/([^\#-~ |!])/g;function mD(n){return n.replace(/&/g,"&amp;").replace(l4,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(c4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gf;function J_(n){return"content"in n&&function d4(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var zn=(()=>((zn=zn||{})[zn.NONE=0]="NONE",zn[zn.HTML=1]="HTML",zn[zn.STYLE=2]="STYLE",zn[zn.SCRIPT=3]="SCRIPT",zn[zn.URL=4]="URL",zn[zn.RESOURCE_URL=5]="RESOURCE_URL",zn))();function _D(n){const e=wu();return e?aD(e.sanitize(zn.HTML,n)||""):yu(n,"HTML")?aD(vo(n)):function u4(n,e){let t=null;try{gf=gf||function dD(n){const e=new r4(n);return function i4(){try{return!!(new window.DOMParser).parseFromString(wl(""),"text/html")}catch{return!1}}()?new n4(e):e}(n);let r=e?String(e):"";t=gf.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=gf.getInertBodyElement(r)}while(r!==s);return wl((new a4).sanitizeChildren(J_(t)||t))}finally{if(t){const r=J_(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(function oD(){return void 0!==W_?W_:typeof document<"u"?document:void 0}(),Ct(n))}function Z_(n){const e=wu();return e?e.sanitize(zn.URL,n)||"":yu(n,"URL")?vo(n):Q_(Ct(n))}function yD(n){const e=wu();if(e)return cD(e.sanitize(zn.RESOURCE_URL,n)||"");if(yu(n,"ResourceURL"))return cD(vo(n));throw new Ue(904,!1)}function wu(){const n=ke();return n&&n[r_]}const mf=new ot("ENVIRONMENT_INITIALIZER"),wD=new ot("INJECTOR",-1),bD=new ot("INJECTOR_DEF_TYPES");class CD{get(e,t=Xc){if(t===Xc){const r=new Error(`NullInjectorError: No provider for ${cn(e)}!`);throw r.name="NullInjectorError",r}return t}}function _4(...n){return{\u0275providers:ED(0,n),\u0275fromNgModule:!0}}function ED(n,...e){const t=[],r=new Set;let i;return la(e,s=>{const o=s;ey(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&AD(i,t),t}function AD(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];ty(i,s=>{e.push(s)})}}function ey(n,e,t,r){if(!(n=gt(n)))return!1;let i=null,s=TI(n);const o=!s&&en(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=TI(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)ey(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{la(s.imports,u=>{ey(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&AD(c,e)}if(!a){const c=sa(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Kt},{provide:bD,useValue:i,multi:!0},{provide:mf,useValue:()=>lt(i),multi:!0})}const l=s.providers;null==l||a||ty(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function ty(n,e){for(let t of n)Ym(t)&&(t=t.\u0275providers),Array.isArray(t)?ty(t,e):e(t)}const y4=on({provide:String,useValue:on});function ny(n){return null!==n&&"object"==typeof n&&y4 in n}function ua(n){return"function"==typeof n}const ry=new ot("Set Injector scope."),_f={},w4={};let iy;function yf(){return void 0===iy&&(iy=new CD),iy}class Ls{}class TD extends Ls{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oy(e,o=>this.processProvider(o)),this.records.set(wD,bl(void 0,this)),i.has("environment")&&this.records.set(Ls,bl(void 0,this));const s=this.records.get(ry);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(bD.multi,Kt,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=rl(this),r=bi(void 0);try{return e()}finally{rl(t),bi(r)}}get(e,t=Xc,r=mt.Default){this.assertNotDestroyed(),r=Uh(r);const i=rl(this),s=bi(void 0);try{if(!(r&mt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function S4(n){return"function"==typeof n||"object"==typeof n&&n instanceof ot}(e)&&Fh(e);a=l&&this.injectableDefInScope(l)?bl(sy(e),_f):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&mt.Self?yf():this.parent).get(e,t=r&mt.Optional&&t===Xc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Vh]=o[Vh]||[]).unshift(cn(e)),i)throw o;return function ZB(n,e,t,r){const i=n[Vh];throw e[PI]&&i.unshift(e[PI]),n.message=function ej(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==YB?n.slice(2):n;let i=cn(e);if(Array.isArray(e))i=e.map(cn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):cn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(QB,"\n  ")}`}("\n"+n.message,i,t,r),n[KB]=i,n[Vh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{bi(s),rl(i)}}resolveInjectorInitializers(){const e=rl(this),t=bi(void 0);try{const r=this.get(mf.multi,Kt,mt.Self);for(const i of r)i()}finally{rl(e),bi(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(cn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processProvider(e){let t=ua(e=gt(e))?e:gt(e&&e.provide);const r=function C4(n){return ny(n)?bl(void 0,n.useValue):bl(DD(n),_f)}(e);if(ua(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=bl(void 0,_f,!0),i.factory=()=>e_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===_f&&(t.value=w4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function A4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=gt(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function sy(n){const e=Fh(n),t=null!==e?e.factory:sa(n);if(null!==t)return t;if(n instanceof ot)throw new Ue(204,!1);if(n instanceof Function)return function b4(n){const e=n.length;if(e>0)throw function uu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new Ue(204,!1);const t=function zB(n){return n&&(n[Lh]||n[DI])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ue(204,!1)}function DD(n,e,t){let r;if(ua(n)){const i=gt(n);return sa(i)||sy(i)}if(ny(n))r=()=>gt(n.useValue);else if(function ID(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...e_(n.deps||[]));else if(function SD(n){return!(!n||!n.useExisting)}(n))r=()=>lt(gt(n.useExisting));else{const i=gt(n&&(n.useClass||n.provide));if(!function E4(n){return!!n.deps}(n))return sa(i)||sy(i);r=()=>new i(...e_(n.deps))}return r}function bl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function oy(n,e){for(const t of n)Array.isArray(t)?oy(t,e):t&&Ym(t)?oy(t.\u0275providers,e):e(t)}class I4{}class xD{}class D4{resolveComponentFactory(e){throw function T4(n){const e=Error(`No component factory found for ${cn(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let bu=(()=>{class n{}return n.NULL=new D4,n})();function x4(){return Cl(_r(),ke())}function Cl(n,e){return new ei(ui(n,e))}let ei=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=x4,n})();function P4(n){return n instanceof ei?n.nativeElement:n}class MD{}let Vs=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function M4(){const n=ke(),t=Xr(_r().index,n);return(li(t)?t:n)[Rt]}(),n})(),k4=(()=>{class n{}return n.\u0275prov=dt({token:n,providedIn:"root",factory:()=>null}),n})();class Cu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const R4=new Cu("15.2.9"),ay={},ly="ngOriginalError";function cy(n){return n[ly]}class El{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&cy(e);for(;t&&cy(t);)t=cy(t);return t||null}}function Us(n){return n instanceof Function?n():n}function RD(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const OD="ng-template";function H4(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==RD(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ND(n){return 4===n.type&&n.value!==OD}function z4(n,e,t){return e===(4!==n.type||t?n.value:OD)}function q4(n,e,t){let r=4;const i=n.attrs||[],s=function Q4(n){for(let e=0;e<n.length;e++)if(lT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!z4(n,l,t)||""===l&&1===e.length){if(Ui(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!H4(n.attrs,c,t)){if(Ui(r))return!1;o=!0}continue}const h=W4(8&r?"class":l,i,ND(n),t);if(-1===h){if(Ui(r))return!1;o=!0;continue}if(""!==c){let b;b=h>s?"":i[h+1].toLowerCase();const M=8&r?b:null;if(M&&-1!==RD(M,c,0)||2&r&&c!==b){if(Ui(r))return!1;o=!0}}}}else{if(!o&&!Ui(r)&&!Ui(l))return!1;if(o&&Ui(l))continue;o=!1,r=l|1&r}}return Ui(r)||o}function Ui(n){return 0==(1&n)}function W4(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Y4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function FD(n,e,t=!1){for(let r=0;r<e.length;r++)if(q4(n,e[r],t))return!0;return!1}function LD(n,e){return n?":not("+e.trim()+")":e}function J4(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ui(o)&&(e+=LD(s,i),i=""),r=o,s=s||!Ui(r);t++}return""!==i&&(e+=LD(s,i)),e}const At={};function nt(n){VD(Gt(),ke(),jr()+n,!1)}function VD(n,e,t,r){if(!r)if(3==(3&e[Mt])){const s=n.preOrderCheckHooks;null!==s&&Yh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Xh(e,s,0,t)}oa(t)}function GD(n,e=null,t=null,r){const i=$D(n,e,t,r);return i.resolveInjectorInitializers(),i}function $D(n,e=null,t=null,r,i=new Set){const s=[t||Kt,_4(n)];return r=r||("object"==typeof n?void 0:cn(n)),new TD(s,e||yf(),r||null,i)}let os=(()=>{class n{static create(t,r){if(Array.isArray(t))return GD({name:""},r,t,"");{const i=t.name??"";return GD({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Xc,n.NULL=new CD,n.\u0275prov=dt({token:n,providedIn:"any",factory:()=>lt(wD)}),n.__NG_ELEMENT_ID__=-1,n})();function xe(n,e=mt.Default){const t=ke();return null===t?lt(n,e):_T(_r(),t,gt(n),e)}function XD(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];h_(t[r]),o.contentQueries(2,e[s],s)}}}function wf(n,e,t,r,i,s,o,a,l,c,u){const h=e.blueprint.slice();return h[Rs]=i,h[Mt]=76|r,(null!==u||n&&1024&n[Mt])&&(h[Mt]|=1024),WI(h),h[Pn]=h[ol]=n,h[Vn]=t,h[$h]=o||n&&n[$h],h[Rt]=a||n&&n[Rt],h[r_]=l||n&&n[r_]||null,h[Gh]=c||n&&n[Gh]||null,h[Tr]=s,h[ru]=function v3(){return y3++}(),h[LI]=u,h[Dr]=2==e.type?n[Dr]:h,h}function Il(n,e,t,r,i){let s=n.data[e];if(null===s)s=function py(n,e,t,r,i){const s=YI(),o=l_(),l=n.data[e]=function AG(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function Aj(){return Et.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function su(){const n=Et.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return is(s,!0),s}function Eu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function gy(n,e,t){f_(e);try{const r=n.viewQuery;null!==r&&Ay(1,r,t);const i=n.template;null!==i&&JD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&XD(n,e),n.staticViewQueries&&Ay(2,n.viewQuery,t);const s=n.components;null!==s&&function bG(n,e){for(let t=0;t<e.length;t++)HG(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Mt]&=-5,p_()}}function bf(n,e,t,r){const i=e[Mt];if(128!=(128&i)){f_(e);try{WI(e),function JI(n){return Et.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&JD(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Yh(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Xh(e,c,0,null),g_(e,0)}if(function GG(n){for(let e=F_(n);null!==e;e=L_(e)){if(!e[VI])continue;const t=e[ll];for(let r=0;r<t.length;r++){const i=t[r];512&i[Mt]||a_(i[Pn],1),i[Mt]|=512}}}(e),function jG(n){for(let e=F_(n);null!==e;e=L_(e))for(let t=Ur;t<e.length;t++){const r=e[t],i=r[Je];Kh(r)&&bf(i,r,i.template,r[Vn])}}(e),null!==n.contentQueries&&XD(n,e),o){const c=n.contentCheckHooks;null!==c&&Yh(e,c)}else{const c=n.contentHooks;null!==c&&Xh(e,c,1),g_(e,1)}!function vG(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)oa(~i);else{const s=i,o=t[++r],a=t[++r];Sj(o,s),a(2,e[s])}}}finally{oa(-1)}}(n,e);const a=n.components;null!==a&&function wG(n,e){for(let t=0;t<e.length;t++)$G(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Ay(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Yh(e,c)}else{const c=n.viewHooks;null!==c&&Xh(e,c,2),g_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Mt]&=-41,512&e[Mt]&&(e[Mt]&=-513,a_(e[Pn],-1))}finally{p_()}}}function JD(n,e,t,r,i){const s=jr(),o=2&r;try{oa(-1),o&&e.length>mn&&VD(n,e,mn,!1),Ci(o?2:0,i),t(r,i)}finally{oa(s),Ci(o?3:1,i)}}function my(n,e,t){if(s_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function _y(n,e,t){QI()&&(function MG(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;iu(t)&&function VG(n,e,t){const r=ui(e,n),i=ZD(t),s=n[$h],o=Cf(n,wf(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||tf(t,e),xr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=aa(e,n,a,t);xr(c,e),null!==o&&UG(0,a-i,c,l,0,o),Vi(l)&&(Xr(t.index,e)[Vn]=aa(e,n,a,t))}}(n,e,t,ui(t,e)),64==(64&t.flags)&&ix(n,e,t))}function yy(n,e,t=ui){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function ZD(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=vy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function vy(n,e,t,r,i,s,o,a,l,c){const u=mn+r,h=u+i,b=function CG(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:At);return t}(u,h),M="function"==typeof c?c():c;return b[Je]={type:n,blueprint:b,template:t,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:M,incompleteFirstPass:!1}}function ex(n,e,t,r){const i=ox(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&ax(n).push(r,i.length-1))}function tx(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?nx(t,e,i,s):r.hasOwnProperty(i)&&nx(t,e,r[i],s)}return t}function nx(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function hi(n,e,t,r,i,s,o,a){const l=ui(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Sy(n,t,u,r,i),iu(e)&&function TG(n,e){const t=Xr(e,n);16&t[Mt]||(t[Mt]|=32)}(t,e.index)):3&e.type&&(r=function IG(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function wy(n,e,t,r){if(QI()){const i=null===r?null:{"":-1},s=function RG(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(FD(e,o.selectors,!1))if(r||(r=[]),Vi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),by(n,e,a.length)}else r.unshift(o),by(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&rx(n,e,t,o,i,a),i&&function OG(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Ue(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=au(t.mergedAttrs,t.attrs)}function rx(n,e,t,r,i,s){for(let c=0;c<r.length;c++)b_(tf(t,e),n,r[c].type);!function FG(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Eu(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=au(t.mergedAttrs,u.hostAttrs),LG(n,t,e,l,u),NG(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function SG(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const h=s[u],b=t?t.get(h):null,q=b?b.outputs:null;l=tx(h.inputs,u,l,b?b.inputs:null),c=tx(h.outputs,u,c,q);const ae=null===l||null===o||ND(e)?null:BG(l,u,o);a.push(ae)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function ix(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function Ij(){return Et.lFrame.currentDirectiveIndex}();try{oa(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];u_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&kG(l,c)}}finally{oa(-1),u_(o)}}function kG(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function by(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function NG(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Vi(e)&&(t[""]=n)}}function LG(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=sa(i.type)),o=new ou(s,Vi(i),xe);n.blueprint[r]=o,t[r]=o,function xG(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function PG(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Eu(n,t,i.hostVars,At),i)}function as(n,e,t,r,i,s){const o=ui(n,e);!function Cy(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Ct(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Rt],o,s,n.value,t,r,i)}function UG(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],h=o[l++];null!==a?r.setInput(t,h,c,u):t[u]=h}}}function BG(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function sx(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function $G(n,e){const t=Xr(e,n);if(Kh(t)){const r=t[Je];48&t[Mt]?bf(r,t,r.template,t[Vn]):t[ia]>0&&Ey(t)}}function Ey(n){for(let r=F_(n);null!==r;r=L_(r))for(let i=Ur;i<r.length;i++){const s=r[i];if(Kh(s))if(512&s[Mt]){const o=s[Je];bf(o,s,o.template,s[Vn])}else s[ia]>0&&Ey(s)}const t=n[Je].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Xr(t[r],n);Kh(i)&&i[ia]>0&&Ey(i)}}function HG(n,e){const t=Xr(e,n),r=t[Je];(function zG(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),gy(r,t,t[Vn])}function Cf(n,e){return n[tu]?n[FI][Fi]=e:n[tu]=e,n[FI]=e,e}function Ef(n){for(;n;){n[Mt]|=32;const e=mu(n);if(oj(n)&&!e)return n;n=e}return null}function Af(n,e,t,r=!0){const i=e[$h];i.begin&&i.begin();try{bf(n,e,n.template,t)}catch(o){throw r&&cx(e,o),o}finally{i.end&&i.end()}}function Ay(n,e,t){h_(0),e(n,t)}function ox(n){return n[sl]||(n[sl]=[])}function ax(n){return n.cleanup||(n.cleanup=[])}function cx(n,e){const t=n[Gh],r=t?t.get(El,null):null;r&&r.handleError(e)}function Sy(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Sf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Km(i,a):2==s&&(r=Km(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function If(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(mr(s)),Li(s))for(let a=Ur;a<s.length;a++){const l=s[a],c=l[Je].firstChild;null!==c&&If(l[Je],l,c,r)}const o=t.type;if(8&o)If(n,e,t.child,r);else if(32&o){const a=N_(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=nD(e,t);if(Array.isArray(a))r.push(...a);else{const l=mu(e[Dr]);If(l[Je],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Au{get rootNodes(){const e=this._lView,t=e[Je];return If(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(e){this._lView[Vn]=e}get destroyed(){return 128==(128&this._lView[Mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Pn];if(Li(e)){const t=e[zh],r=t?t.indexOf(this):-1;r>-1&&(B_(e,r),sf(t,r))}this._attachedToViewContainer=!1}WT(this._lView[Je],this._lView)}onDestroy(e){ex(this._lView[Je],this._lView,null,e)}markForCheck(){Ef(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mt]&=-65}reattach(){this._lView[Mt]|=64}detectChanges(){Af(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function O3(n,e){_u(n,e,e[Rt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=e}}class qG extends Au{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Af(e[Je],e,e[Vn],!1)}checkNoChanges(){}get context(){return null}}class ux extends bu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=en(e);return new Su(t,this.ngModule)}}function dx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class KG{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Uh(r);const i=this.injector.get(e,ay,r);return i!==ay||t===ay?i:this.parentInjector.get(e,t,r)}}class Su extends xD{get inputs(){return dx(this.componentDef.inputs)}get outputs(){return dx(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Z4(n){return n.map(J4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Ls?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new KG(e,s):e,a=o.get(MD,null);if(null===a)throw new Ue(407,!1);const l=o.get(k4,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=r?function EG(n,e,t){return n.selectRootElement(e,t===ns.ShadowDom)}(c,r,this.componentDef.encapsulation):U_(c,u,function WG(n){const e=n.toLowerCase();return"svg"===e?HI:"math"===e?"math":null}(u)),b=this.componentDef.onPush?288:272,M=vy(0,null,null,1,0,null,null,null,null,null),q=wf(null,M,null,b,null,null,a,c,l,o,null);let ae,he;f_(q);try{const Se=this.componentDef;let Me,we=null;Se.findHostDirectiveDefs?(Me=[],we=new Map,Se.findHostDirectiveDefs(Se,Me,we),Me.push(Se)):Me=[Se];const Ke=function YG(n,e){const t=n[Je],r=mn;return n[r]=e,Il(t,r,2,"#host",null)}(q,h),at=function XG(n,e,t,r,i,s,o,a){const l=i[Je];!function JG(n,e,t,r){for(const i of n)e.mergedAttrs=au(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Sf(e,e.mergedAttrs,!0),null!==t&&sD(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),u=wf(i,ZD(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&by(l,n,r.length-1),Cf(i,u),i[n.index]=u}(Ke,h,Se,Me,q,a,c);he=qI(M,mn),h&&function e$(n,e,t,r){if(r)__(n,t,["ng-version",R4.full]);else{const{attrs:i,classes:s}=function eG(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ui(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&__(n,t,i),s&&s.length>0&&iD(n,t,s.join(" "))}}(c,Se,h,r),void 0!==t&&function t$(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(he,this.ngContentSelectors,t),ae=function ZG(n,e,t,r,i,s){const o=_r(),a=i[Je],l=ui(o,i);rx(a,i,o,t,null,r);for(let u=0;u<t.length;u++)xr(aa(i,a,o.directiveStart+u,o),i);ix(a,i,o),l&&xr(l,i);const c=aa(i,a,o.directiveStart+o.componentOffset,o);if(n[Vn]=i[Vn]=c,null!==s)for(const u of s)u(c,e);return my(a,o,n),c}(at,Se,Me,we,q,[n$]),gy(M,q,null)}finally{p_()}return new QG(this.componentType,ae,Cl(he,q),q,he)}}class QG extends I4{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new qG(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Sy(s[Je],s,i,e,t),Ef(Xr(this._tNode.index,s))}}get injector(){return new hl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function n$(){const n=_r();Qh(ke()[Je],n)}function tn(n){let e=function hx(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Vi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ue(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Iy(n.inputs),o.declaredInputs=Iy(n.declaredInputs),o.outputs=Iy(n.outputs);const a=i.hostBindings;a&&o$(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&i$(n,l),c&&s$(n,c),Wm(n.inputs,i.inputs),Wm(n.declaredInputs,i.declaredInputs),Wm(n.outputs,i.outputs),Vi(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===tn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function r$(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=au(i.hostAttrs,t=au(t,i.hostAttrs))}}(r)}function Iy(n){return n===Ms?{}:n===Kt?[]:n}function i$(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function s$(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function o$(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Tf(n){return!!Ty(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Ty(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Pr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function cs(n,e,t,r){const i=ke();return Pr(i,ul(),e)&&(Gt(),as(Sn(),i,n,e,t,r)),cs}function Dl(n,e,t,r){return Pr(n,ul(),t)?e+Ct(t)+r:At}function qt(n,e,t,r,i,s,o,a){const l=ke(),c=Gt(),u=n+mn,h=c.firstCreatePass?function m$(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Il(e,n,4,o||null,yo(c,a));wy(e,t,u,yo(c,l)),Qh(e,u);const h=u.tView=vy(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];is(h,!1);const b=l[Rt].createComment("");df(c,l,b,h),xr(b,l),Cf(l,l[u]=sx(b,l,b,h)),qh(h)&&_y(c,l,h),null!=o&&yy(l,h,a)}function ct(n,e,t){const r=ke();return Pr(r,ul(),e)&&hi(Gt(),Sn(),r,n,e,r[Rt],t,!1),ct}function Dy(n,e,t,r,i){const o=i?"class":"style";Sy(n,t,e.inputs[o],o,r)}function Te(n,e,t,r){const i=ke(),s=Gt(),o=mn+n,a=i[Rt],l=s.firstCreatePass?function v$(n,e,t,r,i,s){const o=e.consts,l=Il(e,n,2,r,yo(o,i));return wy(e,t,l,yo(o,s)),null!==l.attrs&&Sf(l,l.attrs,!1),null!==l.mergedAttrs&&Sf(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=i[o]=U_(a,e,function Rj(){return Et.lFrame.currentNamespace}()),u=qh(l);return is(l,!0),sD(a,c,l),32!=(32&l.flags)&&df(s,i,c,l),0===function yj(){return Et.lFrame.elementDepthCount}()&&xr(c,i),function vj(){Et.lFrame.elementDepthCount++}(),u&&(_y(s,i,l),my(s,l,i)),null!==r&&yy(i,l),Te}function De(){let n=_r();l_()?function c_(){Et.lFrame.isParent=!1}():(n=n.parent,is(n,!1));const e=n;!function wj(){Et.lFrame.elementDepthCount--}();const t=Gt();return t.firstCreatePass&&(Qh(t,n),s_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Lj(n){return 0!=(8&n.flags)}(e)&&Dy(t,e,ke(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Vj(n){return 0!=(16&n.flags)}(e)&&Dy(t,e,ke(),e.stylesWithoutHost,!1),De}function Mn(n,e,t,r){return Te(n,e,t,r),De(),Mn}function qn(){return ke()}function Tu(n){return!!n&&"function"==typeof n.then}const My=function Ix(n){return!!n&&"function"==typeof n.subscribe};function ut(n,e,t,r){const i=ke(),s=Gt(),o=_r();return function Dx(n,e,t,r,i,s,o){const a=qh(r),c=n.firstCreatePass&&ax(n),u=e[Vn],h=ox(e);let b=!0;if(3&r.type||o){const ae=ui(r,e),he=o?o(ae):ae,Se=h.length,Me=o?Ke=>o(mr(Ke[r.index])):r.index;let we=null;if(!o&&a&&(we=function b$(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[sl],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==we)(we.__ngLastListenerFn__||we).__ngNextListenerFn__=s,we.__ngLastListenerFn__=s,b=!1;else{s=Px(r,e,u,s,!1);const Ke=t.listen(he,i,s);h.push(s,Ke),c&&c.push(i,Me,Se,Se+1)}}else s=Px(r,e,u,s,!1);const M=r.outputs;let q;if(b&&null!==M&&(q=M[i])){const ae=q.length;if(ae)for(let he=0;he<ae;he+=2){const at=e[q[he]][q[he+1]].subscribe(s),pt=h.length;h.push(s,at),c&&c.push(i,r.index,pt,-(pt+1))}}}(s,i,i[Rt],o,n,e,r),ut}function xx(n,e,t,r){try{return Ci(6,e,t),!1!==t(r)}catch(i){return cx(n,i),!1}finally{Ci(7,e,t)}}function Px(n,e,t,r,i){return function s(o){if(o===Function)return r;Ef(n.componentOffset>-1?Xr(n.index,e):e);let l=xx(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=xx(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function st(n=1){return function Dj(n){return(Et.lFrame.contextLView=function xj(n,e){for(;n>0;)e=e[ol],n--;return e}(n,Et.lFrame.contextLView))[Vn]}(n)}function ky(n,e,t){return Ry(n,"",e,"",t),ky}function Ry(n,e,t,r,i){const s=ke(),o=Dl(s,e,t,r);return o!==At&&hi(Gt(),Sn(),s,n,o,s[Rt],i,!1),Ry}function xf(n,e){return n<<17|e<<2}function wo(n){return n>>17&32767}function Oy(n){return 2|n}function ha(n){return(131068&n)>>2}function Ny(n,e){return-131069&n|e<<2}function Fy(n){return 1|n}function Ux(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?wo(s):ha(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];P$(n[a],e)&&(l=!0,n[a+1]=r?Fy(u):Oy(u)),a=r?wo(u):ha(u)}l&&(n[t+1]=r?Oy(s):Fy(s))}function P$(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&_l(n,e)>=0}function Pf(n,e){return function Bi(n,e,t,r){const i=ke(),s=Gt(),o=function Ns(n){const e=Et.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function Kx(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[jr()],o=function Wx(n,e){return e>=n.expandoStartIndex}(n,t);(function Jx(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function U$(n,e,t,r){const i=function d_(n){const e=Et.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Du(t=Ly(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Ly(i,n,e,t,r),null===s){let l=function B$(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ha(r))return n[wo(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Ly(null,n,e,l[1],r),l=Du(l,e.attrs,r),function j$(n,e,t,r){n[wo(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function G$(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Du(r,n[s].hostAttrs,t);return Du(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function D$(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wo(o),l=ha(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||_l(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const b=wo(n[a+1]);n[r+1]=xf(b,a),0!==b&&(n[b+1]=Ny(n[b+1],r)),n[a+1]=function I$(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=xf(a,0),0!==a&&(n[a+1]=Ny(n[a+1],r)),a=r;else n[r+1]=xf(l,0),0===a?a=r:n[l+1]=Ny(n[l+1],r),l=r;c&&(n[r+1]=Oy(n[r+1])),Ux(n,u,r,!0),Ux(n,u,r,!1),function x$(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&_l(s,e)>=0&&(t[r+1]=Fy(t[r+1]))}(e,u,n,r,s),o=xf(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==At&&Pr(i,o,e)&&function Yx(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function T$(n){return 1==(1&n)}(c)?Xx(l,e,t,i,ha(c),o):void 0;Mf(u)||(Mf(s)||function S$(n){return 2==(2&n)}(c)&&(s=Xx(l,null,t,i,a,o)),function H3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Jr.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Jr.Important),n.setStyle(t,r,i,s))}}(r,o,Wh(jr(),t),i,s))}(s,s.data[jr()],i,i[Rt],n,i[o+1]=function q$(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=cn(vo(n)))),n}(e,t),r,o)}(n,e,null,!0),Pf}function Ly(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Du(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Du(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),di(n,o,!!t||e[++s]))}return void 0===n?null:n}function Xx(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let b=t[i+1];b===At&&(b=h?Kt:void 0);let M=h?S_(b,r):u===r?b:void 0;if(c&&!Mf(M)&&(M=S_(l,r)),Mf(M)&&(a=M,o))return a;const q=n[i+1];i=o?wo(q):ha(q)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=S_(l,r))}return a}function Mf(n){return void 0!==n}function je(n,e=""){const t=ke(),r=Gt(),i=n+mn,s=r.firstCreatePass?Il(r,i,1,e,null):r.data[i],o=t[i]=function V_(n,e){return n.createText(e)}(t[Rt],e);df(r,t,o,s),is(s,!1)}function sr(n){return kf("",n,""),sr}function kf(n,e,t){const r=ke(),i=Dl(r,n,e,t);return i!==At&&function Bs(n,e,t){const r=Wh(e,n);!function zT(n,e,t){n.setValue(e,t)}(n[Rt],r,t)}(r,jr(),i),kf}const Vl="en-US";let w1=Vl;function By(n,e,t,r,i){if(n=gt(n),Array.isArray(n))for(let s=0;s<n.length;s++)By(n[s],e,t,r,i);else{const s=Gt(),o=ke();let a=ua(n)?n:gt(n.provide),l=DD(n);const c=_r(),u=1048575&c.providerIndexes,h=c.directiveStart,b=c.providerIndexes>>20;if(ua(n)||!n.multi){const M=new ou(l,i,xe),q=Gy(a,e,i?u:u+b,h);-1===q?(b_(tf(c,o),s,a),jy(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(M),o.push(M)):(t[q]=M,o[q]=M)}else{const M=Gy(a,e,u+b,h),q=Gy(a,e,u,u+b),he=q>=0&&t[q];if(i&&!he||!i&&!(M>=0&&t[M])){b_(tf(c,o),s,a);const Se=function u6(n,e,t,r,i){const s=new ou(n,t,xe);return s.multi=[],s.index=e,s.componentProviders=0,z1(s,i,r&&!t),s}(i?c6:l6,t.length,i,r,l);!i&&he&&(t[q].providerFactory=Se),jy(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(Se),o.push(Se)}else jy(s,n,M>-1?M:q,z1(t[i?q:M],l,!i&&r));!i&&r&&he&&t[q].componentProviders++}}}function jy(n,e,t,r){const i=ua(e),s=function v4(n){return!!n.useClass}(e);if(i||s){const l=(s?gt(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function z1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Gy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function l6(n,e,t,r){return $y(this.multi,[])}function c6(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=aa(t,t[Je],this.providerFactory.index,r);s=a.slice(0,o),$y(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],$y(i,s);return s}function $y(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Cn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function a6(n,e,t){const r=Gt();if(r.firstCreatePass){const i=Vi(n);By(t,r.data,r.blueprint,i,!0),By(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ul{}class q1{}class W1 extends Ul{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ux(this);const r=ai(e);this._bootstrapComponents=Us(r.bootstrap),this._r3Injector=$D(e,t,[{provide:Ul,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],cn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Hy extends q1{constructor(e){super(),this.moduleType=e}create(e){return new W1(this.moduleType,e)}}class h6 extends Ul{constructor(e,t,r){super(),this.componentFactoryResolver=new ux(this),this.instance=null;const i=new TD([...e,{provide:Ul,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],t||yf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Lf(n,e,t=null){return new h6(n,e,t).injector}let f6=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=ED(0,t.type),i=r.length>0?Lf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=dt({token:n,providedIn:"environment",factory:()=>new n(lt(Ls))}),n})();function K1(n){n.getStandaloneInjector=e=>e.get(f6).getOrCreateStandaloneInjector(n)}function qy(n,e,t,r){return function tP(n,e,t,r,i,s){const o=e+t;return Pr(n,o,i)?function ls(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function Ou(n,e){const t=n[e];return t===At?void 0:t}(n,o+1)}(ke(),function Br(){const n=Et.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,r)}function Wy(n){return e=>{setTimeout(n,void 0,e)}}const Wt=class V6 extends d{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Wy(s),i&&(i=Wy(i)),o&&(o=Wy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof J&&e.add(a),a}};function U6(){return this._results[Symbol.iterator]()}class Ky{get changes(){return this._changes||(this._changes=new Wt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ky.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=U6)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Ei(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Kj(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let js=(()=>{class n{}return n.__NG_ELEMENT_ID__=G6,n})();const B6=js,j6=class extends B6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=wf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[nu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[rs];return null!==o&&(i[rs]=o.createEmbeddedView(r)),gy(r,i,e),new Au(i)}};function G6(){return Vf(_r(),ke())}function Vf(n,e){return 4&n.type?new j6(e,n,Cl(n,e)):null}let Gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=$6,n})();function $6(){return lP(_r(),ke())}const H6=Gi,oP=class extends H6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cl(this._hostTNode,this._hostLView)}get injector(){return new hl(this._hostTNode,this._hostLView)}get parentInjector(){const e=w_(this._hostTNode,this._hostLView);if(dT(e)){const t=Zh(e,this._hostLView),r=Jh(e);return new hl(t[Je].data[r+8],t)}return new hl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=aP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ur}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function cu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const h=t||{};a=h.index,r=h.injector,i=h.projectableNodes,s=h.environmentInjector||h.ngModuleRef}const l=o?e:new Su(en(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const b=(o?c:this.parentInjector).get(Ls,null);b&&(s=b)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[Je];if(function _j(n){return Li(n[Pn])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const h=r[Pn],b=new oP(h,h[Tr],h[Pn]);b.detach(b.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function F3(n,e,t,r){const i=Ur+r,s=t.length;r>0&&(t[i-1][Fi]=e),r<s-Ur?(e[Fi]=t[i],ET(t,Ur+r,e)):(t.push(e),e[Fi]=null),e[Pn]=t;const o=e[nu];null!==o&&t!==o&&function L3(n,e){const t=n[ll];e[Dr]!==e[Pn][Pn][Dr]&&(n[VI]=!0),null===t?n[ll]=[e]:t.push(e)}(o,e);const a=e[rs];null!==a&&a.insertView(n),e[Mt]|=64}(i,r,o,s);const a=$_(s,o),l=r[Rt],c=uf(l,o[Hh]);return null!==c&&function R3(n,e,t,r,i,s){r[Rs]=i,r[Tr]=e,_u(n,r,t,1,i,s)}(i,o[Tr],l,r,c,a),e.attachToViewContainerRef(),ET(Qy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=aP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=B_(this._lContainer,t);r&&(sf(Qy(this._lContainer),t),WT(r[Je],r))}detach(e){const t=this._adjustIndex(e,-1),r=B_(this._lContainer,t);return r&&null!=sf(Qy(this._lContainer),t)?new Au(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function aP(n){return n[zh]}function Qy(n){return n[zh]||(n[zh]=[])}function lP(n,e){let t;const r=e[n.index];if(Li(r))t=r;else{let i;if(8&n.type)i=mr(r);else{const s=e[Rt];i=s.createComment("");const o=ui(n,e);ca(s,uf(s,o),i,function j3(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=sx(r,e,i,n),Cf(e,t)}return new oP(t,n,e)}class Yy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Yy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Xy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==gP(e,t).matches&&this.queries[t].setDirty()}}class cP{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Jy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Jy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Zy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Zy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,z6(t,s)),this.matchTNodeWithReadOption(e,t,nf(t,e,s,!1,!1))}else r===js?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,nf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ei||i===Gi||i===js&&4&t.type)this.addMatch(t.index,-2);else{const s=nf(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function z6(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function W6(n,e,t,r){return-1===t?function q6(n,e){return 11&n.type?Cl(n,e):4&n.type?Vf(n,e):null}(e,n):-2===t?function K6(n,e,t){return t===ei?Cl(e,n):t===js?Vf(e,n):t===Gi?lP(e,n):void 0}(n,e,r):aa(n,n[Je],t,e)}function uP(n,e,t,r){const i=e[rs].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:W6(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function ev(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=uP(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let h=Ur;h<u.length;h++){const b=u[h];b[nu]===b[Pn]&&ev(b[Je],b,c,r)}if(null!==u[ll]){const h=u[ll];for(let b=0;b<h.length;b++){const M=h[b];ev(M[Je],M,c,r)}}}}}return r}function tv(n){const e=ke(),t=Gt(),r=eT();h_(r+1);const i=gP(t,r);if(n.dirty&&function mj(n){return 4==(4&n[Mt])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?ev(t,e,r,[]):uP(t,e,i,r);n.reset(s,P4),n.notifyOnChanges()}return!0}return!1}function dP(n,e,t){const r=Gt();r.firstCreatePass&&(function pP(n,e,t){null===n.queries&&(n.queries=new Jy),n.queries.track(new Zy(e,t))}(r,new cP(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function fP(n,e,t){const r=new Ky(4==(4&t));ex(n,e,r,r.destroy),null===e[rs]&&(e[rs]=new Xy),e[rs].queries.push(new Yy(r))}(r,ke(),e)}function gP(n,e){return n.queries.getByIndex(e)}function Bf(...n){}const jf=new ot("Application Initializer");let Gf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Bf,this.reject=Bf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Tu(s))t.push(s);else if(My(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(lt(jf,8))},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lu=new ot("AppId",{providedIn:"root",factory:function RP(){return`${lv()}${lv()}${lv()}`}});function lv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OP=new ot("Platform Initializer"),NP=new ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let _z=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Gs=new ot("LocaleId",{providedIn:"root",factory:()=>Lt(Gs,mt.Optional|mt.SkipSelf)||function yz(){return typeof $localize<"u"&&$localize.locale||Vl}()});class wz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let FP=(()=>{class n{compileModuleSync(t){return new Hy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Us(ai(t).declarations).reduce((o,a)=>{const l=en(a);return l&&o.push(new Su(l)),o},[]);return new wz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ez=(()=>Promise.resolve(0))();function cv(n){typeof Zone>"u"?Ez.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Rn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wt(!1),this.onMicrotaskEmpty=new Wt(!1),this.onStable=new Wt(!1),this.onError=new Wt(!1),typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Az(){let n=gn.requestAnimationFrame,e=gn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Tz(n){const e=()=>{!function Iz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(gn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,dv(n),n.isCheckStableRunning=!0,uv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),dv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return UP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),BP(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return UP(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),BP(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,dv(n),uv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rn.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(Rn.isInAngularZone())throw new Ue(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Sz,Bf,Bf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Sz={};function uv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function dv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function UP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function BP(n){n._nesting--,uv(n)}class Dz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wt,this.onMicrotaskEmpty=new Wt,this.onStable=new Wt,this.onError=new Wt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const jP=new ot(""),$f=new ot("");let pv,hv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,pv||(function xz(n){pv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rn.assertNotInAngularZone(),cv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(lt(Rn),lt(fv),lt($f))},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})(),fv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return pv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $s=!1;let bo=null;const GP=new ot("AllowMultipleToken"),gv=new ot("PlatformDestroyListeners"),$P=new ot("appBootstrapListener");class HP{constructor(e,t){this.name=e,this.token=t}}function qP(n,e,t=[]){const r=`Platform: ${e}`,i=new ot(r);return(s=[])=>{let o=mv();if(!o||o.injector.get(GP,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function kz(n){if(bo&&!bo.get(GP,!1))throw new Ue(400,!1);bo=n;const e=n.get(KP);(function zP(n){const e=n.get(OP,null);e&&e.forEach(t=>t())})(n)}(function WP(n=[],e){return os.create({name:e,providers:[{provide:ry,useValue:"platform"},{provide:gv,useValue:new Set([()=>bo=null])},...n]})}(a,r))}return function Oz(n){const e=mv();if(!e)throw new Ue(401,!1);return e}()}}function mv(){return bo?.get(KP)??null}let KP=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function YP(n,e){let t;return t="noop"===n?new Dz:("zone.js"===n?void 0:n)||new Rn(e),t}(r?.ngZone,function QP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Rn,useValue:i}];return i.run(()=>{const o=os.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(El,null);if(!l)throw new Ue(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{zf(this._modules,a),c.unsubscribe()})}),function XP(n,e,t){try{const r=t();return Tu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Gf);return c.runInitializers(),c.donePromise.then(()=>(function b1(n){vi(n,"Expected localeId to be defined"),"string"==typeof n&&(w1=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Gs,Vl)||Vl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=JP({},r);return function Pz(n,e,t){const r=new Hy(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Hf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Ue(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(gv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(lt(os))},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function JP(n,e){return Array.isArray(e)?e.reduce(JP,n):{...n,...e}}let Hf=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new R(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new R(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Rn.assertNotInAngularZone(),cv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Rn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function FB(...n){const e=Yc(n),t=function xB(n,e){return"number"==typeof zm(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Ln(r[0]):nl(t)(xn(r,e)):es}(s,o.pipe(function LB(n={}){const{connector:e=(()=>new d),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,h=!1;const b=()=>{a?.unsubscribe(),a=void 0},M=()=>{b(),o=l=void 0,u=h=!1},q=()=>{const ae=o;M(),ae?.unsubscribe()};return L((ae,he)=>{c++,!h&&!u&&b();const Se=l=l??e();he.add(()=>{c--,0===c&&!h&&!u&&(a=qm(q,i))}),Se.subscribe(he),!o&&c>0&&(o=new B({next:Me=>Se.next(Me),error:Me=>{h=!0,b(),a=qm(M,t,Me),Se.error(Me)},complete:()=>{u=!0,b(),a=qm(M,r),Se.complete()}}),Ln(ae).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof xD;if(!this._injector.get(Gf).done){!i&&function il(n){const e=en(n)||Ir(n)||Yr(n);return null!==e&&e.standalone}(t);throw new Ue(405,$s)}let o;o=i?t:this._injector.get(bu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Mz(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ul),c=o.create(os.NULL,[],r||o.selector,a),u=c.location.nativeElement,h=c.injector.get(jP,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),zf(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Ue(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;zf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get($P,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ue(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(lt(Rn),lt(Ls),lt(El))},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let qf=(()=>{class n{}return n.__NG_ELEMENT_ID__=Fz,n})();function Fz(n){return function Lz(n,e,t){if(iu(n)&&!t){const r=Xr(n.index,e);return new Au(r,r)}return 47&n.type?new Au(e[Dr],e):null}(_r(),ke(),16==(16&n))}class rM{constructor(){}supports(e){return Tf(e)}create(e){return new $z(e)}}const Gz=(n,e)=>e;class $z{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Gz}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<sM(r,i,s)?t:r,a=sM(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let b=0;b<c;b++){const M=b<s.length?s[b]:s[b]=0,q=M+b;u<=q&&q<c&&(s[b]=M+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Tf(e))throw new Ue(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function f$(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Hz(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new iM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Hz{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class iM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new zz,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class oM{constructor(){}supports(e){return e instanceof Map||Ty(e)}create(){return new qz}}class qz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ty(e)))throw new Ue(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Wz(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Wz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aM(){return new Qf([new rM])}let Qf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||aM()),deps:[[n,new hu,new du]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Ue(901,!1)}}return n.\u0275prov=dt({token:n,providedIn:"root",factory:aM}),n})();function lM(){return new Vu([new oM])}let Vu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||lM()),deps:[[n,new hu,new du]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Ue(901,!1)}}return n.\u0275prov=dt({token:n,providedIn:"root",factory:lM}),n})();const Yz=qP(null,"core",[]);let Xz=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(lt(Hf))},n.\u0275mod=Ni({type:n}),n.\u0275inj=wi({}),n})();function Gl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let bv=null;function Hs(){return bv}class e5{}const ti=new ot("DocumentToken");let Cv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:function(){return function t5(){return lt(cM)}()},providedIn:"platform"}),n})();const n5=new ot("Location Initialized");let cM=(()=>{class n extends Cv{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hs().getBaseHref(this._doc)}onPopState(t){const r=Hs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Hs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){uM()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){uM()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(lt(ti))},n.\u0275prov=dt({token:n,factory:function(){return function r5(){return new cM(lt(ti))}()},providedIn:"platform"}),n})();function uM(){return!!window.history.pushState}function Ev(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function dM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function zs(n){return n&&"?"!==n[0]?"?"+n:n}let ga=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:function(){return Lt(fM)},providedIn:"root"}),n})();const hM=new ot("appBaseHref");let fM=(()=>{class n extends ga{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Lt(ti).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ev(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+zs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+zs(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+zs(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(lt(Cv),lt(hM,8))},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i5=(()=>{class n extends ga{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ev(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+zs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+zs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(lt(Cv),lt(hM,8))},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})(),Av=(()=>{class n{constructor(t){this._subject=new Wt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function a5(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(dM(pM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+zs(r))}normalize(t){return n.stripTrailingSlash(function o5(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,pM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zs(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=zs,n.joinWithSlash=Ev,n.stripTrailingSlash=dM,n.\u0275fac=function(t){return new(t||n)(lt(ga))},n.\u0275prov=dt({token:n,factory:function(){return function s5(){return new Av(lt(ga))}()},providedIn:"root"}),n})();function pM(n){return n.replace(/\/index.html$/,"")}const Ov=/\s+/,EM=[];let Nv=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=EM,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ov):EM}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ov):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Ov).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(xe(Qf),xe(Vu),xe(ei),xe(Vs))},n.\u0275dir=vt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class q5{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ws=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new q5(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),IM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{IM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(xe(Gi),xe(js),xe(Qf))},n.\u0275dir=vt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function IM(n,e){n.context.$implicit=e.item}let zi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new K5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){TM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){TM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(xe(Gi),xe(js))},n.\u0275dir=vt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class K5{constructor(){this.$implicit=null,this.ngIf=null}}function TM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${cn(e)}'.`)}let v9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ni({type:n}),n.\u0275inj=wi({}),n})();let MM=(()=>{class n{}return n.\u0275prov=dt({token:n,providedIn:"root",factory:()=>new E9(lt(ti),window)}),n})();class E9{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function A9(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=kM(this.window.history)||kM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function kM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class J9 extends e5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gv extends J9{static makeCurrent(){!function Zz(n){bv||(bv=n)}(new Gv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Z9(){return Gu=Gu||document.querySelector("base"),Gu?Gu.getAttribute("href"):null}();return null==t?null:function e8(n){ap=ap||document.createElement("a"),ap.setAttribute("href",n);const e=ap.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Gu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function H5(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ap,Gu=null;const LM=new ot("TRANSITION_ID"),n8=[{provide:jf,useFactory:function t8(n,e,t){return()=>{t.get(Gf).donePromise.then(()=>{const r=Hs(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[LM,ti,os],multi:!0}];let i8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})();const lp=new ot("EventManagerPlugins");let cp=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(lt(lp),lt(Rn))},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})();class VM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Hs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let UM=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})(),$u=(()=>{class n extends UM{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(lt(ti))},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})();const $v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hv=/%COMP%/g,GM=new ot("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $M(n,e){return e.flat(100).map(t=>t.replace(Hv,n))}function HM(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let zv=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new qv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof WM?i.applyToHost(t):i instanceof Wv&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case ns.Emulated:s=new WM(o,a,r,this.appId,l);break;case ns.ShadowDom:return new d8(o,a,t,r);default:s=new Wv(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(lt(cp),lt($u),lt(Lu),lt(GM))},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})();class qv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS($v[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(qM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(qM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=$v[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=$v[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Jr.DashCase|Jr.Important)?e.style.setProperty(t,r,i&Jr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Jr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,HM(r)):this.eventManager.addEventListener(e,t,HM(r))}}function qM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class d8 extends qv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$M(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wv extends qv{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=$M(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class WM extends Wv{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function l8(n){return"_ngcontent-%COMP%".replace(Hv,n)}(o),this.hostAttr=function c8(n){return"_nghost-%COMP%".replace(Hv,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let h8=(()=>{class n extends VM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(lt(ti))},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})();const KM=["alt","control","meta","shift"],f8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let g8=(()=>{class n extends VM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),KM.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=f8[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),KM.forEach(o=>{o!==i&&(0,p8[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(lt(ti))},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})();const YM=[{provide:NP,useValue:"browser"},{provide:OP,useValue:function m8(){Gv.makeCurrent()},multi:!0},{provide:ti,useFactory:function y8(){return function Q3(n){W_=n}(document),document},deps:[]}],v8=qP(Yz,"browser",YM),XM=new ot(""),JM=[{provide:$f,useClass:class r8{addToWindow(e){gn.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},gn.getAllAngularTestabilities=()=>e.getAllTestabilities(),gn.getAllAngularRootElements=()=>e.getAllRootElements(),gn.frameworkStabilizers||(gn.frameworkStabilizers=[]),gn.frameworkStabilizers.push(r=>{const i=gn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Hs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:jP,useClass:hv,deps:[Rn,fv,$f]},{provide:hv,useClass:hv,deps:[Rn,fv,$f]}],ZM=[{provide:ry,useValue:"root"},{provide:El,useFactory:function _8(){return new El},deps:[]},{provide:lp,useClass:h8,multi:!0,deps:[ti,Rn,NP]},{provide:lp,useClass:g8,multi:!0,deps:[ti]},{provide:zv,useClass:zv,deps:[cp,$u,Lu,GM]},{provide:MD,useExisting:zv},{provide:UM,useExisting:$u},{provide:$u,useClass:$u,deps:[ti]},{provide:cp,useClass:cp,deps:[lp,Rn]},{provide:class S9{},useClass:i8,deps:[]},[]];let w8=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Lu,useValue:t.appId},{provide:LM,useExisting:Lu},n8]}}}return n.\u0275fac=function(t){return new(t||n)(lt(XM,12))},n.\u0275mod=Ni({type:n}),n.\u0275inj=wi({providers:[...ZM,...JM],imports:[v9,Xz]}),n})(),ek=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(lt(ti))},n.\u0275prov=dt({token:n,factory:function(t){let r=null;return r=t?new t:function C8(){return new ek(lt(ti))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:D8}=Array,{getPrototypeOf:x8,prototype:P8,keys:M8}=Object;function rk(n){if(1===n.length){const e=n[0];if(D8(e))return{args:e,keys:null};if(function k8(n){return n&&"object"==typeof n&&x8(n)===P8}(e)){const t=M8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:R8}=Array;function Yv(n){return Y(e=>function O8(n,e){return R8(e)?n(...e):n(e)}(n,e))}function ik(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let sk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(xe(Vs),xe(ei))},n.\u0275dir=vt({type:n}),n})(),ma=(()=>{class n extends sk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=yr(n)))(r||n)}}(),n.\u0275dir=vt({type:n,features:[tn]}),n})();const hs=new ot("NgValueAccessor"),L8={provide:hs,useExisting:un(()=>_a),multi:!0},U8=new ot("CompositionEventMode");let _a=(()=>{class n extends sk{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function V8(){const n=Hs()?Hs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(xe(Vs),xe(ei),xe(U8,8))},n.\u0275dir=vt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ut("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Cn([L8]),tn]}),n})();const B8=!1,Mr=new ot("NgValidators"),Ao=new ot("NgAsyncValidators");function mk(n){return null!=n}function _k(n){const e=Tu(n)?xn(n):n;if(B8&&!My(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new Ue(-1101,t)}return e}function yk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function vk(n,e){return e.map(t=>t(n))}function wk(n){return n.map(e=>function G8(n){return!n.validate}(e)?e:t=>e.validate(t))}function Xv(n){return null!=n?function bk(n){if(!n)return null;const e=n.filter(mk);return 0==e.length?null:function(t){return yk(vk(t,e))}}(wk(n)):null}function Jv(n){return null!=n?function Ck(n){if(!n)return null;const e=n.filter(mk);return 0==e.length?null:function(t){return function N8(...n){const e=bI(n),{args:t,keys:r}=rk(n),i=new R(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;Ln(t[u]).subscribe(D(s,b=>{h||(h=!0,c--),a[u]=b},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(r?ik(r,a):a),s.complete())}))}});return e?i.pipe(Yv(e)):i}(vk(t,e).map(_k)).pipe(Y(yk))}}(wk(n)):null}function Ek(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zv(n){return n?Array.isArray(n)?n:[n]:[]}function dp(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ik(n,e){const t=Zv(e);return Zv(n).forEach(i=>{dp(t,i)||t.push(i)}),t}function Tk(n,e){return Zv(e).filter(t=>!dp(n,t))}class Dk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Hr extends Dk{get formDirective(){return null}get path(){return null}}class So extends Dk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xk{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hu=(()=>{class n extends xk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(xe(So,2))},n.\u0275dir=vt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Pf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[tn]}),n})();const zu="VALID",fp="INVALID",$l="PENDING",qu="DISABLED";function pp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Rk{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zu}get invalid(){return this.status===fp}get pending(){return this.status==$l}get disabled(){return this.status===qu}get enabled(){return this.status!==qu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ik(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ik(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Tk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Tk(e,this._rawAsyncValidators))}hasValidator(e){return dp(this._rawValidators,e)}hasAsyncValidator(e){return dp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$l,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zu||this.status===$l)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qu:zu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$l,this._hasOwnPendingAsyncValidator=!0;const t=_k(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Wt,this.statusChanges=new Wt}_calculateStatus(){return this._allControlsDisabled()?qu:this.errors?fp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($l)?$l:this._anyControlsHaveStatus(fp)?fp:zu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Y8(n){return Array.isArray(n)?Xv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function X8(n){return Array.isArray(n)?Jv(n):n||null}(this._rawAsyncValidators)}}const Hl=new ot("CallSetDisabledState",{providedIn:"root",factory:()=>gp}),gp="always";function Wu(n,e,t=gp){(function a0(n,e){const t=function Ak(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Ek(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Sk(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Ek(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();yp(e._rawValidators,i),yp(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function eq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ok(n,e)})}(n,e),function nq(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ok(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Z8(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function yp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ok(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Lk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Vk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Uk=class extends Rk{constructor(e=null,t,r){super(function r0(n){return(pp(n)?n.validators:n)||null}(t),function s0(n,e){return(pp(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Vk(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Vk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},uq={provide:So,useExisting:un(()=>zl)},Gk=(()=>Promise.resolve())();let zl=(()=>{class n extends So{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Uk,this._registered=!1,this.update=new Wt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function u0(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===_a?t=s:function sq(n){return Object.getPrototypeOf(n.constructor)===ma}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function c0(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Gk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Gl(r);Gk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function mp(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(xe(Hr,9),xe(Mr,10),xe(Ao,10),xe(hs,10),xe(qf,8),xe(Hl,8))},n.\u0275dir=vt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Cn([uq]),tn,ci]}),n})(),Hk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ni({type:n}),n.\u0275inj=wi({}),n})(),Nq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ni({type:n}),n.\u0275inj=wi({imports:[Hk]}),n})(),Lq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Hl,useValue:t.callSetDisabledState??gp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ni({type:n}),n.\u0275inj=wi({imports:[Nq]}),n})();const Vq=["addListener","removeListener"],Uq=["addEventListener","removeEventListener"],Bq=["on","off"];function hn(n,e,t,r){if(p(t)&&(r=t,t=void 0),r)return hn(n,e,t).pipe(Yv(r));const[i,s]=function $q(n){return p(n.addEventListener)&&p(n.removeEventListener)}(n)?Uq.map(o=>a=>n[o](e,a,t)):function jq(n){return p(n.addListener)&&p(n.removeListener)}(n)?Vq.map(lR(n,e)):function Gq(n){return p(n.on)&&p(n.off)}(n)?Bq.map(lR(n,e)):[];if(!i&&Sr(n))return Jn(o=>hn(o,e,t))(Ln(n));if(!i)throw new TypeError("Invalid event target");return new R(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function lR(n,e){return t=>r=>n[t](e,r)}function fn(n){return L((e,t)=>{Ln(n).subscribe(D(t,()=>t.complete(),ne)),!t.closed&&e.subscribe(t)})}class Hq extends J{constructor(e,t){super()}schedule(e,t=0){return this}}const wp={setInterval(n,e,...t){const{delegate:r}=wp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=wp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},cR={now:()=>(cR.delegate||Date).now(),delegate:void 0};class Qu{constructor(e,t=Qu.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Qu.now=cR.now;const y0=new class qq extends Qu{constructor(e,t=Qu.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class zq extends Hq{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return wp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&wp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,pe(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),Wq=y0;function fs(n,e){return L((t,r)=>{let i=0;t.subscribe(D(r,s=>n.call(e,s,i++)&&r.next(s)))})}var ql=z(36),bp=z.t(ql,2),Ti=z(813),uR=z.t(Ti,2);const Qq=["pdfViewerContainer"];function dR(n,e){const t=new n.EventBus;return function Yq(n,e){hn(n,"documentload").pipe(fn(e)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),hn(n,"pagerendered").pipe(fn(e)).subscribe(({pageNumber:t,cssTransform:r,source:i})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:r}),i.div.dispatchEvent(s)}),hn(n,"textlayerrendered").pipe(fn(e)).subscribe(({pageNumber:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),r.textLayerDiv.dispatchEvent(i)}),hn(n,"pagechanging").pipe(fn(e)).subscribe(({pageNumber:t,source:r})=>{const i=document.createEvent("UIEvents");i.initEvent("pagechanging",!0,!0),i.pageNumber=t,r.container.dispatchEvent(i)}),hn(n,"pagesinit").pipe(fn(e)).subscribe(({source:t})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(r)}),hn(n,"pagesloaded").pipe(fn(e)).subscribe(({pagesCount:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),r.container.dispatchEvent(i)}),hn(n,"scalechange").pipe(fn(e)).subscribe(({scale:t,presetValue:r,source:i})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=r,i.container.dispatchEvent(s)}),hn(n,"updateviewarea").pipe(fn(e)).subscribe(({location:t,source:r})=>{const i=document.createEvent("UIEvents");i.initEvent("updateviewarea",!0,!0),i.location=t,r.container.dispatchEvent(i)}),hn(n,"find").pipe(fn(e)).subscribe(({source:t,type:r,query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l})=>{if(t===window)return;const c=document.createEvent("CustomEvent");c.initCustomEvent("find"+r,!0,!0,{query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),hn(n,"attachmentsloaded").pipe(fn(e)).subscribe(({attachmentsCount:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),r.container.dispatchEvent(i)}),hn(n,"sidebarviewchanged").pipe(fn(e)).subscribe(({view:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),r.outerContainer.dispatchEvent(i)}),hn(n,"pagemode").pipe(fn(e)).subscribe(({mode:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagemode",!0,!0,{mode:t}),r.pdfViewer.container.dispatchEvent(i)}),hn(n,"namedaction").pipe(fn(e)).subscribe(({action:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("namedaction",!0,!0,{action:t}),r.pdfViewer.container.dispatchEvent(i)}),hn(n,"presentationmodechanged").pipe(fn(e)).subscribe(({active:t,switchInProgress:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:r}),window.dispatchEvent(i)}),hn(n,"outlineloaded").pipe(fn(e)).subscribe(({outlineCount:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),r.container.dispatchEvent(i)})}(t,e),t}function Cp(n,e,t){n[e]=t}function Yu(){return typeof window>"u"}Yu()||Cp(bp,"verbosity",ql.VerbosityLevel.INFOS);var va=(()=>{return(n=va||(va={}))[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",va;var n})();let Xq=(()=>{class n{constructor(t,r){if(this.element=t,this.ngZone=r,this.isVisible=!1,this._cMapsUrl=typeof bp<"u"?`https://unpkg.com/pdfjs-dist@${ql.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=va.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new d,this.afterLoadComplete=new Wt,this.pageRendered=new Wt,this.pageInitialized=new Wt,this.textLayerRendered=new Wt,this.onError=new Wt,this.onProgress=new Wt,this.pageChange=new Wt(!0),Yu())return;let i;i=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${ql.version}/legacy/build/pdf.worker.min.js`,Cp(ql.GlobalWorkerOptions,"workerSrc",i)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const r=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,r!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return Ti.LinkTarget.BLANK;case"none":return Ti.LinkTarget.NONE;case"self":return Ti.LinkTarget.SELF;case"parent":return Ti.LinkTarget.PARENT;case"top":return Ti.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(t){if(!Yu()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:va.DISABLED,this.resetPdfDocument()):"showAll"in t&&this.resetPdfDocument(),"page"in t){const{page:r}=t;if(r.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const t=this.getCurrentViewer();xn(this._pdf.getPage(t.currentPageNumber)).pipe(fn(this.destroy$)).subscribe({next:r=>{const i=this._rotation||r.rotate,s=r.getViewport({scale:this._zoom,rotation:i}).width*n.CSS_UNITS;let o=this._zoom,a=!0;if(!this._originalSize||this._fitToPage&&s>this.pdfViewerContainer.nativeElement.clientWidth){const l=r.getViewport({scale:1,rotation:i});o=this.getScale(l.width,l.height),a=!this._stickToPage}t._setScale(o,a)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const t={},r=n.getLinkTarget(this._externalLinkTarget);return r&&(t.externalLinkTarget=r),t}setupMultiPageViewer(){Cp(bp,"disableTextLayer",!this._renderText);const t=dR(uR,this.destroy$);hn(t,"pagerendered").pipe(fn(this.destroy$)).subscribe(i=>{this.pageRendered.emit(i)}),hn(t,"pagesinit").pipe(fn(this.destroy$)).subscribe(i=>{this.pageInitialized.emit(i)}),hn(t,"pagechanging").pipe(fn(this.destroy$)).subscribe(({pageNumber:i})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=i,this.pageChange.emit(i)},100)}),hn(t,"textlayerrendered").pipe(fn(this.destroy$)).subscribe(i=>{this.textLayerRendered.emit(i)}),this.pdfMultiPageLinkService=new Ti.PDFLinkService({eventBus:t,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new Ti.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:t});const r={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:va.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new Ti.PDFViewer(r),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){Cp(bp,"disableTextLayer",!this._renderText);const t=dR(uR,this.destroy$);hn(t,"pagechanging").pipe(fn(this.destroy$)).subscribe(({pageNumber:i})=>{i!==this._page&&(this.page=i)}),hn(t,"pagerendered").pipe(fn(this.destroy$)).subscribe(i=>{this.pageRendered.emit(i)}),hn(t,"pagesinit").pipe(fn(this.destroy$)).subscribe(i=>{this.pageInitialized.emit(i)}),hn(t,"textlayerrendered").pipe(fn(this.destroy$)).subscribe(i=>{this.textLayerRendered.emit(i)}),this.pdfSinglePageLinkService=new Ti.PDFLinkService({eventBus:t,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new Ti.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:t});const r={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:va.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new Ti.PDFSinglePageViewer(r),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const r={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===t?r.url=this.src:"object"===t&&(void 0!==this.src.byteLength?r.data=this.src:Object.assign(r,this.src)),r}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=ql.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=r=>{this.onProgress.emit(r)};const t=this.src;xn(this.loadingTask.promise).pipe(fn(this.destroy$)).subscribe({next:r=>{this._pdf=r,this.lastLoaded=t,this.afterLoadComplete.emit(r),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:r=>{this.lastLoaded=null,this.onError.emit(r)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const t=this.getCurrentViewer();(0!==this._rotation||t.pagesRotation!==this._rotation)&&setTimeout(()=>{t.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{t.currentPageNumber=this._page}),this.updateSize()}getScale(t,r){const i=this._showBorders?2*n.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-i,o=this.pdfViewerContainer.nativeElement.clientHeight-i;if(0===o||0===r||0===s||0===t)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(o/r,s/t);break;case"page-height":a=o/r;break;default:a=s/t}return this._zoom*a/n.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){Yu()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){Yu()||this.ngZone.runOutsideAngular(()=>{hn(window,"resize").pipe(function Kq(n,e=y0){return L((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(D(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(100),fs(()=>this._canAutoResize&&!!this._pdf),fn(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return n.CSS_UNITS=96/72,n.BORDER_WIDTH=9,n.\u0275fac=function(t){return new(t||n)(xe(ei),xe(Rn))},n.\u0275cmp=An({type:n,selectors:[["pdf-viewer"]],viewQuery:function(t,r){if(1&t&&dP(Qq,5),2&t){let i;tv(i=function nv(){return function Q6(n,e){return n[rs].queries[e].queryList}(ke(),eT())}())&&(r.pdfViewerContainer=i.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[ci],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,r){1&t&&(Te(0,"div",0,1),Mn(2,"div",2),De())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),n})(),Jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ni({type:n}),n.\u0275inj=wi({}),n})();function ft(...n){return xn(n,Yc(n))}class Wi extends d{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ep=Z(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function hR(...n){const e=Yc(n),t=bI(n),{args:r,keys:i}=rk(n);if(0===r.length)return xn([],e);const s=new R(function Zq(n,e,t=te){return r=>{fR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)fR(e,()=>{const c=xn(n[l],e);let u=!1;c.subscribe(D(r,h=>{s[l]=h,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>ik(i,o):te));return t?s.pipe(Yv(t)):s}function fR(n,e,t){n?xs(t,n,e):e()}function Ap(...n){return function eW(){return nl(1)}()(xn(n,Yc(n)))}function pR(n){return new R(e=>{Ln(n()).subscribe(e)})}function Xu(n,e){const t=p(n)?n:()=>n,r=i=>i.error(t());return new R(e?i=>e.schedule(r,0,i):r)}function v0(){return L((n,e)=>{let t=null;n._refCount++;const r=D(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class gR extends R{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,S(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new J;const t=this.getSubject();e.add(this.source.subscribe(D(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=J.EMPTY)}return e}refCount(){return v0()(this)}}function ps(n,e){return L((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(D(r,l=>{i?.unsubscribe();let c=0;const u=s++;Ln(n(l,u)).subscribe(i=D(r,h=>r.next(e?e(l,h,u,c++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Io(n){return n<=0?()=>es:L((e,t)=>{let r=0;e.subscribe(D(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Sp(n){return L((e,t)=>{let r=!1;e.subscribe(D(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function mR(n=nW){return L((e,t)=>{let r=!1;e.subscribe(D(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function nW(){return new Ep}function To(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fs((i,s)=>n(i,s,r)):te,Io(1),t?Sp(e):mR(()=>new Ep))}function wa(n,e){return p(e)?Jn(n,e,1):Jn(n,1)}function kr(n,e,t){const r=p(n)||e||t?{next:n,error:e,complete:t}:n;return r?L((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(D(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):te}function Do(n){return L((e,t)=>{let s,r=null,i=!1;r=e.subscribe(D(t,void 0,void 0,o=>{s=Ln(n(o,Do(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function _R(n,e){return L(function rW(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(D(o,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function w0(n){return n<=0?()=>es:L((e,t)=>{let r=[];e.subscribe(D(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function yR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fs((i,s)=>n(i,s,r)):te,w0(1),t?Sp(e):mR(()=>new Ep))}function vR(n){return Y(()=>n)}function b0(n){return L((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const It="primary",Ju=Symbol("RouteTitle");class sW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wl(n){return new sW(n)}function oW(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function gs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!wR(n[i],e[i]))return!1;return!0}function wR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function bR(n){return Array.prototype.concat.apply([],n)}function CR(n){return n.length>0?n[n.length-1]:null}function vr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xo(n){return My(n)?n:Tu(n)?xn(Promise.resolve(n)):ft(n)}const Ip=!1,lW={exact:function SR(n,e,t){if(!ba(n.segments,e.segments)||!Tp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!SR(n.children[r],e.children[r],t))return!1;return!0},subset:IR},ER={exact:function cW(n,e){return gs(n,e)},subset:function uW(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wR(n[t],e[t]))},ignored:()=>!0};function AR(n,e,t){return lW[t.paths](n.root,e.root,t.matrixParams)&&ER[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function IR(n,e,t){return TR(n,e,e.segments,t)}function TR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ba(i,t)||e.hasChildren()||!Tp(i,t,r))}if(n.segments.length===t.length){if(!ba(n.segments,t)||!Tp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!IR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ba(n.segments,i)&&Tp(n.segments,i,r)&&n.children[It])&&TR(n.children[It],e,s,r)}}function Tp(n,e,t){return e.every((r,i)=>ER[t](n[i].parameters,r.parameters))}class Po{constructor(e=new Ot([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wl(this.queryParams)),this._queryParamMap}toString(){return fW.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dp(this)}}class Zu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wl(this.parameters)),this._parameterMap}toString(){return PR(this)}}function ba(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ed=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:function(){return new C0},providedIn:"root"}),n})();class C0{parse(e){const t=new CW(e);return new Po(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${td(e.root,!0)}`,r=function mW(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${xp(t)}=${xp(i)}`).join("&"):`${xp(t)}=${xp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function pW(n){return encodeURI(n)}(e.fragment)}`:""}`}}const fW=new C0;function Dp(n){return n.segments.map(e=>PR(e)).join("/")}function td(n,e){if(!n.hasChildren())return Dp(n);if(e){const t=n.children[It]?td(n.children[It],!1):"",r=[];return vr(n.children,(i,s)=>{s!==It&&r.push(`${s}:${td(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function hW(n,e){let t=[];return vr(n.children,(r,i)=>{i===It&&(t=t.concat(e(r,i)))}),vr(n.children,(r,i)=>{i!==It&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===It?[td(n.children[It],!1)]:[`${i}:${td(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[It]?`${Dp(n)}/${t[0]}`:`${Dp(n)}/(${t.join("//")})`}}function DR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xp(n){return DR(n).replace(/%3B/gi,";")}function E0(n){return DR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pp(n){return decodeURIComponent(n)}function xR(n){return Pp(n.replace(/\+/g,"%20"))}function PR(n){return`${E0(n.path)}${function gW(n){return Object.keys(n).map(e=>`;${E0(e)}=${E0(n[e])}`).join("")}(n.parameters)}`}const _W=/^[^\/()?;=#]+/;function Mp(n){const e=n.match(_W);return e?e[0]:""}const yW=/^[^=?&#]+/,wW=/^[^&#]+/;class CW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[It]=new Ot(e,t)),r}parseSegment(){const e=Mp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ue(4009,Ip);return this.capture(e),new Zu(Pp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Mp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Mp(this.remaining);i&&(r=i,this.capture(r))}e[Pp(t)]=Pp(r)}parseQueryParam(e){const t=function vW(n){const e=n.match(yW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function bW(n){const e=n.match(wW);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=xR(t),s=xR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Mp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ue(4010,Ip);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=It);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[It]:new Ot([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ue(4011,Ip)}}function A0(n){return n.segments.length>0?new Ot([],{[It]:n}):n}function kp(n){const e={};for(const r of Object.keys(n.children)){const s=kp(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function EW(n){if(1===n.numberOfChildren&&n.children[It]){const e=n.children[It];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}function Ca(n){return n instanceof Po}const S0=!1;function AW(n,e,t,r,i){if(0===t.length)return Kl(e.root,e.root,e.root,r,i);const s=function NR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new OR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return vr(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new OR(t,e,r)}(t);return s.toRoot()?Kl(e.root,e.root,new Ot([],{}),r,i):function o(l){const c=function IW(n,e,t,r){if(n.isAbsolute)return new Ql(e.root,!0,0);if(-1===r)return new Ql(t,t===e.root,0);return function FR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ue(4005,S0&&"Invalid number of '../'");i=r.segments.length}return new Ql(r,!1,i-s)}(t,r+(nd(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?Yl(c.segmentGroup,c.index,s.commands):I0(c.segmentGroup,c.index,s.commands);return Kl(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function nd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rd(n){return"object"==typeof n&&null!=n&&n.outlets}function Kl(n,e,t,r,i){let o,s={};r&&vr(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:RR(n,e,t);const a=A0(kp(o));return new Po(a,s,i)}function RR(n,e,t){const r={};return vr(n.children,(i,s)=>{r[s]=i===e?t:RR(i,e,t)}),new Ot(n.segments,r)}class OR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nd(r[0]))throw new Ue(4003,S0&&"Root segment cannot have matrix parameters");const i=r.find(rd);if(i&&i!==CR(r))throw new Ue(4004,S0&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ql{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function I0(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return Yl(n,e,t);const r=function DW(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(rd(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!VR(l,c,o))return s;r+=2}else{if(!VR(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ot(n.segments.slice(0,r.pathIndex),{});return s.children[It]=new Ot(n.segments.slice(r.pathIndex),n.children),Yl(s,0,i)}return r.match&&0===i.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?T0(n,e,t):r.match?Yl(n,0,i):T0(n,e,t)}function Yl(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const r=function TW(n){return rd(n[0])?n[0].outlets:{[It]:n}}(t),i={};if(!r[It]&&n.children[It]&&1===n.numberOfChildren&&0===n.children[It].segments.length){const s=Yl(n.children[It],e,t);return new Ot(n.segments,s.children)}return vr(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=I0(n.children[o],e,s))}),vr(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ot(n.segments,i)}}function T0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(rd(s)){const l=xW(s.outlets);return new Ot(r,l)}if(0===i&&nd(t[0])){r.push(new Zu(n.segments[e].path,LR(t[0]))),i++;continue}const o=rd(s)?s.outlets[It]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&nd(a)?(r.push(new Zu(o,LR(a))),i+=2):(r.push(new Zu(o,{})),i++)}return new Ot(r,{})}function xW(n){const e={};return vr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=T0(new Ot([],{}),0,t))}),e}function LR(n){const e={};return vr(n,(t,r)=>e[r]=`${t}`),e}function VR(n,e,t){return n==t.path&&gs(e,t.parameters)}const id="imperative";class ms{constructor(e,t){this.id=e,this.url=t}}class D0 extends ms{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mo extends ms{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rp extends ms{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Op extends ms{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class x0 extends ms{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class PW extends ms{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MW extends ms{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kW extends ms{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class RW extends ms{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OW extends ms{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class FW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class LW{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P0{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let $W=(()=>{class n{createUrlTree(t,r,i,s,o,a){return AW(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})(),zW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:function(e){return $W.\u0275fac(e)},providedIn:"root"}),n})();class UR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=M0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=M0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=k0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return k0(e,this._root).map(t=>t.value)}}function M0(n,e){if(n===e.value)return e;for(const t of e.children){const r=M0(n,t);if(r)return r}return null}function k0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=k0(n,t);if(r.length)return r.unshift(e),r}return[]}class Ks{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class BR extends UR{constructor(e,t){super(e),this.snapshot=t,R0(this,e)}toString(){return this.snapshot.toString()}}function jR(n,e){const t=function qW(n,e){const o=new Np([],{},{},"",{},It,e,null,n.root,-1,{});return new $R("",new Ks(o,[]))}(n,e),r=new Wi([new Zu("",{})]),i=new Wi({}),s=new Wi({}),o=new Wi({}),a=new Wi(""),l=new Qs(r,i,o,a,s,It,e,t.root);return l.snapshot=t.root,new BR(new Ks(l,[]),t)}class Qs{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Y(c=>c[Ju]))??ft(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Y(e=>Wl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Y(e=>Wl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function WW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Np{get title(){return this.data?.[Ju]}constructor(e,t,r,i,s,o,a,l,c,u,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $R extends UR{constructor(e,t){super(t),this.url=e,R0(this,t)}toString(){return HR(this._root)}}function R0(n,e){e.value._routerState=n,e.children.forEach(t=>R0(n,t))}function HR(n){const e=n.children.length>0?` { ${n.children.map(HR).join(", ")} } `:"";return`${n.value}${e}`}function O0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),gs(e.params,t.params)||n.params.next(t.params),function aW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),gs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function N0(n,e){const t=gs(n.params,e.params)&&function dW(n,e){return ba(n,e)&&n.every((t,r)=>gs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||N0(n.parent,e.parent))}function sd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function QW(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sd(n,r,i);return sd(n,r)})}(n,e,t);return new Ks(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sd(n,a)),o}}const r=function YW(n){return new Qs(new Wi(n.url),new Wi(n.params),new Wi(n.queryParams),new Wi(n.fragment),new Wi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>sd(n,s));return new Ks(r,i)}}const F0="ngNavigationCancelingError";function zR(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ca(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qR(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function qR(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[F0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function WR(n){return KR(n)&&Ca(n.url)}function KR(n){return n&&n[F0]}class XW{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new od,this.attachRef=null}}let od=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new XW,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fp=!1;let L0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new Wt,this.deactivateEvents=new Wt,this.attachEvents=new Wt,this.detachEvents=new Wt,this.parentContexts=Lt(od),this.location=Lt(Gi),this.changeDetector=Lt(qf),this.environmentInjector=Lt(Ls)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ue(4012,Fp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ue(4012,Fp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ue(4012,Fp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ue(4013,Fp);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new JW(t,a,i.injector);if(r&&function ZW(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=vt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ci]}),n})();class JW{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Qs?this.route:e===od?this.childContexts:this.parent.get(e,t)}}let V0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=An({type:n,selectors:[["ng-component"]],standalone:!0,features:[K1],decls:1,vars:0,template:function(t,r){1&t&&Mn(0,"router-outlet")},dependencies:[L0],encapsulation:2}),n})();function QR(n,e){return n.providers&&!n._injector&&(n._injector=Lf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function B0(n){const e=n.children&&n.children.map(B0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==It&&(t.component=V0),t}function Di(n){return n.outlet||It}function YR(n,e){const t=n.filter(r=>Di(r)===e);return t.push(...n.filter(r=>Di(r)!==e)),t}function ad(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class i7{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),O0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Xl(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),vr(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Xl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Xl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Xl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new BW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new VW(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(O0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),O0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ad(i.snapshot),l=a?.get(bu)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class XR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Lp{constructor(e,t){this.component=e,this.route=t}}function s7(n,e,t){const r=n._root;return ld(r,e?e._root:null,t,[r.value])}function Jl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function HB(n){return null!==Fh(n)}(n)?e.get(n):n:r}function ld(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Xl(e);return n.children.forEach(o=>{(function a7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function l7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ba(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ba(n.url,e.url)||!gs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!N0(n,e)||!gs(n.queryParams,e.queryParams);default:return!N0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new XR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ld(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Lp(a.outlet.component,o))}else o&&cd(e,a,i),i.canActivateChecks.push(new XR(r)),ld(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),vr(s,(o,a)=>cd(o,t.getContext(a),i)),i}function cd(n,e,t){const r=Xl(n),i=n.value;vr(r,(s,o)=>{cd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Lp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ud(n){return"function"==typeof n}function j0(n){return n instanceof Ep||"EmptyError"===n?.name}const Vp=Symbol("INITIAL_VALUE");function Zl(){return ps(n=>hR(n.map(e=>e.pipe(Io(1),function tW(...n){const e=Yc(n);return L((t,r)=>{(e?Ap(n,t,e):Ap(n,t)).subscribe(r)})}(Vp)))).pipe(Y(e=>{for(const t of e)if(!0!==t){if(t===Vp)return Vp;if(!1===t||t instanceof Po)return t}return!0}),fs(e=>e!==Vp),Io(1)))}function JR(n){return function ce(...n){return ge(n)}(kr(e=>{if(Ca(e))throw zR(0,e)}),Y(e=>!0===e))}const G0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZR(n,e,t,r,i){const s=$0(n,e,t);return s.matched?function S7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ft(i.map(o=>{const a=Jl(o,n);return xo(function p7(n){return n&&ud(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Zl(),JR()):ft(!0)}(r=QR(e,r),e,t).pipe(Y(o=>!0===o?s:{...G0})):ft(s)}function $0(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...G0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||oW)(t,n,e);if(!i)return{...G0};const s={};vr(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Up(n,e,t,r){if(t.length>0&&function D7(n,e,t){return t.some(r=>Bp(n,e,r)&&Di(r)!==It)}(n,t,r)){const s=new Ot(e,function T7(n,e,t,r){const i={};i[It]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Di(s)!==It){const o=new Ot([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Di(s)]=o}return i}(n,e,r,new Ot(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function x7(n,e,t){return t.some(r=>Bp(n,e,r))}(n,t,r)){const s=new Ot(n.segments,function I7(n,e,t,r,i){const s={};for(const o of r)if(Bp(n,t,o)&&!i[Di(o)]){const a=new Ot([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Di(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new Ot(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Bp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function eO(n,e,t,r){return!!(Di(n)===r||r!==It&&Bp(e,t,n))&&("**"===n.path||$0(e,n,t).matched)}function tO(n,e,t){return 0===e.length&&!n.children[t]}const jp=!1;class Gp{constructor(e){this.segmentGroup=e||null}}class nO{constructor(e){this.urlTree=e}}function dd(n){return Xu(new Gp(n))}function rO(n){return Xu(new nO(n))}class R7{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Up(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,It).pipe(Y(s=>this.createUrlTree(kp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Do(s=>{if(s instanceof nO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Gp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,It).pipe(Y(i=>this.createUrlTree(kp(i),e.queryParams,e.fragment))).pipe(Do(i=>{throw i instanceof Gp?this.noMatchError(i):i}))}noMatchError(e){return new Ue(4002,jp)}createUrlTree(e,t,r){const i=A0(e);return new Po(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Y(s=>new Ot([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return xn(i).pipe(wa(s=>{const o=r.children[s],a=YR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Y(l=>({segment:l,outlet:s})))}),_R((s,o)=>(s[o.outlet]=o.segment,s),{}),yR())}expandSegment(e,t,r,i,s,o){return xn(r).pipe(wa(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Do(c=>{if(c instanceof Gp)return ft(null);throw c}))),To(a=>!!a),Do((a,l)=>{if(j0(a))return tO(t,i,s)?ft(new Ot([],{})):dd(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return eO(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):dd(t):dd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rO(s):this.lineralizeSegments(r,s).pipe(Jn(o=>{const a=new Ot(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=$0(t,i,s);if(!a)return dd(t);const h=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?rO(h):this.lineralizeSegments(i,h).pipe(Jn(b=>this.expandSegment(e,t,r,b.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=QR(r,e),r.loadChildren?(r._loadedRoutes?ft({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Y(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Ot(i,{})))):ft(new Ot(i,{}))):ZR(t,r,i,e).pipe(ps(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Jn(u=>{const h=u.injector??e,b=u.routes,{segmentGroup:M,slicedSegments:q}=Up(t,a,l,b),ae=new Ot(M.segments,M.children);if(0===q.length&&ae.hasChildren())return this.expandChildren(h,b,ae).pipe(Y(we=>new Ot(a,we)));if(0===b.length&&0===q.length)return ft(new Ot(a,{}));const he=Di(r)===s;return this.expandSegment(h,ae,b,q,he?It:s,!0).pipe(Y(Me=>new Ot(a.concat(Me.segments),Me.children)))})):dd(t)))}getChildConfig(e,t,r){return t.children?ft({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ft({routes:t._loadedRoutes,injector:t._loadedInjector}):function A7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ft(!0):ft(i.map(o=>{const a=Jl(o,n);return xo(function u7(n){return n&&ud(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Zl(),JR())}(e,t,r).pipe(Jn(i=>i?this.configLoader.loadChildren(e,t).pipe(kr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function M7(n){return Xu(qR(jp,3))}())):ft({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ft(r);if(i.numberOfChildren>1||!i.children[It])return e.redirectTo,Xu(new Ue(4e3,jp));i=i.children[It]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Po(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return vr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return vr(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Ot(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Ue(4001,jp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class N7{}class V7{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Up(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,It).pipe(Y(t=>{if(null===t)return null;const r=new Np([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ks(r,t),s=new $R(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=GR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return xn(Object.keys(r.children)).pipe(wa(i=>{const s=r.children[i],o=YR(t,i);return this.processSegmentGroup(e,o,s,i)}),_R((i,s)=>i&&s?(i.push(...s),i):null),function iW(n,e=!1){return L((t,r)=>{let i=0;t.subscribe(D(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Sp(null),yR(),Y(i=>{if(null===i)return null;const s=sO(i);return function U7(n){n.sort((e,t)=>e.value.outlet===It?-1:t.value.outlet===It?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return xn(t).pipe(wa(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),To(o=>!!o),Do(o=>{if(j0(o))return tO(r,i,s)?ft([]):ft(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!eO(t,r,i,s))return ft(null);let o;if("**"===t.path){const a=i.length>0?CR(i).parameters:{},l=aO(r)+i.length;o=ft({snapshot:new Np(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lO(t),Di(t),t.component??t._loadedComponent??null,t,oO(r),l,cO(t)),consumedSegments:[],remainingSegments:[]})}else o=ZR(r,t,i,e).pipe(Y(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const h=aO(r)+l.length;return{snapshot:new Np(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lO(t),Di(t),t.component??t._loadedComponent??null,t,oO(r),h,cO(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(ps(a=>{if(null===a)return ft(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const h=t._loadedInjector??e,b=function B7(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:q}=Up(r,c,u,b.filter(he=>void 0===he.redirectTo));if(0===q.length&&M.hasChildren())return this.processChildren(h,b,M).pipe(Y(he=>null===he?null:[new Ks(l,he)]));if(0===b.length&&0===q.length)return ft([new Ks(l,[])]);const ae=Di(t)===s;return this.processSegment(h,b,M,q,ae?It:s).pipe(Y(he=>null===he?null:[new Ks(l,he)]))}))}}function j7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function sO(n){const e=[],t=new Set;for(const r of n){if(!j7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=sO(r.children);e.push(new Ks(r.value,i))}return e.filter(r=>!t.has(r))}function oO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function aO(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function lO(n){return n.data||{}}function cO(n){return n.resolve||{}}function uO(n){return"string"==typeof n.title||null===n.title}function H0(n){return ps(e=>{const t=n(e);return t?xn(t).pipe(Y(()=>e)):ft(e)})}const ec=new ot("ROUTES");let z0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Lt(FP)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ft(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=xo(t.loadComponent()).pipe(Y(hO),kr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),b0(()=>{this.componentLoaders.delete(t)})),i=new gR(r,()=>new d).pipe(v0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ft({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Y(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=bR(l.get(ec,[],mt.Self|mt.Optional)));return{routes:c.map(B0),injector:l}}),b0(()=>{this.childrenLoaders.delete(r)})),o=new gR(s,()=>new d).pipe(v0());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return xo(t()).pipe(Y(hO),Jn(r=>r instanceof q1||Array.isArray(r)?ft(r):xn(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hO(n){return function Q7(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new d,this.configLoader=Lt(z0),this.environmentInjector=Lt(Ls),this.urlSerializer=Lt(ed),this.rootContexts=Lt(od),this.navigationId=0,this.afterPreactivation=()=>ft(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new FW(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new NW(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Wi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:id,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fs(r=>0!==r.id),Y(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ps(r=>{let i=!1,s=!1;return ft(r).pipe(kr(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ps(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new Op(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),es}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return fO(o.source)&&(t.browserUrlTree=o.extractedUrl),ft(o).pipe(ps(u=>{const h=this.transitions?.getValue();return this.events.next(new D0(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions?.getValue()?es:Promise.resolve(u)}),function O7(n,e,t,r){return ps(i=>function k7(n,e,t,r,i){return new R7(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Y(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),kr(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function $7(n,e,t,r,i){return Jn(s=>function L7(n,e,t,r,i,s,o="emptyOnly"){return new V7(n,e,t,r,i,o,s).recognize().pipe(ps(a=>null===a?function F7(n){return new R(e=>e.error(n))}(new N7):ft(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(Y(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),kr(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const b=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(b,u)}t.browserUrlTree=u.urlAfterRedirects}const h=new PW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:h,source:b,restoredState:M,extras:q}=o,ae=new D0(u,this.urlSerializer.serialize(h),b,M);this.events.next(ae);const he=jR(h,this.rootComponentType).snapshot;return ft(r={...o,targetSnapshot:he,urlAfterRedirects:h,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Op(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),es}}),kr(o=>{const a=new MW(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Y(o=>r={...o,guards:s7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function m7(n,e){return Jn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ft({...t,guardsResult:!0}):function _7(n,e,t,r){return xn(n).pipe(Jn(i=>function E7(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ft(s.map(a=>{const l=ad(e)??i,c=Jl(a,l);return xo(function f7(n){return n&&ud(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(To())})).pipe(Zl()):ft(!0)}(i.component,i.route,t,e,r)),To(i=>!0!==i,!0))}(o,r,i,n).pipe(Jn(a=>a&&function c7(n){return"boolean"==typeof n}(a)?function y7(n,e,t,r){return xn(e).pipe(wa(i=>Ap(function w7(n,e){return null!==n&&e&&e(new LW(n)),ft(!0)}(i.route.parent,r),function v7(n,e){return null!==n&&e&&e(new UW(n)),ft(!0)}(i.route,r),function C7(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function o7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>pR(()=>ft(o.guards.map(l=>{const c=ad(o.node)??t,u=Jl(l,c);return xo(function h7(n){return n&&ud(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(To())})).pipe(Zl())));return ft(s).pipe(Zl())}(n,i.path,t),function b7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ft(!0);const i=r.map(s=>pR(()=>{const o=ad(e)??t,a=Jl(s,o);return xo(function d7(n){return n&&ud(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(To())}));return ft(i).pipe(Zl())}(n,i.route,t))),To(i=>!0!==i,!0))}(r,s,n,e):ft(a)),Y(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),kr(o=>{if(r.guardsResult=o.guardsResult,Ca(o.guardsResult))throw zR(0,o.guardsResult);const a=new kW(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),fs(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),H0(o=>{if(o.guards.canActivateChecks.length)return ft(o).pipe(kr(a=>{const l=new RW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ps(a=>{let l=!1;return ft(a).pipe(function H7(n,e){return Jn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ft(t);let s=0;return xn(i).pipe(wa(o=>function z7(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!uO(i)&&(s[Ju]=i.title),function q7(n,e,t,r){const i=function W7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ft({});const s={};return xn(i).pipe(Jn(o=>function K7(n,e,t,r){const i=ad(e)??r,s=Jl(n,i);return xo(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(To(),kr(a=>{s[o]=a}))),w0(1),vR(s),Do(o=>j0(o)?es:Xu(o)))}(s,n,e,r).pipe(Y(o=>(n._resolvedData=o,n.data=GR(n,t).resolve,i&&uO(i)&&(n.data[Ju]=i.title),null)))}(o.route,r,n,e)),kr(()=>s++),w0(1),Jn(o=>s===i.length?ft(t):es))})}(t.paramsInheritanceStrategy,this.environmentInjector),kr({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),kr(a=>{const l=new OW(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),H0(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(kr(u=>{l.component=u}),Y(()=>{})));for(const u of l.children)c.push(...a(u));return c};return hR(a(o.targetSnapshot.root)).pipe(Sp(),Io(1))}),H0(()=>this.afterPreactivation()),Y(o=>{const a=function KW(n,e,t){const r=sd(n,e._root,t?t._root:void 0);return new BR(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),kr(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>Y(r=>(new i7(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Io(1),kr({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Mo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),b0(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Do(o=>{if(s=!0,KR(o)){WR(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Rp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),WR(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||fO(r.source)};t.scheduleNavigation(l,id,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new x0(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return es}))}))}cancelNavigationTransition(t,r,i){const s=new Rp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fO(n){return n!==id}let pO=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===It);return r}getResolvedTitleForRoute(t){return t.data[Ju]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:function(){return Lt(Y7)},providedIn:"root"}),n})(),Y7=(()=>{class n extends pO{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(lt(ek))},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:function(){return Lt(Z7)},providedIn:"root"}),n})();class J7{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Z7=(()=>{class n extends J7{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=yr(n)))(r||n)}}(),n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zp=new ot("",{providedIn:"root",factory:()=>({})});let tK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:function(){return Lt(nK)},providedIn:"root"}),n})(),nK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rK(n){throw n}function iK(n,e,t){return e.parse("/")}const sK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Lt(_z),this.isNgZoneEnabled=!1,this.options=Lt(zp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||rK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||iK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Lt(tK),this.routeReuseStrategy=Lt(X7),this.urlCreationStrategy=Lt(zW),this.titleStrategy=Lt(pO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=bR(Lt(ec,{optional:!0})??[]),this.navigationTransitions=Lt(Hp),this.urlSerializer=Lt(ed),this.location=Lt(Av),this.isNgZoneEnabled=Lt(Rn)instanceof Rn&&Rn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Po,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jR(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),id,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(B0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ca(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,id,null,r)}navigate(t,r={skipLocationChange:!1}){return function aK(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Ue(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...sK}:!1===r?{...oK}:r,Ca(t))return AR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return AR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,b)=>{a=h,l=b}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ko=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new d;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Mo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Gl(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Gl(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Gl(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function vD(n,e,t){return function m4(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?yD:Z_}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(xe(or),xe(Qs),function rf(n){return function Gj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(lT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(_r(),n)}("tabindex"),xe(Vs),xe(ei),xe(ga))},n.\u0275dir=vt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&ut("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&cs("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[ci]}),n})();class gO{}let uK=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(fs(t=>t instanceof Mo),wa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Lf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return xn(i).pipe(nl())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ft(null);const s=i.pipe(Jn(o=>null===o?ft(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?xn([s,this.loader.loadComponent(r)]).pipe(nl()):s})}}return n.\u0275fac=function(t){return new(t||n)(lt(or),lt(FP),lt(Ls),lt(gO),lt(z0))},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W0=new ot("");let mO=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof D0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof P0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new P0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function YD(){throw new Error("invalid")}()},n.\u0275prov=dt({token:n,factory:n.\u0275fac}),n})();var fi=(()=>((fi=fi||{})[fi.COMPLETE=0]="COMPLETE",fi[fi.FAILED=1]="FAILED",fi[fi.REDIRECTING=2]="REDIRECTING",fi))();const tc=!1;function Ro(n,e){return{\u0275kind:n,\u0275providers:e}}const K0=new ot("",{providedIn:"root",factory:()=>!1});function yO(){const n=Lt(os);return e=>{const t=n.get(Hf);if(e!==t.components[0])return;const r=n.get(or),i=n.get(vO);1===n.get(Q0)&&r.initialNavigation(),n.get(wO,null,mt.Optional)?.setUpPreloading(),n.get(W0,null,mt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const vO=new ot(tc?"bootstrap done indicator":"",{factory:()=>new d}),Q0=new ot(tc?"initial navigation":"",{providedIn:"root",factory:()=>1});function gK(){let n=[];return n=tc?[{provide:mf,multi:!0,useFactory:()=>{const e=Lt(or);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function jW(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ro(1,n)}const wO=new ot(tc?"router preloader":"");function mK(n){return Ro(0,[{provide:wO,useExisting:uK},{provide:gO,useExisting:n}])}const hd=!1,bO=new ot(hd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),_K=[Av,{provide:ed,useClass:C0},or,od,{provide:Qs,useFactory:function _O(n){return n.routerState.root},deps:[or]},z0,hd?{provide:K0,useValue:!0}:[]];function yK(){return new HP("Router",or)}let CO=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_K,hd&&r?.enableTracing?gK().\u0275providers:[],{provide:ec,multi:!0,useValue:t},{provide:bO,useFactory:CK,deps:[[or,new du,new hu]]},{provide:zp,useValue:r||{}},r?.useHash?{provide:ga,useClass:i5}:{provide:ga,useClass:fM},{provide:W0,useFactory:()=>{const n=Lt(MM),e=Lt(Rn),t=Lt(zp),r=Lt(Hp),i=Lt(ed);return t.scrollOffset&&n.setOffset(t.scrollOffset),new mO(i,r,n,e,t)}},r?.preloadingStrategy?mK(r.preloadingStrategy).\u0275providers:[],{provide:HP,multi:!0,useFactory:yK},r?.initialNavigation?EK(r):[],[{provide:EO,useFactory:yO},{provide:$P,multi:!0,useExisting:EO}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ec,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(lt(bO,8))},n.\u0275mod=Ni({type:n}),n.\u0275inj=wi({imports:[V0]}),n})();function CK(n){if(hd&&n)throw new Ue(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function EK(n){return["disabled"===n.initialNavigation?Ro(3,[{provide:jf,multi:!0,useFactory:()=>{const e=Lt(or);return()=>{e.setUpLocationChangeListener()}}},{provide:Q0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ro(2,[{provide:Q0,useValue:0},{provide:jf,multi:!0,deps:[os],useFactory:e=>{const t=e.get(n5,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(or),s=e.get(vO);(function dK(n,e){n.events.pipe(fs(t=>t instanceof Mo||t instanceof Rp||t instanceof x0||t instanceof Op),Y(t=>t instanceof Mo||t instanceof Op?fi.COMPLETE:t instanceof Rp&&(0===t.code||1===t.code)?fi.REDIRECTING:fi.FAILED),fs(t=>t!==fi.REDIRECTING),Io(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Hp).afterPreactivation=()=>(r(!0),s.closed?ft(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const EO=new ot(hd?"Router Initializer":"");function AO(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function se(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){AO(s,r,i,o,a,"next",l)}function a(l){AO(s,r,i,o,a,"throw",l)}o(void 0)})}}const SO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},IO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let b=(15&a)<<2|c>>6,M=63&c;l||(M=64,o||(b=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[b],t[M])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(SO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==h)throw new xK;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qp=function(n){return function(n){const e=SO(n);return IO.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Wp=function(n){try{return IO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Kp=()=>{try{return function kK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Wp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},DO=n=>{var e,t;return null===(t=null===(e=Kp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},xO=()=>{var n;return null===(n=Kp())||void 0===n?void 0:n.config},PO=n=>{var e;return null===(e=Kp())||void 0===e?void 0:e[`_${n}`]};class MO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function ar(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kO(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function RO(){try{return"object"==typeof indexedDB}catch{return!1}}function OO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}class Ki extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ea.prototype.create)}}class Ea{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function HK(n,e){return n.replace(zK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ki(i,`${this.serviceName}: ${o} (${i}).`,r)}}const zK=/\{\$([^}]+)}/g;function fd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(FO(s)&&FO(o)){if(!fd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function FO(n){return null!==n&&"object"==typeof n}function pd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class KK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function QK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=X0),void 0===i.error&&(i.error=X0),void 0===i.complete&&(i.complete=X0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X0(){}const YK=1e3,XK=2,JK=144e5,ZK=.5;function LO(n,e=YK,t=XK){const r=e*Math.pow(t,n),i=Math.round(ZK*r*(Math.random()-.5)*2);return Math.min(JK,r+i)}function zr(n){return n&&n._delegate?n._delegate:n}class Qi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Aa="[DEFAULT]";class tQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new MO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function rQ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return se(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Aa?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class iQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Z0=[];var $t=(()=>{return(n=$t||($t={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",$t;var n})();const VO={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},sQ=$t.INFO,oQ={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},aQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=oQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Yp{constructor(e){this.name=e,this._logLevel=sQ,this._logHandler=aQ,this._userLogHandler=null,Z0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?VO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...e),this._logHandler(this,$t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...e),this._logHandler(this,$t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...e),this._logHandler(this,$t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...e),this._logHandler(this,$t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...e),this._logHandler(this,$t.ERROR,...e)}}const lQ=(n,e)=>e.some(t=>n instanceof t);let UO,BO;const jO=new WeakMap,ew=new WeakMap,GO=new WeakMap,tw=new WeakMap,nw=new WeakMap;let rw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return ew.get(n);if("objectStoreNames"===e)return n.objectStoreNames||GO.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function gQ(n){return"function"==typeof n?function pQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function uQ(){return BO||(BO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(iw(this),e),Oo(jO.get(this))}:function(...e){return Oo(n.apply(iw(this),e))}:function(e,...t){const r=n.call(iw(this),e,...t);return GO.set(r,e.sort?e.sort():[e]),Oo(r)}}(n):(n instanceof IDBTransaction&&function hQ(n){if(ew.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});ew.set(n,e)}(n),lQ(n,function cQ(){return UO||(UO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,rw):n)}function Oo(n){if(n instanceof IDBRequest)return function dQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Oo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&jO.set(t,n)}).catch(()=>{}),nw.set(e,n),e}(n);if(tw.has(n))return tw.get(n);const e=gQ(n);return e!==n&&(tw.set(n,e),nw.set(e,n)),e}const iw=n=>nw.get(n),_Q=["get","getKey","getAll","getAllKeys","count"],yQ=["put","add","delete","clear"],sw=new Map;function $O(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(sw.get(e))return sw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=yQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_Q.includes(t))return;const s=function(){var o=se(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return sw.set(e,s),s}!function fQ(n){rw=n(rw)}(n=>({...n,get:(e,t,r)=>$O(e,t)||n.get(e,t,r),has:(e,t)=>!!$O(e,t)||n.has(e,t)}));class vQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function wQ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const ow="@firebase/app",Sa=new Yp("@firebase/app"),Xp="[DEFAULT]",qQ={[ow]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ia=new Map,Jp=new Map;function WQ(n,e){try{n.container.addComponent(e)}catch(t){Sa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _s(n){const e=n.name;if(Jp.has(e))return Sa.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,n);for(const t of Ia.values())WQ(t,n);return!0}function No(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ys=new Ea("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class QQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}const nc="9.23.0";function zO(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Xp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(t||(t=xO()),!t)throw Ys.create("no-options");const s=Ia.get(i);if(s){if(fd(t,s.options)&&fd(r,s.config))return s;throw Ys.create("duplicate-app",{appName:i})}const o=new iQ(i);for(const l of Jp.values())o.addComponent(l);const a=new QQ(t,r,o);return Ia.set(i,a),a}function aw(n=Xp){const e=Ia.get(n);if(!e&&n===Xp&&xO())return zO();if(!e)throw Ys.create("no-app",{appName:n});return e}function xi(n,e,t){var r;let i=null!==(r=qQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Sa.warn(a.join(" "))}_s(new Qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const YQ="firebase-heartbeat-database",XQ=1,gd="firebase-heartbeat-store";let cw=null;function qO(){return cw||(cw=function mQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Oo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Oo(o.result),l.oldVersion,l.newVersion,Oo(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(YQ,XQ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(gd)}}).catch(n=>{throw Ys.create("idb-open",{originalErrorMessage:n.message})})),cw}function uw(){return(uw=se(function*(n){try{return yield(yield qO()).transaction(gd).objectStore(gd).get(KO(n))}catch(e){if(e instanceof Ki)Sa.warn(e.message);else{const t=Ys.create("idb-get",{originalErrorMessage:e?.message});Sa.warn(t.message)}}})).apply(this,arguments)}function WO(n,e){return dw.apply(this,arguments)}function dw(){return(dw=se(function*(n,e){try{const r=(yield qO()).transaction(gd,"readwrite");yield r.objectStore(gd).put(e,KO(n)),yield r.done}catch(t){if(t instanceof Ki)Sa.warn(t.message);else{const r=Ys.create("idb-set",{originalErrorMessage:t?.message});Sa.warn(r.message)}}})).apply(this,arguments)}function KO(n){return`${n.name}!${n.options.appId}`}class tY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rY(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return se(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=QO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return se(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=QO(),{heartbeatsToSend:r,unsentEntries:i}=function nY(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),YO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=qp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function QO(){return(new Date).toISOString().substring(0,10)}class rY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return se(function*(){return!!RO()&&OO().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return se(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function JQ(n){return uw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return se(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return WO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return se(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return WO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function YO(n){return qp(JSON.stringify({version:2,heartbeats:n})).length}!function iY(n){_s(new Qi("platform-logger",e=>new vQ(e),"PRIVATE")),_s(new Qi("heartbeat",e=>new tY(e),"PRIVATE")),xi(ow,"0.9.13",n),xi(ow,"0.9.13","esm2017"),xi("fire-js","")}(""),xi("firebase","9.23.0","app");const aY=(n,e)=>e.some(t=>n instanceof t);let XO,JO;const ZO=new WeakMap,hw=new WeakMap,eN=new WeakMap,fw=new WeakMap,pw=new WeakMap;let gw={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return hw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||eN.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function pY(n){return"function"==typeof n?function fY(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cY(){return JO||(JO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(mw(this),e),Fo(ZO.get(this))}:function(...e){return Fo(n.apply(mw(this),e))}:function(e,...t){const r=n.call(mw(this),e,...t);return eN.set(r,e.sort?e.sort():[e]),Fo(r)}}(n):(n instanceof IDBTransaction&&function dY(n){if(hw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});hw.set(n,e)}(n),aY(n,function lY(){return XO||(XO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,gw):n)}function Fo(n){if(n instanceof IDBRequest)return function uY(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Fo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&ZO.set(t,n)}).catch(()=>{}),pw.set(e,n),e}(n);if(fw.has(n))return fw.get(n);const e=pY(n);return e!==n&&(fw.set(n,e),pw.set(e,n)),e}const mw=n=>pw.get(n),mY=["get","getKey","getAll","getAllKeys","count"],_Y=["put","add","delete","clear"],_w=new Map;function tN(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(_w.get(e))return _w.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=_Y.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mY.includes(t))return;const s=function(){var o=se(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return _w.set(e,s),s}!function hY(n){gw=n(gw)}(n=>({...n,get:(e,t,r)=>tN(e,t)||n.get(e,t,r),has:(e,t)=>!!tN(e,t)||n.has(e,t)}));const nN="@firebase/installations",yw="0.6.4",rN=1e4,iN=`w:${yw}`,sN="FIS_v2",yY="https://firebaseinstallations.googleapis.com/v1",vY=36e5,Xs=new Ea("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oN(n){return n instanceof Ki&&n.code.includes("request-failed")}function vw({projectId:n}){return`${yY}/projects/${n}/installations`}function aN(n){return{token:n.token,requestStatus:2,expiresIn:EY(n.expiresIn),creationTime:Date.now()}}function ww(n,e){return bw.apply(this,arguments)}function bw(){return(bw=se(function*(n,e){const r=(yield e.json()).error;return Xs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function lN({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Cw(n){return Ew.apply(this,arguments)}function Ew(){return(Ew=se(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function EY(n){return Number(n.replace("s","000"))}function Aw(){return(Aw=se(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=vw(n),i=lN(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:sN,appId:n.appId,sdkVersion:iN})},l=yield Cw(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:aN(c.authToken)}}throw yield ww("Create Installation",l)})).apply(this,arguments)}function uN(n){return new Promise(e=>{setTimeout(e,n)})}const TY=/^[cdef][\w-]{21}$/,Sw="";function DY(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function xY(n){return function IY(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return TY.test(t)?t:Sw}catch{return Sw}}function rc(n){return`${n.appName}!${n.appId}`}const ic=new Map;function dN(n,e){const t=rc(n);hN(t,e),function kY(n,e){const t=function fN(){return!Ta&&"BroadcastChannel"in self&&(Ta=new BroadcastChannel("[Firebase] FID Change"),Ta.onmessage=n=>{hN(n.data.key,n.data.fid)}),Ta}();t&&t.postMessage({key:n,fid:e}),function pN(){0===ic.size&&Ta&&(Ta.close(),Ta=null)}()}(t,e)}function hN(n,e){const t=ic.get(n);if(t)for(const r of t)r(e)}let Ta=null;const RY="firebase-installations-database",OY=1,Da="firebase-installations-store";let Iw=null;function Tw(){return Iw||(Iw=function gY(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Fo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fo(o.result),l.oldVersion,l.newVersion,Fo(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(RY,OY,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Da)}})),Iw}function Zp(n,e){return Dw.apply(this,arguments)}function Dw(){return(Dw=se(function*(n,e){const t=rc(n),i=(yield Tw()).transaction(Da,"readwrite"),s=i.objectStore(Da),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&dN(n,e.fid),e})).apply(this,arguments)}function xw(n){return Pw.apply(this,arguments)}function Pw(){return(Pw=se(function*(n){const e=rc(n),r=(yield Tw()).transaction(Da,"readwrite");yield r.objectStore(Da).delete(e),yield r.done})).apply(this,arguments)}function md(n,e){return Mw.apply(this,arguments)}function Mw(){return(Mw=se(function*(n,e){const t=rc(n),i=(yield Tw()).transaction(Da,"readwrite"),s=i.objectStore(Da),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&dN(n,a.fid),a})).apply(this,arguments)}function kw(n){return Rw.apply(this,arguments)}function Rw(){return Rw=se(function*(n){let e;const t=yield md(n.appConfig,r=>{const i=function NY(n){return mN(n||{fid:DY(),registrationStatus:0})}(r),s=function FY(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Xs.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function LY(n,e){return Ow.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:VY(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===Sw?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),Rw.apply(this,arguments)}function Ow(){return Ow=se(function*(n,e){try{const t=yield function SY(n,e){return Aw.apply(this,arguments)}(n,e);return Zp(n.appConfig,t)}catch(t){throw oN(t)&&409===t.customData.serverCode?yield xw(n.appConfig):yield Zp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),Ow.apply(this,arguments)}function VY(n){return Nw.apply(this,arguments)}function Nw(){return(Nw=se(function*(n){let e=yield gN(n.appConfig);for(;1===e.registrationStatus;)yield uN(100),e=yield gN(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield kw(n);return r||t}return e})).apply(this,arguments)}function gN(n){return md(n,e=>{if(!e)throw Xs.create("installation-not-found");return mN(e)})}function mN(n){return function UY(n){return 1===n.registrationStatus&&n.registrationTime+rN<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Fw(){return(Fw=se(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function jY(n,{fid:e}){return`${vw(n)}/${e}/authTokens:generate`}(n,t),i=function cN(n,{refreshToken:e}){const t=lN(n);return t.append("Authorization",function AY(n){return`${sN} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:iN,appId:n.appId}})},l=yield Cw(()=>fetch(r,a));if(l.ok)return aN(yield l.json());throw yield ww("Generate Auth Token",l)})).apply(this,arguments)}function Lw(n){return Vw.apply(this,arguments)}function Vw(){return Vw=se(function*(n,e=!1){let t;const r=yield md(n.appConfig,s=>{if(!yN(s))throw Xs.create("not-registered");const o=s.authToken;if(!e&&function HY(n){return 2===n.requestStatus&&!function zY(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+vY}(n)}(o))return s;if(1===o.requestStatus)return t=function GY(n,e){return Uw.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw Xs.create("app-offline");const a=function qY(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function $Y(n,e){return Bw.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),Vw.apply(this,arguments)}function Uw(){return(Uw=se(function*(n,e){let t=yield _N(n.appConfig);for(;1===t.authToken.requestStatus;)yield uN(100),t=yield _N(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Lw(n,e):r})).apply(this,arguments)}function _N(n){return md(n,e=>{if(!yN(e))throw Xs.create("not-registered");return function WY(n){return 1===n.requestStatus&&n.requestTime+rN<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Bw(){return Bw=se(function*(n,e){try{const t=yield function BY(n,e){return Fw.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Zp(n.appConfig,r),t}catch(t){if(!oN(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Zp(n.appConfig,r)}else yield xw(n.appConfig);throw t}}),Bw.apply(this,arguments)}function yN(n){return void 0!==n&&2===n.registrationStatus}function jw(){return(jw=se(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield kw(e);return r?r.catch(console.error):Lw(e).catch(console.error),t.fid})).apply(this,arguments)}function Gw(){return Gw=se(function*(n,e=!1){const t=n;return yield function YY(n){return $w.apply(this,arguments)}(t),(yield Lw(t,e)).token}),Gw.apply(this,arguments)}function $w(){return($w=se(function*(n){const{registrationPromise:e}=yield kw(n);e&&(yield e)})).apply(this,arguments)}function qw(n){return Xs.create("missing-app-config-values",{valueName:n})}const vN="installations",tX=n=>{const e=n.getProvider("app").getImmediate(),t=function ZY(n){if(!n||!n.options)throw qw("App Configuration");if(!n.name)throw qw("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw qw(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:No(e,"heartbeat"),_delete:()=>Promise.resolve()}},nX=n=>{const t=No(n.getProvider("app").getImmediate(),vN).getImmediate();return{getId:()=>function KY(n){return jw.apply(this,arguments)}(t),getToken:i=>function QY(n){return Gw.apply(this,arguments)}(t,i)}};(function rX(){_s(new Qi(vN,tX,"PUBLIC")),_s(new Qi("installations-internal",nX,"PRIVATE"))})(),xi(nN,yw),xi(nN,yw,"esm2017");const eg="analytics",iX="firebase_id",sX="origin",oX=6e4,aX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ww="https://www.googletagmanager.com/gtag/js",lr=new Yp("@firebase/analytics"),qr=new Ea("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cX(n){if(!n.startsWith(Ww)){const e=qr.create("invalid-gtag-resource",{gtagURL:n});return lr.warn(e.message),""}return n}function wN(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Kw(){return(Kw=se(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield wN(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){lr.error(a)}n("config",i,s)})).apply(this,arguments)}function Qw(){return(Qw=se(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield wN(t);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){lr.error(s)}})).apply(this,arguments)}const yX=30,bN=new class wX{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function bX(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Yw(){return(Yw=se(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:bX(r)},s=aX.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw qr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Xw(){return(Xw=se(function*(n,e=bN,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw qr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw qr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new IX;return setTimeout(se(function*(){a.abort()}),void 0!==t?t:oX),CN({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function CN(n,e,t){return Jw.apply(this,arguments)}function Jw(){return Jw=se(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=bN){var s;const{appId:o,measurementId:a}=n;try{yield function AX(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function CX(n){return Yw.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!function SX(n){if(!(n instanceof Ki&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?LO(t,i.intervalMillis,yX):LO(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,h),lr.debug(`Calling attemptFetch again in ${u} millis`),CN(n,h,r,i)}}),Jw.apply(this,arguments)}class IX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Zw,ob;function eb(){return(eb=se(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function ab(){return(ab=se(function*(){if(!RO())return lr.warn(qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield OO()}catch(n){return lr.warn(qr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function lb(){return lb=se(function*(n,e,t,r,i,s,o){var a;const l=function EX(n){return Xw.apply(this,arguments)}(n);l.then(M=>{t[M.measurementId]=M.appId,n.options.measurementId&&M.measurementId!==n.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>lr.error(M)),e.push(l);const c=function RX(){return ab.apply(this,arguments)}().then(M=>{if(M)return r.getId()}),[u,h]=yield Promise.all([l,c]);(function _X(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Ww)&&t.src.includes(n))return t;return null})(s)||function dX(n,e){const t=function uX(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:cX}),r=document.createElement("script"),i=`${Ww}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),ob&&(i("consent","default",ob),function EN(n){ob=n}(void 0)),i("js",new Date);const b=null!==(a=o?.config)&&void 0!==a?a:{};return b[sX]="firebase",b.update=!0,null!=h&&(b[iX]=h),i("config",u.measurementId,b),Zw&&(i("set",Zw),function AN(n){Zw=n}(void 0)),u.measurementId}),lb.apply(this,arguments)}class NX{constructor(e){this.app=e}_delete(){return delete ys[this.app.options.appId],Promise.resolve()}}let ys={},SN=[];const IN={};let DN,vs,tg="dataLayer",TN="gtag",cb=!1;function LX(n,e,t){!function FX(){const n=[];if(kO()&&n.push("This is a browser extension environment."),function GK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=qr.create("invalid-analytics-context",{errorInfo:e});lr.warn(t.message)}}();const r=n.options.appId;if(!r)throw qr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw qr.create("no-api-key");lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ys[r])throw qr.create("already-exists",{id:r});if(!cb){!function hX(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(tg);const{wrappedGtag:s,gtagCore:o}=function mX(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function gX(n,e,t,r){function s(){return s=se(function*(o,...a){try{if("event"===o){const[l,c]=a;yield function pX(n,e,t,r,i){return Qw.apply(this,arguments)}(n,e,t,l,c)}else if("config"===o){const[l,c]=a;yield function fX(n,e,t,r,i,s){return Kw.apply(this,arguments)}(n,e,t,r,l,c)}else if("consent"===o){const[l]=a;n("consent","update",l)}else if("get"===o){const[l,c,u]=a;n("get",l,c,u)}else if("set"===o){const[l]=a;n("set",l)}else n(o,...a)}catch(l){lr.error(l)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(ys,SN,IN,tg,TN);vs=s,DN=o,cb=!0}return ys[r]=function OX(n,e,t,r,i,s,o){return lb.apply(this,arguments)}(n,SN,IN,e,DN,tg,t),new NX(n)}function xN(n,e,t,r){n=zr(n),function TX(n,e,t,r,i){return eb.apply(this,arguments)}(vs,ys[n.app.options.appId],e,t,r).catch(i=>lr.error(i))}const PN="@firebase/analytics";!function BX(){_s(new Qi(eg,(e,{options:t})=>LX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),_s(new Qi("analytics-internal",function n(e){try{const t=e.getProvider(eg).getImmediate();return{logEvent:(r,i,s)=>xN(t,r,i,s)}}catch(t){throw qr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),xi(PN,"0.10.0"),xi(PN,"0.10.0","esm2017")}();const jX=function kN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},RN=new Ea("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ng=new Yp("@firebase/auth");function rg(n,...e){ng.logLevel<=$t.ERROR&&ng.error(`Auth (${nc}): ${n}`,...e)}function ri(n,...e){throw hb(n,...e)}function pi(n,...e){return hb(n,...e)}function ON(n,e,t){const r=Object.assign(Object.assign({},jX()),{[e]:t});return new Ea("auth","Firebase",r).create(e,{appName:n.name})}function hb(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return RN.create(n,...e)}function Ge(n,e,...t){if(!n)throw hb(e,...t)}function ws(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rg(e),new Error(e)}function Js(n,e){n||ws(e)}function _d(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function NN(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class yd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Js(t>e,"Short delay should be less than long delay!"),this.isMobile=function VK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}()||function BK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function $X(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function fb(){return"http:"===NN()||"https:"===NN()}()||kO()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pb(n,e){Js(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class FN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qX=new yd(3e4,6e4);function Tn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function On(n,e,t,r){return gb.apply(this,arguments)}function gb(){return(gb=se(function*(n,e,t,r,i={}){return LN(n,i,se(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=pd(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),FN.fetch()(VN(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function LN(n,e,t){return mb.apply(this,arguments)}function mb(){return(mb=se(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},zX),e);try{const i=new WX(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw vd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw vd(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw vd(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw vd(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ON(n,u,c);ri(n,u)}}catch(i){if(i instanceof Ki)throw i;ri(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Zs(n,e,t,r){return _b.apply(this,arguments)}function _b(){return(_b=se(function*(n,e,t,r,i={}){const s=yield On(n,e,t,r,i);return"mfaPendingCredential"in s&&ri(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function VN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?pb(n.config,i):`${n.config.apiScheme}://${i}`}class WX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),qX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=pi(n,e,r);return i.customData._tokenResponse=t,i}function yb(){return(yb=se(function*(n,e){return On(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function wb(){return(wb=se(function*(n,e){return On(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function bb(){return(bb=se(function*(n,e=!1){const t=zr(n),r=yield t.getIdToken(e),i=ig(r);Ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wd(Cb(i.auth_time)),issuedAtTime:wd(Cb(i.iat)),expirationTime:wd(Cb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Cb(n){return 1e3*Number(n)}function ig(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return rg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Wp(t);return i?JSON.parse(i):(rg("Failed to decode base64 JWT payload"),null)}catch(i){return rg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eo(n,e){return Eb.apply(this,arguments)}function Eb(){return(Eb=se(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ki&&function ZX({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class eJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(se(function*(){yield t.iteration()}),r)}iteration(){var e=this;return se(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class UN{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wd(this.lastLoginAt),this.creationTime=wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bd(n){return Ab.apply(this,arguments)}function Ab(){return Ab=se(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield eo(n,function YX(n,e){return wb.apply(this,arguments)}(t,{idToken:r}));Ge(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function rJ(n){return n.map(e=>{var{providerId:t}=e,r=Ee(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function nJ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new UN(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}),Ab.apply(this,arguments)}function Sb(){return(Sb=se(function*(n){const e=zr(n);yield bd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ib(){return(Ib=se(function*(n,e){const t=yield LN(n,{},se(function*(){const r=pd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=VN(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",FN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function JX(n){const e=ig(n);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return se(function*(){return Ge(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return se(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function iJ(n,e){return Ib.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Cd;return r&&(Ge("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(Ge("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(Ge("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cd,this.toJSON())}_performRefresh(){return ws("not implemented")}}function Lo(n,e){Ge("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class xa{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ee(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new UN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return se(function*(){const r=yield eo(t,t.stsTokenManager.getToken(t.auth,e));return Ge(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function XX(n){return bb.apply(this,arguments)}(this,e)}reload(){return function tJ(n){return Sb.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return se(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield bd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return se(function*(){const t=yield e.getIdToken();return yield eo(e,function KX(n,e){return yb.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,b=null!==(i=t.email)&&void 0!==i?i:void 0,M=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,q=null!==(o=t.photoURL)&&void 0!==o?o:void 0,ae=null!==(a=t.tenantId)&&void 0!==a?a:void 0,he=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,Se=null!==(c=t.createdAt)&&void 0!==c?c:void 0,Me=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:we,emailVerified:Ke,isAnonymous:at,providerData:pt,stsTokenManager:gr}=t;Ge(we&&gr,e,"internal-error");const fo=Cd.fromJSON(this.name,gr);Ge("string"==typeof we,e,"internal-error"),Lo(h,e.name),Lo(b,e.name),Ge("boolean"==typeof Ke,e,"internal-error"),Ge("boolean"==typeof at,e,"internal-error"),Lo(M,e.name),Lo(q,e.name),Lo(ae,e.name),Lo(he,e.name),Lo(Se,e.name),Lo(Me,e.name);const Kc=new xa({uid:we,auth:e,email:b,emailVerified:Ke,displayName:h,isAnonymous:at,photoURL:q,phoneNumber:M,tenantId:ae,stsTokenManager:fo,createdAt:Se,lastLoginAt:Me});return pt&&Array.isArray(pt)&&(Kc.providerData=pt.map(yoe=>Object.assign({},yoe))),he&&(Kc._redirectEventId=he),Kc}static _fromIdTokenResponse(e,t,r=!1){return se(function*(){const i=new Cd;i.updateFromServerResponse(t);const s=new xa({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bd(s),s})()}}const BN=new Map;function to(n){Js(n instanceof Function,"Expected a class definition");let e=BN.get(n);return e?(Js(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BN.set(n,e),e)}const jN=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return se(function*(){return!0})()}_set(t,r){var i=this;return se(function*(){i.storage[t]=r})()}_get(t){var r=this;return se(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return se(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function sg(n,e,t){return`firebase:${n}:${e}:${t}`}class oc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sg(this.userKey,i.apiKey,s),this.fullPersistenceKey=sg("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return se(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?xa._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return se(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return se(function*(){if(!t.length)return new oc(to(jN),e,r);const i=(yield Promise.all(t.map(function(){var c=se(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||to(jN);const o=sg(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const h=xa._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=se(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new oc(s,e,r)):new oc(s,e,r)})()}}function GN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($N(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WN(e))return"Blackberry";if(KN(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||HN(e))&&!e.includes("edge/"))return"Chrome";if(qN(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function $N(n=ar()){return/firefox\//i.test(n)}function Tb(n=ar()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HN(n=ar()){return/crios\//i.test(n)}function zN(n=ar()){return/iemobile/i.test(n)}function qN(n=ar()){return/android/i.test(n)}function WN(n=ar()){return/blackberry/i.test(n)}function KN(n=ar()){return/webos/i.test(n)}function og(n=ar()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QN(n=ar()){return og(n)||qN(n)||KN(n)||WN(n)||/windows phone/i.test(n)||zN(n)}function YN(n,e=[]){let t;switch(n){case"Browser":t=GN(ar());break;case"Worker":t=`${GN(ar())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nc}/${r}`}function XN(n,e){return xb.apply(this,arguments)}function xb(){return(xb=se(function*(n,e){return On(n,"GET","/v2/recaptchaConfig",Tn(n,e))})).apply(this,arguments)}function ZN(n){return void 0!==n&&void 0!==n.enterprise}class eF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function Pb(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=pi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function cJ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function tF(n){return`__${n}${Math.floor(1e6*Math.random())}`}const hJ="NO_RECAPTCHA";class nF{constructor(e){this.type="recaptcha-enterprise",this.auth=cr(e)}verify(e="verify",t=!1){var r=this;return se(function*(){function s(){return s=se(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=se(function*(c,u){XN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(void 0!==h.recaptchaKey){const b=new eF(h);return null==a.tenantId?a._agentRecaptchaConfig=b:a._tenantRecaptchaConfigs[a.tenantId]=b,c(b.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(h=>{u(h)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;ZN(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(hJ)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&ZN(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));Pb("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}class fJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return se(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class pJ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rF(this),this.idTokenSubscription=new rF(this),this.beforeStateQueue=new fJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=to(t)),this._initializationPromise=this.queue(se(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield oc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return se(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return se(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return Ge(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return se(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return se(function*(){try{yield bd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function HX(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return se(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return se(function*(){const r=e?zr(e):null;return r&&Ge(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return se(function*(){if(!r._deleted)return e&&Ge(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(se(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return se(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(se(function*(){yield t.assertedPersistence.setPersistence(to(e))}))}initializeRecaptchaConfig(){var e=this;return se(function*(){const t=yield XN(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new eF(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new nF(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ea("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return se(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return se(function*(){if(!t.redirectPersistenceManager){const r=e&&to(e)||t._popupRedirectResolver;Ge(r,t,"argument-error"),t.redirectPersistenceManager=yield oc.create(t,[to(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return se(function*(){var r,i;return t._isInitialized&&(yield t.queue(se(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return se(function*(){if(e===t.currentUser)return t.queue(se(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ge(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return se(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return se(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return se(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function GX(n,...e){ng.logLevel<=$t.WARN&&ng.warn(`Auth (${nc}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function cr(n){return zr(n)}class rF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function WK(n,e){const t=new KK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function iF(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function sF(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class oF{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,t){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}function no(n,e){return Wb.apply(this,arguments)}function Wb(){return(Wb=se(function*(n,e){return Zs(n,"POST","/v1/accounts:signInWithIdp",Tn(n,e))})).apply(this,arguments)}class ac extends oF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ac(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Ee(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ac(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return no(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,no(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,no(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pd(t)}return e}}class Uo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uF extends Uo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Jb=(()=>{class n extends uF{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ac._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();class Pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return se(function*(){const s=yield xa._fromIdTokenResponse(e,r,i),o=dF(r);return new Pi({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return se(function*(){yield e._updateTokensIfNecessary(r,!0);const i=dF(r);return new Pi({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function dF(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class dg extends Ki{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new dg(e,t,r,i)}}function hF(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?dg._fromErrorAndOperation(n,s,e,r):s})}function rC(n,e){return iC.apply(this,arguments)}function iC(){return(iC=se(function*(n,e,t=!1){const r=yield eo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Pi._forOperation(n,"link",r)})).apply(this,arguments)}function pF(n,e){return oC.apply(this,arguments)}function oC(){return(oC=se(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield eo(n,hF(r,i,e,n),t);Ge(s.idToken,r,"internal-error");const o=ig(s.idToken);Ge(o,r,"internal-error");const{sub:a}=o;return Ge(n.uid===a,r,"user-mismatch"),Pi._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&ri(r,"user-mismatch"),s}})).apply(this,arguments)}function gF(n,e){return aC.apply(this,arguments)}function aC(){return(aC=se(function*(n,e,t=!1){const r="signIn",i=yield hF(n,r,e),s=yield Pi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const fg="__sak";class _F{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fg,"1"),this.storage.removeItem(fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nZ=(()=>{class n extends _F{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ZJ(){const n=ar();return Tb(n)||og(n)}()&&function aJ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=QN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function oJ(){return function jK(){const n=ar();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return se(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return se(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return se(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),yF=(()=>{class n extends _F{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let iZ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return se(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var h=se(function*(b){return b(i.origin,a)});return function(b){return h.apply(this,arguments)}}()),u=yield function rZ(n){return Promise.all(n.map(function(){var e=se(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function pg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class sZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return se(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=pg("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(b){const M=b;if(M.data.eventId===u)switch(M.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(M.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Qn(){return window}function LC(){return typeof Qn().WorkerGlobalScope<"u"&&"function"==typeof Qn().importScripts}function VC(){return(VC=se(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vF="firebaseLocalStorageDb",uZ=1,gg="firebaseLocalStorage",wF="fbase_key";class Sd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mg(n,e){return n.transaction([gg],e?"readwrite":"readonly").objectStore(gg)}function UC(){const n=indexedDB.open(vF,uZ);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gg,{keyPath:wF})}catch(i){t(i)}}),n.addEventListener("success",se(function*(){const r=n.result;r.objectStoreNames.contains(gg)?e(r):(r.close(),yield function dZ(){const n=indexedDB.deleteDatabase(vF);return new Sd(n).toPromise()}(),e(yield UC()))}))})}function bF(n,e,t){return BC.apply(this,arguments)}function BC(){return(BC=se(function*(n,e,t){const r=mg(n,!0).put({[wF]:e,value:t});return new Sd(r).toPromise()})).apply(this,arguments)}function jC(){return(jC=se(function*(n,e){const t=mg(n,!1).get(e),r=yield new Sd(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function CF(n,e){const t=mg(n,!0).delete(e);return new Sd(t).toPromise()}const gZ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return se(function*(){return t.db||(t.db=yield UC()),t.db})()}_withRetries(t){var r=this;return se(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return se(function*(){return LC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return se(function*(){t.receiver=iZ._getInstance(function cZ(){return LC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=se(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=se(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return se(function*(){var r,i;if(t.activeServiceWorker=yield function aZ(){return VC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new sZ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return se(function*(){if(r.sender&&r.activeServiceWorker&&function lZ(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return se(function*(){try{if(!indexedDB)return!1;const t=yield UC();return yield bF(t,fg,"1"),yield CF(t,fg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return se(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return se(function*(){return i._withPendingWrite(se(function*(){return yield i._withRetries(s=>bF(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return se(function*(){const i=yield r._withRetries(s=>function hZ(n,e){return jC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return se(function*(){return r._withPendingWrite(se(function*(){return yield r._withRetries(i=>CF(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return se(function*(){const r=yield t._withRetries(o=>{const a=mg(o,!1).getAll();return new Sd(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(se(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Ma(n,e){return e?to(e):(Ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}tF("rcb"),new yd(3e4,6e4);class YC extends oF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,t){return no(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function MZ(n){return gF(n.auth,new YC(n),n.bypassAuthState)}function kZ(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),pF(t,new YC(n),n.bypassAuthState)}function RZ(n){return XC.apply(this,arguments)}function XC(){return(XC=se(function*(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),rC(t,new YC(n),n.bypassAuthState)})).apply(this,arguments)}class AF{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=se(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return se(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MZ;case"linkViaPopup":case"linkViaRedirect":return RZ;case"reauthViaPopup":case"reauthViaRedirect":return kZ;default:ri(this.auth,"internal-error")}}resolve(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OZ=new yd(2e3,1e4);function JC(){return(JC=se(function*(n,e,t){const r=cr(n);!function sc(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&ri(n,"argument-error"),ON(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,e,Uo);const i=Ma(r,t);return new tE(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let tE=(()=>{class n extends AF{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return se(function*(){const r=yield t.execute();return Ge(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return se(function*(){Js(1===t.filter.length,"Popup operations only handle one event");const r=pg();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(pi(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,OZ.get())};t()}}return n.currentPopupAction=null,n})();const FZ="pendingRedirect",Id=new Map;class LZ extends AF{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return se(function*(){let r=Id.get(t.auth._key());if(!r){try{const s=(yield function VZ(n,e){return nE.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Id.set(t.auth._key(),r)}return t.bypassAuthState||Id.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return se(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return se(function*(){})()}cleanUp(){}}function nE(){return(nE=se(function*(n,e){const t=function IF(n){return sg(FZ,n.config.apiKey,n.name)}(e),r=function SF(n){return to(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function UZ(n,e){Id.set(n._key(),e)}function TF(n,e){return cE.apply(this,arguments)}function cE(){return(cE=se(function*(n,e,t=!1){const r=cr(n),i=Ma(r,e),o=yield new LZ(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class HZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function zZ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PF(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!PF(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(pi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xF(e))}saveEventToCache(e){this.cachedEventUids.add(xF(e)),this.lastProcessedEventTime=Date.now()}}function xF(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PF({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function dE(){return(dE=se(function*(n,e={}){return On(n,"GET","/v1/projects",e)})).apply(this,arguments)}const WZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KZ=/^https?/;function hE(){return hE=se(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function qZ(n){return dE.apply(this,arguments)}(n);for(const t of e)try{if(YZ(t))return}catch{}ri(n,"unauthorized-domain")}),hE.apply(this,arguments)}function YZ(n){const e=_d(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!KZ.test(t))return!1;if(WZ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const XZ=new yd(3e4,6e4);function MF(){const n=Qn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let yg=null;const eee=new yd(5e3,15e3),tee="__/auth/iframe",nee="emulator/auth/iframe",ree={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function see(n){const e=n.config;Ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pb(e,nee):`https://${n.config.authDomain}/${tee}`,r={apiKey:e.apiKey,appName:n.name,v:nc},i=iee.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${pd(r).slice(1)}`}function fE(){return fE=se(function*(n){const e=yield function ZZ(n){return yg=yg||function JZ(n){return new Promise((e,t)=>{var r,i,s;function o(){MF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MF(),t(pi(n,"network-request-failed"))},timeout:XZ.get()})}if(null!==(i=null===(r=Qn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Qn().gapi)||void 0===s||!s.load){const a=tF("iframefcb");return Qn()[a]=()=>{gapi.load?o():t(pi(n,"network-request-failed"))},Pb(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw yg=null,e})}(n),yg}(n),t=Qn().gapi;return Ge(t,n,"internal-error"),e.open({where:document.body,url:see(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ree,dontclear:!0},r=>new Promise(function(){var i=se(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=pi(n,"network-request-failed"),l=Qn().setTimeout(()=>{o(a)},eee.get());function c(){Qn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),fE.apply(this,arguments)}const aee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lee=500,cee=600,uee="_blank",dee="http://localhost";class kF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pee="__/auth/handler",gee="emulator/auth/handler",mee=encodeURIComponent("fac");function RF(n,e,t,r,i,s){return pE.apply(this,arguments)}function pE(){return(pE=se(function*(n,e,t,r,i,s){Ge(n.config.authDomain,n,"auth-domain-config-required"),Ge(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:nc,eventId:i};if(e instanceof Uo){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function qK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof uF){const u=e.getScopes().filter(h=>""!==h);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${mee}=${encodeURIComponent(l)}`:"";return`${function _ee({config:n}){return n.emulator?pb(n,gee):`https://${n.authDomain}/${pee}`}(n)}?${pd(a).slice(1)}${c}`})).apply(this,arguments)}const gE="webStorageSupport",vee=class yee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yF,this._completeRedirectFn=TF,this._overrideRedirectResult=UZ}_openPopup(e,t,r,i){var s=this;return se(function*(){var o;Js(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield RF(e,t,r,_d(),i);return function hee(n,e,t,r=lee,i=cee){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},aee),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ar().toLowerCase();t&&(a=HN(c)?uee:t),$N(c)&&(e=e||dee,l.scrollbars="yes");const u=Object.entries(l).reduce((b,[M,q])=>`${b}${M}=${q},`,"");if(function sJ(n=ar()){var e;return og(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function fee(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new kF(null);const h=window.open(e||"",a,u);Ge(h,n,"popup-blocked");try{h.focus()}catch{}return new kF(h)}(e,a,pg())})()}_openRedirect(e,t,r,i){var s=this;return se(function*(){return yield s._originValidation(e),function oZ(n){Qn().location.href=n}(yield RF(e,t,r,_d(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Js(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return se(function*(){const r=yield function oee(n){return fE.apply(this,arguments)}(e),i=new HZ(e);return r.register("authEvent",s=>(Ge(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gE,{type:gE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[gE];void 0!==o&&t(!!o),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function QZ(n){return hE.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QN()||Tb()||og()}};var FF="@firebase/auth";class wee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return se(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Aee=PO("authIdTokenMaxAge")||300;let VF=null;const See=n=>function(){var e=se(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Aee)return;const s=r?.token;VF!==s&&(VF=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Iee(n=aw()){const e=No(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function gJ(n,e){const t=No(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(fd(t.getOptions(),e??{}))return i;ri(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:vee,persistence:[gZ,nZ,yF]}),r=PO("authTokenSyncURL");if(r){const s=See(r);(function WJ(n,e,t){zr(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function qJ(n,e,t,r){zr(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=DO("auth");return i&&function _J(n,e,t){const r=cr(n);Ge(r._canInitEmulator,r,"emulator-config-failed"),Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=iF(e),{host:o,port:a}=function yJ(n){const e=iF(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:sF(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:sF(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function vJ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function Cee(n){_s(new Qi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YN(n)},c=new pJ(r,i,s,l);return function mJ(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(to);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_s(new Qi("auth-internal",e=>{const t=cr(e.getProvider("auth").getImmediate());return new wee(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(FF,"0.23.2",function bee(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),xi(FF,"0.23.2","esm2017")}("Browser");var Qe,Tee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yi={},_E=_E||{},bt=Tee||self;function wg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Td(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yE="closure_uid_"+(1e9*Math.random()>>>0),xee=0;function Pee(n,e,t){return n.call.apply(n.bind,arguments)}function Mee(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Rr(n,e,t){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pee:Mee).apply(null,arguments)}function bg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ur(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Bo(){this.s=this.s,this.o=this.o}Bo.prototype.s=!1,Bo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Dee(n){Object.prototype.hasOwnProperty.call(n,yE)&&n[yE]||(n[yE]=++xee)}(this)},Bo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const UF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function vE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function BF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(wg(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Or(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Or.prototype.h=function(){this.defaultPrevented=!0};var Ree=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",()=>{},e),bt.removeEventListener("test",()=>{},e)}catch{}return n}();function Dd(n){return/^[\s\xa0]*$/.test(n)}function Cg(){var n=bt.navigator;return n&&(n=n.userAgent)?n:""}function bs(n){return-1!=Cg().indexOf(n)}function wE(n){return wE[" "](n),n}wE[" "]=function(){};var CE,n,Nee=bs("Opera"),cc=bs("Trident")||bs("MSIE"),jF=bs("Edge"),bE=jF||cc,GF=bs("Gecko")&&!(-1!=Cg().toLowerCase().indexOf("webkit")&&!bs("Edge"))&&!(bs("Trident")||bs("MSIE"))&&!bs("Edge"),Fee=-1!=Cg().toLowerCase().indexOf("webkit")&&!bs("Edge");function $F(){var n=bt.document;return n?n.documentMode:void 0}e:{var EE="",AE=(n=Cg(),GF?/rv:([^\);]+)(\)|;)/.exec(n):jF?/Edge\/([\d\.]+)/.exec(n):cc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Fee?/WebKit\/(\S+)/.exec(n):Nee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(AE&&(EE=AE?AE[1]:""),cc){var SE=$F();if(null!=SE&&SE>parseFloat(EE)){CE=String(SE);break e}}CE=EE}var Lee=bt.document&&cc&&($F()||parseInt(CE,10))||void 0;function xd(n,e){if(Or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(GF){e:{try{wE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Vee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xd.$.h.call(this)}}ur(xd,Or);var Vee={2:"touch",3:"pen",4:"mouse"};xd.prototype.h=function(){xd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Pd="closure_listenable_"+(1e6*Math.random()|0),Uee=0;function Bee(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Uee,this.fa=this.ia=!1}function Eg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function TE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function zF(n){const e={};for(const t in n)e[t]=n[t];return e}const qF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<qF.length;s++)t=qF[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ag(n){this.src=n,this.g={},this.h=0}function DE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=UF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Eg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Ag.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=xE(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Bee(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var PE="closure_lm_"+(1e6*Math.random()|0),ME={};function KF(n,e,t,r,i){if(r&&r.once)return YF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)KF(n,e[s],t,r,i);return null}return t=NE(t),n&&n[Pd]?n.O(e,t,Td(r)?!!r.capture:!!r,i):QF(n,e,t,!1,r,i)}function QF(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Td(i)?!!i.capture:!!i,a=RE(n);if(a||(n[PE]=a=new Ag(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Gee(){const e=$ee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ree||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(JF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function YF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)YF(n,e[s],t,r,i);return null}return t=NE(t),n&&n[Pd]?n.P(e,t,Td(r)?!!r.capture:!!r,i):QF(n,e,t,!0,r,i)}function XF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)XF(n,e[s],t,r,i);else r=Td(r)?!!r.capture:!!r,t=NE(t),n&&n[Pd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xE(s=n.g[e],t,r,i))&&(Eg(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=RE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xE(e,t,r,i)),(t=-1<n?e[n]:null)&&kE(t))}function kE(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Pd])DE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(JF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=RE(e))?(DE(t,n),0==t.h&&(t.src=null,e[PE]=null)):Eg(n)}}}function JF(n){return n in ME?ME[n]:ME[n]="on"+n}function $ee(n,e){if(n.fa)n=!0;else{e=new xd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&kE(n),n=t.call(r,e)}return n}function RE(n){return(n=n[PE])instanceof Ag?n:null}var OE="__closure_events_fn_"+(1e9*Math.random()>>>0);function NE(n){return"function"==typeof n?n:(n[OE]||(n[OE]=function(e){return n.handleEvent(e)}),n[OE])}function dr(){Bo.call(this),this.i=new Ag(this),this.S=this,this.J=null}function wr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Or(e,n);else if(e instanceof Or)e.target=e.target||n;else{var i=e;WF(e=new Or(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Sg(o,r,!0,e)&&i}if(i=Sg(o=e.g=n,r,!0,e)&&i,i=Sg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Sg(o=e.g=t[s],r,!1,e)&&i}function Sg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&DE(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}ur(dr,Bo),dr.prototype[Pd]=!0,dr.prototype.removeEventListener=function(n,e,t,r){XF(this,n,e,t,r)},dr.prototype.N=function(){if(dr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Eg(t[r]);delete n.g[e],n.h--}}this.J=null},dr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},dr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var FE=bt.JSON.stringify;function zee(){var n=LE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ZF=new class Hee{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Wee,n=>n.reset());class Wee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Kee(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Qee(n){bt.setTimeout(()=>{throw n},0)}let Md,kd=!1,LE=new class qee{constructor(){this.h=this.g=null}add(e,t){const r=ZF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},eL=()=>{const n=bt.Promise.resolve(void 0);Md=()=>{n.then(Yee)}};var Yee=()=>{for(var n;n=zee();){try{n.h.call(n.g)}catch(t){Qee(t)}var e=ZF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kd=!1};function Ig(n,e){dr.call(this),this.h=n||1,this.g=e||bt,this.j=Rr(this.qb,this),this.l=Date.now()}function VE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function UE(n,e,t){if("function"==typeof n)t&&(n=Rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function tL(n){n.g=UE(()=>{n.g=null,n.i&&(n.i=!1,tL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ur(Ig,dr),(Qe=Ig.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wr(this,"tick"),this.ga&&(VE(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){Ig.$.N.call(this),VE(this),delete this.g};class Xee extends Bo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tL(this)}N(){super.N(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rd(n){Bo.call(this),this.h=n,this.g={}}ur(Rd,Bo);var nL=[];function rL(n,e,t,r){Array.isArray(t)||(t&&(nL[0]=t.toString()),t=nL);for(var i=0;i<t.length;i++){var s=KF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function iL(n){TE(n.g,function(e,t){this.g.hasOwnProperty(t)&&kE(e)},n),n.g={}}function Tg(){this.g=!0}function uc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tte(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return FE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Rd.prototype.N=function(){Rd.$.N.call(this),iL(this)},Rd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tg.prototype.Ea=function(){this.g=!1},Tg.prototype.info=function(){};var ka={},sL=null;function Dg(){return sL=sL||new dr}function oL(n){Or.call(this,ka.Ta,n)}function Od(n){const e=Dg();wr(e,new oL(e))}function aL(n,e){Or.call(this,ka.STAT_EVENT,n),this.stat=e}function Wr(n){const e=Dg();wr(e,new aL(e,n))}function lL(n,e){Or.call(this,ka.Ua,n),this.size=e}function Nd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}ka.Ta="serverreachability",ur(oL,Or),ka.STAT_EVENT="statevent",ur(aL,Or),ka.Ua="timingevent",ur(lL,Or);var xg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function BE(){}function dL(){}BE.prototype.h=null;var $E,Fd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jE(){Or.call(this,"d")}function GE(){Or.call(this,"c")}function Pg(){}function Ld(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Rd(this),this.P=nte,this.V=new Ig(n=bE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hL}function hL(){this.i=null,this.g="",this.h=!1}ur(jE,Or),ur(GE,Or),ur(Pg,BE),Pg.prototype.g=function(){return new XMLHttpRequest},Pg.prototype.i=function(){return{}},$E=new Pg;var nte=45e3,HE={},Mg={};function zE(n,e,t){n.L=1,n.v=Ng(ro(e)),n.s=t,n.S=!0,fL(n,null)}function fL(n,e){n.G=Date.now(),Vd(n),n.A=ro(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),EL(t.i,"t",r),n.C=0,t=n.l.J,n.h=new hL,n.g=WL(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Xee(Rr(n.Pa,n,n.g),n.O)),rL(n.U,n.g,"readystatechange",n.nb),e=n.I?zF(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Od(),function Jee(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function pL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function gL(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=rte(n,t),i==Mg){4==e&&(n.o=4,Wr(14),r=!1),uc(n.j,n.m,null,"[Incomplete Response]");break}if(i==HE){n.o=4,Wr(15),uc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}uc(n.j,n.m,i,null),qE(n,i)}pL(n)&&i!=Mg&&i!=HE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Wr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ZE(e),e.M=!0,Wr(11))):(uc(n.j,n.m,t,"[Invalid Chunked Response]"),Ra(n),Ud(n))}function rte(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Mg:(t=Number(e.substring(t,r)),isNaN(t)?HE:(r+=1)+t>e.length?Mg:(e=e.slice(r,r+t),n.C=r+t,e))}function Vd(n){n.Y=Date.now()+n.P,mL(n,n.P)}function mL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Nd(Rr(n.lb,n),e)}function kg(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function Ud(n){0==n.l.H||n.J||$L(n.l,n)}function Ra(n){kg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,VE(n.V),iL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function qE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||WE(t.i,n)))if(!n.K&&WE(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;jg(t),Ug(t)}JE(t),Wr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Nd(Rr(t.ib,t),6e3));if(1>=IL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Na(t,11)}else if((n.K||t.g==n)&&jg(t),!Dd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const h=c[4];null!=h&&(t.Ga=h,t.l.info("SVER="+t.Ga));const b=c[5];null!=b&&"number"==typeof b&&0<b&&(t.L=r=1.5*b,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const M=n.g;if(M){const q=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var s=r.i;s.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(KE(s,s.h),s.h=null))}if(r.F){const ae=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(r.Da=ae,_n(r.I,r.F,ae))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=qL(r,r.J?r.pa:null,r.Y),o.K){TL(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(kg(a),Vd(a)),r.g=o}else jL(r);0<t.j.length&&Bg(t)}else"stop"!=c[0]&&"close"!=c[0]||Na(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Na(t,7):XE(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Od()}catch{}}function _L(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(wg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ste(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(wg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ite(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(wg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Qe=Ld.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==Cs(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const u=Cs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||bE||this.g&&(this.h.h||this.g.ja()||NL(this.g)))){this.J||4!=u||7==e||Od(),kg(this);var t=this.g.da();this.ca=t;t:if(pL(this)){var r=NL(this.g);n="";var i=r.length,s=4==Cs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ra(this),Ud(this);var o="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Zee(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dd(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Wr(12),Ra(this),Ud(this);break e}uc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qE(this,t)}this.S?(gL(this,u,o),bE&&this.i&&3==u&&(rL(this.U,this.V,"tick",this.mb),this.V.start())):(uc(this.j,this.m,o,null),qE(this,o)),4==u&&Ra(this),this.i&&!this.J&&(4==u?$L(this.l,this):(this.i=!1,Vd(this)))}else(function Ete(n){const e={};n=(n.g&&2<=Cs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Dd(n[r]))continue;var t=Kee(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function jee(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Wr(12)):(this.o=0,Wr(13)),Ra(this),Ud(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=Cs(this.g),e=this.g.ja();this.C<e.length&&(kg(this),gL(this,n,e),this.i&&4!=n&&Vd(this))}},Qe.cancel=function(){this.J=!0,Ra(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function ete(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Od(),Wr(17)),Ra(this),this.o=2,Ud(this)):mL(this,this.Y-n)};var yL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Oa){this.h=n.h,Rg(this,n.j),this.s=n.s,this.g=n.g,Og(this,n.m),this.l=n.l;var e=n.i,t=new Gd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),vL(this,t),this.o=n.o}else n&&(e=String(n).match(yL))?(this.h=!1,Rg(this,e[1]||"",!0),this.s=Bd(e[2]||""),this.g=Bd(e[3]||"",!0),Og(this,e[4]),this.l=Bd(e[5]||"",!0),vL(this,e[6]||"",!0),this.o=Bd(e[7]||"")):(this.h=!1,this.i=new Gd(null,this.h))}function ro(n){return new Oa(n)}function Rg(n,e,t){n.j=t?Bd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Og(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function vL(n,e,t){e instanceof Gd?(n.i=e,function hte(n,e){e&&!n.j&&(jo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(bL(this,r),EL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=jd(e,ute)),n.i=new Gd(e,n.h))}function _n(n,e,t){n.i.set(e,t)}function Ng(n){return _n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function jd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ate),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ate(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Oa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(jd(e,wL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(jd(e,wL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(jd(t,"/"==t.charAt(0)?cte:lte,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",jd(t,dte)),n.join("")};var wL=/[#\/\?@]/g,lte=/[#\?:]/g,cte=/[#\?]/g,ute=/[#\?@]/g,dte=/#/g;function Gd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function jo(n){n.g||(n.g=new Map,n.h=0,n.i&&function ote(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function bL(n,e){jo(n),e=dc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function CL(n,e){return jo(n),e=dc(n,e),n.g.has(e)}function EL(n,e,t){bL(n,e),0<t.length&&(n.i=null,n.g.set(dc(n,e),vE(t)),n.h+=t.length)}function dc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function AL(n){this.l=n||pte,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ka&&bt.g.Ka()&&bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=Gd.prototype).add=function(n,e){jo(this),this.i=null,n=dc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){jo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Qe.ta=function(){jo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Qe.Z=function(n){jo(this);let e=[];if("string"==typeof n)CL(this,n)&&(e=e.concat(this.g.get(dc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return jo(this),this.i=null,CL(this,n=dc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var pte=10;function SL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function IL(n){return n.h?1:n.g?n.g.size:0}function WE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function KE(n,e){n.g?n.g.add(e):n.h=e}function TL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function DL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return vE(n.i)}AL.prototype.cancel=function(){if(this.i=DL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var gte=class{stringify(n){return bt.JSON.stringify(n,void 0)}parse(n){return bt.JSON.parse(n,void 0)}};function mte(){this.g=new gte}function _te(n,e,t){const r=t||"";try{_L(n,function(i,s){let o=i;Td(i)&&(o=FE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $d(n){this.l=n.fc||null,this.j=n.ob||!1}function Lg(n,e){dr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=QE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ur($d,BE),$d.prototype.g=function(){return new Lg(this.l,this.j)},$d.prototype.i=function(n){return function(){return n}}({}),ur(Lg,dr);var QE=0;function xL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Hd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zd(n)}function zd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=Lg.prototype).open=function(n,e){if(this.readyState!=QE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zd(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hd(this)),this.readyState=QE},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zd(this)),this.g&&(this.readyState=3,zd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Hd(this):zd(this),3==this.readyState&&xL(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,Hd(this))},Qe.Ya=function(n){this.g&&(this.response=n,Hd(this))},Qe.ka=function(){this.g&&Hd(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vte=bt.JSON.parse;function Nn(n){dr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PL,this.L=this.M=!1}ur(Nn,dr);var PL="",wte=/^https?$/i,bte=["POST","PUT"];function ML(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kL(n),Vg(n)}function kL(n){n.F||(n.F=!0,wr(n,"complete"),wr(n,"error"))}function RL(n){if(n.h&&typeof _E<"u"&&(!n.C[1]||4!=Cs(n)||2!=n.da()))if(n.v&&4==Cs(n))UE(n.La,0,n);else if(wr(n,"readystatechange"),4==Cs(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(yL)[1]||null;!i&&bt.self&&bt.self.location&&(i=bt.self.location.protocol.slice(0,-1)),r=!wte.test(i?i.toLowerCase():"")}t=r}if(t)wr(n,"complete"),wr(n,"success");else{n.m=6;try{var s=2<Cs(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",kL(n)}}finally{Vg(n)}}}function Vg(n,e){if(n.g){OL(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||wr(n,"ready");try{t.onreadystatechange=r}catch{}}}function OL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function Cs(n){return n.g?n.g.readyState:0}function NL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case PL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FL(n){let e="";return TE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function YE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=FL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_n(n,e,t))}function qd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function LL(n){this.Ga=0,this.j=[],this.l=new Tg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qd("baseRetryDelayMs",5e3,n),this.hb=qd("retryDelaySeedMs",1e4,n),this.eb=qd("forwardChannelMaxRetries",2,n),this.xa=qd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new AL(n&&n.concurrentRequestLimit),this.Ja=new mte,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function XE(n){if(VL(n),3==n.H){var e=n.W++,t=ro(n.I);if(_n(t,"SID",n.K),_n(t,"RID",e),_n(t,"TYPE","terminate"),Wd(n,t),(e=new Ld(n,n.l,e)).L=2,e.v=Ng(ro(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon)try{t=bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=WL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Vd(e)}zL(n)}function Ug(n){n.g&&(ZE(n),n.g.cancel(),n.g=null)}function VL(n){Ug(n),n.u&&(bt.clearTimeout(n.u),n.u=null),jg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function Bg(n){if(!SL(n.i)&&!n.m){n.m=!0;var e=n.Na;Md||eL(),kd||(Md(),kd=!0),LE.add(e,n),n.C=0}}function UL(n,e){var t;t=e?e.m:n.W++;const r=ro(n.I);_n(r,"SID",n.K),_n(r,"RID",t),_n(r,"AID",n.V),Wd(n,r),n.o&&n.s&&YE(r,n.o,n.s),t=new Ld(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=BL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),KE(n.i,t),zE(t,r,e)}function Wd(n,e){n.na&&TE(n.na,function(t,r){_n(e,r,t)}),n.h&&_L({},function(t,r){_n(e,r,t)})}function BL(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Rr(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{_te(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function jL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Md||eL(),kd||(Md(),kd=!0),LE.add(e,n),n.A=0}}function JE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Nd(Rr(n.Ma,n),HL(n,n.A)),n.A++,0))}function ZE(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function GL(n){n.g=new Ld(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ro(n.wa);_n(e,"RID","rpc"),_n(e,"SID",n.K),_n(e,"AID",n.V),_n(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&_n(e,"TO",n.qa),_n(e,"TYPE","xmlhttp"),Wd(n,e),n.o&&n.s&&YE(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ng(ro(e)),t.s=null,t.S=!0,fL(t,n)}function jg(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function $L(n,e){var t=null;if(n.g==e){jg(n),ZE(n),n.g=null;var r=2}else{if(!WE(n.i,e))return;t=e.F,TL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;wr(r=Dg(),new lL(r,t)),Bg(n)}else jL(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Ate(n,e){return!(IL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Nd(Rr(n.Na,n,e),HL(n,n.C)),n.C++,0)))}(n,e)||2==r&&JE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Na(n,5);break;case 4:Na(n,10);break;case 3:Na(n,6);break;default:Na(n,2)}}function HL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Na(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Rr(n.pb,n);t||(t=new Oa("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||Rg(t,"https"),Ng(t)),function yte(n,e){const t=new Tg;if(bt.Image){const r=new Image;r.onload=bg(Fg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bg(Fg,t,r,"TestLoadImage: error",!1,e),r.onabort=bg(Fg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bg(Fg,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Wr(2);n.H=0,n.h&&n.h.za(e),zL(n),VL(n)}function zL(n){if(n.H=0,n.ma=[],n.h){const e=DL(n.i);(0!=e.length||0!=n.j.length)&&(BF(n.ma,e),BF(n.ma,n.j),n.i.i.length=0,vE(n.j),n.j.length=0),n.h.ya()}}function qL(n,e,t){var r=t instanceof Oa?ro(t):new Oa(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Og(r,r.m);else{var i=bt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Oa(null);r&&Rg(s,r),e&&(s.g=e),i&&Og(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&_n(r,t,e),_n(r,"VER",n.ra),Wd(n,r),r}function WL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nn(t&&n.Ha&&!n.va?new $d({ob:!0}):n.va)).Oa(n.J),e}function KL(){}function Gg(){if(cc&&!(10<=Number(Lee)))throw Error("Environmental error: no available transport.")}function gi(n,e){dr.call(this),this.g=new LL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Dd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new hc(this)}function QL(n){jE.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function YL(){GE.call(this),this.status=1}function hc(n){this.g=n}function Xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function eA(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function nn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Qe=Nn.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$E.g(),this.C=function uL(n){return n.h||(n.h=n.i())}(this.u?this.u:$E),this.g.onreadystatechange=Rr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void ML(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=bt.FormData&&n instanceof bt.FormData,!(0<=UF(bte,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OL(this),0<this.B&&((this.L=function Cte(n){return cc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.ua,this)):this.A=UE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){ML(this,s)}},Qe.ua=function(){typeof _E<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wr(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,wr(this,"complete"),wr(this,"abort"),Vg(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vg(this,!0)),Nn.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?RL(this):this.kb())},Qe.kb=function(){RL(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),vte(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=LL.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Ld(this,this.l,n);let s=this.s;if(this.U&&(s?(s=zF(s),WF(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=BL(this,i,e),_n(t=ro(this.I),"RID",n),_n(t,"CVER",22),this.F&&_n(t,"X-HTTP-Session-Id",this.F),Wd(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(FL(s)))+"&"+e:this.o&&YE(t,this.o,s)),KE(this.i,i),this.bb&&_n(t,"TYPE","init"),this.P?(_n(t,"$req",e),_n(t,"SID","null"),i.aa=!0,zE(i,t,null)):zE(i,t,e),this.H=2}}else 3==this.H&&(n?UL(this,n):0==this.j.length||SL(this.i)||UL(this))},Qe.Ma=function(){if(this.u=null,GL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Nd(Rr(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wr(10),Ug(this),GL(this))},Qe.ib=function(){null!=this.v&&(this.v=null,Ug(this),JE(this),Wr(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Wr(2)):(this.l.info("Failed to ping google.com"),Wr(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=KL.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},Gg.prototype.g=function(n,e){return new gi(n,e)},ur(gi,dr),gi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Wr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=qL(n,null,n.Y),Bg(n)},gi.prototype.close=function(){XE(this.g)},gi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=FE(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Bg(e)},gi.prototype.N=function(){this.g.h=null,delete this.j,XE(this.g),delete this.g,gi.$.N.call(this)},ur(QL,jE),ur(YL,GE),ur(hc,KL),hc.prototype.Ba=function(){wr(this.g,"a")},hc.prototype.Aa=function(n){wr(this.g,new QL(n))},hc.prototype.za=function(n){wr(this.g,new YL)},hc.prototype.ya=function(){wr(this.g,"b")},ur(Xi,function Ste(){this.blockSize=-1}),Xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xi.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)eA(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){eA(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){eA(this,r),i=0;break}}this.h=i,this.i+=e},Xi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Ite={};function tA(n){return-128<=n&&128>n?function Oee(n,e){var t=Ite;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new nn([0|e],0>e?-1:0)}):new nn([0|n],0>n?-1:0)}function Es(n){if(isNaN(n)||!isFinite(n))return fc;if(0>n)return br(Es(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=nA;return new nn(e,0)}var nA=4294967296,fc=tA(0),rA=tA(1),JL=tA(16777216);function io(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Mi(n){return-1==n.h}function br(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new nn(t,~n.h).add(rA)}function $g(n,e){return n.add(br(e))}function Hg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Kd(n,e){this.g=n,this.h=e}function zg(n,e){if(io(e))throw Error("division by zero");if(io(n))return new Kd(fc,fc);if(Mi(n))return e=zg(br(n),e),new Kd(br(e.g),br(e.h));if(Mi(e))return e=zg(n,br(e)),new Kd(br(e.g),e.h);if(30<n.g.length){if(Mi(n)||Mi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=rA,r=e;0>=r.X(n);)t=ZL(t),r=ZL(r);var i=pc(t,1),s=pc(r,1);for(r=pc(r,2),t=pc(t,2);!io(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=pc(r,1),t=pc(t,1)}return e=$g(n,i.R(e)),new Kd(i,e)}for(i=fc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Es(t)).R(e);Mi(o)||0<o.X(n);)o=(s=Es(t-=r)).R(e);io(s)&&(s=rA),i=i.add(s),n=$g(n,o)}return new Kd(i,n)}function ZL(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new nn(t,n.h)}function pc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new nn(i,n.h)}(Qe=nn.prototype).ea=function(){if(Mi(this))return-br(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:nA+r)*e,e*=nA}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(io(this))return"0";if(Mi(this))return"-"+br(this).toString(n);for(var e=Es(Math.pow(n,6)),t=this,r="";;){var i=zg(t,e).g,s=((0<(t=$g(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(io(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return Mi(n=$g(this,n))?-1:io(n)?0:1},Qe.abs=function(){return Mi(this)?br(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new nn(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if(io(this)||io(n))return fc;if(Mi(this))return Mi(n)?br(this).R(br(n)):br(br(this).R(n));if(Mi(n))return br(this.R(br(n)));if(0>this.X(JL)&&0>n.X(JL))return Es(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,Hg(t,2*r+2*i),t[2*r+2*i+1]+=s*l,Hg(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Hg(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Hg(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new nn(t,0)},Qe.gb=function(n){return zg(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new nn(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new nn(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new nn(t,this.h^n.h)},Gg.prototype.createWebChannel=Gg.prototype.g,gi.prototype.send=gi.prototype.u,gi.prototype.open=gi.prototype.m,gi.prototype.close=gi.prototype.close,xg.NO_ERROR=0,xg.TIMEOUT=8,xg.HTTP_ERROR=6,cL.COMPLETE="complete",dL.EventType=Fd,Fd.OPEN="a",Fd.CLOSE="b",Fd.ERROR="c",Fd.MESSAGE="d",dr.prototype.listen=dr.prototype.O,Nn.prototype.listenOnce=Nn.prototype.P,Nn.prototype.getLastError=Nn.prototype.Sa,Nn.prototype.getLastErrorCode=Nn.prototype.Ia,Nn.prototype.getStatus=Nn.prototype.da,Nn.prototype.getResponseJson=Nn.prototype.Wa,Nn.prototype.getResponseText=Nn.prototype.ja,Nn.prototype.send=Nn.prototype.ha,Nn.prototype.setWithCredentials=Nn.prototype.Oa,Xi.prototype.digest=Xi.prototype.l,Xi.prototype.reset=Xi.prototype.reset,Xi.prototype.update=Xi.prototype.j,nn.prototype.add=nn.prototype.add,nn.prototype.multiply=nn.prototype.R,nn.prototype.modulo=nn.prototype.gb,nn.prototype.compare=nn.prototype.X,nn.prototype.toNumber=nn.prototype.ea,nn.prototype.toString=nn.prototype.toString,nn.prototype.getBits=nn.prototype.D,nn.fromNumber=Es,nn.fromString=function XL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return br(XL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Es(Math.pow(e,8)),r=fc,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Es(Math.pow(e,s)),r=r.R(s).add(Es(o))):r=(r=r.R(t)).add(Es(o))}return r};var Tte=Yi.createWebChannelTransport=function(){return new Gg},Dte=Yi.getStatEventTarget=function(){return Dg()},iA=Yi.ErrorCode=xg,xte=Yi.EventType=cL,Pte=Yi.Event=ka,e2=Yi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mte=Yi.FetchXmlHttpFactory=$d,qg=Yi.WebChannel=dL,kte=Yi.XhrIo=Nn,Rte=Yi.Md5=Xi,gc=Yi.Integer=nn;const t2="@firebase/firestore";class hr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");let mc="9.23.0";const Go=new Yp("@firebase/firestore");function sA(){return Go.logLevel}function Le(n,...e){if(Go.logLevel<=$t.DEBUG){const t=e.map(oA);Go.debug(`Firestore (${mc}): ${n}`,...t)}}function jn(n,...e){if(Go.logLevel<=$t.ERROR){const t=e.map(oA);Go.error(`Firestore (${mc}): ${n}`,...t)}}function Ji(n,...e){if(Go.logLevel<=$t.WARN){const t=e.map(oA);Go.warn(`Firestore (${mc}): ${n}`,...t)}}function oA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ze(n="Unexpected state"){const e=`FIRESTORE (${mc}) INTERNAL ASSERTION FAILED: `+n;throw jn(e),new Error(e)}function rt(n,e){n||Ze()}function qe(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class n2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ote{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hr.UNAUTHENTICATED))}shutdown(){}}class Nte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fte{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new nr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(se(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new nr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt("string"==typeof r.accessToken),new n2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(null===e||"string"==typeof e),new hr(e)}}class Lte{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Vte{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Lte(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ute{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt("string"==typeof t.token),this.T=t.token,new r2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bte(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class i2{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Bte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function wt(n,e){return n<e?-1:n>e?1:0}function _c(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Dn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class it{constructor(e){this.timestamp=e}static fromTimestamp(e){return new it(e)}static min(){return new it(new Dn(0,0))}static max(){return new it(new Dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qd{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ze(),void 0===r?r=e.length-t:r>e.length-t&&Ze(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Qd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ht extends Qd{construct(e,t,r){return new Ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ht(t)}static emptyPath(){return new Ht([])}}const jte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Qd{construct(e,t,r){return new Gn(e,t,r)}static isValidIdentifier(e){return jte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Re(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Re(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Re(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Re(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Ht.fromString(e))}static fromName(e){return new ze(Ht.fromString(e).popFirst(5))}static empty(){return new ze(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ht.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Ht(e.slice()))}}function a2(n){return new mi(n.readTime,n.key,-1)}class mi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new mi(it.min(),ze.empty(),-1)}static max(){return new mi(it.max(),ze.empty(),-1)}}function lA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:wt(n.largestBatchId,e.largestBatchId))}const l2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function $o(n){return cA.apply(this,arguments)}function cA(){return cA=se(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==l2)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),cA.apply(this,arguments)}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(t){return ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.reject(t)}static resolve(e){return new ve((t,r)=>{t(e)})}static reject(e){return new ve((t,r)=>{r(e)})}static waitFor(e){return new ve((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=ve.resolve(!1);for(const r of e)t=t.next(i=>i?ve.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ve((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new ve((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Ho(n){return"IndexedDbTransactionError"===n.name}let _i=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Jd(n){return null==n}function Zd(n){return 0===n&&1/n==-1/0}function _2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function y2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pn{constructor(e,t){this.comparator=e,this.root=t||Cr.EMPTY}insert(e,t){return new pn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xg(this.root,e,this.comparator,!0)}}class Xg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Cr.RED,this.left=i??Cr.EMPTY,this.right=s??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Cr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Cr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1,Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Cr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yn{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new v2(this.data.getIterator())}getIteratorFrom(e){return new v2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yn(this.comparator);return t.data=e,t}}class v2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new ii([])}unionWith(e){let t=new yn(Gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ii(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class w2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new w2("Invalid base64 string: "+i):i}}(e);return new rr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const fne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(n){if(rt(!!n),"string"==typeof n){let e=0;const t=fne.exec(n);if(rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fn(n.seconds),nanos:Fn(n.nanos)}}function Fn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function so(n){return"string"==typeof n?rr.fromBase64String(n):rr.fromUint8Array(n)}function Jg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Zg(n){const e=n.mapValue.fields.__previous_value__;return Jg(e)?Zg(e):e}function eh(n){const e=qo(n.mapValue.fields.__local_write_time__.timestampValue);return new Dn(e.seconds,e.nanos)}class pne{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Va{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Va("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}const Wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ko(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jg(n)?4:A2(n)?9007199254740991:10:Ze()}function Ss(n,e){if(n===e)return!0;const t=Ko(n);if(t!==Ko(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return eh(n).isEqual(eh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=qo(r.timestampValue),o=qo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,so(n.bytesValue).isEqual(so(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Fn(r.geoPointValue.latitude)===Fn(i.geoPointValue.latitude)&&Fn(r.geoPointValue.longitude)===Fn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Fn(r.integerValue)===Fn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Fn(r.doubleValue),o=Fn(i.doubleValue);return s===o?Zd(s)===Zd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return _c(n.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(_2(s)!==_2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ss(s[a],o[a])))return!1;return!0}(n,e);default:return Ze()}var i}function th(n,e){return void 0!==(n.values||[]).find(t=>Ss(t,e))}function Qo(n,e){if(n===e)return 0;const t=Ko(n),r=Ko(e);if(t!==r)return wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wt(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Fn(i.integerValue||i.doubleValue),a=Fn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return b2(n.timestampValue,e.timestampValue);case 4:return b2(eh(n),eh(e));case 5:return wt(n.stringValue,e.stringValue);case 6:return function(i,s){const o=so(i),a=so(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=wt(o[l],a[l]);if(0!==c)return c}return wt(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=wt(Fn(i.latitude),Fn(s.latitude));return 0!==o?o:wt(Fn(i.longitude),Fn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Qo(o[l],a[l]);if(c)return c}return wt(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Wo.mapValue&&s===Wo.mapValue)return 0;if(i===Wo.mapValue)return 1;if(s===Wo.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=wt(a[u],c[u]);if(0!==h)return h;const b=Qo(o[a[u]],l[c[u]]);if(0!==b)return b}return wt(a.length,c.length)}(n.mapValue,e.mapValue);default:throw Ze()}}function b2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return wt(n,e);const t=qo(n),r=qo(e),i=wt(t.seconds,r.seconds);return 0!==i?i:wt(t.nanos,r.nanos)}function vc(n){return hA(n)}function hA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=qo(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?so(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=hA(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${hA(r.fields[a])}`;return s+"}"}(n.mapValue):Ze();var e}function Ua(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fA(n){return!!n&&"integerValue"in n}function nh(n){return!!n&&"arrayValue"in n}function C2(n){return!!n&&"nullValue"in n}function E2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nm(n){return!!n&&"mapValue"in n}function rh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!nm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(t)}setAll(e){let t=Gn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=rh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());nm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];nm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){zo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Er(rh(this.value))}}function T2(n){const e=[];return zo(n.fields,(t,r)=>{const i=new Gn([t]);if(nm(r)){const s=T2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ii(e)}class vn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vn(e,0,it.min(),it.min(),it.min(),Er.empty(),0)}static newFoundDocument(e,t,r,i){return new vn(e,1,t,it.min(),r,i,0)}static newNoDocument(e,t){return new vn(e,2,t,it.min(),it.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,it.min(),it.min(),Er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(it.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yo{constructor(e,t){this.position=e,this.inclusive=t}}function D2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?ze.comparator(ze.fromName(o.referenceValue),t.key):Qo(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function x2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ss(n.position[t],e.position[t]))return!1;return!0}class wc{constructor(e,t="asc"){this.field=e,this.dir=t}}function _ne(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class P2{}class Bt extends P2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new yne(e,t,r):"array-contains"===t?new bne(e,r):"in"===t?new F2(e,r):"not-in"===t?new Cne(e,r):"array-contains-any"===t?new Ene(e,r):new Bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new vne(e,r):new wne(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Qo(t,this.value)):null!==t&&Ko(this.value)===Ko(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rn extends P2{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new rn(e,t)}matches(e){return bc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bc(n){return"and"===n.op}function gA(n){return function M2(n){for(const e of n.filters)if(e instanceof rn)return!1;return!0}(n)&&bc(n)}function mA(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+vc(n.value);if(gA(n))return n.filters.map(e=>mA(e)).join(",");{const e=n.filters.map(t=>mA(t)).join(",");return`${n.op}(${e})`}}function k2(n,e){return n instanceof Bt?(t=n,(r=e)instanceof Bt&&t.op===r.op&&t.field.isEqual(r.field)&&Ss(t.value,r.value)):n instanceof rn?function(t,r){return r instanceof rn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&k2(s,r.filters[o]),!0)}(n,e):void Ze();var t,r}function O2(n){return n instanceof Bt?`${(e=n).field.canonicalString()} ${e.op} ${vc(e.value)}`:n instanceof rn?function(e){return e.op.toString()+" {"+e.getFilters().map(O2).join(" ,")+"}"}(n):"Filter";var e}class yne extends Bt{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class vne extends Bt{constructor(e,t){super(e,"in",t),this.keys=N2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wne extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=N2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function N2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class bne extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nh(t)&&th(t.arrayValue,this.value)}}class F2 extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&th(this.value.arrayValue,t)}}class Cne extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!th(this.value.arrayValue,t)}}class Ene extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>th(this.value.arrayValue,r))}}class Ane{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function _A(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Ane(n,e,t,r,i,s,o)}function Ba(n){const e=qe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Jd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vc(r)).join(",")),e.dt=t}return e.dt}function ih(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_ne(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!k2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!x2(n.startAt,e.startAt)&&x2(n.endAt,e.endAt)}function rm(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class oo{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function Cc(n){return new oo(n)}function B2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function sm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function vA(n){return null!==n.collectionGroup}function ja(n){const e=qe(n);if(null===e.wt){e.wt=[];const t=sm(e),r=yA(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new wc(t)),e.wt.push(new wc(Gn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new wc(Gn.keyField(),s))}}}return e.wt}function Kr(n){const e=qe(n);if(!e._t)if("F"===e.limitType)e._t=_A(e.path,e.collectionGroup,ja(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ja(e))t.push(new wc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Yo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Yo(e.startAt.position,e.startAt.inclusive):null;e._t=_A(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function wA(n,e){e.getFirstInequalityField(),sm(n);const t=n.filters.concat([e]);return new oo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function om(n,e,t){return new oo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sh(n,e){return ih(Kr(n),Kr(e))&&n.limitType===e.limitType}function j2(n){return`${Ba(Kr(n))}|lt:${n.limitType}`}function bA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>O2(r)).join(", ")}]`),Jd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vc(r)).join(",")),`Target(${t})`}(Kr(n))}; limitType=${n.limitType})`}function oh(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of ja(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=D2(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,ja(t),r)||t.endAt&&!function(i,s,o){const a=D2(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,ja(t),r)));var t,r}function $2(n){return(e,t)=>{let r=!1;for(const i of ja(n)){const s=Sne(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Sne(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?Qo(a,l):Ze()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ze()}}class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return y2(this.inner)}size(){return this.innerSize}}const Ine=new pn(ze.comparator);function si(){return Ine}const H2=new pn(ze.comparator);function ah(...n){let e=H2;for(const t of n)e=e.insert(t.key,t);return e}function z2(n){let e=H2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Is(){return lh()}function q2(){return lh()}function lh(){return new ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const Tne=new pn(ze.comparator),Dne=new yn(ze.comparator);function Dt(...n){let e=Dne;for(const t of n)e=e.add(t);return e}const xne=new yn(wt);function W2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function K2(n){return{integerValue:""+n}}function Q2(n,e){return function u2(n){return"number"==typeof n&&Number.isInteger(n)&&!Zd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?K2(e):W2(n,e)}class am{constructor(){this._=void 0}}function Pne(n,e,t){return n instanceof Ec?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Jg(i)&&(i=Zg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ga?X2(n,e):n instanceof $a?J2(n,e):function(r,i){const s=Y2(r,i),o=Z2(s)+Z2(r.gt);return fA(s)&&fA(r.gt)?K2(o):W2(r.serializer,o)}(n,e)}function Mne(n,e,t){return n instanceof Ga?X2(n,e):n instanceof $a?J2(n,e):t}function Y2(n,e){return n instanceof Ac?fA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ec extends am{}class Ga extends am{constructor(e){super(),this.elements=e}}function X2(n,e){const t=eV(e);for(const r of n.elements)t.some(i=>Ss(i,r))||t.push(r);return{arrayValue:{values:t}}}class $a extends am{constructor(e){super(),this.elements=e}}function J2(n,e){let t=eV(e);for(const r of n.elements)t=t.filter(i=>!Ss(i,r));return{arrayValue:{values:t}}}class Ac extends am{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Z2(n){return Fn(n.integerValue||n.doubleValue)}function eV(n){return nh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Rne{constructor(e,t){this.version=e,this.transformResults=t}}class En{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class cm{}function tV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ic(n.key,En.none()):new Sc(n.key,n.data,En.none());{const t=n.data,r=Er.empty();let i=new yn(Gn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new lo(n.key,r,new ii(i.toArray()),En.none())}}function One(n,e,t){n instanceof Sc?function(r,i,s){const o=r.value.clone(),a=iV(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof lo?function(r,i,s){if(!lm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=iV(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(rV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function uh(n,e,t,r){return n instanceof Sc?function(i,s,o,a){if(!lm(i.precondition,s))return o;const l=i.value.clone(),c=sV(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof lo?function(i,s,o,a){if(!lm(i.precondition,s))return o;const l=sV(i.fieldTransforms,a,s),c=s.data;return c.setAll(rV(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,lm(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Nne(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Y2(r.transform,i||null);null!=s&&(null===t&&(t=Er.empty()),t.set(r.field,s))}return t||null}function nV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&_c(t,r,(i,s)=>function kne(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ga&&r instanceof Ga||t instanceof $a&&r instanceof $a?_c(t.elements,r.elements,Ss):t instanceof Ac&&r instanceof Ac?Ss(t.gt,r.gt):t instanceof Ec&&r instanceof Ec);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Sc extends cm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lo extends cm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function iV(n,e,t){const r=new Map;rt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Mne(o,a,t[i]))}return r}function sV(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Pne(s,o,e))}return r}class Ic extends cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EA extends cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&One(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=uh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=uh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=q2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=tV(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(it.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dt())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(t,r)=>nV(t,r))&&_c(this.baseMutations,e.baseMutations,(t,r)=>nV(t,r))}}class SA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){rt(e.mutations.length===r.length);let i=Tne;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new SA(e,t,r,i)}}class IA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Lne{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yn,zt;function aV(n){if(void 0===n)return jn("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case Yn.OK:return Ce.OK;case Yn.CANCELLED:return Ce.CANCELLED;case Yn.UNKNOWN:return Ce.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return Ce.INTERNAL;case Yn.UNAVAILABLE:return Ce.UNAVAILABLE;case Yn.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Yn.NOT_FOUND:return Ce.NOT_FOUND;case Yn.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Yn.ABORTED:return Ce.ABORTED;case Yn.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Yn.DATA_LOSS:return Ce.DATA_LOSS;default:return Ze()}}(zt=Yn||(Yn={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";class TA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return um}static getOrCreateInstance(){return null===um&&(um=new TA),um}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let um=null;const Vne=new gc([4294967295,4294967295],0);function cV(n){const e=function lV(){return new TextEncoder}().encode(n),t=new Rte;return t.update(e),new Uint8Array(t.digest())}function uV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gc([t,r],0),new gc([i,s],0)]}class DA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new dh(`Invalid padding: ${t}`);if(r<0)throw new dh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new dh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new dh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=gc.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(gc.fromNumber(r)));return 1===i.compare(Vne)&&(i=new gc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=cV(e),[r,i]=uV(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new DA(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=cV(e),[r,i]=uV(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,fh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hh(it.min(),i,new pn(wt),si(),Dt())}}class fh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fh(r,t,Dt(),Dt(),Dt())}}class dm{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class dV{constructor(e,t){this.targetId=e,this.Vt=t}}class hV{constructor(e,t,r=rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class fV{constructor(){this.St=0,this.Dt=gV(),this.Ct=rr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Dt(),t=Dt(),r=Dt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ze()}}),new fh(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=gV()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Une{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=si(),this.zt=pV(),this.Wt=new pn(wt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Ze()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(rm(o))if(0===i){const a=new ze(o.path);this.Yt(r,a,vn.newNoDocument(a,it.min()))}else rt(1===i);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);0!==l&&(this.ee(r),this.Wt=this.Wt.insert(r,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=TA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,h){var b,M,q,ae,he,Se;const Me={localCacheCount:u,existenceFilterCount:h.count},we=h.unchangedNames;return we&&(Me.bloomFilter={applied:0===c,hashCount:null!==(b=we?.hashCount)&&void 0!==b?b:0,bitmapLength:null!==(ae=null===(q=null===(M=we?.bits)||void 0===M?void 0:M.bitmap)||void 0===q?void 0:q.length)&&void 0!==ae?ae:0,padding:null!==(Se=null===(he=we?.bits)||void 0===he?void 0:he.padding)&&void 0!==Se?Se:0}),Me}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=so(s).toUint8Array()}catch(u){if(u instanceof w2)return Ji("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new DA(l,o,a)}catch(u){return Ji(u instanceof dh?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&rm(a.target)){const l=new ze(a.target.path);null!==this.jt.get(l)||this.ae(o,l)||this.Yt(o,l,vn.newNoDocument(l,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=Dt();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new hh(e,t,this.Wt,this.jt,r);return this.jt=si(),this.zt=pV(),this.Wt=new pn(wt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new fV,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new yn(wt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new fV),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function pV(){return new pn(ze.comparator)}function gV(){return new pn(ze.comparator)}const Bne={asc:"ASCENDING",desc:"DESCENDING"},jne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gne={and:"AND",or:"OR"};class $ne{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xA(n,e){return n.useProto3Json||Jd(e)?e:{value:e}}function Tc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Hne(n,e){return Tc(n,e.toTimestamp())}function $n(n){return rt(!!n),it.fromTimestamp(function(e){const t=qo(e);return new Dn(t.seconds,t.nanos)}(n))}function PA(n,e){return(t=n,new Ht(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _V(n){const e=Ht.fromString(n);return rt(IV(e)),e}function ph(n,e){return PA(n.databaseId,e.path)}function Ts(n,e){const t=_V(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(vV(t))}function MA(n,e){return PA(n.databaseId,e)}function gh(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vV(n){return rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wV(n,e,t){return{name:ph(n,e),fields:t.value.mapValue.fields}}function CV(n,e){return{documents:[MA(n,e.path)]}}function RA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=MA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=MA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return SV(rn.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Xo((u=c).field),direction:Qne(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=xA(n,e.limit);var a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function EV(n){let e=function yV(n){const e=_V(n);return 4===e.length?Ht.emptyPath():vV(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){rt(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const h=AV(u);return h instanceof rn&&gA(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new wc(Dc((h=u).field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction));var h}));let a=null;t.limit&&(a=function(u){let h;return h="object"==typeof u?u.value:u,Jd(h)?null:h}(t.limit));let l=null;var u;t.startAt&&(l=new Yo((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Yo(u.values||[],!u.before)}(t.endAt)),function U2(n,e,t,r,i,s,o,a){return new oo(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function AV(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dc(e.unaryFilter.field);return Bt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Dc(e.unaryFilter.field);return Bt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Dc(e.unaryFilter.field);return Bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Dc(e.unaryFilter.field);return Bt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(n):void 0!==n.fieldFilter?Bt.create(Dc((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return rn.create(e.compositeFilter.filters.map(t=>AV(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ze()}}(e.compositeFilter.op))}(n):Ze();var e}function Qne(n){return Bne[n]}function Yne(n){return jne[n]}function Xne(n){return Gne[n]}function Xo(n){return{fieldPath:n.canonicalString()}}function Dc(n){return Gn.fromServerFormat(n.fieldPath)}function SV(n){return n instanceof Bt?function(e){if("=="===e.op){if(E2(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NAN"}};if(C2(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(E2(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NAN"}};if(C2(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(e.field),op:Yne(e.op),value:e.value}}}(n):n instanceof rn?function(e){const t=e.getFilters().map(r=>SV(r));return 1===t.length?t[0]:{compositeFilter:{op:Xne(e.op),filters:t}}}(n):Ze()}function Jne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class co{constructor(e,t,r,i,s=it.min(),o=it.min(),a=rr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class TV{constructor(e){this.fe=e}}function OA(n){const e=EV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?om(e,e.limit,"L"):e}class Wa{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Fn(e.integerValue));else if("doubleValue"in e){const r=Fn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Zd(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(so(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?A2(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ze()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),ze.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Wa.Ve=new Wa;class are{constructor(){this.rn=new BA}addToCollectionParentIndex(e,t){return this.rn.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve(mi.min())}updateCollectionGroup(e,t,r){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class BA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yn(Ht.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yn(Ht.comparator)).toArray()}}new Uint8Array(0);class Fr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fr(e,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(41943040,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);class Qa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qa(0)}static Mn(){return new Qa(-1)}}class fre{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ve.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mre{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ZV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&uh(r.mutation,i,ii.empty(),Dn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Dt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Dt()){const i=Is();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ah();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Is();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Dt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=si();const o=lh(),a=lh();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof lo)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),uh(u.mutation,c,u.mutation.getFieldMask(),Dn.now())):o.set(c.key,ii.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new mre(u,null!==(h=o.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=lh();let i=new pn((o,a)=>o-a),s=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||ii.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||Dt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=q2();u.forEach(b=>{if(!s.has(b)){const M=tV(t.get(b),r.get(b));null!==M&&h.set(b,M),s=s.add(b)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ve.resolve(Is());let a=-1,l=s;return o.next(c=>ve.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?ve.resolve():this.remoteDocumentCache.getEntry(e,u).next(b=>{l=l.insert(u,b)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Dt())).next(u=>({batchId:a,changes:z2(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let i=ah();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=ah();return this.indexManager.getCollectionParents(e,i).next(o=>ve.forEach(o,a=>{const l=(c=t,u=a.child(i),new oo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,vn.newInvalidDocument(c)))});let o=ah();return s.forEach((a,l)=>{const c=i.get(a);void 0!==c&&uh(c.mutation,l,ii.empty(),Dn.now()),oh(t,l)&&(o=o.insert(a,l))}),o})}}class _re{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ve.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:$n(r.createTime)}),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:OA(r.bundledQuery),readTime:$n(r.readTime)}),ve.resolve();var r}}class yre{constructor(){this.overlays=new pn(ze.comparator),this.ls=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Is();return ve.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),ve.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),ve.resolve()}getOverlaysForCollection(e,t,r){const i=Is(),s=t.length+1,o=new ze(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new pn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=Is(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Is(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ve.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new IA(t,r));let s=this.ls.get(t);void 0===s&&(s=Dt(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class jA{constructor(){this.fs=new yn(pr.ds),this.ws=new yn(pr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new pr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new pr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new ze(new Ht([])),r=new pr(t,e),i=new pr(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ze(new Ht([])),r=new pr(t,e),i=new pr(t,e+1);let s=Dt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new pr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class pr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ze.comparator(e.key,t.key)||wt(e.As,t.As)}static _s(e,t){return wt(e.As,t.As)||ze.comparator(e.key,t.key)}}class vre{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new yn(pr.ds)}checkEmpty(e){return ve.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new AA(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new pr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,t){return ve.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pr(t,0),i=new pr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yn(wt);return t.forEach(i=>{const s=new pr(i,0),o=new pr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),ve.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ze.isDocumentKey(s)||(s=s.child(""));const o=new pr(new ze(s),0);let a=new yn(wt);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),ve.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){rt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ve.forEach(t.mutations,i=>{const s=new pr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new pr(t,0),i=this.Rs.firstAfterOrEqual(r);return ve.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ve.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wre{constructor(e){this.Ds=e,this.docs=new pn(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ve.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let r=si();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vn.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=si();const o=t.path,a=new ze(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lA(a2(u),r)<=0||(i.has(u.key)||oh(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ze()}Cs(e,t){return ve.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new bre(this)}getSize(e){return ve.resolve(this.size)}}class bre extends fre{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ve.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Cre{constructor(e){this.persistence=e,this.xs=new ao(t=>Ba(t),ih),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.Ns=0,this.ks=new jA,this.targetCount=0,this.Ms=Qa.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ve.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Qa(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.Fn(t),ve.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ve.waitFor(s).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ve.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ve.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ve.resolve(r)}containsKey(e,t){return ve.resolve(this.ks.containsKey(t))}}class GA{constructor(e,t){this.$s={},this.overlays={},this.Os=new _i(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Cre(this),this.indexManager=new are,this.remoteDocumentCache=new wre(r=>this.referenceDelegate.Ls(r)),this.serializer=new TV(t),this.qs=new _re(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yre,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new vre(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new Ere(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return ve.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Ere extends Hte{constructor(e){super(),this.currentSequenceNumber=e}}class wm{constructor(e){this.persistence=e,this.Qs=new jA,this.js=null}static zs(e){return new wm(e)}get Ws(){if(this.js)return this.js;throw Ze()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ve.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ve.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Ws,r=>{const i=ze.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,it.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ve.or([()=>ve.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class qA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Dt(),i=Dt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qA(e,t.fromCache,r,i)}}class tU{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(B2(t))return ve.resolve(null);let r=Kr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=om(t,null,"F"),r=Kr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Dt(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(t,a);return this.zi(t,c,o,l.readTime)?this.Ki(e,om(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,r,i){return B2(t)||i.isEqual(it.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(sA()<=$t.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bA(t)),this.Wi(e,o,t,function o2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=it.fromTimestamp(1e9===r?new Dn(t+1,0):new Dn(t,r));return new mi(i,ze.empty(),e)}(i,-1)))})}ji(e,t){let r=new yn($2(e));return t.forEach((i,s)=>{oh(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return sA()<=$t.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",bA(t)),this.Ui.getDocumentsMatchingQuery(e,t,mi.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Sre{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new pn(wt),this.Yi=new ao(s=>Ba(s),ih),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function rU(n,e){return WA.apply(this,arguments)}function WA(){return WA=se(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Dt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),WA.apply(this,arguments)}function iU(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Dre(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kc(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=se(function*(n,e,t){const r=qe(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ho(o))throw o;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),KA.apply(this,arguments)}function Em(n,e,t){const r=qe(n);let i=it.min(),s=Dt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=qe(a),h=u.Yi.get(c);return void 0!==h?ve.resolve(u.Ji.get(h)):u.Bs.getTargetData(l,c)}(r,o,Kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:it.min(),t?s:Dt())).next(a=>(function lU(n,e,t){let r=n.Xi.get(e)||it.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function G2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class ZA{constructor(){this.activeTargetIds=function CA(){return xne}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dU{constructor(){this.Hr=new ZA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ZA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mre{Yr(e){}shutdown(){}}class hU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Im=null;function tS(){return null===Im?Im=268435456+Math.round(2147483648*Math.random()):Im++,"0x"+Im.toString(16)}const kre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rre{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Lr="WebChannelConnection";class Ore extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=tS(),a=this.To(e,t);Le("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(Le("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ji("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+mc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${kre[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=tS();return new Promise((o,a)=>{const l=new kte;l.setWithCredentials(!0),l.listenOnce(xte.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case iA.NO_ERROR:const u=l.getResponseJson();Le(Lr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case iA.TIMEOUT:Le(Lr,`RPC '${e}' ${s} timed out`),a(new Re(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case iA.HTTP_ERROR:const h=l.getStatus();if(Le(Lr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let b=l.getResponseJson();Array.isArray(b)&&(b=b[0]);const M=b?.error;if(M&&M.status&&M.message){const q=function(ae){const he=ae.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(he)>=0?he:Ce.UNKNOWN}(M.status);a(new Re(q,M.message))}else a(new Re(Ce.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Re(Ce.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Le(Lr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Le(Lr,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=tS(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Tte(),a=Dte(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Mte({})),this.Eo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Le(Lr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let b=!1,M=!1;const q=new Rre({ro:he=>{M?Le(Lr,`Not sending because RPC '${e}' stream ${i} is closed:`,he):(b||(Le(Lr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),b=!0),Le(Lr,`RPC '${e}' stream ${i} sending:`,he),h.send(he))},oo:()=>h.close()}),ae=(he,Se,Me)=>{he.listen(Se,we=>{try{Me(we)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return ae(h,qg.EventType.OPEN,()=>{M||Le(Lr,`RPC '${e}' stream ${i} transport opened.`)}),ae(h,qg.EventType.CLOSE,()=>{M||(M=!0,Le(Lr,`RPC '${e}' stream ${i} transport closed`),q.wo())}),ae(h,qg.EventType.ERROR,he=>{M||(M=!0,Ji(Lr,`RPC '${e}' stream ${i} transport errored:`,he),q.wo(new Re(Ce.UNAVAILABLE,"The operation could not be completed")))}),ae(h,qg.EventType.MESSAGE,he=>{var Se;if(!M){const Me=he.data[0];rt(!!Me);const Ke=Me.error||(null===(Se=Me[0])||void 0===Se?void 0:Se.error);if(Ke){Le(Lr,`RPC '${e}' stream ${i} received error:`,Ke);const at=Ke.status;let pt=function(fo){const Kc=Yn[fo];if(void 0!==Kc)return aV(Kc)}(at),gr=Ke.message;void 0===pt&&(pt=Ce.INTERNAL,gr="Unknown error status: "+at+" with message "+Ke.message),M=!0,q.wo(new Re(pt,gr)),h.close()}else Le(Lr,`RPC '${e}' stream ${i} received:`,Me),q._o(Me)}}),ae(a,Pte.STAT_EVENT,he=>{he.stat===e2.PROXY?Le(Lr,`RPC '${e}' stream ${i} detected buffering proxy`):he.stat===e2.NOPROXY&&Le(Lr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{q.fo()},0),q}}function Tm(){return typeof document<"u"?document:null}function Sh(n){return new $ne(n,!0)}class nS{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class pU{constructor(e,t,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new nS(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return se(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return se(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return se(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(jn(t.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===Ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Re(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(se(function*(){e.state=0,e.start()}))}tu(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nre extends pU{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function qne(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ze(),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(rt(void 0===c||"string"==typeof c),rr.fromBase64String(c||"")):(rt(void 0===c||c instanceof Uint8Array),rr.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?Ce.UNKNOWN:aV(l.code);return new Re(c,l.message||"")}(o);t=new hV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ts(n,r.document.name),s=$n(r.document.updateTime),o=r.document.createTime?$n(r.document.createTime):it.min(),a=new Er({mapValue:{fields:r.document.fields}}),l=vn.newFoundDocument(i,s,o,a);t=new dm(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Ts(n,r.document),s=r.readTime?$n(r.readTime):it.min(),o=vn.newNoDocument(i,s);t=new dm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ts(n,r.document);t=new dm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ze();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Lne(i,s);t=new dV(r.targetId,o)}}var l;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return it.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?it.min():s.readTime?$n(s.readTime):it.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=gh(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=rm(a)?{documents:CV(i,a)}:{query:RA(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=mV(i,s.resumeToken);const l=xA(i,s.expectedCount);null!==l&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(it.min())>0){o.readTime=Tc(i,s.snapshotVersion.toTimestamp());const l=xA(i,s.expectedCount);null!==l&&(o.expectedCount=l)}return o}(this.serializer,e);const r=function Kne(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=gh(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fre extends pU{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Wne(n,e){return n&&n.length>0?(rt(void 0!==e),n.map(t=>function(r,i){let s=$n(r.updateTime?r.updateTime:i);return s.isEqual(it.min())&&(s=$n(i)),new Rne(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.cu(r,t)}return rt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=gh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function mh(n,e){let t;if(e instanceof Sc)t={update:wV(n,e.key,e.value)};else if(e instanceof Ic)t={delete:ph(n,e.key)};else if(e instanceof lo)t={update:wV(n,e.key,e.data),updateMask:Jne(e.fieldMask)};else{if(!(e instanceof EA))return Ze();t={verify:ph(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ec)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ga)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $a)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ac)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Ze()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Hne(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ze()),t;var i}(this.serializer,r))};this.Wo(t)}}class Lre extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Re(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(Ce.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(Ce.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Ure{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(jn(t),this.mu=!1):Le("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Bre{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(se(function*(){var l;ta(o)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(l=se(function*(c){const u=qe(c);u.vu.add(4),yield Rc(u),u.bu.set("Unknown"),u.vu.delete(4),yield Ih(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.bu=new Ure(r,i)}}function Ih(n){return iS.apply(this,arguments)}function iS(){return iS=se(function*(n){if(ta(n))for(const e of n.Ru)yield e(!0)}),iS.apply(this,arguments)}function Rc(n){return sS.apply(this,arguments)}function sS(){return sS=se(function*(n){for(const e of n.Ru)yield e(!1)}),sS.apply(this,arguments)}function Dm(n,e){const t=qe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),lS(t)?aS(t):Nc(t).Ko()&&oS(t,e))}function Th(n,e){const t=qe(n),r=Nc(t);t.Au.delete(e),r.Ko()&&gU(t,e),0===t.Au.size&&(r.Ko()?r.jo():ta(t)&&t.bu.set("Unknown"))}function oS(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nc(n).su(e)}function gU(n,e){n.Vu.qt(e),Nc(n).iu(e)}function aS(n){n.Vu=new Une({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Nc(n).start(),n.bu.gu()}function lS(n){return ta(n)&&!Nc(n).Uo()&&n.Au.size>0}function ta(n){return 0===qe(n).vu.size}function mU(n){n.Vu=void 0}function jre(n){return cS.apply(this,arguments)}function cS(){return cS=se(function*(n){n.Au.forEach((e,t)=>{oS(n,e)})}),cS.apply(this,arguments)}function Gre(n,e){return uS.apply(this,arguments)}function uS(){return uS=se(function*(n,e){mU(n),lS(n)?(n.bu.Iu(e),aS(n)):n.bu.set("Unknown")}),uS.apply(this,arguments)}function $re(n,e,t){return dS.apply(this,arguments)}function dS(){return dS=se(function*(n,e,t){if(n.bu.set("Online"),e instanceof hV&&2===e.state&&e.cause)try{yield(r=se(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xm(n,r)}else if(e instanceof dm?n.Vu.Ht(e):e instanceof dV?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(it.min()))try{const r=yield iU(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(rr.EMPTY_BYTE_STRING,c.snapshotVersion)),gU(i,a);const u=new co(c.target,a,l,c.sequenceNumber);oS(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield xm(n,r)}var r}),dS.apply(this,arguments)}function xm(n,e,t){return hS.apply(this,arguments)}function hS(){return hS=se(function*(n,e,t){if(!Ho(e))throw e;n.vu.add(1),yield Rc(n),n.bu.set("Offline"),t||(t=()=>iU(n.localStore)),n.asyncQueue.enqueueRetryable(se(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Ih(n)}))}),hS.apply(this,arguments)}function _U(n,e){return e().catch(t=>xm(n,t,e))}function Oc(n){return fS.apply(this,arguments)}function fS(){return fS=se(function*(n){const e=qe(n),t=na(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Hre(e);)try{const i=yield Dre(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,zre(e,i)}catch(i){yield xm(e,i)}yU(e)&&vU(e)}),fS.apply(this,arguments)}function Hre(n){return ta(n)&&n.Eu.length<10}function zre(n,e){n.Eu.push(e);const t=na(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function yU(n){return ta(n)&&!na(n).Uo()&&n.Eu.length>0}function vU(n){na(n).start()}function qre(n){return pS.apply(this,arguments)}function pS(){return pS=se(function*(n){na(n).hu()}),pS.apply(this,arguments)}function Wre(n){return gS.apply(this,arguments)}function gS(){return gS=se(function*(n){const e=na(n);for(const t of n.Eu)e.uu(t.mutations)}),gS.apply(this,arguments)}function Kre(n,e,t){return mS.apply(this,arguments)}function mS(){return mS=se(function*(n,e,t){const r=n.Eu.shift(),i=SA.from(r,e,t);yield _U(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Oc(n)}),mS.apply(this,arguments)}function Qre(n,e){return _S.apply(this,arguments)}function _S(){return _S=se(function*(n,e){var t;e&&na(n).ou&&(yield(t=se(function*(r,i){if(function oV(n){switch(n){default:return Ze();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}(s=i.code)&&s!==Ce.ABORTED){const o=r.Eu.shift();na(r).Qo(),yield _U(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Oc(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),yU(n)&&vU(n)}),_S.apply(this,arguments)}function wU(n,e){return yS.apply(this,arguments)}function yS(){return yS=se(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=ta(t);t.vu.add(3),yield Rc(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Ih(t)}),yS.apply(this,arguments)}function wS(){return wS=se(function*(n,e){const t=qe(n);e?(t.vu.delete(2),yield Ih(t)):e||(t.vu.add(2),yield Rc(t),t.bu.set("Unknown"))}),wS.apply(this,arguments)}function Nc(n){return n.Su||(n.Su=function(e,t,r){const i=qe(e);return i.fu(),new Nre(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:jre.bind(null,n),ao:Gre.bind(null,n),nu:$re.bind(null,n)}),n.Ru.push(function(){var e=se(function*(t){t?(n.Su.Qo(),lS(n)?aS(n):n.bu.set("Unknown")):(yield n.Su.stop(),mU(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function na(n){return n.Du||(n.Du=function(e,t,r){const i=qe(e);return i.fu(),new Fre(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:qre.bind(null,n),ao:Qre.bind(null,n),au:Wre.bind(null,n),cu:Kre.bind(null,n)}),n.Ru.push(function(){var e=se(function*(t){t?(n.Du.Qo(),yield Oc(n)):(yield n.Du.stop(),n.Eu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class bS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new bS(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fc(n,e){if(jn("AsyncQueue",`${e}: ${n}`),Ho(n))return new Re(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Lc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=ah(),this.sortedSet=new pn(this.comparator)}static emptySet(e){return new Lc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Lc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bU{constructor(){this.Cu=new pn(ze.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ze():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Vc{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Vc(e,t,Lc.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Yre{constructor(){this.Nu=void 0,this.listeners=[]}}class Xre{constructor(){this.queries=new ao(e=>j2(e),sh),this.onlineState="Unknown",this.ku=new Set}}function CS(n,e){return ES.apply(this,arguments)}function ES(){return ES=se(function*(n,e){const t=qe(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Yre),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=Fc(o,`Initialization of query '${bA(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&IS(t)}),ES.apply(this,arguments)}function AS(n,e){return SS.apply(this,arguments)}function SS(){return SS=se(function*(n,e){const t=qe(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),SS.apply(this,arguments)}function Jre(n,e){const t=qe(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&IS(t)}function Zre(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function IS(n){n.ku.forEach(e=>{e.next()})}class TS{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Vc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class AU{constructor(e){this.key=e}}class SU{constructor(e){this.key=e}}class IU{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Dt(),this.mutatedKeys=Dt(),this.tc=$2(e),this.ec=new Lc(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new bU,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const b=i.get(u),M=oh(this.query,h)?h:null,q=!!b&&this.mutatedKeys.has(b.key),ae=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let he=!1;b&&M?b.data.isEqual(M.data)?q!==ae&&(r.track({type:3,doc:M}),he=!0):this.rc(b,M)||(r.track({type:2,doc:M}),he=!0,(l&&this.tc(M,l)>0||c&&this.tc(M,c)<0)&&(a=!0)):!b&&M?(r.track({type:0,doc:M}),he=!0):b&&!M&&(r.track({type:1,doc:b}),he=!0,(l||c)&&(a=!0)),he&&(M?(o=o.add(M),s=ae?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(h,b){const M=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return M(h)-M(b)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==s.length||l?{snapshot:new Vc(this.query,e.ec,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new bU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Dt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new SU(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new AU(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Dt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Vc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class nie{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rie{constructor(e){this.key=e,this.fc=!1}}class iie{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ao(a=>j2(a),sh),this._c=new Map,this.mc=new Set,this.gc=new pn(ze.comparator),this.yc=new Map,this.Ic=new jA,this.Tc={},this.Ec=new Map,this.Ac=Qa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function sie(n,e){return DS.apply(this,arguments)}function DS(){return DS=se(function*(n,e){const t=function XS(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lie.bind(null,e),e.dc.nu=Jre.bind(null,e.eventManager),e.dc.Pc=Zre.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Mc(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,ve.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new co(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Kr(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function xS(n,e,t,r,i){return PS.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&Dm(t.remoteStore,o)}return i}),DS.apply(this,arguments)}function PS(){return PS=se(function*(n,e,t,r,i){n.Rc=(h,b,M)=>{return(q=se(function*(ae,he,Se,Me){let we=he.view.sc(Se);we.zi&&(we=yield Em(ae.localStore,he.query,!1).then(({documents:pt})=>he.view.sc(pt,we)));const Ke=Me&&Me.targetChanges.get(he.targetId),at=he.view.applyChanges(we,ae.isPrimaryClient,Ke);return BS(ae,he.targetId,at.cc),at.snapshot}),function(ae,he,Se,Me){return q.apply(this,arguments)})(n,h,b,M);var q};const s=yield Em(n.localStore,e,!0),o=new IU(e,s.ir),a=o.sc(s.documents),l=fh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);BS(n,t,c.cc);const u=new nie(e,t,o);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),PS.apply(this,arguments)}function oie(n,e){return MS.apply(this,arguments)}function MS(){return MS=se(function*(n,e){const t=qe(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!sh(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield kc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Th(t.remoteStore,r.targetId),Uc(t,r.targetId)}).catch($o))):(Uc(t,r.targetId),yield kc(t.localStore,r.targetId,!0))}),MS.apply(this,arguments)}function kS(){return kS=se(function*(n,e,t){const r=function JS(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uie.bind(null,e),e}(n);try{const i=yield function(s,o){const a=qe(s),l=Dn.now(),c=o.reduce((b,M)=>b.add(M.key),Dt());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",b=>{let M=si(),q=Dt();return a.Zi.getEntries(b,c).next(ae=>{M=ae,M.forEach((he,Se)=>{Se.isValidDocument()||(q=q.add(he))})}).next(()=>a.localDocuments.getOverlayedDocuments(b,M)).next(ae=>{u=ae;const he=[];for(const Se of o){const Me=Nne(Se,u.get(Se.key).overlayedDocument);null!=Me&&he.push(new lo(Se.key,Me,T2(Me.value.mapValue),En.exists(!0)))}return a.mutationQueue.addMutationBatch(b,l,he,o)}).next(ae=>{h=ae;const he=ae.applyToLocalDocumentSet(u,q);return a.documentOverlayCache.saveOverlays(b,ae.batchId,he)})}).then(()=>({batchId:h.batchId,changes:z2(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new pn(wt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield uo(r,i.changes),yield Oc(r.remoteStore)}catch(i){const s=Fc(i,"Failed to persist write");t.reject(s)}}),kS.apply(this,arguments)}function TU(n,e){return RS.apply(this,arguments)}function RS(){return RS=se(function*(n,e){const t=qe(n);try{const r=yield function Tre(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const b=i.get(h);if(!b)return;a.push(t.Bs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Bs.addMatchingKeys(s,u.addedDocuments,h)));let M=b.withSequenceNumber(s.currentSequenceNumber);var q,ae,he;null!==e.targetMismatches.get(h)?M=M.withResumeToken(rr.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):u.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(u.resumeToken,r)),i=i.insert(h,M),ae=M,he=u,(0===(q=b).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,M))});let l=si(),c=Dt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function sU(n,e,t){let r=Dt(),i=Dt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=si();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(it.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(it.min())){const u=t.Bs.getLastRemoteSnapshotVersion(s).next(h=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ve.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?rt(o.fc):i.removedDocuments.size>0&&(rt(o.fc),o.fc=!1))}),yield uo(t,r,e)}catch(r){yield $o(r)}}),RS.apply(this,arguments)}function DU(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=qe(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Mu(o)&&(l=!0)}),l&&IS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lie(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=se(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new pn(ze.comparator);o=o.insert(s,vn.newNoDocument(s,it.min()));const a=Dt().add(s),l=new hh(it.min(),new Map,new pn(wt),o,a);yield TU(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),jS(r)}else yield kc(r.localStore,e,!1).then(()=>Uc(r,e,t)).catch($o)}),OS.apply(this,arguments)}function cie(n,e){return NS.apply(this,arguments)}function NS(){return NS=se(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield function Ire(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let b=ve.resolve();return h.forEach(M=>{b=b.next(()=>c.getEntry(a,M)).next(q=>{const ae=l.docVersions.get(M);rt(null!==ae),q.version.compareTo(ae)<0&&(u.applyToRemoteDocument(q,l),q.isValidDocument()&&(q.setReadTime(l.commitVersion),c.addEntry(q)))})}),b.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Dt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);US(t,r,null),VS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield uo(t,i)}catch(i){yield $o(i)}}),NS.apply(this,arguments)}function uie(n,e,t){return FS.apply(this,arguments)}function FS(){return FS=se(function*(n,e,t){const r=qe(n);try{const i=yield function(s,o){const a=qe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(rt(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);US(r,e,t),VS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield uo(r,i)}catch(i){yield $o(i)}}),FS.apply(this,arguments)}function VS(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function US(n,e,t){const r=qe(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Uc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||xU(n,r)})}function xU(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Th(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),jS(n))}function BS(n,e,t){for(const r of t)r instanceof AU?(n.Ic.addReference(r.key,e),hie(n,r)):r instanceof SU?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||xU(n,r.key)):Ze()}function hie(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.mc.add(r),jS(n))}function jS(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ze(Ht.fromString(e)),r=n.Ac.next();n.yc.set(r,new rie(t)),n.gc=n.gc.insert(t,r),Dm(n.remoteStore,new co(Kr(Cc(t.path)),r,"TargetPurposeLimboResolution",_i.ct))}}function uo(n,e,t){return GS.apply(this,arguments)}function GS(){return GS=se(function*(n,e,t){const r=qe(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=qA.Li(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=se(function*(l,c){const u=qe(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ve.forEach(c,b=>ve.forEach(b.Fi,M=>u.persistence.referenceDelegate.addReference(h,b.targetId,M)).next(()=>ve.forEach(b.Bi,M=>u.persistence.referenceDelegate.removeReference(h,b.targetId,M)))))}catch(h){if(!Ho(h))throw h;Le("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const b=h.targetId;if(!h.fromCache){const M=u.Ji.get(b),ae=M.withLastLimboFreeSnapshotVersion(M.snapshotVersion);u.Ji=u.Ji.insert(b,ae)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),GS.apply(this,arguments)}function fie(n,e){return $S.apply(this,arguments)}function $S(){return $S=se(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield rU(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new Re(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uo(t,r.er)}var i}),$S.apply(this,arguments)}function pie(n,e){const t=qe(n),r=t.yc.get(e);if(r&&r.fc)return Dt().add(r.key);{let i=Dt();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Pm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return se(function*(){t.serializer=Sh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function nU(n,e,t,r){return new Sre(n,e,t,r)}(this.persistence,new tU,e.initialUser,this.serializer)}createPersistence(e){return new GA(wm.zs,this.serializer)}createSharedClientState(e){return new dU}terminate(){var e=this;return se(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bc{initialize(e,t){var r=this;return se(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>DU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=fie.bind(null,r.syncEngine),yield function vS(n,e){return wS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xre}createDatastore(e){const t=Sh(e.databaseInfo.databaseId),r=new Ore(e.databaseInfo);return new Lre(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>DU(this.syncEngine,a,0),o=hU.D()?new hU:new Mre,new Bre(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new iie(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=se(function*(t){const r=qe(t);Le("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Rc(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Mm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Tie{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hr.UNAUTHENTICATED,this.clientId=i2.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=se(function*(a){Le("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return se(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(se(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Fc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function km(n,e){return ZS.apply(this,arguments)}function ZS(){return ZS=se(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=se(function*(s){r.isEqual(s)||(yield rU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ZS.apply(this,arguments)}function eI(n,e){return tI.apply(this,arguments)}function tI(){return tI=se(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function nI(n){return rI.apply(this,arguments)}(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>wU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>wU(e.remoteStore,s)),n._onlineComponents=e}),tI.apply(this,arguments)}function rI(){return rI=se(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield km(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function NU(n){return"FirebaseError"===n.name?n.code===Ce.FAILED_PRECONDITION||n.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Ji("Error using user provided cache. Falling back to memory cache: "+t),yield km(n,new Pm)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),yield km(n,new Pm);return n._offlineComponents}),rI.apply(this,arguments)}function Rm(n){return iI.apply(this,arguments)}function iI(){return iI=se(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),yield eI(n,n._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),yield eI(n,new Bc))),n._onlineComponents}),iI.apply(this,arguments)}function jc(n){return oI.apply(this,arguments)}function oI(){return oI=se(function*(n){const e=yield Rm(n),t=e.eventManager;return t.onListen=sie.bind(null,e.syncEngine),t.onUnlisten=oie.bind(null,e.syncEngine),t}),oI.apply(this,arguments)}function jU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const GU=new Map;function aI(n,e,t){if(!t)throw new Re(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $U(n){if(!ze.isDocumentKey(n))throw new Re(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HU(n){if(ze.isDocumentKey(n))throw new Re(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ze()}function jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nm(n);throw new Re(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class qU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Fie(n,e,t,r){if(!0===e&&!0===r)throw new Re(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Re(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Re(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Re(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ote;switch(t.type){case"firstParty":return new Vte(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=GU.get(e);t&&(Le("ComponentProvider","Removing Datastore"),GU.delete(e),t.terminate())}(this),Promise.resolve()}}class Hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class Ar{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ar(this.firestore,e,this._query)}}class Ds extends Ar{constructor(e,t,r){super(e,t,Cc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new ze(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function ho(n,e,...t){if(n=zr(n),aI("collection","path",e),n instanceof Dh){const r=Ht.fromString(e,...t);return HU(r),new Ds(n,null,r)}{if(!(n instanceof Hn||n instanceof Ds))throw new Re(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ht.fromString(e,...t));return HU(r),new Ds(n.firestore,null,r)}}function Xa(n,e,...t){if(n=zr(n),1===arguments.length&&(e=i2.A()),aI("doc","path",e),n instanceof Dh){const r=Ht.fromString(e,...t);return $U(r),new Hn(n,null,new ze(r))}{if(!(n instanceof Hn||n instanceof Ds))throw new Re(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ht.fromString(e,...t));return $U(r),new Hn(n.firestore,n instanceof Ds?n.converter:null,new ze(r))}}class Vie{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new nS(this,"async_queue_retry"),this.Xc=()=>{const t=Tm();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Tm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Tm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new nr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return se(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ho(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,jn("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=bS.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Ze()}verifyOperationInProgress(){}sa(){var e=this;return se(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class wn extends Dh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vie,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||KU(this),this._firestoreClient.terminate()}}function Xn(n){return n._firestoreClient||KU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function KU(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pne(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,jU(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new Tie(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(rr.fromBase64String(e))}catch(t){throw new Re(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ja(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class XU{constructor(e){this._methodName=e}}class cI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}const Gie=/^__.*__$/;class $ie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}function ZU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class Fm{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Vm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ZU(this.ca)&&Gie.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Hie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sh(e)}ya(e,t,r,i=!1){return new Fm({ca:e,methodName:t,ga:r,path:Gn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $c(n){const e=n._freezeSettings(),t=Sh(n._databaseId);return new Hie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uI(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);hI("Data must be an object, but it was:",o,r);const a=iB(r,o);let l,c;if(s.merge)l=new ii(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const b=Mh(e,h,t);if(!o.contains(b))throw new Re(Ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);oB(u,b)||u.push(b)}l=new ii(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new $ie(new Er(a),l,c)}function Za(n,e){if(sB(n=zr(n)))return hI("Unsupported field value:",e,n),iB(n,e);if(n instanceof XU)return function(t,r){if(!ZU(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Za(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=zr(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Q2(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Dn.fromDate(t);return{timestampValue:Tc(r.serializer,i)}}if(t instanceof Dn){const i=new Dn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Tc(r.serializer,i)}}if(t instanceof cI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ja)return{bytesValue:mV(r.serializer,t._byteString)};if(t instanceof Hn){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:PA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Nm(t)}`)}(n,e)}function iB(n,e){const t={};return y2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(n,(r,i)=>{const s=Za(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function sB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dn||n instanceof cI||n instanceof Ja||n instanceof Hn||n instanceof XU)}function hI(n,e,t){if(!sB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Nm(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Mh(n,e,t){if((e=zr(e))instanceof Gc)return e._internalPath;if("string"==typeof e)return Lm(n,e);throw Vm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Kie=new RegExp("[~\\*/\\[\\]]");function Lm(n,e,t){if(e.search(Kie)>=0)throw Vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gc(...e.split("."))._internalPath}catch{throw Vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vm(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Re(Ce.INVALID_ARGUMENT,a+n+l)}function oB(n,e){return n.some(t=>t.isEqual(e))}class fI{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Um("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qie extends fI{data(){return super.data()}}function Um(n,e){return"string"==typeof e?Lm(n,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}class pI{}class Yie extends pI{}function lB(n,e,...t){let r=[];e instanceof pI&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof Hc).length,o=i.filter(a=>a instanceof kh).length;if(s>1||s>0&&o>0)throw new Re(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class kh extends Yie{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new kh(e,t,r)}_apply(e){const t=this._parse(e);return hB(e._query,t),new Ar(e.firestore,e.converter,wA(e._query,t))}_parse(e){const t=$c(e.firestore);return function(i,s,o,a,l,c,u){let h;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new Re(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){dB(u,c);const b=[];for(const M of u)b.push(uB(a,i,M));h={arrayValue:{values:b}}}else h=uB(a,i,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||dB(u,c),h=function rB(n,e,t,r=!1){return Za(t,n.ya(r?4:3,e))}(o,"where",u,"in"===c||"not-in"===c);return Bt.create(l,c,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hc extends pI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hc(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:rn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)hB(s,a),s=wA(s,a)}(e._query,t),new Ar(e.firestore,e.converter,wA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function uB(n,e,t){if("string"==typeof(t=zr(t))){if(""===t)throw new Re(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vA(e)&&-1!==t.indexOf("/"))throw new Re(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ht.fromString(t));if(!ze.isDocumentKey(r))throw new Re(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ua(n,new ze(r))}if(t instanceof Hn)return Ua(n,t._key);throw new Re(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(t)}.`)}function dB(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hB(n,e){if(e.isInequality()){const r=sm(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Re(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=yA(n);null!==s&&function fB(n,e,t){if(!t.isEqual(e))throw new Re(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(Ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Xie{convertValue(e,t="none"){switch(Ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ze()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return zo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new cI(Fn(e.latitude),Fn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(eh(e));default:return null}}convertTimestamp(e){const t=qo(e);return new Dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ht.fromString(e);rt(IV(r));const i=new Va(r.get(1),r.get(3)),s=new ze(r.popFirst(5));return i.isEqual(t)||jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function mI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zc extends fI{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $m(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Um("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $m extends zc{data(e={}){return super.data(e)}}class qc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new el(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $m(this._firestore,this._userDataWriter,r.key,r,new el(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new $m(r._firestore,r._userDataWriter,o.doc.key,o.doc,new el(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new $m(r._firestore,r._userDataWriter,o.doc.key,o.doc,new el(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Zie(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}class ra extends Xie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}function gB(n){n=jt(n,Ar);const e=jt(n.firestore,wn),t=Xn(e),r=new ra(e);return function aB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function BU(n,e,t={}){const r=new nr;return n.asyncQueue.enqueueAndForget(se(function*(){return function(i,s,o,a,l){const c=new Mm({next:h=>{s.enqueueAndForget(()=>AS(i,u)),h.fromCache&&"server"===a.source?l.reject(new Re(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new TS(o,c,{includeMetadataChanges:!0,Ku:!0});return CS(i,u)}(yield jc(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new qc(e,r,n,i))}function _I(n,e,t){n=jt(n,Hn);const r=jt(n.firestore,wn),i=mI(n.converter,e,t);return Rh(r,[uI($c(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,En.none())])}function mB(n){return Rh(jt(n.firestore,wn),[new Ic(n._key,En.none())])}function _B(n,e){const t=jt(n.firestore,wn),r=Xa(n),i=mI(n.converter,e);return Rh(t,[uI($c(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}function Rh(n,e){return function(t,r){const i=new nr;return t.asyncQueue.enqueueAndForget(se(function*(){return function aie(n,e,t){return kS.apply(this,arguments)}(yield function sI(n){return Rm(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Xn(n),e)}!function(n,e=!0){mc=nc,_s(new Qi("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new wn(new Fte(t.getProvider("auth-internal")),new Ute(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Re(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xi(t2,"3.13.0",n),xi(t2,"3.13.0","esm2017")}();var Wc=(()=>(function(n){n.USER="USER",n.CLIENT="CLIENT",n.ADMIN="ADMIN"}(Wc||(Wc={})),Wc))();let ki=(()=>{var n;class e{constructor(){this.app=zO(hse),this.analytics=function VX(n=aw()){const e=No(n=zr(n),eg);return e.isInitialized()?e.getImmediate():function UX(n,e={}){const t=No(n,eg);if(t.isInitialized()){const i=t.getImmediate();if(fd(e,t.getOptions()))return i;throw qr.create("already-initialized")}return t.initialize({options:e})}(n)}(this.app),this.firestore=function Bie(n,e){const r="string"==typeof n?n:e||"(default)",i=No("object"==typeof n?n:aw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=DO(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function Lie(n,e,t,r={}){var i;const s=(n=jt(n,Dh))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=hr.MOCK_USER;else{a=function LK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qp(JSON.stringify({alg:"none",type:"JWT"})),qp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Re(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new hr(c)}n._authCredentials=new Nte(new n2(a,l))}}(i,...s)}return i}(this.app),this.auth=Iee(this.app),this.isAdmin=!1,this.categoryCollection=ho(this.firestore,"categories"),this.coursesCollection=ho(this.firestore,"courses"),this.data={},this.refreshEvent=new Wt,this.refreshUser=new Wt,this.refreshUserSession(),this.refresh(Qt.CATEGORIES),this.refresh(Qt.COURSES),this.refresh(Qt.TOPICS)}refreshUserSession(){let r=sessionStorage.getItem("user"),i=sessionStorage.getItem("login"),s=!1;if(null!=i&&""!=i){let o=new Date(i).getTime();s=(new Date).getTime()-o<=72e6}s&&r&&(r=JSON.parse(r),this.user=r,this.isAdmin=this.user?.role==Wc.ADMIN)}refresh(r){gB(lB(ho(this.firestore,r))).then(o=>{this.data[r]=[],o.forEach(a=>{let l=a.data();l.id=a.id,this.data[r].push(l)}),this.refreshEvent.emit(r)})}login(r){var i=this;return se(function*(){const s=Xa(i.firestore,"users",r.id),o=yield function ese(n){n=jt(n,Hn);const e=jt(n.firestore,wn);return function UU(n,e,t={}){const r=new nr;return n.asyncQueue.enqueueAndForget(se(function*(){return function(i,s,o,a,l){const c=new Mm({next:h=>{s.enqueueAndForget(()=>AS(i,u));const b=h.docs.has(o);!b&&h.fromCache?l.reject(new Re(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&h.fromCache&&a&&"server"===a.source?l.reject(new Re(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new TS(Cc(o.path),c,{includeMetadataChanges:!0,Ku:!0});return CS(i,u)}(yield jc(n),n.asyncQueue,e,t,r)})),r.promise}(Xn(e),n._key).then(t=>function yI(n,e,t){const r=t.docs.get(e._key),i=new ra(n);return new zc(n,i,e._key,r,new el(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}(s);if(o.exists()){let a=o.data();console.log("FirestoreService:login:: Existing User :",a),i.user={id:a.id,name:a.name,email:a.email,contact:a.contact,role:a.role,image:a.image},i.refreshUser.emit(i.user),sessionStorage.setItem("login",""+(new Date).toLocaleString()),sessionStorage.setItem("user",JSON.stringify(i.user)),i.log(tl.LOGIN,i.user),i.isAdmin=i.user.role==Wc.ADMIN}else console.log("FirestoreService:login:: Create new user: "+r.email),i.user=r,yield _I(Xa(ho(i.firestore,"users"),r.id),i.user),console.log("FirestoreService:login:: Created new user: "+r.email),i.refreshUser.emit(i.user),sessionStorage.setItem("login",(new Date).toISOString()),sessionStorage.setItem("user",JSON.stringify(i.user)),i.log(tl.SIGN_UP,i.user)})()}logout(){var r=this;return se(function*(){console.log("FirestoreService:logout:: Logging out user: "+r.user?.email),r.user=void 0,sessionStorage.clear(),r.isAdmin=!1,r.log(tl.LOGOUT,r.user),r.refreshUser.emit(r.user)})()}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),xN(this.analytics,r,s)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var Qt=(()=>(function(n){n.USERS="users",n.CATEGORIES="categories",n.COURSES="courses",n.TOPICS="topics",n.ASSESSMENTS="assessments"}(Qt||(Qt={})),Qt))(),tl=(()=>(function(n){n.PAGE_VIEW="PAGE_VIEW",n.LOGIN="login",n.SIGN_UP="sign_up",n.LOGOUT="logout"}(tl||(tl={})),tl))();const hse={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function fse(n,e){if(1&n&&(Te(0,"div",3)(1,"div",4)(2,"div",5),je(3),De(),Te(4,"div",6)(5,"b"),je(6,"Tech: "),De(),je(7),De(),Te(8,"div",7)(9,"a"),je(10,"View Topics"),De()(),Te(11,"div",8)(12,"button",9),je(13,"Launch course"),De()()()()),2&n){const t=e.$implicit;nt(3),sr(t.name),nt(4),sr(t.description),nt(1),ct("routerLink","/courses/"+t.id),nt(4),ct("routerLink","/courses/"+t.id)}}let vB=(()=>{var n;class e{constructor(r){this.firestore=r,this.courses=[],null!=this.firestore.data[Qt.COURSES]&&(this.courses=this.firestore.data[Qt.COURSES],this.sortOrder()),this.firestore.refreshEvent.subscribe(i=>{i==Qt.COURSES&&(this.courses=this.firestore.data[Qt.COURSES],this.sortOrder())})}sortOrder(){this.courses=this.courses.sort((r,i)=>r.order-i.order)}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(ki))},n.\u0275cmp=An({type:n,selectors:[["app-courses"]],decls:3,vars:1,consts:[[1,"c"],[1,"row","p-3"],["class","col-12 col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4"],[1,"m-2","p-3","border","border-secondary","bg-light"],[1,"n"],[1,"t"],[1,"v","pointer",3,"routerLink"],[1,"b","text-center","mt-2"],[1,"btn","btn-primary",3,"routerLink"]],template:function(r,i){1&r&&(Te(0,"div",0)(1,"div",1),qt(2,fse,14,4,"div",2),De()()),2&r&&(nt(2),ct("ngForOf",i.courses))},dependencies:[Ws,ko],styles:[".n[_ngcontent-%COMP%]{font-size:24px}.v[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:underline}"]}),e})(),wB=(()=>{var n;class e{constructor(){this.isMobile=function(){let n=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(n=!0),n;var e}(),this.menu=!this.isMobile}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=An({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(r,i){1&r&&Mn(0,"app-courses")},dependencies:[vB],styles:[".a[_ngcontent-%COMP%]{height:70px;background-color:#6495ed}.a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:35px;font-weight:700;margin:10px;color:#fff}"]}),e})(),pse=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=An({type:n,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(Mn(0,"div",0),Te(1,"div",1)(2,"div",2),Mn(3,"img",3),Te(4,"span",4)(5,"i",5),je(6,"edit"),De()(),Te(7,"div",6)(8,"div",7),je(9,"V.V.S.K Chaitanya"),De(),Te(10,"div",8),je(11,"Software Engineer"),De()()()(),Te(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),je(16,"menu_book"),De(),Te(17,"span"),je(18,"Courses"),De()(),Te(19,"div",12)(20,"i",5),je(21,"assignment"),De(),Te(22,"span"),je(23,"Assessments"),De()(),Te(24,"div",13)(25,"i",5),je(26,"notifications"),De(),Te(27,"span"),je(28,"Notifications"),De()(),Te(29,"div",14)(30,"i",5),je(31,"person"),De(),Te(32,"span"),je(33,"Update Profile"),De()(),Te(34,"div",15)(35,"i",5),je(36,"logout"),De(),Te(37,"span"),je(38,"Logout"),De()()()())},dependencies:[ko],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})(),gse=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=An({type:n,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&Mn(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})();function mse(n,e){if(1&n){const t=qn();Te(0,"i",6),ut("click",function(){Vt(t);const i=st(2);return Ut(i.expand=!i.expand)}),je(1),De()}if(2&n){const t=st(2);nt(1),sr(t.expand?"expand_more":"chevron_right")}}function _se(n,e){if(1&n){const t=qn();Te(0,"div")(1,"app-category",9),ut("select",function(i){return Vt(t),Ut(st(3).select.emit(i))}),De()()}if(2&n){const t=e.$implicit,r=st(3);nt(1),ct("category",t)("current",r.current)}}function yse(n,e){if(1&n&&(Te(0,"div",7),qt(1,_se,2,2,"div",8),De()),2&n){const t=st(2);nt(1),ct("ngForOf",t.category.categories)}}const vse=function(n){return{"active-node":n}};function wse(n,e){if(1&n){const t=qn();Te(0,"div",1)(1,"div",2),qt(2,mse,2,1,"i",3),Te(3,"span",4),ut("click",function(){Vt(t);const i=st();return Ut(i.select.emit(i.category))}),je(4),De()(),qt(5,yse,2,1,"div",5),De()}if(2&n){const t=st();nt(1),ct("ngClass",qy(4,vse,null!=t.current&&t.category.id==t.current.id)),nt(1),ct("ngIf",null!=t.category.categories&&t.category.categories.length>=0),nt(2),sr(t.category.name),nt(1),ct("ngIf",t.expand)}}let bse=(()=>{var n;class e{constructor(){this.select=new Wt,this.expand=!1}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=An({type:n,selectors:[["app-category"]],inputs:{category:"category",current:"current"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","row m-0",4,"ngIf"],[1,"row","m-0"],[1,"col-12","node",3,"ngClass"],["class","material-icons mx-2 pointer align-middle",3,"click",4,"ngIf"],[1,"pointer","text-uppercase",3,"click"],["class","col-12","style","margin-left:15px;",4,"ngIf"],[1,"material-icons","mx-2","pointer","align-middle",3,"click"],[1,"col-12",2,"margin-left","15px"],[4,"ngFor","ngForOf"],[3,"category","current","select"]],template:function(r,i){1&r&&qt(0,wse,6,6,"div",0),2&r&&ct("ngIf",i.category)},dependencies:[Nv,Ws,zi,n],styles:[".node[_ngcontent-%COMP%]{padding:10px 0;font-size:20px;font-weight:700;border-radius:10px}.node[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.active-node[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})();function Cse(n,e){if(1&n){const t=qn();Te(0,"div",11)(1,"app-category",12),ut("select",function(i){return Vt(t),Ut(st().select(i))}),De()()}if(2&n){const t=e.$implicit,r=st();nt(1),ct("category",t)("current",r.category)}}function Ese(n,e){if(1&n){const t=qn();Te(0,"button",13),ut("click",function(){return Vt(t),Ut(st().deleteConfirm=!0)}),Te(1,"i",8),je(2,"delete"),De()()}}function Ase(n,e){if(1&n){const t=qn();Te(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),je(5,"New Category"),De(),Te(6,"button",19),ut("click",function(){return Vt(t),Ut(st().addCategoryModal=!1)}),De()(),Te(7,"div",20)(8,"div",21)(9,"div",22)(10,"input",23),ut("ngModelChange",function(i){return Vt(t),Ut(st().categoryName=i)}),De()()()(),Te(11,"div",24)(12,"button",25),ut("click",function(){return Vt(t),Ut(st().addCategory())}),je(13,"Add"),De()()()()()}if(2&n){const t=st();nt(10),ct("ngModel",t.categoryName)}}function Sse(n,e){if(1&n){const t=qn();Te(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),je(5,"Delete Category"),De(),Te(6,"button",19),ut("click",function(){return Vt(t),Ut(st().deleteConfirm=!1)}),De()(),Te(7,"div",20)(8,"div",21)(9,"div",22),je(10),De()()(),Te(11,"div",24)(12,"button",25),ut("click",function(){return Vt(t),Ut(st().deleteCategory())}),je(13,"Delete"),De()()()()()}if(2&n){const t=st();nt(10),kf(" Confirm to delete ",null==t.category?null:t.category.name," ")}}let Ise=(()=>{var n;class e{constructor(r){this.firestore=r,this.categories=[],this.addCategoryModal=!1,this.category=void 0,this.categoryName="",this.deleteConfirm=!1,this.refresh(),this.firestore.refreshEvent.subscribe(i=>{i==Qt.CATEGORIES&&this.refresh()})}refresh(){this.categories=[];let r=this.firestore.data[Qt.CATEGORIES];r.filter(i=>null==i.parent).forEach(i=>this.categories.push(i)),this.categories.forEach(i=>this.linkCategories(i,r)),console.log(this.categories)}linkCategories(r,i){r.categories=[],i.filter(s=>null!=s.parent&&s.parent==r.id).forEach(s=>{this.linkCategories(s,i),r.categories?.push(s)})}addCategory(){if(console.log(this.category),this.isNotEmpty(this.categoryName)){let r={name:this.categoryName,active:!0};this.category&&(r.parent=this.category.id),_B(this.firestore.categoryCollection,r).then(i=>{alert("Category has been added succesfully ID:"+i.id),this.firestore.refresh(Qt.CATEGORIES)})}else alert("Please enter category name")}isNotEmpty(r){return null!=r&&""!=r}select(r){console.log("Selected Category",r),this.category=r}deleteCategory(){this.deleteConfirm=!1,this.category&&this.category.id&&mB(Xa(this.firestore.firestore,"categories",this.category.id)).then(()=>{alert("Deleted category "+this.category?.name),this.category=void 0,this.firestore.refresh(Qt.CATEGORIES)})}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(ki))},n.\u0275cmp=An({type:n,selectors:[["app-categories"]],decls:15,vars:4,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"c","px-1"],[1,"row","mt-3"],["class","col-12 m-0 h-100",4,"ngFor","ngForOf"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-12","m-0","h-100"],[3,"category","current","select"],[1,"btn","btn-danger",3,"click"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(Te(0,"div",0)(1,"div",1)(2,"span"),je(3,"Categories"),De()()(),Te(4,"div",2)(5,"div",3),qt(6,Cse,2,2,"div",4),De()(),Te(7,"div",5)(8,"div",6)(9,"button",7),ut("click",function(){return i.addCategoryModal=!0}),Te(10,"i",8),je(11,"add"),De()(),qt(12,Ese,3,0,"button",9),De()(),qt(13,Ase,14,1,"div",10),qt(14,Sse,14,1,"div",10)),2&r&&(nt(6),ct("ngForOf",i.categories),nt(6),ct("ngIf",null!=i.category),nt(1),ct("ngIf",i.addCategoryModal),nt(1),ct("ngIf",i.deleteConfirm))},dependencies:[Ws,zi,_a,Hu,zl,bse],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})(),Tse=(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,this.provider=new Jb,i.refreshUser.subscribe(s=>{if(null!=s){var o=sessionStorage.getItem("redirect");o?(sessionStorage.removeItem("redirect"),console.log("Redirecting to ",o),this.router.navigateByUrl(o)):this.router.navigate(["dashboard"])}else this.router.navigate(["home"])})}login(){(function NZ(n,e,t){return JC.apply(this,arguments)})(this.fs.auth,this.provider).then(r=>{Jb.credentialFromResult(r);let o=r.user;this.fs.login({id:o.uid,email:o.email,name:o.displayName,contact:o.phoneNumber,image:o.photoURL,role:Wc.USER})}).catch(r=>{console.error(r),Jb.credentialFromError(r)})}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(or),xe(ki))},n.\u0275cmp=An({type:n,selectors:[["app-login"]],decls:13,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],["src","../../assets/icons/google-logo.png"],[3,"click"]],template:function(r,i){1&r&&(Te(0,"div",0)(1,"div",1)(2,"div")(3,"h5"),je(4,"Welcome to "),Te(5,"b"),je(6,"IMPULSE"),De(),je(7," Network"),De(),Te(8,"p",2),je(9,"To access course contents, login with your google account"),De()(),Mn(10,"img",3),Te(11,"button",4),ut("click",function(){return i.login()}),je(12,"Sign in"),De()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]}),e})(),Dse=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=An({type:n,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(r,i){}}),e})(),xse=(()=>{var n;class e{constructor(r,i){this.router=r,this.fs=i,i.refreshUser.subscribe(s=>this.router.navigate(s?["dashboard"]:["home"]))}logout(){(function KJ(n){return zr(n).signOut()})(this.fs.auth).then(()=>this.fs.logout())}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(or),xe(ki))},n.\u0275cmp=An({type:n,selectors:[["app-logout"]],decls:7,vars:0,consts:[[1,"row","text-center","p-3"],[1,"col-md-4","col-sm-6","col-xs-12","form"],[2,"font-weight","600","font-size","18px"],[3,"click"]],template:function(r,i){1&r&&(Te(0,"div",0)(1,"div",1)(2,"p",2),je(3," Are you sure you want to log-off? "),Mn(4,"br"),De(),Te(5,"button",3),ut("click",function(){return i.logout()}),je(6,"Logout"),De()()())},styles:["img[_ngcontent-%COMP%]{display:block;width:80px;margin:30px auto;box-shadow:0 5px 10px -7px #333;border-radius:50%}.form[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto 10px;padding:30px;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px -3px #333;text-align:center}button[_ngcontent-%COMP%]{border-radius:100px;border:none;background:#719BE6;width:50%;padding:10px;color:#fff;box-shadow:0 2px 10px -3px #719be6;display:block;margin:30px auto 10px}"]}),e})(),Pse=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=An({type:n,selectors:[["app-assessment"]],decls:2,vars:0,template:function(r,i){1&r&&(Te(0,"p"),je(1,"assessment works!"),De())}}),e})();function Mse(n,e){if(1&n&&(Te(0,"tr")(1,"td"),je(2),De(),Te(3,"td"),je(4),De(),Te(5,"td")(6,"i",3),je(7,"open_in_new"),De(),Te(8,"i",4),je(9,"edit"),De(),Te(10,"i",5),je(11,"delete"),De()()()),2&n){const t=e.$implicit;nt(2),sr(t.name),nt(2),sr(t.course)}}let kse=(()=>{var n;class e{constructor(){this.assessments=[],this.assessments.push({id:"asdf",name:"Assess 1",course:"Course 1",content:""})}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=An({type:n,selectors:[["app-assessments"]],decls:14,vars:1,consts:[[1,"container","mt-3"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"material-icons","mx-2","pointer"],[1,"material-icons","mx-2","pointer","text-info"],[1,"material-icons","mx-2","pointer","text-danger"]],template:function(r,i){1&r&&(Te(0,"div",0)(1,"h2"),je(2,"Assessments"),De(),Te(3,"table",1)(4,"thead")(5,"tr")(6,"th"),je(7,"Name"),De(),Te(8,"th"),je(9,"Course"),De(),Te(10,"th"),je(11,"Actions"),De()()(),Te(12,"tbody"),qt(13,Mse,12,2,"tr",2),De()()()),2&r&&(nt(13),ct("ngForOf",i.assessments))},dependencies:[Ws]}),e})();function Rse(n,e){if(1&n&&(Te(0,"div",5)(1,"span"),je(2),De()()),2&n){const t=st();nt(2),sr(t.course.name)}}function Ose(n,e){if(1&n&&(Te(0,"div",6)(1,"div",7)(2,"div",8)(3,"h5",9),je(4),Te(5,"i",10),je(6,"open_in_new"),De()(),Te(7,"h6",11),je(8),De(),Mn(9,"p",12),De()()()),2&n){const t=e.$implicit;nt(4),sr(t.name),nt(1),ct("routerLink","/topics/"+t.id),nt(3),sr(t.description)}}let Nse=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.route=i,this.courses=[],this.id=null,this.topics=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),null!=this.firestore.data[Qt.COURSES]&&(this.courses=this.firestore.data[Qt.COURSES],this.course=this.courses.filter(r=>r.id==this.id)[0]),null!=this.firestore.data[Qt.TOPICS]&&this.setTopics(),this.firestore.refreshEvent.subscribe(r=>{r==Qt.COURSES&&(this.courses=this.firestore.data[Qt.COURSES],this.course=this.courses.filter(i=>i.id==this.id)[0]),r==Qt.TOPICS&&this.setTopics()})}setTopics(){let r=[];r=this.firestore.data[Qt.TOPICS],this.topics=r.filter(i=>null!=i.id&&this.course?.topics?.includes(i.id))}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(ki),xe(Qs))},n.\u0275cmp=An({type:n,selectors:[["app-course"]],decls:5,vars:2,consts:[[1,"row","m-0","px-2","r","text-center"],["class","col-12 text-center",4,"ngIf"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],[1,"col-12","text-center"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"]],template:function(r,i){1&r&&(Te(0,"div",0),qt(1,Rse,3,1,"div",1),De(),Te(2,"div",2)(3,"div",3),qt(4,Ose,10,3,"div",4),De()()),2&r&&(nt(1),ct("ngIf",i.course),nt(3),ct("ngForOf",i.topics))},dependencies:[Ws,zi,ko],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:#6495ed;font-size:25px;font-weight:500}.t[_ngcontent-%COMP%]{font-size:30px}"]}),e})(),Fse=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.router=i}canActivate(r,i){if(null==this.firestore.user){if(r.url.length>0){let s=[];r.url.forEach(o=>s.push(o.path)),sessionStorage.setItem("redirect",s.join("/"))}this.router.navigateByUrl("login")}return!0}}return(n=e).\u0275fac=function(r){return new(r||n)(lt(ki),lt(or))},n.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function Lse(n,e){if(1&n&&(Te(0,"div",7)(1,"div",8)(2,"div",9)(3,"h5",10),je(4),Te(5,"i",11),je(6,"open_in_new"),De()(),Te(7,"h6",12),je(8),De(),Mn(9,"p",13),De()()()),2&n){const t=e.$implicit;nt(4),sr(t.name),nt(1),ct("routerLink","/topics/"+t.id),nt(3),sr(t.description)}}function Vse(n,e){if(1&n){const t=qn();Te(0,"div",14)(1,"div",15)(2,"button",16),ut("click",function(){return Vt(t),Ut(st().addTopicModal=!0)}),Te(3,"i",17),je(4,"add"),De()()()()}}function Use(n,e){if(1&n){const t=qn();Te(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h4",22),je(5,"New Topic"),De(),Te(6,"button",23),ut("click",function(){return Vt(t),Ut(st().addTopicModal=!1)}),De()(),Te(7,"div",24)(8,"div",25)(9,"div",26)(10,"input",27),ut("ngModelChange",function(i){return Vt(t),Ut(st().topic.name=i)}),De()(),Te(11,"div",26)(12,"input",28),ut("ngModelChange",function(i){return Vt(t),Ut(st().topic.description=i)}),De()()()(),Te(13,"div",29)(14,"button",30),ut("click",function(){return Vt(t),Ut(st().addTopic())}),je(15,"Add"),De()()()()()}if(2&n){const t=st();nt(10),ct("ngModel",t.topic.name),nt(2),ct("ngModel",t.topic.description)}}let Bse=(()=>{var n;class e{constructor(r){this.firestore=r,this.addTopicModal=!1,this.topic={name:"",description:"",lock:!1,active:!0},this.topics=[],this.deleteConfirm=!1,this.setTopics(this.firestore.data[Qt.TOPICS]),this.firestore.refreshEvent.subscribe(i=>{Qt.TOPICS&&this.setTopics(this.firestore.data[Qt.TOPICS])})}setTopics(r){null!=r&&(this.topics=r.filter(i=>1==i.active),this.firestore.isAdmin&&(this.topics=r))}addTopic(){console.log(this.topic),this.validate()?_B(ho(this.firestore.firestore,Qt.TOPICS),this.topic).then(r=>{alert("Topic has been added succesfully ID:"+r.id),this.firestore.refresh(Qt.TOPICS)}):alert("Please enter name, description")}validate(){return this.isNotEmpty(this.topic.name)&&this.isNotEmpty(this.topic.description)}isNotEmpty(r){return null!=r&&""!=r}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(ki))},n.\u0275cmp=An({type:n,selectors:[["app-topics"]],decls:9,vars:3,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(Te(0,"div",0)(1,"div",1)(2,"span"),je(3,"Topics"),De()()(),Te(4,"div",2)(5,"div",3),qt(6,Lse,10,3,"div",4),De()(),qt(7,Vse,5,0,"div",5),qt(8,Use,16,2,"div",6)),2&r&&(nt(6),ct("ngForOf",i.topics),nt(1),ct("ngIf",i.firestore.isAdmin),nt(1),ct("ngIf",i.addTopicModal))},dependencies:[Ws,zi,ko,_a,Hu,zl],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:10px;right:10px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();function jse(n,e){if(1&n&&(Te(0,"div",7)(1,"div",8)(2,"span",9),je(3),De(),Te(4,"span",10)(5,"i",11),je(6,"logout"),De(),je(7,"Exit"),De()()()),2&n){const t=st();nt(3),sr(t.topic.name),nt(1),ct("routerLink","/home")}}function Gse(n,e){if(1&n){const t=qn();Te(0,"div",12)(1,"div",13)(2,"span",14),ut("click",function(){return Vt(t),Ut(st().prev())}),Te(3,"i",11),je(4,"chevron_left"),De(),je(5,"PREV"),De()(),Te(6,"div",13)(7,"span",15),ut("click",function(){return Vt(t),Ut(st().next())}),je(8,"NEXT"),Te(9,"i",11),je(10,"chevron_right"),De()()()()}}function $se(n,e){if(1&n){const t=qn();Te(0,"button",21),ut("click",function(){return Vt(t),Ut(st(2).editPageModal=!0)}),Te(1,"i",20),je(2,"edit"),De()()}}function Hse(n,e){if(1&n){const t=qn();Te(0,"div",16)(1,"div",17),qt(2,$se,3,0,"button",18),Te(3,"button",19),ut("click",function(){return Vt(t),Ut(st().addPageModal=!0)}),Te(4,"i",20),je(5,"add"),De()()()()}if(2&n){const t=st();nt(2),ct("ngIf",t.page)}}function zse(n,e){if(1&n){const t=qn();Te(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25)(4,"h4",26),je(5,"Add Page"),De(),Te(6,"button",27),ut("click",function(){return Vt(t),Ut(st().addPageModal=!1)}),De()(),Te(7,"div",28)(8,"div",29)(9,"div",30)(10,"textarea",31),ut("ngModelChange",function(i){return Vt(t),Ut(st().newPage=i)}),De()()()(),Te(11,"div",32)(12,"button",33),ut("click",function(){return Vt(t),Ut(st().addPage())}),je(13,"Add"),De()()()()()}if(2&n){const t=st();nt(10),ct("ngModel",t.newPage)}}function qse(n,e){if(1&n){const t=qn();Te(0,"div",22)(1,"div",34)(2,"div",24)(3,"div",25)(4,"h4",26),je(5,"Edit Page"),De(),Te(6,"button",27),ut("click",function(){return Vt(t),Ut(st().editPageModal=!1)}),De()(),Te(7,"div",28)(8,"div",29)(9,"div",30)(10,"textarea",31),ut("ngModelChange",function(i){return Vt(t),Ut(st().page=i)}),De()()()(),Te(11,"div",32)(12,"button",35),ut("click",function(){return Vt(t),Ut(st().deletePage())}),je(13,"Delete"),De(),Te(14,"button",33),ut("click",function(){return Vt(t),Ut(st().editPage())}),je(15,"Update"),De()()()()()}if(2&n){const t=st();nt(10),ct("ngModel",t.page)}}let Wse=(()=>{var n;class e{constructor(r,i){this.firestore=r,this.route=i,this.id=null,this.page=void 0,this.newPage="",this.pageIndex=0,this.addPageModal=!1,this.editPageModal=!1}ngOnDestroy(){window.postMessage("ToggleHeader")}ngOnInit(){window.postMessage("ToggleHeader"),this.id=this.route.snapshot.paramMap.get("id"),console.log("Topic ID: "+this.id),null==this.firestore.data[Qt.TOPICS]?this.firestore.refreshEvent.subscribe(r=>{r==Qt.TOPICS&&this.refresh()}):this.refresh()}refresh(){var r=void 0;this.id&&null!=this.firestore.data[Qt.TOPICS]&&(r=this.firestore.data[Qt.TOPICS].filter(i=>i.id==this.id)[0]),r&&(this.topic=r),this.topic?.pages&&this.topic?.pages[0]&&(this.page=this.topic.pages[0])}save(){var r=this;return se(function*(){r.topic&&(yield _I(Xa(ho(r.firestore.firestore,Qt.TOPICS),r.topic.id),r.topic))})()}next(){this.topic&&null!=this.topic.pages&&this.pageIndex!=this.topic?.pages?.length-1&&(this.pageIndex++,this.page=this.topic.pages[this.pageIndex])}prev(){this.topic&&null!=this.topic.pages&&0!=this.pageIndex&&(this.pageIndex--,this.page=this.topic.pages[this.pageIndex])}addPage(){var r=this;return se(function*(){r.topic&&(null==r.topic.pages&&(r.topic.pages=[]),r.topic.pages.push(r.newPage),yield r.save(),alert("Page Added"),r.pageIndex=r.topic.pages.length-1,r.page=r.topic.pages[r.pageIndex],r.addPageModal=!1,r.newPage="")})()}deletePage(){var r=this;return se(function*(){r.topic&&null!=r.topic.pages&&r.page&&(r.topic.pages.splice(r.pageIndex,1),yield r.save(),alert("Page Deleted"),r.pageIndex=0,r.page=r.topic.pages[r.pageIndex],r.editPageModal=!1)})()}editPage(){var r=this;return se(function*(){r.topic&&null!=r.topic.pages&&r.page&&(r.topic.pages[r.pageIndex]=r.page,yield r.save(),alert("Page Updated"),r.page=r.topic.pages[r.pageIndex],r.editPageModal=!1)})()}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(ki),xe(Qs))},n.\u0275cmp=An({type:n,selectors:[["app-topic"]],decls:8,vars:6,consts:[["class","row m-0 px-2 r text-center",4,"ngIf"],[1,"c","px-1"],[1,"row","mt-3","table-responsive"],[1,"col-12","mx-3","my-1","p-0","h-100",2,"max-width","-webkit-fill-available","max-height","-webkit-fill-available","overflow-y","visible",3,"innerHtml"],["class","row m-0 fo",4,"ngIf"],["class","floating",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"d-inline-block"],[1,"d-inline-block","e",3,"routerLink"],[1,"material-icons"],[1,"row","m-0","fo"],[1,"col-6"],[3,"click"],[2,"float","right",3,"click"],[1,"floating"],[1,"d-flex","flex-column","bd-highlight","mb-3"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-info",3,"click"],[1,"material-icons","pointer"],[1,"btn","btn-warning",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-dialog","modal-lg"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(r,i){1&r&&(qt(0,jse,8,2,"div",0),Te(1,"div",1)(2,"div",2),Mn(3,"div",3),De()(),qt(4,Gse,11,0,"div",4),qt(5,Hse,6,1,"div",5),qt(6,zse,14,1,"div",6),qt(7,qse,16,1,"div",6)),2&r&&(ct("ngIf",i.topic),nt(3),ct("innerHtml",i.page,_D),nt(1),ct("ngIf",i.topic),nt(1),ct("ngIf",i.firestore.isAdmin),nt(1),ct("ngIf",i.addPageModal),nt(1),ct("ngIf",i.editPageModal))},dependencies:[zi,ko,_a,Hu,zl],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]{float:right;font-size:20px;padding:10px;cursor:pointer}.r[_ngcontent-%COMP%]   span.e[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{vertical-align:sub;margin-right:5px}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.row.fo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin:0 10px;padding:5px;vertical-align:sub}.floating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:60px;right:30px}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;width:50px;height:50px;box-shadow:0 .25rem .5rem #000;margin:10px;cursor:pointer;padding:0}.floating[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.fo[_ngcontent-%COMP%]{position:sticky;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}"]}),e})();function Kse(n,e){if(1&n){const t=qn();Te(0,"div",2)(1,"div",3)(2,"input",4),ut("ngModelChange",function(i){return Vt(t),Ut(st().key=i)}),De()(),Te(3,"div",3)(4,"button",5),ut("click",function(){return Vt(t),Ut(st().fetch())}),je(5,"Fetch"),De()()()}if(2&n){const t=st();nt(2),ct("ngModel",t.key)}}function Qse(n,e){if(1&n){const t=qn();Te(0,"tr")(1,"td"),je(2),De(),Te(3,"td")(4,"i",9),ut("click",function(){const s=Vt(t).$implicit;return Ut(st(2).edit(s))}),je(5,"edit"),De()()()}if(2&n){const t=e.$implicit;nt(2),sr(t.id)}}function Yse(n,e){if(1&n&&(Te(0,"div",2)(1,"div",6)(2,"table",7)(3,"thead")(4,"tr")(5,"th"),je(6,"Record Key"),De(),Te(7,"th"),je(8,"Action"),De()()(),Te(9,"tbody"),qt(10,Qse,6,1,"tr",8),De()()()()),2&n){const t=st();nt(10),ct("ngForOf",t.documents)}}function Xse(n,e){if(1&n){const t=qn();Te(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h4",14),je(5,"Document Data"),De(),Te(6,"button",15),ut("click",function(){return Vt(t),Ut(st().document=void 0)}),De()(),Te(7,"div",16)(8,"div",17)(9,"div",18)(10,"textarea",19),ut("ngModelChange",function(i){return Vt(t),Ut(st().data=i)}),De()()()(),Te(11,"div",20)(12,"i",21),ut("click",function(){return Vt(t),Ut(st().save())}),je(13,"save"),De(),Te(14,"i",22),ut("click",function(){return Vt(t),Ut(st().delete())}),je(15,"delete"),De()()()()()}if(2&n){const t=st();nt(10),ct("ngModel",t.data)}}let Jse=(()=>{var n;class e{constructor(r){this.firestore=r,this.documents=[]}edit(r){this.document=r,this.data=JSON.stringify(this.document?.data(),null,1)}fetch(){this.key&&(this.documents=[],gB(lB(ho(this.firestore.firestore,this.key))).then(s=>{s.forEach(o=>{this.documents.push(o)})}))}save(){var r=this;return se(function*(){if(r.data&&r.key&&r.document){try{JSON.parse(r.data)}catch(i){console.error(i),alert("Error while parsing document data, please check and retry")}yield _I(Xa(ho(r.firestore.firestore,r.key),r.document?.id),JSON.parse(r.data)),alert("Document Updated."),r.document=void 0}})()}delete(){var r=this;return se(function*(){r.data&&(!r.key||!r.document||(yield mB(Xa(ho(r.firestore.firestore,r.key),r.document?.id)),r.document=void 0))})()}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(ki))},n.\u0275cmp=An({type:n,selectors:[["app-admin"]],decls:3,vars:3,consts:[["class","row m-0",4,"ngIf"],["class","modal extended",4,"ngIf"],[1,"row","m-0"],[1,"mt-3","col-6"],["type","text","placeholder","Collection",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"p-3"],[1,"table"],[4,"ngFor","ngForOf"],[1,"m-2","material-icons","pointer",3,"click"],[1,"modal","extended"],[1,"modal-dialog","modal-fullscreen"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["rows","15",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"m-2","text-primary","material-icons","pointer",3,"click"],[1,"m-2","text-danger","material-icons","pointer",3,"click"]],template:function(r,i){1&r&&(qt(0,Kse,6,1,"div",0),qt(1,Yse,11,1,"div",0),qt(2,Xse,16,1,"div",1)),2&r&&(ct("ngIf",i.firestore.isAdmin),nt(1),ct("ngIf",i.firestore.isAdmin),nt(1),ct("ngIf",i.document))},dependencies:[Ws,zi,_a,Hu,zl],styles:[".modal.extended[_ngcontent-%COMP%]{display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})();function Zse(n,e){if(1&n&&(Te(0,"div"),Mn(1,"pdf-viewer",1),De()),2&n){const t=st();nt(1),ct("src",t.url)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}const eoe=[{path:"",component:wB},{path:"home",component:wB},{path:"admin",component:Jse},{path:"login",component:Tse},{path:"dashboard",component:Dse},{path:"logout",component:xse},{path:"account",component:pse},{path:"profile",component:gse},{path:"categories",component:Ise},{path:"topics",component:Bse},{path:"topics/:id",component:Wse},{path:"courses",component:vB},{path:"courses/:id",component:Nse,canActivate:[Fse]},{path:"assessments",component:kse},{path:"assessments/:id",component:Pse},{path:"pdfviewer",component:(()=>{var n;class e{constructor(r){this.route=r,this.url=this.route.snapshot.queryParamMap.get("url")}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(Qs))},n.\u0275cmp=An({type:n,selectors:[["app-viewer"]],decls:1,vars:1,consts:[[4,"ngIf"],[2,"width","100%","height","600px",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders"]],template:function(r,i){1&r&&qt(0,Zse,2,12,"div",0),2&r&&ct("ngIf",i.url)},dependencies:[zi,Xq]}),e})()}];let toe=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Ni({type:n}),n.\u0275inj=wi({imports:[CO.forRoot(eoe),CO]}),e})();function bB(n,e){return e?t=>Ap(e.pipe(Io(1),function noe(){return L((n,e)=>{n.subscribe(D(e,ne))})}()),t.pipe(bB(n))):Jn((t,r)=>Ln(n(t,r)).pipe(Io(1),vR(t)))}function ooe(n,e){if(1&n&&(Te(0,"div",4)(1,"h4",6),je(2),De()()),2&n){const t=st();nt(2),sr(t.firestore.user.name)}}const aoe=function(n){return{active:n}};function loe(n,e){if(1&n){const t=qn();Te(0,"div",7),ut("click",function(){const s=Vt(t).$implicit;return Ut(st().focus(s.route))}),Te(1,"i",8),je(2),De(),Te(3,"span",9),je(4),De()()}if(2&n){const t=e.$implicit,r=st();ct("ngClass",qy(3,aoe,r.active=="/"+t.route)),nt(2),sr(t.icon),nt(2),sr(t.name)}}let coe=(()=>{var n;class e{constructor(r,i){this.router=r,this.firestore=i,this.close=new Wt,this.active="",this.menus=[],this.active=this.router.url,this.user=i.user,this.load(),r.events.subscribe(s=>{s instanceof Mo&&(this.active=this.router.url)}),i.refreshUser.subscribe(s=>{this.user=s,this.load()})}load(){this.menus=[],this.user?"ADMIN"==this.user.role?(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Admin",icon:"settings",route:"admin"}),this.menus.push({name:"Categories",icon:"category",route:"categories"}),this.menus.push({name:"Courses",icon:"menu_book",route:"courses"}),this.menus.push({name:"Topics",icon:"menu_book",route:"topics"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):("CLIENT"==this.user.role||"USER"==this.user.role)&&(this.menus.push({name:"Home",icon:"home",route:"home"}),this.menus.push({name:"Assessments",icon:"assignment",route:"assessments"}),this.menus.push({name:"Notifications",icon:"notifications",route:"notifications"}),this.menus.push({name:"Logout",icon:"logout",route:"logout"})):this.menus.push({name:"Login",icon:"login",route:"login"})}focus(r){this.router.navigate([r]),this.close.emit(!0)}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(or),xe(ki))},n.\u0275cmp=An({type:n,selectors:[["app-menu"]],outputs:{close:"close"},decls:7,vars:2,consts:[[1,"c"],[1,"text-end"],[1,"material-icons","pointer","m-2",3,"click"],["class","m",4,"ngIf"],[1,"m"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"margin-left","10px"],[1,"pointer",3,"ngClass","click"],[1,"material-icons","align-middle","mx-2"],[1,"align-middle"]],template:function(r,i){1&r&&(Te(0,"div",0)(1,"div",1)(2,"i",2),ut("click",function(){return i.close.emit(!0)}),je(3,"close"),De()(),qt(4,ooe,3,1,"div",3),Te(5,"div",4),qt(6,loe,5,5,"div",5),De()()),2&r&&(nt(4),ct("ngIf",i.firestore.user),nt(2),ct("ngForOf",i.menus))},dependencies:[Nv,Ws,zi],styles:[".c[_ngcontent-%COMP%]{position:fixed;top:68px;left:0;height:-webkit-fill-available;background-color:#252526;width:200px;z-index:100}.c[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px 20px 10px 15px;margin-bottom:10px;font-size:20px;border-left:5px solid transparent}.c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer[_ngcontent-%COMP%]:hover, .c[_ngcontent-%COMP%]   .m[_ngcontent-%COMP%]   div.pointer.active[_ngcontent-%COMP%]{border-left:5px solid white;background:dimgray}"]}),e})(),uoe=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=An({type:n,selectors:[["app-logo"]],decls:10,vars:0,consts:[["width","200","height","80","viewBox","0 0 400 150"],["id","SvgjsG6266","featurekey","rootContainer","transform","matrix(1,0,0,1,0,0)","fill","darkgoldenrod"],["y","0","height","1","width","1","opacity","0"],["y","122","width","370","height","5"],["id","SvgjsG6267","featurekey","symbolFeature-0","transform","matrix(1.028017879379319,0,0,1.028017879379319,-5.140089396896595,12.444349912652363)","fill","gold"],["xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd","d","M5,78.067c0-7.466,0-49.264,0-56.729C5,10.333,11.833,5.333,20.933,5.405  c7.466,0,50.264,0,57.729,0c10.837,0,15.933,7.095,15.933,14.933c0,7.466,0,52.264,0,59.729C94.595,90.333,88.667,95,78.662,95  c-7.466,0-50.263,0-57.729,0C11,95,5,88.667,5,78.067z M23.399,12.872c-7.419,0-10.933,2.466-10.933,9.932  c0,7.466,0,34.865,0,34.865h7.466l7.466-14.933l17.976,20.389l11.889-42.787L73,61l3.5-3.331h10.629c0,0,0-26.399,0-33.865  c0-7.466-2.467-10.932-9.933-10.932H23.399z M71.5,71.875l-13.125-29.25L48.25,77.25L28.399,54.669l-4,10.466H12.466  c0,0,0,4,0,11.467c0,7.466,3.466,10.933,10.933,10.933c7.466,0,44.598,0,52.428,0c7.835,0,11.302-3.467,11.302-10.933  c0-7.467,0-11.467,0-11.467L78.125,65L71.5,71.875z"],["id","SvgjsG6268","featurekey","nameFeature-0","transform","matrix(1.5633774866697607,0,0,1.5633774866697607,111.18704373675078,9.114959226611326)","fill","gold"],["_ngcontent-ibt-c17","","d","M0.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.4 -1.88 4.76 l0 18.48 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M13.32 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l12.16 0 s-0.454 1.5708 0.23641 4.2232 l3.6836 11.817 l3.6836 -11.817 c0.69 -2.6524 0.23641 -4.2232 0.23641 -4.2232 l12.16 0 s-1.88 2.4 -1.88 4.8 l0 18.44 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 s1.88 -2.36 1.88 -4.76 l0 -10.76 l-5 11.92 l-4 0 l-5 -11.92 l0 10.76 c0 2.4 1.88 4.76 1.88 4.76 l-10.96 0 z M26.240000000000002 36.4 c0 0 0.36 -1.88 -0.84 -4.76 l2 4.76 l-1.16 0 z M31.400000000000002 36.4 l2 -4.76 c-1.2 2.88 -0.84 4.76 -0.84 4.76 l-1.16 0 z M46.52 40 c0 0 1.88 -2.4 1.88 -4.76 l0 -18.48 c0 -2.36 -1.88 -4.76 -1.88 -4.76 l12.4 0 c6.6 0 12.24 2.68 12.24 8.88 c0 4.16 -2.08 6.84 -5.2 8.4 c-1.8 0.88 -3.92 1.36 -6.24 1.56 c-0.72 0.08 -2.6 0.08 -3.32 0.08 l0 4.32 c0 2.36 1.88 4.76 1.88 4.76 l-11.76 0 z M56.4 25.6 l1.44 0 c2.84 0 4.96 -1.36 4.96 -3.92 c0 -3 -2.44 -3.96 -5.28 -3.96 l-1.12 0 l0 7.88 z M85.92 40.56 c-6.56 0 -11.56 -3.72 -11.56 -10.56 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 3.24 1.16 4.72 3.56 4.72 c2.44 0 3.6 -1.48 3.6 -4.72 l0 -13.08 c0 -2.48 -1.88 -4.92 -1.88 -4.92 l11.76 0 s-1.88 2.4 -1.88 4.8 l0 13.2 c0 6.84 -5 10.56 -11.6 10.56 z M100.03999999999999 40 c0 0 1.88 -2.4 1.88 -4.8 l0 -18.44 c0 -2.4 -1.88 -4.76 -1.88 -4.76 l11.76 0 s-1.88 2.36 -1.88 4.76 l0 16.84 l6.04 0 c2.36 0 4.76 -1.88 4.76 -1.88 l0 8.28 l-20.68 0 z M130.12 40.64 c-3.44 0 -8.2 -1.48 -8.2 -1.48 l2.8 -7.96 s1.88 3.8 5.2 3.8 c2.68 0 4.36 -1.16 4.36 -2.92 c0 -3.2 -11.76 -3.3984 -11.76 -11.52 c0 -5.96 4.92 -9.12 11.64 -9.12 c3.32 0 7.36 1.8 7.36 1.8 l-2.76 7.52 s-2.24 -3.96 -4.8 -3.96 c-2.16 0 -3.36 1.36 -3.36 2.68 c0 3.12 12.08 3.64 12.08 11.6 c0 5.92 -5.52 9.56 -12.56 9.56 z M144.00000000000003 40 c0 0 1.88 -2.36 1.88 -4.76 l0 -18.44 c0 -2.4 -1.88 -4.8 -1.88 -4.8 l21.48 0 l0 8.28 s-2.4 -1.88 -4.8 -1.88 l-6.8 0 l0 5.2 l2.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 9.36 s-2.4 -1.88 -4.8 -1.88 l-2.8 0 l0 4.4 l6.8 0 c2.4 0 4.8 -1.88 4.8 -1.88 l0 8.28 l-21.48 0 z"],["id","SvgjsG6269","featurekey","sloganFeature-0","transform","matrix(1.2395395249917074,0,0,1.2395395249917074,109.73635290905752,75.94291572161438)","fill","goldenrod"],["_ngcontent-ibt-c17","","d","M1.8262 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M18.037265625 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M32.929203125 8.467 l-5.3711 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 5.7813 l-2.9492 0 l0 -14.111 l8.3203 0 l0 2.5781 z M35.429715625 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M51.64078125 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M58.21291875 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M72.968984375 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z M83.369375 8.467 l-5.2344 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 3.1934 l5.2344 0 l0 2.5879 l-8.1836 0 l0 -14.111 l8.1836 0 l0 2.5781 z M91.582059375 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M114.326125 20 l-2.9199 0 l-0.92773 -10.635 l-3.5742 10.635 l-1.8945 0 l-3.5742 -10.635 l-0.9375 10.635 l-2.9297 0 l1.1816 -14.111 l4.1797 0 l3.0078 8.8574 l3.0469 -8.8574 l4.1797 0 z M123.26170625 5.888999999999999 c2.7637 0 4.4824 2.0508 4.4824 4.5605 c0 2.5684 -1.7188 4.4922 -4.4824 4.4922 l-2.9395 0 l0 5.0586 l-2.9297 0 l0 -14.111 l5.8691 0 z M122.77340625 12.4902 c1.4648 0 2.1484 -0.81055 2.1484 -2.0801 c0 -1.2207 -0.68359 -2.0703 -2.1484 -2.0703 l-2.4512 0 l0 4.1504 l2.4512 0 z M139.64890625 20 l-1.0254 -2.9102 l-5.9277 0 l-1.0254 2.9102 l-2.998 0 l5.1953 -14.111 l3.584 0 l5.1953 14.111 l-2.998 0 z M133.55470625 14.6387 l4.209 0 l-2.0996 -5.9863 z M151.015653125 20.19531 c-4.1504 0 -7.2168 -2.8223 -7.2168 -7.2559 s3.0664 -7.2461 7.2168 -7.2461 c3.1445 0 5.6641 1.6113 6.6699 4.2871 l-2.7344 0.99609 c-0.625 -1.6406 -2.1191 -2.5879 -3.9355 -2.5879 c-2.4316 0 -4.2969 1.6992 -4.2969 4.5508 s1.8652 4.5605 4.2969 4.5605 c1.8164 0 3.3105 -0.95703 3.9355 -2.5977 l2.7344 0.99609 c-1.0059 2.6758 -3.5254 4.2969 -6.6699 4.2969 z M168.27171875 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z"]],template:function(r,i){1&r&&(function oT(){Et.lFrame.currentNamespace=HI}(),Te(0,"svg",0)(1,"g",1),Mn(2,"rect",2)(3,"rect",3),De(),Te(4,"g",4),Mn(5,"path",5),De(),Te(6,"g",6),Mn(7,"path",7),De(),Te(8,"g",8),Mn(9,"path",9),De()())}}),e})();function doe(n,e){1&n&&(Te(0,"i",8),je(1,"menu"),De())}function hoe(n,e){1&n&&Mn(0,"img",9),2&n&&ky("src",st().firestore.user.image,Z_)}function foe(n,e){if(1&n){const t=qn();Te(0,"app-menu",10),ut("close",function(){return Vt(t),Ut(st().menu=!1)}),De()}}let poe=(()=>{var n;class e{constructor(r){this.firestore=r,this.menu=!1}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(ki))},n.\u0275cmp=An({type:n,selectors:[["app-header"]],decls:9,vars:3,consts:[[1,"c"],[1,"row","m-0"],[1,"position-absolute","col-2","p-2","m-1"],[1,"btn","btn-default","b",3,"click"],["class","material-icons text-light",4,"ngIf"],[3,"src",4,"ngIf"],[1,"col-12","p-0","text-center"],[3,"close",4,"ngIf"],[1,"material-icons","text-light"],[3,"src"],[3,"close"]],template:function(r,i){1&r&&(Te(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),ut("click",function(){return i.menu=!i.menu}),qt(4,doe,2,0,"i",4),qt(5,hoe,1,1,"img",5),De()(),Te(6,"div",6),Mn(7,"app-logo"),De()()(),qt(8,foe,1,0,"app-menu",7)),2&r&&(nt(4),ct("ngIf",!i.firestore.user),nt(1),ct("ngIf",i.firestore.user&&i.firestore.user.image),nt(3),ct("ngIf",i.menu))},dependencies:[zi,coe,uoe],styles:[".c[_ngcontent-%COMP%]{top:0;position:sticky;height:70px;background:#252526;color:#fff}.c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px}.c[_ngcontent-%COMP%]   .t[_ngcontent-%COMP%]{height:45px;margin:10px 0;font-size:30px;border-right:10px solid #252526;white-space:nowrap;overflow:hidden;display:inline-block;font-weight:500}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]{padding:0}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:50px;height:50px}.c[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:5px}.a[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_typetext,_ngcontent-%COMP%_blinkcursor;animation-duration:2s,.5s;animation-timing-function:steps(15),steps(15);animation-delay:.5s,0s;animation-iteration-count:1,8;animation-direction:normal;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_typetext{0%{width:.5rem}to{width:8.5rem}}@keyframes _ngcontent-%COMP%_blinkcursor{0%{border-right-color:#fff}to{border-right-color:#252526}}"]}),e})();function goe(n,e){1&n&&Mn(0,"app-header")}let moe=(()=>{var n;class e{constructor(r,i,s){this.firestore=r,this.header=!0,this.firestore.log(tl.PAGE_VIEW),this.handleScroll(i,s),window.addEventListener("message",o=>{o.origin===window.location.origin&&"ToggleHeader"==o.data&&(this.header=!this.header)},!1)}handleScroll(r,i){r.events.pipe(fs(s=>s instanceof P0)).pipe(function soe(n,e=y0){const t=function ioe(n=0,e,t=Wq){let r=-1;return null!=e&&(wI(e)?t=e:r=e),new R(i=>{let s=function roe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return bB(()=>t)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(n=e).\u0275fac=function(r){return new(r||n)(xe(ki),xe(or),xe(MM))},n.\u0275cmp=An({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(r,i){1&r&&(qt(0,goe,1,0,"app-header",0),Mn(1,"router-outlet")),2&r&&ct("ngIf",i.header)},dependencies:[zi,L0,poe],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),_oe=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Ni({type:n,bootstrap:[moe]}),n.\u0275inj=wi({imports:[w8,toe,Lq,Jq]}),e})();v8().bootstrapModule(_oe).catch(n=>console.error(n))},36:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(764).default,_defineProperty=__webpack_require__(416).default,_classPrivateMethodInitSpec=__webpack_require__(860).default,_classPrivateMethodGet=__webpack_require__(467).default,_classPrivateFieldInitSpec=__webpack_require__(159).default,_classPrivateFieldSet=__webpack_require__(661).default,_classPrivateFieldGet=__webpack_require__(468).default,_asyncToGenerator=__webpack_require__(156).default,z;z=function(){return(()=>{"use strict";var __webpack_modules__=[,(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.VerbosityLevel=_.Util=_.UnknownErrorException=_.UnexpectedResponseException=_.UNSUPPORTED_FEATURES=_.TextRenderingMode=_.StreamType=_.RenderingIntentFlag=_.PermissionFlag=_.PasswordResponses=_.PasswordException=_.PageActionEventType=_.OPS=_.MissingPDFException=_.IsLittleEndianCached=_.IsEvalSupportedCached=_.InvalidPDFException=_.ImageKind=_.IDENTITY_MATRIX=_.FormatError=_.FontType=_.FONT_IDENTITY_MATRIX=_.DocumentActionEventType=_.CMapCompressionType=_.BaseException=_.AnnotationType=_.AnnotationStateModelType=_.AnnotationReviewState=_.AnnotationReplyType=_.AnnotationMode=_.AnnotationMarkedState=_.AnnotationFlag=_.AnnotationFieldFlag=_.AnnotationBorderStyleType=_.AnnotationActionEventType=_.AbortException=void 0,_.arrayByteLength=fe,_.arraysToBytes=function Ee(Ae){const me=Ae.length;if(1===me&&Ae[0]instanceof Uint8Array)return Ae[0];let be=0;for(let Pt=0;Pt<me;Pt++)be+=fe(Ae[Pt]);let Xe=0;const et=new Uint8Array(be);for(let Pt=0;Pt<me;Pt++){let yt=Ae[Pt];yt instanceof Uint8Array||(yt="string"==typeof yt?ue(yt):new Uint8Array(yt));const Nt=yt.byteLength;et.set(yt,Xe),Xe+=Nt}return et},_.assert=function ge(Ae,me){Ae||ce(me)},_.bytesToString=function de(Ae){("object"!=typeof Ae||null===Ae||void 0===Ae.length)&&ce("Invalid argument for bytesToString");const me=Ae.length;if(me<8192)return String.fromCharCode.apply(null,Ae);const Xe=[];for(let et=0;et<me;et+=8192){const Pt=Math.min(et+8192,me),yt=Ae.subarray(et,Pt);Xe.push(String.fromCharCode.apply(null,yt))}return Xe.join("")},_.createPromiseCapability=function sn(){const Ae=Object.create(null);let me=!1;return Object.defineProperty(Ae,"settled",{get:()=>me}),Ae.promise=new Promise(function(be,Xe){Ae.resolve=function(et){me=!0,be(et)},Ae.reject=function(et){me=!0,Xe(et)}}),Ae},_.createValidAbsoluteUrl=function m(Ae,me=null,be=null){if(!Ae)return null;try{if(be&&"string"==typeof Ae){if(be.addDefaultProtocol&&Ae.startsWith("www.")){const et=Ae.match(/\./g);et&&et.length>=2&&(Ae=`http://${Ae}`)}if(be.tryConvertEncoding)try{Ae=Ie(Ae)}catch{}}const Xe=me?new URL(Ae,me):new URL(Ae);if(function v(Ae){if(!Ae)return!1;switch(Ae.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Xe))return Xe}catch{}return null},_.escapeString=function le(Ae){return Ae.replace(/([()\\\n\r])/g,me=>"\n"===me?"\\n":"\r"===me?"\\r":`\\${me}`)},_.getModificationDate=function St(Ae=new Date){return[Ae.getUTCFullYear().toString(),(Ae.getUTCMonth()+1).toString().padStart(2,"0"),Ae.getUTCDate().toString().padStart(2,"0"),Ae.getUTCHours().toString().padStart(2,"0"),Ae.getUTCMinutes().toString().padStart(2,"0"),Ae.getUTCSeconds().toString().padStart(2,"0")].join("")},_.getVerbosityLevel=function K(){return C},_.info=function Q(Ae){C>=I.INFOS&&console.log(`Info: ${Ae}`)},_.isArrayBuffer=function Fe(Ae){return"object"==typeof Ae&&null!==Ae&&void 0!==Ae.byteLength},_.isArrayEqual=function He(Ae,me){if(Ae.length!==me.length)return!1;for(let be=0,Xe=Ae.length;be<Xe;be++)if(Ae[be]!==me[be])return!1;return!0},_.isAscii=function _e(Ae){return/^[\x00-\x7F]*$/.test(Ae)},_.isSameOrigin=function R(Ae,me){let be;try{if(be=new URL(Ae),!be.origin||"null"===be.origin)return!1}catch{return!1}const Xe=new URL(me,be);return be.origin===Xe.origin},_.objectFromMap=function $e(Ae){const me=Object.create(null);for(const[be,Xe]of Ae)me[be]=Xe;return me},_.objectSize=function Be(Ae){return Object.keys(Ae).length},_.setVerbosityLevel=function V(Ae){Number.isInteger(Ae)&&(C=Ae)},_.shadow=T,_.string32=function Ne(Ae){return String.fromCharCode(Ae>>24&255,Ae>>16&255,Ae>>8&255,255&Ae)},_.stringToBytes=ue,_.stringToPDFString=function F(Ae){if(Ae[0]>="\xef"){let be;if("\xfe"===Ae[0]&&"\xff"===Ae[1]?be="utf-16be":"\xff"===Ae[0]&&"\xfe"===Ae[1]?be="utf-16le":"\xef"===Ae[0]&&"\xbb"===Ae[1]&&"\xbf"===Ae[2]&&(be="utf-8"),be)try{const Xe=new TextDecoder(be,{fatal:!0}),et=ue(Ae);return Xe.decode(et)}catch(Xe){te(`stringToPDFString: "${Xe}".`)}}const me=[];for(let be=0,Xe=Ae.length;be<Xe;be++){const et=ye[Ae.charCodeAt(be)];me.push(et?String.fromCharCode(et):Ae.charAt(be))}return me.join("")},_.stringToUTF16BEString=function Pe(Ae){const me=["\xfe\xff"];for(let be=0,Xe=Ae.length;be<Xe;be++){const et=Ae.charCodeAt(be);me.push(String.fromCharCode(et>>8&255),String.fromCharCode(255&et))}return me.join("")},_.stringToUTF8String=Ie,_.unreachable=ce,_.utf8StringToString=function Ve(Ae){return unescape(encodeURIComponent(Ae))},_.warn=te,z(2),_.IDENTITY_MATRIX=[1,0,0,1,0,0],_.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],_.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},_.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},_.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},_.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},_.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},_.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},_.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},_.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},_.AnnotationReplyType={GROUP:"Group",REPLY:"R"},_.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},_.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},_.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},_.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},_.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},_.PageActionEventType={O:"PageOpen",C:"PageClose"},_.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},_.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const I={ERRORS:0,WARNINGS:1,INFOS:5};_.VerbosityLevel=I,_.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},_.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},_.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},_.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let C=I.WARNINGS;function te(Ae){C>=I.WARNINGS&&console.log(`Warning: ${Ae}`)}function ce(Ae){throw new Error(Ae)}function T(Ae,me,be){return Object.defineProperty(Ae,me,{value:be,enumerable:!0,configurable:!0,writable:!1}),be}const w=function(){function me(be,Xe){this.constructor===me&&ce("Cannot initialize BaseException."),this.message=be,this.name=Xe}return me.prototype=new Error,me.constructor=me,me}();function ue(Ae){"string"!=typeof Ae&&ce("Invalid argument for stringToBytes");const me=Ae.length,be=new Uint8Array(me);for(let Xe=0;Xe<me;++Xe)be[Xe]=255&Ae.charCodeAt(Xe);return be}function fe(Ae){return void 0!==Ae.length?Ae.length:void 0!==Ae.byteLength?Ae.byteLength:void ce("Invalid argument for arrayByteLength")}_.BaseException=w,_.PasswordException=class d extends w{constructor(me,be){super(me,"PasswordException"),this.code=be}},_.UnknownErrorException=class y extends w{constructor(me,be){super(me,"UnknownErrorException"),this.details=be}},_.InvalidPDFException=class S extends w{constructor(me){super(me,"InvalidPDFException")}},_.MissingPDFException=class L extends w{constructor(me){super(me,"MissingPDFException")}},_.UnexpectedResponseException=class D extends w{constructor(me,be){super(me,"UnexpectedResponseException"),this.status=be}},_.FormatError=class E extends w{constructor(me){super(me,"FormatError")}},_.AbortException=class Y extends w{constructor(me){super(me,"AbortException")}},_.IsLittleEndianCached={get value(){return T(this,"value",function Oe(){const Ae=new Uint8Array(4);return Ae[0]=1,1===new Uint32Array(Ae.buffer,0,1)[0]}())}},_.IsEvalSupportedCached={get value(){return T(this,"value",function xt(){try{return new Function(""),!0}catch{return!1}}())}};const tt=[...Array(256).keys()].map(Ae=>Ae.toString(16).padStart(2,"0"));class an{static makeHexColor(me,be,Xe){return`#${tt[me]}${tt[be]}${tt[Xe]}`}static transform(me,be){return[me[0]*be[0]+me[2]*be[1],me[1]*be[0]+me[3]*be[1],me[0]*be[2]+me[2]*be[3],me[1]*be[2]+me[3]*be[3],me[0]*be[4]+me[2]*be[5]+me[4],me[1]*be[4]+me[3]*be[5]+me[5]]}static applyTransform(me,be){return[me[0]*be[0]+me[1]*be[2]+be[4],me[0]*be[1]+me[1]*be[3]+be[5]]}static applyInverseTransform(me,be){const Xe=be[0]*be[3]-be[1]*be[2];return[(me[0]*be[3]-me[1]*be[2]+be[2]*be[5]-be[4]*be[3])/Xe,(-me[0]*be[1]+me[1]*be[0]+be[4]*be[1]-be[5]*be[0])/Xe]}static getAxialAlignedBoundingBox(me,be){const Xe=an.applyTransform(me,be),et=an.applyTransform(me.slice(2,4),be),Pt=an.applyTransform([me[0],me[3]],be),yt=an.applyTransform([me[2],me[1]],be);return[Math.min(Xe[0],et[0],Pt[0],yt[0]),Math.min(Xe[1],et[1],Pt[1],yt[1]),Math.max(Xe[0],et[0],Pt[0],yt[0]),Math.max(Xe[1],et[1],Pt[1],yt[1])]}static inverseTransform(me){const be=me[0]*me[3]-me[1]*me[2];return[me[3]/be,-me[1]/be,-me[2]/be,me[0]/be,(me[2]*me[5]-me[4]*me[3])/be,(me[4]*me[1]-me[5]*me[0])/be]}static apply3dTransform(me,be){return[me[0]*be[0]+me[1]*be[1]+me[2]*be[2],me[3]*be[0]+me[4]*be[1]+me[5]*be[2],me[6]*be[0]+me[7]*be[1]+me[8]*be[2]]}static singularValueDecompose2dScale(me){const be=[me[0],me[2],me[1],me[3]],Xe=me[0]*be[0]+me[1]*be[2],yt=me[2]*be[1]+me[3]*be[3],Nt=(Xe+yt)/2,Yt=Math.sqrt((Xe+yt)**2-4*(Xe*yt-(me[2]*be[0]+me[3]*be[2])*(me[0]*be[1]+me[1]*be[3])))/2,ln=Nt-Yt||1;return[Math.sqrt(Nt+Yt||1),Math.sqrt(ln)]}static normalizeRect(me){const be=me.slice(0);return me[0]>me[2]&&(be[0]=me[2],be[2]=me[0]),me[1]>me[3]&&(be[1]=me[3],be[3]=me[1]),be}static intersect(me,be){function Xe(Nt,Yt){return Nt-Yt}const et=[me[0],me[2],be[0],be[2]].sort(Xe),Pt=[me[1],me[3],be[1],be[3]].sort(Xe),yt=[];return me=an.normalizeRect(me),be=an.normalizeRect(be),et[0]===me[0]&&et[1]===be[0]||et[0]===be[0]&&et[1]===me[0]?(yt[0]=et[1],yt[2]=et[2],Pt[0]===me[1]&&Pt[1]===be[1]||Pt[0]===be[1]&&Pt[1]===me[1]?(yt[1]=Pt[1],yt[3]=Pt[2],yt):null):null}static bezierBoundingBox(me,be,Xe,et,Pt,yt,Nt,Yt){const Xt=[],ln=[[],[]];let Sr,Vr,Ri,bn,yi,po,go,mo;for(let Qc=0;Qc<2;++Qc)if(0===Qc?(Vr=6*me-12*Xe+6*Pt,Sr=-3*me+9*Xe-9*Pt+3*Nt,Ri=3*Xe-3*me):(Vr=6*be-12*et+6*yt,Sr=-3*be+9*et-9*yt+3*Yt,Ri=3*et-3*be),Math.abs(Sr)<1e-12){if(Math.abs(Vr)<1e-12)continue;bn=-Ri/Vr,0<bn&&bn<1&&Xt.push(bn)}else go=Vr*Vr-4*Ri*Sr,mo=Math.sqrt(go),!(go<0)&&(yi=(-Vr+mo)/(2*Sr),0<yi&&yi<1&&Xt.push(yi),po=(-Vr-mo)/(2*Sr),0<po&&po<1&&Xt.push(po));let ir,Oi=Xt.length;const Ln=Oi;for(;Oi--;)bn=Xt[Oi],ir=1-bn,ln[0][Oi]=ir*ir*ir*me+3*ir*ir*bn*Xe+3*ir*bn*bn*Pt+bn*bn*bn*Nt,ln[1][Oi]=ir*ir*ir*be+3*ir*ir*bn*et+3*ir*bn*bn*yt+bn*bn*bn*Yt;return ln[0][Ln]=me,ln[1][Ln]=be,ln[0][Ln+1]=Nt,ln[1][Ln+1]=Yt,ln[0].length=ln[1].length=Ln+2,[Math.min(...ln[0]),Math.min(...ln[1]),Math.max(...ln[0]),Math.max(...ln[1])]}}_.Util=an;const ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ie(Ae){return decodeURIComponent(escape(Ae))}},(oe,_,z)=>{z(3)},(oe,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.isNodeJS=void 0;const z=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);_.isNodeJS=z},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(oe){createPDFNetworkStream=oe}function getDocument(oe){const _=new PDFDocumentLoadingTask;let z;if("string"==typeof oe||oe instanceof URL)z={url:oe};else if((0,_util.isArrayBuffer)(oe))z={data:oe};else if(oe instanceof PDFDataRangeTransport)z={range:oe};else{if("object"!=typeof oe)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!oe.url&&!oe.data&&!oe.range)throw new Error("Invalid parameter object: need either .data, .range or .url");z=oe}const p=Object.create(null);let Z=null,W=null;for(const J in z){const H=z[J];switch(J){case"url":if(typeof window<"u")try{p[J]=new URL(H,window.location).href;continue}catch(j){(0,_util.warn)(`Cannot create valid URL: "${j}".`)}else if("string"==typeof H||H instanceof URL){p[J]=H.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":Z=H;continue;case"worker":W=H;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&H instanceof Buffer)p[J]=new Uint8Array(H);else{if(H instanceof Uint8Array)break;if("string"==typeof H)p[J]=(0,_util.stringToBytes)(H);else if("object"!=typeof H||null===H||isNaN(H.length)){if(!(0,_util.isArrayBuffer)(H))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");p[J]=new Uint8Array(H)}else p[J]=new Uint8Array(H)}continue}p[J]=H}if(p.rangeChunkSize=p.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,p.CMapReaderFactory=p.CMapReaderFactory||DefaultCMapReaderFactory,p.StandardFontDataFactory=p.StandardFontDataFactory||DefaultStandardFontDataFactory,p.ignoreErrors=!0!==p.stopAtErrors,p.fontExtraProperties=!0===p.fontExtraProperties,p.pdfBug=!0===p.pdfBug,p.enableXfa=!0===p.enableXfa,("string"!=typeof p.docBaseUrl||(0,_display_utils.isDataScheme)(p.docBaseUrl))&&(p.docBaseUrl=null),Number.isInteger(p.maxImageSize)||(p.maxImageSize=-1),"boolean"!=typeof p.useWorkerFetch&&(p.useWorkerFetch=p.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&p.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof p.isEvalSupported&&(p.isEvalSupported=!0),"boolean"!=typeof p.disableFontFace&&(p.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof p.useSystemFonts&&(p.useSystemFonts=!_is_node.isNodeJS&&!p.disableFontFace),typeof p.ownerDocument>"u"&&(p.ownerDocument=globalThis.document),"boolean"!=typeof p.disableRange&&(p.disableRange=!1),"boolean"!=typeof p.disableStream&&(p.disableStream=!1),"boolean"!=typeof p.disableAutoFetch&&(p.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(p.verbosity),!W){const J={verbosity:p.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};W=J.port?_PDFWorker.fromPort(J):new _PDFWorker(J),_._worker=W}const pe=_.docId;return W.promise.then(function(){if(_.destroyed)throw new Error("Loading aborted");const J=_fetchDocument(W,p,Z,pe),H=new Promise(function(j){let ee;Z?ee=new _transport_stream.PDFDataTransportStream({length:p.length,initialData:p.initialData,progressiveDone:p.progressiveDone,contentDispositionFilename:p.contentDispositionFilename,disableRange:p.disableRange,disableStream:p.disableStream},Z):p.data||(ee=createPDFNetworkStream({url:p.url,length:p.length,httpHeaders:p.httpHeaders,withCredentials:p.withCredentials,rangeChunkSize:p.rangeChunkSize,disableRange:p.disableRange,disableStream:p.disableStream})),j(ee)});return Promise.all([J,H]).then(function([j,ee]){if(_.destroyed)throw new Error("Loading aborted");const ie=new _message_handler.MessageHandler(pe,j,W.port),re=new WorkerTransport(ie,_,ee,p);_._transport=re,ie.send("Ready",null)})}).catch(_._capability.reject),_}function _fetchDocument(oe,_,z,p){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(oe,_,z,p){if(oe.destroyed)throw new Error("Worker was destroyed");z&&(_.length=z.length,_.initialData=z.initialData,_.progressiveDone=z.progressiveDone,_.contentDispositionFilename=z.contentDispositionFilename);const Z=yield oe.messageHandler.sendWithPromise("GetDocRequest",{docId:p,apiVersion:"2.13.216",source:{data:_.data,url:_.url,password:_.password,disableAutoFetch:_.disableAutoFetch,rangeChunkSize:_.rangeChunkSize,length:_.length},maxImageSize:_.maxImageSize,disableFontFace:_.disableFontFace,docBaseUrl:_.docBaseUrl,ignoreErrors:_.ignoreErrors,isEvalSupported:_.isEvalSupported,fontExtraProperties:_.fontExtraProperties,enableXfa:_.enableXfa,useSystemFonts:_.useSystemFonts,cMapUrl:_.useWorkerFetch?_.cMapUrl:null,standardFontDataUrl:_.useWorkerFetch?_.standardFontDataUrl:null});if(oe.destroyed)throw new Error("Worker was destroyed");return Z})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var _=this;return _asyncToGenerator(function*(){_.destroyed=!0,yield _._transport?.destroy(),_._transport=null,_._worker&&(_._worker.destroy(),_._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(_,z,p=!1,Z=null){this.length=_,this.initialData=z,this.progressiveDone=p,this.contentDispositionFilename=Z,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(_){this._rangeListeners.push(_)}addProgressListener(_){this._progressListeners.push(_)}addProgressiveReadListener(_){this._progressiveReadListeners.push(_)}addProgressiveDoneListener(_){this._progressiveDoneListeners.push(_)}onDataRange(_,z){for(const p of this._rangeListeners)p(_,z)}onDataProgress(_,z){this._readyCapability.promise.then(()=>{for(const p of this._progressListeners)p(_,z)})}onDataProgressiveRead(_){this._readyCapability.promise.then(()=>{for(const z of this._progressiveReadListeners)z(_)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const _ of this._progressiveDoneListeners)_()})}transportReady(){this._readyCapability.resolve()}requestDataRange(_,z){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(_,z){var Z,p=this;this._pdfInfo=_,this._transport=z,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(Z=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),p.stats||{streamTypes:{},fontTypes:{}}}),function(){return Z.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(_){return this._transport.getPage(_)}getPageIndex(_){return this._transport.getPageIndex(_)}getDestinations(){return this._transport.getDestinations()}getDestination(_){return this._transport.getDestination(_)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(_=!1){return this._transport.startCleanup(_||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(_,z,p,Z,W=!1){this._pageIndex=_,this._pageInfo=z,this._ownerDocument=Z,this._transport=p,this._stats=W?new _display_utils.StatTimer:null,this._pdfBug=W,this.commonObjs=p.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:_,rotation:z=this.rotate,offsetX:p=0,offsetY:Z=0,dontFlip:W=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:_,rotation:z,offsetX:p,offsetY:Z,dontFlip:W})}getAnnotations({intent:_="display"}={}){const z=this._transport.getRenderingIntent(_);let p=this._annotationPromises.get(z.cacheKey);return p||(p=this._transport.getAnnotations(this._pageIndex,z.renderingIntent),this._annotationPromises.set(z.cacheKey,p),p=p.then(Z=>{for(const W of Z)void 0!==W.titleObj&&Object.defineProperty(W,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),W.titleObj.str)}),void 0!==W.contentsObj&&Object.defineProperty(W,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),W.contentsObj.str)});return Z})),p}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var _=this;return _asyncToGenerator(function*(){return _._transport._htmlForXfa?.children[_._pageIndex]||null})()}render({canvasContext:_,viewport:z,intent:p="display",annotationMode:Z=_util.AnnotationMode.ENABLE,transform:W=null,imageLayer:pe=null,canvasFactory:J=null,background:H=null,optionalContentConfigPromise:j=null,annotationCanvasMap:ee=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&Z===_util.AnnotationMode.ENABLE&&(Z=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&Z===_util.AnnotationMode.ENABLE&&(Z=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const ie=this._transport.getRenderingIntent(p,Z);this.pendingCleanup=!1,j||(j=this._transport.getOptionalContentConfig());let re=this._intentStates.get(ie.cacheKey);re||(re=Object.create(null),this._intentStates.set(ie.cacheKey,re)),re.streamReaderCancelTimeout&&(clearTimeout(re.streamReaderCancelTimeout),re.streamReaderCancelTimeout=null);const X=J||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),ne=!!(ie.renderingIntent&_util.RenderingIntentFlag.PRINT);re.displayReadyCapability||(re.displayReadyCapability=(0,_util.createPromiseCapability)(),re.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ie));const P=$=>{re.renderTasks.delete(k),(this.cleanupAfterRender||ne)&&(this.pendingCleanup=!0),this._tryCleanup(),$?(k.capability.reject($),this._abortOperatorList({intentState:re,reason:$ instanceof Error?$:new Error($)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},k=new InternalRenderTask({callback:P,params:{canvasContext:_,viewport:z,transform:W,imageLayer:pe,background:H},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ee,operatorList:re.operatorList,pageIndex:this._pageIndex,canvasFactory:X,useRequestAnimationFrame:!ne,pdfBug:this._pdfBug});(re.renderTasks||=new Set).add(k);const G=k.task;return Promise.all([re.displayReadyCapability.promise,j]).then(([$,O])=>{this.pendingCleanup?P():(this._stats&&this._stats.time("Rendering"),k.initializeGraphics({transparency:$,optionalContentConfig:O}),k.operatorListChanged())}).catch(P),G}getOperatorList({intent:_="display",annotationMode:z=_util.AnnotationMode.ENABLE}={}){const Z=this._transport.getRenderingIntent(_,z,!0);let pe,W=this._intentStates.get(Z.cacheKey);return W||(W=Object.create(null),this._intentStates.set(Z.cacheKey,W)),W.opListReadCapability||(pe=Object.create(null),pe.operatorListChanged=function p(){W.operatorList.lastChunk&&(W.opListReadCapability.resolve(W.operatorList),W.renderTasks.delete(pe))},W.opListReadCapability=(0,_util.createPromiseCapability)(),(W.renderTasks||=new Set).add(pe),W.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Z)),W.opListReadCapability.promise}streamTextContent({disableCombineTextItems:_=!1,includeMarkedContent:z=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==_,includeMarkedContent:!0===z},{highWaterMark:100,size:Z=>Z.items.length})}getTextContent(_={}){if(this._transport._htmlForXfa)return this.getXfa().then(p=>_xfa_text.XfaText.textContent(p));const z=this.streamTextContent(_);return new Promise(function(p,Z){const pe=z.getReader(),J={items:[],styles:Object.create(null)};!function W(){pe.read().then(function({value:H,done:j}){j?p(J):(Object.assign(J.styles,H.styles),J.items.push(...H.items),W())},Z)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const _=[];for(const z of this._intentStates.values())if(this._abortOperatorList({intentState:z,reason:new Error("Page was destroyed."),force:!0}),!z.opListReadCapability)for(const p of z.renderTasks)_.push(p.completed),p.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(_)}cleanup(_=!1){return this.pendingCleanup=!0,this._tryCleanup(_)}_tryCleanup(_=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:z,operatorList:p}of this._intentStates.values())if(z.size>0||!p.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,_&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(_,z){const p=this._intentStates.get(z);p&&(this._stats&&this._stats.timeEnd("Page Request"),p.displayReadyCapability&&p.displayReadyCapability.resolve(_))}_renderPageChunk(_,z){for(let p=0,Z=_.length;p<Z;p++)z.operatorList.fnArray.push(_.fnArray[p]),z.operatorList.argsArray.push(_.argsArray[p]);z.operatorList.lastChunk=_.lastChunk;for(const p of z.renderTasks)p.operatorListChanged();_.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:_,cacheKey:z}){const Z=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:_,cacheKey:z,annotationStorage:_&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),W=this._intentStates.get(z);W.streamReader=Z;const pe=()=>{Z.read().then(({value:J,done:H})=>{H?W.streamReader=null:this._transport.destroyed||(this._renderPageChunk(J,W),pe())},J=>{if(W.streamReader=null,!this._transport.destroyed){if(W.operatorList){W.operatorList.lastChunk=!0;for(const H of W.renderTasks)H.operatorListChanged();this._tryCleanup()}if(W.displayReadyCapability)W.displayReadyCapability.reject(J);else{if(!W.opListReadCapability)throw J;W.opListReadCapability.reject(J)}}})};pe()}_abortOperatorList({intentState:_,reason:z,force:p=!1}){if(_.streamReader){if(!p){if(_.renderTasks.size>0)return;if(z instanceof _display_utils.RenderingCancelledException)return void(_.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:_,reason:z,force:!0}),_.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(_.streamReader.cancel(new _util.AbortException(z.message)).catch(()=>{}),_.streamReader=null,!this._transport.destroyed){for(const[Z,W]of this._intentStates)if(W===_){this._intentStates.delete(Z);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(_,z){const p={data:structuredClone(_,z)};this._deferred.then(()=>{for(const Z of this._listeners)Z.call(this,p)})}addEventListener(_,z){this._listeners.push(z)}removeEventListener(_,z){const p=this._listeners.indexOf(z);this._listeners.splice(p,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const oe=document?.currentScript?.src;oe&&(PDFWorkerUtil.fallbackWorkerSrc=oe.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(oe){return URL.createObjectURL(new Blob([`importScripts("${oe}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:oe=null,port:_=null,verbosity:z=(0,_util.getVerbosityLevel)()}={}){if(_&&_PDFWorker._workerPorts.has(_))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=oe,this.destroyed=!1,this.verbosity=z,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,_)return _PDFWorker._workerPorts.set(_,this),void this._initializeFromPort(_);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(oe){this._port=oe,this._messageHandler=new _message_handler.MessageHandler("main","worker",oe),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let oe=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,oe)||(oe=PDFWorkerUtil.createCDNWrapper(new URL(oe,window.location).href));const _=new Worker(oe),z=new _message_handler.MessageHandler("main","worker",_),p=()=>{_.removeEventListener("error",Z),z.destroy(),_.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Z=()=>{this._webWorker||p()};_.addEventListener("error",Z),z.on("test",pe=>{_.removeEventListener("error",Z),this.destroyed?p():pe?(this._messageHandler=z,this._port=_,this._webWorker=_,this._readyCapability.resolve(),z.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),z.destroy(),_.terminate())}),z.on("ready",pe=>{if(_.removeEventListener("error",Z),this.destroyed)p();else try{W()}catch{this._setupFakeWorker()}});const W=()=>{const pe=new Uint8Array([255]);try{z.send("test",pe,[pe.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),pe[0]=0,z.send("test",pe)}};return void W()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(oe=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const _=new LoopbackPort;this._port=_;const z="fake"+PDFWorkerUtil.fakeWorkerId++,p=new _message_handler.MessageHandler(z+"_worker",z,_);oe.setup(p,_);const Z=new _message_handler.MessageHandler(z,z+"_worker",_);this._messageHandler=Z,this._readyCapability.resolve(),Z.send("configure",{verbosity:this.verbosity})}).catch(oe=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${oe.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(oe){if(!oe?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(oe.port)?this._workerPorts.get(oe.port):new _PDFWorker(oe)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function oe(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(_,z,p,Z){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=_,this.loadingTask=z,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:z.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:Z.ownerDocument,styleElement:Z.styleElement}),this._params=Z,Z.useWorkerFetch||(this.CMapReaderFactory=new Z.CMapReaderFactory({baseUrl:Z.cMapUrl,isCompressed:Z.cMapPacked}),this.StandardFontDataFactory=new Z.StandardFontDataFactory({baseUrl:Z.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=p,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(_,z=_util.AnnotationMode.ENABLE,p=!1){let Z=_util.RenderingIntentFlag.DISPLAY,W="";switch(_){case"any":Z=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Z=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${_}`)}switch(z){case _util.AnnotationMode.DISABLE:Z+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Z+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Z+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,W=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${z}`)}return p&&(Z+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Z,cacheKey:`${Z}_${W}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const _=[];for(const p of _classPrivateFieldGet(this,_pageCache).values())_.push(p._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const z=this.messageHandler.sendWithPromise("Terminate",null);return _.push(z),Promise.all(_).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:_,loadingTask:z}=this;_.on("GetReader",(p,Z)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=W=>{this._lastProgress={loaded:W.loaded,total:W.total}},Z.onPull=()=>{this._fullReader.read().then(function({value:W,done:pe}){pe?Z.close():((0,_util.assert)((0,_util.isArrayBuffer)(W),"GetReader - expected an ArrayBuffer."),Z.enqueue(new Uint8Array(W),1,[W]))}).catch(W=>{Z.error(W)})},Z.onCancel=W=>{this._fullReader.cancel(W),Z.ready.catch(pe=>{if(!this.destroyed)throw pe})}}),_.on("ReaderHeadersReady",p=>{const Z=(0,_util.createPromiseCapability)(),W=this._fullReader;return W.headersReady.then(()=>{(!W.isStreamingSupported||!W.isRangeSupported)&&(this._lastProgress&&z.onProgress?.(this._lastProgress),W.onProgress=pe=>{z.onProgress?.({loaded:pe.loaded,total:pe.total})}),Z.resolve({isStreamingSupported:W.isStreamingSupported,isRangeSupported:W.isRangeSupported,contentLength:W.contentLength})},Z.reject),Z.promise}),_.on("GetRangeReader",(p,Z)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const W=this._networkStream.getRangeReader(p.begin,p.end);W?(Z.onPull=()=>{W.read().then(function({value:pe,done:J}){J?Z.close():((0,_util.assert)((0,_util.isArrayBuffer)(pe),"GetRangeReader - expected an ArrayBuffer."),Z.enqueue(new Uint8Array(pe),1,[pe]))}).catch(pe=>{Z.error(pe)})},Z.onCancel=pe=>{W.cancel(pe),Z.ready.catch(J=>{if(!this.destroyed)throw J})}):Z.close()}),_.on("GetDoc",({pdfInfo:p})=>{this._numPages=p.numPages,this._htmlForXfa=p.htmlForXfa,delete p.htmlForXfa,z._capability.resolve(new PDFDocumentProxy(p,this))}),_.on("DocException",function(p){let Z;switch(p.name){case"PasswordException":Z=new _util.PasswordException(p.message,p.code);break;case"InvalidPDFException":Z=new _util.InvalidPDFException(p.message);break;case"MissingPDFException":Z=new _util.MissingPDFException(p.message);break;case"UnexpectedResponseException":Z=new _util.UnexpectedResponseException(p.message,p.status);break;case"UnknownErrorException":Z=new _util.UnknownErrorException(p.message,p.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}z._capability.reject(Z)}),_.on("PasswordRequest",p=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),z.onPassword){const Z=W=>{W instanceof Error?this._passwordCapability.reject(W):this._passwordCapability.resolve({password:W})};try{z.onPassword(Z,p.code)}catch(W){this._passwordCapability.reject(W)}}else this._passwordCapability.reject(new _util.PasswordException(p.message,p.code));return this._passwordCapability.promise}),_.on("DataLoaded",p=>{z.onProgress?.({loaded:p.length,total:p.length}),this.downloadInfoCapability.resolve(p)}),_.on("StartRenderPage",p=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(p.pageIndex)._startRenderPage(p.transparency,p.cacheKey)}),_.on("commonobj",([p,Z,W])=>{if(!this.destroyed&&!this.commonObjs.has(p))switch(Z){case"Font":const pe=this._params;if("error"in W){const j=W.error;(0,_util.warn)(`Error during font loading: ${j}`),this.commonObjs.resolve(p,j);break}let J=null;pe.pdfBug&&globalThis.FontInspector?.enabled&&(J={registerFont(j,ee){globalThis.FontInspector.fontAdded(j,ee)}});const H=new _font_loader.FontFaceObject(W,{isEvalSupported:pe.isEvalSupported,disableFontFace:pe.disableFontFace,ignoreErrors:pe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:J});this.fontLoader.bind(H).catch(j=>_.sendWithPromise("FontFallback",{id:p})).finally(()=>{!pe.fontExtraProperties&&H.data&&(H.data=null),this.commonObjs.resolve(p,H)});break;case"FontPath":case"Image":this.commonObjs.resolve(p,W);break;default:throw new Error(`Got unknown common object type ${Z}`)}}),_.on("obj",([p,Z,W,pe])=>{if(this.destroyed)return;const J=_classPrivateFieldGet(this,_pageCache).get(Z);if(!J.objs.has(p))switch(W){case"Image":J.objs.resolve(p,pe),pe?.data?.length>8e6&&(J.cleanupAfterRender=!0);break;case"Pattern":J.objs.resolve(p,pe);break;default:throw new Error(`Got unknown object type ${W}`)}}),_.on("DocProgress",p=>{this.destroyed||z.onProgress?.({loaded:p.loaded,total:p.total})}),_.on("DocStats",p=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(p.streamTypes),fontTypes:Object.freeze(p.fontTypes)}))}),_.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),_.on("FetchBuiltInCMap",p=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(p):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),_.on("FetchStandardFontData",p=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(p):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:_}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(_)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(_){if(!Number.isInteger(_)||_<=0||_>this._numPages)return Promise.reject(new Error("Invalid page request."));const z=_-1,p=_classPrivateFieldGet(this,_pagePromises).get(z);if(p)return p;const Z=this.messageHandler.sendWithPromise("GetPage",{pageIndex:z}).then(W=>{if(this.destroyed)throw new Error("Transport destroyed");const pe=new PDFPageProxy(z,W,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(z,pe),pe});return _classPrivateFieldGet(this,_pagePromises).set(z,Z),Z}getPageIndex(_){return"object"!=typeof _||null===_||!Number.isInteger(_.num)||_.num<0||!Number.isInteger(_.gen)||_.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:_.num,gen:_.gen})}getAnnotations(_,z){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:_,intent:z})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(_){return"string"!=typeof _?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:_})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(_){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:_})}getStructTree(_){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:_})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(_=>new _optional_content_config.OptionalContentConfig(_))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(_=>({info:_[0],metadata:_[1]?new _metadata.Metadata(_[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(_=!1){var z=this;return _asyncToGenerator(function*(){if(yield z.messageHandler.sendWithPromise("Cleanup",null),!z.destroyed){for(const p of _classPrivateFieldGet(z,_pageCache).values())if(!p.cleanup())throw new Error(`startCleanup: Page ${p.pageNumber} is currently rendering.`);z.commonObjs.clear(),_||z.fontLoader.clear(),_classPrivateFieldSet(z,_metadataPromise,null),z._getFieldObjectsPromise=null,z._hasJSActionsPromise=null}})()}get loadingParams(){const _=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:_.disableAutoFetch,enableXfa:_.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(_,z=null){if(z){const Z=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,_);return Z.capability.promise.then(()=>z(Z.data)),null}const p=_classPrivateFieldGet(this,_objs)[_];if(!p?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${_}.`);return p.data}has(_){return _classPrivateFieldGet(this,_objs)[_]?.capability.settled||!1}resolve(_,z=null){const p=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,_);p.data=z,p.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(oe){return _classPrivateFieldGet(this,_objs)[oe]||(_classPrivateFieldGet(this,_objs)[oe]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(_){this._internalRenderTask=_,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:_,params:z,objs:p,commonObjs:Z,annotationCanvasMap:W,operatorList:pe,pageIndex:J,canvasFactory:H,useRequestAnimationFrame:j=!1,pdfBug:ee=!1}){this.callback=_,this.params=z,this.objs=p,this.commonObjs=Z,this.annotationCanvasMap=W,this.operatorListIdx=null,this.operatorList=pe,this._pageIndex=J,this.canvasFactory=H,this._pdfBug=ee,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===j&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=z.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:_=!1,optionalContentConfig:z}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:p,viewport:Z,transform:W,imageLayer:pe,background:J}=this.params;this.gfx=new _canvas.CanvasGraphics(p,this.commonObjs,this.objs,this.canvasFactory,pe,z,this.annotationCanvasMap),this.gfx.beginDrawing({transform:W,viewport:Z,transparency:_,background:J}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(_=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(_||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var _=this;return _asyncToGenerator(function*(){_.cancelled||(_.operatorListIdx=_.gfx.executeOperatorList(_.operatorList,_.operatorListIdx,_._continueBound,_.stepper),_.operatorListIdx===_.operatorList.argsArray.length&&(_.running=!1,_.operatorList.lastChunk&&(_.gfx.endDrawing(),_._canvas&&InternalRenderTask.canvasInUse.delete(_._canvas),_.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(oe,_,z)=>{var p;Object.defineProperty(_,"__esModule",{value:!0}),_.StatTimer=_.RenderingCancelledException=_.PixelsPerInch=_.PageViewport=_.PDFDateString=_.DOMStandardFontDataFactory=_.DOMSVGFactory=_.DOMCanvasFactory=_.DOMCMapReaderFactory=void 0,_.deprecated=function I(x){console.log("Deprecated API usage: "+x)},_.getFilenameFromUrl=function $(x){const C=x.indexOf("#"),V=x.indexOf("?"),K=Math.min(C>0?C:x.length,V>0?V:x.length);return x.substring(x.lastIndexOf("/",K)+1,K)},_.getPdfFilenameFromUrl=function O(x,C="document.pdf"){if("string"!=typeof x)return C;if(k(x))return(0,W.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),C;const K=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Q=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(x);let te=K.exec(Q[1])||K.exec(Q[2])||K.exec(Q[3]);if(te&&(te=te[0],te.includes("%")))try{te=K.exec(decodeURIComponent(te))[0]}catch{}return te||C},_.getXfaPageViewport=function B(x,{scale:C=1,rotation:V=0}){const{width:K,height:Q}=x.attributes.style,te=[0,0,parseInt(K),parseInt(Q)];return new ne({viewBox:te,scale:C,rotation:V})},_.isDataScheme=k,_.isPdfFile=function G(x){return"string"==typeof x&&/\.pdf$/i.test(x)},_.isValidFetchUrl=g,_.loadScript=function f(x,C=!1){return new Promise((V,K)=>{const Q=document.createElement("script");Q.src=x,Q.onload=function(te){C&&Q.remove(),V(te)},Q.onerror=function(){K(new Error(`Cannot load script at: ${Q.src}`))},(document.head||document.documentElement).appendChild(Q)})};var Z=z(6),W=z(1);class J{}function j(x){return ee.apply(this,arguments)}function ee(){return(ee=_asyncToGenerator(function*(x,C=!1){if(g(x,document.baseURI)){const V=yield fetch(x);if(!V.ok)throw new Error(V.statusText);return C?new Uint8Array(yield V.arrayBuffer()):(0,W.stringToBytes)(yield V.text())}return new Promise((V,K)=>{const Q=new XMLHttpRequest;Q.open("GET",x,!0),C&&(Q.responseType="arraybuffer"),Q.onreadystatechange=()=>{if(Q.readyState===XMLHttpRequest.DONE){if(200===Q.status||0===Q.status){let te;if(C&&Q.response?te=new Uint8Array(Q.response):!C&&Q.responseText&&(te=(0,W.stringToBytes)(Q.responseText)),te)return void V(te)}K(new Error(Q.statusText))}},Q.send(null)})})).apply(this,arguments)}p=J,_defineProperty(J,"CSS",96),_defineProperty(J,"PDF",72),_defineProperty(J,"PDF_TO_CSS_UNITS",p.CSS/p.PDF),_.PixelsPerInch=J,_.DOMCanvasFactory=class H extends Z.BaseCanvasFactory{constructor({ownerDocument:C=globalThis.document}={}){super(),this._document=C}_createCanvas(C,V){const K=this._document.createElement("canvas");return K.width=C,K.height=V,K}},_.DOMCMapReaderFactory=class ie extends Z.BaseCMapReaderFactory{_fetchData(C,V){return j(C,this.isCompressed).then(K=>({cMapData:K,compressionType:V}))}},_.DOMStandardFontDataFactory=class re extends Z.BaseStandardFontDataFactory{_fetchData(C){return j(C,!0)}},_.DOMSVGFactory=class X extends Z.BaseSVGFactory{_createSVG(C){return document.createElementNS("http://www.w3.org/2000/svg",C)}};class ne{constructor({viewBox:C,scale:V,rotation:K,offsetX:Q=0,offsetY:te=0,dontFlip:ce=!1}){this.viewBox=C,this.scale=V,this.rotation=K,this.offsetX=Q,this.offsetY=te;const ge=(C[2]+C[0])/2,R=(C[3]+C[1])/2;let v,m,T,w,d,y,S,L;switch((K%=360)<0&&(K+=360),K){case 180:v=-1,m=0,T=0,w=1;break;case 90:v=0,m=1,T=1,w=0;break;case 270:v=0,m=-1,T=-1,w=0;break;case 0:v=1,m=0,T=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ce&&(T=-T,w=-w),0===v?(d=Math.abs(R-C[1])*V+Q,y=Math.abs(ge-C[0])*V+te,S=Math.abs(C[3]-C[1])*V,L=Math.abs(C[2]-C[0])*V):(d=Math.abs(ge-C[0])*V+Q,y=Math.abs(R-C[1])*V+te,S=Math.abs(C[2]-C[0])*V,L=Math.abs(C[3]-C[1])*V),this.transform=[v*V,m*V,T*V,w*V,d-v*V*ge-T*V*R,y-m*V*ge-w*V*R],this.width=S,this.height=L}clone({scale:C=this.scale,rotation:V=this.rotation,offsetX:K=this.offsetX,offsetY:Q=this.offsetY,dontFlip:te=!1}={}){return new ne({viewBox:this.viewBox.slice(),scale:C,rotation:V,offsetX:K,offsetY:Q,dontFlip:te})}convertToViewportPoint(C,V){return W.Util.applyTransform([C,V],this.transform)}convertToViewportRectangle(C){const V=W.Util.applyTransform([C[0],C[1]],this.transform),K=W.Util.applyTransform([C[2],C[3]],this.transform);return[V[0],V[1],K[0],K[1]]}convertToPdfPoint(C,V){return W.Util.applyInverseTransform([C,V],this.transform)}}function k(x){const C=x.length;let V=0;for(;V<C&&""===x[V].trim();)V++;return"data:"===x.substring(V,V+5).toLowerCase()}function g(x,C){try{const{protocol:V}=C?new URL(x,C):new URL(x);return"http:"===V||"https:"===V}catch{return!1}}let U;_.PageViewport=ne,_.RenderingCancelledException=class P extends W.BaseException{constructor(C,V){super(C,"RenderingCancelledException"),this.type=V}},_.StatTimer=class N{constructor(){this.started=Object.create(null),this.times=[]}time(C){C in this.started&&(0,W.warn)(`Timer is already running for ${C}`),this.started[C]=Date.now()}timeEnd(C){C in this.started||(0,W.warn)(`Timer has not been started for ${C}`),this.times.push({name:C,start:this.started[C],end:Date.now()}),delete this.started[C]}toString(){const C=[];let V=0;for(const K of this.times){const Q=K.name;Q.length>V&&(V=Q.length)}for(const K of this.times){const Q=K.end-K.start;C.push(`${K.name.padEnd(V)} ${Q}ms\n`)}return C.join("")}},_.PDFDateString=class A{static toDateObject(C){if(!C||"string"!=typeof C)return null;U||(U=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const V=U.exec(C);if(!V)return null;const K=parseInt(V[1],10);let Q=parseInt(V[2],10);Q=Q>=1&&Q<=12?Q-1:0;let te=parseInt(V[3],10);te=te>=1&&te<=31?te:1;let ce=parseInt(V[4],10);ce=ce>=0&&ce<=23?ce:0;let ge=parseInt(V[5],10);ge=ge>=0&&ge<=59?ge:0;let R=parseInt(V[6],10);R=R>=0&&R<=59?R:0;const v=V[7]||"Z";let m=parseInt(V[8],10);m=m>=0&&m<=23?m:0;let T=parseInt(V[9],10)||0;return T=T>=0&&T<=59?T:0,"-"===v?(ce+=m,ge+=T):"+"===v&&(ce-=m,ge-=T),new Date(Date.UTC(K,Q,te,ce,ge,R))}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BaseStandardFontDataFactory=_.BaseSVGFactory=_.BaseCanvasFactory=_.BaseCMapReaderFactory=void 0;var p=z(1);class Z{constructor(){this.constructor===Z&&(0,p.unreachable)("Cannot initialize BaseCanvasFactory.")}create(j,ee){if(j<=0||ee<=0)throw new Error("Invalid canvas size");const ie=this._createCanvas(j,ee);return{canvas:ie,context:ie.getContext("2d")}}reset(j,ee,ie){if(!j.canvas)throw new Error("Canvas is not specified");if(ee<=0||ie<=0)throw new Error("Invalid canvas size");j.canvas.width=ee,j.canvas.height=ie}destroy(j){if(!j.canvas)throw new Error("Canvas is not specified");j.canvas.width=0,j.canvas.height=0,j.canvas=null,j.context=null}_createCanvas(j,ee){(0,p.unreachable)("Abstract method `_createCanvas` called.")}}_.BaseCanvasFactory=Z;class W{constructor({baseUrl:j=null,isCompressed:ee=!1}){this.constructor===W&&(0,p.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=j,this.isCompressed=ee}fetch({name:j}){var ee=this;return _asyncToGenerator(function*(){if(!ee.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!j)throw new Error("CMap name must be specified.");const ie=ee.baseUrl+j+(ee.isCompressed?".bcmap":"");return ee._fetchData(ie,ee.isCompressed?p.CMapCompressionType.BINARY:p.CMapCompressionType.NONE).catch(X=>{throw new Error(`Unable to load ${ee.isCompressed?"binary ":""}CMap at: ${ie}`)})})()}_fetchData(j,ee){(0,p.unreachable)("Abstract method `_fetchData` called.")}}_.BaseCMapReaderFactory=W;class pe{constructor({baseUrl:j=null}){this.constructor===pe&&(0,p.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=j}fetch({filename:j}){var ee=this;return _asyncToGenerator(function*(){if(!ee.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!j)throw new Error("Font filename must be specified.");const ie=`${ee.baseUrl}${j}`;return ee._fetchData(ie).catch(re=>{throw new Error(`Unable to load font data at: ${ie}`)})})()}_fetchData(j){(0,p.unreachable)("Abstract method `_fetchData` called.")}}_.BaseStandardFontDataFactory=pe;class J{constructor(){this.constructor===J&&(0,p.unreachable)("Cannot initialize BaseSVGFactory.")}create(j,ee){if(j<=0||ee<=0)throw new Error("Invalid SVG dimensions");const ie=this._createSVG("svg:svg");return ie.setAttribute("version","1.1"),ie.setAttribute("width",`${j}px`),ie.setAttribute("height",`${ee}px`),ie.setAttribute("preserveAspectRatio","none"),ie.setAttribute("viewBox",`0 0 ${j} ${ee}`),ie}createElement(j){if("string"!=typeof j)throw new Error("Invalid SVG element type");return this._createSVG(j)}_createSVG(j){(0,p.unreachable)("Abstract method `_createSVG` called.")}}_.BaseSVGFactory=J},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.FontLoader=_.FontFaceObject=void 0;var p=z(1);class Z{constructor({docId:H,onUnsupportedFeature:j,ownerDocument:ee=globalThis.document,styleElement:ie=null}){this.constructor===Z&&(0,p.unreachable)("Cannot initialize BaseFontLoader."),this.docId=H,this._onUnsupportedFeature=j,this._document=ee,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(H){this.nativeFontFaces.push(H),this._document.fonts.add(H)}insertRule(H){let j=this.styleElement;j||(j=this.styleElement=this._document.createElement("style"),j.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(j));const ee=j.sheet;ee.insertRule(H,ee.cssRules.length)}clear(){for(const H of this.nativeFontFaces)this._document.fonts.delete(H);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(H){var j=this;return _asyncToGenerator(function*(){if(H.attached||H.missingFile)return;if(H.attached=!0,j.isFontLoadingAPISupported){const ie=H.createNativeFontFace();if(ie){j.addNativeFontFace(ie);try{yield ie.loaded}catch(re){throw j._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,p.warn)(`Failed to load font '${ie.family}': '${re}'.`),H.disableFontFace=!0,re}}return}const ee=H.createFontFaceRule();if(ee){if(j.insertRule(ee),j.isSyncFontLoadingSupported)return;yield new Promise(ie=>{const re=j._queueLoadingCallback(ie);j._prepareFontLoadEvent([ee],[H],re)})}})()}_queueLoadingCallback(H){(0,p.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,p.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,p.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,p.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(H,j,ee){(0,p.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let W;_.FontLoader=W,_.FontLoader=W=class extends Z{constructor(H){super(H),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let H=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(H=!0),(0,p.shadow)(this,"isSyncFontLoadingSupported",H)}_queueLoadingCallback(H){const ee=this.loadingContext,ie={id:"pdfjs-font-loading-"+ee.nextRequestId++,done:!1,complete:function j(){for((0,p.assert)(!ie.done,"completeRequest() cannot be called twice."),ie.done=!0;ee.requests.length>0&&ee.requests[0].done;){const re=ee.requests.shift();setTimeout(re.callback,0)}},callback:H};return ee.requests.push(ie),ie}get _loadTestFont(){return(0,p.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(H,j,ee){function ie(V,K){return V.charCodeAt(K)<<24|V.charCodeAt(K+1)<<16|V.charCodeAt(K+2)<<8|255&V.charCodeAt(K+3)}function re(V,K,Q,te){return V.substring(0,K)+te+V.substring(K+Q)}let X,ne;const P=this._document.createElement("canvas");P.width=1,P.height=1;const k=P.getContext("2d");let G=0;const O=`lt${Date.now()}${this.loadTestFontId++}`;let N=this._loadTestFont;N=re(N,976,O.length,O);const I=1482184792;let U=ie(N,16);for(X=0,ne=O.length-3;X<ne;X+=4)U=U-I+ie(O,X)|0;X<O.length&&(U=U-I+ie(O+"XXX",X)|0),N=re(N,16,4,(0,p.string32)(U));const A=`url(data:font/opentype;base64,${btoa(N)});`;this.insertRule(`@font-face {font-family:"${O}";src:${A}}`);const x=[];for(const V of j)x.push(V.loadedName);x.push(O);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const V of x){const K=this._document.createElement("span");K.textContent="Hi",K.style.fontFamily=V,C.appendChild(K)}this._document.body.appendChild(C),function $(V,K){if(G++,G>30)return(0,p.warn)("Load test font never loaded."),void K();k.font="30px "+V,k.fillText(".",0,20),k.getImageData(0,0,1,1).data[3]>0?K():setTimeout($.bind(null,V,K))}(O,()=>{C.remove(),ee.complete()})}},_.FontFaceObject=class pe{constructor(H,{isEvalSupported:j=!0,disableFontFace:ee=!1,ignoreErrors:ie=!1,onUnsupportedFeature:re,fontRegistry:X=null}){this.compiledGlyphs=Object.create(null);for(const ne in H)this[ne]=H[ne];this.isEvalSupported=!1!==j,this.disableFontFace=!0===ee,this.ignoreErrors=!0===ie,this._onUnsupportedFeature=re,this.fontRegistry=X}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let H;if(this.cssFontInfo){const j={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(j.style=`oblique ${this.cssFontInfo.italicAngle}deg`),H=new FontFace(this.cssFontInfo.fontFamily,this.data,j)}else H=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),H}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const H=(0,p.bytesToString)(this.data),j=`url(data:${this.mimetype};base64,${btoa(H)});`;let ee;if(this.cssFontInfo){let ie=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ie+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ee=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ie}src:${j}}`}else ee=`@font-face {font-family:"${this.loadedName}";src:${j}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,j),ee}getPathGenerator(H,j){if(void 0!==this.compiledGlyphs[j])return this.compiledGlyphs[j];let ee;try{ee=H.get(this.loadedName+"_path_"+j)}catch(ie){if(!this.ignoreErrors)throw ie;return this._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,p.warn)(`getPathGenerator - ignoring character: "${ie}".`),this.compiledGlyphs[j]=function(re,X){}}if(this.isEvalSupported&&p.IsEvalSupportedCached.value){const ie=[];for(const re of ee){const X=void 0!==re.args?re.args.join(","):"";ie.push("c.",re.cmd,"(",X,");\n")}return this.compiledGlyphs[j]=new Function("c","size",ie.join(""))}return this.compiledGlyphs[j]=function(ie,re){for(const X of ee)"scale"===X.cmd&&(X.args=[re,-re]),ie[X.cmd].apply(ie,X.args)}}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NodeStandardFontDataFactory=_.NodeCanvasFactory=_.NodeCMapReaderFactory=void 0;var p=z(6),Z=z(3),W=z(1);let pe=class{constructor(){(0,W.unreachable)("Not implemented: NodeCanvasFactory")}};_.NodeCanvasFactory=pe;let J=class{constructor(){(0,W.unreachable)("Not implemented: NodeCMapReaderFactory")}};_.NodeCMapReaderFactory=J;let H=class{constructor(){(0,W.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(_.NodeStandardFontDataFactory=H,Z.isNodeJS){const j=function(ee){return new Promise((ie,re)=>{__webpack_require__(172).readFile(ee,(ne,P)=>{!ne&&P?ie(new Uint8Array(P)):re(new Error(ne))})})};_.NodeCanvasFactory=pe=class extends p.BaseCanvasFactory{_createCanvas(ee,ie){return __webpack_require__(414).createCanvas(ee,ie)}},_.NodeCMapReaderFactory=J=class extends p.BaseCMapReaderFactory{_fetchData(ee,ie){return j(ee).then(re=>({cMapData:re,compressionType:ie}))}},_.NodeStandardFontDataFactory=H=class extends p.BaseStandardFontDataFactory{_fetchData(ee){return j(ee)}}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationStorage=void 0;var p=z(1);_.AnnotationStorage=class Z{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(pe,J){const H=this._storage.get(pe);return void 0===H?J:Object.assign(J,H)}setValue(pe,J){const H=this._storage.get(pe);let j=!1;if(void 0!==H)for(const[ee,ie]of Object.entries(J))H[ee]!==ie&&(j=!0,H[ee]=ie);else j=!0,this._storage.set(pe,J);j&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,p.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CanvasGraphics=void 0;var p=z(1),Z=z(11),W=z(5);const H=4096,X=16,ne=1.000001;function k(R){if(R._transformStack&&(R._transformStack=[]),!R.mozCurrentTransform){R._originalSave=R.save,R._originalRestore=R.restore,R._originalRotate=R.rotate,R._originalScale=R.scale,R._originalTranslate=R.translate,R._originalTransform=R.transform,R._originalSetTransform=R.setTransform,R._originalResetTransform=R.resetTransform,R._transformMatrix=R._transformMatrix||[1,0,0,1,0,0],R._transformStack=[];try{const v=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(R),"lineWidth");R._setLineWidth=v.set,R._getLineWidth=v.get,Object.defineProperty(R,"lineWidth",{set:function(T){this._setLineWidth(T*ne)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(R,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(R,"mozCurrentTransformInverse",{get:function(){const[m,T,w,d,y,S]=this._transformMatrix,L=m*d-T*w,D=T*w-m*d;return[d/L,T/D,w/D,m/L,(d*y-w*S)/D,(T*y-m*S)/L]}}),R.save=function(){const m=this._transformMatrix;this._transformStack.push(m),this._transformMatrix=m.slice(0,6),this._originalSave()},R.restore=function(){0===this._transformStack.length&&(0,p.warn)("Tried to restore a ctx when the stack was already empty.");const m=this._transformStack.pop();m&&(this._transformMatrix=m,this._originalRestore())},R.translate=function(m,T){const w=this._transformMatrix;w[4]=w[0]*m+w[2]*T+w[4],w[5]=w[1]*m+w[3]*T+w[5],this._originalTranslate(m,T)},R.scale=function(m,T){const w=this._transformMatrix;w[0]*=m,w[1]*=m,w[2]*=T,w[3]*=T,this._originalScale(m,T)},R.transform=function(m,T,w,d,y,S){const L=this._transformMatrix;this._transformMatrix=[L[0]*m+L[2]*T,L[1]*m+L[3]*T,L[0]*w+L[2]*d,L[1]*w+L[3]*d,L[0]*y+L[2]*S+L[4],L[1]*y+L[3]*S+L[5]],R._originalTransform(m,T,w,d,y,S)},R.setTransform=function(m,T,w,d,y,S){this._transformMatrix=[m,T,w,d,y,S],R._originalSetTransform(m,T,w,d,y,S)},R.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],R._originalResetTransform()},R.rotate=function(m){const T=Math.cos(m),w=Math.sin(m),d=this._transformMatrix;this._transformMatrix=[d[0]*T+d[2]*w,d[1]*T+d[3]*w,d[0]*-w+d[2]*T,d[1]*-w+d[3]*T,d[4],d[5]],this._originalRotate(m)}}}class G{constructor(v){this.canvasFactory=v,this.cache=Object.create(null)}getCanvas(v,m,T,w){let d;return void 0!==this.cache[v]?(d=this.cache[v],this.canvasFactory.reset(d,m,T),d.context.setTransform(1,0,0,1,0,0)):(d=this.canvasFactory.create(m,T),this.cache[v]=d),w&&k(d.context),d}clear(){for(const v in this.cache)this.canvasFactory.destroy(this.cache[v]),delete this.cache[v]}}class O{constructor(v,m){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=p.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=p.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,v,m])}clone(){const v=Object.create(this);return v.clipBox=this.clipBox.slice(),v}setCurrentPoint(v,m){this.x=v,this.y=m}updatePathMinMax(v,m,T){[m,T]=p.Util.applyTransform([m,T],v),this.minX=Math.min(this.minX,m),this.minY=Math.min(this.minY,T),this.maxX=Math.max(this.maxX,m),this.maxY=Math.max(this.maxY,T)}updateCurvePathMinMax(v,m,T,w,d,y,S,L,D){const E=p.Util.bezierBoundingBox(m,T,w,d,y,S,L,D);this.updatePathMinMax(v,E[0],E[1]),this.updatePathMinMax(v,E[2],E[3])}getPathBoundingBox(v=Z.PathType.FILL,m=null){const T=[this.minX,this.minY,this.maxX,this.maxY];if(v===Z.PathType.STROKE){m||(0,p.unreachable)("Stroke bounding box must include transform.");const w=p.Util.singularValueDecompose2dScale(m),d=w[0]*this.lineWidth/2,y=w[1]*this.lineWidth/2;T[0]-=d,T[1]-=y,T[2]+=d,T[3]+=y}return T}updateClipFromPath(){const v=p.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(v||[0,0,0,0])}startNewPathAndClipBox(v){this.clipBox=v,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(v=Z.PathType.FILL,m=null){return p.Util.intersect(this.clipBox,this.getPathBoundingBox(v,m))}}function N(R,v,m=null){if(typeof ImageData<"u"&&v instanceof ImageData)return void R.putImageData(v,0,0);const T=v.height,w=v.width,d=T%X,y=(T-d)/X,S=0===d?y:y+1,L=R.createImageData(w,X);let E,D=0;const Y=v.data,de=L.data;let ue,fe,Ee,Ne,Be,$e,Oe,Tt;if(m)switch(m.length){case 1:Be=m[0],$e=m[0],Oe=m[0],Tt=m[0];break;case 4:Be=m[0],$e=m[1],Oe=m[2],Tt=m[3]}if(v.kind===p.ImageKind.GRAYSCALE_1BPP){const xt=Y.byteLength,We=new Uint32Array(de.buffer,0,de.byteLength>>2),tt=We.length,an=w+7>>3;let ye=4294967295,F=p.IsLittleEndianCached.value?4278190080:255;for(Tt&&255===Tt[0]&&0===Tt[255]&&([ye,F]=[F,ye]),ue=0;ue<S;ue++){for(Ee=ue<y?X:d,E=0,fe=0;fe<Ee;fe++){const le=xt-D;let _e=0;const Pe=le>an?w:8*le-7,Ie=-8&Pe;let Ve=0,Fe=0;for(;_e<Ie;_e+=8)Fe=Y[D++],We[E++]=128&Fe?ye:F,We[E++]=64&Fe?ye:F,We[E++]=32&Fe?ye:F,We[E++]=16&Fe?ye:F,We[E++]=8&Fe?ye:F,We[E++]=4&Fe?ye:F,We[E++]=2&Fe?ye:F,We[E++]=1&Fe?ye:F;for(;_e<Pe;_e++)0===Ve&&(Fe=Y[D++],Ve=128),We[E++]=Fe&Ve?ye:F,Ve>>=1}for(;E<tt;)We[E++]=0;R.putImageData(L,0,ue*X)}}else if(v.kind===p.ImageKind.RGBA_32BPP){const xt=!!(Be||$e||Oe);for(fe=0,Ne=w*X*4,ue=0;ue<y;ue++){if(de.set(Y.subarray(D,D+Ne)),D+=Ne,xt)for(let We=0;We<Ne;We+=4)Be&&(de[We+0]=Be[de[We+0]]),$e&&(de[We+1]=$e[de[We+1]]),Oe&&(de[We+2]=Oe[de[We+2]]);R.putImageData(L,0,fe),fe+=X}if(ue<S){if(Ne=w*d*4,de.set(Y.subarray(D,D+Ne)),xt)for(let We=0;We<Ne;We+=4)Be&&(de[We+0]=Be[de[We+0]]),$e&&(de[We+1]=$e[de[We+1]]),Oe&&(de[We+2]=Oe[de[We+2]]);R.putImageData(L,0,fe)}}else{if(v.kind!==p.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${v.kind}`);{const xt=!!(Be||$e||Oe);for(Ee=X,Ne=w*Ee,ue=0;ue<S;ue++){for(ue>=y&&(Ee=d,Ne=w*Ee),E=0,fe=Ne;fe--;)de[E++]=Y[D++],de[E++]=Y[D++],de[E++]=Y[D++],de[E++]=255;if(xt)for(let We=0;We<E;We+=4)Be&&(de[We+0]=Be[de[We+0]]),$e&&(de[We+1]=$e[de[We+1]]),Oe&&(de[We+2]=Oe[de[We+2]]);R.putImageData(L,0,ue*X)}}}}function g(R,v){const m=v.height,T=v.width,w=m%X,d=(m-w)/X,y=0===w?d:d+1,S=R.createImageData(T,X);let L=0;const D=v.data,E=S.data;for(let Y=0;Y<y;Y++){const de=Y<d?X:w;let ue=3;for(let fe=0;fe<de;fe++){let Ee,Ne=0;for(let Be=0;Be<T;Be++)Ne||(Ee=D[L++],Ne=128),E[ue]=Ee&Ne?0:255,ue+=4,Ne>>=1}R.putImageData(S,0,Y*X)}}function f(R,v){const m=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let T=0,w=m.length;T<w;T++){const d=m[T];void 0!==R[d]&&(v[d]=R[d])}void 0!==R.setLineDash&&(v.setLineDash(R.getLineDash()),v.lineDashOffset=R.lineDashOffset)}function I(R){R.strokeStyle="#000000",R.fillStyle="#000000",R.fillRule="nonzero",R.globalAlpha=1,R.lineWidth=1,R.lineCap="butt",R.lineJoin="miter",R.miterLimit=10,R.globalCompositeOperation="source-over",R.font="10px sans-serif",void 0!==R.setLineDash&&(R.setLineDash([]),R.lineDashOffset=0)}function U(R,v,m,T){const w=R.length;for(let d=3;d<w;d+=4){const y=R[d];if(0===y)R[d-3]=v,R[d-2]=m,R[d-1]=T;else if(y<255){const S=255-y;R[d-3]=R[d-3]*y+v*S>>8,R[d-2]=R[d-2]*y+m*S>>8,R[d-1]=R[d-1]*y+T*S>>8}}}function A(R,v,m){const T=R.length;for(let d=3;d<T;d+=4)v[d]=v[d]*(m?m[R[d]]:R[d])*.00392156862745098|0}function B(R,v,m){const T=R.length;for(let w=3;w<T;w+=4){const d=77*R[w-3]+152*R[w-2]+28*R[w-1];v[w]=m?v[w]*m[d>>8]>>8:v[w]*d>>16}}function V(R,v){const m=p.Util.singularValueDecompose2dScale(R);m[0]=Math.fround(m[0]),m[1]=Math.fround(m[1]);const T=Math.fround((globalThis.devicePixelRatio||1)*W.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==v?v:m[0]<=T||m[1]<=T}const K=["butt","round","square"],Q=["miter","round","bevel"],te={},ce={};class ge{constructor(v,m,T,w,d,y,S){this.ctx=v,this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=m,this.objs=T,this.canvasFactory=w,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=y,this.cachedCanvases=new G(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=S,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,v&&k(v),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:v,viewport:m,transparency:T=!1,background:w=null}){const d=this.ctx.canvas.width,y=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=w||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,d,y),this.ctx.restore(),T){const S=this.cachedCanvases.getCanvas("transparent",d,y,!0);this.compositeCtx=this.ctx,this.transparentCanvas=S.canvas,this.ctx=S.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),I(this.ctx),v&&(this.ctx.transform.apply(this.ctx,v),this.outputScaleX=v[0],this.outputScaleY=v[0]),this.ctx.transform.apply(this.ctx,m.transform),this.viewportScale=m.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(v,m,T,w){const d=v.argsArray,y=v.fnArray;let S=m||0;const L=d.length;if(L===S)return S;const D=L-S>10&&"function"==typeof T,E=D?Date.now()+15:0;let Y=0;const de=this.commonObjs,ue=this.objs;let fe;for(;;){if(void 0!==w&&S===w.nextBreakPoint)return w.breakIt(S,T),S;if(fe=y[S],fe!==p.OPS.dependency)this[fe].apply(this,d[S]);else for(const Ee of d[S]){const Ne=Ee.startsWith("g_")?de:ue;if(!Ne.has(Ee))return Ne.get(Ee,T),S}if(S++,S===L)return S;if(D&&++Y>10){if(Date.now()>E)return T(),S;Y=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(v,m){const T=v.width,w=v.height;let E,Y,d=Math.max(Math.hypot(m[0],m[1]),1),y=Math.max(Math.hypot(m[2],m[3]),1),S=T,L=w,D="prescale1";for(;d>2&&S>1||y>2&&L>1;){let de=S,ue=L;d>2&&S>1&&(de=Math.ceil(S/2),d/=S/de),y>2&&L>1&&(ue=Math.ceil(L/2),y/=L/ue),E=this.cachedCanvases.getCanvas(D,de,ue),Y=E.context,Y.clearRect(0,0,de,ue),Y.drawImage(v,0,0,S,L,0,0,de,ue),v=E.canvas,S=de,L=ue,D="prescale1"===D?"prescale2":"prescale1"}return{img:v,paintWidth:S,paintHeight:L}}_createMaskCanvas(v){const m=this.ctx,T=v.width,w=v.height,d=this.current.fillColor,y=this.current.patternFill,S=this.cachedCanvases.getCanvas("maskCanvas",T,w);g(S.context,v);let E=p.Util.transform(m.mozCurrentTransform,[1/T,0,0,-1/w,0,0]);E=p.Util.transform(E,[1,0,0,1,0,-w]);const Y=p.Util.applyTransform([0,0],E),de=p.Util.applyTransform([T,w],E),ue=p.Util.normalizeRect([Y[0],Y[1],de[0],de[1]]),fe=Math.ceil(ue[2]-ue[0]),Ee=Math.ceil(ue[3]-ue[1]),Ne=this.cachedCanvases.getCanvas("fillCanvas",fe,Ee,!0),Be=Ne.context,$e=Math.min(Y[0],de[0]),Oe=Math.min(Y[1],de[1]);Be.translate(-$e,-Oe),Be.transform.apply(Be,E);const Tt=this._scaleImage(S.canvas,Be.mozCurrentTransformInverse);Be.imageSmoothingEnabled=V(Be.mozCurrentTransform,v.interpolate),Be.drawImage(Tt.img,0,0,Tt.img.width,Tt.img.height,0,0,T,w),Be.globalCompositeOperation="source-in";const xt=p.Util.transform(Be.mozCurrentTransformInverse,[1,0,0,1,-$e,-Oe]);return Be.fillStyle=y?d.getPattern(m,this,xt,Z.PathType.FILL):d,Be.fillRect(0,0,T,w),{canvas:Ne.canvas,offsetX:Math.round($e),offsetY:Math.round(Oe)}}setLineWidth(v){this.current.lineWidth=v,this.ctx.lineWidth=v}setLineCap(v){this.ctx.lineCap=K[v]}setLineJoin(v){this.ctx.lineJoin=Q[v]}setMiterLimit(v){this.ctx.miterLimit=v}setDash(v,m){const T=this.ctx;void 0!==T.setLineDash&&(T.setLineDash(v),T.lineDashOffset=m)}setRenderingIntent(v){}setFlatness(v){}setGState(v){for(let m=0,T=v.length;m<T;m++){const w=v[m],y=w[1];switch(w[0]){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y[0],y[1]);break;case"CA":this.current.strokeAlpha=w[1];break;case"ca":this.current.fillAlpha=w[1],this.ctx.globalAlpha=w[1];break;case"BM":this.ctx.globalCompositeOperation=y;break;case"SMask":this.current.activeSMask=y?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=y}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const v=this.inSMaskMode;this.current.activeSMask&&!v?this.beginSMaskMode():!this.current.activeSMask&&v&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const w=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=w.context;const d=this.ctx;d.setTransform.apply(d,this.suspendedCtx.mozCurrentTransform),f(this.suspendedCtx,d),function P(R,v){if(R._removeMirroring)throw new Error("Context is already forwarding operations.");R.__originalSave=R.save,R.__originalRestore=R.restore,R.__originalRotate=R.rotate,R.__originalScale=R.scale,R.__originalTranslate=R.translate,R.__originalTransform=R.transform,R.__originalSetTransform=R.setTransform,R.__originalResetTransform=R.resetTransform,R.__originalClip=R.clip,R.__originalMoveTo=R.moveTo,R.__originalLineTo=R.lineTo,R.__originalBezierCurveTo=R.bezierCurveTo,R.__originalRect=R.rect,R.__originalClosePath=R.closePath,R.__originalBeginPath=R.beginPath,R._removeMirroring=()=>{R.save=R.__originalSave,R.restore=R.__originalRestore,R.rotate=R.__originalRotate,R.scale=R.__originalScale,R.translate=R.__originalTranslate,R.transform=R.__originalTransform,R.setTransform=R.__originalSetTransform,R.resetTransform=R.__originalResetTransform,R.clip=R.__originalClip,R.moveTo=R.__originalMoveTo,R.lineTo=R.__originalLineTo,R.bezierCurveTo=R.__originalBezierCurveTo,R.rect=R.__originalRect,R.closePath=R.__originalClosePath,R.beginPath=R.__originalBeginPath,delete R._removeMirroring},R.save=function(){v.save(),this.__originalSave()},R.restore=function(){v.restore(),this.__originalRestore()},R.translate=function(T,w){v.translate(T,w),this.__originalTranslate(T,w)},R.scale=function(T,w){v.scale(T,w),this.__originalScale(T,w)},R.transform=function(T,w,d,y,S,L){v.transform(T,w,d,y,S,L),this.__originalTransform(T,w,d,y,S,L)},R.setTransform=function(T,w,d,y,S,L){v.setTransform(T,w,d,y,S,L),this.__originalSetTransform(T,w,d,y,S,L)},R.resetTransform=function(){v.resetTransform(),this.__originalResetTransform()},R.rotate=function(T){v.rotate(T),this.__originalRotate(T)},R.clip=function(T){v.clip(T),this.__originalClip(T)},R.moveTo=function(m,T){v.moveTo(m,T),this.__originalMoveTo(m,T)},R.lineTo=function(m,T){v.lineTo(m,T),this.__originalLineTo(m,T)},R.bezierCurveTo=function(m,T,w,d,y,S){v.bezierCurveTo(m,T,w,d,y,S),this.__originalBezierCurveTo(m,T,w,d,y,S)},R.rect=function(m,T,w,d){v.rect(m,T,w,d),this.__originalRect(m,T,w,d)},R.closePath=function(){v.closePath(),this.__originalClosePath()},R.beginPath=function(){v.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),f(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(v){this.current.activeSMask&&(v?(v[0]=Math.floor(v[0]),v[1]=Math.floor(v[1]),v[2]=Math.ceil(v[2]),v[3]=Math.ceil(v[3])):v=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function C(R,v,m,T){const w=T[0],d=T[1],y=T[2]-w,S=T[3]-d;0===y||0===S||(function x(R,v,m,T,w,d,y,S,L,D,E){const Y=!!d,de=Y?d[0]:0,ue=Y?d[1]:0,fe=Y?d[2]:0;let Ee;Ee="Luminosity"===w?B:A;const Be=Math.min(T,Math.ceil(1048576/m));for(let $e=0;$e<T;$e+=Be){const Oe=Math.min(Be,T-$e),Tt=R.getImageData(S-D,$e+(L-E),m,Oe),xt=v.getImageData(S,$e+L,m,Oe);Y&&U(Tt.data,de,ue,fe),Ee(Tt.data,xt.data,y),v.putImageData(xt,S,$e+L)}}(v.context,m,y,S,v.subtype,v.backdrop,v.transferMap,w,d,v.offsetX,v.offsetY),R.save(),R.globalAlpha=1,R.globalCompositeOperation="source-over",R.setTransform(1,0,0,1,0,0),R.drawImage(m.canvas,0,0),R.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,v),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(f(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const v=this.current;this.stateStack.push(v),this.current=v.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),f(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(v,m,T,w,d,y){this.ctx.transform(v,m,T,w,d,y),this._cachedGetSinglePixelWidth=null}constructPath(v,m){const T=this.ctx,w=this.current;let S,L,d=w.x,y=w.y;for(let D=0,E=0,Y=v.length;D<Y;D++)switch(0|v[D]){case p.OPS.rectangle:d=m[E++],y=m[E++];const de=m[E++],ue=m[E++],fe=d+de,Ee=y+ue;T.moveTo(d,y),0===de||0===ue?T.lineTo(fe,Ee):(T.lineTo(fe,y),T.lineTo(fe,Ee),T.lineTo(d,Ee)),w.updatePathMinMax(T.mozCurrentTransform,d,y),w.updatePathMinMax(T.mozCurrentTransform,fe,Ee),T.closePath();break;case p.OPS.moveTo:d=m[E++],y=m[E++],T.moveTo(d,y),w.updatePathMinMax(T.mozCurrentTransform,d,y);break;case p.OPS.lineTo:d=m[E++],y=m[E++],T.lineTo(d,y),w.updatePathMinMax(T.mozCurrentTransform,d,y);break;case p.OPS.curveTo:S=d,L=y,d=m[E+4],y=m[E+5],T.bezierCurveTo(m[E],m[E+1],m[E+2],m[E+3],d,y),w.updateCurvePathMinMax(T.mozCurrentTransform,S,L,m[E],m[E+1],m[E+2],m[E+3],d,y),E+=6;break;case p.OPS.curveTo2:S=d,L=y,T.bezierCurveTo(d,y,m[E],m[E+1],m[E+2],m[E+3]),w.updateCurvePathMinMax(T.mozCurrentTransform,S,L,d,y,m[E],m[E+1],m[E+2],m[E+3]),d=m[E+2],y=m[E+3],E+=4;break;case p.OPS.curveTo3:S=d,L=y,d=m[E+2],y=m[E+3],T.bezierCurveTo(m[E],m[E+1],d,y,d,y),w.updateCurvePathMinMax(T.mozCurrentTransform,S,L,m[E],m[E+1],d,y,d,y),E+=4;break;case p.OPS.closePath:T.closePath()}w.setCurrentPoint(d,y)}closePath(){this.ctx.closePath()}stroke(v){v=!(typeof v<"u")||v;const m=this.ctx,T=this.current.strokeColor;if(m.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof T&&T?.getPattern){const w=this.getSinglePixelWidth();m.save(),m.strokeStyle=T.getPattern(m,this,m.mozCurrentTransformInverse,Z.PathType.STROKE),m.lineWidth=Math.max(w,this.current.lineWidth),m.stroke(),m.restore()}else{const w=this.getSinglePixelWidth();w<0&&-w>=this.current.lineWidth?(m.save(),m.resetTransform(),m.lineWidth=Math.floor(this._combinedScaleFactor),m.stroke(),m.restore()):(m.lineWidth=Math.max(w,this.current.lineWidth),m.stroke())}v&&this.consumePath(this.current.getClippedPathBoundingBox()),m.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(v){v=!(typeof v<"u")||v;const m=this.ctx,T=this.current.fillColor;let d=!1;this.current.patternFill&&(m.save(),m.fillStyle=T.getPattern(m,this,m.mozCurrentTransformInverse,Z.PathType.FILL),d=!0);const y=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==y&&(this.pendingEOFill?(m.fill("evenodd"),this.pendingEOFill=!1):m.fill()),d&&m.restore(),v&&this.consumePath(y)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=te}eoClip(){this.pendingClip=ce}beginText(){this.current.textMatrix=p.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const v=this.pendingTextPaths,m=this.ctx;if(void 0!==v){m.save(),m.beginPath();for(let T=0;T<v.length;T++){const w=v[T];m.setTransform.apply(m,w.transform),m.translate(w.x,w.y),w.addToPath(m,w.fontSize)}m.restore(),m.clip(),m.beginPath(),delete this.pendingTextPaths}else m.beginPath()}setCharSpacing(v){this.current.charSpacing=v}setWordSpacing(v){this.current.wordSpacing=v}setHScale(v){this.current.textHScale=v/100}setLeading(v){this.current.leading=-v}setFont(v,m){const T=this.commonObjs.get(v),w=this.current;if(!T)throw new Error(`Can't find font for ${v}`);if(w.fontMatrix=T.fontMatrix||p.FONT_IDENTITY_MATRIX,(0===w.fontMatrix[0]||0===w.fontMatrix[3])&&(0,p.warn)("Invalid font matrix for font "+v),m<0?(m=-m,w.fontDirection=-1):w.fontDirection=1,this.current.font=T,this.current.fontSize=m,T.isType3Font)return;let y="normal";T.black?y="900":T.bold&&(y="bold");const S=T.italic?"italic":"normal",L=`"${T.loadedName||"sans-serif"}", ${T.fallbackName}`;let D=m;m<16?D=16:m>100&&(D=100),this.current.fontSizeScale=m/D,this.ctx.font=`${S} ${y} ${D}px ${L}`}setTextRenderingMode(v){this.current.textRenderingMode=v}setTextRise(v){this.current.textRise=v}moveText(v,m){this.current.x=this.current.lineX+=v,this.current.y=this.current.lineY+=m}setLeadingMoveText(v,m){this.setLeading(-m),this.moveText(v,m)}setTextMatrix(v,m,T,w,d,y){this.current.textMatrix=[v,m,T,w,d,y],this.current.textMatrixScale=Math.hypot(v,m),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(v,m,T,w,d){const y=this.ctx,S=this.current,L=S.font,D=S.textRenderingMode,E=S.fontSize/S.fontSizeScale,Y=D&p.TextRenderingMode.FILL_STROKE_MASK,de=!!(D&p.TextRenderingMode.ADD_TO_PATH_FLAG),ue=S.patternFill&&!L.missingFile;let fe;(L.disableFontFace||de||ue)&&(fe=L.getPathGenerator(this.commonObjs,v)),L.disableFontFace||ue?(y.save(),y.translate(m,T),y.beginPath(),fe(y,E),w&&y.setTransform.apply(y,w),(Y===p.TextRenderingMode.FILL||Y===p.TextRenderingMode.FILL_STROKE)&&y.fill(),(Y===p.TextRenderingMode.STROKE||Y===p.TextRenderingMode.FILL_STROKE)&&(d&&(y.resetTransform(),y.lineWidth=Math.floor(this._combinedScaleFactor)),y.stroke()),y.restore()):((Y===p.TextRenderingMode.FILL||Y===p.TextRenderingMode.FILL_STROKE)&&y.fillText(v,m,T),(Y===p.TextRenderingMode.STROKE||Y===p.TextRenderingMode.FILL_STROKE)&&(d?(y.save(),y.moveTo(m,T),y.resetTransform(),y.lineWidth=Math.floor(this._combinedScaleFactor),y.strokeText(v,0,0),y.restore()):y.strokeText(v,m,T))),de&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:y.mozCurrentTransform,x:m,y:T,fontSize:E,addToPath:fe})}get isFontSubpixelAAEnabled(){const{context:v}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);v.scale(1.5,1),v.fillText("I",0,10);const m=v.getImageData(0,0,10,10).data;let T=!1;for(let w=3;w<m.length;w+=4)if(m[w]>0&&m[w]<255){T=!0;break}return(0,p.shadow)(this,"isFontSubpixelAAEnabled",T)}showText(v){const m=this.current,T=m.font;if(T.isType3Font)return this.showType3Text(v);const w=m.fontSize;if(0===w)return;const d=this.ctx,y=m.fontSizeScale,S=m.charSpacing,L=m.wordSpacing,D=m.fontDirection,E=m.textHScale*D,Y=v.length,de=T.vertical,ue=de?1:-1,fe=T.defaultVMetrics,Ee=w*m.fontMatrix[0],Ne=m.textRenderingMode===p.TextRenderingMode.FILL&&!T.disableFontFace&&!m.patternFill;let Be;if(d.save(),d.transform.apply(d,m.textMatrix),d.translate(m.x,m.y+m.textRise),d.scale(E,D>0?-1:1),m.patternFill){d.save();const tt=m.fillColor.getPattern(d,this,d.mozCurrentTransformInverse,Z.PathType.FILL);Be=d.mozCurrentTransform,d.restore(),d.fillStyle=tt}let $e=m.lineWidth,Oe=!1;const Tt=m.textMatrixScale;if(0===Tt||0===$e){const tt=m.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;(tt===p.TextRenderingMode.STROKE||tt===p.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,$e=this.getSinglePixelWidth(),Oe=$e<0)}else $e/=Tt;1!==y&&(d.scale(y,y),$e/=y),d.lineWidth=$e;let We,xt=0;for(We=0;We<Y;++We){const tt=v[We];if("number"==typeof tt){xt+=ue*tt*w/1e3;continue}let an=!1;const ye=(tt.isSpace?L:0)+S,F=tt.fontChar,le=tt.accent;let _e,Pe,Ve,Ie=tt.width;if(de){const Fe=tt.vmetric||fe,He=-(tt.vmetric?Fe[1]:.5*Ie)*Ee;Ie=Fe?-Fe[0]:Ie,_e=He/y,Pe=(xt+Fe[2]*Ee)/y}else _e=xt/y,Pe=0;if(T.remeasure&&Ie>0){const Fe=1e3*d.measureText(F).width/w*y;if(Ie<Fe&&this.isFontSubpixelAAEnabled){const He=Ie/Fe;an=!0,d.save(),d.scale(He,1),_e/=He}else Ie!==Fe&&(_e+=(Ie-Fe)/2e3*w/y)}this.contentVisible&&(tt.isInFont||T.missingFile)&&(Ne&&!le?d.fillText(F,_e,Pe):(this.paintChar(F,_e,Pe,Be,Oe),le&&this.paintChar(le.fontChar,_e+w*le.offset.x/y,Pe-w*le.offset.y/y,Be,Oe))),Ve=de?Ie*Ee-ye*D:Ie*Ee+ye*D,xt+=Ve,an&&d.restore()}de?m.y-=xt:m.x+=xt*E,d.restore(),this.compose()}showType3Text(v){const m=this.ctx,T=this.current,w=T.font,d=T.fontSize,y=T.fontDirection,S=w.vertical?1:-1,L=T.charSpacing,D=T.wordSpacing,E=T.textHScale*y,Y=T.fontMatrix||p.FONT_IDENTITY_MATRIX,de=v.length;let fe,Ee,Ne,Be;if(T.textRenderingMode!==p.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedGetSinglePixelWidth=null,m.save(),m.transform.apply(m,T.textMatrix),m.translate(T.x,T.y),m.scale(E,y),fe=0;fe<de;++fe){if(Ee=v[fe],"number"==typeof Ee){Be=S*Ee*d/1e3,this.ctx.translate(Be,0),T.x+=Be*E;continue}const $e=(Ee.isSpace?D:0)+L,Oe=w.charProcOperatorList[Ee.operatorListId];Oe?(this.contentVisible&&(this.processingType3=Ee,this.save(),m.scale(d,d),m.transform.apply(m,Y),this.executeOperatorList(Oe),this.restore()),Ne=p.Util.applyTransform([Ee.width,0],Y)[0]*d+$e,m.translate(Ne,0),T.x+=Ne*E):(0,p.warn)(`Type3 character "${Ee.operatorListId}" is not available.`)}m.restore(),this.processingType3=null}}setCharWidth(v,m){}setCharWidthAndBounds(v,m,T,w,d,y){this.ctx.rect(T,w,d-T,y-w),this.clip(),this.endPath()}getColorN_Pattern(v){let m;if("TilingPattern"===v[0]){const T=v[1],w=this.baseTransform||this.ctx.mozCurrentTransform.slice();m=new Z.TilingPattern(v,T,this.ctx,{createCanvasGraphics:y=>new ge(y,this.commonObjs,this.objs,this.canvasFactory)},w)}else m=this._getPattern(v[1],v[2]);return m}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(v,m,T){const w=p.Util.makeHexColor(v,m,T);this.ctx.strokeStyle=w,this.current.strokeColor=w}setFillRGBColor(v,m,T){const w=p.Util.makeHexColor(v,m,T);this.ctx.fillStyle=w,this.current.fillColor=w,this.current.patternFill=!1}_getPattern(v,m=null){let T;return this.cachedPatterns.has(v)?T=this.cachedPatterns.get(v):(T=(0,Z.getShadingPattern)(this.objs.get(v)),this.cachedPatterns.set(v,T)),m&&(T.matrix=m),T}shadingFill(v){if(!this.contentVisible)return;const m=this.ctx;this.save();const T=this._getPattern(v);m.fillStyle=T.getPattern(m,this,m.mozCurrentTransformInverse,Z.PathType.SHADING);const w=m.mozCurrentTransformInverse;if(w){const d=m.canvas,y=d.width,S=d.height,L=p.Util.applyTransform([0,0],w),D=p.Util.applyTransform([0,S],w),E=p.Util.applyTransform([y,0],w),Y=p.Util.applyTransform([y,S],w),de=Math.min(L[0],D[0],E[0],Y[0]),ue=Math.min(L[1],D[1],E[1],Y[1]),fe=Math.max(L[0],D[0],E[0],Y[0]),Ee=Math.max(L[1],D[1],E[1],Y[1]);this.ctx.fillRect(de,ue,fe-de,Ee-ue)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,p.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,p.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(v,m){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(v)&&6===v.length&&this.transform.apply(this,v),this.baseTransform=this.ctx.mozCurrentTransform,m)&&(this.ctx.rect(m[0],m[1],m[2]-m[0],m[3]-m[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,m[0],m[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,m[2],m[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(v){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const m=this.ctx;v.isolated||(0,p.info)("TODO: Support non-isolated groups."),v.knockout&&(0,p.warn)("Knockout groups not supported.");const T=m.mozCurrentTransform;if(v.matrix&&m.transform.apply(m,v.matrix),!v.bbox)throw new Error("Bounding box is required.");let w=p.Util.getAxialAlignedBoundingBox(v.bbox,m.mozCurrentTransform);w=p.Util.intersect(w,[0,0,m.canvas.width,m.canvas.height])||[0,0,0,0];const y=Math.floor(w[0]),S=Math.floor(w[1]);let L=Math.max(Math.ceil(w[2])-y,1),D=Math.max(Math.ceil(w[3])-S,1),E=1,Y=1;L>H&&(E=L/H,L=H),D>H&&(Y=D/H,D=H),this.current.startNewPathAndClipBox([0,0,L,D]);let de="groupAt"+this.groupLevel;v.smask&&(de+="_smask_"+this.smaskCounter++%2);const ue=this.cachedCanvases.getCanvas(de,L,D,!0),fe=ue.context;fe.scale(1/E,1/Y),fe.translate(-y,-S),fe.transform.apply(fe,T),v.smask?this.smaskStack.push({canvas:ue.canvas,context:fe,offsetX:y,offsetY:S,scaleX:E,scaleY:Y,subtype:v.smask.subtype,backdrop:v.smask.backdrop,transferMap:v.smask.transferMap||null,startTransformInverse:null}):(m.setTransform(1,0,0,1,0,0),m.translate(y,S),m.scale(E,Y),m.save()),f(m,fe),this.ctx=fe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(m),this.groupLevel++}endGroup(v){if(!this.contentVisible)return;this.groupLevel--;const m=this.ctx,T=this.groupStack.pop();if(this.ctx=T,this.ctx.imageSmoothingEnabled=!1,v.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const w=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,w);const d=p.Util.getAxialAlignedBoundingBox([0,0,m.canvas.width,m.canvas.height],w);this.ctx.drawImage(m.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(v,m,T,w,d){if(this.save(),Array.isArray(m)&&4===m.length){const y=m[2]-m[0],S=m[3]-m[1];if(d&&this.annotationCanvasMap){(T=T.slice())[4]-=m[0],T[5]-=m[1],(m=m.slice())[0]=m[1]=0,m[2]=y,m[3]=S;const[L,D]=p.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:E}=this,Y=Math.ceil(y*this.outputScaleX*E),de=Math.ceil(S*this.outputScaleY*E);this.annotationCanvas=this.canvasFactory.create(Y,de);const{canvas:ue,context:fe}=this.annotationCanvas;ue.style.width=`calc(${y}px * var(--viewport-scale-factor))`,ue.style.height=`calc(${S}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(v,ue),this.annotationCanvas.savedCtx=this.ctx,this.ctx=fe,this.ctx.setTransform(L,0,0,-D,0,S*D),k(this.ctx),I(this.ctx)}else I(this.ctx),this.ctx.rect(m[0],m[1],y,S),this.clip(),this.endPath()}this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,T),this.transform.apply(this,w)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(v){if(!this.contentVisible)return;const m=this.ctx,T=v.width,w=v.height,d=this.processingType3;if(d&&void 0===d.compiled&&(d.compiled=T<=1e3&&w<=1e3?function $(R){const m=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),T=R.width,w=R.height,d=T+1;let y,S,L,D;const E=new Uint8Array(d*(w+1)),Y=T+7&-8,de=R.data,ue=new Uint8Array(Y*w);let fe=0;for(y=0,S=de.length;y<S;y++){const Oe=de[y];let Tt=128;for(;Tt>0;)ue[fe++]=Oe&Tt?0:255,Tt>>=1}let Ee=0;for(fe=0,0!==ue[fe]&&(E[0]=1,++Ee),L=1;L<T;L++)ue[fe]!==ue[fe+1]&&(E[L]=ue[fe]?2:1,++Ee),fe++;for(0!==ue[fe]&&(E[L]=2,++Ee),y=1;y<w;y++){fe=y*Y,D=y*d,ue[fe-Y]!==ue[fe]&&(E[D]=ue[fe]?1:8,++Ee);let Oe=(ue[fe]?4:0)+(ue[fe-Y]?8:0);for(L=1;L<T;L++)Oe=(Oe>>2)+(ue[fe+1]?4:0)+(ue[fe-Y+1]?8:0),m[Oe]&&(E[D+L]=m[Oe],++Ee),fe++;if(ue[fe-Y]!==ue[fe]&&(E[D+L]=ue[fe]?2:4,++Ee),Ee>1e3)return null}for(fe=Y*(w-1),D=y*d,0!==ue[fe]&&(E[D]=8,++Ee),L=1;L<T;L++)ue[fe]!==ue[fe+1]&&(E[D+L]=ue[fe]?4:8,++Ee),fe++;if(0!==ue[fe]&&(E[D+L]=4,++Ee),Ee>1e3)return null;const Ne=new Int32Array([0,d,-1,0,-d,0,0,0,1]),Be=[];for(y=0;Ee&&y<=w;y++){let Oe=y*d;const Tt=Oe+T;for(;Oe<Tt&&!E[Oe];)Oe++;if(Oe===Tt)continue;const xt=[Oe%d,y],We=Oe;let tt=E[Oe];do{const an=Ne[tt];do{Oe+=an}while(!E[Oe]);const ye=E[Oe];5!==ye&&10!==ye?(tt=ye,E[Oe]=0):(tt=ye&51*tt>>4,E[Oe]&=tt>>2|tt<<2),xt.push(Oe%d,Oe/d|0),E[Oe]||--Ee}while(We!==Oe);Be.push(xt),--y}return function(Oe){Oe.save(),Oe.scale(1/T,-1/w),Oe.translate(0,-w),Oe.beginPath();for(let Tt=0,xt=Be.length;Tt<xt;Tt++){const We=Be[Tt];Oe.moveTo(We[0],We[1]);for(let tt=2,an=We.length;tt<an;tt+=2)Oe.lineTo(We[tt],We[tt+1])}Oe.fill(),Oe.beginPath(),Oe.restore()}}({data:v.data,width:T,height:w}):null),d?.compiled)return void d.compiled(m);const y=this._createMaskCanvas(v),S=y.canvas;m.save(),m.setTransform(1,0,0,1,0,0),m.drawImage(S,y.offsetX,y.offsetY),m.restore(),this.compose()}paintImageMaskXObjectRepeat(v,m,T=0,w=0,d,y){if(!this.contentVisible)return;const S=this.ctx;S.save();const L=S.mozCurrentTransform;S.transform(m,T,w,d,0,0);const D=this._createMaskCanvas(v);S.setTransform(1,0,0,1,0,0);for(let E=0,Y=y.length;E<Y;E+=2){const de=p.Util.transform(L,[m,T,w,d,y[E],y[E+1]]),[ue,fe]=p.Util.applyTransform([0,0],de);S.drawImage(D.canvas,ue,fe)}S.restore(),this.compose()}paintImageMaskXObjectGroup(v){if(!this.contentVisible)return;const m=this.ctx,T=this.current.fillColor,w=this.current.patternFill;for(let d=0,y=v.length;d<y;d++){const S=v[d],L=S.width,D=S.height,E=this.cachedCanvases.getCanvas("maskCanvas",L,D),Y=E.context;Y.save(),g(Y,S),Y.globalCompositeOperation="source-in",Y.fillStyle=w?T.getPattern(Y,this,m.mozCurrentTransformInverse,Z.PathType.FILL):T,Y.fillRect(0,0,L,D),Y.restore(),m.save(),m.transform.apply(m,S.transform),m.scale(1,-1),m.drawImage(E.canvas,0,0,L,D,0,-1,1,1),m.restore()}this.compose()}paintImageXObject(v){if(!this.contentVisible)return;const m=v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v);m?this.paintInlineImageXObject(m):(0,p.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(v,m,T,w){if(!this.contentVisible)return;const d=v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v);if(!d)return void(0,p.warn)("Dependent image isn't ready yet");const y=d.width,S=d.height,L=[];for(let D=0,E=w.length;D<E;D+=2)L.push({transform:[m,0,0,T,w[D],w[D+1]],x:0,y:0,w:y,h:S});this.paintInlineImageXObjectGroup(d,L)}paintInlineImageXObject(v){if(!this.contentVisible)return;const m=v.width,T=v.height,w=this.ctx;let d;if(this.save(),w.scale(1/m,-1/T),"function"==typeof HTMLElement&&v instanceof HTMLElement||!v.data)d=v;else{const S=this.cachedCanvases.getCanvas("inlineImage",m,T);N(S.context,v,this.current.transferMaps),d=S.canvas}const y=this._scaleImage(d,w.mozCurrentTransformInverse);if(w.imageSmoothingEnabled=V(w.mozCurrentTransform,v.interpolate),w.drawImage(y.img,0,0,y.paintWidth,y.paintHeight,0,-T,m,T),this.imageLayer){const S=this.getCanvasPosition(0,-T);this.imageLayer.appendImage({imgData:v,left:S[0],top:S[1],width:m/w.mozCurrentTransformInverse[0],height:T/w.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(v,m){if(!this.contentVisible)return;const T=this.ctx,w=v.width,d=v.height,y=this.cachedCanvases.getCanvas("inlineImage",w,d);N(y.context,v,this.current.transferMaps);for(let L=0,D=m.length;L<D;L++){const E=m[L];if(T.save(),T.transform.apply(T,E.transform),T.scale(1,-1),T.drawImage(y.canvas,E.x,E.y,E.w,E.h,0,-1,1,1),this.imageLayer){const Y=this.getCanvasPosition(E.x,E.y);this.imageLayer.appendImage({imgData:v,left:Y[0],top:Y[1],width:w,height:d})}T.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(v){}markPointProps(v,m){}beginMarkedContent(v){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(v,m){this.markedContentStack.push("OC"===v?{visible:this.optionalContentConfig.isVisible(m)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(v){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(v);const m=this.ctx;this.pendingClip&&(this.pendingClip===ce?m.clip("evenodd"):m.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),m.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const v=this.ctx.mozCurrentTransform,m=Math.abs(v[0]*v[3]-v[2]*v[1]),T=v[0]**2+v[2]**2,w=v[1]**2+v[3]**2,d=Math.sqrt(Math.max(T,w))/m;this._cachedGetSinglePixelWidth=T!==w&&this._combinedScaleFactor*d>1?-this._combinedScaleFactor*d:m>Number.EPSILON?d:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(v,m){const T=this.ctx.mozCurrentTransform;return[T[0]*v+T[2]*m+T[4],T[1]*v+T[3]*m+T[5]]}isContentVisible(){for(let v=this.markedContentStack.length-1;v>=0;v--)if(!this.markedContentStack[v].visible)return!1;return!0}}_.CanvasGraphics=ge;for(const R in p.OPS)void 0!==ge.prototype[R]&&(ge.prototype[p.OPS[R]]=ge.prototype[R])},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TilingPattern=_.PathType=void 0,_.getShadingPattern=function re(P){switch(P[0]){case"RadialAxial":return new J(P);case"Mesh":return new ee(P);case"Dummy":return new ie}throw new Error(`Unknown IR type: ${P[0]}`)};var p=z(1);const Z={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function W(P,k){if(!k||typeof Path2D>"u")return;const G=k[2]-k[0],$=k[3]-k[1],O=new Path2D;O.rect(k[0],k[1],G,$),P.clip(O)}_.PathType=Z;class pe{constructor(){this.constructor===pe&&(0,p.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,p.unreachable)("Abstract method `getPattern` called.")}}class J extends pe{constructor(k){super(),this._type=k[1],this._bbox=k[2],this._colorStops=k[3],this._p0=k[4],this._p1=k[5],this._r0=k[6],this._r1=k[7],this.matrix=null}_createGradient(k){let G;"axial"===this._type?G=k.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(G=k.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const $ of this._colorStops)G.addColorStop($[0],$[1]);return G}getPattern(k,G,$,O){let N;if(O===Z.STROKE||O===Z.FILL){const g=G.current.getClippedPathBoundingBox(O,k.mozCurrentTransform)||[0,0,0,0],f=Math.ceil(g[2]-g[0])||1,I=Math.ceil(g[3]-g[1])||1,U=G.cachedCanvases.getCanvas("pattern",f,I,!0),A=U.context;A.clearRect(0,0,A.canvas.width,A.canvas.height),A.beginPath(),A.rect(0,0,A.canvas.width,A.canvas.height),A.translate(-g[0],-g[1]),$=p.Util.transform($,[1,0,0,1,g[0],g[1]]),A.transform.apply(A,G.baseTransform),this.matrix&&A.transform.apply(A,this.matrix),W(A,this._bbox),A.fillStyle=this._createGradient(A),A.fill(),N=k.createPattern(U.canvas,"no-repeat");const B=new DOMMatrix($);try{N.setTransform(B)}catch(x){(0,p.warn)(`RadialAxialShadingPattern.getPattern: "${x?.message}".`)}}else W(k,this._bbox),N=this._createGradient(k);return N}}function H(P,k,G,$,O,N,g,f){const I=k.coords,U=k.colors,A=P.data,B=4*P.width;let x;I[G+1]>I[$+1]&&(x=G,G=$,$=x,x=N,N=g,g=x),I[$+1]>I[O+1]&&(x=$,$=O,O=x,x=g,g=f,f=x),I[G+1]>I[$+1]&&(x=G,G=$,$=x,x=N,N=g,g=x);const C=(I[G]+k.offsetX)*k.scaleX,V=(I[G+1]+k.offsetY)*k.scaleY,K=(I[$]+k.offsetX)*k.scaleX,Q=(I[$+1]+k.offsetY)*k.scaleY,te=(I[O]+k.offsetX)*k.scaleX,ce=(I[O+1]+k.offsetY)*k.scaleY;if(V>=ce)return;const ge=U[N],R=U[N+1],v=U[N+2],m=U[g],T=U[g+1],w=U[g+2],d=U[f],y=U[f+1],S=U[f+2],L=Math.round(V),D=Math.round(ce);let E,Y,de,ue,fe,Ee,Ne,Be;for(let $e=L;$e<=D;$e++){if($e<Q){let tt;tt=$e<V?0:(V-$e)/(V-Q),E=C-(C-K)*tt,Y=ge-(ge-m)*tt,de=R-(R-T)*tt,ue=v-(v-w)*tt}else{let tt;tt=$e>ce?1:Q===ce?0:(Q-$e)/(Q-ce),E=K-(K-te)*tt,Y=m-(m-d)*tt,de=T-(T-y)*tt,ue=w-(w-S)*tt}let Oe;Oe=$e<V?0:$e>ce?1:(V-$e)/(V-ce),fe=C-(C-te)*Oe,Ee=ge-(ge-d)*Oe,Ne=R-(R-y)*Oe,Be=v-(v-S)*Oe;const Tt=Math.round(Math.min(E,fe)),xt=Math.round(Math.max(E,fe));let We=B*$e+4*Tt;for(let tt=Tt;tt<=xt;tt++)Oe=(E-tt)/(E-fe),Oe<0?Oe=0:Oe>1&&(Oe=1),A[We++]=Y-(Y-Ee)*Oe|0,A[We++]=de-(de-Ne)*Oe|0,A[We++]=ue-(ue-Be)*Oe|0,A[We++]=255}}function j(P,k,G){const $=k.coords,O=k.colors;let N,g;switch(k.type){case"lattice":const f=k.verticesPerRow,I=Math.floor($.length/f)-1,U=f-1;for(N=0;N<I;N++){let A=N*f;for(let B=0;B<U;B++,A++)H(P,G,$[A],$[A+1],$[A+f],O[A],O[A+1],O[A+f]),H(P,G,$[A+f+1],$[A+1],$[A+f],O[A+f+1],O[A+1],O[A+f])}break;case"triangles":for(N=0,g=$.length;N<g;N+=3)H(P,G,$[N],$[N+1],$[N+2],O[N],O[N+1],O[N+2]);break;default:throw new Error("illegal figure")}}class ee extends pe{constructor(k){super(),this._coords=k[2],this._colors=k[3],this._figures=k[4],this._bounds=k[5],this._bbox=k[7],this._background=k[8],this.matrix=null}_createMeshCanvas(k,G,$){const f=Math.floor(this._bounds[0]),I=Math.floor(this._bounds[1]),U=Math.ceil(this._bounds[2])-f,A=Math.ceil(this._bounds[3])-I,B=Math.min(Math.ceil(Math.abs(U*k[0]*1.1)),3e3),x=Math.min(Math.ceil(Math.abs(A*k[1]*1.1)),3e3),C=U/B,V=A/x,K={coords:this._coords,colors:this._colors,offsetX:-f,offsetY:-I,scaleX:1/C,scaleY:1/V},ce=$.getCanvas("mesh",B+4,x+4,!1),ge=ce.context,R=ge.createImageData(B,x);if(G){const m=R.data;for(let T=0,w=m.length;T<w;T+=4)m[T]=G[0],m[T+1]=G[1],m[T+2]=G[2],m[T+3]=255}for(const m of this._figures)j(R,m,K);return ge.putImageData(R,2,2),{canvas:ce.canvas,offsetX:f-2*C,offsetY:I-2*V,scaleX:C,scaleY:V}}getPattern(k,G,$,O){let N;if(W(k,this._bbox),O===Z.SHADING)N=p.Util.singularValueDecompose2dScale(k.mozCurrentTransform);else if(N=p.Util.singularValueDecompose2dScale(G.baseTransform),this.matrix){const f=p.Util.singularValueDecompose2dScale(this.matrix);N=[N[0]*f[0],N[1]*f[1]]}const g=this._createMeshCanvas(N,O===Z.SHADING?null:this._background,G.cachedCanvases);return O!==Z.SHADING&&(k.setTransform.apply(k,G.baseTransform),this.matrix&&k.transform.apply(k,this.matrix)),k.translate(g.offsetX,g.offsetY),k.scale(g.scaleX,g.scaleY),k.createPattern(g.canvas,"no-repeat")}}class ie extends pe{getPattern(){return"hotpink"}}class ne{static get MAX_PATTERN_SIZE(){return(0,p.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(k,G,$,O,N){this.operatorList=k[2],this.matrix=k[3]||[1,0,0,1,0,0],this.bbox=k[4],this.xstep=k[5],this.ystep=k[6],this.paintType=k[7],this.tilingType=k[8],this.color=G,this.ctx=$,this.canvasGraphicsFactory=O,this.baseTransform=N}createPatternCanvas(k){const G=this.operatorList,$=this.bbox,O=this.xstep,N=this.ystep,g=this.paintType,I=this.color,U=this.canvasGraphicsFactory;(0,p.info)("TilingType: "+this.tilingType);const A=$[0],B=$[1],x=$[2],C=$[3],V=p.Util.singularValueDecompose2dScale(this.matrix),K=p.Util.singularValueDecompose2dScale(this.baseTransform),Q=[V[0]*K[0],V[1]*K[1]],te=this.getSizeAndScale(O,this.ctx.canvas.width,Q[0]),ce=this.getSizeAndScale(N,this.ctx.canvas.height,Q[1]),ge=k.cachedCanvases.getCanvas("pattern",te.size,ce.size,!0),R=ge.context,v=U.createCanvasGraphics(R);v.groupLevel=k.groupLevel,this.setFillAndStrokeStyleToContext(v,g,I);let m=A,T=B,w=x,d=C;return A<0&&(m=0,w+=Math.abs(A)),B<0&&(T=0,d+=Math.abs(B)),R.translate(-te.scale*m,-ce.scale*T),v.transform(te.scale,0,0,ce.scale,0,0),R.save(),this.clipBbox(v,m,T,w,d),v.baseTransform=v.ctx.mozCurrentTransform.slice(),v.executeOperatorList(G),v.endDrawing(),{canvas:ge.canvas,scaleX:te.scale,scaleY:ce.scale,offsetX:m,offsetY:T}}getSizeAndScale(k,G,$){k=Math.abs(k);const O=Math.max(ne.MAX_PATTERN_SIZE,G);let N=Math.ceil(k*$);return N>=O?N=O:$=N/k,{scale:$,size:N}}clipBbox(k,G,$,O,N){k.ctx.rect(G,$,O-G,N-$),k.clip(),k.endPath()}setFillAndStrokeStyleToContext(k,G,$){const O=k.ctx,N=k.current;switch(G){case 1:const g=this.ctx;O.fillStyle=g.fillStyle,O.strokeStyle=g.strokeStyle,N.fillColor=g.fillStyle,N.strokeColor=g.strokeStyle;break;case 2:const f=p.Util.makeHexColor($[0],$[1],$[2]);O.fillStyle=f,O.strokeStyle=f,N.fillColor=f,N.strokeColor=f;break;default:throw new p.FormatError(`Unsupported paint type: ${G}`)}}getPattern(k,G,$,O){let N=$;O!==Z.SHADING&&(N=p.Util.transform(N,G.baseTransform),this.matrix&&(N=p.Util.transform(N,this.matrix)));const g=this.createPatternCanvas(G);let f=new DOMMatrix(N);f=f.translate(g.offsetX,g.offsetY),f=f.scale(1/g.scaleX,1/g.scaleY);const I=k.createPattern(g.canvas,"repeat");try{I.setTransform(f)}catch(U){(0,p.warn)(`TilingPattern.getPattern: "${U?.message}".`)}return I}}_.TilingPattern=ne},(oe,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GlobalWorkerOptions=void 0;const z=Object.create(null);_.GlobalWorkerOptions=z,z.workerPort=void 0===z.workerPort?null:z.workerPort,z.workerSrc=void 0===z.workerSrc?"":z.workerSrc},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.MessageHandler=void 0;var p=z(1);function pe(H){switch(H instanceof Error||"object"==typeof H&&null!==H||(0,p.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),H.name){case"AbortException":return new p.AbortException(H.message);case"MissingPDFException":return new p.MissingPDFException(H.message);case"PasswordException":return new p.PasswordException(H.message,H.code);case"UnexpectedResponseException":return new p.UnexpectedResponseException(H.message,H.status);case"UnknownErrorException":return new p.UnknownErrorException(H.message,H.details);default:return new p.UnknownErrorException(H.message,H.toString())}}_.MessageHandler=class J{constructor(j,ee,ie){this.sourceName=j,this.targetName=ee,this.comObj=ie,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=re=>{const X=re.data;if(X.targetName!==this.sourceName)return;if(X.stream)return void this._processStreamMessage(X);if(X.callback){const P=X.callbackId,k=this.callbackCapabilities[P];if(!k)throw new Error(`Cannot resolve callback ${P}`);if(delete this.callbackCapabilities[P],1===X.callback)k.resolve(X.data);else{if(2!==X.callback)throw new Error("Unexpected callback case");k.reject(pe(X.reason))}return}const ne=this.actionHandler[X.action];if(!ne)throw new Error(`Unknown action from worker: ${X.action}`);if(X.callbackId){const P=this.sourceName,k=X.sourceName;new Promise(function(G){G(ne(X.data))}).then(function(G){ie.postMessage({sourceName:P,targetName:k,callback:1,callbackId:X.callbackId,data:G})},function(G){ie.postMessage({sourceName:P,targetName:k,callback:2,callbackId:X.callbackId,reason:pe(G)})})}else X.streamId?this._createStreamSink(X):ne(X.data)},ie.addEventListener("message",this._onComObjOnMessage)}on(j,ee){const ie=this.actionHandler;if(ie[j])throw new Error(`There is already an actionName called "${j}"`);ie[j]=ee}send(j,ee,ie){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:j,data:ee},ie)}sendWithPromise(j,ee,ie){const re=this.callbackId++,X=(0,p.createPromiseCapability)();this.callbackCapabilities[re]=X;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:j,callbackId:re,data:ee},ie)}catch(ne){X.reject(ne)}return X.promise}sendWithStream(j,ee,ie,re){const X=this.streamId++,ne=this.sourceName,P=this.targetName,k=this.comObj;return new ReadableStream({start:G=>{const $=(0,p.createPromiseCapability)();return this.streamControllers[X]={controller:G,startCall:$,pullCall:null,cancelCall:null,isClosed:!1},k.postMessage({sourceName:ne,targetName:P,action:j,streamId:X,data:ee,desiredSize:G.desiredSize},re),$.promise},pull:G=>{const $=(0,p.createPromiseCapability)();return this.streamControllers[X].pullCall=$,k.postMessage({sourceName:ne,targetName:P,stream:6,streamId:X,desiredSize:G.desiredSize}),$.promise},cancel:G=>{(0,p.assert)(G instanceof Error,"cancel must have a valid reason");const $=(0,p.createPromiseCapability)();return this.streamControllers[X].cancelCall=$,this.streamControllers[X].isClosed=!0,k.postMessage({sourceName:ne,targetName:P,stream:1,streamId:X,reason:pe(G)}),$.promise}},ie)}_createStreamSink(j){const ee=j.streamId,ie=this.sourceName,re=j.sourceName,X=this.comObj,ne=this,P=this.actionHandler[j.action],k={enqueue(G,$=1,O){if(this.isCancelled)return;const N=this.desiredSize;this.desiredSize-=$,N>0&&this.desiredSize<=0&&(this.sinkCapability=(0,p.createPromiseCapability)(),this.ready=this.sinkCapability.promise),X.postMessage({sourceName:ie,targetName:re,stream:4,streamId:ee,chunk:G},O)},close(){this.isCancelled||(this.isCancelled=!0,X.postMessage({sourceName:ie,targetName:re,stream:3,streamId:ee}),delete ne.streamSinks[ee])},error(G){(0,p.assert)(G instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,X.postMessage({sourceName:ie,targetName:re,stream:5,streamId:ee,reason:pe(G)}))},sinkCapability:(0,p.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:j.desiredSize,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[ee]=k,new Promise(function(G){G(P(j.data,k))}).then(function(){X.postMessage({sourceName:ie,targetName:re,stream:8,streamId:ee,success:!0})},function(G){X.postMessage({sourceName:ie,targetName:re,stream:8,streamId:ee,reason:pe(G)})})}_processStreamMessage(j){const ee=j.streamId,ie=this.sourceName,re=j.sourceName,X=this.comObj,ne=this.streamControllers[ee],P=this.streamSinks[ee];switch(j.stream){case 8:j.success?ne.startCall.resolve():ne.startCall.reject(pe(j.reason));break;case 7:j.success?ne.pullCall.resolve():ne.pullCall.reject(pe(j.reason));break;case 6:if(!P){X.postMessage({sourceName:ie,targetName:re,stream:7,streamId:ee,success:!0});break}P.desiredSize<=0&&j.desiredSize>0&&P.sinkCapability.resolve(),P.desiredSize=j.desiredSize,new Promise(function(k){k(P.onPull&&P.onPull())}).then(function(){X.postMessage({sourceName:ie,targetName:re,stream:7,streamId:ee,success:!0})},function(k){X.postMessage({sourceName:ie,targetName:re,stream:7,streamId:ee,reason:pe(k)})});break;case 4:if((0,p.assert)(ne,"enqueue should have stream controller"),ne.isClosed)break;ne.controller.enqueue(j.chunk);break;case 3:if((0,p.assert)(ne,"close should have stream controller"),ne.isClosed)break;ne.isClosed=!0,ne.controller.close(),this._deleteStreamController(ne,ee);break;case 5:(0,p.assert)(ne,"error should have stream controller"),ne.controller.error(pe(j.reason)),this._deleteStreamController(ne,ee);break;case 2:j.success?ne.cancelCall.resolve():ne.cancelCall.reject(pe(j.reason)),this._deleteStreamController(ne,ee);break;case 1:if(!P)break;new Promise(function(k){k(P.onCancel&&P.onCancel(pe(j.reason)))}).then(function(){X.postMessage({sourceName:ie,targetName:re,stream:2,streamId:ee,success:!0})},function(k){X.postMessage({sourceName:ie,targetName:re,stream:2,streamId:ee,reason:pe(k)})}),P.sinkCapability.reject(pe(j.reason)),P.isCancelled=!0,delete this.streamSinks[ee];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(j,ee){var ie=this;return _asyncToGenerator(function*(){yield Promise.allSettled([j.startCall&&j.startCall.promise,j.pullCall&&j.pullCall.promise,j.cancelCall&&j.cancelCall.promise]),delete ie.streamControllers[ee]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Metadata=void 0;var p=z(1),Z=new WeakMap,W=new WeakMap;_.Metadata=class pe{constructor({parsedData:H,rawData:j}){_classPrivateFieldInitSpec(this,Z,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:void 0}),_classPrivateFieldSet(this,Z,H),_classPrivateFieldSet(this,W,j)}getRaw(){return _classPrivateFieldGet(this,W)}get(H){return _classPrivateFieldGet(this,Z).get(H)??null}getAll(){return(0,p.objectFromMap)(_classPrivateFieldGet(this,Z))}has(H){return _classPrivateFieldGet(this,Z).has(H)}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.OptionalContentConfig=void 0;var p=z(1);class Z{constructor(J,H){this.visible=!0,this.name=J,this.intent=H}}_.OptionalContentConfig=class W{constructor(J){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==J){this.name=J.name,this.creator=J.creator,this._order=J.order;for(const H of J.groups)this._groups.set(H.id,new Z(H.name,H.intent));if("OFF"===J.baseState)for(const H of this._groups)H.visible=!1;for(const H of J.on)this._groups.get(H).visible=!0;for(const H of J.off)this._groups.get(H).visible=!1}}_evaluateVisibilityExpression(J){const H=J.length;if(H<2)return!0;const j=J[0];for(let ee=1;ee<H;ee++){const ie=J[ee];let re;if(Array.isArray(ie))re=this._evaluateVisibilityExpression(ie);else{if(!this._groups.has(ie))return(0,p.warn)(`Optional content group not found: ${ie}`),!0;re=this._groups.get(ie).visible}switch(j){case"And":if(!re)return!1;break;case"Or":if(re)return!0;break;case"Not":return!re;default:return!0}}return"And"===j}isVisible(J){if(0===this._groups.size)return!0;if(!J)return(0,p.warn)("Optional content group not defined."),!0;if("OCG"===J.type)return this._groups.has(J.id)?this._groups.get(J.id).visible:((0,p.warn)(`Optional content group not found: ${J.id}`),!0);if("OCMD"===J.type){if(J.expression)return this._evaluateVisibilityExpression(J.expression);if(!J.policy||"AnyOn"===J.policy){for(const H of J.ids){if(!this._groups.has(H))return(0,p.warn)(`Optional content group not found: ${H}`),!0;if(this._groups.get(H).visible)return!0}return!1}if("AllOn"===J.policy){for(const H of J.ids){if(!this._groups.has(H))return(0,p.warn)(`Optional content group not found: ${H}`),!0;if(!this._groups.get(H).visible)return!1}return!0}if("AnyOff"===J.policy){for(const H of J.ids){if(!this._groups.has(H))return(0,p.warn)(`Optional content group not found: ${H}`),!0;if(!this._groups.get(H).visible)return!0}return!1}if("AllOff"===J.policy){for(const H of J.ids){if(!this._groups.has(H))return(0,p.warn)(`Optional content group not found: ${H}`),!0;if(this._groups.get(H).visible)return!1}return!0}return(0,p.warn)(`Unknown optional content policy ${J.policy}.`),!0}return(0,p.warn)(`Unknown group type ${J.type}.`),!0}setVisibility(J,H=!0){this._groups.has(J)?this._groups.get(J).visible=!!H:(0,p.warn)(`Optional content group not found: ${J}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,p.objectFromMap)(this._groups):null}getGroup(J){return this._groups.get(J)||null}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFDataTransportStream=void 0;var p=z(1),Z=z(5);_.PDFDataTransportStream=class W{constructor(j,ee){(0,p.assert)(ee,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=j.progressiveDone||!1,this._contentDispositionFilename=j.contentDispositionFilename||null;const ie=j.initialData;if(ie?.length>0){const re=new Uint8Array(ie).buffer;this._queuedChunks.push(re)}this._pdfDataRangeTransport=ee,this._isStreamingSupported=!j.disableStream,this._isRangeSupported=!j.disableRange,this._contentLength=j.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((re,X)=>{this._onReceiveData({begin:re,chunk:X})}),this._pdfDataRangeTransport.addProgressListener((re,X)=>{this._onProgress({loaded:re,total:X})}),this._pdfDataRangeTransport.addProgressiveReadListener(re=>{this._onReceiveData({chunk:re})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(j){const ee=new Uint8Array(j.chunk).buffer;if(void 0===j.begin)this._fullRequestReader?this._fullRequestReader._enqueue(ee):this._queuedChunks.push(ee);else{const ie=this._rangeReaders.some(function(re){return re._begin===j.begin&&(re._enqueue(ee),!0)});(0,p.assert)(ie,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(j){if(void 0===j.total){const ee=this._rangeReaders[0];ee?.onProgress&&ee.onProgress({loaded:j.loaded})}else{const ee=this._fullRequestReader;ee?.onProgress&&ee.onProgress({loaded:j.loaded,total:j.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(j){const ee=this._rangeReaders.indexOf(j);ee>=0&&this._rangeReaders.splice(ee,1)}getFullReader(){(0,p.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const j=this._queuedChunks;return this._queuedChunks=null,new pe(this,j,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(j,ee){if(ee<=this._progressiveDataLength)return null;const ie=new J(this,j,ee);return this._pdfDataRangeTransport.requestDataRange(j,ee),this._rangeReaders.push(ie),ie}cancelAllRequests(j){this._fullRequestReader&&this._fullRequestReader.cancel(j);for(const ee of this._rangeReaders.slice(0))ee.cancel(j);this._pdfDataRangeTransport.abort()}};class pe{constructor(j,ee,ie=!1,re=null){this._stream=j,this._done=ie||!1,this._filename=(0,Z.isPdfFile)(re)?re:null,this._queuedChunks=ee||[],this._loaded=0;for(const X of this._queuedChunks)this._loaded+=X.byteLength;this._requests=[],this._headersReady=Promise.resolve(),j._fullRequestReader=this,this.onProgress=null}_enqueue(j){this._done||(this._requests.length>0?this._requests.shift().resolve({value:j,done:!1}):this._queuedChunks.push(j),this._loaded+=j.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var j=this;return _asyncToGenerator(function*(){if(j._queuedChunks.length>0)return{value:j._queuedChunks.shift(),done:!1};if(j._done)return{value:void 0,done:!0};const ee=(0,p.createPromiseCapability)();return j._requests.push(ee),ee.promise})()}cancel(j){this._done=!0;for(const ee of this._requests)ee.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class J{constructor(j,ee,ie){this._stream=j,this._begin=ee,this._end=ie,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(j){if(!this._done){if(0===this._requests.length)this._queuedChunk=j;else{this._requests.shift().resolve({value:j,done:!1});for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var j=this;return _asyncToGenerator(function*(){if(j._queuedChunk){const ie=j._queuedChunk;return j._queuedChunk=null,{value:ie,done:!1}}if(j._done)return{value:void 0,done:!0};const ee=(0,p.createPromiseCapability)();return j._requests.push(ee),ee.promise})()}cancel(j){this._done=!0;for(const ee of this._requests)ee.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(oe,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaText=void 0;class z{static textContent(Z){const W=[],pe={items:W,styles:Object.create(null)};return function J(H){if(!H)return;let j=null;const ee=H.name;if("#text"===ee)j=H.value;else{if(!z.shouldBuildText(ee))return;H?.attributes?.textContent?j=H.attributes.textContent:H.value&&(j=H.value)}if(null!==j&&W.push({str:j}),H.children)for(const ie of H.children)J(ie)}(Z),pe}static shouldBuildText(Z){return!("textarea"===Z||"input"===Z||"option"===Z||"select"===Z)}}_.XfaText=z},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationLayer=void 0;var p=z(1),Z=z(5),W=z(9),pe=z(19),J=z(20);const H=1e3,j=new WeakSet;function ee(w){return{width:w[2]-w[0],height:w[3]-w[1]}}class ie{static create(d){switch(d.data.annotationType){case p.AnnotationType.LINK:return new X(d);case p.AnnotationType.TEXT:return new ne(d);case p.AnnotationType.WIDGET:switch(d.data.fieldType){case"Tx":return new k(d);case"Btn":return d.data.radioButton?new $(d):d.data.checkBox?new G(d):new O(d);case"Ch":return new N(d)}return new P(d);case p.AnnotationType.POPUP:return new g(d);case p.AnnotationType.FREETEXT:return new I(d);case p.AnnotationType.LINE:return new U(d);case p.AnnotationType.SQUARE:return new A(d);case p.AnnotationType.CIRCLE:return new B(d);case p.AnnotationType.POLYLINE:return new x(d);case p.AnnotationType.CARET:return new V(d);case p.AnnotationType.INK:return new K(d);case p.AnnotationType.POLYGON:return new C(d);case p.AnnotationType.HIGHLIGHT:return new Q(d);case p.AnnotationType.UNDERLINE:return new te(d);case p.AnnotationType.SQUIGGLY:return new ce(d);case p.AnnotationType.STRIKEOUT:return new ge(d);case p.AnnotationType.STAMP:return new R(d);case p.AnnotationType.FILEATTACHMENT:return new v(d);default:return new re(d)}}}class re{constructor(d,{isRenderable:y=!1,ignoreBorder:S=!1,createQuadrilaterals:L=!1}={}){this.isRenderable=y,this.data=d.data,this.layer=d.layer,this.page=d.page,this.viewport=d.viewport,this.linkService=d.linkService,this.downloadManager=d.downloadManager,this.imageResourcesPath=d.imageResourcesPath,this.renderForms=d.renderForms,this.svgFactory=d.svgFactory,this.annotationStorage=d.annotationStorage,this.enableScripting=d.enableScripting,this.hasJSActions=d.hasJSActions,this._fieldObjects=d.fieldObjects,this._mouseState=d.mouseState,y&&(this.container=this._createContainer(S)),L&&(this.quadrilaterals=this._createQuadrilaterals(S))}_createContainer(d=!1){const y=this.data,S=this.page,L=this.viewport,D=document.createElement("section");let{width:E,height:Y}=ee(y.rect);D.setAttribute("data-annotation-id",y.id);const de=p.Util.normalizeRect([y.rect[0],S.view[3]-y.rect[1]+S.view[1],y.rect[2],S.view[3]-y.rect[3]+S.view[1]]);if(y.hasOwnCanvas){const ue=L.transform.slice(),[fe,Ee]=p.Util.singularValueDecompose2dScale(ue);E=Math.ceil(E*fe),Y=Math.ceil(Y*Ee),de[0]*=fe,de[1]*=Ee;for(let Ne=0;Ne<4;Ne++)ue[Ne]=Math.sign(ue[Ne]);D.style.transform=`matrix(${ue.join(",")})`}else D.style.transform=`matrix(${L.transform.join(",")})`;if(D.style.transformOrigin=`${-de[0]}px ${-de[1]}px`,!d&&y.borderStyle.width>0){D.style.borderWidth=`${y.borderStyle.width}px`,y.borderStyle.style!==p.AnnotationBorderStyleType.UNDERLINE&&(E-=2*y.borderStyle.width,Y-=2*y.borderStyle.width);const ue=y.borderStyle.horizontalCornerRadius,fe=y.borderStyle.verticalCornerRadius;switch((ue>0||fe>0)&&(D.style.borderRadius=`${ue}px / ${fe}px`),y.borderStyle.style){case p.AnnotationBorderStyleType.SOLID:D.style.borderStyle="solid";break;case p.AnnotationBorderStyleType.DASHED:D.style.borderStyle="dashed";break;case p.AnnotationBorderStyleType.BEVELED:(0,p.warn)("Unimplemented border style: beveled");break;case p.AnnotationBorderStyleType.INSET:(0,p.warn)("Unimplemented border style: inset");break;case p.AnnotationBorderStyleType.UNDERLINE:D.style.borderBottomStyle="solid"}y.borderColor||y.color?D.style.borderColor=p.Util.makeHexColor(0|y.color[0],0|y.color[1],0|y.color[2]):D.style.borderWidth=0}return D.style.left=`${de[0]}px`,D.style.top=`${de[1]}px`,y.hasOwnCanvas?D.style.width=D.style.height="auto":(D.style.width=`${E}px`,D.style.height=`${Y}px`),D}_createQuadrilaterals(d=!1){if(!this.data.quadPoints)return null;const y=[],S=this.data.rect;for(const L of this.data.quadPoints)this.data.rect=[L[2].x,L[2].y,L[1].x,L[1].y],y.push(this._createContainer(d));return this.data.rect=S,y}_createPopup(d,y){let S=this.container;this.quadrilaterals&&(d=d||this.quadrilaterals,S=this.quadrilaterals[0]),d||((d=document.createElement("div")).style.height=S.style.height,d.style.width=S.style.width,S.appendChild(d));const D=new f({container:S,trigger:d,color:y.color,titleObj:y.titleObj,modificationDate:y.modificationDate,contentsObj:y.contentsObj,richText:y.richText,hideWrapper:!0}).render();D.style.left=S.style.width,S.appendChild(D)}_renderQuadrilaterals(d){for(const y of this.quadrilaterals)y.className=d;return this.quadrilaterals}render(){(0,p.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(d,y=null){const S=[];if(this._fieldObjects){const L=this._fieldObjects[d];if(L)for(const{page:D,id:E,exportValues:Y}of L){if(-1===D||E===y)continue;const de="string"==typeof Y?Y:null,ue=document.getElementById(E);!ue||j.has(ue)?S.push({id:E,exportValue:de,domElement:ue}):(0,p.warn)(`_getElementsByName - element not allowed: ${E}`)}return S}for(const L of document.getElementsByName(d)){const{id:D,exportValue:E}=L;D!==y&&j.has(L)&&S.push({id:D,exportValue:E,domElement:L})}return S}static get platform(){const d=typeof navigator<"u"?navigator.platform:"";return(0,p.shadow)(this,"platform",{isWin:d.includes("Win"),isMac:d.includes("Mac")})}}class X extends re{constructor(d,y=null){super(d,{isRenderable:!!(d.data.url||d.data.dest||d.data.action||d.data.isTooltipOnly||d.data.resetForm||d.data.actions&&(d.data.actions.Action||d.data.actions["Mouse Up"]||d.data.actions["Mouse Down"])),ignoreBorder:!!y?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:d,linkService:y}=this,S=document.createElement("a");if(d.url)y.addLinkAttributes||(0,p.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),y.addLinkAttributes?.(S,d.url,d.newWindow);else if(d.action)this._bindNamedAction(S,d.action);else if(d.dest)this._bindLink(S,d.dest);else{let L=!1;d.actions&&(d.actions.Action||d.actions["Mouse Up"]||d.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(L=!0,this._bindJSAction(S,d)),d.resetForm?this._bindResetFormAction(S,d.resetForm):L||this._bindLink(S,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((L,D)=>{const E=0===D?S:S.cloneNode();return L.appendChild(E),L}):(this.container.className="linkAnnotation",this.container.appendChild(S),this.container)}_bindLink(d,y){d.href=this.linkService.getDestinationHash(y),d.onclick=()=>(y&&this.linkService.goToDestination(y),!1),(y||""===y)&&(d.className="internalLink")}_bindNamedAction(d,y){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.linkService.executeNamedAction(y),!1),d.className="internalLink"}_bindJSAction(d,y){d.href=this.linkService.getAnchorUrl("");const S=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const L of Object.keys(y.actions)){const D=S.get(L);D&&(d[D]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y.id,name:L}}),!1))}d.onclick||(d.onclick=()=>!1),d.className="internalLink"}_bindResetFormAction(d,y){const S=d.onclick;if(S||(d.href=this.linkService.getAnchorUrl("")),d.className="internalLink",!this._fieldObjects)return(0,p.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(S||(d.onclick=()=>!1));d.onclick=()=>{S&&S();const{fields:L,refs:D,include:E}=y,Y=[];if(0!==L.length||0!==D.length){const fe=new Set(D);for(const Ee of L){const Ne=this._fieldObjects[Ee]||[];for(const{id:Be}of Ne)fe.add(Be)}for(const Ee of Object.values(this._fieldObjects))for(const Ne of Ee)fe.has(Ne.id)===E&&Y.push(Ne)}else for(const fe of Object.values(this._fieldObjects))Y.push(...fe);const de=this.annotationStorage,ue=[];for(const fe of Y){const{id:Ee}=fe;switch(ue.push(Ee),fe.type){case"text":{const Be=fe.defaultValue||"";de.setValue(Ee,{value:Be,valueAsString:Be});break}case"checkbox":case"radiobutton":de.setValue(Ee,{value:fe.defaultValue===fe.exportValues});break;case"combobox":case"listbox":de.setValue(Ee,{value:fe.defaultValue||""});break;default:continue}const Ne=document.getElementById(Ee);!Ne||!j.has(Ne)||Ne.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ue,name:"ResetForm"}}),!1}}}class ne extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str)})}render(){this.container.className="textAnnotation";const d=document.createElement("img");return d.style.height=this.container.style.height,d.style.width=this.container.style.width,d.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",d.alt="[{{type}} Annotation]",d.dataset.l10nId="text_annotation_type",d.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(d,this.data),this.container.appendChild(d),this.container}}class P extends re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(d){const{isWin:y,isMac:S}=re.platform;return y&&d.ctrlKey||S&&d.metaKey}_setEventListener(d,y,S,L){y.includes("mouse")?d.addEventListener(y,D=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:S,value:L(D),shift:D.shiftKey,modifier:this._getKeyModifier(D)}})}):d.addEventListener(y,D=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:S,value:L(D)}})})}_setEventListeners(d,y,S){for(const[L,D]of y)("Action"===D||this.data.actions?.[D])&&this._setEventListener(d,L,D,S)}_setBackgroundColor(d){const y=this.data.backgroundColor||null;d.style.backgroundColor=null===y?"transparent":p.Util.makeHexColor(y[0],y[1],y[2])}_dispatchEventFromSandbox(d,y){const S=(D,E,Y)=>{const de=Y.detail[D];Y.target.style[E]=pe.ColorConverters[`${de[0]}_HTML`](de.slice(1))},L={display:D=>{const E=D.detail.display%2==1;D.target.style.visibility=E?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:E,print:0===D.detail.display||3===D.detail.display})},print:D=>{this.annotationStorage.setValue(this.data.id,{print:D.detail.print})},hidden:D=>{D.target.style.visibility=D.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:D.detail.hidden})},focus:D=>{setTimeout(()=>D.target.focus({preventScroll:!1}),0)},userName:D=>{D.target.title=D.detail.userName},readonly:D=>{D.detail.readonly?D.target.setAttribute("readonly",""):D.target.removeAttribute("readonly")},required:D=>{D.detail.required?D.target.setAttribute("required",""):D.target.removeAttribute("required")},bgColor:D=>{S("bgColor","backgroundColor",D)},fillColor:D=>{S("fillColor","backgroundColor",D)},fgColor:D=>{S("fgColor","color",D)},textColor:D=>{S("textColor","color",D)},borderColor:D=>{S("borderColor","borderColor",D)},strokeColor:D=>{S("strokeColor","borderColor",D)}};for(const D of Object.keys(y.detail)){const E=d[D]||L[D];E&&E(y)}}}class k extends P{constructor(d){super(d,{isRenderable:d.renderForms||!d.data.hasAppearance&&!!d.data.fieldValue})}setPropertyOnSiblings(d,y,S,L){const D=this.annotationStorage;for(const E of this._getElementsByName(d.name,d.id))E.domElement&&(E.domElement[y]=S),D.setValue(E.id,{[L]:S})}render(){const d=this.annotationStorage,y=this.data.id;this.container.className="textWidgetAnnotation";let S=null;if(this.renderForms){const L=d.getValue(y,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),D=L.valueAsString||L.value||"",E={userValue:null,formattedValue:null};this.data.multiLine?(S=document.createElement("textarea"),S.textContent=D):(S=document.createElement("input"),S.type="text",S.setAttribute("value",D)),j.add(S),S.disabled=this.data.readOnly,S.name=this.data.fieldName,S.tabIndex=H,E.userValue=D,S.setAttribute("id",y),S.addEventListener("input",de=>{d.setValue(y,{value:de.target.value}),this.setPropertyOnSiblings(S,"value",de.target.value,"value")}),S.addEventListener("resetform",de=>{S.value=E.userValue=this.data.defaultFieldValue||"",delete E.formattedValue});let Y=de=>{E.formattedValue&&(de.target.value=E.formattedValue),de.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){S.addEventListener("focus",ue=>{E.userValue&&(ue.target.value=E.userValue)}),S.addEventListener("updatefromsandbox",ue=>{this._dispatchEventFromSandbox({value(Ee){E.userValue=Ee.detail.value||"",d.setValue(y,{value:E.userValue.toString()}),E.formattedValue||(Ee.target.value=E.userValue)},valueAsString(Ee){E.formattedValue=Ee.detail.valueAsString||"",Ee.target!==document.activeElement&&(Ee.target.value=E.formattedValue),d.setValue(y,{formattedValue:E.formattedValue})},selRange(Ee){const[Ne,Be]=Ee.detail.selRange;Ne>=0&&Be<Ee.target.value.length&&Ee.target.setSelectionRange(Ne,Be)}},ue)}),S.addEventListener("keydown",ue=>{let fe=-1;"Escape"===ue.key?fe=0:"Enter"===ue.key?fe=2:"Tab"===ue.key&&(fe=3),-1!==fe&&(E.userValue=ue.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:ue.target.value,willCommit:!0,commitKey:fe,selStart:ue.target.selectionStart,selEnd:ue.target.selectionEnd}}))});const de=Y;Y=null,S.addEventListener("blur",ue=>{E.userValue=ue.target.value,this._mouseState.isDown&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:ue.target.value,willCommit:!0,commitKey:1,selStart:ue.target.selectionStart,selEnd:ue.target.selectionEnd}}),de(ue)}),this.data.actions?.Keystroke&&S.addEventListener("beforeinput",ue=>{E.formattedValue="";const{data:fe,target:Ee}=ue,{value:Ne,selectionStart:Be,selectionEnd:$e}=Ee;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:Ne,change:fe,willCommit:!1,selStart:Be,selEnd:$e}})}),this._setEventListeners(S,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ue=>ue.target.value)}if(Y&&S.addEventListener("blur",Y),null!==this.data.maxLen&&(S.maxLength=this.data.maxLen),this.data.comb){const ue=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;S.classList.add("comb"),S.style.letterSpacing=`calc(${ue}px - 1ch)`}}else S=document.createElement("div"),S.textContent=this.data.fieldValue,S.style.verticalAlign="middle",S.style.display="table-cell";return this._setTextStyle(S),this._setBackgroundColor(S),this.container.appendChild(S),this.container}_setTextStyle(d){const{fontSize:S,fontColor:L}=this.data.defaultAppearanceData,D=d.style;S&&(D.fontSize=`${S}px`),D.color=p.Util.makeHexColor(L[0],L[1],L[2]),null!==this.data.textAlignment&&(D.textAlign=["left","center","right"][this.data.textAlignment])}}class G extends P{constructor(d){super(d,{isRenderable:d.renderForms})}render(){const d=this.annotationStorage,y=this.data,S=y.id;let L=d.getValue(S,{value:y.exportValue===y.fieldValue}).value;"string"==typeof L&&(L="Off"!==L,d.setValue(S,{value:L})),this.container.className="buttonWidgetAnnotation checkBox";const D=document.createElement("input");return j.add(D),D.disabled=y.readOnly,D.type="checkbox",D.name=y.fieldName,L&&D.setAttribute("checked",!0),D.setAttribute("id",S),D.setAttribute("exportValue",y.exportValue),D.tabIndex=H,D.addEventListener("change",E=>{const{name:Y,checked:de}=E.target;for(const ue of this._getElementsByName(Y,S)){const fe=de&&ue.exportValue===y.exportValue;ue.domElement&&(ue.domElement.checked=fe),d.setValue(ue.id,{value:fe})}d.setValue(S,{value:de})}),D.addEventListener("resetform",E=>{E.target.checked=(y.defaultFieldValue||"Off")===y.exportValue}),this.enableScripting&&this.hasJSActions&&(D.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(de){de.target.checked="Off"!==de.detail.value,d.setValue(S,{value:de.target.checked})}},E)}),this._setEventListeners(D,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(D),this.container.appendChild(D),this.container}}class $ extends P{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const d=this.annotationStorage,y=this.data,S=y.id;let L=d.getValue(S,{value:y.fieldValue===y.buttonValue}).value;"string"==typeof L&&(L=L!==y.buttonValue,d.setValue(S,{value:L}));const D=document.createElement("input");if(j.add(D),D.disabled=y.readOnly,D.type="radio",D.name=y.fieldName,L&&D.setAttribute("checked",!0),D.setAttribute("id",S),D.tabIndex=H,D.addEventListener("change",E=>{const{name:Y,checked:de}=E.target;for(const ue of this._getElementsByName(Y,S))d.setValue(ue.id,{value:!1});d.setValue(S,{value:de})}),D.addEventListener("resetform",E=>{const Y=y.defaultFieldValue;E.target.checked=null!=Y&&Y===y.buttonValue}),this.enableScripting&&this.hasJSActions){const E=y.buttonValue;D.addEventListener("updatefromsandbox",Y=>{this._dispatchEventFromSandbox({value:ue=>{const fe=E===ue.detail.value;for(const Ee of this._getElementsByName(ue.target.name)){const Ne=fe&&Ee.id===S;Ee.domElement&&(Ee.domElement.checked=Ne),d.setValue(Ee.id,{value:Ne})}}},Y)}),this._setEventListeners(D,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.checked)}return this._setBackgroundColor(D),this.container.appendChild(D),this.container}}class O extends X{constructor(d){super(d,{ignoreBorder:d.data.hasAppearance})}render(){const d=super.render();return d.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(d.title=this.data.alternativeText),d}}class N extends P{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const d=this.annotationStorage,y=this.data.id;d.getValue(y,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:S}=this.data.defaultAppearanceData;S||(S=9);const L=`calc(${S}px * var(--zoom-factor))`,D=document.createElement("select");j.add(D),D.disabled=this.data.readOnly,D.name=this.data.fieldName,D.setAttribute("id",y),D.tabIndex=H,D.style.fontSize=`${S}px`,this.data.combo||(D.size=this.data.options.length,this.data.multiSelect&&(D.multiple=!0)),D.addEventListener("resetform",de=>{const ue=this.data.defaultFieldValue;for(const fe of D.options)fe.selected=fe.value===ue});for(const de of this.data.options){const ue=document.createElement("option");ue.textContent=de.displayValue,ue.value=de.exportValue,this.data.combo&&(ue.style.fontSize=L),this.data.fieldValue.includes(de.exportValue)&&ue.setAttribute("selected",!0),D.appendChild(ue)}const E=(de,ue)=>{const fe=ue?"value":"textContent",Ee=de.target.options;return de.target.multiple?Array.prototype.filter.call(Ee,Ne=>Ne.selected).map(Ne=>Ne[fe]):-1===Ee.selectedIndex?null:Ee[Ee.selectedIndex][fe]},Y=de=>Array.prototype.map.call(de.target.options,fe=>({displayValue:fe.textContent,exportValue:fe.value}));return this.enableScripting&&this.hasJSActions?(D.addEventListener("updatefromsandbox",de=>{this._dispatchEventFromSandbox({value(fe){const Ee=fe.detail.value,Ne=new Set(Array.isArray(Ee)?Ee:[Ee]);for(const Be of D.options)Be.selected=Ne.has(Be.value);d.setValue(y,{value:E(fe,!0)})},multipleSelection(fe){D.multiple=!0},remove(fe){const Ee=D.options,Ne=fe.detail.remove;Ee[Ne].selected=!1,D.remove(Ne),Ee.length>0&&-1===Array.prototype.findIndex.call(Ee,$e=>$e.selected)&&(Ee[0].selected=!0),d.setValue(y,{value:E(fe,!0),items:Y(fe)})},clear(fe){for(;0!==D.length;)D.remove(0);d.setValue(y,{value:null,items:[]})},insert(fe){const{index:Ee,displayValue:Ne,exportValue:Be}=fe.detail.insert,$e=document.createElement("option");$e.textContent=Ne,$e.value=Be,D.insertBefore($e,D.children[Ee]),d.setValue(y,{value:E(fe,!0),items:Y(fe)})},items(fe){const{items:Ee}=fe.detail;for(;0!==D.length;)D.remove(0);for(const Ne of Ee){const{displayValue:Be,exportValue:$e}=Ne,Oe=document.createElement("option");Oe.textContent=Be,Oe.value=$e,D.appendChild(Oe)}D.options.length>0&&(D.options[0].selected=!0),d.setValue(y,{value:E(fe,!0),items:Y(fe)})},indices(fe){const Ee=new Set(fe.detail.indices);for(const Ne of fe.target.options)Ne.selected=Ee.has(Ne.index);d.setValue(y,{value:E(fe,!0)})},editable(fe){fe.target.disabled=!fe.detail.editable}},de)}),D.addEventListener("input",de=>{const ue=E(de,!0),fe=E(de,!1);d.setValue(y,{value:ue}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:fe,changeEx:ue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(D,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],de=>de.target.checked)):D.addEventListener("input",function(de){d.setValue(y,{value:E(de)})}),this._setBackgroundColor(D),this.container.appendChild(D),this.container}}class g extends re{constructor(d){super(d,{isRenderable:!!(d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const S=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===S.length)return this.container;const L=new f({container:this.container,trigger:Array.from(S),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),D=this.page,E=p.Util.normalizeRect([this.data.parentRect[0],D.view[3]-this.data.parentRect[1]+D.view[1],this.data.parentRect[2],D.view[3]-this.data.parentRect[3]+D.view[1]]),Y=E[0]+this.data.parentRect[2]-this.data.parentRect[0],de=E[1];return this.container.style.transformOrigin=`${-Y}px ${-de}px`,this.container.style.left=`${Y}px`,this.container.style.top=`${de}px`,this.container.appendChild(L.render()),this.container}}class f{constructor(d){this.container=d.container,this.trigger=d.trigger,this.color=d.color,this.titleObj=d.titleObj,this.modificationDate=d.modificationDate,this.contentsObj=d.contentsObj,this.richText=d.richText,this.hideWrapper=d.hideWrapper||!1,this.pinned=!1}render(){const y=document.createElement("div");y.className="popupWrapper",this.hideElement=this.hideWrapper?y:this.container,this.hideElement.hidden=!0;const S=document.createElement("div");S.className="popup";const L=this.color;L&&(S.style.backgroundColor=p.Util.makeHexColor(0|.7*(255-L[0])+L[0],0|.7*(255-L[1])+L[1],0|.7*(255-L[2])+L[2]));const D=document.createElement("h1");D.dir=this.titleObj.dir,D.textContent=this.titleObj.str,S.appendChild(D);const E=Z.PDFDateString.toDateObject(this.modificationDate);if(E){const Y=document.createElement("span");Y.className="popupDate",Y.textContent="{{date}}, {{time}}",Y.dataset.l10nId="annotation_date_string",Y.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),S.appendChild(Y)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const Y=this._formatContents(this.contentsObj);S.appendChild(Y)}else J.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:S}),S.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Y of this.trigger)Y.addEventListener("click",this._toggle.bind(this)),Y.addEventListener("mouseover",this._show.bind(this,!1)),Y.addEventListener("mouseout",this._hide.bind(this,!1));return S.addEventListener("click",this._hide.bind(this,!0)),y.appendChild(S),y}_formatContents({str:d,dir:y}){const S=document.createElement("p");S.className="popupContent",S.dir=y;const L=d.split(/(?:\r\n?|\n)/);for(let D=0,E=L.length;D<E;++D)S.appendChild(document.createTextNode(L[D])),D<E-1&&S.appendChild(document.createElement("br"));return S}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(d=!1){d&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(d=!0){d&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class I extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class U extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const d=this.data,{width:y,height:S}=ee(d.rect),L=this.svgFactory.create(y,S),D=this.svgFactory.createElement("svg:line");return D.setAttribute("x1",d.rect[2]-d.lineCoordinates[0]),D.setAttribute("y1",d.rect[3]-d.lineCoordinates[1]),D.setAttribute("x2",d.rect[2]-d.lineCoordinates[2]),D.setAttribute("y2",d.rect[3]-d.lineCoordinates[3]),D.setAttribute("stroke-width",d.borderStyle.width||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),L.appendChild(D),this.container.append(L),this._createPopup(D,d),this.container}}class A extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const d=this.data,{width:y,height:S}=ee(d.rect),L=this.svgFactory.create(y,S),D=d.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",D/2),E.setAttribute("y",D/2),E.setAttribute("width",y-D),E.setAttribute("height",S-D),E.setAttribute("stroke-width",D||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),L.appendChild(E),this.container.append(L),this._createPopup(E,d),this.container}}class B extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const d=this.data,{width:y,height:S}=ee(d.rect),L=this.svgFactory.create(y,S),D=d.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",y/2),E.setAttribute("cy",S/2),E.setAttribute("rx",y/2-D/2),E.setAttribute("ry",S/2-D/2),E.setAttribute("stroke-width",D||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),L.appendChild(E),this.container.append(L),this._createPopup(E,d),this.container}}class x extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const d=this.data,{width:y,height:S}=ee(d.rect),L=this.svgFactory.create(y,S);let D=[];for(const Y of d.vertices)D.push(Y.x-d.rect[0]+","+(d.rect[3]-Y.y));D=D.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",D),E.setAttribute("stroke-width",d.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),L.appendChild(E),this.container.append(L),this._createPopup(E,d),this.container}}class C extends x{constructor(d){super(d),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class V extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class K extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const d=this.data,{width:y,height:S}=ee(d.rect),L=this.svgFactory.create(y,S);for(const D of d.inkLists){let E=[];for(const de of D)E.push(`${de.x-d.rect[0]},${d.rect[3]-de.y}`);E=E.join(" ");const Y=this.svgFactory.createElement(this.svgElementName);Y.setAttribute("points",E),Y.setAttribute("stroke-width",d.borderStyle.width||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),this._createPopup(Y,d),L.appendChild(Y)}return this.container.append(L),this.container}}class Q extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class te extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ce extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ge extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class R extends re{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class v extends re{constructor(d){super(d,{isRenderable:!0});const{filename:y,content:S}=this.data.file;this.filename=(0,Z.getFilenameFromUrl)(y),this.content=S,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,p.stringToPDFString)(y),filename:y,content:S})}render(){this.container.className="fileAttachmentAnnotation";const d=document.createElement("div");return d.style.height=this.container.style.height,d.style.width=this.container.style.width,d.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(d,this.data),this.container.appendChild(d),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class m{static render(d){const y=[],S=[];for(const D of d.annotations){if(!D)continue;const{width:E,height:Y}=ee(D.rect);if(!(E<=0||Y<=0)){if(D.annotationType===p.AnnotationType.POPUP){S.push(D);continue}y.push(D)}}S.length&&y.push(...S);const L=d.div;for(const D of y){const E=ie.create({data:D,layer:L,page:d.page,viewport:d.viewport,linkService:d.linkService,downloadManager:d.downloadManager,imageResourcesPath:d.imageResourcesPath||"",renderForms:!1!==d.renderForms,svgFactory:new Z.DOMSVGFactory,annotationStorage:d.annotationStorage||new W.AnnotationStorage,enableScripting:d.enableScripting,hasJSActions:d.hasJSActions,fieldObjects:d.fieldObjects,mouseState:d.mouseState||{isDown:!1}});if(E.isRenderable){const Y=E.render();if(D.hidden&&(Y.style.visibility="hidden"),Array.isArray(Y))for(const de of Y)L.appendChild(de);else E instanceof g?L.prepend(Y):L.appendChild(Y)}}_classStaticPrivateMethodGet(this,m,T).call(this,L,d.annotationCanvasMap)}static update(d){const{page:y,viewport:S,annotations:L,annotationCanvasMap:D,div:E}=d,Y=S.transform,de=`matrix(${Y.join(",")})`;let ue,fe;for(const Ee of L){const Ne=E.querySelectorAll(`[data-annotation-id="${Ee.id}"]`);if(Ne)for(const Be of Ne)if(Ee.hasOwnCanvas){const $e=p.Util.normalizeRect([Ee.rect[0],y.view[3]-Ee.rect[1]+y.view[1],Ee.rect[2],y.view[3]-Ee.rect[3]+y.view[1]]);if(!fe){ue=Math.abs(Y[0]||Y[1]);const xt=Y.slice();for(let We=0;We<4;We++)xt[We]=Math.sign(xt[We]);fe=`matrix(${xt.join(",")})`}const Oe=$e[0]*ue,Tt=$e[1]*ue;Be.style.left=`${Oe}px`,Be.style.top=`${Tt}px`,Be.style.transformOrigin=`${-Oe}px ${-Tt}px`,Be.style.transform=fe}else Be.style.transform=de}_classStaticPrivateMethodGet(this,m,T).call(this,E,D),E.hidden=!1}}function T(w,d){if(d){for(const[y,S]of d){const L=w.querySelector(`[data-annotation-id="${y}"]`);if(!L)continue;const{firstChild:D}=L;"CANVAS"===D.nodeName?L.replaceChild(S,D):L.insertBefore(S,D)}d.clear()}}_.AnnotationLayer=m},(oe,_)=>{function z(Z){return Math.floor(255*Math.max(0,Math.min(1,Z))).toString(16).padStart(2,"0")}Object.defineProperty(_,"__esModule",{value:!0}),_.ColorConverters=void 0,_.ColorConverters=class p{static CMYK_G([W,pe,J,H]){return["G",1-Math.min(1,.3*W+.59*J+.11*pe+H)]}static G_CMYK([W]){return["CMYK",0,0,0,1-W]}static G_RGB([W]){return["RGB",W,W,W]}static G_HTML([W]){const pe=z(W);return`#${pe}${pe}${pe}`}static RGB_G([W,pe,J]){return["G",.3*W+.59*pe+.11*J]}static RGB_HTML([W,pe,J]){return`#${z(W)}${z(pe)}${z(J)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([W,pe,J,H]){return["RGB",1-Math.min(1,W+H),1-Math.min(1,J+H),1-Math.min(1,pe+H)]}static CMYK_HTML(W){return this.RGB_HTML(this.CMYK_RGB(W))}static RGB_CMYK([W,pe,J]){const H=1-W,j=1-pe,ee=1-J;return["CMYK",H,j,ee,Math.min(H,j,ee)]}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaLayer=void 0;var p=z(1),Z=z(17);_.XfaLayer=class W{static setupStorage(J,H,j,ee,ie){const re=ee.getValue(H,{value:null});switch(j.name){case"textarea":if(null!==re.value&&(J.textContent=re.value),"print"===ie)break;J.addEventListener("input",X=>{ee.setValue(H,{value:X.target.value})});break;case"input":if("radio"===j.attributes.type||"checkbox"===j.attributes.type){if(re.value===j.attributes.xfaOn?J.setAttribute("checked",!0):re.value===j.attributes.xfaOff&&J.removeAttribute("checked"),"print"===ie)break;J.addEventListener("change",X=>{ee.setValue(H,{value:X.target.getAttribute(X.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==re.value&&J.setAttribute("value",re.value),"print"===ie)break;J.addEventListener("input",X=>{ee.setValue(H,{value:X.target.value})})}break;case"select":if(null!==re.value)for(const X of j.children)X.attributes.value===re.value&&(X.attributes.selected=!0);J.addEventListener("input",X=>{const ne=X.target.options;ee.setValue(H,{value:-1===ne.selectedIndex?"":ne[ne.selectedIndex].value})})}}static setAttributes({html:J,element:H,storage:j=null,intent:ee,linkService:ie}){const{attributes:re}=H,X=J instanceof HTMLAnchorElement;"radio"===re.type&&(re.name=`${re.name}-${ee}`);for(const[ne,P]of Object.entries(re))if(null!=P&&"dataId"!==ne)if("style"!==ne)if("textContent"===ne)J.textContent=P;else if("class"===ne)P.length&&J.setAttribute(ne,P.join(" "));else{if(X&&("href"===ne||"newWindow"===ne))continue;J.setAttribute(ne,P)}else Object.assign(J.style,P);X&&(ie.addLinkAttributes||(0,p.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),ie.addLinkAttributes?.(J,re.href,re.newWindow)),j&&re.dataId&&this.setupStorage(J,re.dataId,H,j)}static render(J){const H=J.annotationStorage,j=J.linkService,ee=J.xfaHtml,ie=J.intent||"display",re=document.createElement(ee.name);ee.attributes&&this.setAttributes({html:re,element:ee,intent:ie,linkService:j});const X=[[ee,-1,re]],ne=J.div;if(ne.appendChild(re),J.viewport){const k=`matrix(${J.viewport.transform.join(",")})`;ne.style.transform=k}"richText"!==ie&&ne.setAttribute("class","xfaLayer xfaFont");const P=[];for(;X.length>0;){const[k,G,$]=X[X.length-1];if(G+1===k.children.length){X.pop();continue}const O=k.children[++X[X.length-1][1]];if(null===O)continue;const{name:N}=O;if("#text"===N){const f=document.createTextNode(O.value);P.push(f),$.appendChild(f);continue}let g;if(g=O?.attributes?.xmlns?document.createElementNS(O.attributes.xmlns,N):document.createElement(N),$.appendChild(g),O.attributes&&this.setAttributes({html:g,element:O,storage:H,intent:ie,linkService:j}),O.children&&O.children.length>0)X.push([O,-1,g]);else if(O.value){const f=document.createTextNode(O.value);Z.XfaText.shouldBuildText(N)&&P.push(f),g.appendChild(f)}}for(const k of ne.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))k.setAttribute("readOnly",!0);return{textDivs:P}}static update(J){const H=`matrix(${J.viewport.transform.join(",")})`;J.div.style.transform=H,J.div.hidden=!1}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.renderTextLayer=function G($){const O=new k({textContent:$.textContent,textContentStream:$.textContentStream,container:$.container,viewport:$.viewport,textDivs:$.textDivs,textContentItemsStr:$.textContentItemsStr,enhanceTextSelection:$.enhanceTextSelection});return O._render($.timeout),O};var p=z(1);const Z=1e5,W=30,pe=.8,J=new Map,H=/^\s+$/g;function ee($,O,N,g){const f=document.createElement("span"),I=$._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==O.str,hasEOL:O.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==O.str,hasEOL:O.hasEOL};$._textDivs.push(f);const U=p.Util.transform($._viewport.transform,O.transform);let A=Math.atan2(U[1],U[0]);const B=N[O.fontName];B.vertical&&(A+=Math.PI/2);const x=Math.hypot(U[2],U[3]),C=x*function j($,O){const N=J.get($);if(N)return N;O.save(),O.font=`${W}px ${$}`;const g=O.measureText("");let f=g.fontBoundingBoxAscent,I=Math.abs(g.fontBoundingBoxDescent);if(f){O.restore();const A=f/(f+I);return J.set($,A),A}O.strokeStyle="red",O.clearRect(0,0,W,W),O.strokeText("g",0,0);let U=O.getImageData(0,0,W,W).data;I=0;for(let A=U.length-1-3;A>=0;A-=4)if(U[A]>0){I=Math.ceil(A/4/W);break}O.clearRect(0,0,W,W),O.strokeText("A",0,W),U=O.getImageData(0,0,W,W).data,f=0;for(let A=0,B=U.length;A<B;A+=4)if(U[A]>0){f=W-Math.floor(A/4/W);break}if(O.restore(),f){const A=f/(f+I);return J.set($,A),A}return J.set($,pe),pe}(B.fontFamily,g);let V,K;0===A?(V=U[4],K=U[5]-C):(V=U[4]+C*Math.sin(A),K=U[5]-C*Math.cos(A)),f.style.left=`${V}px`,f.style.top=`${K}px`,f.style.fontSize=`${x}px`,f.style.fontFamily=B.fontFamily,f.setAttribute("role","presentation"),f.textContent=O.str,f.dir=O.dir,$._fontInspectorEnabled&&(f.dataset.fontName=O.fontName),0!==A&&(I.angle=A*(180/Math.PI));let Q=!1;if(O.str.length>1||$._enhanceTextSelection&&H.test(O.str))Q=!0;else if(" "!==O.str&&O.transform[0]!==O.transform[3]){const te=Math.abs(O.transform[0]),ce=Math.abs(O.transform[3]);te!==ce&&Math.max(te,ce)/Math.min(te,ce)>1.5&&(Q=!0)}if(Q&&(I.canvasWidth=B.vertical?O.height*$._viewport.scale:O.width*$._viewport.scale),$._textDivProperties.set(f,I),$._textContentStream&&$._layoutText(f),$._enhanceTextSelection&&I.hasText){let te=1,ce=0;0!==A&&(te=Math.cos(A),ce=Math.sin(A));const ge=(B.vertical?O.height:O.width)*$._viewport.scale,R=x;let v,m;0!==A?(v=[te,ce,-ce,te,V,K],m=p.Util.getAxialAlignedBoundingBox([0,0,ge,R],v)):m=[V,K,V+ge,K+R],$._bounds.push({left:m[0],top:m[1],right:m[2],bottom:m[3],div:f,size:[ge,R],m:v})}}function ie($){if($._canceled)return;const O=$._textDivs,N=$._capability,g=O.length;if(g>Z)return $._renderingDone=!0,void N.resolve();if(!$._textContentStream)for(let f=0;f<g;f++)$._layoutText(O[f]);$._renderingDone=!0,N.resolve()}function re($,O,N){let g=0;for(let f=0;f<N;f++){const I=$[O++];I>0&&(g=g?Math.min(I,g):I)}return g}function P($,O){O.sort(function(f,I){return f.x1-I.x1||f.index-I.index});const g=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const f of O){let I=0;for(;I<g.length&&g[I].end<=f.y1;)I++;let U=g.length-1;for(;U>=0&&g[U].start>=f.y2;)U--;let A,B,x,C,V=-1/0;for(x=I;x<=U;x++){let te;A=g[x],B=A.boundary,te=B.x2>f.x1?B.index>f.index?B.x1New:f.x1:void 0===B.x2New?(B.x2+f.x1)/2:B.x2New,te>V&&(V=te)}for(f.x1New=V,x=I;x<=U;x++)A=g[x],B=A.boundary,void 0===B.x2New?B.x2>f.x1?B.index>f.index&&(B.x2New=B.x2):B.x2New=V:B.x2New>V&&(B.x2New=Math.max(V,B.x2));const K=[];let Q=null;for(x=I;x<=U;x++){A=g[x],B=A.boundary;const te=B.x2>f.x2?B:f;Q===te?K[K.length-1].end=A.end:(K.push({start:A.start,end:A.end,boundary:te}),Q=te)}for(g[I].start<f.y1&&(K[0].start=f.y1,K.unshift({start:g[I].start,end:f.y1,boundary:g[I].boundary})),f.y2<g[U].end&&(K[K.length-1].end=f.y2,K.push({start:f.y2,end:g[U].end,boundary:g[U].boundary})),x=I;x<=U;x++){if(A=g[x],B=A.boundary,void 0!==B.x2New)continue;let te=!1;for(C=I-1;!te&&C>=0&&g[C].start>=B.y1;C--)te=g[C].boundary===B;for(C=U+1;!te&&C<g.length&&g[C].end<=B.y2;C++)te=g[C].boundary===B;for(C=0;!te&&C<K.length;C++)te=K[C].boundary===B;te||(B.x2New=V)}Array.prototype.splice.apply(g,[I,U-I+1].concat(K))}for(const f of g){const I=f.boundary;void 0===I.x2New&&(I.x2New=Math.max($,I.x2))}}class k{constructor({textContent:O,textContentStream:N,container:g,viewport:f,textDivs:I,textContentItemsStr:U,enhanceTextSelection:A}){this._textContent=O,this._textContentStream=N,this._container=g,this._document=g.ownerDocument,this._viewport=f,this._textDivs=I||[],this._textContentItemsStr=U||[],this._enhanceTextSelection=!!A,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,p.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new p.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(O,N){for(let g=0,f=O.length;g<f;g++)if(void 0!==O[g].str)this._textContentItemsStr.push(O[g].str),ee(this,O[g],N,this._layoutTextCtx);else if("beginMarkedContentProps"===O[g].type||"beginMarkedContent"===O[g].type){const I=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==O[g].id&&this._container.setAttribute("id",`${O[g].id}`),I.appendChild(this._container)}else"endMarkedContent"===O[g].type&&(this._container=this._container.parentNode)}_layoutText(O){const N=this._textDivProperties.get(O);let g="";if(0!==N.canvasWidth&&N.hasText){const{fontSize:f,fontFamily:I}=O.style;(f!==this._layoutTextLastFontSize||I!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${f} ${I}`,this._layoutTextLastFontSize=f,this._layoutTextLastFontFamily=I);const{width:U}=this._layoutTextCtx.measureText(O.textContent);if(U>0){const A=N.canvasWidth/U;this._enhanceTextSelection&&(N.scale=A),g=`scaleX(${A})`}}if(0!==N.angle&&(g=`rotate(${N.angle}deg) ${g}`),g.length>0&&(this._enhanceTextSelection&&(N.originalTransform=g),O.style.transform=g),N.hasText&&this._container.appendChild(O),N.hasEOL){const f=document.createElement("br");f.setAttribute("role","presentation"),this._container.appendChild(f)}}_render(O=0){const N=(0,p.createPromiseCapability)();let g=Object.create(null);const f=this._document.createElement("canvas");if(f.height=f.width=W,f.mozOpaque=!0,this._layoutTextCtx=f.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),N.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const I=()=>{this._reader.read().then(({value:U,done:A})=>{A?N.resolve():(Object.assign(g,U.styles),this._processItems(U.items,g),I())},N.reject)};this._reader=this._textContentStream.getReader(),I()}}N.promise.then(()=>{g=null,O?this._renderTimer=setTimeout(()=>{ie(this),this._renderTimer=null},O):ie(this)},this._capability.reject)}expandTextDivs(O=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function X($){const O=$._bounds,N=$._viewport,g=function ne($,O,N){const g=N.map(function(I,U){return{x1:I.left,y1:I.top,x2:I.right,y2:I.bottom,index:U,x1New:void 0,x2New:void 0}});P($,g);const f=new Array(N.length);for(const I of g)f[I.index]={left:I.x1New,top:0,right:I.x2New,bottom:0};N.map(function(I,U){const A=f[U],B=g[U];B.x1=I.top,B.y1=$-A.right,B.x2=I.bottom,B.y2=$-A.left,B.index=U,B.x1New=void 0,B.x2New=void 0}),P(O,g);for(const I of g){const U=I.index;f[U].top=I.x1New,f[U].bottom=I.x2New}return f}(N.width,N.height,O);for(let f=0;f<g.length;f++){const I=O[f].div,U=$._textDivProperties.get(I);if(0===U.angle){U.paddingLeft=O[f].left-g[f].left,U.paddingTop=O[f].top-g[f].top,U.paddingRight=g[f].right-O[f].right,U.paddingBottom=g[f].bottom-O[f].bottom,$._textDivProperties.set(I,U);continue}const A=g[f],B=O[f],x=B.m,C=x[0],V=x[1],K=[[0,0],[0,B.size[1]],[B.size[0],0],B.size],Q=new Float64Array(64);for(let ce=0,ge=K.length;ce<ge;ce++){const R=p.Util.applyTransform(K[ce],x);Q[ce+0]=C&&(A.left-R[0])/C,Q[ce+4]=V&&(A.top-R[1])/V,Q[ce+8]=C&&(A.right-R[0])/C,Q[ce+12]=V&&(A.bottom-R[1])/V,Q[ce+16]=V&&(A.left-R[0])/-V,Q[ce+20]=C&&(A.top-R[1])/C,Q[ce+24]=V&&(A.right-R[0])/-V,Q[ce+28]=C&&(A.bottom-R[1])/C,Q[ce+32]=C&&(A.left-R[0])/-C,Q[ce+36]=V&&(A.top-R[1])/-V,Q[ce+40]=C&&(A.right-R[0])/-C,Q[ce+44]=V&&(A.bottom-R[1])/-V,Q[ce+48]=V&&(A.left-R[0])/V,Q[ce+52]=C&&(A.top-R[1])/-C,Q[ce+56]=V&&(A.right-R[0])/V,Q[ce+60]=C&&(A.bottom-R[1])/-C}const te=1+Math.min(Math.abs(C),Math.abs(V));U.paddingLeft=re(Q,32,16)/te,U.paddingTop=re(Q,48,16)/te,U.paddingRight=re(Q,0,16)/te,U.paddingBottom=re(Q,16,16)/te,$._textDivProperties.set(I,U)}}(this),this._bounds=null);const N=[],g=[];for(let f=0,I=this._textDivs.length;f<I;f++){const U=this._textDivs[f],A=this._textDivProperties.get(U);A.hasText&&(O?(N.length=0,g.length=0,A.originalTransform&&N.push(A.originalTransform),A.paddingTop>0?(g.push(`${A.paddingTop}px`),N.push(`translateY(${-A.paddingTop}px)`)):g.push(0),g.push(A.paddingRight>0?A.paddingRight/A.scale+"px":0),g.push(A.paddingBottom>0?`${A.paddingBottom}px`:0),A.paddingLeft>0?(g.push(A.paddingLeft/A.scale+"px"),N.push(`translateX(${-A.paddingLeft/A.scale}px)`)):g.push(0),U.style.padding=g.join(" "),N.length&&(U.style.transform=N.join(" "))):(U.style.padding=null,U.style.transform=A.originalTransform))}}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SVGGraphics=void 0;var p=z(1),Z=z(5),W=z(3);let pe=class{constructor(){(0,p.unreachable)("Not implemented: SVGGraphics")}};_.SVGGraphics=pe;{let P=function(g){let f=[];const I=[];for(const U of g)"save"!==U.fn?"restore"===U.fn?f=I.pop():f.push(U):(f.push({fnId:92,fn:"group",items:[]}),I.push(f),f=f[f.length-1].items);return f},k=function(g){if(Number.isInteger(g))return g.toString();const f=g.toFixed(10);let I=f.length-1;if("0"!==f[I])return f;do{I--}while("0"===f[I]);return f.substring(0,"."===f[I]?I:I+1)},G=function(g){if(0===g[4]&&0===g[5]){if(0===g[1]&&0===g[2])return 1===g[0]&&1===g[3]?"":`scale(${k(g[0])} ${k(g[3])})`;if(g[0]===g[3]&&g[1]===-g[2]){const f=180*Math.acos(g[0])/Math.PI;return`rotate(${k(f)})`}}else if(1===g[0]&&0===g[1]&&0===g[2]&&1===g[3])return`translate(${k(g[4])} ${k(g[5])})`;return`matrix(${k(g[0])} ${k(g[1])} ${k(g[2])} ${k(g[3])} ${k(g[4])} ${k(g[5])})`};const J={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},H="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/1999/xlink",ee=["butt","round","square"],ie=["miter","round","bevel"],re=function(g,f="",I=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!I)return URL.createObjectURL(new Blob([g],{type:f}));const U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let A=`data:${f};base64,`;for(let B=0,x=g.length;B<x;B+=3){const C=255&g[B],V=255&g[B+1],K=255&g[B+2];A+=U[C>>2]+U[(3&C)<<4|V>>4]+U[B+1<x?(15&V)<<2|K>>6:64]+U[B+2<x?63&K:64]}return A},X=function(){const g=new Uint8Array([137,80,78,71,13,10,26,10]),f=12,I=new Int32Array(256);for(let K=0;K<256;K++){let Q=K;for(let te=0;te<8;te++)Q=1&Q?3988292384^Q>>1&2147483647:Q>>1&2147483647;I[K]=Q}function A(K,Q,te,ce){let ge=ce;const R=Q.length;te[ge]=R>>24&255,te[ge+1]=R>>16&255,te[ge+2]=R>>8&255,te[ge+3]=255&R,ge+=4,te[ge]=255&K.charCodeAt(0),te[ge+1]=255&K.charCodeAt(1),te[ge+2]=255&K.charCodeAt(2),te[ge+3]=255&K.charCodeAt(3),ge+=4,te.set(Q,ge),ge+=Q.length;const v=function U(K,Q,te){let ce=-1;for(let ge=Q;ge<te;ge++)ce=ce>>>8^I[255&(ce^K[ge])];return-1^ce}(te,ce+4,ge);te[ge]=v>>24&255,te[ge+1]=v>>16&255,te[ge+2]=v>>8&255,te[ge+3]=255&v}function C(K){let Q=K.length;const te=65535,ce=Math.ceil(Q/te),ge=new Uint8Array(2+Q+5*ce+4);let R=0;ge[R++]=120,ge[R++]=156;let v=0;for(;Q>te;)ge[R++]=0,ge[R++]=255,ge[R++]=255,ge[R++]=0,ge[R++]=0,ge.set(K.subarray(v,v+te),R),R+=te,v+=te,Q-=te;ge[R++]=1,ge[R++]=255&Q,ge[R++]=Q>>8&255,ge[R++]=255&~Q,ge[R++]=(65535&~Q)>>8&255,ge.set(K.subarray(v),R),R+=K.length-v;const m=function B(K,Q,te){let ce=1,ge=0;for(let R=Q;R<te;++R)ce=(ce+(255&K[R]))%65521,ge=(ge+ce)%65521;return ge<<16|ce}(K,0,K.length);return ge[R++]=m>>24&255,ge[R++]=m>>16&255,ge[R++]=m>>8&255,ge[R++]=255&m,ge}return function(Q,te,ce){return function V(K,Q,te,ce){const ge=K.width,R=K.height;let v,m,T;const w=K.data;switch(Q){case p.ImageKind.GRAYSCALE_1BPP:m=0,v=1,T=ge+7>>3;break;case p.ImageKind.RGB_24BPP:m=2,v=8,T=3*ge;break;case p.ImageKind.RGBA_32BPP:m=6,v=8,T=4*ge;break;default:throw new Error("invalid format")}const d=new Uint8Array((1+T)*R);let y=0,S=0;for(let ue=0;ue<R;++ue)d[y++]=0,d.set(w.subarray(S,S+T),y),S+=T,y+=T;if(Q===p.ImageKind.GRAYSCALE_1BPP&&ce){y=0;for(let ue=0;ue<R;ue++){y++;for(let fe=0;fe<T;fe++)d[y++]^=255}}const L=new Uint8Array([ge>>24&255,ge>>16&255,ge>>8&255,255&ge,R>>24&255,R>>16&255,R>>8&255,255&R,v,m,0,0,0]),D=function x(K){if(!W.isNodeJS)return C(K);try{let Q;Q=parseInt(process.versions.node)>=8?K:Buffer.from(K);const te=__webpack_require__(258).deflateSync(Q,{level:9});return te instanceof Uint8Array?te:new Uint8Array(te)}catch(Q){(0,p.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Q)}return C(K)}(d),Y=new Uint8Array(g.length+3*f+L.length+D.length);let de=0;return Y.set(g,de),de+=g.length,A("IHDR",L,Y,de),de+=f+L.length,A("IDATA",D,Y,de),de+=f+D.length,A("IEND",new Uint8Array(0),Y,de),re(Y,"image/png",te)}(Q,void 0===Q.kind?p.ImageKind.GRAYSCALE_1BPP:Q.kind,te,ce)}}();class ne{constructor(){this.fontSizeScale=1,this.fontWeight=J.fontWeight,this.fontSize=0,this.textMatrix=p.IDENTITY_MATRIX,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=p.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=J.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(f,I){this.x=f,this.y=I}}let $=0,O=0,N=0;_.SVGGraphics=pe=class{constructor(g,f,I=!1){this.svgFactory=new Z.DOMSVGFactory,this.current=new ne,this.transformMatrix=p.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=g,this.objs=f,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!I,this._operatorIdMapping=[];for(const U in p.OPS)this._operatorIdMapping[p.OPS[U]]=U}save(){this.transformStack.push(this.transformMatrix);const g=this.current;this.extraStack.push(g),this.current=g.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(g){this.save(),this.executeOpTree(g),this.restore()}loadDependencies(g){const f=g.fnArray,I=g.argsArray;for(let U=0,A=f.length;U<A;U++)if(f[U]===p.OPS.dependency)for(const B of I[U]){const x=B.startsWith("g_")?this.commonObjs:this.objs,C=new Promise(V=>{x.get(B,V)});this.current.dependencies.push(C)}return Promise.all(this.current.dependencies)}transform(g,f,I,U,A,B){this.transformMatrix=p.Util.transform(this.transformMatrix,[g,f,I,U,A,B]),this.tgrp=null}getSVG(g,f){this.viewport=f;const I=this._initialize(f);return this.loadDependencies(g).then(()=>(this.transformMatrix=p.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(g)),I))}convertOpList(g){const f=this._operatorIdMapping,I=g.argsArray,U=g.fnArray,A=[];for(let B=0,x=U.length;B<x;B++){const C=U[B];A.push({fnId:C,fn:f[C],args:I[B]})}return P(A)}executeOpTree(g){for(const f of g){const I=f.fn,A=f.args;switch(0|f.fnId){case p.OPS.beginText:this.beginText();break;case p.OPS.dependency:break;case p.OPS.setLeading:this.setLeading(A);break;case p.OPS.setLeadingMoveText:this.setLeadingMoveText(A[0],A[1]);break;case p.OPS.setFont:this.setFont(A);break;case p.OPS.showText:case p.OPS.showSpacedText:this.showText(A[0]);break;case p.OPS.endText:this.endText();break;case p.OPS.moveText:this.moveText(A[0],A[1]);break;case p.OPS.setCharSpacing:this.setCharSpacing(A[0]);break;case p.OPS.setWordSpacing:this.setWordSpacing(A[0]);break;case p.OPS.setHScale:this.setHScale(A[0]);break;case p.OPS.setTextMatrix:this.setTextMatrix(A[0],A[1],A[2],A[3],A[4],A[5]);break;case p.OPS.setTextRise:this.setTextRise(A[0]);break;case p.OPS.setTextRenderingMode:this.setTextRenderingMode(A[0]);break;case p.OPS.setLineWidth:this.setLineWidth(A[0]);break;case p.OPS.setLineJoin:this.setLineJoin(A[0]);break;case p.OPS.setLineCap:this.setLineCap(A[0]);break;case p.OPS.setMiterLimit:this.setMiterLimit(A[0]);break;case p.OPS.setFillRGBColor:this.setFillRGBColor(A[0],A[1],A[2]);break;case p.OPS.setStrokeRGBColor:this.setStrokeRGBColor(A[0],A[1],A[2]);break;case p.OPS.setStrokeColorN:this.setStrokeColorN(A);break;case p.OPS.setFillColorN:this.setFillColorN(A);break;case p.OPS.shadingFill:this.shadingFill(A[0]);break;case p.OPS.setDash:this.setDash(A[0],A[1]);break;case p.OPS.setRenderingIntent:this.setRenderingIntent(A[0]);break;case p.OPS.setFlatness:this.setFlatness(A[0]);break;case p.OPS.setGState:this.setGState(A[0]);break;case p.OPS.fill:this.fill();break;case p.OPS.eoFill:this.eoFill();break;case p.OPS.stroke:this.stroke();break;case p.OPS.fillStroke:this.fillStroke();break;case p.OPS.eoFillStroke:this.eoFillStroke();break;case p.OPS.clip:this.clip("nonzero");break;case p.OPS.eoClip:this.clip("evenodd");break;case p.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case p.OPS.paintImageXObject:this.paintImageXObject(A[0]);break;case p.OPS.paintInlineImageXObject:this.paintInlineImageXObject(A[0]);break;case p.OPS.paintImageMaskXObject:this.paintImageMaskXObject(A[0]);break;case p.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(A[0],A[1]);break;case p.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case p.OPS.closePath:this.closePath();break;case p.OPS.closeStroke:this.closeStroke();break;case p.OPS.closeFillStroke:this.closeFillStroke();break;case p.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case p.OPS.nextLine:this.nextLine();break;case p.OPS.transform:this.transform(A[0],A[1],A[2],A[3],A[4],A[5]);break;case p.OPS.constructPath:this.constructPath(A[0],A[1]);break;case p.OPS.endPath:this.endPath();break;case 92:this.group(f.items);break;default:(0,p.warn)(`Unimplemented operator ${I}`)}}}setWordSpacing(g){this.current.wordSpacing=g}setCharSpacing(g){this.current.charSpacing=g}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(g,f,I,U,A,B){const x=this.current;x.textMatrix=x.lineMatrix=[g,f,I,U,A,B],x.textMatrixScale=Math.hypot(g,f),x.x=x.lineX=0,x.y=x.lineY=0,x.xcoords=[],x.ycoords=[],x.tspan=this.svgFactory.createElement("svg:tspan"),x.tspan.setAttributeNS(null,"font-family",x.fontFamily),x.tspan.setAttributeNS(null,"font-size",`${k(x.fontSize)}px`),x.tspan.setAttributeNS(null,"y",k(-x.y)),x.txtElement=this.svgFactory.createElement("svg:text"),x.txtElement.appendChild(x.tspan)}beginText(){const g=this.current;g.x=g.lineX=0,g.y=g.lineY=0,g.textMatrix=p.IDENTITY_MATRIX,g.lineMatrix=p.IDENTITY_MATRIX,g.textMatrixScale=1,g.tspan=this.svgFactory.createElement("svg:tspan"),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtgrp=this.svgFactory.createElement("svg:g"),g.xcoords=[],g.ycoords=[]}moveText(g,f){const I=this.current;I.x=I.lineX+=g,I.y=I.lineY+=f,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${k(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",k(-I.y))}showText(g){const f=this.current,I=f.font,U=f.fontSize;if(0===U)return;const A=f.fontSizeScale,B=f.charSpacing,x=f.wordSpacing,C=f.fontDirection,V=f.textHScale*C,K=I.vertical,Q=K?1:-1,te=I.defaultVMetrics,ce=U*f.fontMatrix[0];let ge=0;for(const m of g){if(null===m){ge+=C*x;continue}if("number"==typeof m){ge+=Q*m*U/1e3;continue}const T=(m.isSpace?x:0)+B,w=m.fontChar;let d,y,L,S=m.width;if(K){let D;const E=m.vmetric||te;D=m.vmetric?E[1]:.5*S,D=-D*ce,S=E?-E[0]:S,d=D/A,y=(ge+E[2]*ce)/A}else d=ge/A,y=0;(m.isInFont||I.missingFile)&&(f.xcoords.push(f.x+d),K&&f.ycoords.push(-f.y+y),f.tspan.textContent+=w),L=K?S*ce-T*C:S*ce+T*C,ge+=L}f.tspan.setAttributeNS(null,"x",f.xcoords.map(k).join(" ")),f.tspan.setAttributeNS(null,"y",K?f.ycoords.map(k).join(" "):k(-f.y)),K?f.y-=ge:f.x+=ge*V,f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${k(f.fontSize)}px`),f.fontStyle!==J.fontStyle&&f.tspan.setAttributeNS(null,"font-style",f.fontStyle),f.fontWeight!==J.fontWeight&&f.tspan.setAttributeNS(null,"font-weight",f.fontWeight);const R=f.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;R===p.TextRenderingMode.FILL||R===p.TextRenderingMode.FILL_STROKE?(f.fillColor!==J.fillColor&&f.tspan.setAttributeNS(null,"fill",f.fillColor),f.fillAlpha<1&&f.tspan.setAttributeNS(null,"fill-opacity",f.fillAlpha)):f.tspan.setAttributeNS(null,"fill",f.textRenderingMode===p.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(R===p.TextRenderingMode.STROKE||R===p.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(f.tspan,1/(f.textMatrixScale||1));let v=f.textMatrix;0!==f.textRise&&(v=v.slice(),v[5]+=f.textRise),f.txtElement.setAttributeNS(null,"transform",`${G(v)} scale(${k(V)}, -1)`),f.txtElement.setAttributeNS(H,"xml:space","preserve"),f.txtElement.appendChild(f.tspan),f.txtgrp.appendChild(f.txtElement),this._ensureTransformGroup().appendChild(f.txtElement)}setLeadingMoveText(g,f){this.setLeading(-f),this.moveText(g,f)}addFontStyle(g){if(!g.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const f=re(g.data,g.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${g.loadedName}"; src: url(${f}); }\n`}setFont(g){const f=this.current,I=this.commonObjs.get(g[0]);let U=g[1];f.font=I,this.embedFonts&&!I.missingFile&&!this.embeddedFonts[I.loadedName]&&(this.addFontStyle(I),this.embeddedFonts[I.loadedName]=I),f.fontMatrix=I.fontMatrix||p.FONT_IDENTITY_MATRIX;let A="normal";I.black?A="900":I.bold&&(A="bold");const B=I.italic?"italic":"normal";U<0?(U=-U,f.fontDirection=-1):f.fontDirection=1,f.fontSize=U,f.fontFamily=I.loadedName,f.fontWeight=A,f.fontStyle=B,f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"y",k(-f.y)),f.xcoords=[],f.ycoords=[]}endText(){const g=this.current;g.textRenderingMode&p.TextRenderingMode.ADD_TO_PATH_FLAG&&g.txtElement?.hasChildNodes()&&(g.element=g.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(g){g>0&&(this.current.lineWidth=g)}setLineCap(g){this.current.lineCap=ee[g]}setLineJoin(g){this.current.lineJoin=ie[g]}setMiterLimit(g){this.current.miterLimit=g}setStrokeAlpha(g){this.current.strokeAlpha=g}setStrokeRGBColor(g,f,I){this.current.strokeColor=p.Util.makeHexColor(g,f,I)}setFillAlpha(g){this.current.fillAlpha=g}setFillRGBColor(g,f,I){this.current.fillColor=p.Util.makeHexColor(g,f,I),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(g){this.current.strokeColor=this._makeColorN_Pattern(g)}setFillColorN(g){this.current.fillColor=this._makeColorN_Pattern(g)}shadingFill(g){const f=this.viewport.width,I=this.viewport.height,U=p.Util.inverseTransform(this.transformMatrix),A=p.Util.applyTransform([0,0],U),B=p.Util.applyTransform([0,I],U),x=p.Util.applyTransform([f,0],U),C=p.Util.applyTransform([f,I],U),V=Math.min(A[0],B[0],x[0],C[0]),K=Math.min(A[1],B[1],x[1],C[1]),Q=Math.max(A[0],B[0],x[0],C[0]),te=Math.max(A[1],B[1],x[1],C[1]),ce=this.svgFactory.createElement("svg:rect");ce.setAttributeNS(null,"x",V),ce.setAttributeNS(null,"y",K),ce.setAttributeNS(null,"width",Q-V),ce.setAttributeNS(null,"height",te-K),ce.setAttributeNS(null,"fill",this._makeShadingPattern(g)),this.current.fillAlpha<1&&ce.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ce)}_makeColorN_Pattern(g){return"TilingPattern"===g[0]?this._makeTilingPattern(g):this._makeShadingPattern(g)}_makeTilingPattern(g){const f=g[1],I=g[2],U=g[3]||p.IDENTITY_MATRIX,[A,B,x,C]=g[4],V=g[5],K=g[6],Q=g[7],te="shading"+N++,[ce,ge,R,v]=p.Util.normalizeRect([...p.Util.applyTransform([A,B],U),...p.Util.applyTransform([x,C],U)]),[m,T]=p.Util.singularValueDecompose2dScale(U),w=V*m,d=K*T,y=this.svgFactory.createElement("svg:pattern");y.setAttributeNS(null,"id",te),y.setAttributeNS(null,"patternUnits","userSpaceOnUse"),y.setAttributeNS(null,"width",w),y.setAttributeNS(null,"height",d),y.setAttributeNS(null,"x",`${ce}`),y.setAttributeNS(null,"y",`${ge}`);const S=this.svg,L=this.transformMatrix,D=this.current.fillColor,E=this.current.strokeColor,Y=this.svgFactory.create(R-ce,v-ge);if(this.svg=Y,this.transformMatrix=U,2===Q){const de=p.Util.makeHexColor(...f);this.current.fillColor=de,this.current.strokeColor=de}return this.executeOpTree(this.convertOpList(I)),this.svg=S,this.transformMatrix=L,this.current.fillColor=D,this.current.strokeColor=E,y.appendChild(Y.childNodes[0]),this.defs.appendChild(y),`url(#${te})`}_makeShadingPattern(g){switch("string"==typeof g&&(g=this.objs.get(g)),g[0]){case"RadialAxial":const f="shading"+N++,I=g[3];let U;switch(g[1]){case"axial":const A=g[4],B=g[5];U=this.svgFactory.createElement("svg:linearGradient"),U.setAttributeNS(null,"id",f),U.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),U.setAttributeNS(null,"x1",A[0]),U.setAttributeNS(null,"y1",A[1]),U.setAttributeNS(null,"x2",B[0]),U.setAttributeNS(null,"y2",B[1]);break;case"radial":const x=g[4],C=g[5],V=g[6],K=g[7];U=this.svgFactory.createElement("svg:radialGradient"),U.setAttributeNS(null,"id",f),U.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),U.setAttributeNS(null,"cx",C[0]),U.setAttributeNS(null,"cy",C[1]),U.setAttributeNS(null,"r",K),U.setAttributeNS(null,"fx",x[0]),U.setAttributeNS(null,"fy",x[1]),U.setAttributeNS(null,"fr",V);break;default:throw new Error(`Unknown RadialAxial type: ${g[1]}`)}for(const A of I){const B=this.svgFactory.createElement("svg:stop");B.setAttributeNS(null,"offset",A[0]),B.setAttributeNS(null,"stop-color",A[1]),U.appendChild(B)}return this.defs.appendChild(U),`url(#${f})`;case"Mesh":return(0,p.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${g[0]}`)}}setDash(g,f){this.current.dashArray=g,this.current.dashPhase=f}constructPath(g,f){const I=this.current;let U=I.x,A=I.y,B=[],x=0;for(const C of g)switch(0|C){case p.OPS.rectangle:U=f[x++],A=f[x++];const Q=U+f[x++],te=A+f[x++];B.push("M",k(U),k(A),"L",k(Q),k(A),"L",k(Q),k(te),"L",k(U),k(te),"Z");break;case p.OPS.moveTo:U=f[x++],A=f[x++],B.push("M",k(U),k(A));break;case p.OPS.lineTo:U=f[x++],A=f[x++],B.push("L",k(U),k(A));break;case p.OPS.curveTo:U=f[x+4],A=f[x+5],B.push("C",k(f[x]),k(f[x+1]),k(f[x+2]),k(f[x+3]),k(U),k(A)),x+=6;break;case p.OPS.curveTo2:B.push("C",k(U),k(A),k(f[x]),k(f[x+1]),k(f[x+2]),k(f[x+3])),U=f[x+2],A=f[x+3],x+=4;break;case p.OPS.curveTo3:U=f[x+2],A=f[x+3],B.push("C",k(f[x]),k(f[x+1]),k(U),k(A),k(U),k(A)),x+=4;break;case p.OPS.closePath:B.push("Z")}B=B.join(" "),I.path&&g.length>0&&g[0]!==p.OPS.rectangle&&g[0]!==p.OPS.moveTo?B=I.path.getAttributeNS(null,"d")+B:(I.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(I.path)),I.path.setAttributeNS(null,"d",B),I.path.setAttributeNS(null,"fill","none"),I.element=I.path,I.setCurrentPoint(U,A)}endPath(){const g=this.current;if(g.path=null,!this.pendingClip)return;if(!g.element)return void(this.pendingClip=null);const f="clippath"+$++,I=this.svgFactory.createElement("svg:clipPath");I.setAttributeNS(null,"id",f),I.setAttributeNS(null,"transform",G(this.transformMatrix));const U=g.element.cloneNode(!0);if(U.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,I.appendChild(U),this.defs.appendChild(I),g.activeClipUrl){g.clipGroup=null;for(const A of this.extraStack)A.clipGroup=null;I.setAttributeNS(null,"clip-path",g.activeClipUrl)}g.activeClipUrl=`url(#${f})`,this.tgrp=null}clip(g){this.pendingClip=g}closePath(){const g=this.current;if(g.path){const f=`${g.path.getAttributeNS(null,"d")}Z`;g.path.setAttributeNS(null,"d",f)}}setLeading(g){this.current.leading=-g}setTextRise(g){this.current.textRise=g}setTextRenderingMode(g){this.current.textRenderingMode=g}setHScale(g){this.current.textHScale=g/100}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(const[f,I]of g)switch(f){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I);break;case"CA":this.setStrokeAlpha(I);break;case"ca":this.setFillAlpha(I);break;default:(0,p.warn)(`Unimplemented graphic state operator ${f}`)}}fill(){const g=this.current;g.element&&(g.element.setAttributeNS(null,"fill",g.fillColor),g.element.setAttributeNS(null,"fill-opacity",g.fillAlpha),this.endPath())}stroke(){const g=this.current;g.element&&(this._setStrokeAttributes(g.element),g.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(g,f=1){const I=this.current;let U=I.dashArray;1!==f&&U.length>0&&(U=U.map(function(A){return f*A})),g.setAttributeNS(null,"stroke",I.strokeColor),g.setAttributeNS(null,"stroke-opacity",I.strokeAlpha),g.setAttributeNS(null,"stroke-miterlimit",k(I.miterLimit)),g.setAttributeNS(null,"stroke-linecap",I.lineCap),g.setAttributeNS(null,"stroke-linejoin",I.lineJoin),g.setAttributeNS(null,"stroke-width",k(f*I.lineWidth)+"px"),g.setAttributeNS(null,"stroke-dasharray",U.map(k).join(" ")),g.setAttributeNS(null,"stroke-dashoffset",k(f*I.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width","1px"),g.setAttributeNS(null,"height","1px"),g.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(g)}paintImageXObject(g){const f=g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g);f?this.paintInlineImageXObject(f):(0,p.warn)(`Dependent image with object ID ${g} is not ready yet`)}paintInlineImageXObject(g,f){const I=g.width,U=g.height,A=X(g,this.forceDataSchema,!!f),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x","0"),B.setAttributeNS(null,"y","0"),B.setAttributeNS(null,"width",k(I)),B.setAttributeNS(null,"height",k(U)),this.current.element=B,this.clip("nonzero");const x=this.svgFactory.createElement("svg:image");x.setAttributeNS(j,"xlink:href",A),x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y",k(-U)),x.setAttributeNS(null,"width",k(I)+"px"),x.setAttributeNS(null,"height",k(U)+"px"),x.setAttributeNS(null,"transform",`scale(${k(1/I)} ${k(-1/U)})`),f?f.appendChild(x):this._ensureTransformGroup().appendChild(x)}paintImageMaskXObject(g){const f=this.current,I=g.width,U=g.height,A=f.fillColor;f.maskId="mask"+O++;const B=this.svgFactory.createElement("svg:mask");B.setAttributeNS(null,"id",f.maskId);const x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y","0"),x.setAttributeNS(null,"width",k(I)),x.setAttributeNS(null,"height",k(U)),x.setAttributeNS(null,"fill",A),x.setAttributeNS(null,"mask",`url(#${f.maskId})`),this.defs.appendChild(B),this._ensureTransformGroup().appendChild(x),this.paintInlineImageXObject(g,B)}paintFormXObjectBegin(g,f){if(Array.isArray(g)&&6===g.length&&this.transform(g[0],g[1],g[2],g[3],g[4],g[5]),f){const I=f[2]-f[0],U=f[3]-f[1],A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x",f[0]),A.setAttributeNS(null,"y",f[1]),A.setAttributeNS(null,"width",k(I)),A.setAttributeNS(null,"height",k(U)),this.current.element=A,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(g){const f=this.svgFactory.create(g.width,g.height),I=this.svgFactory.createElement("svg:defs");f.appendChild(I),this.defs=I;const U=this.svgFactory.createElement("svg:g");return U.setAttributeNS(null,"transform",G(g.transform)),f.appendChild(U),this.svg=U,f}_ensureClipGroup(){if(!this.current.clipGroup){const g=this.svgFactory.createElement("svg:g");g.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(g),this.current.clipGroup=g}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",G(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFNodeStream=void 0;var p=z(1),Z=z(24);const W=__webpack_require__(172),pe=__webpack_require__(1),J=__webpack_require__(779),H=__webpack_require__(558),j=/^file:\/\/\/[a-zA-Z]:\//;_.PDFNodeStream=class ie{constructor(N){this.source=N,this.url=function ee(O){const N=H.parse(O);return"file:"===N.protocol||N.host?N:/^[a-z]:[/\\]/i.test(O)?H.parse(`file:///${O}`):(N.host||(N.protocol="file:"),N)}(N.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&N.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new G(this):new P(this),this._fullRequestReader}getRangeReader(N,g){if(g<=this._progressiveDataLength)return null;const f=this.isFsUrl?new $(this,N,g):new k(this,N,g);return this._rangeRequestReaders.push(f),f}cancelAllRequests(N){this._fullRequestReader&&this._fullRequestReader.cancel(N);for(const g of this._rangeRequestReaders.slice(0))g.cancel(N)}};class re{constructor(N){this._url=N.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=N.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._headersCapability=(0,p.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var N=this;return _asyncToGenerator(function*(){if(yield N._readCapability.promise,N._done)return{value:void 0,done:!0};if(N._storedError)throw N._storedError;const g=N._readableStream.read();return null===g?(N._readCapability=(0,p.createPromiseCapability)(),N.read()):(N._loaded+=g.length,N.onProgress&&N.onProgress({loaded:N._loaded,total:N._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(N){this._readableStream?this._readableStream.destroy(N):this._error(N)}_error(N){this._storedError=N,this._readCapability.resolve()}_setReadableStream(N){this._readableStream=N,N.on("readable",()=>{this._readCapability.resolve()}),N.on("end",()=>{N.destroy(),this._done=!0,this._readCapability.resolve()}),N.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new p.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class X{constructor(N){this._url=N.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!N.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var N=this;return _asyncToGenerator(function*(){if(yield N._readCapability.promise,N._done)return{value:void 0,done:!0};if(N._storedError)throw N._storedError;const g=N._readableStream.read();return null===g?(N._readCapability=(0,p.createPromiseCapability)(),N.read()):(N._loaded+=g.length,N.onProgress&&N.onProgress({loaded:N._loaded}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(N){this._readableStream?this._readableStream.destroy(N):this._error(N)}_error(N){this._storedError=N,this._readCapability.resolve()}_setReadableStream(N){this._readableStream=N,N.on("readable",()=>{this._readCapability.resolve()}),N.on("end",()=>{N.destroy(),this._done=!0,this._readCapability.resolve()}),N.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ne(O,N){return{protocol:O.protocol,auth:O.auth,host:O.hostname,port:O.port,path:O.path,method:"GET",headers:N}}class P extends re{constructor(N){super(N);const g=f=>{if(404===f.statusCode){const B=new p.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=B,void this._headersCapability.reject(B)}this._headersCapability.resolve(),this._setReadableStream(f);const I=B=>this._readableStream.headers[B.toLowerCase()],{allowRangeRequests:U,suggestedLength:A}=(0,Z.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:N.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=U,this._contentLength=A||this._contentLength,this._filename=(0,Z.extractFilenameFromHeader)(I)};this._request=null,this._request="http:"===this._url.protocol?pe.request(ne(this._url,N.httpHeaders),g):J.request(ne(this._url,N.httpHeaders),g),this._request.on("error",f=>{this._storedError=f,this._headersCapability.reject(f)}),this._request.end()}}class k extends X{constructor(N,g,f){super(N),this._httpHeaders={};for(const U in N.httpHeaders){const A=N.httpHeaders[U];typeof A>"u"||(this._httpHeaders[U]=A)}this._httpHeaders.Range=`bytes=${g}-${f-1}`;const I=U=>{if(404!==U.statusCode)this._setReadableStream(U);else{const A=new p.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A}};this._request=null,this._request="http:"===this._url.protocol?pe.request(ne(this._url,this._httpHeaders),I):J.request(ne(this._url,this._httpHeaders),I),this._request.on("error",U=>{this._storedError=U}),this._request.end()}}class G extends re{constructor(N){super(N);let g=decodeURIComponent(this._url.path);j.test(this._url.href)&&(g=g.replace(/^\//,"")),W.lstat(g,(f,I)=>{if(f)return"ENOENT"===f.code&&(f=new p.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=f,void this._headersCapability.reject(f);this._contentLength=I.size,this._setReadableStream(W.createReadStream(g)),this._headersCapability.resolve()})}}class $ extends X{constructor(N,g,f){super(N);let I=decodeURIComponent(this._url.path);j.test(this._url.href)&&(I=I.replace(/^\//,"")),this._setReadableStream(W.createReadStream(I,{start:g,end:f-1}))}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createResponseStatusError=function H(ee,ie){return 404===ee||0===ee&&ie.startsWith("file:")?new p.MissingPDFException('Missing PDF "'+ie+'".'):new p.UnexpectedResponseException(`Unexpected server response (${ee}) while retrieving PDF "${ie}".`,ee)},_.extractFilenameFromHeader=function J(ee){const ie=ee("Content-Disposition");if(ie){let re=(0,Z.getFilenameFromContentDispositionHeader)(ie);if(re.includes("%"))try{re=decodeURIComponent(re)}catch{}if((0,W.isPdfFile)(re))return re}return null},_.validateRangeRequestCapabilities=function pe({getResponseHeader:ee,isHttp:ie,rangeChunkSize:re,disableRange:X}){(0,p.assert)(re>0,"Range chunk size must be larger than zero");const ne={allowRangeRequests:!1,suggestedLength:void 0},P=parseInt(ee("Content-Length"),10);return!Number.isInteger(P)||(ne.suggestedLength=P,P<=2*re)||X||!ie||"bytes"!==ee("Accept-Ranges")||"identity"!==(ee("Content-Encoding")||"identity")||(ne.allowRangeRequests=!0),ne},_.validateResponseStatus=function j(ee){return 200===ee||206===ee};var p=z(1),Z=z(25),W=z(5)},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getFilenameFromContentDispositionHeader=function Z(W){let pe=!0,J=H("filename\\*","i").exec(W);if(J){J=J[1];let P=re(J);return P=unescape(P),P=X(P),P=ne(P),ee(P)}if(J=function ie(P){const k=[];let G;const $=H("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(G=$.exec(P));){let[,N,g,f]=G;if(N=parseInt(N,10),N in k){if(0===N)break}else k[N]=[g,f]}const O=[];for(let N=0;N<k.length&&N in k;++N){let[g,f]=k[N];f=re(f),g&&(f=unescape(f),0===N&&(f=X(f))),O.push(f)}return O.join("")}(W),J)return ee(ne(J));if(J=H("filename","i").exec(W),J){J=J[1];let P=re(J);return P=ne(P),ee(P)}function H(P,k){return new RegExp("(?:^|;)\\s*"+P+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',k)}function j(P,k){if(P){if(!/^[\x00-\xFF]+$/.test(k))return k;try{const G=new TextDecoder(P,{fatal:!0}),$=(0,p.stringToBytes)(k);k=G.decode($),pe=!1}catch{}}return k}function ee(P){return pe&&/[\x80-\xff]/.test(P)&&(P=j("utf-8",P),pe&&(P=j("iso-8859-1",P))),P}function re(P){if(P.startsWith('"')){const k=P.slice(1).split('\\"');for(let G=0;G<k.length;++G){const $=k[G].indexOf('"');-1!==$&&(k[G]=k[G].slice(0,$),k.length=G+1),k[G]=k[G].replace(/\\(.)/g,"$1")}P=k.join('"')}return P}function X(P){const k=P.indexOf("'");return-1===k?P:j(P.slice(0,k),P.slice(k+1).replace(/^[^']*'/,""))}function ne(P){return!P.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(P)?P:P.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(k,G,$,O){if("q"===$||"Q"===$)return j(G,O=(O=O.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(N,g){return String.fromCharCode(parseInt(g,16))}));try{O=atob(O)}catch{}return j(G,O)})}return""};var p=z(1)},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFNetworkStream=void 0;var p=z(1),Z=z(24);class H{constructor(X,ne={}){this.url=X,this.isHttp=/^https?:/i.test(X),this.httpHeaders=this.isHttp&&ne.httpHeaders||Object.create(null),this.withCredentials=ne.withCredentials||!1,this.getXhr=ne.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(X,ne,P){const k={begin:X,end:ne};for(const G in P)k[G]=P[G];return this.request(k)}requestFull(X){return this.request(X)}request(X){const ne=this.getXhr(),P=this.currXhrId++,k=this.pendingRequests[P]={xhr:ne};ne.open("GET",this.url),ne.withCredentials=this.withCredentials;for(const G in this.httpHeaders){const $=this.httpHeaders[G];typeof $>"u"||ne.setRequestHeader(G,$)}return this.isHttp&&"begin"in X&&"end"in X?(ne.setRequestHeader("Range",`bytes=${X.begin}-${X.end-1}`),k.expectedStatus=206):k.expectedStatus=200,ne.responseType="arraybuffer",X.onError&&(ne.onerror=function(G){X.onError(ne.status)}),ne.onreadystatechange=this.onStateChange.bind(this,P),ne.onprogress=this.onProgress.bind(this,P),k.onHeadersReceived=X.onHeadersReceived,k.onDone=X.onDone,k.onError=X.onError,k.onProgress=X.onProgress,ne.send(null),P}onProgress(X,ne){const P=this.pendingRequests[X];P&&P.onProgress?.(ne)}onStateChange(X,ne){const P=this.pendingRequests[X];if(!P)return;const k=P.xhr;if(k.readyState>=2&&P.onHeadersReceived&&(P.onHeadersReceived(),delete P.onHeadersReceived),4!==k.readyState||!(X in this.pendingRequests))return;if(delete this.pendingRequests[X],0===k.status&&this.isHttp)return void P.onError?.(k.status);const G=k.status||200;if((200!==G||206!==P.expectedStatus)&&G!==P.expectedStatus)return void P.onError?.(k.status);const O=function J(re){const X=re.response;return"string"!=typeof X?X:(0,p.stringToBytes)(X).buffer}(k);if(206===G){const N=k.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(N);P.onDone({begin:parseInt(g[1],10),chunk:O})}else O?P.onDone({begin:0,chunk:O}):P.onError?.(k.status)}getRequestXhr(X){return this.pendingRequests[X].xhr}isPendingRequest(X){return X in this.pendingRequests}abortRequest(X){const ne=this.pendingRequests[X].xhr;delete this.pendingRequests[X],ne.abort()}}_.PDFNetworkStream=class j{constructor(X){this._source=X,this._manager=new H(X.url,{httpHeaders:X.httpHeaders,withCredentials:X.withCredentials}),this._rangeChunkSize=X.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(X){const ne=this._rangeRequestReaders.indexOf(X);ne>=0&&this._rangeRequestReaders.splice(ne,1)}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ee(this._manager,this._source),this._fullRequestReader}getRangeReader(X,ne){const P=new ie(this._manager,X,ne);return P.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(P),P}cancelAllRequests(X){this._fullRequestReader?.cancel(X);for(const ne of this._rangeRequestReaders.slice(0))ne.cancel(X)}};class ee{constructor(X,ne){this._manager=X;const P={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ne.url,this._fullRequestId=X.requestFull(P),this._headersReceivedCapability=(0,p.createPromiseCapability)(),this._disableRange=ne.disableRange||!1,this._contentLength=ne.length,this._rangeChunkSize=ne.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const X=this._fullRequestId,ne=this._manager.getRequestXhr(X),P=$=>ne.getResponseHeader($),{allowRangeRequests:k,suggestedLength:G}=(0,Z.validateRangeRequestCapabilities)({getResponseHeader:P,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});k&&(this._isRangeSupported=!0),this._contentLength=G||this._contentLength,this._filename=(0,Z.extractFilenameFromHeader)(P),this._isRangeSupported&&this._manager.abortRequest(X),this._headersReceivedCapability.resolve()}_onDone(X){if(X&&(this._requests.length>0?this._requests.shift().resolve({value:X.chunk,done:!1}):this._cachedChunks.push(X.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(X){this._storedError=(0,Z.createResponseStatusError)(X,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ne of this._requests)ne.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(X){this.onProgress?.({loaded:X.loaded,total:X.lengthComputable?X.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var X=this;return _asyncToGenerator(function*(){if(X._storedError)throw X._storedError;if(X._cachedChunks.length>0)return{value:X._cachedChunks.shift(),done:!1};if(X._done)return{value:void 0,done:!0};const ne=(0,p.createPromiseCapability)();return X._requests.push(ne),ne.promise})()}cancel(X){this._done=!0,this._headersReceivedCapability.reject(X);for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ie{constructor(X,ne,P){this._manager=X;const k={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=X.url,this._requestId=X.requestRange(ne,P,k),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(X){const ne=X.chunk;this._requests.length>0?this._requests.shift().resolve({value:ne,done:!1}):this._queuedChunk=ne,this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(X){this._storedError=(0,Z.createResponseStatusError)(X,this._url);for(const ne of this._requests)ne.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(X){this.isStreamingSupported||this.onProgress?.({loaded:X.loaded})}get isStreamingSupported(){return!1}read(){var X=this;return _asyncToGenerator(function*(){if(X._storedError)throw X._storedError;if(null!==X._queuedChunk){const P=X._queuedChunk;return X._queuedChunk=null,{value:P,done:!1}}if(X._done)return{value:void 0,done:!0};const ne=(0,p.createPromiseCapability)();return X._requests.push(ne),ne.promise})()}cancel(X){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(oe,_,z)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFFetchStream=void 0;var p=z(1),Z=z(24);function W(ee,ie,re){return{method:"GET",headers:ee,signal:re?.signal,mode:"cors",credentials:ie?"include":"same-origin",redirect:"follow"}}function pe(ee){const ie=new Headers;for(const re in ee){const X=ee[re];typeof X>"u"||ie.append(re,X)}return ie}_.PDFFetchStream=class J{constructor(ie){this.source=ie,this.isHttp=/^https?:/i.test(ie.url),this.httpHeaders=this.isHttp&&ie.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new H(this),this._fullRequestReader}getRangeReader(ie,re){if(re<=this._progressiveDataLength)return null;const X=new j(this,ie,re);return this._rangeRequestReaders.push(X),X}cancelAllRequests(ie){this._fullRequestReader&&this._fullRequestReader.cancel(ie);for(const re of this._rangeRequestReaders.slice(0))re.cancel(ie)}};class H{constructor(ie){this._stream=ie,this._reader=null,this._loaded=0,this._filename=null;const re=ie.source;this._withCredentials=re.withCredentials||!1,this._contentLength=re.length,this._headersCapability=(0,p.createPromiseCapability)(),this._disableRange=re.disableRange||!1,this._rangeChunkSize=re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!re.disableStream,this._isRangeSupported=!re.disableRange,this._headers=pe(this._stream.httpHeaders);const X=re.url;fetch(X,W(this._headers,this._withCredentials,this._abortController)).then(ne=>{if(!(0,Z.validateResponseStatus)(ne.status))throw(0,Z.createResponseStatusError)(ne.status,X);this._reader=ne.body.getReader(),this._headersCapability.resolve();const P=$=>ne.headers.get($),{allowRangeRequests:k,suggestedLength:G}=(0,Z.validateRangeRequestCapabilities)({getResponseHeader:P,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=k,this._contentLength=G||this._contentLength,this._filename=(0,Z.extractFilenameFromHeader)(P),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new p.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var ie=this;return _asyncToGenerator(function*(){yield ie._headersCapability.promise;const{value:re,done:X}=yield ie._reader.read();return X?{value:re,done:X}:(ie._loaded+=re.byteLength,ie.onProgress&&ie.onProgress({loaded:ie._loaded,total:ie._contentLength}),{value:new Uint8Array(re).buffer,done:!1})})()}cancel(ie){this._reader&&this._reader.cancel(ie),this._abortController&&this._abortController.abort()}}class j{constructor(ie,re,X){this._stream=ie,this._reader=null,this._loaded=0;const ne=ie.source;this._withCredentials=ne.withCredentials||!1,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!ne.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=pe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${re}-${X-1}`);const P=ne.url;fetch(P,W(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,Z.validateResponseStatus)(k.status))throw(0,Z.createResponseStatusError)(k.status,P);this._readCapability.resolve(),this._reader=k.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var ie=this;return _asyncToGenerator(function*(){yield ie._readCapability.promise;const{value:re,done:X}=yield ie._reader.read();return X?{value:re,done:X}:(ie._loaded+=re.byteLength,ie.onProgress&&ie.onProgress({loaded:ie._loaded}),{value:new Uint8Array(re).buffer,done:!1})})()}cancel(ie){this._reader&&this._reader.cancel(ie),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(oe){var _=__webpack_module_cache__[oe];if(void 0!==_)return _.exports;var z=__webpack_module_cache__[oe]={exports:{}};return __webpack_modules__[oe](z,z.exports,__w_pdfjs_require__),z.exports}var __webpack_exports__={};return(()=>{var oe=__webpack_exports__;Object.defineProperty(oe,"__esModule",{value:!0}),Object.defineProperty(oe,"AnnotationLayer",{enumerable:!0,get:function(){return Z.AnnotationLayer}}),Object.defineProperty(oe,"AnnotationMode",{enumerable:!0,get:function(){return _.AnnotationMode}}),Object.defineProperty(oe,"CMapCompressionType",{enumerable:!0,get:function(){return _.CMapCompressionType}}),Object.defineProperty(oe,"GlobalWorkerOptions",{enumerable:!0,get:function(){return W.GlobalWorkerOptions}}),Object.defineProperty(oe,"InvalidPDFException",{enumerable:!0,get:function(){return _.InvalidPDFException}}),Object.defineProperty(oe,"LoopbackPort",{enumerable:!0,get:function(){return z.LoopbackPort}}),Object.defineProperty(oe,"MissingPDFException",{enumerable:!0,get:function(){return _.MissingPDFException}}),Object.defineProperty(oe,"OPS",{enumerable:!0,get:function(){return _.OPS}}),Object.defineProperty(oe,"PDFDataRangeTransport",{enumerable:!0,get:function(){return z.PDFDataRangeTransport}}),Object.defineProperty(oe,"PDFDateString",{enumerable:!0,get:function(){return p.PDFDateString}}),Object.defineProperty(oe,"PDFWorker",{enumerable:!0,get:function(){return z.PDFWorker}}),Object.defineProperty(oe,"PasswordResponses",{enumerable:!0,get:function(){return _.PasswordResponses}}),Object.defineProperty(oe,"PermissionFlag",{enumerable:!0,get:function(){return _.PermissionFlag}}),Object.defineProperty(oe,"PixelsPerInch",{enumerable:!0,get:function(){return p.PixelsPerInch}}),Object.defineProperty(oe,"RenderingCancelledException",{enumerable:!0,get:function(){return p.RenderingCancelledException}}),Object.defineProperty(oe,"SVGGraphics",{enumerable:!0,get:function(){return H.SVGGraphics}}),Object.defineProperty(oe,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return _.UNSUPPORTED_FEATURES}}),Object.defineProperty(oe,"UnexpectedResponseException",{enumerable:!0,get:function(){return _.UnexpectedResponseException}}),Object.defineProperty(oe,"Util",{enumerable:!0,get:function(){return _.Util}}),Object.defineProperty(oe,"VerbosityLevel",{enumerable:!0,get:function(){return _.VerbosityLevel}}),Object.defineProperty(oe,"XfaLayer",{enumerable:!0,get:function(){return j.XfaLayer}}),Object.defineProperty(oe,"build",{enumerable:!0,get:function(){return z.build}}),Object.defineProperty(oe,"createPromiseCapability",{enumerable:!0,get:function(){return _.createPromiseCapability}}),Object.defineProperty(oe,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _.createValidAbsoluteUrl}}),Object.defineProperty(oe,"getDocument",{enumerable:!0,get:function(){return z.getDocument}}),Object.defineProperty(oe,"getFilenameFromUrl",{enumerable:!0,get:function(){return p.getFilenameFromUrl}}),Object.defineProperty(oe,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return p.getPdfFilenameFromUrl}}),Object.defineProperty(oe,"getXfaPageViewport",{enumerable:!0,get:function(){return p.getXfaPageViewport}}),Object.defineProperty(oe,"isPdfFile",{enumerable:!0,get:function(){return p.isPdfFile}}),Object.defineProperty(oe,"loadScript",{enumerable:!0,get:function(){return p.loadScript}}),Object.defineProperty(oe,"renderTextLayer",{enumerable:!0,get:function(){return J.renderTextLayer}}),Object.defineProperty(oe,"shadow",{enumerable:!0,get:function(){return _.shadow}}),Object.defineProperty(oe,"version",{enumerable:!0,get:function(){return z.version}});var _=__w_pdfjs_require__(1),z=__w_pdfjs_require__(4),p=__w_pdfjs_require__(5),Z=__w_pdfjs_require__(18),W=__w_pdfjs_require__(12),pe=__w_pdfjs_require__(3),J=__w_pdfjs_require__(21),H=__w_pdfjs_require__(22),j=__w_pdfjs_require__(20);if(pe.isNodeJS){const{PDFNodeStream:re}=__w_pdfjs_require__(23);(0,z.setPDFNetworkStreamFactory)(X=>new re(X))}else{const{PDFNetworkStream:re}=__w_pdfjs_require__(26),{PDFFetchStream:X}=__w_pdfjs_require__(27);(0,z.setPDFNetworkStreamFactory)(ne=>(0,p.isValidFetchUrl)(ne.url)?new X(ne):new re(ne))}})(),__webpack_exports__})()},module.exports=z()},813:function(oe,_,z){var p=z(661).default,Z=z(860).default,W=z(159).default,pe=z(764).default,J=z(467).default,H=z(468).default,j=z(156).default;oe.exports=(()=>{"use strict";var ee=[,(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.DefaultXfaLayerFactory=P.DefaultTextLayerFactory=P.DefaultStructTreeLayerFactory=P.DefaultAnnotationLayerFactory=void 0;var G=k(2),$=k(4),O=k(5),N=k(7),g=k(8),f=k(9);P.DefaultAnnotationLayerFactory=class I{createAnnotationLayerBuilder(C,V,K=null,Q="",te=!0,ce=$.NullL10n,ge=!1,R=null,v=null,m=null,T=null){return new G.AnnotationLayerBuilder({pageDiv:C,pdfPage:V,imageResourcesPath:Q,renderForms:te,linkService:new O.SimpleLinkService,l10n:ce,annotationStorage:K,enableScripting:ge,hasJSActionsPromise:R,fieldObjectsPromise:m,mouseState:v,annotationCanvasMap:T})}};P.DefaultStructTreeLayerFactory=class U{createStructTreeLayerBuilder(C){return new N.StructTreeLayerBuilder({pdfPage:C})}};P.DefaultTextLayerFactory=class A{createTextLayerBuilder(C,V,K,Q=!1,te,ce){return new g.TextLayerBuilder({textLayerDiv:C,pageIndex:V,viewport:K,enhanceTextSelection:Q,eventBus:te,highlighter:ce})}};P.DefaultXfaLayerFactory=class B{createXfaLayerBuilder(C,V,K=null,Q=null){return new f.XfaLayerBuilder({pageDiv:C,pdfPage:V,annotationStorage:K,linkService:new O.SimpleLinkService,xfaHtml:Q})}}},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.AnnotationLayerBuilder=void 0;var G=k(3),$=k(4);P.AnnotationLayerBuilder=class O{constructor({pageDiv:g,pdfPage:f,linkService:I,downloadManager:U,annotationStorage:A=null,imageResourcesPath:B="",renderForms:x=!0,l10n:C=$.NullL10n,enableScripting:V=!1,hasJSActionsPromise:K=null,fieldObjectsPromise:Q=null,mouseState:te=null,annotationCanvasMap:ce=null}){this.pageDiv=g,this.pdfPage=f,this.linkService=I,this.downloadManager=U,this.imageResourcesPath=B,this.renderForms=x,this.l10n=C,this.annotationStorage=A,this.enableScripting=V,this._hasJSActionsPromise=K,this._fieldObjectsPromise=Q,this._mouseState=te,this._annotationCanvasMap=ce,this.div=null,this._cancelled=!1}render(g,f="display"){var I=this;return j(function*(){const[U,A=!1,B=null]=yield Promise.all([I.pdfPage.getAnnotations({intent:f}),I._hasJSActionsPromise,I._fieldObjectsPromise]);if(I._cancelled||0===U.length)return;const x={viewport:g.clone({dontFlip:!0}),div:I.div,annotations:U,page:I.pdfPage,imageResourcesPath:I.imageResourcesPath,renderForms:I.renderForms,linkService:I.linkService,downloadManager:I.downloadManager,annotationStorage:I.annotationStorage,enableScripting:I.enableScripting,hasJSActions:A,fieldObjects:B,mouseState:I._mouseState,annotationCanvasMap:I._annotationCanvasMap};I.div?G.AnnotationLayer.update(x):(I.div=document.createElement("div"),I.div.className="annotationLayer",I.pageDiv.appendChild(I.div),x.div=I.div,G.AnnotationLayer.render(x),I.l10n.translate(I.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},ne=>{let P;P=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:z(36),ne.exports=P},(ne,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.NullL10n=void 0,P.fixupLangCode=function O(f){return $[f?.toLowerCase()]||f},P.getL10nFallback=G;const k={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function G(f,I){switch(f){case"find_match_count":f=`find_match_count[${1===I.total?"one":"other"}]`;break;case"find_match_count_limit":f=`find_match_count_limit[${1===I.limit?"one":"other"}]`}return k[f]||""}const $={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};P.NullL10n={getLanguage:()=>j(function*(){return"en-us"})(),getDirection:()=>j(function*(){return"ltr"})(),get:(f,I=null,U=G(f,I))=>j(function*(){return function N(f,I){return I?f.replace(/\{\{\s*(\w+)\s*\}\}/g,(U,A)=>A in I?I[A]:"{{"+A+"}}"):f}(U,I)})(),translate:f=>j(function*(){})()}},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.SimpleLinkService=P.PDFLinkService=P.LinkTarget=void 0;var G=k(6);const $="noopener noreferrer nofollow",O={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function N(x,{url:C,target:V,rel:K,enabled:Q=!0}={}){if(!C||"string"!=typeof C)throw new Error('A valid "url" parameter must provided.');const te=(0,G.removeNullCharacters)(C);Q?x.href=x.title=te:(x.href="",x.title=`Disabled: ${te}`,x.onclick=()=>!1);let ce="";switch(V){case O.NONE:break;case O.SELF:ce="_self";break;case O.BLANK:ce="_blank";break;case O.PARENT:ce="_parent";break;case O.TOP:ce="_top"}x.target=ce,x.rel="string"==typeof K?K:$}P.LinkTarget=O;var g=new WeakMap,f=new WeakSet;class I{constructor({eventBus:C,externalLinkTarget:V=null,externalLinkRel:K=null,ignoreDestinationZoom:Q=!1}={}){Z(this,f),W(this,g,{writable:!0,value:new Map}),this.eventBus=C,this.externalLinkTarget=V,this.externalLinkRel=K,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=Q,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(C,V=null){this.baseUrl=V,this.pdfDocument=C,H(this,g).clear()}setViewer(C){this.pdfViewer=C}setHistory(C){this.pdfHistory=C}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(C){this.pdfViewer.currentPageNumber=C}get rotation(){return this.pdfViewer.pagesRotation}set rotation(C){this.pdfViewer.pagesRotation=C}goToDestination(C){var V=this;return j(function*(){if(!V.pdfDocument)return;let K,Q;"string"==typeof C?(K=C,Q=yield V.pdfDocument.getDestination(C)):(K=null,Q=yield C),Array.isArray(Q)?J(V,f,U).call(V,C,K,Q):console.error(`PDFLinkService.goToDestination: "${Q}" is not a valid destination array, for dest="${C}".`)})()}goToPage(C){if(!this.pdfDocument)return;const V="string"==typeof C&&this.pdfViewer.pageLabelToPageNumber(C)||0|C;Number.isInteger(V)&&V>0&&V<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(V)),this.pdfViewer.scrollPageIntoView({pageNumber:V})):console.error(`PDFLinkService.goToPage: "${C}" is not a valid page.`)}addLinkAttributes(C,V,K=!1){N(C,{url:V,target:K?O.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(C){if("string"==typeof C){if(C.length>0)return this.getAnchorUrl("#"+escape(C))}else if(Array.isArray(C)){const V=JSON.stringify(C);if(V.length>0)return this.getAnchorUrl("#"+escape(V))}return this.getAnchorUrl("")}getAnchorUrl(C){return(this.baseUrl||"")+C}setHash(C){if(!this.pdfDocument)return;let V,K;if(C.includes("=")){const Q=(0,G.parseQueryString)(C);if(Q.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:Q.get("search").replace(/"/g,""),phraseSearch:"true"===Q.get("phrase")}),Q.has("page")&&(V=0|Q.get("page")||1),Q.has("zoom")){const te=Q.get("zoom").split(","),ce=te[0],ge=parseFloat(ce);ce.includes("Fit")?"Fit"===ce||"FitB"===ce?K=[null,{name:ce}]:"FitH"===ce||"FitBH"===ce||"FitV"===ce||"FitBV"===ce?K=[null,{name:ce},te.length>1?0|te[1]:null]:"FitR"===ce?5!==te.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):K=[null,{name:ce},0|te[1],0|te[2],0|te[3],0|te[4]]:console.error(`PDFLinkService.setHash: "${ce}" is not a valid zoom value.`):K=[null,{name:"XYZ"},te.length>1?0|te[1]:null,te.length>2?0|te[2]:null,ge?ge/100:ce]}K?this.pdfViewer.scrollPageIntoView({pageNumber:V||this.page,destArray:K,allowNegativeOffset:!0}):V&&(this.page=V),Q.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:Q.get("pagemode")}),Q.has("nameddest")&&this.goToDestination(Q.get("nameddest"))}else{K=unescape(C);try{K=JSON.parse(K),Array.isArray(K)||(K=K.toString())}catch{}if("string"==typeof K||pe(I,I,A).call(I,K))return void this.goToDestination(K);console.error(`PDFLinkService.setHash: "${unescape(C)}" is not a valid destination.`)}}executeNamedAction(C){switch(C){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:C})}cachePageRef(C,V){if(!V)return;const K=0===V.gen?`${V.num}R`:`${V.num}R${V.gen}`;H(this,g).set(K,C)}_cachedPageNumber(C){if(!C)return null;const V=0===C.gen?`${C.num}R`:`${C.num}R${C.gen}`;return H(this,g).get(V)||null}isPageVisible(C){return this.pdfViewer.isPageVisible(C)}isPageCached(C){return this.pdfViewer.isPageCached(C)}}function U(x,C=null,V){const K=V[0];let Q;if("object"==typeof K&&null!==K){if(Q=this._cachedPageNumber(K),!Q)return void this.pdfDocument.getPageIndex(K).then(te=>{this.cachePageRef(te+1,K),J(this,f,U).call(this,x,C,V)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${K}" is not a valid page reference, for dest="${x}".`)})}else{if(!Number.isInteger(K))return void console.error(`PDFLinkService.#goToDestinationHelper: "${K}" is not a valid destination reference, for dest="${x}".`);Q=K+1}!Q||Q<1||Q>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${Q}" is not a valid page number, for dest="${x}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:C,explicitDest:V,pageNumber:Q})),this.pdfViewer.scrollPageIntoView({pageNumber:Q,destArray:V,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function A(x){if(!Array.isArray(x))return!1;const C=x.length;if(C<2)return!1;const V=x[0];if(!("object"==typeof V&&Number.isInteger(V.num)&&Number.isInteger(V.gen)||Number.isInteger(V)&&V>=0))return!1;const K=x[1];if("object"!=typeof K||"string"!=typeof K.name)return!1;let Q=!0;switch(K.name){case"XYZ":if(5!==C)return!1;break;case"Fit":case"FitB":return 2===C;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==C)return!1;break;case"FitR":if(6!==C)return!1;Q=!1;break;default:return!1}for(let te=2;te<C;te++){const ce=x[te];if(!("number"==typeof ce||Q&&null===ce))return!1}return!0}P.PDFLinkService=I;P.SimpleLinkService=class B{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(C){}get rotation(){return 0}set rotation(C){}goToDestination(C){return j(function*(){})()}goToPage(C){}addLinkAttributes(C,V,K=!1){N(C,{url:V,enabled:this.externalLinkEnabled})}getDestinationHash(C){return"#"}getAnchorUrl(C){return"#"}setHash(C){}executeNamedAction(C){}cachePageRef(C,V){}isPageVisible(C){return!0}isPageCached(C){return!0}}},(ne,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.animationStarted=P.VERTICAL_PADDING=P.UNKNOWN_SCALE=P.TextLayerMode=P.SpreadMode=P.SidebarView=P.ScrollMode=P.SCROLLBAR_PADDING=P.RenderingStates=P.RendererType=P.ProgressBar=P.PresentationModeState=P.OutputScale=P.MIN_SCALE=P.MAX_SCALE=P.MAX_AUTO_SCALE=P.DEFAULT_SCALE_VALUE=P.DEFAULT_SCALE_DELTA=P.DEFAULT_SCALE=P.AutoPrintRegExp=void 0,P.apiPageLayoutToViewerModes=function tt(ye){let F=Q.VERTICAL,le=te.NONE;switch(ye){case"SinglePage":F=Q.PAGE;break;case"OneColumn":break;case"TwoPageLeft":F=Q.PAGE;case"TwoColumnLeft":le=te.ODD;break;case"TwoPageRight":F=Q.PAGE;case"TwoColumnRight":le=te.EVEN}return{scrollMode:F,spreadMode:le}},P.apiPageModeToSidebarView=function an(ye){switch(ye){case"UseNone":return C.NONE;case"UseThumbs":return C.THUMBS;case"UseOutlines":return C.OUTLINE;case"UseAttachments":return C.ATTACHMENTS;case"UseOC":return C.LAYERS}return C.NONE},P.approximateFraction=function S(ye){if(Math.floor(ye)===ye)return[ye,1];const F=1/ye;if(F>8)return[1,8];if(Math.floor(F)===F)return[1,F];const _e=ye>1?F:ye;let He,Pe=0,Ie=1,Ve=1,Fe=1;for(;;){const St=Pe+Ve,sn=Ie+Fe;if(sn>8)break;_e<=St/sn?(Ve=St,Fe=sn):(Pe=St,Ie=sn)}return He=_e-Pe/Ie<Ve/Fe-_e?_e===ye?[Pe,Ie]:[Ie,Pe]:_e===ye?[Ve,Fe]:[Fe,Ve],He},P.backtrackBeforeAllVisibleElements=E,P.binarySearchFirstItem=y,P.getActiveOrFocusedElement=function We(){let ye=document,F=ye.activeElement||ye.querySelector(":focus");for(;F?.shadowRoot;)ye=F.shadowRoot,F=ye.activeElement||ye.querySelector(":focus");return F},P.getPageSizeInches=function D({view:ye,userUnit:F,rotate:le}){const[_e,Pe,Ie,Ve]=ye,Fe=le%180!=0,He=(Ie-_e)/72*F,St=(Ve-Pe)/72*F;return{width:Fe?St:He,height:Fe?He:St}},P.getVisibleElements=function Y({scrollEl:ye,views:F,sortByVisibility:le=!1,horizontal:_e=!1,rtl:Pe=!1}){const Ie=ye.scrollTop,Ve=Ie+ye.clientHeight,Fe=ye.scrollLeft,He=Fe+ye.clientWidth;const Ae=[],me=new Set,be=F.length;let Xe=y(F,_e?function sn(Nt){const Yt=Nt.div,Xt=Yt.offsetLeft+Yt.clientLeft;return Pe?Xt<He:Xt+Yt.clientWidth>Fe}:function St(Nt){const Yt=Nt.div;return Yt.offsetTop+Yt.clientTop+Yt.clientHeight>Ie});Xe>0&&Xe<be&&!_e&&(Xe=E(Xe,F,Ie));let et=_e?He:-1;for(let Nt=Xe;Nt<be;Nt++){const Yt=F[Nt],Xt=Yt.div,ln=Xt.offsetLeft+Xt.clientLeft,Sr=Xt.offsetTop+Xt.clientTop,Vr=Xt.clientWidth,Ri=Xt.clientHeight,bn=ln+Vr,yi=Sr+Ri;if(-1===et)yi>=Ve&&(et=yi);else if((_e?ln:Sr)>et)break;if(yi<=Ie||Sr>=Ve||bn<=Fe||ln>=He)continue;const po=Math.max(0,Ie-Sr)+Math.max(0,yi-Ve),Oi=(Vr-(Math.max(0,Fe-ln)+Math.max(0,bn-He)))/Vr;Ae.push({id:Yt.id,x:ln,y:Sr,view:Yt,percent:(Ri-po)/Ri*Oi*100|0,widthPercent:100*Oi|0}),me.add(Yt.id)}const Pt=Ae[0],yt=Ae[Ae.length-1];return le&&Ae.sort(function(Nt,Yt){const Xt=Nt.percent-Yt.percent;return Math.abs(Xt)>.001?-Xt:Nt.id-Yt.id}),{first:Pt,last:yt,views:Ae,ids:me}},P.isPortraitOrientation=function $e(ye){return ye.width<=ye.height},P.isValidRotation=function Ee(ye){return Number.isInteger(ye)&&ye%90==0},P.isValidScrollMode=function Ne(ye){return Number.isInteger(ye)&&Object.values(Q).includes(ye)&&ye!==Q.UNKNOWN},P.isValidSpreadMode=function Be(ye){return Number.isInteger(ye)&&Object.values(te).includes(ye)&&ye!==te.UNKNOWN},P.noContextMenuHandler=function de(ye){ye.preventDefault()},P.normalizeWheelEventDelta=function fe(ye){let F=ue(ye);return 0===ye.deltaMode?F/=900:1===ye.deltaMode&&(F/=30),F},P.normalizeWheelEventDirection=ue,P.parseQueryString=function m(ye){const F=new Map;for(const[le,_e]of new URLSearchParams(ye))F.set(le.toLowerCase(),_e);return F},P.removeNullCharacters=function d(ye,F=!1){return"string"!=typeof ye?(console.error("The argument must be a string."),ye):(F&&(ye=ye.replace(w," ")),ye.replace(T,""))},P.roundToDivide=function L(ye,F){const le=ye%F;return 0===le?ye:Math.round(ye-le+F)},P.scrollIntoView=function R(ye,F,le=!1){let _e=ye.offsetParent;if(!_e)return void console.error("offsetParent is not set -- cannot scroll");let Pe=ye.offsetTop+ye.clientTop,Ie=ye.offsetLeft+ye.clientLeft;for(;_e.clientHeight===_e.scrollHeight&&_e.clientWidth===_e.scrollWidth||le&&(_e.classList.contains("markedContent")||"hidden"===getComputedStyle(_e).overflow);)if(Pe+=_e.offsetTop,Ie+=_e.offsetLeft,_e=_e.offsetParent,!_e)return;F&&(void 0!==F.top&&(Pe+=F.top),void 0!==F.left&&(Ie+=F.left,_e.scrollLeft=Ie)),_e.scrollTop=Pe},P.watchScroll=function v(ye,F){const le=function(Ie){Pe||(Pe=window.requestAnimationFrame(function(){Pe=null;const Fe=ye.scrollLeft,He=_e.lastX;Fe!==He&&(_e.right=Fe>He),_e.lastX=Fe;const St=ye.scrollTop,sn=_e.lastY;St!==sn&&(_e.down=St>sn),_e.lastY=St,F(_e)}))},_e={right:!0,down:!0,lastX:ye.scrollLeft,lastY:ye.scrollTop,_eventHandler:le};let Pe=null;return ye.addEventListener("scroll",le,!0),_e},P.DEFAULT_SCALE_VALUE="auto",P.DEFAULT_SCALE=1,P.DEFAULT_SCALE_DELTA=1.1,P.MIN_SCALE=.1,P.MAX_SCALE=10,P.UNKNOWN_SCALE=0,P.MAX_AUTO_SCALE=1.25,P.SCROLLBAR_PADDING=40,P.VERTICAL_PADDING=5;P.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},P.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const C={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};P.SidebarView=C,P.RendererType={CANVAS:"canvas",SVG:"svg"},P.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const Q={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};P.ScrollMode=Q;const te={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};P.SpreadMode=te,P.AutoPrintRegExp=/\bprint\s*\(/;P.OutputScale=class ge{constructor(){const F=window.devicePixelRatio||1;this.sx=F,this.sy=F}get scaled(){return 1!==this.sx||1!==this.sy}};const T=/\x00/g,w=/[\x01-\x1F]/g;function y(ye,F,le=0){let _e=le,Pe=ye.length-1;if(Pe<0||!F(ye[Pe]))return ye.length;if(F(ye[_e]))return _e;for(;_e<Pe;){const Ie=_e+Pe>>1;F(ye[Ie])?Pe=Ie:_e=Ie+1}return _e}function E(ye,F,le){if(ye<2)return ye;let _e=F[ye].div,Pe=_e.offsetTop+_e.clientTop;Pe>=le&&(_e=F[ye-1].div,Pe=_e.offsetTop+_e.clientTop);for(let Ie=ye-2;Ie>=0&&(_e=F[Ie].div,!(_e.offsetTop+_e.clientTop+_e.clientHeight<=Pe));--Ie)ye=Ie;return ye}function ue(ye){let F=Math.hypot(ye.deltaX,ye.deltaY);const le=Math.atan2(ye.deltaY,ye.deltaX);return-.25*Math.PI<le&&le<.75*Math.PI&&(F=-F),F}const Oe=new Promise(function(ye){window.requestAnimationFrame(ye)});P.animationStarted=Oe;P.ProgressBar=class xt{constructor(F,{height:le,width:_e,units:Pe}={}){this.visible=!0,this.div=document.querySelector(F+" .progress"),this.bar=this.div.parentNode,this.height=le||100,this.width=_e||100,this.units=Pe||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(F){this._indeterminate=isNaN(F),this._percent=function Tt(ye,F,le){return Math.min(Math.max(ye,F),le)}(F,0,100),this._updateBar()}setWidth(F){if(!F)return;const _e=F.parentNode.offsetWidth-F.offsetWidth;_e>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${_e}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(ne,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.StructTreeLayerBuilder=void 0;const k={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},G=/^H(\d+)$/;P.StructTreeLayerBuilder=class ${constructor({pdfPage:N}){this.pdfPage=N}render(N){return this._walk(N)}_setAttributes(N,g){void 0!==N.alt&&g.setAttribute("aria-label",N.alt),void 0!==N.id&&g.setAttribute("aria-owns",N.id),void 0!==N.lang&&g.setAttribute("lang",N.lang)}_walk(N){if(!N)return null;const g=document.createElement("span");if("role"in N){const{role:f}=N,I=f.match(G);I?(g.setAttribute("role","heading"),g.setAttribute("aria-level",I[1])):k[f]&&g.setAttribute("role",k[f])}if(this._setAttributes(N,g),N.children)if(1===N.children.length&&"id"in N.children[0])this._setAttributes(N.children[0],g);else for(const f of N.children)g.appendChild(this._walk(f));return g}}},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.TextLayerBuilder=void 0;var G=k(3);P.TextLayerBuilder=class O{constructor({textLayerDiv:g,eventBus:f,pageIndex:I,viewport:U,highlighter:A=null,enhanceTextSelection:B=!1}){this.textLayerDiv=g,this.eventBus=f,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=I+1,this.viewport=U,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=A,this.enhanceTextSelection=B,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const g=document.createElement("div");g.className="endOfContent",this.textLayerDiv.appendChild(g)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(g=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const f=document.createDocumentFragment();this.textLayerRenderTask=(0,G.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:f,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:g,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(f),this._finishRendering(),this.highlighter?.enable()},function(I){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(g){this.cancel(),this.textContentStream=g}setTextContent(g){this.cancel(),this.textContent=g}_bindMouse(){const g=this.textLayerDiv;let f=null;g.addEventListener("mousedown",I=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(f&&(clearTimeout(f),f=null));const U=g.querySelector(".endOfContent");if(!U)return;let A=I.target!==g;if(A=A&&"none"!==window.getComputedStyle(U).getPropertyValue("-moz-user-select"),A){const B=g.getBoundingClientRect(),x=Math.max(0,(I.pageY-B.top)/B.height);U.style.top=(100*x).toFixed(2)+"%"}U.classList.add("active")}),g.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(f=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),f=null},300));const I=g.querySelector(".endOfContent");I&&(I.style.top="",I.classList.remove("active"))})}}},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.XfaLayerBuilder=void 0;var G=k(3);P.XfaLayerBuilder=class ${constructor({pageDiv:N,pdfPage:g,annotationStorage:f=null,linkService:I,xfaHtml:U=null}){this.pageDiv=N,this.pdfPage=g,this.annotationStorage=f,this.linkService=I,this.xfaHtml=U,this.div=null,this._cancelled=!1}render(N,g="display"){if("print"===g){const f={viewport:N.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:g},I=document.createElement("div");this.pageDiv.appendChild(I),f.div=I;const U=G.XfaLayer.render(f);return Promise.resolve(U)}return this.pdfPage.getXfa().then(f=>{if(this._cancelled||!f)return{textDivs:[]};const I={viewport:N.clone({dontFlip:!0}),div:this.div,xfaHtml:f,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:g};return this.div?G.XfaLayer.update(I):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),I.div=this.div,G.XfaLayer.render(I))}).catch(f=>{console.error(f)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.PDFViewer=P.PDFSinglePageViewer=void 0;var G=k(6),$=k(11);P.PDFViewer=class O extends $.BaseViewer{};P.PDFSinglePageViewer=class N extends $.BaseViewer{_resetView(){super._resetView(),this._scrollMode=G.ScrollMode.PAGE,this._spreadMode=G.SpreadMode.NONE}set scrollMode(f){}_updateScrollMode(){}set spreadMode(f){}_updateSpreadMode(){}}},(ne,P,k)=>{let G;Object.defineProperty(P,"__esModule",{value:!0}),P.PagesCountLimit=P.PDFPageViewBuffer=P.BaseViewer=void 0;var $=k(3),O=k(6),N=k(2),g=k(4),f=k(12),I=k(14),U=k(5),A=k(7),B=k(15),x=k(8),C=k(9);const K="enablePermissions",Q={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};P.PagesCountLimit=Q;var te=new WeakMap,ce=new WeakMap,ge=new WeakSet;G=Symbol.iterator;class R{constructor(F){Z(this,ge),W(this,te,{writable:!0,value:new Set}),W(this,ce,{writable:!0,value:0}),p(this,ce,F)}push(F){const le=H(this,te);le.has(F)&&le.delete(F),le.add(F),le.size>H(this,ce)&&J(this,ge,v).call(this)}resize(F,le=null){p(this,ce,F);const _e=H(this,te);if(le){const Pe=_e.size;let Ie=1;for(const Ve of _e)if(le.has(Ve.id)&&(_e.delete(Ve),_e.add(Ve)),++Ie>Pe)break}for(;_e.size>H(this,ce);)J(this,ge,v).call(this)}has(F){return H(this,te).has(F)}[G](){return H(this,te).keys()}}function v(){const ye=H(this,te).keys().next().value;ye?.destroy(),H(this,te).delete(ye)}P.PDFPageViewBuffer=R;var m=new WeakMap,T=new WeakMap,w=new WeakMap,d=new WeakMap,y=new WeakMap,S=new WeakMap,L=new WeakMap,D=new WeakSet,E=new WeakSet,Y=new WeakSet,de=new WeakSet,ue=new WeakSet,fe=new WeakSet,Ee=new WeakSet;class Ne{constructor(F){if(Z(this,Ee),Z(this,fe),Z(this,ue),Z(this,de),Z(this,Y),Z(this,E),Z(this,D),W(this,m,{writable:!0,value:null}),W(this,T,{writable:!0,value:$.AnnotationMode.ENABLE_FORMS}),W(this,w,{writable:!0,value:null}),W(this,d,{writable:!0,value:!1}),W(this,y,{writable:!0,value:0}),W(this,S,{writable:!0,value:null}),W(this,L,{writable:!0,value:null}),this.constructor===Ne)throw new Error("Cannot initialize BaseViewer.");const le="2.13.216";if($.version!==le)throw new Error(`The API version "${$.version}" does not match the Viewer version "${le}".`);if(this.container=F.container,this.viewer=F.viewer||F.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=F.eventBus,this.linkService=F.linkService||new U.SimpleLinkService,this.downloadManager=F.downloadManager||null,this.findController=F.findController||null,this._scriptingManager=F.scriptingManager||null,this.removePageBorders=F.removePageBorders||!1,this.textLayerMode=F.textLayerMode??O.TextLayerMode.ENABLE,p(this,T,F.annotationMode??$.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=F.imageResourcesPath||"",this.enablePrintAutoRotate=F.enablePrintAutoRotate||!1,this.renderer=F.renderer||O.RendererType.CANVAS,this.useOnlyCssZoom=F.useOnlyCssZoom||!1,this.maxCanvasPixels=F.maxCanvasPixels,this.l10n=F.l10n||g.NullL10n,p(this,d,F.enablePermissions||!1),this.defaultRenderingQueue=!F.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new I.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=F.renderingQueue,this._doc=document.documentElement,this.scroll=(0,O.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=O.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(F){return this._pages[F]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(F){return F?.pdfPage})}get renderForms(){return H(this,T)===$.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(F){if(!Number.isInteger(F))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(F,!0)||console.error(`currentPageNumber: "${F}" is not a valid page.`))}_setCurrentPageNumber(F,le=!1){if(this._currentPageNumber===F)return le&&this._resetCurrentPageView(),!0;if(!(0<F&&F<=this.pagesCount))return!1;const _e=this._currentPageNumber;return this._currentPageNumber=F,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:F,pageLabel:this._pageLabels?.[F-1]??null,previous:_e}),le&&this._resetCurrentPageView(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(F){if(!this.pdfDocument)return;let le=0|F;if(this._pageLabels){const _e=this._pageLabels.indexOf(F);_e>=0&&(le=_e+1)}this._setCurrentPageNumber(le,!0)||console.error(`currentPageLabel: "${F}" is not a valid page.`)}get currentScale(){return this._currentScale!==O.UNKNOWN_SCALE?this._currentScale:O.DEFAULT_SCALE}set currentScale(F){if(isNaN(F))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(F,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(F){this.pdfDocument&&this._setScale(F,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(F){if(!(0,O.isValidRotation)(F))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((F%=360)<0&&(F+=360),this._pagesRotation===F))return;this._pagesRotation=F;const le=this._currentPageNumber,_e={rotation:F};for(const Pe of this._pages)Pe.update(_e);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:F,pageNumber:le}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(F){var le=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=F,!F)return;const _e=F.isPureXfa,Pe=F.numPages,Ie=F.getPage(1),Ve=F.getOptionalContentConfig(),Fe=H(this,d)?F.getPermissions():Promise.resolve();if(Pe>Q.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const He=this._scrollMode=O.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:He})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Pe})},()=>{}),this._onBeforeDraw=He=>{const St=this._pages[He.pageNumber-1];St&&H(this,m).push(St)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=He=>{He.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:He.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,H(this,L)&&(document.removeEventListener("visibilitychange",H(this,L)),p(this,L,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Ie,Fe]).then(([He,St])=>{if(F!==this.pdfDocument)return;this._firstPageCapability.resolve(He),this._optionalContentConfigPromise=Ve,J(this,D,Be).call(this,St);const sn=this._scrollMode===O.ScrollMode.PAGE?null:this.viewer,Ae=this.currentScale,me=He.getViewport({scale:Ae*$.PixelsPerInch.PDF_TO_CSS_UNITS}),be=this.textLayerMode===O.TextLayerMode.DISABLE||_e?null:this,Xe=H(this,T)!==$.AnnotationMode.DISABLE?this:null,et=_e?this:null;for(let yt=1;yt<=Pe;++yt){const Nt=new f.PDFPageView({container:sn,eventBus:this.eventBus,id:yt,scale:Ae,defaultViewport:me.clone(),optionalContentConfigPromise:Ve,renderingQueue:this.renderingQueue,textLayerFactory:be,textLayerMode:this.textLayerMode,annotationLayerFactory:Xe,annotationMode:H(this,T),xfaLayerFactory:et,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(Nt)}const Pt=this._pages[0];Pt&&(Pt.setPdfPage(He),this.linkService.cachePageRef(1,He.ref)),this._scrollMode===O.ScrollMode.PAGE?J(this,Y,Oe).call(this):this._spreadMode!==O.SpreadMode.NONE&&this._updateSpreadMode(),J(this,E,$e).call(this).then(j(function*(){if(le.findController&&le.findController.setDocument(F),le._scriptingManager&&le._scriptingManager.setDocument(F),F.loadingParams.disableAutoFetch||Pe>Q.FORCE_LAZY_PAGE_INIT)return void le._pagesCapability.resolve();let yt=Pe-1;if(yt<=0)le._pagesCapability.resolve();else for(let Nt=2;Nt<=Pe;++Nt){const Yt=F.getPage(Nt).then(Xt=>{const ln=le._pages[Nt-1];ln.pdfPage||ln.setPdfPage(Xt),le.linkService.cachePageRef(Nt,Xt.ref),0==--yt&&le._pagesCapability.resolve()},Xt=>{console.error(`Unable to get page ${Nt} to initialize viewer`,Xt),0==--yt&&le._pagesCapability.resolve()});Nt%Q.PAUSE_EAGER_PAGE_INIT==0&&(yield Yt)}})),this.eventBus.dispatch("pagesinit",{source:this}),F.getMetadata().then(({info:yt})=>{F===this.pdfDocument&&yt.Language&&(this.viewer.lang=yt.Language)}),this.defaultRenderingQueue&&this.update()}).catch(He=>{console.error("Unable to initialize viewer",He),this._pagesCapability.reject(He)})}setPageLabels(F){if(this.pdfDocument){F?Array.isArray(F)&&this.pdfDocument.numPages===F.length?this._pageLabels=F:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let le=0,_e=this._pages.length;le<_e;le++)this._pages[le].setPageLabel(this._pageLabels?.[le]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=O.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,p(this,m,new R(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,$.createPromiseCapability)(),this._onePageRenderedCapability=(0,$.createPromiseCapability)(),this._pagesCapability=(0,$.createPromiseCapability)(),this._scrollMode=O.ScrollMode.VERTICAL,this._previousScrollMode=O.ScrollMode.UNKNOWN,this._spreadMode=O.SpreadMode.NONE,p(this,S,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),H(this,L)&&(document.removeEventListener("visibilitychange",H(this,L)),p(this,L,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(K),null!==H(this,w)&&(p(this,T,H(this,w)),p(this,w,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:F,pageSpot:le=null,pageNumber:_e=null}){if(this._scrollMode===O.ScrollMode.PAGE&&(_e&&this._setCurrentPageNumber(_e),J(this,Y,Oe).call(this),this.update()),!le&&!this.isInPresentationMode){const Pe=F.offsetLeft+F.clientLeft,Ie=Pe+F.clientWidth,{scrollLeft:Ve,clientWidth:Fe}=this.container;(this._scrollMode===O.ScrollMode.HORIZONTAL||Pe<Ve||Ie>Ve+Fe)&&(le={left:0,top:0})}(0,O.scrollIntoView)(F,le)}_setScaleUpdatePages(F,le,_e=!1,Pe=!1){if(this._currentScaleValue=le.toString(),J(this,de,Tt).call(this,F))return void(Pe&&this.eventBus.dispatch("scalechanging",{source:this,scale:F,presetValue:le}));this._doc.style.setProperty("--zoom-factor",F),this._doc.style.setProperty("--viewport-scale-factor",F*$.PixelsPerInch.PDF_TO_CSS_UNITS);const Ie={scale:F};for(const Ve of this._pages)Ve.update(Ie);if(this._currentScale=F,!_e){let Fe,Ve=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Ve=this._location.pageNumber,Fe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Ve,destArray:Fe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:F,presetValue:Pe?le:void 0}),this.defaultRenderingQueue&&this.update(),p(this,y,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==O.SpreadMode.NONE&&this._scrollMode!==O.ScrollMode.HORIZONTAL?2:1}_setScale(F,le=!1){let _e=parseFloat(F);if(_e>0)this._setScaleUpdatePages(_e,F,le,!1);else{const Pe=this._pages[this._currentPageNumber-1];if(!Pe)return;let Ie=O.SCROLLBAR_PADDING,Ve=O.VERTICAL_PADDING;this.isInPresentationMode?Ie=Ve=4:this.removePageBorders&&(Ie=Ve=0),this._scrollMode===O.ScrollMode.HORIZONTAL&&([Ie,Ve]=[Ve,Ie]);const Fe=(this.container.clientWidth-Ie)/Pe.width*Pe.scale/this._pageWidthScaleFactor,He=(this.container.clientHeight-Ve)/Pe.height*Pe.scale;switch(F){case"page-actual":_e=1;break;case"page-width":_e=Fe;break;case"page-height":_e=He;break;case"page-fit":_e=Math.min(Fe,He);break;case"auto":const St=(0,O.isPortraitOrientation)(Pe)?Fe:Math.min(He,Fe);_e=Math.min(O.MAX_AUTO_SCALE,St);break;default:return void console.error(`_setScale: "${F}" is an unknown zoom value.`)}this._setScaleUpdatePages(_e,F,le,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(F){if(!this._pageLabels)return null;const le=this._pageLabels.indexOf(F);return le<0?null:le+1}scrollPageIntoView({pageNumber:F,destArray:le=null,allowNegativeOffset:_e=!1,ignoreDestinationZoom:Pe=!1}){if(!this.pdfDocument)return;const Ie=Number.isInteger(F)&&this._pages[F-1];if(!Ie)return void console.error(`scrollPageIntoView: "${F}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!le)return void this._setCurrentPageNumber(F,!0);let sn,Ae,Ve=0,Fe=0,He=0,St=0;const me=Ie.rotation%180!=0,be=(me?Ie.height:Ie.width)/Ie.scale/$.PixelsPerInch.PDF_TO_CSS_UNITS,Xe=(me?Ie.width:Ie.height)/Ie.scale/$.PixelsPerInch.PDF_TO_CSS_UNITS;let et=0;switch(le[1].name){case"XYZ":Ve=le[2],Fe=le[3],et=le[4],Ve=null!==Ve?Ve:0,Fe=null!==Fe?Fe:Xe;break;case"Fit":case"FitB":et="page-fit";break;case"FitH":case"FitBH":Fe=le[2],et="page-width",null===Fe&&this._location?(Ve=this._location.left,Fe=this._location.top):("number"!=typeof Fe||Fe<0)&&(Fe=Xe);break;case"FitV":case"FitBV":Ve=le[2],He=be,St=Xe,et="page-height";break;case"FitR":Ve=le[2],Fe=le[3],He=le[4]-Ve,St=le[5]-Fe,sn=(this.container.clientWidth-(this.removePageBorders?0:O.SCROLLBAR_PADDING))/He/$.PixelsPerInch.PDF_TO_CSS_UNITS,Ae=(this.container.clientHeight-(this.removePageBorders?0:O.VERTICAL_PADDING))/St/$.PixelsPerInch.PDF_TO_CSS_UNITS,et=Math.min(Math.abs(sn),Math.abs(Ae));break;default:return void console.error(`scrollPageIntoView: "${le[1].name}" is not a valid destination type.`)}if(Pe||(et&&et!==this._currentScale?this.currentScaleValue=et:this._currentScale===O.UNKNOWN_SCALE&&(this.currentScaleValue=O.DEFAULT_SCALE_VALUE)),"page-fit"===et&&!le[4])return void this._scrollIntoView({pageDiv:Ie.div,pageNumber:F});const Pt=[Ie.viewport.convertToViewportPoint(Ve,Fe),Ie.viewport.convertToViewportPoint(Ve+He,Fe+St)];let yt=Math.min(Pt[0][0],Pt[1][0]),Nt=Math.min(Pt[0][1],Pt[1][1]);_e||(yt=Math.max(yt,0),Nt=Math.max(Nt,0)),this._scrollIntoView({pageDiv:Ie.div,pageSpot:{left:yt,top:Nt},pageNumber:F})}_updateLocation(F){const le=this._currentScale,_e=this._currentScaleValue,Pe=parseFloat(_e)===le?Math.round(1e4*le)/100:_e,Ie=F.id;let Ve="#page="+Ie;Ve+="&zoom="+Pe;const He=this.container,St=this._pages[Ie-1].getPagePoint(He.scrollLeft-F.x,He.scrollTop-F.y),sn=Math.round(St[0]),Ae=Math.round(St[1]);Ve+=","+sn+","+Ae,this._location={pageNumber:Ie,scale:Pe,top:Ae,left:sn,rotation:this._pagesRotation,pdfOpenParams:Ve}}update(){const F=this._getVisiblePages(),le=F.views,_e=le.length;if(0===_e)return;const Pe=Math.max(10,2*_e+1);if(H(this,m).resize(Pe,F.ids),this.renderingQueue.renderHighestPriority(F),!this.isInPresentationMode){const Ie=this._spreadMode===O.SpreadMode.NONE&&(this._scrollMode===O.ScrollMode.PAGE||this._scrollMode===O.ScrollMode.VERTICAL);let Ve=this._currentPageNumber,Fe=!1;for(const He of le){if(He.percent<100)break;if(He.id===Ve&&Ie){Fe=!0;break}}Fe||(Ve=le[0].id),this._setCurrentPageNumber(Ve)}this._updateLocation(F.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(F){return this.container.contains(F)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===O.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===O.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const F=this._pages[this._currentPageNumber-1],le=F.div,_e={id:F.id,x:le.offsetLeft+le.clientLeft,y:le.offsetTop+le.clientTop,view:F};return{first:_e,last:_e,views:[_e],ids:new Set([F.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const F=this._scrollMode===O.ScrollMode.PAGE?H(this,S).pages:this._pages,le=this._scrollMode===O.ScrollMode.HORIZONTAL;return(0,O.getVisibleElements)({scrollEl:this.container,views:F,sortByVisibility:!0,horizontal:le,rtl:le&&this._isContainerRtl})}isPageVisible(F){return!!this.pdfDocument&&(Number.isInteger(F)&&F>0&&F<=this.pagesCount?this._getVisiblePages().ids.has(F):(console.error(`isPageVisible: "${F}" is not a valid page.`),!1))}isPageCached(F){if(!this.pdfDocument)return!1;if(!(Number.isInteger(F)&&F>0&&F<=this.pagesCount))return console.error(`isPageCached: "${F}" is not a valid page.`),!1;const le=this._pages[F-1];return H(this,m).has(le)}cleanup(){for(let F=0,le=this._pages.length;F<le;F++)this._pages[F]&&this._pages[F].renderingState!==O.RenderingStates.FINISHED&&this._pages[F].reset()}_cancelRendering(){for(let F=0,le=this._pages.length;F<le;F++)this._pages[F]&&this._pages[F].cancelRendering()}forceRendering(F){const le=F||this._getVisiblePages(),_e=J(this,fe,tt).call(this,le),Ie=this.renderingQueue.getHighestPriority(le,this._pages,_e,this._spreadMode!==O.SpreadMode.NONE&&this._scrollMode!==O.ScrollMode.HORIZONTAL);return J(this,Ee,an).call(this,le.ids),!!Ie&&(J(this,ue,xt).call(this,Ie).then(()=>{this.renderingQueue.renderView(Ie)}),!0)}createTextLayerBuilder(F,le,_e,Pe=!1,Ie,Ve){return new x.TextLayerBuilder({textLayerDiv:F,eventBus:Ie,pageIndex:le,viewport:_e,enhanceTextSelection:!this.isInPresentationMode&&Pe,highlighter:Ve})}createTextHighlighter(F,le){return new B.TextHighlighter({eventBus:le,pageIndex:F,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(F,le,_e=null,Pe="",Ie=!0,Ve=g.NullL10n,Fe=null,He=null,St=null,sn=null,Ae=null){return new N.AnnotationLayerBuilder({pageDiv:F,pdfPage:le,annotationStorage:_e||this.pdfDocument?.annotationStorage,imageResourcesPath:Pe,renderForms:Ie,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Ve,enableScripting:Fe??this.enableScripting,hasJSActionsPromise:He||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:sn||this.pdfDocument?.getFieldObjects(),mouseState:St||this._scriptingManager?.mouseState,annotationCanvasMap:Ae})}createXfaLayerBuilder(F,le,_e=null){return new C.XfaLayerBuilder({pageDiv:F,pdfPage:le,annotationStorage:_e||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(F){return new A.StructTreeLayerBuilder({pdfPage:F})}get hasEqualPageSizes(){const F=this._pages[0];for(let le=1,_e=this._pages.length;le<_e;++le){const Pe=this._pages[le];if(Pe.width!==F.width||Pe.height!==F.height)return!1}return!0}getPagesOverview(){return this._pages.map(F=>{const le=F.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,O.isPortraitOrientation)(le)?{width:le.width,height:le.height,rotation:le.rotation}:{width:le.height,height:le.width,rotation:(le.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(F){if(!(F instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${F}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=F;const le={optionalContentConfigPromise:F};for(const _e of this._pages)_e.update(le);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:F})}get scrollMode(){return this._scrollMode}set scrollMode(F){if(this._scrollMode!==F){if(!(0,O.isValidScrollMode)(F))throw new Error(`Invalid scroll mode: ${F}`);this.pagesCount>Q.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=F,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:F}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(F=null){const le=this._scrollMode,_e=this.viewer;_e.classList.toggle("scrollHorizontal",le===O.ScrollMode.HORIZONTAL),_e.classList.toggle("scrollWrapped",le===O.ScrollMode.WRAPPED),this.pdfDocument&&F&&(le===O.ScrollMode.PAGE?J(this,Y,Oe).call(this):this._previousScrollMode===O.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(F,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(F){if(this._spreadMode!==F){if(!(0,O.isValidSpreadMode)(F))throw new Error(`Invalid spread mode: ${F}`);this._spreadMode=F,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:F}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(F=null){if(!this.pdfDocument)return;const le=this.viewer,_e=this._pages;if(this._scrollMode===O.ScrollMode.PAGE)J(this,Y,Oe).call(this);else if(le.textContent="",this._spreadMode===O.SpreadMode.NONE)for(let Pe=0,Ie=_e.length;Pe<Ie;++Pe)le.appendChild(_e[Pe].div);else{const Pe=this._spreadMode-1;let Ie=null;for(let Ve=0,Fe=_e.length;Ve<Fe;++Ve)null===Ie?(Ie=document.createElement("div"),Ie.className="spread",le.appendChild(Ie)):Ve%2===Pe&&(Ie=Ie.cloneNode(!1),le.appendChild(Ie)),Ie.appendChild(_e[Ve].div)}F&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(F,!0),this.update())}_getPageAdvance(F,le=!1){switch(this._scrollMode){case O.ScrollMode.WRAPPED:{const{views:_e}=this._getVisiblePages(),Pe=new Map;for(const{id:Ie,y:Ve,percent:Fe,widthPercent:He}of _e){if(0===Fe||He<100)continue;let St=Pe.get(Ve);St||Pe.set(Ve,St||=[]),St.push(Ie)}for(const Ie of Pe.values()){const Ve=Ie.indexOf(F);if(-1===Ve)continue;const Fe=Ie.length;if(1===Fe)break;if(le)for(let He=Ve-1,St=0;He>=St;He--){const Ae=Ie[He+1]-1;if(Ie[He]<Ae)return F-Ae}else for(let He=Ve+1,St=Fe;He<St;He++){const Ae=Ie[He-1]+1;if(Ie[He]>Ae)return Ae-F}if(le){const He=Ie[0];if(He<F)return F-He+1}else{const He=Ie[Fe-1];if(He>F)return He-F+1}break}break}case O.ScrollMode.HORIZONTAL:break;case O.ScrollMode.PAGE:case O.ScrollMode.VERTICAL:{if(this._spreadMode===O.SpreadMode.NONE)break;const _e=this._spreadMode-1;if(le&&F%2!==_e)break;if(!le&&F%2===_e)break;const{views:Pe}=this._getVisiblePages(),Ie=le?F-1:F+1;for(const{id:Ve,percent:Fe,widthPercent:He}of Pe)if(Ve===Ie){if(Fe>0&&100===He)return 2;break}break}}return 1}nextPage(){const F=this._currentPageNumber,le=this.pagesCount;if(F>=le)return!1;const _e=this._getPageAdvance(F,!1)||1;return this.currentPageNumber=Math.min(F+_e,le),!0}previousPage(){const F=this._currentPageNumber;if(F<=1)return!1;const le=this._getPageAdvance(F,!0)||1;return this.currentPageNumber=Math.max(F-le,1),!0}increaseScale(F=1){let le=this._currentScale;do{le=(le*O.DEFAULT_SCALE_DELTA).toFixed(2),le=Math.ceil(10*le)/10,le=Math.min(O.MAX_SCALE,le)}while(--F>0&&le<O.MAX_SCALE);this.currentScaleValue=le}decreaseScale(F=1){let le=this._currentScale;do{le=(le/O.DEFAULT_SCALE_DELTA).toFixed(2),le=Math.floor(10*le)/10,le=Math.max(O.MIN_SCALE,le)}while(--F>0&&le>O.MIN_SCALE);this.currentScaleValue=le}}function Be(ye){ye&&(ye.includes($.PermissionFlag.COPY)||this.viewer.classList.add(K),!ye.includes($.PermissionFlag.MODIFY_ANNOTATIONS)&&!ye.includes($.PermissionFlag.FILL_INTERACTIVE_FORMS)&&H(this,T)===$.AnnotationMode.ENABLE_FORMS&&(p(this,w,H(this,T)),p(this,T,$.AnnotationMode.ENABLE)))}function $e(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ye=new Promise(F=>{p(this,L,()=>{"hidden"===document.visibilityState&&(F(),document.removeEventListener("visibilitychange",H(this,L)),p(this,L,null))}),document.addEventListener("visibilitychange",H(this,L))});return Promise.race([this._onePageRenderedCapability.promise,ye])}function Oe(){if(this._scrollMode!==O.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ye=this._currentPageNumber,F=H(this,S),le=this.viewer;if(le.textContent="",F.pages.length=0,this._spreadMode===O.SpreadMode.NONE){const _e=this._pages[ye-1];if(this.isInPresentationMode){const Pe=document.createElement("div");Pe.className="spread";const Ie=document.createElement("div");Ie.className="dummyPage",Ie.style.height=`${this.container.clientHeight}px`,Pe.appendChild(Ie),Pe.appendChild(_e.div),le.appendChild(Pe)}else le.appendChild(_e.div);F.pages.push(_e)}else{const _e=new Set,Pe=this._spreadMode-1;ye%2!==Pe?(_e.add(ye-1),_e.add(ye)):(_e.add(ye-2),_e.add(ye-1));let Ie=null;for(const Ve of _e){const Fe=this._pages[Ve];Fe&&(null===Ie?(Ie=document.createElement("div"),Ie.className="spread",le.appendChild(Ie)):Ve%2===Pe&&(Ie=Ie.cloneNode(!1),le.appendChild(Ie)),Ie.appendChild(Fe.div),F.pages.push(Fe))}}F.scrollDown=ye>=F.previousPageNumber,F.previousPageNumber=ye}function Tt(ye){return(!this.isInPresentationMode||this.container.clientHeight===H(this,y))&&(ye===this._currentScale||Math.abs(ye-this._currentScale)<1e-15)}function xt(ye){return We.apply(this,arguments)}function We(){return(We=j(function*(ye){if(ye.pdfPage)return ye.pdfPage;try{const F=yield this.pdfDocument.getPage(ye.id);return ye.pdfPage||ye.setPdfPage(F),this.linkService._cachedPageNumber?.(F.ref)||this.linkService.cachePageRef(ye.id,F.ref),F}catch(F){return console.error("Unable to get page for page view",F),null}})).apply(this,arguments)}function tt(ye){if(1===ye.first?.id)return!0;if(ye.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case O.ScrollMode.PAGE:return H(this,S).scrollDown;case O.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function an(ye){for(const F of ye)this._pages[F-1]?.toggleLoadingIconSpinner(!0);for(const F of H(this,m))ye.has(F.id)||F.toggleLoadingIconSpinner(!1)}P.BaseViewer=Ne},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.PDFPageView=void 0;var G=k(3),$=k(6),O=k(13),N=k(4);const g=O.compatibilityParams.maxCanvasPixels||16777216;var f=new WeakMap;P.PDFPageView=class I{constructor(A){W(this,f,{writable:!0,value:G.AnnotationMode.ENABLE_FORMS});const B=A.container,x=A.defaultViewport;this.id=A.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=A.scale||$.DEFAULT_SCALE,this.viewport=x,this.pdfPageRotate=x.rotation,this._optionalContentConfigPromise=A.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=A.textLayerMode??$.TextLayerMode.ENABLE,p(this,f,A.annotationMode??G.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=A.imageResourcesPath||"",this.useOnlyCssZoom=A.useOnlyCssZoom||!1,this.maxCanvasPixels=A.maxCanvasPixels||g,this.eventBus=A.eventBus,this.renderingQueue=A.renderingQueue,this.textLayerFactory=A.textLayerFactory,this.annotationLayerFactory=A.annotationLayerFactory,this.xfaLayerFactory=A.xfaLayerFactory,this.textHighlighter=A.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=A.structTreeLayerFactory,this.renderer=A.renderer||$.RendererType.CANVAS,this.l10n=A.l10n||N.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=$.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const C=document.createElement("div");C.className="page",C.style.width=Math.floor(this.viewport.width)+"px",C.style.height=Math.floor(this.viewport.height)+"px",C.setAttribute("data-page-number",this.id),C.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(V=>{C.setAttribute("aria-label",V)}),this.div=C,B?.appendChild(C)}setPdfPage(A){this.pdfPage=A,this.pdfPageRotate=A.rotate,this.viewport=A.getViewport({scale:this.scale*G.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var A=this;return j(function*(){let B=null;try{yield A.annotationLayer.render(A.viewport,"display")}catch(x){B=x}finally{A.eventBus.dispatch("annotationlayerrendered",{source:A,pageNumber:A.id,error:B})}})()}_renderXfaLayer(){var A=this;return j(function*(){let B=null;try{const x=yield A.xfaLayer.render(A.viewport,"display");A.textHighlighter&&A._buildXfaTextContentItems(x.textDivs)}catch(x){B=x}finally{A.eventBus.dispatch("xfalayerrendered",{source:A,pageNumber:A.id,error:B})}})()}_buildXfaTextContentItems(A){var B=this;return j(function*(){const x=yield B.pdfPage.getTextContent(),C=[];for(const V of x.items)C.push(V.str);B.textHighlighter.setTextMapping(A,C),B.textHighlighter.enable()})()}_resetZoomLayer(A=!1){if(!this.zoomLayer)return;const B=this.zoomLayer.firstChild;this.paintedViewportMap.delete(B),B.width=0,B.height=0,A&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:A=!1,keepAnnotationLayer:B=!1,keepXfaLayer:x=!1}={}){this.cancelRendering({keepAnnotationLayer:B,keepXfaLayer:x}),this.renderingState=$.RenderingStates.INITIAL;const C=this.div;C.style.width=Math.floor(this.viewport.width)+"px",C.style.height=Math.floor(this.viewport.height)+"px";const V=C.childNodes,K=A&&this.zoomLayer||null,Q=B&&this.annotationLayer?.div||null,te=x&&this.xfaLayer?.div||null;for(let ce=V.length-1;ce>=0;ce--){const ge=V[ce];switch(ge){case K:case Q:case te:continue}ge.remove()}C.removeAttribute("data-loaded"),Q&&this.annotationLayer.hide(),te&&this.xfaLayer.hide(),K||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ce=>{this.loadingIconDiv?.setAttribute("aria-label",ce)}),C.appendChild(this.loadingIconDiv)}update({scale:A=0,rotation:B=null,optionalContentConfigPromise:x=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=A||this.scale,"number"==typeof B&&(this.rotation=B),x instanceof Promise&&(this._optionalContentConfigPromise=x);const V=this.scale*G.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:V,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:Q}=document.documentElement;Q.setProperty("--zoom-factor",this.scale),Q.setProperty("--viewport-scale-factor",V)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let K=!1;if(this.canvas&&this.maxCanvasPixels>0){const Q=this.outputScale;(Math.floor(this.viewport.width)*Q.sx|0)*(Math.floor(this.viewport.height)*Q.sy|0)>this.maxCanvasPixels&&(K=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&K)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:A=!1,keepXfaLayer:B=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!A||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!B||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:A,redrawAnnotationLayer:B=!1,redrawXfaLayer:x=!1}){const C=this.viewport.width,V=this.viewport.height,K=this.div;A.style.width=A.parentNode.style.width=K.style.width=Math.floor(C)+"px",A.style.height=A.parentNode.style.height=K.style.height=Math.floor(V)+"px";const Q=this.viewport.rotation-this.paintedViewportMap.get(A).rotation,te=Math.abs(Q);let ce=1,ge=1;if((90===te||270===te)&&(ce=V/C,ge=C/V),A.style.transform=`rotate(${Q}deg) scale(${ce}, ${ge})`,this.textLayer){const R=this.textLayer.viewport,m=Math.abs(this.viewport.rotation-R.rotation);let T=C/R.width;(90===m||270===m)&&(T=C/R.height);const w=this.textLayer.textLayerDiv;let d,y;switch(m){case 0:d=y=0;break;case 90:d=0,y="-"+w.style.height;break;case 180:d="-"+w.style.width,y="-"+w.style.height;break;case 270:d="-"+w.style.width,y=0;break;default:console.error("Bad rotation value.")}w.style.transform=`rotate(${m}deg) scale(${T}) translate(${d}, ${y})`,w.style.transformOrigin="0% 0%"}B&&this.annotationLayer&&this._renderAnnotationLayer(),x&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(A,B){return this.viewport.convertToPdfPoint(A,B)}toggleLoadingIconSpinner(A=!1){this.loadingIconDiv?.classList.toggle("notVisible",!A)}draw(){var A=this;this.renderingState!==$.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:B,pdfPage:x}=this;if(!x)return this.renderingState=$.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=$.RenderingStates.RUNNING;const C=document.createElement("div");C.style.width=B.style.width,C.style.height=B.style.height,C.classList.add("canvasWrapper"),this.annotationLayer?.div?B.insertBefore(C,this.annotationLayer.div):B.appendChild(C);let V=null;if(this.textLayerMode!==$.TextLayerMode.DISABLE&&this.textLayerFactory){const ge=document.createElement("div");ge.className="textLayer",ge.style.width=C.style.width,ge.style.height=C.style.height,this.annotationLayer?.div?B.insertBefore(ge,this.annotationLayer.div):B.appendChild(ge),V=this.textLayerFactory.createTextLayerBuilder(ge,this.id-1,this.viewport,this.textLayerMode===$.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=V,H(this,f)!==G.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(B,x,null,this.imageResourcesPath,H(this,f)===G.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&B.appendChild(this.xfaLayer.div);let K=null;this.renderingQueue&&(K=ge=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=$.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=$.RenderingStates.RUNNING,ge()});ge()});const Q=function(){var ge=j(function*(R=null){if(te===A.paintTask&&(A.paintTask=null),R instanceof G.RenderingCancelledException)A._renderError=null;else if(A._renderError=R,A.renderingState=$.RenderingStates.FINISHED,A.loadingIconDiv&&(A.loadingIconDiv.remove(),delete A.loadingIconDiv),A._resetZoomLayer(!0),A.eventBus.dispatch("pagerendered",{source:A,pageNumber:A.id,cssTransform:!1,timestamp:performance.now(),error:A._renderError}),R)throw R});return function(){return ge.apply(this,arguments)}}(),te=this.renderer===$.RendererType.SVG?this.paintOnSvg(C):this.paintOnCanvas(C);te.onRenderContinue=K,this.paintTask=te;const ce=te.promise.then(()=>Q(null).then(()=>{if(V){const ge=x.streamTextContent({includeMarkedContent:!0});V.setTextContentStream(ge),V.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ge){return Q(ge)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(B,x,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ge=>{ge.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(R=>{if(!R||!this.canvas)return;const v=this.structTreeLayer.render(R);v.classList.add("structTree"),this.canvas.appendChild(v)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(x)),B.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ce}paintOnCanvas(A){const B=(0,G.createPromiseCapability)(),x={promise:B.promise,onRenderContinue(w){w()},cancel(){T.cancel()}},C=this.viewport,V=document.createElement("canvas");V.hidden=!0;let K=!0;const Q=function(){K&&(V.hidden=!1,K=!1)};A.appendChild(V),this.canvas=V,V.mozOpaque=!0;const te=V.getContext("2d",{alpha:!1}),ce=this.outputScale=new $.OutputScale;if(this.useOnlyCssZoom){const w=C.clone({scale:G.PixelsPerInch.PDF_TO_CSS_UNITS});ce.sx*=w.width/C.width,ce.sy*=w.height/C.height}if(this.maxCanvasPixels>0){const d=Math.sqrt(this.maxCanvasPixels/(C.width*C.height));ce.sx>d||ce.sy>d?(ce.sx=d,ce.sy=d,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ge=(0,$.approximateFraction)(ce.sx),R=(0,$.approximateFraction)(ce.sy);V.width=(0,$.roundToDivide)(C.width*ce.sx,ge[0]),V.height=(0,$.roundToDivide)(C.height*ce.sy,R[0]),V.style.width=(0,$.roundToDivide)(C.width,ge[1])+"px",V.style.height=(0,$.roundToDivide)(C.height,R[1])+"px",this.paintedViewportMap.set(V,C);const m={canvasContext:te,transform:ce.scaled?[ce.sx,0,0,ce.sy,0,0]:null,viewport:this.viewport,annotationMode:H(this,f),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},T=this.pdfPage.render(m);return T.onContinue=function(w){Q(),x.onRenderContinue?x.onRenderContinue(w):w()},T.promise.then(function(){Q(),B.resolve()},function(w){Q(),B.reject(w)}),x}paintOnSvg(A){let B=!1;const x=()=>{if(B)throw new G.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},C=this.pdfPage,V=this.viewport.clone({scale:G.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:C.getOperatorList({annotationMode:H(this,f)}).then(Q=>(x(),new G.SVGGraphics(C.commonObjs,C.objs).getSVG(Q,V).then(ce=>{x(),this.svg=ce,this.paintedViewportMap.set(ce,V),ce.style.width=A.style.width,ce.style.height=A.style.height,this.renderingState=$.RenderingStates.FINISHED,A.appendChild(ce)}))),onRenderContinue(Q){Q()},cancel(){B=!0}}}setPageLabel(A){this.pageLabel="string"==typeof A?A:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(ne,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.compatibilityParams=P.OptionKind=P.AppOptions=void 0;const k=Object.create(null);P.compatibilityParams=k;{const g=navigator.userAgent||"",f=navigator.platform||"",I=navigator.maxTouchPoints||1,U=/Android/.test(g);(/\b(iPad|iPhone|iPod)(?=;)/.test(g)||"MacIntel"===f&&I>1||U)&&(k.maxCanvasPixels=5242880)}const G={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};P.OptionKind=G;const $={annotationMode:{value:2,kind:G.VIEWER+G.PREFERENCE},cursorToolOnLoad:{value:0,kind:G.VIEWER+G.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:G.VIEWER},defaultZoomValue:{value:"",kind:G.VIEWER+G.PREFERENCE},disableHistory:{value:!1,kind:G.VIEWER},disablePageLabels:{value:!1,kind:G.VIEWER+G.PREFERENCE},enablePermissions:{value:!1,kind:G.VIEWER+G.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:G.VIEWER+G.PREFERENCE},enableScripting:{value:!0,kind:G.VIEWER+G.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:G.VIEWER},externalLinkTarget:{value:0,kind:G.VIEWER+G.PREFERENCE},historyUpdateUrl:{value:!1,kind:G.VIEWER+G.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:G.VIEWER+G.PREFERENCE},imageResourcesPath:{value:"./images/",kind:G.VIEWER},maxCanvasPixels:{value:16777216,compatibility:k.maxCanvasPixels,kind:G.VIEWER},pdfBugEnabled:{value:!1,kind:G.VIEWER+G.PREFERENCE},printResolution:{value:150,kind:G.VIEWER},renderer:{value:"canvas",kind:G.VIEWER},sidebarViewOnLoad:{value:-1,kind:G.VIEWER+G.PREFERENCE},scrollModeOnLoad:{value:-1,kind:G.VIEWER+G.PREFERENCE},spreadModeOnLoad:{value:-1,kind:G.VIEWER+G.PREFERENCE},textLayerMode:{value:1,kind:G.VIEWER+G.PREFERENCE},useOnlyCssZoom:{value:!1,kind:G.VIEWER+G.PREFERENCE},viewerCssTheme:{value:0,kind:G.VIEWER+G.PREFERENCE},viewOnLoad:{value:0,kind:G.VIEWER+G.PREFERENCE},cMapPacked:{value:!0,kind:G.API},cMapUrl:{value:"../web/cmaps/",kind:G.API},disableAutoFetch:{value:!1,kind:G.API+G.PREFERENCE},disableFontFace:{value:!1,kind:G.API+G.PREFERENCE},disableRange:{value:!1,kind:G.API+G.PREFERENCE},disableStream:{value:!1,kind:G.API+G.PREFERENCE},docBaseUrl:{value:"",kind:G.API},enableXfa:{value:!0,kind:G.API+G.PREFERENCE},fontExtraProperties:{value:!1,kind:G.API},isEvalSupported:{value:!0,kind:G.API},maxImageSize:{value:-1,kind:G.API},pdfBug:{value:!1,kind:G.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:G.API},verbosity:{value:1,kind:G.API},workerPort:{value:null,kind:G.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:G.WORKER}};$.disablePreferences={value:!1,kind:G.VIEWER},$.locale={value:navigator.language||"en-US",kind:G.VIEWER},$.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:G.VIEWER},$.renderer.kind+=G.PREFERENCE;const O=Object.create(null);P.AppOptions=class N{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(f){const I=O[f];if(void 0!==I)return I;const U=$[f];return void 0!==U?U.compatibility??U.value:void 0}static getAll(f=null){const I=Object.create(null);for(const U in $){const A=$[U];if(f){if(!(f&A.kind))continue;if(f===G.PREFERENCE){const x=A.value,C=typeof x;if("boolean"===C||"string"===C||"number"===C&&Number.isInteger(x)){I[U]=x;continue}throw new Error(`Invalid type for preference: ${U}`)}}const B=O[U];I[U]=void 0!==B?B:A.compatibility??A.value}return I}static set(f,I){O[f]=I}static setAll(f){for(const I in f)O[I]=f[I]}static remove(f){delete O[f]}static _hasUserOptions(){return Object.keys(O).length>0}}},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.PDFRenderingQueue=void 0;var G=k(3),$=k(6);P.PDFRenderingQueue=class N{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(f){this.pdfViewer=f}setThumbnailViewer(f){this.pdfThumbnailViewer=f}isHighestPriority(f){return this.highestPriorityPage===f.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(f){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(f)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(f,I,U,A=!1){const B=f.views,x=B.length;if(0===x)return null;for(let te=0;te<x;te++){const ce=B[te].view;if(!this.isViewFinished(ce))return ce}const C=f.first.id,V=f.last.id;if(V-C+1>x){const te=f.ids;for(let ce=1,ge=V-C;ce<ge;ce++){const R=U?C+ce:V-ce;if(te.has(R))continue;const v=I[R-1];if(!this.isViewFinished(v))return v}}let K=U?V:C-2,Q=I[K];return Q&&!this.isViewFinished(Q)||A&&(K+=U?1:-1,Q=I[K],Q&&!this.isViewFinished(Q))?Q:null}isViewFinished(f){return f.renderingState===$.RenderingStates.FINISHED}renderView(f){switch(f.renderingState){case $.RenderingStates.FINISHED:return!1;case $.RenderingStates.PAUSED:this.highestPriorityPage=f.renderingId,f.resume();break;case $.RenderingStates.RUNNING:this.highestPriorityPage=f.renderingId;break;case $.RenderingStates.INITIAL:this.highestPriorityPage=f.renderingId,f.draw().finally(()=>{this.renderHighestPriority()}).catch(I=>{I instanceof G.RenderingCancelledException||console.error(`renderView: "${I}"`)})}return!0}}},(ne,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.TextHighlighter=void 0;P.TextHighlighter=class k{constructor({findController:$,eventBus:O,pageIndex:N}){this.findController=$,this.matches=[],this.eventBus=O,this.pageIdx=N,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping($,O){this.textDivs=$,this.textContentItemsStr=O}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=$=>{($.pageIndex===this.pageIdx||-1===$.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches($,O){if(!$)return[];const{textContentItemsStr:N}=this;let g=0,f=0;const I=N.length-1,U=[];for(let A=0,B=$.length;A<B;A++){let x=$[A];for(;g!==I&&x>=f+N[g].length;)f+=N[g].length,g++;g===N.length&&console.error("Could not find a matching mapping");const C={begin:{divIdx:g,offset:x-f}};for(x+=O[A];g!==I&&x>f+N[g].length;)f+=N[g].length,g++;C.end={divIdx:g,offset:x-f},U.push(C)}return U}_renderMatches($){if(0===$.length)return;const{findController:O,pageIdx:N}=this,{textContentItemsStr:g,textDivs:f}=this,I=N===O.selected.pageIdx,U=O.selected.matchIdx;let B=null;const x_offset=void 0;function C(te,ce){const ge=te.divIdx;return f[ge].textContent="",V(ge,0,te.offset,ce)}function V(te,ce,ge,R){let v=f[te];if(v.nodeType===Node.TEXT_NODE){const w=document.createElement("span");v.parentNode.insertBefore(w,v),w.appendChild(v),f[te]=w,v=w}const m=g[te].substring(ce,ge),T=document.createTextNode(m);if(R){const w=document.createElement("span");return w.className=`${R} appended`,w.appendChild(T),v.appendChild(w),R.includes("selected")?w.offsetLeft:0}return v.appendChild(T),0}let K=U,Q=K+1;if(O.state.highlightAll)K=0,Q=$.length;else if(!I)return;for(let te=K;te<Q;te++){const ce=$[te],ge=ce.begin,R=ce.end,v=I&&te===U,m=v?" selected":"";let T=0;if(B&&ge.divIdx===B.divIdx?V(B.divIdx,B.offset,ge.offset):(null!==B&&V(B.divIdx,B.offset,x_offset),C(ge)),ge.divIdx===R.divIdx)T=V(ge.divIdx,ge.offset,R.offset,"highlight"+m);else{T=V(ge.divIdx,ge.offset,x_offset,"highlight begin"+m);for(let w=ge.divIdx+1,d=R.divIdx;w<d;w++)f[w].className="highlight middle"+m;C(R,"highlight end"+m)}B=R,v&&O.scrollMatchIntoView({element:f[ge.divIdx],selectedLeft:T,pageIndex:N,matchIndex:U})}B&&V(B.divIdx,B.offset,x_offset)}_updateMatches(){if(!this.enabled)return;const{findController:$,matches:O,pageIdx:N}=this,{textContentItemsStr:g,textDivs:f}=this;let I=-1;for(let B=0,x=O.length;B<x;B++){const C=O[B];for(let K=Math.max(I,C.begin.divIdx),Q=C.end.divIdx;K<=Q;K++){const te=f[K];te.textContent=g[K],te.className=""}I=C.end.divIdx+1}$?.highlightMatches&&(this.matches=this._convertMatches($.pageMatches[N]||null,$.pageMatchesLength[N]||null),this._renderMatches(this.matches))}}},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.DownloadManager=void 0;var G=k(3);function $(N,g){const f=document.createElement("a");if(!f.click)throw new Error('DownloadManager: "a.click()" is not supported.');f.href=N,f.target="_parent","download"in f&&(f.download=g),(document.body||document.documentElement).appendChild(f),f.click(),f.remove()}P.DownloadManager=class O{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(g,f){(0,G.createValidAbsoluteUrl)(g,"http://example.com")?$(g+"#pdfjs.action=download",f):console.error(`downloadUrl - not a valid URL: ${g}`)}downloadData(g,f,I){$(URL.createObjectURL(new Blob([g],{type:I})),f)}openOrDownloadData(g,f,I){const U=(0,G.isPdfFile)(I),A=U?"application/pdf":"";if(U){let x,B=this._openBlobUrls.get(g);B||(B=URL.createObjectURL(new Blob([f],{type:A})),this._openBlobUrls.set(g,B)),x="?file="+encodeURIComponent(B+"#"+I);try{return window.open(x),!0}catch(C){console.error(`openOrDownloadData: ${C}`),URL.revokeObjectURL(B),this._openBlobUrls.delete(g)}}return this.downloadData(f,I,A),!1}download(g,f,I,U="download"){$(URL.createObjectURL(g),I)}}},(ne,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.WaitOnType=P.EventBus=P.AutomationEventBus=void 0,P.waitOnEventOrTimeout=function G({target:N,name:g,delay:f=0}){return new Promise(function(I,U){if("object"!=typeof N||!g||"string"!=typeof g||!(Number.isInteger(f)&&f>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function A(V){N instanceof $?N._off(g,B):N.removeEventListener(g,B),C&&clearTimeout(C),I(V)}const B=A.bind(null,k.EVENT);N instanceof $?N._on(g,B):N.addEventListener(g,B);const x=A.bind(null,k.TIMEOUT),C=setTimeout(x,f)})};const k={EVENT:"event",TIMEOUT:"timeout"};P.WaitOnType=k;class ${constructor(){this._listeners=Object.create(null)}on(g,f,I=null){this._on(g,f,{external:!0,once:I?.once})}off(g,f,I=null){this._off(g,f,{external:!0,once:I?.once})}dispatch(g,f){const I=this._listeners[g];if(!I||0===I.length)return;let U;for(const{listener:A,external:B,once:x}of I.slice(0))x&&this._off(g,A),B?(U||=[]).push(A):A(f);if(U){for(const A of U)A(f);U=null}}_on(g,f,I=null){(this._listeners[g]||=[]).push({listener:f,external:!0===I?.external,once:!0===I?.once})}_off(g,f,I=null){const U=this._listeners[g];if(U)for(let A=0,B=U.length;A<B;A++)if(U[A].listener===f)return void U.splice(A,1)}}P.EventBus=$;P.AutomationEventBus=class O extends ${dispatch(g,f){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.GenericL10n=void 0,k(19);var G=k(4);const $=document.webL10n;P.GenericL10n=class O{constructor(g){this._lang=g,this._ready=new Promise((f,I)=>{$.setLanguage((0,G.fixupLangCode)(g),()=>{f($)})})}getLanguage(){var g=this;return j(function*(){return(yield g._ready).getLanguage()})()}getDirection(){var g=this;return j(function*(){return(yield g._ready).getDirection()})()}get(g,f=null,I=(0,G.getL10nFallback)(g,f)){var U=this;return j(function*(){return(yield U._ready).get(g,f,I)})()}translate(g){var f=this;return j(function*(){return(yield f._ready).translate(g)})()}}},()=>{document.webL10n=function(ne,P,k){var G={},$="",O="textContent",N="",g={},f="loading",I=!0;function C(w,d,y){d=d||function(D){},y=y||function(){};var S=new XMLHttpRequest;S.open("GET",w,I),S.overrideMimeType&&S.overrideMimeType("text/plain; charset=utf-8"),S.onreadystatechange=function(){4==S.readyState&&(200==S.status||0===S.status?d(S.responseText):y())},S.onerror=y,S.ontimeout=y;try{S.send(null)}catch{y()}}function V(w,d,y,S){var L=w.replace(/[^\/]*$/,"")||"./";function D(Y){return Y.lastIndexOf("\\")<0?Y:Y.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}C(w,function(Y){$+=Y,function E(Y,de){var ue={},fe=/^\s*|\s*$/,Ee=/^\s*#|^\s*$/,Ne=/^\s*\[(.*)\]\s*$/,Be=/^\s*@import\s+url\((.*)\)\s*$/i,$e=/^([^=\s]*)\s*=\s*(.+)$/;function Oe(xt,We,tt){var an=xt.replace(fe,"").split(/[\r\n]+/),ye="*",F=d.split("-",1)[0],le=!1,_e="";!function Pe(){for(;;){if(!an.length)return void tt();var Ie=an.shift();if(!Ee.test(Ie)){if(We){if(_e=Ne.exec(Ie)){ye=_e[1].toLowerCase(),le="*"!==ye&&ye!==d&&ye!==F;continue}if(le)continue;if(_e=Be.exec(Ie))return void Tt(L+_e[1],Pe)}var Ve=Ie.match($e);Ve&&3==Ve.length&&(ue[Ve[1]]=D(Ve[2]))}}}()}function Tt(xt,We){C(xt,function(tt){Oe(tt,!1,We)},function(){console.warn(xt+" not found."),We()})}Oe(Y,!0,function(){de(ue)})}(Y,function(de){for(var ue in de){var fe,Ee,Ne=ue.lastIndexOf(".");Ne>0?(fe=ue.substring(0,Ne),Ee=ue.substring(Ne+1)):(fe=ue,Ee=O),G[fe]||(G[fe]={}),G[fe][Ee]=de[ue]}y&&y()})},S)}function K(w,d){w&&(w=w.toLowerCase()),d=d||function(){},function Q(){G={},$="",N=""}(),N=w;var y=function U(){return P.querySelectorAll('link[type="application/l10n"]')}(),S=y.length;if(0!==S){var Y,de=0;Y=function(){++de>=S&&(d(),f="complete")};for(var fe=0;fe<S;fe++)new ue(y[fe]).load(w,Y)}else{var L=function A(){var w=P.querySelector('script[type="application/l10n"]');return w?JSON.parse(w.innerHTML):null}();if(L&&L.locales&&L.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(G=L.locales[w])){var D=L.default_locale.toLowerCase();for(var E in L.locales){if((E=E.toLowerCase())===w){G=L.locales[w];break}E===D&&(G=L.locales[D])}}d()}else console.log("no resource to load, early way out");f="complete"}function ue(Ne){var Be=Ne.href;this.load=function($e,Oe){V(Be,$e,Oe,function(){console.warn(Be+" not found."),console.warn('"'+$e+'" resource not found'),N="",Oe()})}}}function ce(w,d,y){var S=G[w];if(!S){if(console.warn("#"+w+" is undefined."),!y)return null;S=y}var L={};for(var D in S){var E=S[D];E=R(E=ge(E,d,w,D),d,w),L[D]=E}return L}function ge(w,d,y,S){var D=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(w);if(!D||!D.length)return w;var de,E=D[1],Y=D[2];return d&&Y in d?de=d[Y]:Y in G&&(de=G[Y]),E in g&&(w=(0,g[E])(w,de,y,S)),w}function R(w,d,y){return w.replace(/\{\{\s*(.+?)\s*\}\}/g,function(L,D){return d&&D in d?d[D]:D in G?G[D]:(console.log("argument {{"+D+"}} for #"+y+" is undefined."),L)})}function v(w){var d=function x(w){if(!w)return{};var d=w.getAttribute("data-l10n-id"),y=w.getAttribute("data-l10n-args"),S={};if(y)try{S=JSON.parse(y)}catch{console.warn("could not parse arguments for #"+d)}return{id:d,args:S}}(w);if(d.id){var y=ce(d.id,d.args);if(!y)return void console.warn("#"+d.id+" is undefined.");if(y[O]){if(0===function m(w){if(w.children)return w.children.length;if(typeof w.childElementCount<"u")return w.childElementCount;for(var d=0,y=0;y<w.childNodes.length;y++)d+=1===w.nodeType?1:0;return d}(w))w[O]=y[O];else{for(var S=w.childNodes,L=!1,D=0,E=S.length;D<E;D++)3===S[D].nodeType&&/\S/.test(S[D].nodeValue)&&(L?S[D].nodeValue="":(S[D].nodeValue=y[O],L=!0));if(!L){var Y=P.createTextNode(y[O]);w.insertBefore(Y,w.firstChild)}}delete y[O]}for(var de in y)w[de]=y[de]}}return g.plural=function(w,d,y,S){var L=parseFloat(d);if(isNaN(L)||S!=O)return w;g._pluralRules||(g._pluralRules=function te(w){function y(E,Y){return-1!==Y.indexOf(E)}function S(E,Y,de){return Y<=E&&E<=de}var L={0:function(E){return"other"},1:function(E){return S(E%100,3,10)?"few":0===E?"zero":S(E%100,11,99)?"many":2==E?"two":1==E?"one":"other"},2:function(E){return 0!==E&&E%10==0?"many":2==E?"two":1==E?"one":"other"},3:function(E){return 1==E?"one":"other"},4:function(E){return S(E,0,1)?"one":"other"},5:function(E){return S(E,0,2)&&2!=E?"one":"other"},6:function(E){return 0===E?"zero":E%10==1&&E%100!=11?"one":"other"},7:function(E){return 2==E?"two":1==E?"one":"other"},8:function(E){return S(E,3,6)?"few":S(E,7,10)?"many":2==E?"two":1==E?"one":"other"},9:function(E){return 0===E||1!=E&&S(E%100,1,19)?"few":1==E?"one":"other"},10:function(E){return S(E%10,2,9)&&!S(E%100,11,19)?"few":E%10!=1||S(E%100,11,19)?"other":"one"},11:function(E){return S(E%10,2,4)&&!S(E%100,12,14)?"few":E%10==0||S(E%10,5,9)||S(E%100,11,14)?"many":E%10==1&&E%100!=11?"one":"other"},12:function(E){return S(E,2,4)?"few":1==E?"one":"other"},13:function(E){return S(E%10,2,4)&&!S(E%100,12,14)?"few":1!=E&&S(E%10,0,1)||S(E%10,5,9)||S(E%100,12,14)?"many":1==E?"one":"other"},14:function(E){return S(E%100,3,4)?"few":E%100==2?"two":E%100==1?"one":"other"},15:function(E){return 0===E||S(E%100,2,10)?"few":S(E%100,11,19)?"many":1==E?"one":"other"},16:function(E){return E%10==1&&11!=E?"one":"other"},17:function(E){return 3==E?"few":0===E?"zero":6==E?"many":2==E?"two":1==E?"one":"other"},18:function(E){return 0===E?"zero":S(E,0,2)&&0!==E&&2!=E?"one":"other"},19:function(E){return S(E,2,10)?"few":S(E,0,1)?"one":"other"},20:function(E){return!S(E%10,3,4)&&E%10!=9||S(E%100,10,19)||S(E%100,70,79)||S(E%100,90,99)?E%1e6==0&&0!==E?"many":E%10!=2||y(E%100,[12,72,92])?E%10!=1||y(E%100,[11,71,91])?"other":"one":"two":"few"},21:function(E){return 0===E?"zero":1==E?"one":"other"},22:function(E){return S(E,0,1)||S(E,11,99)?"one":"other"},23:function(E){return S(E%10,1,2)||E%20==0?"one":"other"},24:function(E){return S(E,3,10)||S(E,13,19)?"few":y(E,[2,12])?"two":y(E,[1,11])?"one":"other"}},D={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[w.replace(/-.*$/,"")];return D in L?L[D]:(console.warn("plural form unknown for ["+w+"]"),function(){return"other"})}(N));var D="["+g._pluralRules(L)+"]";return 0===L&&y+"[zero]"in G?w=G[y+"[zero]"][S]:1==L&&y+"[one]"in G?w=G[y+"[one]"][S]:2==L&&y+"[two]"in G?w=G[y+"[two]"][S]:y+D in G?w=G[y+D][S]:y+"[other]"in G&&(w=G[y+"[other]"][S]),w},{get:function(w,d,y){var D,S=w.lastIndexOf("."),L=O;S>0&&(L=w.substring(S+1),w=w.substring(0,S)),y&&((D={})[L]=y);var E=ce(w,d,D);return E&&L in E?E[L]:"{{"+w+"}}"},getData:function(){return G},getText:function(){return $},getLanguage:function(){return N},setLanguage:function(w,d){K(w,function(){d&&d()})},getDirection:function(){var d=N.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(d)>=0?"rtl":"ltr"},translate:function T(w){for(var d=function B(w){return w?w.querySelectorAll("*[data-l10n-id]"):[]}(w=w||P.documentElement),y=d.length,S=0;S<y;S++)v(d[S]);v(w)},getReadyState:function(){return f},ready:function(w){w&&("complete"==f||"interactive"==f?ne.setTimeout(function(){w()}):P.addEventListener&&P.addEventListener("localized",function d(){P.removeEventListener("localized",d),w()}))}}}(window,document)},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.PDFFindController=P.FindState=void 0;var G=k(6),$=k(3),O=k(21);const N={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};P.FindState=N;const U={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},A=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),B=[...A.values()].map(R=>String.fromCharCode(R)).join(""),x=/\p{M}+/gu,C=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,V=/([^\p{M}])\p{M}*$/u,K=/^\p{M}*([^\p{M}])/u;let Q=null;function te(R){if(!Q){const E=Object.keys(U).join("");Q=new RegExp(`([${E}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const v=[];let m;for(;null!==(m=x.exec(R));)v.push([m[0].length,m.index]);let T=R.normalize("NFD");const w=[[0,0]];let d=0,y=0,S=0,L=0,D=!1;return T=T.replace(Q,(E,Y,de,ue,fe,Ee)=>{if(Ee-=S,Y){const Ne=U[E],Be=Ne.length;for(let $e=1;$e<Be;$e++)w.push([Ee-y+$e,y-$e]);return y-=Be-1,Ne}if(de){const Ne=de.endsWith("\n"),Be=Ne?de.length-2:de.length;D=!0;let $e=Be;Ee+L===v[d]?.[1]&&($e-=v[d][0],++d);for(let Oe=1;Oe<$e+1;Oe++)w.push([Ee-1-y+Oe,y-Oe]);return y-=$e,S+=$e,Ne?(w.push([(Ee+=Be-1)-y+1,1+y]),y+=1,S+=1,L+=1,de.slice(0,Be)):de}return ue?(w.push([Ee-y+1,1+y]),y+=1,S+=1,L+=1,ue.charAt(0)):(w.push([Ee-y+1,y-1]),y-=1,S+=1,L+=1," ")}),w.push([T.length,y]),[T,w,D]}function ce(R,v,m){if(!R)return[v,m];const T=v,w=v+m;let d=(0,G.binarySearchFirstItem)(R,S=>S[0]>=T);R[d][0]>T&&--d;let y=(0,G.binarySearchFirstItem)(R,S=>S[0]>=w,d);return R[y][0]>w&&--y,[T+R[d][1],m+R[y][1]-R[d][1]]}P.PDFFindController=class ge{constructor({linkService:v,eventBus:m}){this._linkService=v,this._eventBus=m,this._reset(),m._on("find",this._onFind.bind(this)),m._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(T,w)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const d=Object.assign(Object.create(null),w,{type:T.substring(4)});this._onFind(d)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(v){this._pdfDocument&&this._reset(),v&&(this._pdfDocument=v,this._firstPageCapability.resolve())}_onFind(v){if(!v)return;const m=this._pdfDocument,{type:T}=v;(null===this._state||this._shouldDirtyMatch(v))&&(this._dirtyMatch=!0),this._state=v,"highlightallchange"!==T&&this._updateUIState(N.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||m&&this._pdfDocument!==m)return;this._extractText();const w=!this._highlightMatches,d=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),T?this._dirtyMatch?this._nextMatch():"again"===T?(this._nextMatch(),w&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===T?(d?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:v=null,selectedLeft:m=0,pageIndex:T=-1,matchIndex:w=-1}){this._scrollMatches&&v&&-1!==w&&w===this._selected.matchIdx&&-1!==T&&T===this._selected.pageIdx&&(this._scrollMatches=!1,(0,G.scrollIntoView)(v,{top:-50,left:m+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,$.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=te(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(v){if(v.query!==this._state.query)return!0;switch(v.type){case"again":const m=this._selected.pageIdx+1,T=this._linkService;return m>=1&&m<=T.pagesCount&&m!==T.page&&!T.isPageVisible(m);case"highlightallchange":return!1}return!0}_isEntireWord(v,m,T){let w=v.slice(0,m).match(V);if(w){const d=v.charCodeAt(m),y=w[1].charCodeAt(0);if((0,O.getCharacterType)(d)===(0,O.getCharacterType)(y))return!1}if(w=v.slice(m+T).match(K),w){const d=v.charCodeAt(m+T-1),y=w[1].charCodeAt(0);if((0,O.getCharacterType)(d)===(0,O.getCharacterType)(y))return!1}return!0}_calculateRegExpMatch(v,m,T,w){const d=[],y=[],S=this._pageDiffs[T];let L;for(;null!==(L=v.exec(w));){if(m&&!this._isEntireWord(w,L.index,L[0].length))continue;const[D,E]=ce(S,L.index,L[0].length);E&&(d.push(D),y.push(E))}this._pageMatches[T]=d,this._pageMatchesLength[T]=y}_convertToRegExpString(v,m){const{matchDiacritics:T}=this._state;let w=!1;const d="[ ]*";return(v=v.replace(C,(y,S,L,D,E,Y)=>S?`[ ]*\\${S}[ ]*`:L?`[ ]*${L}[ ]*`:D?"[ ]+":T?E||Y:E?A.has(E.charCodeAt(0))?E:"":m?(w=!0,`${Y}\\p{M}*`):Y)).endsWith(d)&&(v=v.slice(0,v.length-d.length)),T&&m&&(w=!0,v=`${v}(?=[${B}]|[^\\p{M}]|$)`),[w,v]}_calculateMatch(v){let m=this._query;if(0===m.length)return;const{caseSensitive:T,entireWord:w,phraseSearch:d}=this._state,y=this._pageContents[v],S=this._hasDiacritics[v];let L=!1;if(d)[L,m]=this._convertToRegExpString(m,S);else{const Y=m.match(/\S+/g);Y&&(m=Y.sort().reverse().map(de=>{const[ue,fe]=this._convertToRegExpString(de,S);return L||=ue,`(${fe})`}).join("|"))}m=new RegExp(m,`g${L?"u":""}${T?"":"i"}`),this._calculateRegExpMatch(m,w,v,y),this._state.highlightAll&&this._updatePage(v),this._resumePageIdx===v&&(this._resumePageIdx=null,this._nextPageMatch());const E=this._pageMatches[v].length;E>0&&(this._matchesCountTotal+=E,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let v=Promise.resolve();for(let m=0,T=this._linkService.pagesCount;m<T;m++){const w=(0,$.createPromiseCapability)();this._extractTextPromises[m]=w.promise,v=v.then(()=>this._pdfDocument.getPage(m+1).then(d=>d.getTextContent()).then(d=>{const y=d.items,S=[];for(let L=0,D=y.length;L<D;L++)S.push(y[L].str),y[L].hasEOL&&S.push("\n");[this._pageContents[m],this._pageDiffs[m],this._hasDiacritics[m]]=te(S.join("")),w.resolve(m)},d=>{console.error(`Unable to get text content for page ${m+1}`,d),this._pageContents[m]="",this._pageDiffs[m]=null,this._hasDiacritics[m]=!1,w.resolve(m)}))}}_updatePage(v){this._scrollMatches&&this._selected.pageIdx===v&&(this._linkService.page=v+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:v})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const v=this._state.findPrevious,m=this._linkService.page-1,T=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=m,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let d=0;d<T;d++)this._pendingFindMatches.has(d)||(this._pendingFindMatches.add(d),this._extractTextPromises[d].then(y=>{this._pendingFindMatches.delete(y),this._calculateMatch(y)}))}if(""===this._query)return void this._updateUIState(N.FOUND);if(this._resumePageIdx)return;const w=this._offset;if(this._pagesToSearch=T,null!==w.matchIdx){if(!v&&w.matchIdx+1<this._pageMatches[w.pageIdx].length||v&&w.matchIdx>0)return w.matchIdx=v?w.matchIdx-1:w.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(v)}this._nextPageMatch()}_matchesReady(v){const m=this._offset,T=v.length,w=this._state.findPrevious;return T?(m.matchIdx=w?T-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(w),!!(m.wrapped&&(m.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let v=null;do{const m=this._offset.pageIdx;if(v=this._pageMatches[m],!v){this._resumePageIdx=m;break}}while(!this._matchesReady(v))}_advanceOffsetPage(v){const m=this._offset,T=this._linkService.pagesCount;m.pageIdx=v?m.pageIdx-1:m.pageIdx+1,m.matchIdx=null,this._pagesToSearch--,(m.pageIdx>=T||m.pageIdx<0)&&(m.pageIdx=v?T-1:0,m.wrapped=!0)}_updateMatch(v=!1){let m=N.NOT_FOUND;const T=this._offset.wrapped;if(this._offset.wrapped=!1,v){const w=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,m=T?N.WRAPPED:N.FOUND,-1!==w&&w!==this._selected.pageIdx&&this._updatePage(w)}this._updateUIState(m,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(v){const m=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||m&&this._pdfDocument!==m||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(N.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:v,matchIdx:m}=this._selected;let T=0,w=this._matchesCountTotal;if(-1!==m){for(let d=0;d<v;d++)T+=this._pageMatches[d]?.length||0;T+=m+1}return(T<1||T>w)&&(T=w=0),{current:T,total:w}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(v,m=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:v,previous:m,matchesCount:this._requestMatchesCount(),rawQuery:this._state?.query??null})}}},(ne,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.CharacterType=void 0,P.getCharacterType=function x(C){return function G(C){return C<11904}(C)?function $(C){return 0==(65408&C)}(C)?function g(C){return 32===C||9===C||13===C||10===C}(C)?k.SPACE:function O(C){return C>=97&&C<=122||C>=65&&C<=90}(C)||function N(C){return C>=48&&C<=57}(C)||95===C?k.ALPHA_LETTER:k.PUNCT:function B(C){return 3584==(65408&C)}(C)?k.THAI_LETTER:160===C?k.SPACE:k.ALPHA_LETTER:function f(C){return C>=13312&&C<=40959||C>=63744&&C<=64255}(C)?k.HAN_LETTER:function I(C){return C>=12448&&C<=12543}(C)?k.KATAKANA_LETTER:function U(C){return C>=12352&&C<=12447}(C)?k.HIRAGANA_LETTER:function A(C){return C>=65376&&C<=65439}(C)?k.HALFWIDTH_KATAKANA_LETTER:k.ALPHA_LETTER};const k={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};P.CharacterType=k},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.PDFHistory=void 0,P.isDestArraysEqual=A,P.isDestHashesEqual=U;var G=k(6),$=k(17);function f(){return document.location.hash}function U(B,x){return"string"==typeof B&&"string"==typeof x&&(B===x||(0,G.parseQueryString)(B).get("nameddest")===x)}function A(B,x){function C(V,K){if(typeof V!=typeof K||Array.isArray(V)||Array.isArray(K))return!1;if(null!==V&&"object"==typeof V&&null!==K){if(Object.keys(V).length!==Object.keys(K).length)return!1;for(const Q in V)if(!C(V[Q],K[Q]))return!1;return!0}return V===K||Number.isNaN(V)&&Number.isNaN(K)}if(!Array.isArray(B)||!Array.isArray(x)||B.length!==x.length)return!1;for(let V=0,K=B.length;V<K;V++)if(!C(B[V],x[V]))return!1;return!0}P.PDFHistory=class I{constructor({linkService:x,eventBus:C}){this.linkService=x,this.eventBus=C,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",V=>{this._isViewerInPresentationMode=V.state!==G.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",V=>{this._isPagesLoaded=!!V.pagesCount},{once:!0})})}initialize({fingerprint:x,resetHistory:C=!1,updateUrl:V=!1}){if(!x||"string"!=typeof x)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const K=""!==this._fingerprint&&this._fingerprint!==x;this._fingerprint=x,this._updateUrl=!0===V,this._initialized=!0,this._bindEvents();const Q=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=f(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(Q,!0)||C){const{hash:ce,page:ge,rotation:R}=this._parseCurrentHash(!0);return!ce||K||C?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:ce,page:ge,rotation:R},!0)}const te=Q.destination;this._updateInternalState(te,Q.uid,!0),void 0!==te.rotation&&(this._initialRotation=te.rotation),te.dest?(this._initialBookmark=JSON.stringify(te.dest),this._destination.page=null):te.hash?this._initialBookmark=te.hash:te.page&&(this._initialBookmark=`page=${te.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:x=null,explicitDest:C,pageNumber:V}){if(!this._initialized)return;if(x&&"string"!=typeof x)return void console.error(`PDFHistory.push: "${x}" is not a valid namedDest parameter.`);if(!Array.isArray(C))return void console.error(`PDFHistory.push: "${C}" is not a valid explicitDest parameter.`);if(!this._isValidPage(V)&&(null!==V||this._destination))return void console.error(`PDFHistory.push: "${V}" is not a valid pageNumber parameter.`);const K=x||JSON.stringify(C);if(!K)return;let Q=!1;if(this._destination&&(U(this._destination.hash,K)||A(this._destination.dest,C))){if(this._destination.page)return;Q=!0}this._popStateInProgress&&!Q||(this._pushOrReplaceState({dest:C,hash:K,page:V,rotation:this.linkService.rotation},Q),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(x){if(this._initialized){if(!this._isValidPage(x))return void console.error(`PDFHistory.pushPage: "${x}" is not a valid page number.`);this._destination?.page!==x&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${x}`,page:x,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const x=window.history.state;this._isValidState(x)&&x.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const x=window.history.state;this._isValidState(x)&&x.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(x,C=!1){const V=C||!this._destination,K={fingerprint:this._fingerprint,uid:V?this._uid:this._uid+1,destination:x};let Q;if(this._updateInternalState(x,K.uid),this._updateUrl&&x?.hash){const te=document.location.href.split("#")[0];te.startsWith("file://")||(Q=`${te}#${x.hash}`)}V?window.history.replaceState(K,"",Q):window.history.pushState(K,"",Q)}_tryPushCurrentPosition(x=!1){if(!this._position)return;let C=this._position;if(x&&(C=Object.assign(Object.create(null),this._position),C.temporary=!0),!this._destination)return void this._pushOrReplaceState(C);if(this._destination.temporary)return void this._pushOrReplaceState(C,!0);if(this._destination.hash===C.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let V=!1;if(this._destination.page>=C.first&&this._destination.page<=C.page){if(void 0!==this._destination.dest||!this._destination.first)return;V=!0}this._pushOrReplaceState(C,V)}_isValidPage(x){return Number.isInteger(x)&&x>0&&x<=this.linkService.pagesCount}_isValidState(x,C=!1){if(!x)return!1;if(x.fingerprint!==this._fingerprint){if(!C)return!1;{if("string"!=typeof x.fingerprint||x.fingerprint.length!==this._fingerprint.length)return!1;const[V]=performance.getEntriesByType("navigation");if("reload"!==V?.type)return!1}}return!(!Number.isInteger(x.uid)||x.uid<0||null===x.destination||"object"!=typeof x.destination)}_updateInternalState(x,C,V=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),V&&x?.temporary&&delete x.temporary,this._destination=x,this._uid=C,this._maxUid=Math.max(this._maxUid,C),this._numPositionUpdates=0}_parseCurrentHash(x=!1){const C=unescape(f()).substring(1),V=(0,G.parseQueryString)(C),K=V.get("nameddest")||"";let Q=0|V.get("page");return(!this._isValidPage(Q)||x&&K.length>0)&&(Q=null),{hash:C,page:Q,rotation:this.linkService.rotation}}_updateViewarea({location:x}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${x.pageNumber}`:x.pdfOpenParams.substring(1),page:this.linkService.page,first:x.pageNumber,rotation:x.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:x}){const C=f(),V=this._currentHash!==C;if(this._currentHash=C,!x){this._uid++;const{hash:Q,page:te,rotation:ce}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:Q,page:te,rotation:ce},!0)}if(!this._isValidState(x))return;this._popStateInProgress=!0,V&&(this._blockHashChange++,(0,$.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const K=x.destination;this._updateInternalState(K,x.uid,!0),(0,G.isValidRotation)(K.rotation)&&(this.linkService.rotation=K.rotation),K.dest?this.linkService.goToDestination(K.dest):K.hash?this.linkService.setHash(K.hash):K.page&&(this.linkService.page=K.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.PDFScriptingManager=void 0;var G=k(6),$=k(3);P.PDFScriptingManager=class O{constructor({eventBus:g,sandboxBundleSrc:f=null,scriptingFactory:I=null,docPropertiesLookup:U=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=g,this._sandboxBundleSrc=f,this._scriptingFactory=I,this._docPropertiesLookup=U,this._scriptingFactory||window.addEventListener("updatefromsandbox",A=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:A.detail})})}setViewer(g){this._pdfViewer=g}setDocument(g){var f=this;return j(function*(){if(f._pdfDocument&&(yield f._destroyScripting()),f._pdfDocument=g,!g)return;const[I,U,A]=yield Promise.all([g.getFieldObjects(),g.getCalculationOrderIds(),g.getJSActions()]);if(I||A){if(g===f._pdfDocument){try{f._scripting=f._createScripting()}catch(B){return console.error(`PDFScriptingManager.setDocument: "${B?.message}".`),void(yield f._destroyScripting())}f._internalEvents.set("updatefromsandbox",B=>{B?.source===window&&f._updateFromSandbox(B.detail)}),f._internalEvents.set("dispatcheventinsandbox",B=>{f._scripting?.dispatchEventInSandbox(B.detail)}),f._internalEvents.set("pagechanging",({pageNumber:B,previous:x})=>{B!==x&&(f._dispatchPageClose(x),f._dispatchPageOpen(B))}),f._internalEvents.set("pagerendered",({pageNumber:B})=>{f._pageOpenPending.has(B)&&B===f._pdfViewer.currentPageNumber&&f._dispatchPageOpen(B)}),f._internalEvents.set("pagesdestroy",function(){var B=j(function*(x){yield f._dispatchPageClose(f._pdfViewer.currentPageNumber),yield f._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),f._closeCapability?.resolve()});return function(x){return B.apply(this,arguments)}}()),f._domEvents.set("mousedown",B=>{f._mouseState.isDown=!0}),f._domEvents.set("mouseup",B=>{f._mouseState.isDown=!1});for(const[B,x]of f._internalEvents)f._eventBus._on(B,x);for(const[B,x]of f._domEvents)window.addEventListener(B,x);try{const B=yield f._getDocProperties();if(g!==f._pdfDocument)return;yield f._scripting.createSandbox({objects:I,calculationOrder:U,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...B,actions:A}}),f._eventBus.dispatch("sandboxcreated",{source:f})}catch(B){return console.error(`PDFScriptingManager.setDocument: "${B?.message}".`),void(yield f._destroyScripting())}yield f._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield f._dispatchPageOpen(f._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{g===f._pdfDocument&&(f._ready=!0)})}}else yield f._destroyScripting()})()}dispatchWillSave(g){var f=this;return j(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(g){var f=this;return j(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(g){var f=this;return j(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(g){var f=this;return j(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,$.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,$.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,$.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,$.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(g){var f=this;return j(function*(){const I=f._pdfViewer.isInPresentationMode||f._pdfViewer.isChangingPresentationMode,{id:U,siblings:A,command:B,value:x}=g;if(!U){switch(B){case"clear":console.clear();break;case"error":console.error(x);break;case"layout":if(I)return;const V=(0,G.apiPageLayoutToViewerModes)(x);f._pdfViewer.spreadMode=V.spreadMode;break;case"page-num":f._pdfViewer.currentPageNumber=x+1;break;case"print":yield f._pdfViewer.pagesPromise,f._eventBus.dispatch("print",{source:f});break;case"println":console.log(x);break;case"zoom":if(I)return;f._pdfViewer.currentScaleValue=x;break;case"SaveAs":f._eventBus.dispatch("save",{source:f});break;case"FirstPage":f._pdfViewer.currentPageNumber=1;break;case"LastPage":f._pdfViewer.currentPageNumber=f._pdfViewer.pagesCount;break;case"NextPage":f._pdfViewer.nextPage();break;case"PrevPage":f._pdfViewer.previousPage();break;case"ZoomViewIn":if(I)return;f._pdfViewer.increaseScale();break;case"ZoomViewOut":if(I)return;f._pdfViewer.decreaseScale()}return}if(I&&g.focus)return;delete g.id,delete g.siblings;const C=A?[U,...A]:[U];for(const V of C){const K=document.getElementById(V);K?K.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:g})):f._pdfDocument?.annotationStorage.setValue(V,g)}})()}_dispatchPageOpen(g,f=!1){var I=this;return j(function*(){const U=I._pdfDocument,A=I._visitedPages;if(f&&(I._closeCapability=(0,$.createPromiseCapability)()),!I._closeCapability)return;const B=I._pdfViewer.getPageView(g-1);if(B?.renderingState!==G.RenderingStates.FINISHED)return void I._pageOpenPending.add(g);I._pageOpenPending.delete(g);const x=j(function*(){const C=yield A.has(g)?null:B.pdfPage?.getJSActions();U===I._pdfDocument&&(yield I._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:g,actions:C}))})();A.set(g,x)})()}_dispatchPageClose(g){var f=this;return j(function*(){const I=f._pdfDocument,U=f._visitedPages;if(!f._closeCapability||f._pageOpenPending.has(g))return;const A=U.get(g);A&&(U.set(g,null),yield A,I===f._pdfDocument&&(yield f._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:g})))})()}_getDocProperties(){var g=this;return j(function*(){if(g._docPropertiesLookup)return g._docPropertiesLookup(g._pdfDocument);const{docPropertiesLookup:f}=k(24);return f(g._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,$.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:g}=k(24);return new g(this._sandboxBundleSrc)}_destroyScripting(){var g=this;return j(function*(){if(!g._scripting)return g._pdfDocument=null,void g._destroyCapability?.resolve();g._closeCapability&&(yield Promise.race([g._closeCapability.promise,new Promise(f=>{setTimeout(f,1e3)})]).catch(f=>{}),g._closeCapability=null),g._pdfDocument=null;try{yield g._scripting.destroySandbox()}catch{}for(const[f,I]of g._internalEvents)g._eventBus._off(f,I);g._internalEvents.clear();for(const[f,I]of g._domEvents)window.removeEventListener(f,I);g._domEvents.clear(),g._pageOpenPending.clear(),g._visitedPages.clear(),g._scripting=null,delete g._mouseState.isDown,g._ready=!1,g._destroyCapability?.resolve()})()}}},(ne,P,k)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.GenericScripting=void 0,P.docPropertiesLookup=function $(g){return O.apply(this,arguments)};var G=k(3);function O(){return(O=j(function*(g){const I="".split("#")[0];let{info:U,metadata:A,contentDispositionFilename:B,contentLength:x}=yield g.getMetadata();if(!x){const{length:C}=yield g.getDownloadInfo();x=C}return{...U,baseURL:I,filesize:x,filename:B||(0,G.getPdfFilenameFromUrl)(""),metadata:A?.getRaw(),authors:A?.get("dc:creator"),numPages:g.numPages,URL:""}})).apply(this,arguments)}P.GenericScripting=class N{constructor(f){this._ready=(0,G.loadScript)(f,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(f){var I=this;return j(function*(){(yield I._ready).create(f)})()}dispatchEventInSandbox(f){var I=this;return j(function*(){const U=yield I._ready;setTimeout(()=>U.dispatchEvent(f),0)})()}destroySandbox(){var f=this;return j(function*(){(yield f._ready).nukeSandbox()})()}}}],ie={};function re(ne){var P=ie[ne];if(void 0!==P)return P.exports;var k=ie[ne]={exports:{}};return ee[ne](k,k.exports,re),k.exports}var X={};return(()=>{var ne=X;Object.defineProperty(ne,"__esModule",{value:!0}),Object.defineProperty(ne,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return O.AnnotationLayerBuilder}}),Object.defineProperty(ne,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return P.DefaultAnnotationLayerFactory}}),Object.defineProperty(ne,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return P.DefaultStructTreeLayerFactory}}),Object.defineProperty(ne,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return P.DefaultTextLayerFactory}}),Object.defineProperty(ne,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return P.DefaultXfaLayerFactory}}),Object.defineProperty(ne,"DownloadManager",{enumerable:!0,get:function(){return N.DownloadManager}}),Object.defineProperty(ne,"EventBus",{enumerable:!0,get:function(){return g.EventBus}}),Object.defineProperty(ne,"GenericL10n",{enumerable:!0,get:function(){return f.GenericL10n}}),Object.defineProperty(ne,"LinkTarget",{enumerable:!0,get:function(){return k.LinkTarget}}),Object.defineProperty(ne,"NullL10n",{enumerable:!0,get:function(){return I.NullL10n}}),Object.defineProperty(ne,"PDFFindController",{enumerable:!0,get:function(){return U.PDFFindController}}),Object.defineProperty(ne,"PDFHistory",{enumerable:!0,get:function(){return A.PDFHistory}}),Object.defineProperty(ne,"PDFLinkService",{enumerable:!0,get:function(){return k.PDFLinkService}}),Object.defineProperty(ne,"PDFPageView",{enumerable:!0,get:function(){return B.PDFPageView}}),Object.defineProperty(ne,"PDFScriptingManager",{enumerable:!0,get:function(){return x.PDFScriptingManager}}),Object.defineProperty(ne,"PDFSinglePageViewer",{enumerable:!0,get:function(){return $.PDFSinglePageViewer}}),Object.defineProperty(ne,"PDFViewer",{enumerable:!0,get:function(){return $.PDFViewer}}),Object.defineProperty(ne,"ProgressBar",{enumerable:!0,get:function(){return G.ProgressBar}}),Object.defineProperty(ne,"SimpleLinkService",{enumerable:!0,get:function(){return k.SimpleLinkService}}),Object.defineProperty(ne,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return C.StructTreeLayerBuilder}}),Object.defineProperty(ne,"TextLayerBuilder",{enumerable:!0,get:function(){return V.TextLayerBuilder}}),Object.defineProperty(ne,"XfaLayerBuilder",{enumerable:!0,get:function(){return K.XfaLayerBuilder}}),Object.defineProperty(ne,"parseQueryString",{enumerable:!0,get:function(){return G.parseQueryString}});var P=re(1),k=re(5),G=re(6),$=re(10),O=re(2),N=re(16),g=re(17),f=re(18),I=re(4),U=re(20),A=re(22),B=re(12),x=re(23),C=re(7),V=re(8),K=re(9)})(),X})()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:oe=>{function _(p,Z,W,pe,J,H,j){try{var ee=p[H](j),ie=ee.value}catch(re){return void W(re)}ee.done?Z(ie):Promise.resolve(ie).then(pe,J)}oe.exports=function z(p){return function(){var Z=this,W=arguments;return new Promise(function(pe,J){var H=p.apply(Z,W);function j(ie){_(H,pe,J,j,ee,"next",ie)}function ee(ie){_(H,pe,J,j,ee,"throw",ie)}j(void 0)})}},oe.exports.__esModule=!0,oe.exports.default=oe.exports},521:oe=>{oe.exports=function _(z,p){if(p.has(z))throw new TypeError("Cannot initialize the same private elements twice on an object")},oe.exports.__esModule=!0,oe.exports.default=oe.exports},912:oe=>{oe.exports=function _(z,p){return p.get?p.get.call(z):p.value},oe.exports.__esModule=!0,oe.exports.default=oe.exports},448:oe=>{oe.exports=function _(z,p,Z){if(p.set)p.set.call(z,Z);else{if(!p.writable)throw new TypeError("attempted to set read only private field");p.value=Z}},oe.exports.__esModule=!0,oe.exports.default=oe.exports},625:oe=>{oe.exports=function _(z,p){if(z!==p)throw new TypeError("Private static access of wrong provenance")},oe.exports.__esModule=!0,oe.exports.default=oe.exports},69:oe=>{oe.exports=function _(z,p,Z){if(!p.has(z))throw new TypeError("attempted to "+Z+" private field on non-instance");return p.get(z)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},468:(oe,_,z)=>{var p=z(912),Z=z(69);oe.exports=function W(pe,J){var H=Z(pe,J,"get");return p(pe,H)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},159:(oe,_,z)=>{var p=z(521);oe.exports=function Z(W,pe,J){p(W,pe),pe.set(W,J)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},661:(oe,_,z)=>{var p=z(448),Z=z(69);oe.exports=function W(pe,J,H){var j=Z(pe,J,"set");return p(pe,j,H),H},oe.exports.__esModule=!0,oe.exports.default=oe.exports},467:oe=>{oe.exports=function _(z,p,Z){if(!p.has(z))throw new TypeError("attempted to get private field on non-instance");return Z},oe.exports.__esModule=!0,oe.exports.default=oe.exports},860:(oe,_,z)=>{var p=z(521);oe.exports=function Z(W,pe){p(W,pe),pe.add(W)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},764:(oe,_,z)=>{var p=z(625);oe.exports=function Z(W,pe,J){return p(W,pe),J},oe.exports.__esModule=!0,oe.exports.default=oe.exports},416:(oe,_,z)=>{var p=z(62);oe.exports=function Z(W,pe,J){return(pe=p(pe))in W?Object.defineProperty(W,pe,{value:J,enumerable:!0,configurable:!0,writable:!0}):W[pe]=J,W},oe.exports.__esModule=!0,oe.exports.default=oe.exports},946:(oe,_,z)=>{var p=z(698).default;oe.exports=function Z(W,pe){if("object"!==p(W)||null===W)return W;var J=W[Symbol.toPrimitive];if(void 0!==J){var H=J.call(W,pe||"default");if("object"!==p(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===pe?String:Number)(W)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},62:(oe,_,z)=>{var p=z(698).default,Z=z(946);oe.exports=function W(pe){var J=Z(pe,"string");return"symbol"===p(J)?J:String(J)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},698:oe=>{function _(z){return oe.exports=_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},oe.exports.__esModule=!0,oe.exports.default=oe.exports,_(z)}oe.exports=_,oe.exports.__esModule=!0,oe.exports.default=oe.exports}},oe=>{oe(oe.s=82)}]);