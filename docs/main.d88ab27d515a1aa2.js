"use strict";(self.webpackChunkprofile=self.webpackChunkprofile||[]).push([[179],{370:()=>{function be(t){return"function"==typeof t}function Na(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const rl=Na(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function $s(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class ln{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(s){e=s instanceof rl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{N0(s)}catch(o){e=e??[],o instanceof rl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new rl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)N0(e);else{if(e instanceof ln){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$s(n,e)}remove(e){const{_finalizers:n}=this;n&&$s(n,e),e instanceof ln&&e._removeParent(this)}}ln.EMPTY=(()=>{const t=new ln;return t.closed=!0,t})();const A0=ln.EMPTY;function M0(t){return t instanceof ln||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function N0(t){be(t)?t():t.unsubscribe()}const zi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},il={setTimeout(t,e,...n){const{delegate:r}=il;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=il;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function R0(t){il.setTimeout(()=>{const{onUnhandledError:e}=zi;if(!e)throw t;e(t)})}function tp(){}const GP=np("C",void 0,void 0);function np(t,e,n){return{kind:t,value:e,error:n}}let qi=null;function sl(t){if(zi.useDeprecatedSynchronousErrorHandling){const e=!qi;if(e&&(qi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=qi;if(qi=null,n)throw r}}else t()}class rp extends ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,M0(e)&&e.add(this)):this.destination=XP}static create(e,n,r){return new Ra(e,n,r)}next(e){this.isStopped?sp(function qP(t){return np("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?sp(function zP(t){return np("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sp(GP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const KP=Function.prototype.bind;function ip(t,e){return KP.call(t,e)}class QP{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ol(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ol(r)}else ol(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ol(n)}}}class Ra extends rp{constructor(e,n,r){let i;if(super(),be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&zi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ip(e.next,s),error:e.error&&ip(e.error,s),complete:e.complete&&ip(e.complete,s)}):i=e}this.destination=new QP(i)}}function ol(t){zi.useDeprecatedSynchronousErrorHandling?function WP(t){zi.useDeprecatedSynchronousErrorHandling&&qi&&(qi.errorThrown=!0,qi.error=t)}(t):R0(t)}function sp(t,e){const{onStoppedNotification:n}=zi;n&&il.setTimeout(()=>n(t,e))}const XP={closed:!0,next:tp,error:function YP(t){throw t},complete:tp},op="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wi(t){return t}function O0(t){return 0===t.length?Wi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function ek(t){return t&&t instanceof rp||function JP(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}(t)&&M0(t)}(n)?n:new Ra(n,r,i);return sl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=F0(r))((i,s)=>{const o=new Ra({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[op](){return this}pipe(...n){return O0(n)(this)}toPromise(n){return new(n=F0(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function F0(t){var e;return null!==(e=t??zi.Promise)&&void 0!==e?e:Promise}const tk=Na(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let br=(()=>{class t extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new P0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new tk}next(n){sl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){sl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){sl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?A0:(this.currentObservers=null,s.push(n),new ln(()=>{this.currentObservers=null,$s(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new qe;return n.source=this,n}}return t.create=(e,n)=>new P0(e,n),t})();class P0 extends br{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:A0}}function k0(t){return be(t?.lift)}function ut(t){return e=>{if(k0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(t,e,n,r,i){return new nk(t,e,n,r,i)}class nk extends rp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function oe(t,e){return ut((n,r)=>{let i=0;n.subscribe(tt(r,s=>{r.next(t.call(e,s,i++))}))})}function ii(t){return this instanceof ii?(this.v=t,this):new ii(t)}function U0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function lp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const j0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function $0(t){return be(t?.then)}function H0(t){return be(t[op])}function G0(t){return Symbol.asyncIterator&&be(t?.[Symbol.asyncIterator])}function z0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const q0=function bk(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function W0(t){return be(t?.[q0])}function K0(t){return function B0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ii?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ii(n.read());if(i)return yield ii(void 0);yield yield ii(r)}}finally{n.releaseLock()}})}function Q0(t){return be(t?.getReader)}function dn(t){if(t instanceof qe)return t;if(null!=t){if(H0(t))return function Ik(t){return new qe(e=>{const n=t[op]();if(be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(j0(t))return function Sk(t){return new qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if($0(t))return function Tk(t){return new qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,R0)})}(t);if(G0(t))return Y0(t);if(W0(t))return function xk(t){return new qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Q0(t))return function Ak(t){return Y0(K0(t))}(t)}throw z0(t)}function Y0(t){return new qe(e=>{(function Mk(t,e){var n,r,i,s;return function L0(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=U0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ir(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function gt(t,e,n=1/0){return be(e)?gt((r,i)=>oe((s,o)=>e(r,s,i,o))(dn(t(r,i))),n):("number"==typeof e&&(n=e),ut((r,i)=>function Nk(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;dn(n(g,l++)).subscribe(tt(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const w=u.shift();o?Ir(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(tt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Hs(t=1/0){return gt(Wi,t)}const Qn=new qe(t=>t.complete());function X0(t){return t&&be(t.schedule)}function dp(t){return t[t.length-1]}function Z0(t){return be(dp(t))?t.pop():void 0}function Oa(t){return X0(dp(t))?t.pop():void 0}function J0(t,e=0){return ut((n,r)=>{n.subscribe(tt(r,i=>Ir(r,t,()=>r.next(i),e),()=>Ir(r,t,()=>r.complete(),e),i=>Ir(r,t,()=>r.error(i),e)))})}function eC(t,e=0){return ut((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function tC(t,e){if(!t)throw new Error("Iterable cannot be null");return new qe(n=>{Ir(n,e,()=>{const r=t[Symbol.asyncIterator]();Ir(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nt(t,e){return e?function Bk(t,e){if(null!=t){if(H0(t))return function Fk(t,e){return dn(t).pipe(eC(e),J0(e))}(t,e);if(j0(t))return function kk(t,e){return new qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if($0(t))return function Pk(t,e){return dn(t).pipe(eC(e),J0(e))}(t,e);if(G0(t))return tC(t,e);if(W0(t))return function Lk(t,e){return new qe(n=>{let r;return Ir(n,e,()=>{r=t[q0](),Ir(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>be(r?.return)&&r.return()})}(t,e);if(Q0(t))return function Vk(t,e){return tC(K0(t),e)}(t,e)}throw z0(t)}(t,e):dn(t)}function hp(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ra({next:()=>{r.unsubscribe(),t()}});return dn(e(...n)).subscribe(r)}function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function fp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ie(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ie).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function pp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const $k=Ee({__forward_ref__:Ee});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return Ie(this())},t}function j(t){return gp(t)?t():t}function gp(t){return"function"==typeof t&&t.hasOwnProperty($k)&&t.__forward_ref__===Se}function mp(t){return t&&!!t.\u0275providers}const nC="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(al(e,n)),this.code=e}}function al(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function Y(t){return"string"==typeof t?t:null==t?"":String(t)}function ul(t,e){throw new T(-201,!1)}function En(t,e){null==t&&function ve(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function On(t){return{providers:t.providers||[],imports:t.imports||[]}}function cl(t){return rC(t,ll)||rC(t,sC)}function rC(t,e){return t.hasOwnProperty(e)?t[e]:null}function iC(t){return t&&(t.hasOwnProperty(yp)||t.hasOwnProperty(Yk))?t[yp]:null}const ll=Ee({\u0275prov:Ee}),yp=Ee({\u0275inj:Ee}),sC=Ee({ngInjectableDef:Ee}),Yk=Ee({ngInjectorDef:Ee});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let vp;function bn(t){const e=vp;return vp=t,e}function oC(t,e,n){const r=cl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void ul(Ie(t))}const Ae=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fa={},_p="__NG_DI_FLAG__",dl="ngTempTokenPath",Zk="ngTokenPath",Jk=/\n/gm,eL="\u0275",aC="__source";let Pa;function Gs(t){const e=Pa;return Pa=t,e}function tL(t,e=H.Default){if(void 0===Pa)throw new T(-203,!1);return null===Pa?oC(t,void 0,e):Pa.get(t,e&H.Optional?null:void 0,e)}function G(t,e=H.Default){return(function Xk(){return vp}()||tL)(j(t),e)}function ae(t,e=H.Default){return G(t,hl(e))}function hl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function wp(t){const e=[];for(let n=0;n<t.length;n++){const r=j(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=nL(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function ka(t,e){return t[_p]=e,t.prototype[_p]=e,t}function nL(t){return t[_p]}function Sr(t){return{toString:t}.toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),Xn=(()=>{return(t=Xn||(Xn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Xn;var t})();const Tr={},me=[],fl=Ee({\u0275cmp:Ee}),Dp=Ee({\u0275dir:Ee}),Cp=Ee({\u0275pipe:Ee}),cC=Ee({\u0275mod:Ee}),xr=Ee({\u0275fac:Ee}),La=Ee({__NG_ELEMENT_ID__:Ee});let sL=0;function oi(t){return Sr(()=>{const e=dC(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Xn.Emulated,id:"c"+sL++,styles:t.styles||me,_:null,schemas:t.schemas||null,tView:null};hC(n);const r=t.dependencies;return n.directiveDefs=pl(r,!1),n.pipeDefs=pl(r,!0),n})}function aL(t){return _e(t)||Nt(t)}function uL(t){return null!==t}function Zn(t){return Sr(()=>({type:t.type,bootstrap:t.bootstrap||me,declarations:t.declarations||me,imports:t.imports||me,exports:t.exports||me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lC(t,e){if(null==t)return Tr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function q(t){return Sr(()=>{const e=dC(t);return hC(e),e})}function _e(t){return t[fl]||null}function Nt(t){return t[Dp]||null}function en(t){return t[Cp]||null}function fn(t,e){const n=t[cC]||null;if(!n&&!0===e)throw new Error(`Type ${Ie(t)} does not have '\u0275mod' property.`);return n}function dC(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||me,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lC(t.inputs,e),outputs:lC(t.outputs)}}function hC(t){t.features?.forEach(e=>e(t))}function pl(t,e){if(!t)return null;const n=e?en:aL;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(uL)}const Ar=0,O=1,te=2,je=3,Fn=4,Ki=5,Rt=6,qs=7,We=8,gl=9,ml=10,re=11,Ep=12,Va=13,fC=14,Ws=15,Ot=16,Ba=17,Ks=18,Jn=19,Ua=20,pC=21,Me=22,bp=1,gC=2,yl=7,vl=8,Qs=9,Ht=10;function pn(t){return Array.isArray(t)&&"object"==typeof t[bp]}function Pn(t){return Array.isArray(t)&&!0===t[bp]}function Ip(t){return 0!=(4&t.flags)}function ja(t){return t.componentOffset>-1}function _l(t){return 1==(1&t.flags)}function kn(t){return!!t.template}function lL(t){return 0!=(256&t[te])}function Qi(t,e){return t.hasOwnProperty(xr)?t[xr]:null}class fL{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function In(){return vC}function vC(t){return t.type.prototype.ngOnChanges&&(t.setInput=gL),pL}function pL(){const t=wC(this),e=t?.current;if(e){const n=t.previous;if(n===Tr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function gL(t,e,n,r){const i=this.declaredInputs[n],s=wC(t)||function mL(t,e){return t[_C]=e}(t,{previous:Tr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new fL(u&&u.currentValue,e,a===Tr),t[r]=e}In.ngInherit=!0;const _C="__ngSimpleChanges__";function wC(t){return t[_C]||null}const Sn=function(t,e,n){};function Ct(t){for(;Array.isArray(t);)t=t[Ar];return t}function wl(t,e){return Ct(e[t])}function gn(t,e){return Ct(e[t.index])}function EC(t,e){return t.data[e]}function tn(t,e){const n=e[t];return pn(n)?n:n[Ar]}function Dl(t){return 64==(64&t[te])}function ai(t,e){return null==e?null:t[e]}function bC(t){t[Ks]=0}function Tp(t,e){t[Ki]+=e;let n=t,r=t[je];for(;null!==r&&(1===e&&1===n[Ki]||-1===e&&0===n[Ki]);)r[Ki]+=e,n=r,r=r[je]}const X={lFrame:FC(null),bindingsEnabled:!0};function SC(){return X.bindingsEnabled}function D(){return X.lFrame.lView}function le(){return X.lFrame.tView}function Yi(t){return X.lFrame.contextLView=t,t[We]}function Xi(t){return X.lFrame.contextLView=null,t}function Et(){let t=TC();for(;null!==t&&64===t.type;)t=t.parent;return t}function TC(){return X.lFrame.currentTNode}function er(t,e){const n=X.lFrame;n.currentTNode=t,n.isParent=e}function xp(){return X.lFrame.isParent}function Xs(){return X.lFrame.bindingIndex++}function AL(t,e){const n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,Mp(e)}function Mp(t){X.lFrame.currentDirectiveIndex=t}function Rp(t){X.lFrame.currentQueryIndex=t}function NL(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[Rt]:null}function RC(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=NL(s),null===i||(s=s[Ws],10&i.type))););if(null===i)return!1;e=i,t=s}const r=X.lFrame=OC();return r.currentTNode=e,r.lView=t,!0}function Op(t){const e=OC(),n=t[O];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function OC(){const t=X.lFrame,e=null===t?null:t.child;return null===e?FC(t):e}function FC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function PC(){const t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const kC=PC;function Fp(){const t=PC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zt(){return X.lFrame.selectedIndex}function Zi(t){X.lFrame.selectedIndex=t}function Ve(){const t=X.lFrame;return EC(t.tView,t.selectedIndex)}function Cl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks??(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks??(t.viewHooks=[])).push(n,c),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks??(t.destroyHooks=[])).push(n,l)}}function El(t,e,n){LC(t,e,3,n)}function bl(t,e,n,r){(3&t[te])===n&&LC(t,e,n,r)}function Pp(t,e){let n=t[te];(3&n)===e&&(n&=2047,n+=1,t[te]=n)}function LC(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Ks]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Ks]+=65536),(a<s||-1==s)&&(UL(t,n,e,u),t[Ks]=(4294901760&t[Ks])+u+2),u++}function UL(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[te]>>11<t[Ks]>>16&&(3&t[te])===e){t[te]+=2048,Sn(4,a,s);try{s.call(a)}finally{Sn(5,a,s)}}}else{Sn(4,a,s);try{s.call(a)}finally{Sn(5,a,s)}}}const Zs=-1;class Ha{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Lp(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];BC(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function VC(t){return 3===t||4===t||6===t}function BC(t){return 64===t.charCodeAt(0)}function Ga(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||UC(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function UC(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function jC(t){return t!==Zs}function Il(t){return 32767&t}function Sl(t,e){let n=function GL(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ws],n--;return r}let Vp=!0;function Tl(t){const e=Vp;return Vp=t,e}const $C=255,HC=5;let zL=0;const tr={};function xl(t,e){const n=GC(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,Bp(r.data,t),Bp(e,null),Bp(r.blueprint,null));const i=Up(t,e),s=t.injectorIndex;if(jC(i)){const o=Il(i),a=Sl(i,e),u=a[O].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Bp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function GC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Up(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=XC(i),null===r)return Zs;if(n++,i=i[Ws],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Zs}function jp(t,e,n){!function qL(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(La)&&(r=n[La]),null==r&&(r=n[La]=zL++);const i=r&$C;e.data[t+(i>>HC)]|=1<<i}(t,e,n)}function zC(t,e,n){if(n&H.Optional||void 0!==t)return t;ul()}function qC(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),!(n&(H.Self|H.Host))){const i=t[gl],s=bn(void 0);try{return i?i.get(e,r,n&H.Optional):oC(e,r,n&H.Optional)}finally{bn(s)}}return zC(r,0,n)}function WC(t,e,n,r=H.Default,i){if(null!==t){if(1024&e[te]){const o=function XL(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[te]&&!(256&o[te]);){const a=KC(s,o,n,r|H.Self,tr);if(a!==tr)return a;let u=s.parent;if(!u){const c=o[pC];if(c){const l=c.get(n,tr,r);if(l!==tr)return l}u=XC(o),o=o[Ws]}s=u}return i}(t,e,n,r,tr);if(o!==tr)return o}const s=KC(t,e,n,r,tr);if(s!==tr)return s}return qC(e,n,r,i)}function KC(t,e,n,r,i){const s=function QL(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(La)?t[La]:void 0;return"number"==typeof e?e>=0?e&$C:YL:e}(n);if("function"==typeof s){if(!RC(e,t,r))return r&H.Host?zC(i,0,r):qC(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;ul()}finally{kC()}}else if("number"==typeof s){let o=null,a=GC(t,e),u=Zs,c=r&H.Host?e[Ot][Rt]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?Up(t,e):e[a+8],u!==Zs&&YC(r,!1)?(o=e[O],a=Il(u),e=Sl(u,e)):a=-1);-1!==a;){const l=e[O];if(QC(s,a,l.data)){const d=KL(a,e,n,o,r,c);if(d!==tr)return d}u=e[a+8],u!==Zs&&YC(r,e[O].data[a+8]===c)&&QC(s,a,e)?(o=l,a=Il(u),e=Sl(u,e)):a=-1}}return i}function KL(t,e,n,r,i,s){const o=e[O],a=o.data[t+8],l=function Al(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&kn(f)&&f.type===n)return u}return null}(a,o,n,null==r?ja(a)&&Vp:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Ji(e,o,l,a):tr}function Ji(t,e,n,r){let i=t[n];const s=e.data;if(function jL(t){return t instanceof Ha}(i)){const o=i;o.resolving&&function Hk(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Y(t)}(s[n]));const a=Tl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?bn(o.injectImpl):null;RC(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function BL(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=vC(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&bn(u),Tl(a),o.resolving=!1,kC()}}return i}function QC(t,e,n){return!!(n[e+(t>>HC)]&1<<t)}function YC(t,e){return!(t&H.Self||t&H.Host&&e)}class Js{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return WC(this._tNode,this._lView,e,hl(r),n)}}function YL(){return new Js(Et(),D())}function bt(t){return Sr(()=>{const e=t.prototype.constructor,n=e[xr]||$p(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[xr]||$p(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function $p(t){return gp(t)?()=>{const e=$p(j(t));return e&&e()}:Qi(t)}function XC(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[Rt]:null}const to="__parameters__";function ro(t,e,n){return Sr(()=>{const r=function Hp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(to)?u[to]:Object.defineProperty(u,to,{value:[]})[to];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function es(t,e){t.forEach(n=>Array.isArray(n)?es(n,e):e(n))}function JC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mn(t,e,n){let r=io(t,e);return r>=0?t[1|r]=n:(r=~r,function tV(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function zp(t,e){const n=io(t,e);if(n>=0)return t[1|n]}function io(t,e){return function eE(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ka=ka(ro("Optional"),8),Qa=ka(ro("SkipSelf"),4);var nn=(()=>((nn=nn||{})[nn.Important=1]="Important",nn[nn.DashCase=2]="DashCase",nn))();const Xp=new Map;let EV=0;const Jp="__ngContext__";function Ft(t,e){pn(e)?(t[Jp]=e[Ua],function IV(t){Xp.set(t[Ua],t)}(e)):t[Jp]=e}let eg;function tg(t,e){return eg(t,e)}function Ja(t){const e=t[je];return Pn(e)?e[je]:e}function ng(t){return wE(t[Va])}function rg(t){return wE(t[Fn])}function wE(t){for(;null!==t&&!Pn(t);)t=t[Fn];return t}function oo(t,e,n,r,i){if(null!=r){let s,o=!1;Pn(r)?s=r:pn(r)&&(o=!0,r=r[Ar]);const a=Ct(r);0===t&&null!==n?null==i?SE(e,n,a):ts(e,n,a,i||null,!0):1===t&&null!==n?ts(e,n,a,i||null,!0):2===t?function lg(t,e,n){const r=Pl(t,e);r&&function zV(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function KV(t,e,n,r,i){const s=n[yl];s!==Ct(n)&&oo(e,t,r,s,i);for(let a=Ht;a<n.length;a++){const u=n[a];eu(u[O],u,t,e,r,s)}}(e,t,s,n,i)}}function sg(t,e,n){return t.createElement(e,n)}function CE(t,e){const n=t[Qs],r=n.indexOf(e),i=e[je];512&e[te]&&(e[te]&=-513,Tp(i,-1)),n.splice(r,1)}function og(t,e){if(t.length<=Ht)return;const n=Ht+e,r=t[n];if(r){const i=r[Ba];null!==i&&i!==t&&CE(i,r),e>0&&(t[n-1][Fn]=r[Fn]);const s=Nl(t,Ht+e);!function LV(t,e){eu(t,e,e[re],2,null,null),e[Ar]=null,e[Rt]=null}(r[O],r);const o=s[Jn];null!==o&&o.detachView(s[O]),r[je]=null,r[Fn]=null,r[te]&=-65}return r}function EE(t,e){if(!(128&e[te])){const n=e[re];n.destroyNode&&eu(t,e,n,3,null,null),function UV(t){let e=t[Va];if(!e)return ag(t[O],t);for(;e;){let n=null;if(pn(e))n=e[Va];else{const r=e[Ht];r&&(n=r)}if(!n){for(;e&&!e[Fn]&&e!==t;)pn(e)&&ag(e[O],e),e=e[je];null===e&&(e=t),pn(e)&&ag(e[O],e),n=e&&e[Fn]}e=n}}(e)}}function ag(t,e){if(!(128&e[te])){e[te]&=-65,e[te]|=128,function GV(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ha)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Sn(4,a,u);try{u.call(a)}finally{Sn(5,a,u)}}else{Sn(4,i,s);try{s.call(i)}finally{Sn(5,i,s)}}}}}(t,e),function HV(t,e){const n=t.cleanup,r=e[qs];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[qs]=null}}(t,e),1===e[O].type&&e[re].destroy();const n=e[Ba];if(null!==n&&Pn(e[je])){n!==e[je]&&CE(n,e);const r=e[Jn];null!==r&&r.detachView(t)}!function SV(t){Xp.delete(t[Ua])}(e)}}function bE(t,e,n){return function IE(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ar];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Xn.None||s===Xn.Emulated)return null}return gn(r,n)}}(t,e.parent,n)}function ts(t,e,n,r,i){t.insertBefore(e,n,r,i)}function SE(t,e,n){t.appendChild(e,n)}function TE(t,e,n,r,i){null!==r?ts(t,e,n,r,i):SE(t,e,n)}function Pl(t,e){return t.parentNode(e)}let ug,fg,Bl,ME=function AE(t,e,n){return 40&t.type?gn(t,n):null};function kl(t,e,n,r){const i=bE(t,r,e),s=e[re],a=function xE(t,e,n){return ME(t,e,n)}(r.parent||e[Rt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)TE(s,i,n[u],a,!1);else TE(s,i,n,a,!1);void 0!==ug&&ug(s,r,e,n,i)}function Ll(t,e){if(null!==e){const n=e.type;if(3&n)return gn(e,t);if(4&n)return cg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ll(t,r);{const i=t[e.index];return Pn(i)?cg(-1,i):Ct(i)}}if(32&n)return tg(e,t)()||Ct(t[e.index]);{const r=RE(t,e);return null!==r?Array.isArray(r)?r[0]:Ll(Ja(t[Ot]),r):Ll(t,e.next)}}return null}function RE(t,e){return null!==e?t[Ot][Rt].projection[e.projection]:null}function cg(t,e){const n=Ht+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return Ll(r,i)}return e[yl]}function dg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ft(Ct(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)dg(t,e,n.child,r,i,s,!1),oo(e,t,i,a,s);else if(32&u){const c=tg(n,r);let l;for(;l=c();)oo(e,t,i,l,s);oo(e,t,i,a,s)}else 16&u?OE(t,e,r,n,i,s):oo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function eu(t,e,n,r,i,s){dg(n,r,t.firstChild,e,i,s,!1)}function OE(t,e,n,r,i,s){const o=n[Ot],u=o[Rt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)oo(e,t,i,u[c],s);else dg(t,e,u,o[je],i,s,!0)}function FE(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function PE(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Lp(t,e,r),null!==i&&FE(t,e,i),null!==s&&function YV(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function BE(t){return function pg(){if(void 0===Bl&&(Bl=null,Ae.trustedTypes))try{Bl=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bl}()?.createScriptURL(t)||t}class UE{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nC})`}}function ui(t){return t instanceof UE?t.changingThisBreaksApplicationSecurity:t}function tu(t,e){const n=function o2(t){return t instanceof UE&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${nC})`)}return n===e}const l2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var rt=(()=>((rt=rt||{})[rt.NONE=0]="NONE",rt[rt.HTML=1]="HTML",rt[rt.STYLE=2]="STYLE",rt[rt.SCRIPT=3]="SCRIPT",rt[rt.URL=4]="URL",rt[rt.RESOURCE_URL=5]="RESOURCE_URL",rt))();function WE(t){const e=ru();return e?e.sanitize(rt.URL,t)||"":tu(t,"URL")?ui(t):function gg(t){return(t=String(t)).match(l2)?t:"unsafe:"+t}(Y(t))}function KE(t){const e=ru();if(e)return BE(e.sanitize(rt.RESOURCE_URL,t)||"");if(tu(t,"ResourceURL"))return BE(ui(t));throw new T(904,!1)}function ru(){const t=D();return t&&t[Ep]}const jl=new L("ENVIRONMENT_INITIALIZER"),YE=new L("INJECTOR",-1),XE=new L("INJECTOR_DEF_TYPES");class ZE{get(e,n=Fa){if(n===Fa){const r=new Error(`NullInjectorError: No provider for ${Ie(e)}!`);throw r.name="NullInjectorError",r}return n}}function E2(...t){return{\u0275providers:JE(0,t),\u0275fromNgModule:!0}}function JE(t,...e){const n=[],r=new Set;let i;return es(e,s=>{const o=s;_g(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&eb(i,n),n}function eb(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];wg(i,s=>{e.push(s)})}}function _g(t,e,n,r){if(!(t=j(t)))return!1;let i=null,s=iC(t);const o=!s&&_e(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=iC(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)_g(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{es(s.imports,l=>{_g(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&eb(c,e)}if(!a){const c=Qi(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:me},{provide:XE,useValue:i,multi:!0},{provide:jl,useValue:()=>G(i),multi:!0})}const u=s.providers;null==u||a||wg(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function wg(t,e){for(let n of t)mp(n)&&(n=n.\u0275providers),Array.isArray(n)?wg(n,e):e(n)}const b2=Ee({provide:String,useValue:Ee});function Dg(t){return null!==t&&"object"==typeof t&&b2 in t}function ns(t){return"function"==typeof t}const Cg=new L("Set Injector scope."),$l={},S2={};let Eg;function Hl(){return void 0===Eg&&(Eg=new ZE),Eg}class Or{}class rb extends Or{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ig(e,o=>this.processProvider(o)),this.records.set(YE,uo(void 0,this)),i.has("environment")&&this.records.set(Or,uo(void 0,this));const s=this.records.get(Cg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(XE.multi,me,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Gs(this),r=bn(void 0);try{return e()}finally{Gs(n),bn(r)}}get(e,n=Fa,r=H.Default){this.assertNotDestroyed(),r=hl(r);const i=Gs(this),s=bn(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function N2(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&cl(e);a=u&&this.injectableDefInScope(u)?uo(bg(e),$l):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?Hl():this.parent).get(e,n=r&H.Optional&&n===Fa?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[dl]=o[dl]||[]).unshift(Ie(e)),i)throw o;return function rL(t,e,n,r){const i=t[dl];throw e[aC]&&i.unshift(e[aC]),t.message=function iL(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==eL?t.slice(2):t;let i=Ie(e);if(Array.isArray(e))i=e.map(Ie).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ie(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Jk,"\n  ")}`}("\n"+t.message,i,n,r),t[Zk]=i,t[dl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{bn(s),Gs(i)}}resolveInjectorInitializers(){const e=Gs(this),n=bn(void 0);try{const r=this.get(jl.multi,me,H.Self);for(const i of r)i()}finally{Gs(e),bn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ie(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=ns(e=j(e))?e:j(e&&e.provide);const r=function x2(t){return Dg(t)?uo(void 0,t.useValue):uo(ib(t),$l)}(e);if(ns(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=uo(void 0,$l,!0),i.factory=()=>wp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===$l&&(n.value=S2,n.value=n.factory()),"object"==typeof n.value&&n.value&&function M2(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=j(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function bg(t){const e=cl(t),n=null!==e?e.factory:Qi(t);if(null!==n)return n;if(t instanceof L)throw new T(204,!1);if(t instanceof Function)return function T2(t){const e=t.length;if(e>0)throw function Wa(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function Qk(t){return t&&(t[ll]||t[sC])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function ib(t,e,n){let r;if(ns(t)){const i=j(t);return Qi(i)||bg(i)}if(Dg(t))r=()=>j(t.useValue);else if(function nb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...wp(t.deps||[]));else if(function tb(t){return!(!t||!t.useExisting)}(t))r=()=>G(j(t.useExisting));else{const i=j(t&&(t.useClass||t.provide));if(!function A2(t){return!!t.deps}(t))return Qi(i)||bg(i);r=()=>new i(...wp(t.deps))}return r}function uo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ig(t,e){for(const n of t)Array.isArray(n)?Ig(n,e):n&&mp(n)?Ig(n.\u0275providers,e):e(n)}class R2{}class sb{}class F2{resolveComponentFactory(e){throw function O2(t){const e=Error(`No component factory found for ${Ie(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let iu=(()=>{class t{}return t.NULL=new F2,t})();function P2(){return co(Et(),D())}function co(t,e){return new yn(gn(t,e))}let yn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=P2,t})();class ab{}let Fr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function L2(){const t=D(),n=tn(Et().index,t);return(pn(n)?n:t)[re]}(),t})(),V2=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>null}),t})();class su{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const B2=new su("15.2.9"),Sg={},Tg="ngOriginalError";function xg(t){return t[Tg]}class lo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&xg(e);for(;n&&xg(n);)n=xg(n);return n||null}}function Pr(t){return t instanceof Function?t():t}function cb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const lb="ng-template";function Y2(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==cb(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function db(t){return 4===t.type&&t.value!==lb}function X2(t,e,n){return e===(4!==t.type||n?t.value:lb)}function Z2(t,e,n){let r=4;const i=t.attrs||[],s=function tB(t){for(let e=0;e<t.length;e++)if(VC(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!X2(t,u,n)||""===u&&1===e.length){if(Ln(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Y2(t.attrs,c,n)){if(Ln(r))return!1;o=!0}continue}const d=J2(8&r?"class":u,i,db(t),n);if(-1===d){if(Ln(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==cb(f,c,0)||2&r&&c!==h){if(Ln(r))return!1;o=!0}}}}else{if(!o&&!Ln(r)&&!Ln(u))return!1;if(o&&Ln(u))continue;o=!1,r=u|1&r}}return Ln(r)||o}function Ln(t){return 0==(1&t)}function J2(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function nB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function hb(t,e,n=!1){for(let r=0;r<e.length;r++)if(Z2(t,e[r],n))return!0;return!1}function fb(t,e){return t?":not("+e.trim()+")":e}function iB(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ln(o)&&(e+=fb(s,i),i=""),r=o,s=s||!Ln(r);n++}return""!==i&&(e+=fb(s,i)),e}const Z={};function nr(t){pb(le(),D(),zt()+t,!1)}function pb(t,e,n,r){if(!r)if(3==(3&e[te])){const s=t.preOrderCheckHooks;null!==s&&El(e,s,n)}else{const s=t.preOrderHooks;null!==s&&bl(e,s,0,n)}Zi(n)}function vb(t,e=null,n=null,r){const i=_b(t,e,n,r);return i.resolveInjectorInitializers(),i}function _b(t,e=null,n=null,r,i=new Set){const s=[n||me,E2(t)];return r=r||("object"==typeof t?void 0:Ie(t)),new rb(s,e||Hl(),r||null,i)}let rr=(()=>{class t{static create(n,r){if(Array.isArray(n))return vb({name:""},r,n,"");{const i=n.name??"";return vb({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Fa,t.NULL=new ZE,t.\u0275prov=$({token:t,providedIn:"any",factory:()=>G(YE)}),t.__NG_ELEMENT_ID__=-1,t})();function b(t,e=H.Default){const n=D();return null===n?G(t,e):WC(Et(),n,j(t),e)}function Tb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Rp(n[r]),o.contentQueries(2,e[s],s)}}}function zl(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Ar]=i,d[te]=76|r,(null!==l||t&&1024&t[te])&&(d[te]|=1024),bC(d),d[je]=d[Ws]=t,d[We]=n,d[ml]=o||t&&t[ml],d[re]=a||t&&t[re],d[Ep]=u||t&&t[Ep]||null,d[gl]=c||t&&t[gl]||null,d[Rt]=s,d[Ua]=function bV(){return EV++}(),d[pC]=l,d[Ot]=2==e.type?t[Ot]:d,d}function po(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Og(t,e,n,r,i){const s=TC(),o=xp(),u=t.data[e]=function MB(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function xL(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function $a(){const t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return er(s,!0),s}function ou(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Fg(t,e,n){Op(e);try{const r=t.viewQuery;null!==r&&Hg(1,r,n);const i=t.template;null!==i&&xb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Tb(t,e),t.staticViewQueries&&Hg(2,t.viewQuery,n);const s=t.components;null!==s&&function TB(t,e){for(let n=0;n<e.length;n++)YB(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,Fp()}}function ql(t,e,n,r){const i=e[te];if(128!=(128&i)){Op(e);try{bC(e),function AC(t){return X.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&xb(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&El(e,c,null)}else{const c=t.preOrderHooks;null!==c&&bl(e,c,0,null),Pp(e,0)}if(function KB(t){for(let e=ng(t);null!==e;e=rg(e)){if(!e[gC])continue;const n=e[Qs];for(let r=0;r<n.length;r++){const i=n[r];512&i[te]||Tp(i[je],1),i[te]|=512}}}(e),function WB(t){for(let e=ng(t);null!==e;e=rg(e))for(let n=Ht;n<e.length;n++){const r=e[n],i=r[O];Dl(r)&&ql(i,r,i.template,r[We])}}(e),null!==t.contentQueries&&Tb(t,e),o){const c=t.contentCheckHooks;null!==c&&El(e,c)}else{const c=t.contentHooks;null!==c&&bl(e,c,1),Pp(e,1)}!function IB(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Zi(~i);else{const s=i,o=n[++r],a=n[++r];AL(o,s),a(2,e[s])}}}finally{Zi(-1)}}(t,e);const a=t.components;null!==a&&function SB(t,e){for(let n=0;n<e.length;n++)QB(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Hg(2,u,r),o){const c=t.viewCheckHooks;null!==c&&El(e,c)}else{const c=t.viewHooks;null!==c&&bl(e,c,2),Pp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[te]&=-41,512&e[te]&&(e[te]&=-513,Tp(e[je],-1))}finally{Fp()}}}function xb(t,e,n,r,i){const s=zt(),o=2&r;try{Zi(-1),o&&e.length>Me&&pb(t,e,Me,!1),Sn(o?2:0,i),n(r,i)}finally{Zi(s),Sn(o?3:1,i)}}function Pg(t,e,n){if(Ip(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function kg(t,e,n){SC()&&(function LB(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ja(n)&&function GB(t,e,n){const r=gn(e,t),i=Ab(n),s=t[ml],o=Wl(t,zl(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||xl(n,e),Ft(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ji(e,t,a,n);Ft(c,e),null!==o&&zB(0,a-i,c,u,0,o),kn(u)&&(tn(n.index,e)[We]=Ji(e,t,a,n))}}(t,e,n,gn(n,e)),64==(64&n.flags)&&Fb(t,e,n))}function Lg(t,e,n=gn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ab(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Vg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Vg(t,e,n,r,i,s,o,a,u,c){const l=Me+r,d=l+i,h=function xB(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Z);return n}(l,d),f="function"==typeof c?c():c;return h[O]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Nb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Rb(n,e,i,s):r.hasOwnProperty(i)&&Rb(n,e,r[i],s)}return n}function Rb(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Bg(t,e,n,r){if(SC()){const i=null===r?null:{"":-1},s=function BB(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(hb(e,o.selectors,!1))if(r||(r=[]),kn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ug(t,e,a.length)}else r.unshift(o),Ug(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Ob(t,e,n,o,i,a),i&&function UB(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ga(n.mergedAttrs,n.attrs)}function Ob(t,e,n,r,i,s){for(let c=0;c<r.length;c++)jp(xl(n,e),t,r[c].type);!function $B(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=ou(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Ga(n.mergedAttrs,l.hostAttrs),HB(t,n,e,u,l),jB(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function NB(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=Nb(d.inputs,l,u,h?h.inputs:null),c=Nb(d.outputs,l,c,p);const g=null===u||null===o||db(e)?null:qB(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function Fb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function ML(){return X.lFrame.currentDirectiveIndex}();try{Zi(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Mp(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&VB(u,c)}}finally{Zi(-1),Mp(o)}}function VB(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ug(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function jB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kn(e)&&(n[""]=t)}}function HB(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Qi(i.type)),o=new Ha(s,kn(i),b);t.blueprint[r]=o,n[r]=o,function PB(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function kB(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,ou(t,n,i.hostVars,Z),i)}function ir(t,e,n,r,i,s){const o=gn(t,e);!function jg(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Y(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[re],o,s,t.value,n,r,i)}function zB(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function qB(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Pb(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function QB(t,e){const n=tn(e,t);if(Dl(n)){const r=n[O];48&n[te]?ql(r,n,r.template,n[We]):n[Ki]>0&&$g(n)}}function $g(t){for(let r=ng(t);null!==r;r=rg(r))for(let i=Ht;i<r.length;i++){const s=r[i];if(Dl(s))if(512&s[te]){const o=s[O];ql(o,s,o.template,s[We])}else s[Ki]>0&&$g(s)}const n=t[O].components;if(null!==n)for(let r=0;r<n.length;r++){const i=tn(n[r],t);Dl(i)&&i[Ki]>0&&$g(i)}}function YB(t,e){const n=tn(e,t),r=n[O];(function XB(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Fg(r,n,n[We])}function Wl(t,e){return t[Va]?t[fC][Fn]=e:t[Va]=e,t[fC]=e,e}function Kl(t){for(;t;){t[te]|=32;const e=Ja(t);if(lL(t)&&!e)return t;t=e}return null}function Ql(t,e,n,r=!0){const i=e[ml];i.begin&&i.begin();try{ql(t,e,t.template,n)}catch(o){throw r&&Bb(e,o),o}finally{i.end&&i.end()}}function Hg(t,e,n){Rp(0),e(t,n)}function kb(t){return t[qs]||(t[qs]=[])}function Lb(t){return t.cleanup||(t.cleanup=[])}function Bb(t,e){const n=t[gl],r=n?n.get(lo,null):null;r&&r.handleError(e)}function Gg(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Yl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=pp(i,a):2==s&&(r=pp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Xl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ct(s)),Pn(s))for(let a=Ht;a<s.length;a++){const u=s[a],c=u[O].firstChild;null!==c&&Xl(u[O],u,c,r)}const o=n.type;if(8&o)Xl(t,e,n.child,r);else if(32&o){const a=tg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=RE(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ja(e[Ot]);Xl(u[O],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class au{get rootNodes(){const e=this._lView,n=e[O];return Xl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[We]}set context(e){this._lView[We]=e}get destroyed(){return 128==(128&this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[je];if(Pn(e)){const n=e[vl],r=n?n.indexOf(this):-1;r>-1&&(og(e,r),Nl(n,r))}this._attachedToViewContainer=!1}EE(this._lView[O],this._lView)}onDestroy(e){!function Mb(t,e,n,r){const i=kb(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Lb(t).push(r,i.length-1))}(this._lView[O],this._lView,null,e)}markForCheck(){Kl(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-65}reattach(){this._lView[te]|=64}detectChanges(){Ql(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BV(t,e){eu(t,e,e[re],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class ZB extends au{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ql(e[O],e,e[We],!1)}checkNoChanges(){}get context(){return null}}class Ub extends iu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_e(e);return new uu(n,this.ngModule)}}function jb(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class eU{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=hl(r);const i=this.injector.get(e,Sg,r);return i!==Sg||n===Sg?i:this.parentInjector.get(e,n,r)}}class uu extends sb{get inputs(){return jb(this.componentDef.inputs)}get outputs(){return jb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function sB(t){return t.map(iB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Or?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new eU(e,s):e,a=o.get(ab,null);if(null===a)throw new T(407,!1);const u=o.get(V2,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function AB(t,e,n){return t.selectRootElement(e,n===Xn.ShadowDom)}(c,r,this.componentDef.encapsulation):sg(c,l,function JB(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Vg(0,null,null,1,0,null,null,null,null,null),p=zl(null,f,null,h,null,null,a,c,u,o,null);let g,m;Op(p);try{const w=this.componentDef;let C,v=null;w.findHostDirectiveDefs?(C=[],v=new Map,w.findHostDirectiveDefs(w,C,v),C.push(w)):C=[w];const N=function nU(t,e){const n=t[O],r=Me;return t[r]=e,po(n,r,2,"#host",null)}(p,d),V=function rU(t,e,n,r,i,s,o,a){const u=i[O];!function iU(t,e,n,r){for(const i of t)e.mergedAttrs=Ga(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Yl(e,e.mergedAttrs,!0),null!==n&&PE(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=zl(i,Ab(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&Ug(u,t,r.length-1),Wl(i,l),i[t.index]=l}(N,d,w,C,p,a,c);m=EC(f,Me),d&&function oU(t,e,n,r){if(r)Lp(t,n,["ng-version",B2.full]);else{const{attrs:i,classes:s}=function oB(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ln(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Lp(t,n,i),s&&s.length>0&&FE(t,n,s.join(" "))}}(c,w,d,r),void 0!==n&&function aU(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,n),g=function sU(t,e,n,r,i,s){const o=Et(),a=i[O],u=gn(o,i);Ob(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Ft(Ji(i,a,o.directiveStart+l,o),i);Fb(a,i,o),u&&Ft(u,i);const c=Ji(i,a,o.directiveStart+o.componentOffset,o);if(t[We]=i[We]=c,null!==s)for(const l of s)l(c,e);return Pg(a,o,t),c}(V,w,C,v,p,[uU]),Fg(f,p,null)}finally{Fp()}return new tU(this.componentType,g,co(m,p),p,m)}}class tU extends R2{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new ZB(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Gg(s[O],s,i,e,n),Kl(tn(this._tNode.index,s))}}get injector(){return new Js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function uU(){const t=Et();Cl(D()[O],t)}function we(t){let e=function $b(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=zg(t.inputs),o.declaredInputs=zg(t.declaredInputs),o.outputs=zg(t.outputs);const a=i.hostBindings;a&&hU(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&lU(t,u),c&&dU(t,c),fp(t.inputs,i.inputs),fp(t.declaredInputs,i.declaredInputs),fp(t.outputs,i.outputs),kn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function cU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ga(i.hostAttrs,n=Ga(n,i.hostAttrs))}}(r)}function zg(t){return t===Tr?{}:t===me?[]:t}function lU(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function dU(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function hU(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Zl(t){return!!function qg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Pt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function or(t,e,n,r){const i=D();return Pt(i,Xs(),e)&&(le(),ir(Ve(),i,t,e,n,r)),or}function Wg(t,e,n,r,i,s,o,a){const u=D(),c=le(),l=t+Me,d=c.firstCreatePass?function CU(t,e,n,r,i,s,o,a,u){const c=e.consts,l=po(e,t,4,o||null,ai(c,a));Bg(e,n,l,ai(c,u)),Cl(e,l);const d=l.tView=Vg(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];er(d,!1);const h=u[re].createComment("");kl(c,u,h,d),Ft(h,u),Wl(u,u[l]=Pb(h,u,h,d)),_l(d)&&kg(c,u,d),null!=o&&Lg(u,d,a)}function Lr(t,e,n){const r=D();return Pt(r,Xs(),e)&&function vn(t,e,n,r,i,s,o,a){const u=gn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Gg(t,n,l,r,i),ja(e)&&function OB(t,e){const n=tn(e,t);16&n[te]||(n[te]|=32)}(n,e.index)):3&e.type&&(r=function RB(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(le(),Ve(),r,t,e,r[re],n,!1),Lr}function Kg(t,e,n,r,i){const o=i?"class":"style";Gg(t,n,e.inputs[o],o,r)}function de(t,e,n,r){const i=D(),s=le(),o=Me+t,a=i[re],u=s.firstCreatePass?function IU(t,e,n,r,i,s){const o=e.consts,u=po(e,t,2,r,ai(o,i));return Bg(e,n,u,ai(o,s)),null!==u.attrs&&Yl(u,u.attrs,!1),null!==u.mergedAttrs&&Yl(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=i[o]=sg(a,e,function VL(){return X.lFrame.currentNamespace}()),l=_l(u);return er(u,!0),PE(a,c,u),32!=(32&u.flags)&&kl(s,i,c,u),0===function CL(){return X.lFrame.elementDepthCount}()&&Ft(c,i),function EL(){X.lFrame.elementDepthCount++}(),l&&(kg(s,i,u),Pg(s,u,i)),null!==r&&Lg(i,u),de}function he(){let t=Et();xp()?function Ap(){X.lFrame.isParent=!1}():(t=t.parent,er(t,!1));const e=t;!function bL(){X.lFrame.elementDepthCount--}();const n=le();return n.firstCreatePass&&(Cl(n,t),Ip(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function $L(t){return 0!=(8&t.flags)}(e)&&Kg(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function HL(t){return 0!=(16&t.flags)}(e)&&Kg(n,e,D(),e.stylesWithoutHost,!1),he}function Vr(t,e,n,r){return de(t,e,n,r),he(),Vr}function lu(t){return!!t&&"function"==typeof t.then}const Xg=function rI(t){return!!t&&"function"==typeof t.subscribe};function lt(t,e,n,r){const i=D(),s=le(),o=Et();return function sI(t,e,n,r,i,s,o){const a=_l(r),c=t.firstCreatePass&&Lb(t),l=e[We],d=kb(e);let h=!0;if(3&r.type||o){const g=gn(r,e),m=o?o(g):g,w=d.length,C=o?N=>o(Ct(N[r.index])):r.index;let v=null;if(!o&&a&&(v=function TU(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[qs],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=aI(r,e,l,s,!1);const N=n.listen(m,i,s);d.push(s,N),c&&c.push(i,C,w,w+1)}}else s=aI(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const V=e[p[m]][p[m+1]].subscribe(s),W=d.length;d.push(s,V),c&&c.push(i,r.index,W,-(W+1))}}}(s,i,i[re],o,t,e,r),lt}function oI(t,e,n,r){try{return Sn(6,e,n),!1!==n(r)}catch(i){return Bb(t,i),!1}finally{Sn(7,e,n)}}function aI(t,e,n,r,i){return function s(o){if(o===Function)return r;Kl(t.componentOffset>-1?tn(t.index,e):e);let u=oI(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=oI(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ci(t=1){return function RL(t){return(X.lFrame.contextLView=function OL(t,e){for(;t>0;)e=e[Ws],t--;return e}(t,X.lFrame.contextLView))[We]}(t)}function ed(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function Jg(t){return 2|t}function is(t){return(131068&t)>>2}function em(t,e){return-131069&t|e<<2}function tm(t){return 1|t}function yI(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?li(s):is(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];kU(t[a],e)&&(u=!0,t[a+1]=r?tm(l):Jg(l)),a=r?li(l):is(l)}u&&(t[n+1]=r?Jg(s):tm(s))}function kU(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&io(t,e)>=0}function td(t,e){return function Vn(t,e,n,r){const i=D(),s=le(),o=function Nr(t){const e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function SI(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[zt()],o=function II(t,e){return e>=t.expandoStartIndex}(t,n);(function MI(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function zU(t,e,n,r){const i=function Np(t){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=du(n=nm(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=nm(i,t,e,n,r),null===s){let u=function qU(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==is(r))return t[li(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=nm(null,t,e,u[1],r),u=du(u,e.attrs,r),function WU(t,e,n,r){t[li(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function KU(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=du(r,t[s].hostAttrs,n);return du(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function FU(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=li(o),u=is(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||io(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=li(t[a+1]);t[r+1]=ed(h,a),0!==h&&(t[h+1]=em(t[h+1],r)),t[a+1]=function RU(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ed(a,0),0!==a&&(t[a+1]=em(t[a+1],r)),a=r;else t[r+1]=ed(u,0),0===a?a=r:t[u+1]=em(t[u+1],r),u=r;c&&(t[r+1]=Jg(t[r+1])),yI(t,l,r,!0),yI(t,l,r,!1),function PU(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&io(s,e)>=0&&(n[r+1]=tm(n[r+1]))}(e,l,t,r,s),o=ed(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Z&&Pt(i,o,e)&&function xI(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function OU(t){return 1==(1&t)}(c)?AI(u,e,n,i,is(c),o):void 0;nd(l)||(nd(s)||function NU(t){return 2==(2&t)}(c)&&(s=AI(u,null,n,i,a,o)),function QV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:nn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=nn.Important),t.setStyle(n,r,i,s))}}(r,o,wl(zt(),n),i,s))}(s,s.data[zt()],i,i[re],t,i[o+1]=function ZU(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ie(ui(t)))),t}(e,n),r,o)}(t,e,null,!0),td}function nm(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=du(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function du(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mn(t,o,!!n||e[++s]))}return void 0===t?null:t}function AI(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Z&&(h=d?me:void 0);let f=d?zp(h,r):l===r?h:void 0;if(c&&!nd(f)&&(f=zp(u,r)),nd(f)&&(a=f,o))return a;const p=t[i+1];i=o?li(p):is(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=zp(u,r))}return a}function nd(t){return void 0!==t}function Ne(t,e=""){const n=D(),r=le(),i=t+Me,s=r.firstCreatePass?po(r,i,1,e,null):r.data[i],o=n[i]=function ig(t,e){return t.createText(e)}(n[re],e);kl(r,n,o,s),er(s,!1)}function rd(t){return rm("",t,""),rd}function rm(t,e,n){const r=D(),i=function mo(t,e,n,r){return Pt(t,Xs(),n)?e+Y(n)+r:Z}(r,t,e,n);return i!==Z&&function kr(t,e,n){const r=wl(e,t);!function DE(t,e,n){t.setValue(e,n)}(t[re],r,n)}(r,zt(),i),rm}const So="en-US";let ZI=So;function om(t,e,n,r,i){if(t=j(t),Array.isArray(t))for(let s=0;s<t.length;s++)om(t[s],e,n,r,i);else{const s=le(),o=D();let a=ns(t)?t:j(t.provide),u=ib(t);const c=Et(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ns(t)||!t.multi){const f=new Ha(u,i,b),p=um(a,e,i?l:l+h,d);-1===p?(jp(xl(c,o),s,a),am(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=um(a,e,l+h,d),p=um(a,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){jp(xl(c,o),s,a);const w=function m$(t,e,n,r,i){const s=new Ha(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,ES(s,i,r&&!n),s}(i?g$:p$,n.length,i,r,u);!i&&m&&(n[p].providerFactory=w),am(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)}else am(s,t,f>-1?f:p,ES(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function am(t,e,n,r){const i=ns(e),s=function I2(t){return!!t.useClass}(e);if(i||s){const u=(s?j(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function ES(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function um(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function p$(t,e,n,r){return cm(this.multi,[])}function g$(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ji(n,n[O],this.providerFactory.index,r);s=a.slice(0,o),cm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],cm(i,s);return s}function cm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ke(t,e=[]){return n=>{n.providersResolver=(r,i)=>function f$(t,e,n){const r=le();if(r.firstCreatePass){const i=kn(t);om(n,r.data,r.blueprint,i,!0),om(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class To{}class bS{}class IS extends To{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ub(this);const r=fn(e);this._bootstrapComponents=Pr(r.bootstrap),this._r3Injector=_b(e,n,[{provide:To,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],Ie(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class lm extends bS{constructor(e){super(),this.moduleType=e}create(e){return new IS(this.moduleType,e)}}class v$ extends To{constructor(e,n,r){super(),this.componentFactoryResolver=new Ub(this),this.instance=null;const i=new rb([...e,{provide:To,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],n||Hl(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ud(t,e,n=null){return new v$(t,e,n).injector}let _$=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=JE(0,n.type),i=r.length>0?ud([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(G(Or))}),t})();function SS(t){t.getStandaloneInjector=e=>e.get(_$).getOrCreateStandaloneInjector(t)}function hm(t){return e=>{setTimeout(t,void 0,e)}}const He=class z$ extends br{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=hm(s),i&&(i=hm(i)),o&&(o=hm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof ln&&e.add(a),a}};let Br=(()=>{class t{}return t.__NG_ELEMENT_ID__=Q$,t})();const W$=Br,K$=class extends W${constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=zl(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[Ba]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Jn];return null!==o&&(i[Jn]=o.createEmbeddedView(r)),Fg(r,i,e),new au(i)}};function Q$(){return function cd(t,e){return 4&t.type?new K$(e,t,co(t,e)):null}(Et(),D())}let Un=(()=>{class t{}return t.__NG_ELEMENT_ID__=Y$,t})();function Y$(){return function US(t,e){let n;const r=e[t.index];if(Pn(r))n=r;else{let i;if(8&t.type)i=Ct(r);else{const s=e[re];i=s.createComment("");const o=gn(t,e);ts(s,Pl(s,o),i,function qV(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=Pb(r,e,i,t),Wl(e,n)}return new VS(n,t,e)}(Et(),D())}const X$=Un,VS=class extends X${constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return co(this._hostTNode,this._hostLView)}get injector(){return new Js(this._hostTNode,this._hostLView)}get parentInjector(){const e=Up(this._hostTNode,this._hostLView);if(jC(e)){const n=Sl(e,this._hostLView),r=Il(e);return new Js(n[O].data[r+8],n)}return new Js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=BS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function qa(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new uu(_e(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Or,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[O];if(function DL(t){return Pn(t[je])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[je],h=new VS(d,d[Rt],d[je]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function jV(t,e,n,r){const i=Ht+r,s=n.length;r>0&&(n[i-1][Fn]=e),r<s-Ht?(e[Fn]=n[i],JC(n,Ht+r,e)):(n.push(e),e[Fn]=null),e[je]=n;const o=e[Ba];null!==o&&n!==o&&function $V(t,e){const n=t[Qs];e[Ot]!==e[je][je][Ot]&&(t[gC]=!0),null===n?t[Qs]=[e]:n.push(e)}(o,e);const a=e[Jn];null!==a&&a.insertView(t),e[te]|=64}(i,r,o,s);const a=cg(s,o),u=r[re],c=Pl(u,o[yl]);return null!==c&&function VV(t,e,n,r,i,s){r[Ar]=i,r[Rt]=e,eu(t,r,n,1,i,s)}(i,o[Rt],u,r,c,a),e.attachToViewContainerRef(),JC(pm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=BS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=og(this._lContainer,n);r&&(Nl(pm(this._lContainer),n),EE(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=og(this._lContainer,n);return r&&null!=Nl(pm(this._lContainer),n)?new au(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function BS(t){return t[vl]}function pm(t){return t[vl]||(t[vl]=[])}function dd(...t){}const hd=new L("Application Initializer");let fd=(()=>{class t{constructor(n){this.appInits=n,this.resolve=dd,this.reject=dd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(lu(s))n.push(s);else if(Xg(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(G(hd,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const wu=new L("AppId",{providedIn:"root",factory:function hT(){return`${Im()}${Im()}${Im()}`}});function Im(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fT=new L("Platform Initializer"),pT=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let I4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ur=new L("LocaleId",{providedIn:"root",factory:()=>ae(Ur,H.Optional|H.SkipSelf)||function S4(){return typeof $localize<"u"&&$localize.locale||So}()});class x4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let gT=(()=>{class t{compileModuleSync(n){return new lm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Pr(fn(n).declarations).reduce((o,a)=>{const u=_e(a);return u&&o.push(new uu(u)),o},[]);return new x4(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const N4=(()=>Promise.resolve(0))();function Sm(t){typeof Zone>"u"?N4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function R4(){let t=Ae.requestAnimationFrame,e=Ae.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function P4(t){const e=()=>{!function F4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xm(t),t.isCheckStableRunning=!0,Tm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return vT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),_T(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return vT(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),_T(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,xm(t),Tm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,O4,dd,dd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const O4={};function Tm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _T(t){t._nesting--,Tm(t)}class k4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const wT=new L(""),pd=new L("");let Nm,Am=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nm||(function L4(t){Nm=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),Sm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(G(Ke),G(Mm),G(pd))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Mm=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Nm?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const jr=!1;let di=null;const DT=new L("AllowMultipleToken"),Rm=new L("PlatformDestroyListeners"),CT=new L("appBootstrapListener");class ET{constructor(e,n){this.name=e,this.token=n}}function IT(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=Om();if(!o||o.injector.get(DT,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function U4(t){if(di&&!di.get(DT,!1))throw new T(400,!1);di=t;const e=t.get(TT);(function bT(t){const e=t.get(fT,null);e&&e.forEach(n=>n())})(t)}(function ST(t=[],e){return rr.create({name:e,providers:[{provide:Cg,useValue:"platform"},{provide:Rm,useValue:new Set([()=>di=null])},...t]})}(a,r))}return function $4(t){const e=Om();if(!e)throw new T(401,!1);return e}()}}function Om(){return di?.get(TT)??null}let TT=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function AT(t,e){let n;return n="noop"===t?new k4:("zone.js"===t?void 0:t)||new Ke(e),n}(r?.ngZone,function xT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ke,useValue:i}];return i.run(()=>{const o=rr.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(lo,null);if(!u)throw new T(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{md(this._modules,a),c.unsubscribe()})}),function MT(t,e,n){try{const r=n();return lu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(fd);return c.runInitializers(),c.donePromise.then(()=>(function JI(t){En(t,"Expected localeId to be defined"),"string"==typeof t&&(ZI=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ur,So)||So),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=NT({},r);return function V4(t,e,n){const r=new lm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(gd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Rm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(G(rr))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function NT(t,e){return Array.isArray(e)?e.reduce(NT,t):{...t,...e}}let gd=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new qe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new qe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),Sm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function Uk(...t){const e=Oa(t),n=function Ok(t,e){return"number"==typeof dp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?dn(r[0]):Hs(n)(nt(r,e)):Qn}(s,o.pipe(function jk(t={}){const{connector:e=(()=>new br),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ut((g,m)=>{c++,!d&&!l&&h();const w=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=hp(p,i))}),w.subscribe(m),!o&&c>0&&(o=new Ra({next:C=>w.next(C),error:C=>{d=!0,h(),a=hp(f,n,C),w.error(C)},complete:()=>{l=!0,h(),a=hp(f,r),w.complete()}}),dn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof sb;if(!this._injector.get(fd).done){!i&&function zs(t){const e=_e(t)||Nt(t)||en(t);return null!==e&&e.standalone}(n);throw new T(405,jr)}let o;o=i?n:this._injector.get(iu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function B4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(To),c=o.create(rr.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(wT,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),md(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;md(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(CT,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>md(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(G(Ke),G(Or),G(lo))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function md(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let yd=(()=>{class t{}return t.__NG_ELEMENT_ID__=G4,t})();function G4(t){return function z4(t,e,n){if(ja(t)&&!n){const r=tn(t.index,e);return new au(r,r)}return 47&t.type?new au(e[Ot],e):null}(Et(),D(),16==(16&t))}class kT{constructor(){}supports(e){return Zl(e)}create(e){return new X4(e)}}const Y4=(t,e)=>e;class X4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Y4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<VT(r,i,s)?n:r,a=VT(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Zl(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function _U(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Z4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new LT),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LT),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Z4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class J4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class LT{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new J4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VT(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function UT(){return new wd([new kT])}let wd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||UT()),deps:[[t,new Qa,new Ka]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=$({token:t,providedIn:"root",factory:UT}),t})();const iH=IT(null,"core",[]);let sH=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(G(gd))},t.\u0275mod=Zn({type:t}),t.\u0275inj=On({}),t})();function Mo(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Vm=null;function $r(){return Vm}class uH{}const sn=new L("DocumentToken");let Bm=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return function cH(){return G($T)}()},providedIn:"platform"}),t})();const lH=new L("Location Initialized");let $T=(()=>{class t extends Bm{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $r().getBaseHref(this._doc)}onPopState(n){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){HT()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){HT()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(G(sn))},t.\u0275prov=$({token:t,factory:function(){return function dH(){return new $T(G(sn))}()},providedIn:"platform"}),t})();function HT(){return!!window.history.pushState}function Um(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function GT(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hr(t){return t&&"?"!==t[0]?"?"+t:t}let as=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ae(qT)},providedIn:"root"}),t})();const zT=new L("appBaseHref");let qT=(()=>{class t extends as{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ae(sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Um(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Hr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Hr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Hr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(G(Bm),G(zT,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hH=(()=>{class t extends as{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Um(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Hr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Hr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(G(Bm),G(zT,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),jm=(()=>{class t{constructor(n){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function gH(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(GT(WT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hr(r))}normalize(n){return t.stripTrailingSlash(function pH(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,WT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Hr,t.joinWithSlash=Um,t.stripTrailingSlash=GT,t.\u0275fac=function(n){return new(n||t)(G(as))},t.\u0275prov=$({token:t,factory:function(){return function fH(){return new jm(G(as))}()},providedIn:"root"}),t})();function WT(t){return t.replace(/\/index.html$/,"")}class tG{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sx=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new tG(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),ox(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{ox(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Un),b(Br),b(wd))},t.\u0275dir=q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function ox(t,e){t.context.$implicit=e.item}let ax=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new rG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ux("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ux("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Un),b(Br))},t.\u0275dir=q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class rG{constructor(){this.$implicit=null,this.ngIf=null}}function ux(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ie(e)}'.`)}let xG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=On({}),t})();let hx=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>new RG(G(sn),window)}),t})();class RG{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function OG(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fx(this.window.history)||fx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fx(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class a3 extends uH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iy extends a3{static makeCurrent(){!function aH(t){Vm||(Vm=t)}(new iy)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function u3(){return Iu=Iu||document.querySelector("base"),Iu?Iu.getAttribute("href"):null}();return null==n?null:function c3(t){Rd=Rd||document.createElement("a"),Rd.setAttribute("href",t);const e=Rd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Iu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ZH(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Rd,Iu=null;const vx=new L("TRANSITION_ID"),d3=[{provide:hd,useFactory:function l3(t,e,n){return()=>{n.get(fd).donePromise.then(()=>{const r=$r(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[vx,sn,rr],multi:!0}];let f3=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Od=new L("EventManagerPlugins");let Fd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(G(Od),G(Ke))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class _x{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=$r().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let wx=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Su=(()=>{class t extends wx{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(G(sn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const sy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oy=/%COMP%/g,Ex=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bx(t,e){return e.flat(100).map(n=>n.replace(oy,t))}function Ix(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ay=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new uy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof xx?i.applyToHost(n):i instanceof cy&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Xn.Emulated:s=new xx(o,a,r,this.appId,u);break;case Xn.ShadowDom:return new w3(o,a,n,r);default:s=new cy(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(G(Fd),G(Su),G(wu),G(Ex))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class uy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(sy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(Tx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Tx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=sy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=sy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(nn.DashCase|nn.Important)?e.style.setProperty(n,r,i&nn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&nn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Ix(r)):this.eventManager.addEventListener(e,n,Ix(r))}}function Tx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class w3 extends uy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=bx(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cy extends uy{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=bx(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class xx extends cy{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function y3(t){return"_ngcontent-%COMP%".replace(oy,t)}(o),this.hostAttr=function v3(t){return"_nghost-%COMP%".replace(oy,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let D3=(()=>{class t extends _x{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(G(sn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Ax=["alt","control","meta","shift"],C3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let b3=(()=>{class t extends _x{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$r().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Ax.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=C3[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ax.forEach(o=>{o!==i&&(0,E3[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(G(sn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Nx=[{provide:pT,useValue:"browser"},{provide:fT,useValue:function I3(){iy.makeCurrent()},multi:!0},{provide:sn,useFactory:function T3(){return function e2(t){fg=t}(document),document},deps:[]}],x3=IT(iH,"browser",Nx),Rx=new L(""),Ox=[{provide:pd,useClass:class h3{addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?$r().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:wT,useClass:Am,deps:[Ke,Mm,pd]},{provide:Am,useClass:Am,deps:[Ke,Mm,pd]}],Fx=[{provide:Cg,useValue:"root"},{provide:lo,useFactory:function S3(){return new lo},deps:[]},{provide:Od,useClass:D3,multi:!0,deps:[sn,Ke,pT]},{provide:Od,useClass:b3,multi:!0,deps:[sn]},{provide:ay,useClass:ay,deps:[Fd,Su,wu,Ex]},{provide:ab,useExisting:ay},{provide:wx,useExisting:Su},{provide:Su,useClass:Su,deps:[sn]},{provide:Fd,useClass:Fd,deps:[Od,Ke]},{provide:class FG{},useClass:f3,deps:[]},[]];let A3=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:wu,useValue:n.appId},{provide:vx,useExisting:wu},d3]}}}return t.\u0275fac=function(n){return new(n||t)(G(Rx,12))},t.\u0275mod=Zn({type:t}),t.\u0275inj=On({providers:[...Fx,...Ox],imports:[xG,sH]}),t})(),Px=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(G(sn))},t.\u0275prov=$({token:t,factory:function(n){let r=null;return r=n?new n:function N3(){return new Px(G(sn))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:L3}=Array,{getPrototypeOf:V3,prototype:B3,keys:U3}=Object;function Vx(t){if(1===t.length){const e=t[0];if(L3(e))return{args:e,keys:null};if(function j3(t){return t&&"object"==typeof t&&V3(t)===B3}(e)){const n=U3(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:$3}=Array;function Bx(t){return oe(e=>function H3(t,e){return $3(e)?t(...e):t(e)}(t,e))}function Ux(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let jx=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(Fr),b(yn))},t.\u0275dir=q({type:t}),t})(),us=(()=>{class t extends jx{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=bt(t)))(r||t)}}(),t.\u0275dir=q({type:t,features:[we]}),t})();const cr=new L("NgValueAccessor"),q3={provide:cr,useExisting:Se(()=>Pd),multi:!0},K3=new L("CompositionEventMode");let Pd=(()=>{class t extends jx{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W3(){const t=$r()?$r().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Fr),b(yn),b(K3,8))},t.\u0275dir=q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&lt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ke([q3]),we]}),t})();const Q3=!1,kt=new L("NgValidators"),pi=new L("NgAsyncValidators");function Zx(t){return null!=t}function Jx(t){const e=lu(t)?nt(t):t;if(Q3&&!Xg(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new T(-1101,n)}return e}function eA(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function tA(t,e){return e.map(n=>n(t))}function nA(t){return t.map(e=>function X3(t){return!t.validate}(e)?e:n=>e.validate(n))}function hy(t){return null!=t?function rA(t){if(!t)return null;const e=t.filter(Zx);return 0==e.length?null:function(n){return eA(tA(n,e))}}(nA(t)):null}function fy(t){return null!=t?function iA(t){if(!t)return null;const e=t.filter(Zx);return 0==e.length?null:function(n){return function G3(...t){const e=Z0(t),{args:n,keys:r}=Vx(t),i=new qe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;dn(n[l]).subscribe(tt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?Ux(r,a):a),s.complete())}))}});return e?i.pipe(Bx(e)):i}(tA(n,e).map(Jx)).pipe(oe(eA))}}(nA(t)):null}function sA(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function py(t){return t?Array.isArray(t)?t:[t]:[]}function Ld(t,e){return Array.isArray(t)?t.includes(e):t===e}function uA(t,e){const n=py(e);return py(t).forEach(i=>{Ld(n,i)||n.push(i)}),n}function cA(t,e){return py(e).filter(n=>!Ld(t,n))}class lA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Kt extends lA{get formDirective(){return null}get path(){return null}}class gi extends lA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dA{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hA=(()=>{class t extends dA{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(gi,2))},t.\u0275dir=q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&td("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[we]}),t})();const Tu="VALID",Bd="INVALID",No="PENDING",xu="DISABLED";function Ud(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class mA{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tu}get invalid(){return this.status===Bd}get pending(){return this.status==No}get disabled(){return this.status===xu}get enabled(){return this.status!==xu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cA(e,this._rawAsyncValidators))}hasValidator(e){return Ld(this._rawValidators,e)}hasAsyncValidator(e){return Ld(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=No,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=xu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tu||this.status===No)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xu:Tu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=No,this._hasOwnPendingAsyncValidator=!0;const n=Jx(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?xu:this.errors?Bd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(No)?No:this._anyControlsHaveStatus(Bd)?Bd:Tu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ud(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function s9(t){return Array.isArray(t)?hy(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function o9(t){return Array.isArray(t)?fy(t):t||null}(this._rawAsyncValidators)}}const Ro=new L("CallSetDisabledState",{providedIn:"root",factory:()=>jd}),jd="always";function Au(t,e,n=jd){(function Dy(t,e){const n=function oA(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(sA(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function aA(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(sA(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Gd(e._rawValidators,i),Gd(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function c9(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&yA(t,e)})}(t,e),function d9(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function l9(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&yA(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function u9(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Gd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function yA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function wA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function DA(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const CA=class extends mA{constructor(e=null,n,r){super(function vy(t){return(Ud(t)?t.validators:t)||null}(n),function _y(t,e){return(Ud(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ud(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=DA(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){DA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},_9={provide:gi,useExisting:Se(()=>Sy)},IA=(()=>Promise.resolve())();let Sy=(()=>{class t extends gi{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new CA,this._registered=!1,this.update=new He,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function by(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Pd?n=s:function p9(t){return Object.getPrototypeOf(t.constructor)===us}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Ey(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Au(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){IA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Mo(r);IA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function $d(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(Kt,9),b(kt,10),b(pi,10),b(cr,10),b(yd,8),b(Ro,8))},t.\u0275dir=q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ke([_9]),we,In]}),t})(),TA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=On({}),t})(),G9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=On({imports:[TA]}),t})(),q9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ro,useValue:n.callSetDisabledState??jd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=On({imports:[G9]}),t})();function U(...t){return nt(t,Oa(t))}class Gn extends br{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const qd=Na(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function zA(...t){const e=Oa(t),n=Z0(t),{args:r,keys:i}=Vx(t);if(0===r.length)return nt([],e);const s=new qe(function W9(t,e,n=Wi){return r=>{qA(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)qA(e,()=>{const c=nt(t[u],e);let l=!1;c.subscribe(tt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Ux(i,o):Wi));return n?s.pipe(Bx(n)):s}function qA(t,e,n){t?Ir(n,t,e):e()}function Wd(...t){return function K9(){return Hs(1)}()(nt(t,Oa(t)))}function WA(t){return new qe(e=>{dn(t()).subscribe(e)})}function Nu(t,e){const n=be(t)?t:()=>t,r=i=>i.error(n());return new qe(e?i=>e.schedule(r,0,i):r)}function Oy(){return ut((t,e)=>{let n=null;t._refCount++;const r=tt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class KA extends qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,k0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ln;const n=this.getSubject();e.add(this.source.subscribe(tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ln.EMPTY)}return e}refCount(){return Oy()(this)}}function lr(t,e){return ut((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(tt(r,u=>{i?.unsubscribe();let c=0;const l=s++;dn(t(u,l)).subscribe(i=tt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function mi(t){return t<=0?()=>Qn:ut((e,n)=>{let r=0;e.subscribe(tt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zr(t,e){return ut((n,r)=>{let i=0;n.subscribe(tt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Kd(t){return ut((e,n)=>{let r=!1;e.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function QA(t=Y9){return ut((e,n)=>{let r=!1;e.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Y9(){return new qd}function yi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zr((i,s)=>t(i,s,r)):Wi,mi(1),n?Kd(e):QA(()=>new qd))}function ls(t,e){return be(e)?gt(t,e,1):gt(t,1)}function Lt(t,e,n){const r=be(t)||e||n?{next:t,error:e,complete:n}:t;return r?ut((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(tt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Wi}function vi(t){return ut((e,n)=>{let s,r=null,i=!1;r=e.subscribe(tt(n,void 0,void 0,o=>{s=dn(t(o,vi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function YA(t,e){return ut(function X9(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(tt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function Fy(t){return t<=0?()=>Qn:ut((e,n)=>{let r=[];e.subscribe(tt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function XA(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zr((i,s)=>t(i,s,r)):Wi,Fy(1),n?Kd(e):QA(()=>new qd))}function ZA(t){return oe(()=>t)}function Py(t){return ut((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const J="primary",Ru=Symbol("RouteTitle");class J9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Oo(t){return new J9(t)}function ez(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!JA(t[i],e[i]))return!1;return!0}function JA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function eM(t){return Array.prototype.concat.apply([],t)}function tM(t){return t.length>0?t[t.length-1]:null}function It(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function _i(t){return Xg(t)?t:lu(t)?nt(Promise.resolve(t)):U(t)}const Qd=!1,nz={exact:function iM(t,e,n){if(!ds(t.segments,e.segments)||!Yd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!iM(t.children[r],e.children[r],n))return!1;return!0},subset:sM},nM={exact:function rz(t,e){return dr(t,e)},subset:function iz(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>JA(t[n],e[n]))},ignored:()=>!0};function rM(t,e,n){return nz[n.paths](t.root,e.root,n.matrixParams)&&nM[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function sM(t,e,n){return oM(t,e,e.segments,n)}function oM(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ds(i,n)||e.hasChildren()||!Yd(i,n,r))}if(t.segments.length===n.length){if(!ds(t.segments,n)||!Yd(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!sM(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ds(t.segments,i)&&Yd(t.segments,i,r)&&t.children[J])&&oM(t.children[J],e,s,r)}}function Yd(t,e,n){return e.every((r,i)=>nM[n](t[i].parameters,r.parameters))}class wi{constructor(e=new ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oo(this.queryParams)),this._queryParamMap}toString(){return az.serialize(this)}}class ie{constructor(e,n){this.segments=e,this.children=n,this.parent=null,It(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xd(this)}}class Ou{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Oo(this.parameters)),this._parameterMap}toString(){return cM(this)}}function ds(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Fu=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return new ky},providedIn:"root"}),t})();class ky{parse(e){const n=new mz(e);return new wi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Pu(e.root,!0)}`,r=function lz(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Zd(n)}=${Zd(i)}`).join("&"):`${Zd(n)}=${Zd(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function uz(t){return encodeURI(t)}(e.fragment)}`:""}`}}const az=new ky;function Xd(t){return t.segments.map(e=>cM(e)).join("/")}function Pu(t,e){if(!t.hasChildren())return Xd(t);if(e){const n=t.children[J]?Pu(t.children[J],!1):"",r=[];return It(t.children,(i,s)=>{s!==J&&r.push(`${s}:${Pu(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function oz(t,e){let n=[];return It(t.children,(r,i)=>{i===J&&(n=n.concat(e(r,i)))}),It(t.children,(r,i)=>{i!==J&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===J?[Pu(t.children[J],!1)]:[`${i}:${Pu(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[J]?`${Xd(t)}/${n[0]}`:`${Xd(t)}/(${n.join("//")})`}}function aM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zd(t){return aM(t).replace(/%3B/gi,";")}function Ly(t){return aM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jd(t){return decodeURIComponent(t)}function uM(t){return Jd(t.replace(/\+/g,"%20"))}function cM(t){return`${Ly(t.path)}${function cz(t){return Object.keys(t).map(e=>`;${Ly(e)}=${Ly(t[e])}`).join("")}(t.parameters)}`}const dz=/^[^\/()?;=#]+/;function eh(t){const e=t.match(dz);return e?e[0]:""}const hz=/^[^=?&#]+/,pz=/^[^&#]+/;class mz{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new ie(e,n)),r}parseSegment(){const e=eh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,Qd);return this.capture(e),new Ou(Jd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=eh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=eh(this.remaining);i&&(r=i,this.capture(r))}e[Jd(n)]=Jd(r)}parseQueryParam(e){const n=function fz(t){const e=t.match(hz);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function gz(t){const e=t.match(pz);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=uM(n),s=uM(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,Qd);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[J]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,Qd)}}function Vy(t){return t.segments.length>0?new ie([],{[J]:t}):t}function th(t){const e={};for(const r of Object.keys(t.children)){const s=th(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function yz(t){if(1===t.numberOfChildren&&t.children[J]){const e=t.children[J];return new ie(t.segments.concat(e.segments),e.children)}return t}(new ie(t.segments,e))}function hs(t){return t instanceof wi}const By=!1;function vz(t,e,n,r,i){if(0===n.length)return Fo(e.root,e.root,e.root,r,i);const s=function pM(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fM(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return It(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new fM(n,e,r)}(n);return s.toRoot()?Fo(e.root,e.root,new ie([],{}),r,i):function o(u){const c=function wz(t,e,n,r){if(t.isAbsolute)return new Po(e.root,!0,0);if(-1===r)return new Po(n,n===e.root,0);return function gM(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,By&&"Invalid number of '../'");i=r.segments.length}return new Po(r,!1,i-s)}(n,r+(ku(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?ko(c.segmentGroup,c.index,s.commands):Uy(c.segmentGroup,c.index,s.commands);return Fo(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function ku(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Lu(t){return"object"==typeof t&&null!=t&&t.outlets}function Fo(t,e,n,r,i){let o,s={};r&&It(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:hM(t,e,n);const a=Vy(th(o));return new wi(a,s,i)}function hM(t,e,n){const r={};return It(t.children,(i,s)=>{r[s]=i===e?n:hM(i,e,n)}),new ie(t.segments,r)}class fM{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ku(r[0]))throw new T(4003,By&&"Root segment cannot have matrix parameters");const i=r.find(Lu);if(i&&i!==tM(r))throw new T(4004,By&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Po{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Uy(t,e,n){if(t||(t=new ie([],{})),0===t.segments.length&&t.hasChildren())return ko(t,e,n);const r=function Cz(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Lu(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!yM(u,c,o))return s;r+=2}else{if(!yM(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[J]=new ie(t.segments.slice(r.pathIndex),t.children),ko(s,0,i)}return r.match&&0===i.length?new ie(t.segments,{}):r.match&&!t.hasChildren()?jy(t,e,n):r.match?ko(t,0,i):jy(t,e,n)}function ko(t,e,n){if(0===n.length)return new ie(t.segments,{});{const r=function Dz(t){return Lu(t[0])?t[0].outlets:{[J]:t}}(n),i={};if(!r[J]&&t.children[J]&&1===t.numberOfChildren&&0===t.children[J].segments.length){const s=ko(t.children[J],e,n);return new ie(t.segments,s.children)}return It(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Uy(t.children[o],e,s))}),It(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ie(t.segments,i)}}function jy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Lu(s)){const u=Ez(s.outlets);return new ie(r,u)}if(0===i&&ku(n[0])){r.push(new Ou(t.segments[e].path,mM(n[0]))),i++;continue}const o=Lu(s)?s.outlets[J]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ku(a)?(r.push(new Ou(o,mM(a))),i+=2):(r.push(new Ou(o,{})),i++)}return new ie(r,{})}function Ez(t){const e={};return It(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=jy(new ie([],{}),0,n))}),e}function mM(t){const e={};return It(t,(n,r)=>e[r]=`${n}`),e}function yM(t,e,n){return t==n.path&&dr(e,n.parameters)}const Vu="imperative";class hr{constructor(e,n){this.id=e,this.url=n}}class $y extends hr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fs extends hr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nh extends hr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rh extends hr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Hy extends hr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bz extends hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iz extends hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sz extends hr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tz extends hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xz extends hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Az{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mz{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nz{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rz{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oz{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fz{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gy{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Lz=(()=>{class t{createUrlTree(n,r,i,s,o,a){return vz(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Bz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(e){return Lz.\u0275fac(e)},providedIn:"root"}),t})();class vM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=zy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=zy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=qy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qy(e,this._root).map(n=>n.value)}}function zy(t,e){if(t===e.value)return e;for(const n of e.children){const r=zy(t,n);if(r)return r}return null}function qy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=qy(t,n);if(r.length)return r.unshift(e),r}return[]}class qr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Lo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class _M extends vM{constructor(e,n){super(e),this.snapshot=n,Wy(this,e)}toString(){return this.snapshot.toString()}}function wM(t,e){const n=function Uz(t,e){const o=new ih([],{},{},"",{},J,e,null,t.root,-1,{});return new CM("",new qr(o,[]))}(t,e),r=new Gn([new Ou("",{})]),i=new Gn({}),s=new Gn({}),o=new Gn({}),a=new Gn(""),u=new Vo(r,i,o,a,s,J,e,n.root);return u.snapshot=n.root,new _M(new qr(u,[]),n)}class Vo{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(oe(c=>c[Ru]))??U(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(oe(e=>Oo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(oe(e=>Oo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DM(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function jz(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ih{get title(){return this.data?.[Ru]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CM extends vM{constructor(e,n){super(n),this.url=e,Wy(this,n)}toString(){return EM(this._root)}}function Wy(t,e){e.value._routerState=t,e.children.forEach(n=>Wy(t,n))}function EM(t){const e=t.children.length>0?` { ${t.children.map(EM).join(", ")} } `:"";return`${t.value}${e}`}function Ky(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),dr(e.params,n.params)||t.params.next(n.params),function tz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),dr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Qy(t,e){const n=dr(t.params,e.params)&&function sz(t,e){return ds(t,e)&&t.every((n,r)=>dr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Qy(t.parent,e.parent))}function Bu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Hz(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Bu(t,r,i);return Bu(t,r)})}(t,e,n);return new qr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Bu(t,a)),o}}const r=function Gz(t){return new Vo(new Gn(t.url),new Gn(t.params),new Gn(t.queryParams),new Gn(t.fragment),new Gn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Bu(t,s));return new qr(r,i)}}const Yy="ngNavigationCancelingError";function bM(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=hs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IM(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function IM(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Yy]=!0,r.cancellationCode=e,n&&(r.url=n),r}function SM(t){return TM(t)&&hs(t.url)}function TM(t){return t&&t[Yy]}class zz{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Uu,this.attachRef=null}}let Uu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new zz,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sh=!1;let Xy=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=ae(Uu),this.location=ae(Un),this.changeDetector=ae(yd),this.environmentInjector=ae(Or)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,sh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,sh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,sh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,sh);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new qz(n,a,i.injector);if(r&&function Wz(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]}),t})();class qz{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Vo?this.route:e===Uu?this.childContexts:this.parent.get(e,n)}}let Zy=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oi({type:t,selectors:[["ng-component"]],standalone:!0,features:[SS],decls:1,vars:0,template:function(n,r){1&n&&Vr(0,"router-outlet")},dependencies:[Xy],encapsulation:2}),t})();function xM(t,e){return t.providers&&!t._injector&&(t._injector=ud(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ev(t){const e=t.children&&t.children.map(ev),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=Zy),n}function Nn(t){return t.outlet||J}function AM(t,e){const n=t.filter(r=>Nn(r)===e);return n.push(...t.filter(r=>Nn(r)!==e)),n}function ju(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Zz{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ky(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Lo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),It(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Lo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Lo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Lo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Fz(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Rz(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Ky(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ky(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ju(i.snapshot),u=a?.get(iu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class MM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class oh{constructor(e,n){this.component=e,this.route=n}}function Jz(t,e,n){const r=t._root;return $u(r,e?e._root:null,n,[r.value])}function Bo(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Kk(t){return null!==cl(t)}(t)?e.get(t):t:r}function $u(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Lo(e);return t.children.forEach(o=>{(function tq(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function nq(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ds(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ds(t.url,e.url)||!dr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qy(t,e)||!dr(t.queryParams,e.queryParams);default:return!Qy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new MM(r)):(s.data=o.data,s._resolvedData=o._resolvedData),$u(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new oh(a.outlet.component,o))}else o&&Hu(e,a,i),i.canActivateChecks.push(new MM(r)),$u(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),It(s,(o,a)=>Hu(o,n.getContext(a),i)),i}function Hu(t,e,n){const r=Lo(t),i=t.value;It(r,(s,o)=>{Hu(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new oh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gu(t){return"function"==typeof t}function tv(t){return t instanceof qd||"EmptyError"===t?.name}const ah=Symbol("INITIAL_VALUE");function Uo(){return lr(t=>zA(t.map(e=>e.pipe(mi(1),function Q9(...t){const e=Oa(t);return ut((n,r)=>{(e?Wd(t,n,e):Wd(t,n)).subscribe(r)})}(ah)))).pipe(oe(e=>{for(const n of e)if(!0!==n){if(n===ah)return ah;if(!1===n||n instanceof wi)return n}return!0}),zr(e=>e!==ah),mi(1)))}function NM(t){return function ZP(...t){return O0(t)}(Lt(e=>{if(hs(e))throw bM(0,e)}),oe(e=>!0===e))}const nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RM(t,e,n,r,i){const s=rv(t,e,n);return s.matched?function _q(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?U(i.map(o=>{const a=Bo(o,t);return _i(function uq(t){return t&&Gu(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Uo(),NM()):U(!0)}(r=xM(e,r),e,n).pipe(oe(o=>!0===o?s:{...nv})):U(s)}function rv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...nv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ez)(n,t,e);if(!i)return{...nv};const s={};It(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function uh(t,e,n,r){if(n.length>0&&function Cq(t,e,n){return n.some(r=>ch(t,e,r)&&Nn(r)!==J)}(t,n,r)){const s=new ie(e,function Dq(t,e,n,r){const i={};i[J]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Nn(s)!==J){const o=new ie([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Nn(s)]=o}return i}(t,e,r,new ie(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function Eq(t,e,n){return n.some(r=>ch(t,e,r))}(t,n,r)){const s=new ie(t.segments,function wq(t,e,n,r,i){const s={};for(const o of r)if(ch(t,n,o)&&!i[Nn(o)]){const a=new ie([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[Nn(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new ie(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function ch(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function OM(t,e,n,r){return!!(Nn(t)===r||r!==J&&ch(e,n,t))&&("**"===t.path||rv(e,t,n).matched)}function FM(t,e,n){return 0===e.length&&!t.children[n]}const lh=!1;class dh{constructor(e){this.segmentGroup=e||null}}class PM{constructor(e){this.urlTree=e}}function zu(t){return Nu(new dh(t))}function kM(t){return Nu(new PM(t))}class Tq{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=uh(this.urlTree.root,[],[],this.config).segmentGroup,n=new ie(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,J).pipe(oe(s=>this.createUrlTree(th(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vi(s=>{if(s instanceof PM)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof dh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,J).pipe(oe(i=>this.createUrlTree(th(i),e.queryParams,e.fragment))).pipe(vi(i=>{throw i instanceof dh?this.noMatchError(i):i}))}noMatchError(e){return new T(4002,lh)}createUrlTree(e,n,r){const i=Vy(e);return new wi(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(oe(s=>new ie([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return nt(i).pipe(ls(s=>{const o=r.children[s],a=AM(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(oe(u=>({segment:u,outlet:s})))}),YA((s,o)=>(s[o.outlet]=o.segment,s),{}),XA())}expandSegment(e,n,r,i,s,o){return nt(r).pipe(ls(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(vi(c=>{if(c instanceof dh)return U(null);throw c}))),yi(a=>!!a),vi((a,u)=>{if(tv(a))return FM(n,i,s)?U(new ie([],{})):zu(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return OM(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):zu(n):zu(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kM(s):this.lineralizeSegments(r,s).pipe(gt(o=>{const a=new ie(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=rv(n,i,s);if(!a)return zu(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?kM(d):this.lineralizeSegments(i,d).pipe(gt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=xM(r,e),r.loadChildren?(r._loadedRoutes?U({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(oe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ie(i,{})))):U(new ie(i,{}))):RM(n,r,i,e).pipe(lr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(gt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=uh(n,a,u,h),g=new ie(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(oe(v=>new ie(a,v)));if(0===h.length&&0===p.length)return U(new ie(a,{}));const m=Nn(r)===s;return this.expandSegment(d,g,h,p,m?J:s,!0).pipe(oe(C=>new ie(a.concat(C.segments),C.children)))})):zu(n)))}getChildConfig(e,n,r){return n.children?U({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?U({routes:n._loadedRoutes,injector:n._loadedInjector}):function vq(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?U(!0):U(i.map(o=>{const a=Bo(o,t);return _i(function iq(t){return t&&Gu(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Uo(),NM())}(e,n,r).pipe(gt(i=>i?this.configLoader.loadChildren(e,n).pipe(Lt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Iq(t){return Nu(IM(lh,3))}())):U({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return U(r);if(i.numberOfChildren>1||!i.children[J])return e.redirectTo,Nu(new T(4e3,lh));i=i.children[J]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new wi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return It(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return It(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,lh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class Aq{}class Rq{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=uh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,J).pipe(oe(n=>{if(null===n)return null;const r=new ih([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},J,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new qr(r,n),s=new CM(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=DM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return nt(Object.keys(r.children)).pipe(ls(i=>{const s=r.children[i],o=AM(n,i);return this.processSegmentGroup(e,o,s,i)}),YA((i,s)=>i&&s?(i.push(...s),i):null),function Z9(t,e=!1){return ut((n,r)=>{let i=0;n.subscribe(tt(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Kd(null),XA(),oe(i=>{if(null===i)return null;const s=VM(i);return function Oq(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return nt(n).pipe(ls(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),yi(o=>!!o),vi(o=>{if(tv(o))return FM(r,i,s)?U([]):U(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!OM(n,r,i,s))return U(null);let o;if("**"===n.path){const a=i.length>0?tM(i).parameters:{},u=UM(r)+i.length;o=U({snapshot:new ih(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jM(n),Nn(n),n.component??n._loadedComponent??null,n,BM(r),u,$M(n)),consumedSegments:[],remainingSegments:[]})}else o=RM(r,n,i,e).pipe(oe(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=UM(r)+u.length;return{snapshot:new ih(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jM(n),Nn(n),n.component??n._loadedComponent??null,n,BM(r),d,$M(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(lr(a=>{if(null===a)return U(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function Fq(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=uh(r,c,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(oe(m=>null===m?null:[new qr(u,m)]));if(0===h.length&&0===p.length)return U([new qr(u,[])]);const g=Nn(n)===s;return this.processSegment(d,h,f,p,g?J:s).pipe(oe(m=>null===m?null:[new qr(u,m)]))}))}}function Pq(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function VM(t){const e=[],n=new Set;for(const r of t){if(!Pq(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=VM(r.children);e.push(new qr(r.value,i))}return e.filter(r=>!n.has(r))}function BM(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function UM(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function jM(t){return t.data||{}}function $M(t){return t.resolve||{}}function HM(t){return"string"==typeof t.title||null===t.title}function iv(t){return lr(e=>{const n=t(e);return n?nt(n).pipe(oe(()=>e)):U(e)})}const jo=new L("ROUTES");let sv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ae(gT)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return U(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=_i(n.loadComponent()).pipe(oe(zM),Lt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Py(()=>{this.componentLoaders.delete(n)})),i=new KA(r,()=>new br).pipe(Oy());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(oe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=eM(u.get(jo,[],H.Self|H.Optional)));return{routes:c.map(ev),injector:u}}),Py(()=>{this.childrenLoaders.delete(r)})),o=new KA(s,()=>new br).pipe(Oy());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return _i(n()).pipe(oe(zM),gt(r=>r instanceof bS||Array.isArray(r)?U(r):nt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zM(t){return function Hq(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let fh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new br,this.configLoader=ae(sv),this.environmentInjector=ae(Or),this.urlSerializer=ae(Fu),this.rootContexts=ae(Uu),this.navigationId=0,this.afterPreactivation=()=>U(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Mz(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Az(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Gn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vu,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zr(r=>0!==r.id),oe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),lr(r=>{let i=!1,s=!1;return U(r).pipe(Lt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),lr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new rh(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Qn}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return qM(o.source)&&(n.browserUrlTree=o.extractedUrl),U(o).pipe(lr(l=>{const d=this.transitions?.getValue();return this.events.next(new $y(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Qn:Promise.resolve(l)}),function xq(t,e,n,r){return lr(i=>function Sq(t,e,n,r,i){return new Tq(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(oe(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Lt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function Lq(t,e,n,r,i){return gt(s=>function Nq(t,e,n,r,i,s,o="emptyOnly"){return new Rq(t,e,n,r,i,o,s).recognize().pipe(lr(a=>null===a?function Mq(t){return new qe(e=>e.error(t))}(new Aq):U(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(oe(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Lt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new bz(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new $y(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=wM(d,this.rootComponentType).snapshot;return U(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new rh(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Qn}}),Lt(o=>{const a=new Iz(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),oe(o=>r={...o,guards:Jz(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function lq(t,e){return gt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?U({...n,guardsResult:!0}):function dq(t,e,n,r){return nt(t).pipe(gt(i=>function yq(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?U(s.map(a=>{const u=ju(e)??i,c=Bo(a,u);return _i(function aq(t){return t&&Gu(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(yi())})).pipe(Uo()):U(!0)}(i.component,i.route,n,e,r)),yi(i=>!0!==i,!0))}(o,r,i,t).pipe(gt(a=>a&&function rq(t){return"boolean"==typeof t}(a)?function hq(t,e,n,r){return nt(e).pipe(ls(i=>Wd(function pq(t,e){return null!==t&&e&&e(new Nz(t)),U(!0)}(i.route.parent,r),function fq(t,e){return null!==t&&e&&e(new Oz(t)),U(!0)}(i.route,r),function mq(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function eq(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>WA(()=>U(o.guards.map(u=>{const c=ju(o.node)??n,l=Bo(u,c);return _i(function oq(t){return t&&Gu(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(yi())})).pipe(Uo())));return U(s).pipe(Uo())}(t,i.path,n),function gq(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return U(!0);const i=r.map(s=>WA(()=>{const o=ju(e)??n,a=Bo(s,o);return _i(function sq(t){return t&&Gu(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(yi())}));return U(i).pipe(Uo())}(t,i.route,n))),yi(i=>!0!==i,!0))}(r,s,t,e):U(a)),oe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Lt(o=>{if(r.guardsResult=o.guardsResult,hs(o.guardsResult))throw bM(0,o.guardsResult);const a=new Sz(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),zr(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),iv(o=>{if(o.guards.canActivateChecks.length)return U(o).pipe(Lt(a=>{const u=new Tz(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),lr(a=>{let u=!1;return U(a).pipe(function Vq(t,e){return gt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return U(n);let s=0;return nt(i).pipe(ls(o=>function Bq(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!HM(i)&&(s[Ru]=i.title),function Uq(t,e,n,r){const i=function jq(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return U({});const s={};return nt(i).pipe(gt(o=>function $q(t,e,n,r){const i=ju(e)??r,s=Bo(t,i);return _i(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(yi(),Lt(a=>{s[o]=a}))),Fy(1),ZA(s),vi(o=>tv(o)?Qn:Nu(o)))}(s,t,e,r).pipe(oe(o=>(t._resolvedData=o,t.data=DM(t,n).resolve,i&&HM(i)&&(t.data[Ru]=i.title),null)))}(o.route,r,t,e)),Lt(()=>s++),Fy(1),gt(o=>s===i.length?U(n):Qn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Lt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Lt(a=>{const u=new xz(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),iv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Lt(l=>{u.component=l}),oe(()=>{})));for(const l of u.children)c.push(...a(l));return c};return zA(a(o.targetSnapshot.root)).pipe(Kd(),mi(1))}),iv(()=>this.afterPreactivation()),oe(o=>{const a=function $z(t,e,n){const r=Bu(t,e._root,n?n._root:void 0);return new _M(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Lt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>oe(r=>(new Zz(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),mi(1),Lt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new fs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Py(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vi(o=>{if(s=!0,TM(o)){SM(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new nh(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),SM(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||qM(r.source)};n.scheduleNavigation(u,Vu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Hy(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Qn}))}))}cancelNavigationTransition(n,r,i){const s=new nh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qM(t){return t!==Vu}let WM=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===J);return r}getResolvedTitleForRoute(n){return n.data[Ru]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ae(Gq)},providedIn:"root"}),t})(),Gq=(()=>{class t extends WM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(G(Px))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zq=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ae(Wq)},providedIn:"root"}),t})();class qq{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Wq=(()=>{class t extends qq{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=bt(t)))(r||t)}}(),t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ph=new L("",{providedIn:"root",factory:()=>({})});let Qq=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ae(Yq)},providedIn:"root"}),t})(),Yq=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Xq(t){throw t}function Zq(t,e,n){return e.parse("/")}const Jq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let an=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ae(I4),this.isNgZoneEnabled=!1,this.options=ae(ph,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Xq,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Zq,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ae(Qq),this.routeReuseStrategy=ae(zq),this.urlCreationStrategy=ae(Bz),this.titleStrategy=ae(WM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=eM(ae(jo,{optional:!0})??[]),this.navigationTransitions=ae(fh),this.urlSerializer=ae(Fu),this.location=ae(jm),this.isNgZoneEnabled=ae(Ke)instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wM(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vu,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(ev),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=hs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Vu,null,r)}navigate(n,r={skipLocationChange:!1}){return function t6(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new T(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Jq}:!1===r?{...e6}:r,hs(n))return rM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return rM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$o=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new br;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof fs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Mo(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Mo(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Mo(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function QE(t,e,n){return function C2(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?KE:WE}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(b(an),b(Vo),function Ml(t){return function WL(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(VC(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Et(),t)}("tabindex"),b(Fr),b(yn),b(as))},t.\u0275dir=q({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&lt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&or("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[In]}),t})();class KM{}let i6=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(zr(n=>n instanceof fs),ls(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=ud(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return nt(i).pipe(Hs())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):U(null);const s=i.pipe(gt(o=>null===o?U(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?nt([s,this.loader.loadComponent(r)]).pipe(Hs()):s})}}return t.\u0275fac=function(n){return new(n||t)(G(an),G(gT),G(Or),G(KM),G(sv))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const av=new L("");let QM=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $y?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof fs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Gy&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gy(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Sb(){throw new Error("invalid")}()},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();var _n=(()=>((_n=_n||{})[_n.COMPLETE=0]="COMPLETE",_n[_n.FAILED=1]="FAILED",_n[_n.REDIRECTING=2]="REDIRECTING",_n))();const Ho=!1;function Di(t,e){return{\u0275kind:t,\u0275providers:e}}const uv=new L("",{providedIn:"root",factory:()=>!1});function XM(){const t=ae(rr);return e=>{const n=t.get(gd);if(e!==n.components[0])return;const r=t.get(an),i=t.get(ZM);1===t.get(cv)&&r.initialNavigation(),t.get(JM,null,H.Optional)?.setUpPreloading(),t.get(av,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ZM=new L(Ho?"bootstrap done indicator":"",{factory:()=>new br}),cv=new L(Ho?"initial navigation":"",{providedIn:"root",factory:()=>1});function c6(){let t=[];return t=Ho?[{provide:jl,multi:!0,useFactory:()=>{const e=ae(an);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function Pz(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Di(1,t)}const JM=new L(Ho?"router preloader":"");function l6(t){return Di(0,[{provide:JM,useExisting:i6},{provide:KM,useExisting:t}])}const qu=!1,e1=new L(qu?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),d6=[jm,{provide:Fu,useClass:ky},an,Uu,{provide:Vo,useFactory:function YM(t){return t.routerState.root},deps:[an]},sv,qu?{provide:uv,useValue:!0}:[]];function h6(){return new ET("Router",an)}let t1=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[d6,qu&&r?.enableTracing?c6().\u0275providers:[],{provide:jo,multi:!0,useValue:n},{provide:e1,useFactory:m6,deps:[[an,new Ka,new Qa]]},{provide:ph,useValue:r||{}},r?.useHash?{provide:as,useClass:hH}:{provide:as,useClass:qT},{provide:av,useFactory:()=>{const t=ae(hx),e=ae(Ke),n=ae(ph),r=ae(fh),i=ae(Fu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new QM(i,r,t,e,n)}},r?.preloadingStrategy?l6(r.preloadingStrategy).\u0275providers:[],{provide:ET,multi:!0,useFactory:h6},r?.initialNavigation?y6(r):[],[{provide:n1,useFactory:XM},{provide:CT,multi:!0,useExisting:n1}]]}}static forChild(n){return{ngModule:t,providers:[{provide:jo,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(G(e1,8))},t.\u0275mod=Zn({type:t}),t.\u0275inj=On({imports:[Zy]}),t})();function m6(t){if(qu&&t)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function y6(t){return["disabled"===t.initialNavigation?Di(3,[{provide:hd,multi:!0,useFactory:()=>{const e=ae(an);return()=>{e.setUpLocationChangeListener()}}},{provide:cv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Di(2,[{provide:cv,useValue:0},{provide:hd,multi:!0,deps:[rr],useFactory:e=>{const n=e.get(lH,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(an),s=e.get(ZM);(function s6(t,e){t.events.pipe(zr(n=>n instanceof fs||n instanceof nh||n instanceof Hy||n instanceof rh),oe(n=>n instanceof fs||n instanceof rh?_n.COMPLETE:n instanceof nh&&(0===n.code||1===n.code)?_n.REDIRECTING:_n.FAILED),zr(n=>n!==_n.REDIRECTING),mi(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(fh).afterPreactivation=()=>(r(!0),s.closed?U(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const n1=new L(qu?"Router Initializer":"");function r1(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function S(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){r1(s,r,i,o,a,"next",u)}function a(u){r1(s,r,i,o,a,"throw",u)}o(void 0)})}}const i1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new E6;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gh=function(t){return function(t){const e=i1(t);return s1.encodeByteArray(e,!0)}(t).replace(/\./g,"")},mh=()=>{try{return function S6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&function(t){try{return s1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},a1=()=>{var t;return null===(t=mh())||void 0===t?void 0:t.config};class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function c1(){try{return"object"==typeof indexedDB}catch{return!1}}function l1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vh.prototype.create)}}class vh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function L6(t,e){return t.replace(V6,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ci(i,`${this.serviceName}: ${o} (${i}).`,r)}}const V6=/\{\$([^}]+)}/g;function wh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(h1(s)&&h1(o)){if(!wh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function h1(t){return null!==t&&"object"==typeof t}const j6=1e3,$6=2,H6=144e5,G6=.5;function f1(t,e=j6,n=$6){const r=e*Math.pow(n,t),i=Math.round(G6*r*(Math.random()-.5)*2);return Math.min(H6,r+i)}function Ei(t){return t&&t._delegate?t._delegate:t}class Wr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ps="[DEFAULT]";class q6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function K6(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return S(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ps?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const pv=[];var ge=(()=>{return(t=ge||(ge={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ge;var t})();const p1={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},Y6=ge.INFO,X6={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},Z6=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=X6[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class gv{constructor(e){this.name=e,this._logLevel=Y6,this._logHandler=Z6,this._userLogHandler=null,pv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?p1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const J6=(t,e)=>e.some(n=>t instanceof n);let g1,m1;const y1=new WeakMap,mv=new WeakMap,v1=new WeakMap,yv=new WeakMap,vv=new WeakMap;let _v={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return mv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||v1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function o5(t){return"function"==typeof t?function s5(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function t5(){return m1||(m1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(wv(this),e),bi(y1.get(this))}:function(...e){return bi(t.apply(wv(this),e))}:function(e,...n){const r=t.call(wv(this),e,...n);return v1.set(r,e.sort?e.sort():[e]),bi(r)}}(t):(t instanceof IDBTransaction&&function r5(t){if(mv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mv.set(t,e)}(t),J6(t,function e5(){return g1||(g1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_v):t)}function bi(t){if(t instanceof IDBRequest)return function n5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&y1.set(n,t)}).catch(()=>{}),vv.set(e,t),e}(t);if(yv.has(t))return yv.get(t);const e=o5(t);return e!==t&&(yv.set(t,e),vv.set(e,t)),e}const wv=t=>vv.get(t),u5=["get","getKey","getAll","getAllKeys","count"],c5=["put","add","delete","clear"],Dv=new Map;function _1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Dv.get(e))return Dv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=c5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!u5.includes(n))return;const s=function(){var o=S(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Dv.set(e,s),s}!function i5(t){_v=t(_v)}(t=>({...t,get:(e,n,r)=>_1(e,n)||t.get(e,n,r),has:(e,n)=>!!_1(e,n)||t.has(e,n)}));class l5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function d5(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Cv="@firebase/app",gs=new gv("@firebase/app"),Dh="[DEFAULT]",L5={[Cv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ms=new Map,Ch=new Map;function V5(t,e){try{t.container.addComponent(e)}catch(n){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ii(t){const e=t.name;if(Ch.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;Ch.set(e,t);for(const n of ms.values())V5(n,t);return!0}function Go(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Kr=new vh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class U5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}function D1(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Dh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Kr.create("bad-app-name",{appName:String(i)});if(n||(n=a1()),!n)throw Kr.create("no-options");const s=ms.get(i);if(s){if(wh(n,s.options)&&wh(r,s.config))return s;throw Kr.create("duplicate-app",{appName:i})}const o=new Q6(i);for(const u of Ch.values())o.addComponent(u);const a=new U5(n,r,o);return ms.set(i,a),a}function C1(t=Dh){const e=ms.get(t);if(!e&&t===Dh&&a1())return D1();if(!e)throw Kr.create("no-app",{appName:t});return e}function fr(t,e,n){var r;let i=null!==(r=L5[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void gs.warn(a.join(" "))}Ii(new Wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $5="firebase-heartbeat-database",H5=1,Wu="firebase-heartbeat-store";let bv=null;function E1(){return bv||(bv=function a5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(bi(o.result),u.oldVersion,u.newVersion,bi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}($5,H5,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Wu)}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),bv}function Iv(){return(Iv=S(function*(t){try{return yield(yield E1()).transaction(Wu).objectStore(Wu).get(I1(t))}catch(e){if(e instanceof Ci)gs.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e?.message});gs.warn(n.message)}}})).apply(this,arguments)}function b1(t,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=S(function*(t,e){try{const r=(yield E1()).transaction(Wu,"readwrite");yield r.objectStore(Wu).put(e,I1(t)),yield r.done}catch(n){if(n instanceof Ci)gs.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n?.message});gs.warn(r.message)}}})).apply(this,arguments)}function I1(t){return`${t.name}!${t.options.appId}`}class W5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return S(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=S1();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return S(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=S1(),{heartbeatsToSend:r,unsentEntries:i}=function K5(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),T1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),T1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=gh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function S1(){return(new Date).toISOString().substring(0,10)}class Q5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(function*(){return!!c1()&&l1().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return S(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function G5(t){return Iv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return S(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return b1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return S(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return b1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function T1(t){return gh(JSON.stringify({version:2,heartbeats:t})).length}!function Y5(t){Ii(new Wr("platform-logger",e=>new l5(e),"PRIVATE")),Ii(new Wr("heartbeat",e=>new W5(e),"PRIVATE")),fr(Cv,"0.9.13",t),fr(Cv,"0.9.13","esm2017"),fr("fire-js","")}("");var M,X5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zn={},Tv=Tv||{},Q=X5||self;function Eh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ku(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var xv="closure_uid_"+(1e9*Math.random()>>>0),J5=0;function e8(t,e,n){return t.call.apply(t.bind,arguments)}function t8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return(Vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e8:t8).apply(null,arguments)}function bh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Si(){this.s=this.s,this.o=this.o}Si.prototype.s=!1,Si.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Z5(t){Object.prototype.hasOwnProperty.call(t,xv)&&t[xv]||(t[xv]=++J5)}(this)},Si.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const x1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Av(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function A1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Eh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Bt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bt.prototype.h=function(){this.defaultPrevented=!0};var r8=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",()=>{},e),Q.removeEventListener("test",()=>{},e)}catch{}return t}();function Qu(t){return/^[\s\xa0]*$/.test(t)}function Ih(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function pr(t){return-1!=Ih().indexOf(t)}function Mv(t){return Mv[" "](t),t}Mv[" "]=function(){};var Rv,t,s8=pr("Opera"),zo=pr("Trident")||pr("MSIE"),M1=pr("Edge"),Nv=M1||zo,N1=pr("Gecko")&&!(-1!=Ih().toLowerCase().indexOf("webkit")&&!pr("Edge"))&&!(pr("Trident")||pr("MSIE"))&&!pr("Edge"),o8=-1!=Ih().toLowerCase().indexOf("webkit")&&!pr("Edge");function R1(){var t=Q.document;return t?t.documentMode:void 0}e:{var Ov="",Fv=(t=Ih(),N1?/rv:([^\);]+)(\)|;)/.exec(t):M1?/Edge\/([\d\.]+)/.exec(t):zo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):o8?/WebKit\/(\S+)/.exec(t):s8?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Fv&&(Ov=Fv?Fv[1]:""),zo){var Pv=R1();if(null!=Pv&&Pv>parseFloat(Ov)){Rv=String(Pv);break e}}Rv=Ov}var a8=Q.document&&zo&&(R1()||parseInt(Rv,10))||void 0;function Yu(t,e){if(Bt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(N1){e:{try{Mv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:u8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yu.$.h.call(this)}}mt(Yu,Bt);var u8={2:"touch",3:"pen",4:"mouse"};Yu.prototype.h=function(){Yu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xu="closure_listenable_"+(1e6*Math.random()|0),c8=0;function l8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++c8,this.fa=this.ia=!1}function Sh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Lv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function F1(t){const e={};for(const n in t)e[n]=t[n];return e}const P1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k1(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<P1.length;s++)n=P1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Th(t){this.src=t,this.g={},this.h=0}function Vv(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=x1(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Bv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Th.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Bv(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new l8(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Uv="closure_lm_"+(1e6*Math.random()|0),jv={};function L1(t,e,n,r,i){if(r&&r.once)return B1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)L1(t,e[s],n,r,i);return null}return n=zv(n),t&&t[Xu]?t.O(e,n,Ku(r)?!!r.capture:!!r,i):V1(t,e,n,!1,r,i)}function V1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ku(i)?!!i.capture:!!i,a=Hv(t);if(a||(t[Uv]=a=new Th(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function h8(){const e=f8;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)r8||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(j1(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function B1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)B1(t,e[s],n,r,i);return null}return n=zv(n),t&&t[Xu]?t.P(e,n,Ku(r)?!!r.capture:!!r,i):V1(t,e,n,!0,r,i)}function U1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)U1(t,e[s],n,r,i);else r=Ku(r)?!!r.capture:!!r,n=zv(n),t&&t[Xu]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Bv(s=t.g[e],n,r,i))&&(Sh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Hv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bv(e,n,r,i)),(n=-1<t?e[t]:null)&&$v(n))}function $v(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Xu])Vv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(j1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hv(e))?(Vv(n,t),0==n.h&&(n.src=null,e[Uv]=null)):Sh(t)}}}function j1(t){return t in jv?jv[t]:jv[t]="on"+t}function f8(t,e){if(t.fa)t=!0;else{e=new Yu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$v(t),t=n.call(r,e)}return t}function Hv(t){return(t=t[Uv])instanceof Th?t:null}var Gv="__closure_events_fn_"+(1e9*Math.random()>>>0);function zv(t){return"function"==typeof t?t:(t[Gv]||(t[Gv]=function(e){return t.handleEvent(e)}),t[Gv])}function yt(){Si.call(this),this.i=new Th(this),this.S=this,this.J=null}function St(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Bt(e,t);else if(e instanceof Bt)e.target=e.target||t;else{var i=e;k1(e=new Bt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=xh(o,r,!0,e)&&i}if(i=xh(o=e.g=t,r,!0,e)&&i,i=xh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=xh(o=e.g=n[s],r,!1,e)&&i}function xh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Vv(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}mt(yt,Si),yt.prototype[Xu]=!0,yt.prototype.removeEventListener=function(t,e,n,r){U1(this,t,e,n,r)},yt.prototype.N=function(){if(yt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sh(n[r]);delete t.g[e],t.h--}}this.J=null},yt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},yt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var qv=Q.JSON.stringify;function g8(){var t=Wv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $1=new class p8{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y8,t=>t.reset());class y8{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function v8(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function _8(t){Q.setTimeout(()=>{throw t},0)}let Zu,Ju=!1,Wv=new class m8{constructor(){this.h=this.g=null}add(e,n){const r=$1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},H1=()=>{const t=Q.Promise.resolve(void 0);Zu=()=>{t.then(w8)}};var w8=()=>{for(var t;t=g8();){try{t.h.call(t.g)}catch(n){_8(n)}var e=$1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ju=!1};function Ah(t,e){yt.call(this),this.h=t||1,this.g=e||Q,this.j=Vt(this.qb,this),this.l=Date.now()}function Kv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Qv(t,e,n){if("function"==typeof t)n&&(t=Vt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Vt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function G1(t){t.g=Qv(()=>{t.g=null,t.i&&(t.i=!1,G1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}mt(Ah,yt),(M=Ah.prototype).ga=!1,M.T=null,M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),St(this,"tick"),this.ga&&(Kv(this),this.start()))}},M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.N=function(){Ah.$.N.call(this),Kv(this),delete this.g};class D8 extends Si{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:G1(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ec(t){Si.call(this),this.h=t,this.g={}}mt(ec,Si);var z1=[];function q1(t,e,n,r){Array.isArray(n)||(n&&(z1[0]=n.toString()),n=z1);for(var i=0;i<n.length;i++){var s=L1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function W1(t){Lv(t.g,function(e,n){this.g.hasOwnProperty(n)&&$v(e)},t),t.g={}}function Mh(){this.g=!0}function qo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function I8(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return qv(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ec.prototype.N=function(){ec.$.N.call(this),W1(this)},ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mh.prototype.Ea=function(){this.g=!1},Mh.prototype.info=function(){};var ys={},K1=null;function Nh(){return K1=K1||new yt}function Q1(t){Bt.call(this,ys.Ta,t)}function tc(t){const e=Nh();St(e,new Q1(e))}function Y1(t,e){Bt.call(this,ys.STAT_EVENT,t),this.stat=e}function Qt(t){const e=Nh();St(e,new Y1(e,t))}function X1(t,e){Bt.call(this,ys.Ua,t),this.size=e}function nc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}ys.Ta="serverreachability",mt(Q1,Bt),ys.STAT_EVENT="statevent",mt(Y1,Bt),ys.Ua="timingevent",mt(X1,Bt);var Rh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Z1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yv(){}function eN(){}Yv.prototype.h=null;var Jv,rc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xv(){Bt.call(this,"d")}function Zv(){Bt.call(this,"c")}function Oh(){}function ic(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ec(this),this.P=S8,this.V=new Ah(t=Nv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tN}function tN(){this.i=null,this.g="",this.h=!1}mt(Xv,Bt),mt(Zv,Bt),mt(Oh,Yv),Oh.prototype.g=function(){return new XMLHttpRequest},Oh.prototype.i=function(){return{}},Jv=new Oh;var S8=45e3,e_={},Fh={};function t_(t,e,n){t.L=1,t.v=Vh(Qr(e)),t.s=n,t.S=!0,nN(t,null)}function nN(t,e){t.G=Date.now(),sc(t),t.A=Qr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),hN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new tN,t.g=kN(t.l,n?e:null,!t.s),0<t.O&&(t.M=new D8(Vt(t.Pa,t,t.g),t.O)),q1(t.U,t.g,"readystatechange",t.nb),e=t.I?F1(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),tc(),function C8(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function rN(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function iN(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=T8(t,n),i==Fh){4==e&&(t.o=4,Qt(14),r=!1),qo(t.j,t.m,null,"[Incomplete Response]");break}if(i==e_){t.o=4,Qt(15),qo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}qo(t.j,t.m,i,null),n_(t,i)}rN(t)&&i!=Fh&&i!=e_&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),c_(e),e.M=!0,Qt(11))):(qo(t.j,t.m,n,"[Invalid Chunked Response]"),vs(t),oc(t))}function T8(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Fh:(n=Number(e.substring(n,r)),isNaN(n)?e_:(r+=1)+n>e.length?Fh:(e=e.slice(r,r+n),t.C=r+n,e))}function sc(t){t.Y=Date.now()+t.P,sN(t,t.P)}function sN(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=nc(Vt(t.lb,t),e)}function Ph(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function oc(t){0==t.l.H||t.J||RN(t.l,t)}function vs(t){Ph(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Kv(t.V),W1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function n_(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||r_(n.i,t)))if(!t.K&&r_(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Gh(n),$h(n)}u_(n),Qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=nc(Vt(n.ib,n),6e3));if(1>=gN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ws(n,11)}else if((t.K||n.g==t)&&Gh(n),!Qu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(i_(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Re(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=PN(r,r.J?r.pa:null,r.Y),o.K){mN(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Ph(a),sc(a)),r.g=o}else MN(r);0<n.j.length&&Hh(n)}else"stop"!=c[0]&&"close"!=c[0]||ws(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ws(n,7):a_(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}tc()}catch{}}function oN(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Eh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function A8(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Eh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function x8(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Eh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(M=ic.prototype).setTimeout=function(t){this.P=t},M.nb=function(t){t=t.target;const e=this.M;e&&3==gr(t)?e.l():this.Pa(t)},M.Pa=function(t){try{if(t==this.g)e:{const l=gr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Nv||this.g&&(this.h.h||this.g.ja()||bN(this.g)))){this.J||4!=l||7==e||tc(),Ph(this);var n=this.g.da();this.ca=n;t:if(rN(this)){var r=bN(this.g);t="";var i=r.length,s=4==gr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),oc(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function E8(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qu(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Qt(12),vs(this),oc(this);break e}qo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,n_(this,n)}this.S?(iN(this,l,o),Nv&&this.i&&3==l&&(q1(this.U,this.V,"tick",this.mb),this.V.start())):(qo(this.j,this.m,o,null),n_(this,o)),4==l&&vs(this),this.i&&!this.J&&(4==l?RN(this.l,this):(this.i=!1,sc(this)))}else(function W8(t){const e={};t=(t.g&&2<=gr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Qu(t[r]))continue;var n=v8(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function d8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Qt(12)):(this.o=0,Qt(13)),vs(this),oc(this)}}}catch{}},M.mb=function(){if(this.g){var t=gr(this.g),e=this.g.ja();this.C<e.length&&(Ph(this),iN(this,t,e),this.i&&4!=t&&sc(this))}},M.cancel=function(){this.J=!0,vs(this)},M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function b8(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(tc(),Qt(17)),vs(this),this.o=2,oc(this)):sN(this,this.Y-t)};var aN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _s(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof _s){this.h=t.h,kh(this,t.j),this.s=t.s,this.g=t.g,Lh(this,t.m),this.l=t.l;var e=t.i,n=new cc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),uN(this,n),this.o=t.o}else t&&(e=String(t).match(aN))?(this.h=!1,kh(this,e[1]||"",!0),this.s=ac(e[2]||""),this.g=ac(e[3]||"",!0),Lh(this,e[4]),this.l=ac(e[5]||"",!0),uN(this,e[6]||"",!0),this.o=ac(e[7]||"")):(this.h=!1,this.i=new cc(null,this.h))}function Qr(t){return new _s(t)}function kh(t,e,n){t.j=n?ac(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Lh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function uN(t,e,n){e instanceof cc?(t.i=e,function k8(t,e){e&&!t.j&&(Ti(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(lN(this,r),hN(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=uc(e,F8)),t.i=new cc(e,t.h))}function Re(t,e,n){t.i.set(e,n)}function Vh(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ac(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,N8),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function N8(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_s.prototype.toString=function(){var t=[],e=this.j;e&&t.push(uc(e,cN,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(uc(e,cN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(uc(n,"/"==n.charAt(0)?O8:R8,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",uc(n,P8)),t.join("")};var cN=/[#\/\?@]/g,R8=/[#\?:]/g,O8=/[#\?]/g,F8=/[#\?@]/g,P8=/#/g;function cc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ti(t){t.g||(t.g=new Map,t.h=0,t.i&&function M8(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function lN(t,e){Ti(t),e=Wo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dN(t,e){return Ti(t),e=Wo(t,e),t.g.has(e)}function hN(t,e,n){lN(t,e),0<n.length&&(t.i=null,t.g.set(Wo(t,e),Av(n)),t.h+=n.length)}function Wo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fN(t){this.l=t||V8,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=cc.prototype).add=function(t,e){Ti(this),this.i=null,t=Wo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},M.forEach=function(t,e){Ti(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},M.ta=function(){Ti(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},M.Z=function(t){Ti(this);let e=[];if("string"==typeof t)dN(this,t)&&(e=e.concat(this.g.get(Wo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},M.set=function(t,e){return Ti(this),this.i=null,dN(this,t=Wo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},M.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var V8=10;function pN(t){return!!t.h||!!t.g&&t.g.size>=t.j}function gN(t){return t.h?1:t.g?t.g.size:0}function r_(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function i_(t,e){t.g?t.g.add(e):t.h=e}function mN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function yN(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Av(t.i)}fN.prototype.cancel=function(){if(this.i=yN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var B8=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function U8(){this.g=new B8}function j8(t,e,n){const r=n||"";try{oN(t,function(i,s){let o=i;Ku(i)&&(o=qv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Bh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lc(t){this.l=t.fc||null,this.j=t.ob||!1}function Uh(t,e){yt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=s_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(lc,Yv),lc.prototype.g=function(){return new Uh(this.l,this.j)},lc.prototype.i=function(t){return function(){return t}}({}),mt(Uh,yt);var s_=0;function vN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function dc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,hc(t)}function hc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(M=Uh.prototype).open=function(t,e){if(this.readyState!=s_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,hc(this)},M.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dc(this)),this.readyState=s_},M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,hc(this)),this.g&&(this.readyState=3,hc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dc(this):hc(this),3==this.readyState&&vN(this)}},M.Za=function(t){this.g&&(this.response=this.responseText=t,dc(this))},M.Ya=function(t){this.g&&(this.response=t,dc(this))},M.ka=function(){this.g&&dc(this)},M.setRequestHeader=function(t,e){this.v.append(t,e)},M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Uh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var H8=Q.JSON.parse;function Ge(t){yt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_N,this.L=this.M=!1}mt(Ge,yt);var _N="",G8=/^https?$/i,z8=["POST","PUT"];function wN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,DN(t),jh(t)}function DN(t){t.F||(t.F=!0,St(t,"complete"),St(t,"error"))}function CN(t){if(t.h&&typeof Tv<"u"&&(!t.C[1]||4!=gr(t)||2!=t.da()))if(t.v&&4==gr(t))Qv(t.La,0,t);else if(St(t,"readystatechange"),4==gr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(aN)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!G8.test(i?i.toLowerCase():"")}n=r}if(n)St(t,"complete"),St(t,"success");else{t.m=6;try{var s=2<gr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",DN(t)}}finally{jh(t)}}}function jh(t,e){if(t.g){EN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||St(t,"ready");try{n.onreadystatechange=r}catch{}}}function EN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function gr(t){return t.g?t.g.readyState:0}function bN(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _N:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function IN(t){let e="";return Lv(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function o_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=IN(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Re(t,e,n))}function fc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function SN(t){this.Ga=0,this.j=[],this.l=new Mh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fc("baseRetryDelayMs",5e3,t),this.hb=fc("retryDelaySeedMs",1e4,t),this.eb=fc("forwardChannelMaxRetries",2,t),this.xa=fc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fN(t&&t.concurrentRequestLimit),this.Ja=new U8,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function a_(t){if(TN(t),3==t.H){var e=t.W++,n=Qr(t.I);if(Re(n,"SID",t.K),Re(n,"RID",e),Re(n,"TYPE","terminate"),pc(t,n),(e=new ic(t,t.l,e)).L=2,e.v=Vh(Qr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=kN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),sc(e)}FN(t)}function $h(t){t.g&&(c_(t),t.g.cancel(),t.g=null)}function TN(t){$h(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Gh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function Hh(t){if(!pN(t.i)&&!t.m){t.m=!0;var e=t.Na;Zu||H1(),Ju||(Zu(),Ju=!0),Wv.add(e,t),t.C=0}}function xN(t,e){var n;n=e?e.m:t.W++;const r=Qr(t.I);Re(r,"SID",t.K),Re(r,"RID",n),Re(r,"AID",t.V),pc(t,r),t.o&&t.s&&o_(r,t.o,t.s),n=new ic(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=AN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),i_(t.i,n),t_(n,r,e)}function pc(t,e){t.na&&Lv(t.na,function(n,r){Re(e,r,n)}),t.h&&oN({},function(n,r){Re(e,r,n)})}function AN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{j8(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function MN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Zu||H1(),Ju||(Zu(),Ju=!0),Wv.add(e,t),t.A=0}}function u_(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=nc(Vt(t.Ma,t),ON(t,t.A)),t.A++,0))}function c_(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function NN(t){t.g=new ic(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Qr(t.wa);Re(e,"RID","rpc"),Re(e,"SID",t.K),Re(e,"AID",t.V),Re(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Re(e,"TO",t.qa),Re(e,"TYPE","xmlhttp"),pc(t,e),t.o&&t.s&&o_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Vh(Qr(e)),n.s=null,n.S=!0,nN(n,t)}function Gh(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function RN(t,e){var n=null;if(t.g==e){Gh(t),c_(t),t.g=null;var r=2}else{if(!r_(t.i,e))return;n=e.F,mN(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;St(r=Nh(),new X1(r,n)),Hh(t)}else MN(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function K8(t,e){return!(gN(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=nc(Vt(t.Na,t,e),ON(t,t.C)),t.C++,0)))}(t,e)||2==r&&u_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ws(t,5);break;case 4:ws(t,10);break;case 3:ws(t,6);break;default:ws(t,2)}}function ON(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ws(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Vt(t.pb,t);n||(n=new _s("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||kh(n,"https"),Vh(n)),function $8(t,e){const n=new Mh;if(Q.Image){const r=new Image;r.onload=bh(Bh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bh(Bh,n,r,"TestLoadImage: error",!1,e),r.onabort=bh(Bh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bh(Bh,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qt(2);t.H=0,t.h&&t.h.za(e),FN(t),TN(t)}function FN(t){if(t.H=0,t.ma=[],t.h){const e=yN(t.i);(0!=e.length||0!=t.j.length)&&(A1(t.ma,e),A1(t.ma,t.j),t.i.i.length=0,Av(t.j),t.j.length=0),t.h.ya()}}function PN(t,e,n){var r=n instanceof _s?Qr(n):new _s(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Lh(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new _s(null);r&&kh(s,r),e&&(s.g=e),i&&Lh(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Re(r,n,e),Re(r,"VER",t.ra),pc(t,r),r}function kN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ge(n&&t.Ha&&!t.va?new lc({ob:!0}):t.va)).Oa(t.J),e}function LN(){}function zh(){if(zo&&!(10<=Number(a8)))throw Error("Environmental error: no available transport.")}function wn(t,e){yt.call(this),this.g=new SN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qu(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ko(this)}function VN(t){Xv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function BN(){Zv.call(this),this.status=1}function Ko(t){this.g=t}function qn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function l_(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function De(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(M=Ge.prototype).Oa=function(t){this.M=t},M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jv.g(),this.C=function J1(t){return t.h||(t.h=t.i())}(this.u?this.u:Jv),this.g.onreadystatechange=Vt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void wN(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=x1(z8,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EN(this),0<this.B&&((this.L=function q8(t){return zo&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.ua,this)):this.A=Qv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){wN(this,s)}},M.ua=function(){typeof Tv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))},M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,St(this,"complete"),St(this,"abort"),jh(this))},M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jh(this,!0)),Ge.$.N.call(this)},M.La=function(){this.s||(this.G||this.v||this.l?CN(this):this.kb())},M.kb=function(){CN(this)},M.isActive=function(){return!!this.g},M.da=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),H8(e)}},M.Ia=function(){return this.m},M.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=SN.prototype).ra=8,M.H=1,M.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ic(this,this.l,t);let s=this.s;if(this.U&&(s?(s=F1(s),k1(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=AN(this,i,e),Re(n=Qr(this.I),"RID",t),Re(n,"CVER",22),this.F&&Re(n,"X-HTTP-Session-Id",this.F),pc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(IN(s)))+"&"+e:this.o&&o_(n,this.o,s)),i_(this.i,i),this.bb&&Re(n,"TYPE","init"),this.P?(Re(n,"$req",e),Re(n,"SID","null"),i.aa=!0,t_(i,n,null)):t_(i,n,e),this.H=2}}else 3==this.H&&(t?xN(this,t):0==this.j.length||pN(this.i)||xN(this))},M.Ma=function(){if(this.u=null,NN(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=nc(Vt(this.jb,this),t)}},M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qt(10),$h(this),NN(this))},M.ib=function(){null!=this.v&&(this.v=null,$h(this),u_(this),Qt(19))},M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qt(2)):(this.l.info("Failed to ping google.com"),Qt(1))},M.isActive=function(){return!!this.h&&this.h.isActive(this)},(M=LN.prototype).Ba=function(){},M.Aa=function(){},M.za=function(){},M.ya=function(){},M.isActive=function(){return!0},M.Va=function(){},zh.prototype.g=function(t,e){return new wn(t,e)},mt(wn,yt),wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=PN(t,null,t.Y),Hh(t)},wn.prototype.close=function(){a_(this.g)},wn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=qv(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Hh(e)},wn.prototype.N=function(){this.g.h=null,delete this.j,a_(this.g),delete this.g,wn.$.N.call(this)},mt(VN,Xv),mt(BN,Zv),mt(Ko,LN),Ko.prototype.Ba=function(){St(this.g,"a")},Ko.prototype.Aa=function(t){St(this.g,new VN(t))},Ko.prototype.za=function(t){St(this.g,new BN)},Ko.prototype.ya=function(){St(this.g,"b")},mt(qn,function Q8(){this.blockSize=-1}),qn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)l_(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){l_(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){l_(this,r),i=0;break}}this.h=i,this.i+=e},qn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Y8={};function d_(t){return-128<=t&&128>t?function i8(t,e){var n=Y8;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new De([0|e],0>e?-1:0)}):new De([0|t],0>t?-1:0)}function mr(t){if(isNaN(t)||!isFinite(t))return Qo;if(0>t)return Tt(mr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=h_;return new De(e,0)}var h_=4294967296,Qo=d_(0),f_=d_(1),jN=d_(16777216);function Yr(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Rn(t){return-1==t.h}function Tt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new De(n,~t.h).add(f_)}function qh(t,e){return t.add(Tt(e))}function Wh(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function gc(t,e){this.g=t,this.h=e}function Kh(t,e){if(Yr(e))throw Error("division by zero");if(Yr(t))return new gc(Qo,Qo);if(Rn(t))return e=Kh(Tt(t),e),new gc(Tt(e.g),Tt(e.h));if(Rn(e))return e=Kh(t,Tt(e)),new gc(Tt(e.g),e.h);if(30<t.g.length){if(Rn(t)||Rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=f_,r=e;0>=r.X(t);)n=$N(n),r=$N(r);var i=Yo(n,1),s=Yo(r,1);for(r=Yo(r,2),n=Yo(n,2);!Yr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Yo(r,1),n=Yo(n,1)}return e=qh(t,i.R(e)),new gc(i,e)}for(i=Qo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=mr(n)).R(e);Rn(o)||0<o.X(t);)o=(s=mr(n-=r)).R(e);Yr(s)&&(s=f_),i=i.add(s),t=qh(t,o)}return new gc(i,t)}function $N(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new De(n,t.h)}function Yo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new De(i,t.h)}(M=De.prototype).ea=function(){if(Rn(this))return-Tt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:h_+r)*e,e*=h_}return t},M.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Yr(this))return"0";if(Rn(this))return"-"+Tt(this).toString(t);for(var e=mr(Math.pow(t,6)),n=this,r="";;){var i=Kh(n,e).g,s=((0<(n=qh(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Yr(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},M.X=function(t){return Rn(t=qh(this,t))?-1:Yr(t)?0:1},M.abs=function(){return Rn(this)?Tt(this):this},M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new De(n,-2147483648&n[n.length-1]?-1:0)},M.R=function(t){if(Yr(this)||Yr(t))return Qo;if(Rn(this))return Rn(t)?Tt(this).R(Tt(t)):Tt(Tt(this).R(t));if(Rn(t))return Tt(this.R(Tt(t)));if(0>this.X(jN)&&0>t.X(jN))return mr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Wh(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Wh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Wh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Wh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new De(n,0)},M.gb=function(t){return Kh(this,t).h},M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new De(n,this.h&t.h)},M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new De(n,this.h|t.h)},M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new De(n,this.h^t.h)},zh.prototype.createWebChannel=zh.prototype.g,wn.prototype.send=wn.prototype.u,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Rh.NO_ERROR=0,Rh.TIMEOUT=8,Rh.HTTP_ERROR=6,Z1.COMPLETE="complete",eN.EventType=rc,rc.OPEN="a",rc.CLOSE="b",rc.ERROR="c",rc.MESSAGE="d",yt.prototype.listen=yt.prototype.O,Ge.prototype.listenOnce=Ge.prototype.P,Ge.prototype.getLastError=Ge.prototype.Sa,Ge.prototype.getLastErrorCode=Ge.prototype.Ia,Ge.prototype.getStatus=Ge.prototype.da,Ge.prototype.getResponseJson=Ge.prototype.Wa,Ge.prototype.getResponseText=Ge.prototype.ja,Ge.prototype.send=Ge.prototype.ha,Ge.prototype.setWithCredentials=Ge.prototype.Oa,qn.prototype.digest=qn.prototype.l,qn.prototype.reset=qn.prototype.reset,qn.prototype.update=qn.prototype.j,De.prototype.add=De.prototype.add,De.prototype.multiply=De.prototype.R,De.prototype.modulo=De.prototype.gb,De.prototype.compare=De.prototype.X,De.prototype.toNumber=De.prototype.ea,De.prototype.toString=De.prototype.toString,De.prototype.getBits=De.prototype.D,De.fromNumber=mr,De.fromString=function UN(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Tt(UN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mr(Math.pow(e,8)),r=Qo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=mr(Math.pow(e,s)),r=r.R(s).add(mr(o))):r=(r=r.R(n)).add(mr(o))}return r};var X8=zn.createWebChannelTransport=function(){return new zh},Z8=zn.getStatEventTarget=function(){return Nh()},p_=zn.ErrorCode=Rh,J8=zn.EventType=Z1,e7=zn.Event=ys,HN=zn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},t7=zn.FetchXmlHttpFactory=lc,Qh=zn.WebChannel=eN,n7=zn.XhrIo=Ge,r7=zn.Md5=qn,Xo=zn.Integer=De;const GN="@firebase/firestore";class vt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");let Zo="9.23.0";const xi=new gv("@firebase/firestore");function g_(){return xi.logLevel}function I(t,...e){if(xi.logLevel<=ge.DEBUG){const n=e.map(m_);xi.debug(`Firestore (${Zo}): ${t}`,...n)}}function Xe(t,...e){if(xi.logLevel<=ge.ERROR){const n=e.map(m_);xi.error(`Firestore (${Zo}): ${t}`,...n)}}function Wn(t,...e){if(xi.logLevel<=ge.WARN){const n=e.map(m_);xi.warn(`Firestore (${Zo}): ${t}`,...n)}}function m_(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw Xe(e),new Error(e)}function P(t,e){t||F()}function A(t,e){return t}const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class E extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class zN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class s7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o7{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new ft;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ft,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(S(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ft)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(P("string"==typeof r.accessToken),new zN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new vt(e)}}class a7{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class u7{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new a7(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c7{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(P("string"==typeof n.token),this.T=n.token,new qN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function l7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class WN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=l7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class k{constructor(e){this.timestamp=e}static fromTimestamp(e){return new k(e)}static min(){return new k(new Ue(0,0))}static max(){return new k(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mc{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===mc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends mc{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new E(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const d7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends mc{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return d7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new E(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new E(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new E(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(fe.fromString(e))}static fromName(e){return new x(fe.fromString(e).popFirst(5))}static empty(){return new x(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new fe(e.slice()))}}function YN(t){return new Dn(t.readTime,t.key,-1)}class Dn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dn(k.min(),x.empty(),-1)}static max(){return new Dn(k.max(),x.empty(),-1)}}function v_(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}const XN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ai(t){return __.apply(this,arguments)}function __(){return __=S(function*(t){if(t.code!==_.FAILED_PRECONDITION||t.message!==XN)throw t;I("LocalStore","Unexpectedly lost primary lease")}),__.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,r)=>{n(e)})}static reject(e){return new y((n,r)=>{r(e)})}static waitFor(e){return new y((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=y.resolve(!1);for(const r of e)n=n.next(i=>i?y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new y((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new y((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Mi(t){return"IndexedDbTransactionError"===t.name}let Cn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function _c(t){return null==t}function wc(t){return 0===t&&1/t==-1/0}function oR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class xe{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xt.RED,this.left=i??xt.EMPTY,this.right=s??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1,xt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new xt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uR(this.data.getIterator())}getIteratorFrom(e){return new uR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oe(this.comparator);return n.data=e,n}}class uR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class un{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new un([])}unionWith(e){let n=new Oe(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class cR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cR("Invalid base64 string: "+i):i}}(e);return new pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const L7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(P(!!t),"string"==typeof t){let e=0;const n=L7.exec(t);if(P(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Xr(t){return"string"==typeof t?pt.fromBase64String(t):pt.fromUint8Array(t)}function tf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nf(t){const e=t.mapValue.fields.__previous_value__;return tf(e)?nf(e):e}function Dc(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}class V7{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Es{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Es("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Es&&e.projectId===this.projectId&&e.database===this.database}}const Oi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tf(t)?4:fR(t)?9007199254740991:10:F()}function vr(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ri(r.timestampValue),o=Ri(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Xr(t.bytesValue).isEqual(Xr(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?wc(s)===wc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(oR(s)!==oR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!vr(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function Cc(t,e){return void 0!==(t.values||[]).find(n=>vr(n,e))}function Pi(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return lR(t.timestampValue,e.timestampValue);case 4:return lR(Dc(t),Dc(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Xr(i),a=Xr(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=K(o[u],a[u]);if(0!==c)return c}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(ze(i.latitude),ze(s.latitude));return 0!==o?o:K(ze(i.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Pi(o[u],a[u]);if(c)return c}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Oi.mapValue&&s===Oi.mapValue)return 0;if(i===Oi.mapValue)return 1;if(s===Oi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=K(a[l],c[l]);if(0!==d)return d;const h=Pi(o[a[l]],u[c[l]]);if(0!==h)return h}return K(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function lR(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=Ri(t),r=Ri(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function ta(t){return C_(t)}function C_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ri(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xr(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=C_(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${C_(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function bs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E_(t){return!!t&&"integerValue"in t}function Ec(t){return!!t&&"arrayValue"in t}function dR(t){return!!t&&"nullValue"in t}function hR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function af(t){return!!t&&"mapValue"in t}function bc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fR(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(n)}setAll(e){let n=Ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];af(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new At(bc(this.value))}}function mR(t){const e=[];return Ni(t.fields,(n,r)=>{const i=new Ze([n]);if(af(r)){const s=mR(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}class Fe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Fe(e,0,k.min(),k.min(),k.min(),At.empty(),0)}static newFoundDocument(e,n,r,i){return new Fe(e,1,n,k.min(),r,i,0)}static newNoDocument(e,n){return new Fe(e,2,n,k.min(),k.min(),At.empty(),0)}static newUnknownDocument(e,n){return new Fe(e,3,n,k.min(),k.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(k.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=k.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ki{constructor(e,n){this.position=e,this.inclusive=n}}function yR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Pi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function vR(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}class na{constructor(e,n="asc"){this.field=e,this.dir=n}}function j7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _R{}class ue extends _R{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new $7(e,n,r):"array-contains"===n?new z7(e,r):"in"===n?new IR(e,r):"not-in"===n?new q7(e,r):"array-contains-any"===n?new W7(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new H7(e,r):new G7(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Pi(n,this.value)):null!==n&&Fi(this.value)===Fi(n)&&this.matchesComparison(Pi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ce extends _R{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ce(e,n)}matches(e){return ra(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ra(t){return"and"===t.op}function I_(t){return function wR(t){for(const e of t.filters)if(e instanceof Ce)return!1;return!0}(t)&&ra(t)}function S_(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+ta(t.value);if(I_(t))return t.filters.map(e=>S_(e)).join(",");{const e=t.filters.map(n=>S_(n)).join(",");return`${t.op}(${e})`}}function DR(t,e){return t instanceof ue?(n=t,(r=e)instanceof ue&&n.op===r.op&&n.field.isEqual(r.field)&&vr(n.value,r.value)):t instanceof Ce?function(n,r){return r instanceof Ce&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&DR(s,r.filters[o]),!0)}(t,e):void F();var n,r}function ER(t){return t instanceof ue?`${(e=t).field.canonicalString()} ${e.op} ${ta(e.value)}`:t instanceof Ce?function(e){return e.op.toString()+" {"+e.getFilters().map(ER).join(" ,")+"}"}(t):"Filter";var e}class $7 extends ue{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class H7 extends ue{constructor(e,n){super(e,"in",n),this.keys=bR(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class G7 extends ue{constructor(e,n){super(e,"not-in",n),this.keys=bR(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bR(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class z7 extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ec(n)&&Cc(n.arrayValue,this.value)}}class IR extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Cc(this.value.arrayValue,n)}}class q7 extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Cc(this.value.arrayValue,n)}}class W7 extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ec(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}}class K7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function T_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new K7(t,e,n,r,i,s,o)}function Is(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>S_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),_c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ta(r)).join(",")),e.dt=n}return e.dt}function Ic(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vR(t.startAt,e.startAt)&&vR(t.endAt,e.endAt)}function uf(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Zr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function ia(t){return new Zr(t)}function AR(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function x_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function lf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function A_(t){return null!==t.collectionGroup}function Ss(t){const e=A(t);if(null===e.wt){e.wt=[];const n=lf(e),r=x_(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new na(n)),e.wt.push(new na(Ze.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new na(Ze.keyField(),s))}}}return e.wt}function Yt(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=T_(e.path,e.collectionGroup,Ss(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ss(e))n.push(new na(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ki(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ki(e.startAt.position,e.startAt.inclusive):null;e._t=T_(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function M_(t,e){e.getFirstInequalityField(),lf(t);const n=t.filters.concat([e]);return new Zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function df(t,e,n){return new Zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sc(t,e){return Ic(Yt(t),Yt(e))&&t.limitType===e.limitType}function MR(t){return`${Is(Yt(t))}|lt:${t.limitType}`}function N_(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>ER(r)).join(", ")}]`),_c(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ta(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ta(r)).join(",")),`Target(${n})`}(Yt(t))}; limitType=${t.limitType})`}function Tc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ss(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=yR(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ss(n),r)||n.endAt&&!function(i,s,o){const a=yR(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ss(n),r)));var n,r}function RR(t){return(e,n)=>{let r=!1;for(const i of Ss(t)){const s=Q7(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Q7(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Pi(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class Jr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return aR(this.inner)}size(){return this.innerSize}}const Y7=new xe(x.comparator);function cn(){return Y7}const OR=new xe(x.comparator);function xc(...t){let e=OR;for(const n of t)e=e.insert(n.key,n);return e}function FR(t){let e=OR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _r(){return Ac()}function PR(){return Ac()}function Ac(){return new Jr(t=>t.toString(),(t,e)=>t.isEqual(e))}const X7=new xe(x.comparator),Z7=new Oe(x.comparator);function ee(...t){let e=Z7;for(const n of t)e=e.add(n);return e}const J7=new Oe(K);function kR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function LR(t){return{integerValue:""+t}}function VR(t,e){return function JN(t){return"number"==typeof t&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?LR(e):kR(t,e)}class hf{constructor(){this._=void 0}}function eW(t,e,n){return t instanceof sa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&tf(i)&&(i=nf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ts?UR(t,e):t instanceof xs?jR(t,e):function(r,i){const s=BR(r,i),o=$R(s)+$R(r.gt);return E_(s)&&E_(r.gt)?LR(o):kR(r.serializer,o)}(t,e)}function tW(t,e,n){return t instanceof Ts?UR(t,e):t instanceof xs?jR(t,e):n}function BR(t,e){return t instanceof oa?E_(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class sa extends hf{}class Ts extends hf{constructor(e){super(),this.elements=e}}function UR(t,e){const n=HR(e);for(const r of t.elements)n.some(i=>vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class xs extends hf{constructor(e){super(),this.elements=e}}function jR(t,e){let n=HR(e);for(const r of t.elements)n=n.filter(i=>!vr(i,r));return{arrayValue:{values:n}}}class oa extends hf{constructor(e,n){super(),this.serializer=e,this.gt=n}}function $R(t){return ze(t.integerValue||t.doubleValue)}function HR(t){return Ec(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class rW{constructor(e,n){this.version=e,this.transformResults=n}}class Le{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Le}static exists(e){return new Le(void 0,e)}static updateTime(e){return new Le(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class pf{}function GR(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ua(t.key,Le.none()):new aa(t.key,t.data,Le.none());{const n=t.data,r=At.empty();let i=new Oe(Ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ei(t.key,r,new un(i.toArray()),Le.none())}}function iW(t,e,n){t instanceof aa?function(r,i,s){const o=r.value.clone(),a=WR(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ei?function(r,i,s){if(!ff(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=WR(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(qR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Nc(t,e,n,r){return t instanceof aa?function(i,s,o,a){if(!ff(i.precondition,s))return o;const u=i.value.clone(),c=KR(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ei?function(i,s,o,a){if(!ff(i.precondition,s))return o;const u=KR(i.fieldTransforms,a,s),c=s.data;return c.setAll(qR(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,ff(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function sW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=BR(r.transform,i||null);null!=s&&(null===n&&(n=At.empty()),n.set(r.field,s))}return n||null}function zR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Jo(n,r,(i,s)=>function nW(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ts&&r instanceof Ts||n instanceof xs&&r instanceof xs?Jo(n.elements,r.elements,vr):n instanceof oa&&r instanceof oa?vr(n.gt,r.gt):n instanceof sa&&r instanceof sa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class aa extends pf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ei extends pf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WR(t,e,n){const r=new Map;P(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,tW(o,a,n[i]))}return r}function KR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,eW(s,o,e))}return r}class ua extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O_ extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class F_{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iW(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=GR(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(k.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(n,r)=>zR(n,r))&&Jo(this.baseMutations,e.baseMutations,(n,r)=>zR(n,r))}}class P_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){P(e.mutations.length===r.length);let i=X7;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new P_(e,n,r,i)}}class k_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class aW{constructor(e,n){this.count=e,this.unchangedNames=n}}var ot,pe;function YR(t){if(void 0===t)return Xe("GRPC error has no .code"),_.UNKNOWN;switch(t){case ot.OK:return _.OK;case ot.CANCELLED:return _.CANCELLED;case ot.UNKNOWN:return _.UNKNOWN;case ot.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case ot.INTERNAL:return _.INTERNAL;case ot.UNAVAILABLE:return _.UNAVAILABLE;case ot.UNAUTHENTICATED:return _.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case ot.NOT_FOUND:return _.NOT_FOUND;case ot.ALREADY_EXISTS:return _.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return _.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case ot.ABORTED:return _.ABORTED;case ot.OUT_OF_RANGE:return _.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return _.UNIMPLEMENTED;case ot.DATA_LOSS:return _.DATA_LOSS;default:return F()}}(pe=ot||(ot={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class L_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return gf}static getOrCreateInstance(){return null===gf&&(gf=new L_),gf}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let gf=null;const uW=new Xo([4294967295,4294967295],0);function ZR(t){const e=function XR(){return new TextEncoder}().encode(t),n=new r7;return n.update(e),new Uint8Array(n.digest())}function JR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,s],0)]}class V_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rc(`Invalid padding: ${n}`);if(r<0)throw new Rc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Rc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Rc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Xo.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Xo.fromNumber(r)));return 1===i.compare(uW)&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=ZR(e),[r,i]=JR(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new V_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=ZR(e),[r,i]=JR(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Oc(k.min(),i,new xe(K),cn(),ee())}}class Fc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fc(r,n,ee(),ee(),ee())}}class mf{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class eO{constructor(e,n){this.targetId=e,this.Vt=n}}class tO{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nO{constructor(){this.St=0,this.Dt=iO(),this.Ct=pt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ee(),n=ee(),r=ee();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Fc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=iO()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class cW{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=cn(),this.zt=rO(),this.Wt=new xe(K)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(uf(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Fe.newNoDocument(a,k.min()))}else P(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=L_.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,w;const C={localCacheCount:l,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(C.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(m=v?.bits)||void 0===m?void 0:m.padding)&&void 0!==w?w:0}),C}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Xr(s).toUint8Array()}catch(l){if(l instanceof cR)return Wn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new V_(u,o,a)}catch(l){return Wn(l instanceof Rc?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&uf(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Fe.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ee();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Oc(e,n,this.Wt,this.jt,r);return this.jt=cn(),this.zt=rO(),this.Wt=new xe(K),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new nO,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Oe(K),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||I("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nO),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function rO(){return new xe(x.comparator)}function iO(){return new xe(x.comparator)}const lW={asc:"ASCENDING",desc:"DESCENDING"},dW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hW={and:"AND",or:"OR"};class fW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B_(t,e){return t.useProto3Json||_c(e)?e:{value:e}}function ca(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pW(t,e){return ca(t,e.toTimestamp())}function Je(t){return P(!!t),k.fromTimestamp(function(e){const n=Ri(e);return new Ue(n.seconds,n.nanos)}(t))}function U_(t,e){return(n=t,new fe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function oO(t){const e=fe.fromString(t);return P(gO(e)),e}function Pc(t,e){return U_(t.databaseId,e.path)}function wr(t,e){const n=oO(e);if(n.get(1)!==t.databaseId.projectId)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(uO(n))}function j_(t,e){return U_(t.databaseId,e)}function kc(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uO(t){return P(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function cO(t,e,n){return{name:Pc(t,e),fields:n.value.mapValue.fields}}function dO(t,e){return{documents:[j_(t,e.path)]}}function H_(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=j_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=j_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return pO(Ce.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Li((l=c).field),direction:_W(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=B_(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function hO(t){let e=function aO(t){const e=oO(t);return 4===e.length?fe.emptyPath():uO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){P(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=fO(l);return d instanceof Ce&&I_(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new na(la((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,_c(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ki((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ki(l.values||[],!l.before)}(n.endAt)),function xR(t,e,n,r,i,s,o,a){return new Zr(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function fO(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=la(e.unaryFilter.field);return ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=la(e.unaryFilter.field);return ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=la(e.unaryFilter.field);return ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=la(e.unaryFilter.field);return ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?ue.create(la((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ce.create(e.compositeFilter.filters.map(n=>fO(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function _W(t){return lW[t]}function wW(t){return dW[t]}function DW(t){return hW[t]}function Li(t){return{fieldPath:t.canonicalString()}}function la(t){return Ze.fromServerFormat(t.fieldPath)}function pO(t){return t instanceof ue?function(e){if("=="===e.op){if(hR(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NAN"}};if(dR(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hR(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NOT_NAN"}};if(dR(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Li(e.field),op:wW(e.op),value:e.value}}}(t):t instanceof Ce?function(e){const n=e.getFilters().map(r=>pO(r));return 1===n.length?n[0]:{compositeFilter:{op:DW(e.op),filters:n}}}(t):F()}function CW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ti{constructor(e,n,r,i,s=k.min(),o=k.min(),a=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mO{constructor(e){this.fe=e}}function G_(t){const e=hO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?df(e,e.limit,"L"):e}class Rs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),wc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Xr(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?fR(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Rs.Ve=new Rs;class NW{constructor(){this.rn=new Y_}addToCollectionParentIndex(e,n){return this.rn.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Dn.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Dn.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class Y_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Oe(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Oe(fe.comparator)).toArray()}}new Uint8Array(0);class jt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(41943040,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);class Fs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Fs(0)}static Mn(){return new Fs(-1)}}class LW{constructor(){this.changes=new Jr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $O{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Nc(r.mutation,i,un.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=_r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=xc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=cn();const o=Ac(),a=Ac();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ei)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Nc(l.mutation,c,l.mutation.getFieldMask(),Ue.now())):o.set(c.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new UW(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ac();let i=new xe((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||un.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=PR();l.forEach(h=>{if(!s.has(h)){const f=GR(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):A_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(_r());let a=-1,u=s;return o.next(c=>y.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:FR(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=xc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=xc();return this.indexManager.getCollectionParents(e,i).next(o=>y.forEach(o,a=>{const u=(c=n,l=a.child(i),new Zr(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Fe.newInvalidDocument(c)))});let o=xc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Nc(c.mutation,u,un.empty(),Ue.now()),Tc(n,u)&&(o=o.insert(a,u))}),o})}}class jW{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return y.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Je(r.createTime)}),y.resolve()}getNamedQuery(e,n){return y.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:G_(r.bundledQuery),readTime:Je(r.readTime)}),y.resolve();var r}}class $W{constructor(){this.overlays=new xe(x.comparator),this.ls=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_r();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){const i=_r(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=_r(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=_r(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return y.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new k_(n,r));let s=this.ls.get(n);void 0===s&&(s=ee(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class X_{constructor(){this.fs=new Oe(wt.ds),this.ws=new Oe(wt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new wt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new wt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new fe([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new fe([])),r=new wt(n,e),i=new wt(n,e+1);let s=ee();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||K(e.As,n.As)}static _s(e,n){return K(e.As,n.As)||x.comparator(e.key,n.key)}}class HW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Oe(wt.ds)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new F_(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oe(K);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),y.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new wt(new x(s),0);let a=new Oe(K);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),y.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){P(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return y.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new wt(n,0),i=this.Rs.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return y.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class GW{constructor(e){this.Ds=e,this.docs=new xe(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Fe.newInvalidDocument(n))}getEntries(e,n){let r=cn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fe.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||v_(YN(l),r)<=0||(i.has(l.key)||Tc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zW(this)}getSize(e){return y.resolve(this.size)}}class zW extends LW{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class qW{constructor(e){this.persistence=e,this.xs=new Jr(n=>Is(n),Ic),this.lastRemoteSnapshotVersion=k.min(),this.highestTargetId=0,this.Ns=0,this.ks=new X_,this.targetCount=0,this.Ms=Fs.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),y.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Fs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.Fn(n),y.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.ks.containsKey(n))}}class Z_{constructor(e,n){this.$s={},this.overlays={},this.Os=new Cn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new qW(this),this.indexManager=new NW,this.remoteDocumentCache=new GW(r=>this.referenceDelegate.Ls(r)),this.serializer=new mO(n),this.qs=new jW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $W,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new HW(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){I("MemoryPersistence","Starting transaction:",e);const i=new WW(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return y.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class WW extends p7{constructor(e){super(),this.currentSequenceNumber=e}}class If{constructor(e){this.persistence=e,this.Qs=new X_,this.js=null}static zs(e){return new If(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),y.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,k.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return y.or([()=>y.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class nw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nw(e,n.fromCache,r,i)}}class GO{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(AR(n))return y.resolve(null);let r=Yt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=df(n,null,"F"),r=Yt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,df(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return AR(n)||i.isEqual(k.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(g_()<=ge.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),N_(n)),this.Wi(e,o,n,function QN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=k.fromTimestamp(1e9===r?new Ue(n+1,0):new Ue(n,r));return new Dn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Oe(RR(e));return n.forEach((i,s)=>{Tc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return g_()<=ge.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",N_(n)),this.Ui.getDocumentsMatchingQuery(e,n,Dn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class QW{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new xe(K),this.Yi=new Jr(s=>Is(s),Ic),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $O(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function qO(t,e){return rw.apply(this,arguments)}function rw(){return rw=S(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),rw.apply(this,arguments)}function WO(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ZW(t,e){const n=A(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pa(t,e,n){return iw.apply(this,arguments)}function iw(){return iw=S(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Mi(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),iw.apply(this,arguments)}function xf(t,e,n){const r=A(t);let i=k.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.Yi.get(c);return void 0!==d?y.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Yt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:k.min(),n?s:ee())).next(a=>(function XO(t,e,n){let r=t.Xi.get(e)||k.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function NR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class cw{constructor(){this.activeTargetIds=function R_(){return J7}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eF{constructor(){this.Hr=new cw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new cw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tK{Yr(e){}shutdown(){}}class tF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Nf=null;function dw(){return null===Nf?Nf=268435456+Math.round(2147483648*Math.random()):Nf++,"0x"+Nf.toString(16)}const nK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rK{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const $t="WebChannelConnection";class iK extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=dw(),a=this.To(e,n);I("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(I("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Wn("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${nK[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=dw();return new Promise((o,a)=>{const u=new n7;u.setWithCredentials(!0),u.listenOnce(J8.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case p_.NO_ERROR:const l=u.getResponseJson();I($t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case p_.TIMEOUT:I($t,`RPC '${e}' ${s} timed out`),a(new E(_.DEADLINE_EXCEEDED,"Request time out"));break;case p_.HTTP_ERROR:const d=u.getStatus();if(I($t,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(m)>=0?m:_.UNKNOWN}(f.status);a(new E(p,f.message))}else a(new E(_.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new E(_.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{I($t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);I($t,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=dw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=X8(),a=Z8(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new t7({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");I($t,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new rK({ro:m=>{f?I($t,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(I($t,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),I($t,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,w,C)=>{m.listen(w,v=>{try{C(v)}catch(N){setTimeout(()=>{throw N},0)}})};return g(d,Qh.EventType.OPEN,()=>{f||I($t,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Qh.EventType.CLOSE,()=>{f||(f=!0,I($t,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Qh.EventType.ERROR,m=>{f||(f=!0,Wn($t,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new E(_.UNAVAILABLE,"The operation could not be completed")))}),g(d,Qh.EventType.MESSAGE,m=>{var w;if(!f){const C=m.data[0];P(!!C);const N=C.error||(null===(w=C[0])||void 0===w?void 0:w.error);if(N){I($t,`RPC '${e}' stream ${i} received error:`,N);const V=N.status;let W=function(js){const HP=ot[js];if(void 0!==HP)return YR(HP)}(V),Zt=N.message;void 0===W&&(W=_.INTERNAL,Zt="Unknown error status: "+V+" with message "+N.message),f=!0,p.wo(new E(W,Zt)),d.close()}else I($t,`RPC '${e}' stream ${i} received:`,C),p._o(C)}}),g(a,e7.STAT_EVENT,m=>{m.stat===HN.PROXY?I($t,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===HN.NOPROXY&&I($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Rf(){return typeof document<"u"?document:null}function qc(t){return new fW(t,!0)}class hw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class rF{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new hw(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return S(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return S(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return S(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(Xe(n.toString()),Xe("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===_.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new E(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(S(function*(){e.state=0,e.start()}))}tu(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sK extends rF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function mW(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(P(void 0===c||"string"==typeof c),pt.fromBase64String(c||"")):(P(void 0===c||c instanceof Uint8Array),pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?_.UNKNOWN:YR(u.code);return new E(c,u.message||"")}(o);n=new tO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=wr(t,r.document.name),s=Je(r.document.updateTime),o=r.document.createTime?Je(r.document.createTime):k.min(),a=new At({mapValue:{fields:r.document.fields}}),u=Fe.newFoundDocument(i,s,o,a);n=new mf(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=wr(t,r.document),s=r.readTime?Je(r.readTime):k.min(),o=Fe.newNoDocument(i,s);n=new mf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=wr(t,r.document);n=new mf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new aW(i,s);n=new eO(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return k.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?k.min():s.readTime?Je(s.readTime):k.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=kc(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=uf(a)?{documents:dO(i,a)}:{query:H_(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=sO(i,s.resumeToken);const u=B_(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(k.min())>0){o.readTime=ca(i,s.snapshotVersion.toTimestamp());const u=B_(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function vW(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=kc(this.serializer),n.removeTarget=e,this.Wo(n)}}class oK extends rF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function yW(t,e){return t&&t.length>0?(P(void 0!==e),t.map(n=>function(r,i){let s=Je(r.updateTime?r.updateTime:i);return s.isEqual(k.min())&&(s=Je(i)),new rW(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Je(e.commitTime);return this.listener.cu(r,n)}return P(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=kc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Lc(t,e){let n;if(e instanceof aa)n={update:cO(t,e.key,e.value)};else if(e instanceof ua)n={delete:Pc(t,e.key)};else if(e instanceof ei)n={update:cO(t,e.key,e.data),updateMask:CW(e.fieldMask)};else{if(!(e instanceof O_))return F();n={verify:Pc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof sa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ts)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof xs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof oa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:pW(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.serializer,r))};this.Wo(n)}}class aK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new E(_.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new E(_.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class cK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Xe(n),this.mu=!1):I("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class lK{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(S(function*(){var u;ji(o)&&(I("RemoteStore","Restarting streams for network reachability change."),yield(u=S(function*(c){const l=A(c);l.vu.add(4),yield ga(l),l.bu.set("Unknown"),l.vu.delete(4),yield Wc(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new cK(r,i)}}function Wc(t){return pw.apply(this,arguments)}function pw(){return pw=S(function*(t){if(ji(t))for(const e of t.Ru)yield e(!0)}),pw.apply(this,arguments)}function ga(t){return gw.apply(this,arguments)}function gw(){return gw=S(function*(t){for(const e of t.Ru)yield e(!1)}),gw.apply(this,arguments)}function Of(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),vw(n)?yw(n):ya(n).Ko()&&mw(n,e))}function Kc(t,e){const n=A(t),r=ya(n);n.Au.delete(e),r.Ko()&&iF(n,e),0===n.Au.size&&(r.Ko()?r.jo():ji(n)&&n.bu.set("Unknown"))}function mw(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(k.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ya(t).su(e)}function iF(t,e){t.Vu.qt(e),ya(t).iu(e)}function yw(t){t.Vu=new cW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ya(t).start(),t.bu.gu()}function vw(t){return ji(t)&&!ya(t).Uo()&&t.Au.size>0}function ji(t){return 0===A(t).vu.size}function sF(t){t.Vu=void 0}function dK(t){return _w.apply(this,arguments)}function _w(){return _w=S(function*(t){t.Au.forEach((e,n)=>{mw(t,e)})}),_w.apply(this,arguments)}function hK(t,e){return ww.apply(this,arguments)}function ww(){return ww=S(function*(t,e){sF(t),vw(t)?(t.bu.Iu(e),yw(t)):t.bu.set("Unknown")}),ww.apply(this,arguments)}function fK(t,e,n){return Dw.apply(this,arguments)}function Dw(){return Dw=S(function*(t,e,n){if(t.bu.set("Online"),e instanceof tO&&2===e.state&&e.cause)try{yield(r=S(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ff(t,r)}else if(e instanceof mf?t.Vu.Ht(e):e instanceof eO?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(k.min()))try{const r=yield WO(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(pt.EMPTY_BYTE_STRING,c.snapshotVersion)),iF(i,a);const l=new ti(c.target,a,u,c.sequenceNumber);mw(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){I("RemoteStore","Failed to raise snapshot:",r),yield Ff(t,r)}var r}),Dw.apply(this,arguments)}function Ff(t,e,n){return Cw.apply(this,arguments)}function Cw(){return Cw=S(function*(t,e,n){if(!Mi(e))throw e;t.vu.add(1),yield ga(t),t.bu.set("Offline"),n||(n=()=>WO(t.localStore)),t.asyncQueue.enqueueRetryable(S(function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Wc(t)}))}),Cw.apply(this,arguments)}function oF(t,e){return e().catch(n=>Ff(t,n,e))}function ma(t){return Ew.apply(this,arguments)}function Ew(){return Ew=S(function*(t){const e=A(t),n=$i(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;pK(e);)try{const i=yield ZW(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,gK(e,i)}catch(i){yield Ff(e,i)}aF(e)&&uF(e)}),Ew.apply(this,arguments)}function pK(t){return ji(t)&&t.Eu.length<10}function gK(t,e){t.Eu.push(e);const n=$i(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function aF(t){return ji(t)&&!$i(t).Uo()&&t.Eu.length>0}function uF(t){$i(t).start()}function mK(t){return bw.apply(this,arguments)}function bw(){return bw=S(function*(t){$i(t).hu()}),bw.apply(this,arguments)}function yK(t){return Iw.apply(this,arguments)}function Iw(){return Iw=S(function*(t){const e=$i(t);for(const n of t.Eu)e.uu(n.mutations)}),Iw.apply(this,arguments)}function vK(t,e,n){return Sw.apply(this,arguments)}function Sw(){return Sw=S(function*(t,e,n){const r=t.Eu.shift(),i=P_.from(r,e,n);yield oF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ma(t)}),Sw.apply(this,arguments)}function _K(t,e){return Tw.apply(this,arguments)}function Tw(){return Tw=S(function*(t,e){var n;e&&$i(t).ou&&(yield(n=S(function*(r,i){if(function QR(t){switch(t){default:return F();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}(s=i.code)&&s!==_.ABORTED){const o=r.Eu.shift();$i(r).Qo(),yield oF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ma(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),aF(t)&&uF(t)}),Tw.apply(this,arguments)}function cF(t,e){return xw.apply(this,arguments)}function xw(){return xw=S(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");const r=ji(n);n.vu.add(3),yield ga(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Wc(n)}),xw.apply(this,arguments)}function Mw(){return Mw=S(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield Wc(n)):e||(n.vu.add(2),yield ga(n),n.bu.set("Unknown"))}),Mw.apply(this,arguments)}function ya(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new sK(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:dK.bind(null,t),ao:hK.bind(null,t),nu:fK.bind(null,t)}),t.Ru.push(function(){var e=S(function*(n){n?(t.Su.Qo(),vw(t)?yw(t):t.bu.set("Unknown")):(yield t.Su.stop(),sF(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function $i(t){return t.Du||(t.Du=function(e,n,r){const i=A(e);return i.fu(),new oK(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:mK.bind(null,t),ao:_K.bind(null,t),au:yK.bind(null,t),cu:vK.bind(null,t)}),t.Ru.push(function(){var e=S(function*(n){n?(t.Du.Qo(),yield ma(t)):(yield t.Du.stop(),t.Eu.length>0&&(I("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class Nw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Nw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function va(t,e){if(Xe("AsyncQueue",`${e}: ${t}`),Mi(t))return new E(_.UNAVAILABLE,`${e}: ${t}`);throw t}class _a{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=xc(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new _a(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new _a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lF{constructor(){this.Cu=new xe(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class wa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wa(e,n,_a.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class wK{constructor(){this.Nu=void 0,this.listeners=[]}}class DK{constructor(){this.queries=new Jr(e=>MR(e),Sc),this.onlineState="Unknown",this.ku=new Set}}function Ow(){return Ow=S(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new wK),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=va(o,`Initialization of query '${N_(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&kw(n)}),Ow.apply(this,arguments)}function Pw(){return Pw=S(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Pw.apply(this,arguments)}function CK(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&kw(n)}function EK(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function kw(t){t.ku.forEach(e=>{e.next()})}class Lw{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class fF{constructor(e){this.key=e}}class pF{constructor(e){this.key=e}}class gF{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ee(),this.mutatedKeys=ee(),this.tc=RR(e),this.ec=new _a(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new lF,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Tc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new wa(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new lF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ee(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new pF(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new fF(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ee();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return wa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class SK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TK{constructor(e){this.key=e,this.fc=!1}}class xK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Jr(a=>MR(a),Sc),this._c=new Map,this.mc=new Set,this.gc=new xe(x.comparator),this.yc=new Map,this.Ic=new X_,this.Tc={},this.Ec=new Map,this.Ac=Fs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function AK(t,e){return Vw.apply(this,arguments)}function Vw(){return Vw=S(function*(t,e){const n=function aD(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RK.bind(null,e),e.dc.nu=CK.bind(null,e.eventManager),e.dc.Pc=EK.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function fa(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ti(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Yt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function Bw(t,e,n,r,i){return Uw.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Of(n.remoteStore,o)}return i}),Vw.apply(this,arguments)}function Uw(){return Uw=S(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=S(function*(g,m,w,C){let v=m.view.sc(w);v.zi&&(v=yield xf(g.localStore,m.query,!1).then(({documents:W})=>m.view.sc(W,v)));const N=C&&C.targetChanges.get(m.targetId),V=m.view.applyChanges(v,g.isPrimaryClient,N);return Yw(g,m.targetId,V.cc),V.snapshot}),function(g,m,w,C){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield xf(t.localStore,e,!0),o=new gF(e,s.ir),a=o.sc(s.documents),u=Fc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);Yw(t,n,c.cc);const l=new SK(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),Uw.apply(this,arguments)}function MK(t,e){return jw.apply(this,arguments)}function jw(){return jw=S(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Sc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Kc(n.remoteStore,r.targetId),Da(n,r.targetId)}).catch(Ai))):(Da(n,r.targetId),yield pa(n.localStore,r.targetId,!0))}),jw.apply(this,arguments)}function $w(){return $w=S(function*(t,e,n){const r=function uD(t){const e=A(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FK.bind(null,e),e}(t);try{const i=yield function(s,o){const a=A(s),u=Ue.now(),c=o.reduce((h,f)=>h.add(f.key),ee());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=cn(),p=ee();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,w)=>{w.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const w of o){const C=sW(w,l.get(w.key).overlayedDocument);null!=C&&m.push(new ei(w.key,C,mR(C.value.mapValue),Le.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:FR(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new xe(K)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ni(r,i.changes),yield ma(r.remoteStore)}catch(i){const s=va(i,"Failed to persist write");n.reject(s)}}),$w.apply(this,arguments)}function mF(t,e){return Hw.apply(this,arguments)}function Hw(){return Hw=S(function*(t,e){const n=A(t);try{const r=yield function XW(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(pt.EMPTY_BYTE_STRING,k.min()).withLastLimboFreeSnapshotVersion(k.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=cn(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function KO(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=cn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(k.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(k.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(P(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?P(o.fc):i.removedDocuments.size>0&&(P(o.fc),o.fc=!1))}),yield ni(n,r,e)}catch(r){yield Ai(r)}}),Hw.apply(this,arguments)}function yF(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&kw(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function RK(t,e,n){return Gw.apply(this,arguments)}function Gw(){return Gw=S(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new xe(x.comparator);o=o.insert(s,Fe.newNoDocument(s,k.min()));const a=ee().add(s),u=new Oc(k.min(),new Map,new xe(K),o,a);yield mF(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),Xw(r)}else yield pa(r.localStore,e,!1).then(()=>Da(r,e,n)).catch(Ai)}),Gw.apply(this,arguments)}function OK(t,e){return zw.apply(this,arguments)}function zw(){return zw=S(function*(t,e){const n=A(t),r=e.batch.batchId;try{const i=yield function YW(t,e){const n=A(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=y.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);P(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Qw(n,r,null),Kw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ni(n,i)}catch(i){yield Ai(i)}}),zw.apply(this,arguments)}function FK(t,e,n){return qw.apply(this,arguments)}function qw(){return qw=S(function*(t,e,n){const r=A(t);try{const i=yield function(s,o){const a=A(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(P(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);Qw(r,e,n),Kw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ni(r,i)}catch(i){yield Ai(i)}}),qw.apply(this,arguments)}function Kw(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Qw(t,e,n){const r=A(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Da(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||vF(t,r)})}function vF(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Kc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Xw(t))}function Yw(t,e,n){for(const r of n)r instanceof fF?(t.Ic.addReference(r.key,e),kK(t,r)):r instanceof pF?(I("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||vF(t,r.key)):F()}function kK(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(I("SyncEngine","New document in limbo: "+n),t.mc.add(r),Xw(t))}function Xw(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(fe.fromString(e)),r=t.Ac.next();t.yc.set(r,new TK(n)),t.gc=t.gc.insert(n,r),Of(t.remoteStore,new ti(Yt(ia(n.path)),r,"TargetPurposeLimboResolution",Cn.ct))}}function ni(t,e,n){return Zw.apply(this,arguments)}function Zw(){return Zw=S(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=nw.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=S(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(c,h=>y.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>y.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Mi(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),Zw.apply(this,arguments)}function LK(t,e){return Jw.apply(this,arguments)}function Jw(){return Jw=S(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());const r=yield qO(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new E(_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ni(n,r.er)}var i}),Jw.apply(this,arguments)}function VK(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return ee().add(r.key);{let i=ee();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Pf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return S(function*(){n.serializer=qc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function zO(t,e,n,r){return new QW(t,e,n,r)}(this.persistence,new GO,e.initialUser,this.serializer)}createPersistence(e){return new Z_(If.zs,this.serializer)}createSharedClientState(e){return new eF}terminate(){var e=this;return S(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ca{initialize(e,n){var r=this;return S(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>yF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=LK.bind(null,r.syncEngine),yield function Aw(t,e){return Mw.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new DK}createDatastore(e){const n=qc(e.databaseInfo.databaseId),r=new iK(e.databaseInfo);return new aK(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>yF(this.syncEngine,a,0),o=tF.D()?new tF:new tK,new lK(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new xK(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=S(function*(n){const r=A(n);I("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ga(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class kf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Xe("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class XK{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=WN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=S(function*(a){I("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(I("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return S(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(S(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=va(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Lf(t,e){return cD.apply(this,arguments)}function cD(){return cD=S(function*(t,e){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=S(function*(s){r.isEqual(s)||(yield qO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),cD.apply(this,arguments)}function lD(t,e){return dD.apply(this,arguments)}function dD(){return dD=S(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function hD(t){return fD.apply(this,arguments)}(t);I("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>cF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>cF(e.remoteStore,s)),t._onlineComponents=e}),dD.apply(this,arguments)}function fD(){return fD=S(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function bF(t){return"FirebaseError"===t.name?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Wn("Error using user provided cache. Falling back to memory cache: "+n),yield Lf(t,new Pf)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield Lf(t,new Pf);return t._offlineComponents}),fD.apply(this,arguments)}function Vf(t){return pD.apply(this,arguments)}function pD(){return pD=S(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield lD(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield lD(t,new Ca))),t._onlineComponents}),pD.apply(this,arguments)}function mD(){return mD=S(function*(t){const e=yield Vf(t),n=e.eventManager;return n.onListen=AK.bind(null,e.syncEngine),n.onUnlisten=MK.bind(null,e.syncEngine),n}),mD.apply(this,arguments)}function AF(t,e,n={}){const r=new ft;return t.asyncQueue.enqueueAndForget(S(function*(){return function(i,s,o,a,u){const c=new kf({next:d=>{s.enqueueAndForget(()=>function Fw(t,e){return Pw.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new E(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new Lw(o,c,{includeMetadataChanges:!0,Ku:!0});return function Rw(t,e){return Ow.apply(this,arguments)}(i,l)}(yield function Ea(t){return mD.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function MF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const NF=new Map;function yD(t,e,n){if(!n)throw new E(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RF(t){if(!x.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OF(t){if(x.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Uf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uf(t);throw new E(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class PF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new E(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new E(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function oQ(t,e,n,r){if(!0===e&&!0===r)throw new E(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=MF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new i7;switch(n.type){case"firstParty":return new u7(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new E(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=NF.get(e);n&&(I("ComponentProvider","Removing Datastore"),NF.delete(e),n.terminate())}(this),Promise.resolve()}}class et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}}class Mt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mt(this.firestore,e,this._query)}}class Dr extends Mt{constructor(e,n,r){super(e,n,ia(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new x(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}class lQ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new hw(this,"async_queue_retry"),this.Xc=()=>{const n=Rf();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Rf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Rf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ft;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return S(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Mi(n))throw n;I("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Xe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Nw.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return S(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Pe extends Qc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lQ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LF(this),this._firestoreClient.terminate()}}function at(t){return t._firestoreClient||LF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LF(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new V7(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,MF(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new XK(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(pt.fromBase64String(e))}catch(n){throw new E(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ba{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new E(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class UF{constructor(e){this._methodName=e}}class _D{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new E(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new E(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const pQ=/^__.*__$/;class gQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new aa(e,this.data,n,this.fieldTransforms)}}function $F(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class jf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new jf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Hf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($F(this.ca)&&pQ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class mQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qc(e)}ya(e,n,r,i=!1){return new jf({ca:e,methodName:n,ga:r,path:Ze.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ia(t){const e=t._freezeSettings(),n=qc(t._databaseId);return new mQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wD(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);CD("Data must be an object, but it was:",o,r);const a=WF(r,o);let u,c;if(s.merge)u=new un(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Zc(e,d,n);if(!o.contains(h))throw new E(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QF(l,h)||l.push(h)}u=new un(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new gQ(new At(a),u,c)}function Ls(t,e){if(KF(t=Ei(t)))return CD("Unsupported field value:",e,t),WF(t,e);if(t instanceof UF)return function(n,r){if(!$F(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ls(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ei(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return VR(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ue.fromDate(n);return{timestampValue:ca(r.serializer,i)}}if(n instanceof Ue){const i=new Ue(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ca(r.serializer,i)}}if(n instanceof _D)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ks)return{bytesValue:sO(r.serializer,n._byteString)};if(n instanceof et){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:U_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Uf(n)}`)}(t,e)}function WF(t,e){const n={};return aR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,i)=>{const s=Ls(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function KF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof _D||t instanceof ks||t instanceof et||t instanceof UF)}function CD(t,e,n){if(!KF(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Uf(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Zc(t,e,n){if((e=Ei(e))instanceof ba)return e._internalPath;if("string"==typeof e)return $f(t,e);throw Hf("Field path arguments must be of type string or ",t,!1,void 0,n)}const wQ=new RegExp("[~\\*/\\[\\]]");function $f(t,e,n){if(e.search(wQ)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ba(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new E(_.INVALID_ARGUMENT,a+t+u)}function QF(t,e){return t.some(n=>n.isEqual(e))}class ED{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new DQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class DQ extends ED{data(){return super.data()}}function Gf(t,e){return"string"==typeof e?$f(t,e):e instanceof ba?e._internalPath:e._delegate._internalPath}class bD{}class CQ extends bD{}class Jc extends CQ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jc(e,n,r)}_apply(e){const n=this._parse(e);return eP(e._query,n),new Mt(e.firestore,e.converter,M_(e._query,n))}_parse(e){const n=Ia(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new E(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){JF(l,c);const h=[];for(const f of l)h.push(ZF(a,i,f));d={arrayValue:{values:h}}}else d=ZF(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||JF(l,c),d=function qF(t,e,n,r=!1){return Ls(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return ue.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Sa extends bD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sa(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ce.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)eP(s,a),s=M_(s,a)}(e._query,n),new Mt(e.firestore,e.converter,M_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function ZF(t,e,n){if("string"==typeof(n=Ei(n))){if(""===n)throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A_(e)&&-1!==n.indexOf("/"))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!x.isDocumentKey(r))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bs(t,new x(r))}if(n instanceof et)return bs(t,n._key);throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uf(n)}.`)}function JF(t,e){if(!Array.isArray(t)||0===t.length)throw new E(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eP(t,e){if(e.isInequality()){const r=lf(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new E(_.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=x_(t);null!==s&&function tP(t,e,n){if(!n.isEqual(e))throw new E(_.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new E(_.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IQ{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ni(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new _D(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);P(gO(r));const i=new Es(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Xe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Vs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ta extends ED{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kf extends Ta{data(e={}){return super.data(e)}}class xa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kf(this._firestore,this._userDataWriter,r.key,r,new Vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new E(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Kf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Vs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Kf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Vs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:TQ(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Hi extends IQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}function AQ(t,e){const n=ce(t.firestore,Pe),r=function cQ(t,e,...n){if(t=Ei(t),1===arguments.length&&(e=WN.A()),yD("doc","path",e),t instanceof Qc){const r=fe.fromString(e,...n);return RF(r),new et(t,null,new x(r))}{if(!(t instanceof et||t instanceof Dr))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return RF(r),new et(t.firestore,t instanceof Dr?t.converter:null,new x(r))}}(t),i=function SD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function el(t,e){return function(n,r){const i=new ft;return n.asyncQueue.enqueueAndForget(S(function*(){return function NK(t,e,n){return $w.apply(this,arguments)}(yield function gD(t){return Vf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(at(t),e)}(n,[wD(Ia(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Le.exists(!1))]).then(()=>r)}!function(t,e=!0){Zo="9.23.0",Ii(new Wr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Pe(new o7(n.getProvider("auth-internal")),new c7(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new E(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Es(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),fr(GN,"3.13.0",t),fr(GN,"3.13.0","esm2017")}(),fr("firebase","9.23.0","app");const HQ=(t,e)=>e.some(n=>t instanceof n);let iP,sP;const oP=new WeakMap,xD=new WeakMap,aP=new WeakMap,AD=new WeakMap,MD=new WeakMap;let ND={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return xD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||aP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function YQ(t){return"function"==typeof t?function QQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zQ(){return sP||(sP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(RD(this),e),Gi(oP.get(this))}:function(...e){return Gi(t.apply(RD(this),e))}:function(e,...n){const r=t.call(RD(this),e,...n);return aP.set(r,e.sort?e.sort():[e]),Gi(r)}}(t):(t instanceof IDBTransaction&&function WQ(t){if(xD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xD.set(t,e)}(t),HQ(t,function GQ(){return iP||(iP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,ND):t)}function Gi(t){if(t instanceof IDBRequest)return function qQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oP.set(n,t)}).catch(()=>{}),MD.set(e,t),e}(t);if(AD.has(t))return AD.get(t);const e=YQ(t);return e!==t&&(AD.set(t,e),MD.set(e,t)),e}const RD=t=>MD.get(t),ZQ=["get","getKey","getAll","getAllKeys","count"],JQ=["put","add","delete","clear"],OD=new Map;function uP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(OD.get(e))return OD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ZQ.includes(n))return;const s=function(){var o=S(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return OD.set(e,s),s}!function KQ(t){ND=t(ND)}(t=>({...t,get:(e,n,r)=>uP(e,n)||t.get(e,n,r),has:(e,n)=>!!uP(e,n)||t.has(e,n)}));const cP="@firebase/installations",FD="0.6.4",lP=1e4,dP=`w:${FD}`,hP="FIS_v2",eY="https://firebaseinstallations.googleapis.com/v1",tY=36e5,ri=new vh("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fP(t){return t instanceof Ci&&t.code.includes("request-failed")}function PD({projectId:t}){return`${eY}/projects/${t}/installations`}function pP(t){return{token:t.token,requestStatus:2,expiresIn:sY(t.expiresIn),creationTime:Date.now()}}function kD(t,e){return LD.apply(this,arguments)}function LD(){return LD=S(function*(t,e){const r=(yield e.json()).error;return ri.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),LD.apply(this,arguments)}function gP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function VD(t){return BD.apply(this,arguments)}function BD(){return BD=S(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),BD.apply(this,arguments)}function sY(t){return Number(t.replace("s","000"))}function UD(){return UD=S(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=PD(t),i=gP(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:hP,appId:t.appId,sdkVersion:dP})},u=yield VD(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:pP(c.authToken)}}throw yield kD("Create Installation",u)}),UD.apply(this,arguments)}function yP(t){return new Promise(e=>{setTimeout(e,t)})}const cY=/^[cdef][\w-]{21}$/,jD="";function lY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function dY(t){return function uY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return cY.test(n)?n:jD}catch{return jD}}function Aa(t){return`${t.appName}!${t.appId}`}const Ma=new Map;function vP(t,e){const n=Aa(t);_P(n,e),function pY(t,e){const n=function wP(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=t=>{_P(t.data.key,t.data.fid)}),Bs}();n&&n.postMessage({key:t,fid:e}),function DP(){0===Ma.size&&Bs&&(Bs.close(),Bs=null)}()}(n,e)}function _P(t,e){const n=Ma.get(t);if(n)for(const r of n)r(e)}let Bs=null;const gY="firebase-installations-database",mY=1,Us="firebase-installations-store";let $D=null;function HD(){return $D||($D=function XQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Gi(o.result),u.oldVersion,u.newVersion,Gi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(gY,mY,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Us)}})),$D}function Yf(t,e){return GD.apply(this,arguments)}function GD(){return GD=S(function*(t,e){const n=Aa(t),i=(yield HD()).transaction(Us,"readwrite"),s=i.objectStore(Us),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&vP(t,e.fid),e}),GD.apply(this,arguments)}function zD(t){return qD.apply(this,arguments)}function qD(){return qD=S(function*(t){const e=Aa(t),r=(yield HD()).transaction(Us,"readwrite");yield r.objectStore(Us).delete(e),yield r.done}),qD.apply(this,arguments)}function tl(t,e){return WD.apply(this,arguments)}function WD(){return WD=S(function*(t,e){const n=Aa(t),i=(yield HD()).transaction(Us,"readwrite"),s=i.objectStore(Us),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&vP(t,a.fid),a}),WD.apply(this,arguments)}function KD(t){return QD.apply(this,arguments)}function QD(){return QD=S(function*(t){let e;const n=yield tl(t.appConfig,r=>{const i=function yY(t){return EP(t||{fid:lY(),registrationStatus:0})}(r),s=function vY(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ri.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function _Y(t,e){return YD.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:wY(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===jD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),QD.apply(this,arguments)}function YD(){return YD=S(function*(t,e){try{const n=yield function aY(t,e){return UD.apply(this,arguments)}(t,e);return Yf(t.appConfig,n)}catch(n){throw fP(n)&&409===n.customData.serverCode?yield zD(t.appConfig):yield Yf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),YD.apply(this,arguments)}function wY(t){return XD.apply(this,arguments)}function XD(){return XD=S(function*(t){let e=yield CP(t.appConfig);for(;1===e.registrationStatus;)yield yP(100),e=yield CP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield KD(t);return r||n}return e}),XD.apply(this,arguments)}function CP(t){return tl(t,e=>{if(!e)throw ri.create("installation-not-found");return EP(e)})}function EP(t){return function DY(t){return 1===t.registrationStatus&&t.registrationTime+lP<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function ZD(){return ZD=S(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function EY(t,{fid:e}){return`${PD(t)}/${e}/authTokens:generate`}(t,n),i=function mP(t,{refreshToken:e}){const n=gP(t);return n.append("Authorization",function oY(t){return`${hP} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:dP,appId:t.appId}})},u=yield VD(()=>fetch(r,a));if(u.ok)return pP(yield u.json());throw yield kD("Generate Auth Token",u)}),ZD.apply(this,arguments)}function JD(t){return e0.apply(this,arguments)}function e0(){return e0=S(function*(t,e=!1){let n;const r=yield tl(t.appConfig,s=>{if(!IP(s))throw ri.create("not-registered");const o=s.authToken;if(!e&&function SY(t){return 2===t.requestStatus&&!function TY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+tY}(t)}(o))return s;if(1===o.requestStatus)return n=function bY(t,e){return t0.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ri.create("app-offline");const a=function xY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function IY(t,e){return n0.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),e0.apply(this,arguments)}function t0(){return t0=S(function*(t,e){let n=yield bP(t.appConfig);for(;1===n.authToken.requestStatus;)yield yP(100),n=yield bP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?JD(t,e):r}),t0.apply(this,arguments)}function bP(t){return tl(t,e=>{if(!IP(e))throw ri.create("not-registered");return function AY(t){return 1===t.requestStatus&&t.requestTime+lP<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function n0(){return n0=S(function*(t,e){try{const n=yield function CY(t,e){return ZD.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Yf(t.appConfig,r),n}catch(n){if(!fP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Yf(t.appConfig,r)}else yield zD(t.appConfig);throw n}}),n0.apply(this,arguments)}function IP(t){return void 0!==t&&2===t.registrationStatus}function r0(){return r0=S(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield KD(e);return r?r.catch(console.error):JD(e).catch(console.error),n.fid}),r0.apply(this,arguments)}function s0(){return s0=S(function*(t,e=!1){const n=t;return yield function RY(t){return o0.apply(this,arguments)}(n),(yield JD(n,e)).token}),s0.apply(this,arguments)}function o0(){return o0=S(function*(t){const{registrationPromise:e}=yield KD(t);e&&(yield e)}),o0.apply(this,arguments)}function c0(t){return ri.create("missing-app-config-values",{valueName:t})}const SP="installations",LY=t=>{const e=t.getProvider("app").getImmediate(),n=function PY(t){if(!t||!t.options)throw c0("App Configuration");if(!t.name)throw c0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw c0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Go(e,"heartbeat"),_delete:()=>Promise.resolve()}},VY=t=>{const n=Go(t.getProvider("app").getImmediate(),SP).getImmediate();return{getId:()=>function MY(t){return r0.apply(this,arguments)}(n),getToken:i=>function NY(t){return s0.apply(this,arguments)}(n,i)}};(function BY(){Ii(new Wr(SP,LY,"PUBLIC")),Ii(new Wr("installations-internal",VY,"PRIVATE"))})(),fr(cP,FD),fr(cP,FD,"esm2017");const Xf="analytics",UY="firebase_id",jY="origin",$Y=6e4,HY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",l0="https://www.googletagmanager.com/gtag/js",Dt=new gv("@firebase/analytics"),Xt=new vh("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zY(t){if(!t.startsWith(l0)){const e=Xt.create("invalid-gtag-resource",{gtagURL:t});return Dt.warn(e.message),""}return t}function TP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function d0(){return d0=S(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield TP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Dt.error(a)}t("config",i,s)}),d0.apply(this,arguments)}function h0(){return h0=S(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield TP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Dt.error(s)}}),h0.apply(this,arguments)}const eX=30,xP=new class nX{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function rX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function f0(){return f0=S(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:rX(r)},s=HY.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Xt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),f0.apply(this,arguments)}function p0(){return p0=S(function*(t,e=xP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Xt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Xt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new uX;return setTimeout(S(function*(){a.abort()}),void 0!==n?n:$Y),AP({appId:r,apiKey:i,measurementId:s},o,a,e)}),p0.apply(this,arguments)}function AP(t,e,n){return g0.apply(this,arguments)}function g0(){return g0=S(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=xP){var s;const{appId:o,measurementId:a}=t;try{yield function oX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Xt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function iX(t){return f0.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function aX(t){if(!(t instanceof Ci&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?f1(n,i.intervalMillis,eX):f1(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Dt.debug(`Calling attemptFetch again in ${l} millis`),AP(t,d,r,i)}}),g0.apply(this,arguments)}class uX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let m0,E0;function y0(){return y0=S(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),y0.apply(this,arguments)}function b0(){return b0=S(function*(){if(!c1())return Dt.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield l1()}catch(t){return Dt.warn(Xt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),b0.apply(this,arguments)}function I0(){return I0=S(function*(t,e,n,r,i,s,o){var a;const u=function sX(t){return p0.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Dt.error(f)),e.push(u);const c=function gX(){return b0.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function JY(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(l0)&&n.src.includes(t))return n;return null})(s)||function WY(t,e){const n=function qY(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:zY}),r=document.createElement("script"),i=`${l0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),E0&&(i("consent","default",E0),function MP(t){E0=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[jY]="firebase",h.update=!0,null!=d&&(h[UY]=d),i("config",l.measurementId,h),m0&&(i("set",m0),function NP(t){m0=t}(void 0)),l.measurementId}),I0.apply(this,arguments)}class yX{constructor(e){this.app=e}_delete(){return delete Cr[this.app.options.appId],Promise.resolve()}}let Cr={},RP=[];const OP={};let PP,Er,Zf="dataLayer",FP="gtag",S0=!1;function _X(t,e,n){!function vX(){const t=[];if(function F6(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),function P6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:e});Dt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Xt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Xt.create("no-api-key");Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cr[r])throw Xt.create("already-exists",{id:r});if(!S0){!function KY(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Zf);const{wrappedGtag:s,gtagCore:o}=function ZY(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function XY(t,e,n,r){function s(){return s=S(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function YY(t,e,n,r,i){return h0.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function QY(t,e,n,r,i,s){return d0.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Dt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Cr,RP,OP,Zf,FP);Er=s,PP=o,S0=!0}return Cr[r]=function mX(t,e,n,r,i,s,o){return I0.apply(this,arguments)}(t,RP,OP,e,PP,Zf,n),new yX(t)}function kP(t,e,n,r){t=Ei(t),function cX(t,e,n,r,i){return y0.apply(this,arguments)}(Er,Cr[t.app.options.appId],e,n,r).catch(i=>Dt.error(i))}const LP="@firebase/analytics";!function CX(){Ii(new Wr(Xf,(e,{options:n})=>_X(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ii(new Wr("analytics-internal",function t(e){try{const n=e.getProvider(Xf).getImmediate();return{logEvent:(r,i,s)=>kP(n,r,i,s)}}catch(n){throw Xt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),fr(LP,"0.10.0"),fr(LP,"0.10.0","esm2017")}();let BP=(()=>{var t;class e{constructor(){this.app=D1(EX),this.analytics=function wX(t=C1()){const e=Go(t=Ei(t),Xf);return e.isInitialized()?e.getImmediate():function DX(t,e={}){const n=Go(t,Xf);if(n.isInitialized()){const i=n.getImmediate();if(wh(e,n.getOptions()))return i;throw Xt.create("already-initialized")}return n.initialize({options:e})}(t)}(this.app),this.firestore=function hQ(t,e){const r="string"==typeof t?t:e||"(default)",i=Go("object"==typeof t?t:C1(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=mh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function aQ(t,e,n,r={}){var i;const s=(t=ce(t,Qc))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Wn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=vt.MOCK_USER;else{a=function R6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gh(JSON.stringify({alg:"none",type:"JWT"})),gh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new E(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new vt(c)}t._authCredentials=new s7(new zN(a,u))}}(i,...s)}return i}(this.app),this.coursesCollection=function uQ(t,e,...n){if(t=Ei(t),yD("collection","path",e),t instanceof Qc){const r=fe.fromString(e,...n);return OF(r),new Dr(t,null,r)}{if(!(t instanceof et||t instanceof Dr))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return OF(r),new Dr(t.firestore,null,r)}}(this.firestore,"courses")}logIn(){}log(r,i=null){let s={url:window.location.href,device:window.navigator.userAgent,timestamp:(new Date).toISOString(),event:r};i&&(s.data=i),console.log("Sending Event to Analytics: ",s),kP(this.analytics,r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Jf=(()=>(function(t){t.PAGE_VIEW="PAGE_VIEW",t.LOGIN="login",t.SIGN_UP="sign_up"}(Jf||(Jf={})),Jf))();const EX={apiKey:"AIzaSyCKKFA4iBcqm_RaojG8mBCIwRwiP_caKCE",authDomain:"impulse-develop.firebaseapp.com",projectId:"impulse-develop",storageBucket:"impulse-develop.appspot.com",messagingSenderId:"946243191276",appId:"1:946243191276:web:eed8ce767fa1d458aa40c9",measurementId:"G-BDL31YG14K"};function bX(t,e){if(1&t&&(de(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),Ne(4),de(5,"i",12),Ne(6,"open_in_new"),he()(),de(7,"h6",13),Ne(8),he(),Vr(9,"p",14),he()()()),2&t){const n=e.$implicit;nr(4),rd(n.name),nr(1),Lr("routerLink",n.route),nr(3),rd(n.description)}}function IX(t,e){if(1&t){const n=function nI(){return D()}();de(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"h4",19),Ne(5,"New Course"),he(),de(6,"button",20),lt("click",function(){return Yi(n),Xi(ci().addCourseModal=!1)}),he()(),de(7,"div",21)(8,"div",22)(9,"div",23)(10,"input",24),lt("ngModelChange",function(i){return Yi(n),Xi(ci().course.name=i)}),he()(),de(11,"div",23)(12,"input",25),lt("ngModelChange",function(i){return Yi(n),Xi(ci().course.description=i)}),he()(),de(13,"div",23)(14,"input",26),lt("ngModelChange",function(i){return Yi(n),Xi(ci().course.category=i)}),he()(),de(15,"div",23)(16,"input",27),lt("ngModelChange",function(i){return Yi(n),Xi(ci().course.image=i)}),he()()()(),de(17,"div",28)(18,"button",29),lt("click",function(){return Yi(n),Xi(ci().addCourse())}),Ne(19,"Add"),he()()()()()}if(2&t){const n=ci();nr(10),Lr("ngModel",n.course.name),nr(2),Lr("ngModel",n.course.description),nr(2),Lr("ngModel",n.course.category),nr(2),Lr("ngModel",n.course.image)}}let SX=(()=>{var t;class e{constructor(r){this.firestore=r,this.addCourseModal=!1,this.course={name:"",description:"",image:"",category:"",active:!0},this.courses=[];const i=function EQ(t,e,...n){let r=[];e instanceof bD&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Sa).length,o=i.filter(a=>a instanceof Jc).length;if(s>1||s>0&&o>0)throw new E(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}(this.firestore.coursesCollection,function bQ(t,e,n){const r=e,i=Gf("where",t);return Jc._create(i,r,n)}("active","==",!0));(function xQ(t){t=ce(t,Mt);const e=ce(t.firestore,Pe),n=at(e),r=new Hi(e);return function YF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new E(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),AF(n,t._query).then(i=>new xa(e,r,t,i))})(i).then(s=>s.forEach(o=>{let a=o.data();this.courses.push(a)}))}addCourse(){console.log(this.course),this.validate()?AQ(this.firestore.coursesCollection,this.course).then(r=>{alert("Course has been added succesfully ID:"+r.id)}):alert("Please enter name, description, category")}validate(){return this.isNotEmpty(this.course.name)&&this.isNotEmpty(this.course.description)&&this.isNotEmpty(this.course.category)}isNotEmpty(r){return null!=r&&""!=r}}return(t=e).\u0275fac=function(r){return new(r||t)(b(BP))},t.\u0275cmp=oi({type:t,selectors:[["app-courses"]],decls:11,vars:2,consts:[[1,"row","m-0","px-2","r","text-center"],[1,"col-12","text-center"],[1,"text-right"],[1,"material-icons","pointer",3,"click"],[1,"container"],[1,"row","mt-3"],["class","col-md-4 col-sm-6 col-xs-12 m-0 p-2 h-100",4,"ngFor","ngForOf"],["class","modal extended",4,"ngIf"],[1,"col-md-4","col-sm-6","col-xs-12","m-0","p-2","h-100"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","fs-3","fw-bold","pointer"],[1,"material-icons","align-middle","mx-2","pointer","float-end",3,"routerLink"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"modal","extended"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","my-2"],["type","text","placeholder","Name",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Category",1,"form-control","x",3,"ngModel","ngModelChange"],["type","text","placeholder","Image URL",1,"form-control","x",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(de(0,"div",0)(1,"div",1)(2,"span"),Ne(3,"Courses"),he(),de(4,"span",2)(5,"i",3),lt("click",function(){return i.addCourseModal=!0}),Ne(6,"add"),he()()()(),de(7,"div",4)(8,"div",5),Wg(9,bX,10,3,"div",6),he()(),Wg(10,IX,20,4,"div",7)),2&r&&(nr(9),Lr("ngForOf",i.courses),nr(1),Lr("ngIf",i.addCourseModal))},dependencies:[sx,ax,$o,Pd,hA,Sy],styles:[".r[_ngcontent-%COMP%]{color:#fff;background-color:tomato;font-size:35px;font-weight:500}.modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}.form-control.x[_ngcontent-%COMP%]{width:90%}"]}),e})();const TX=[{path:"",component:(()=>{var t;class e{constructor(){this.isMobile=function(){let t=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t;var e}(),this.menu=!this.isMobile}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=oi({type:t,selectors:[["app-home"]],decls:4,vars:0,consts:[[1,"row","a"],[1,"text-center"]],template:function(r,i){1&r&&(de(0,"div",0)(1,"div",1),Ne(2," IMPULSE "),he(),Vr(3,"app-courses"),he())},dependencies:[SX],styles:[".a[_ngcontent-%COMP%]{height:70px;background-color:#6495ed}.a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:35px;font-weight:700;margin:10px;color:#fff}"]}),e})()},{path:"home",redirectTo:""},{path:"account",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=oi({type:t,selectors:[["app-account"]],decls:39,vars:0,consts:[[1,"bg1"],[1,"row","m-0","text-center","h"],[1,"he"],["src","assets/icons/vvsk-icon.png"],[1,"edit"],[1,"material-icons"],[1,"text-center"],[1,"name"],[1,"caption"],[1,"row","b"],[1,"pc"],["routerLink","home",1,"c"],["routerLink","assessments",1,"c"],["routerLink","notifications",1,"c"],["routerLink","profile",1,"c"],["routerLink","logout",1,"c"]],template:function(r,i){1&r&&(Vr(0,"div",0),de(1,"div",1)(2,"div",2),Vr(3,"img",3),de(4,"span",4)(5,"i",5),Ne(6,"edit"),he()(),de(7,"div",6)(8,"div",7),Ne(9,"V.V.S.K Chaitanya"),he(),de(10,"div",8),Ne(11,"Software Engineer"),he()()()(),de(12,"div",9)(13,"div",10)(14,"div",11)(15,"i",5),Ne(16,"menu_book"),he(),de(17,"span"),Ne(18,"Courses"),he()(),de(19,"div",12)(20,"i",5),Ne(21,"assignment"),he(),de(22,"span"),Ne(23,"Assessments"),he()(),de(24,"div",13)(25,"i",5),Ne(26,"notifications"),he(),de(27,"span"),Ne(28,"Notifications"),he()(),de(29,"div",14)(30,"i",5),Ne(31,"person"),he(),de(32,"span"),Ne(33,"Update Profile"),he()(),de(34,"div",15)(35,"i",5),Ne(36,"logout"),he(),de(37,"span"),Ne(38,"Logout"),he()()()())},dependencies:[$o],styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:80px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:30px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:100px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]{margin:40px 10px}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;box-shadow:0 .1rem .2rem #00000026;border-radius:5px;font-size:20px;font-weight:500}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:bottom;margin:0 10px 0 5px;display:inline-block;vertical-align:middle}.b[_ngcontent-%COMP%]   .pc[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]}),e})()},{path:"profile",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=oi({type:t,selectors:[["app-profile"]],decls:1,vars:0,consts:[[1,"row"]],template:function(r,i){1&r&&Vr(0,"div",0)},styles:[".bg1[_ngcontent-%COMP%]{background:cornflowerblue;border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;top:0;height:100px;width:100%;z-index:-1}.h[_ngcontent-%COMP%]{padding-top:50px}.h[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.h[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:relative;top:40px;color:#6495ed;border-radius:15px;cursor:pointer}.h[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.h[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),e})()}];let xX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=On({imports:[t1.forRoot(TX),t1]}),e})();class AX extends ln{constructor(e,n){super()}schedule(e,n=0){return this}}const ep={setInterval(t,e,...n){const{delegate:r}=ep;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ep;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},UP={now:()=>(UP.delegate||Date).now(),delegate:void 0};class nl{constructor(e,n=nl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}nl.now=UP.now;const jP=new class NX extends nl{constructor(e,n=nl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class MX extends AX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ep.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ep.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$s(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),RX=jP;function $P(t,e){return e?n=>Wd(e.pipe(mi(1),function OX(){return ut((t,e)=>{t.subscribe(tt(e,tp))})}()),n.pipe($P(t))):gt((n,r)=>dn(t(n,r)).pipe(mi(1),ZA(n)))}let LX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=oi({type:t,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"fo"],[1,"d-flex","justify-content-evenly"],["routerLink","home",1,"material-icons","pointer"],["routerLink","account",1,"material-icons","pointer"]],template:function(r,i){1&r&&(de(0,"div",0)(1,"div",1)(2,"div")(3,"i",2),Ne(4,"home"),he()(),de(5,"div")(6,"i",2),Ne(7,"dashboard"),he()(),de(8,"div")(9,"i",3),Ne(10,"person"),he()()()())},dependencies:[$o],styles:[".fo[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;padding:10px;width:100%;white-space:nowrap;background:cornflowerblue;color:#fff;font-size:20px;font-size:25px}"]}),e})(),VX=(()=>{var t;class e{constructor(r,i,s){this.firestore=r,this.firestore.log(Jf.PAGE_VIEW),this.handleScroll(i,s)}handleScroll(r,i){r.events.pipe(zr(s=>s instanceof Gy)).pipe(function kX(t,e=jP){const n=function PX(t=0,e,n=RX){let r=-1;return null!=e&&(X0(e)?n=e:r=e),new qe(i=>{let s=function FX(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,e);return $P(()=>n)}(1)).subscribe(s=>{s.position?i.scrollToPosition(s.position):s.anchor?i.scrollToAnchor(s.anchor):i.scrollToPosition([0,0])})}}return(t=e).\u0275fac=function(r){return new(r||t)(b(BP),b(an),b(hx))},t.\u0275cmp=oi({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&Vr(0,"router-outlet")(1,"app-footer")},dependencies:[Xy,LX],styles:[".modal.extended[_ngcontent-%COMP%]{top:100px;display:block}.modal.extended[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:floralwhite}"]}),e})(),BX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zn({type:t,bootstrap:[VX]}),t.\u0275inj=On({imports:[A3,xX,q9]}),e})();x3().bootstrapModule(BX).catch(t=>console.error(t))}},be=>{be(be.s=370)}]);